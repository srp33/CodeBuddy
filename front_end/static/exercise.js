"use strict";
(() => {
  var __create = Object.create;
  var __defProp = Object.defineProperty;
  var __defProps = Object.defineProperties;
  var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
  var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
  var __getOwnPropNames = Object.getOwnPropertyNames;
  var __getOwnPropSymbols = Object.getOwnPropertySymbols;
  var __getProtoOf = Object.getPrototypeOf;
  var __hasOwnProp = Object.prototype.hasOwnProperty;
  var __propIsEnum = Object.prototype.propertyIsEnumerable;
  var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
  var __spreadValues = (a3, b2) => {
    for (var prop in b2 || (b2 = {}))
      if (__hasOwnProp.call(b2, prop))
        __defNormalProp(a3, prop, b2[prop]);
    if (__getOwnPropSymbols)
      for (var prop of __getOwnPropSymbols(b2)) {
        if (__propIsEnum.call(b2, prop))
          __defNormalProp(a3, prop, b2[prop]);
      }
    return a3;
  };
  var __spreadProps = (a3, b2) => __defProps(a3, __getOwnPropDescs(b2));
  var __commonJS = (cb, mod) => function __require() {
    return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
  };
  var __copyProps = (to, from, except, desc) => {
    if (from && typeof from === "object" || typeof from === "function") {
      for (let key of __getOwnPropNames(from))
        if (!__hasOwnProp.call(to, key) && key !== except)
          __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
    }
    return to;
  };
  var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
    isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
    mod
  ));
  var __decorateClass = (decorators, target, key, kind) => {
    var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc(target, key) : target;
    for (var i6 = decorators.length - 1, decorator; i6 >= 0; i6--)
      if (decorator = decorators[i6])
        result = (kind ? decorator(target, key, result) : decorator(result)) || result;
    if (kind && result)
      __defProp(target, key, result);
    return result;
  };
  var __async = (__this, __arguments, generator) => {
    return new Promise((resolve, reject) => {
      var fulfilled = (value) => {
        try {
          step(generator.next(value));
        } catch (e10) {
          reject(e10);
        }
      };
      var rejected = (value) => {
        try {
          step(generator.throw(value));
        } catch (e10) {
          reject(e10);
        }
      };
      var step = (x2) => x2.done ? resolve(x2.value) : Promise.resolve(x2.value).then(fulfilled, rejected);
      step((generator = generator.apply(__this, __arguments)).next());
    });
  };

  // node_modules/ace-builds/src-noconflict/ace.js
  var require_ace = __commonJS({
    "node_modules/ace-builds/src-noconflict/ace.js"(exports, module) {
      (function() {
        var ACE_NAMESPACE = "ace";
        var global = function() {
          return this;
        }();
        if (!global && typeof window != "undefined")
          global = window;
        if (!ACE_NAMESPACE && typeof requirejs !== "undefined")
          return;
        var define2 = function(module2, deps, payload) {
          if (typeof module2 !== "string") {
            if (define2.original)
              define2.original.apply(this, arguments);
            else {
              console.error("dropping module because define wasn't a string.");
              console.trace();
            }
            return;
          }
          if (arguments.length == 2)
            payload = deps;
          if (!define2.modules[module2]) {
            define2.payloads[module2] = payload;
            define2.modules[module2] = null;
          }
        };
        define2.modules = {};
        define2.payloads = {};
        var _require = function(parentId, module2, callback) {
          if (typeof module2 === "string") {
            var payload = lookup(parentId, module2);
            if (payload != void 0) {
              callback && callback();
              return payload;
            }
          } else if (Object.prototype.toString.call(module2) === "[object Array]") {
            var params = [];
            for (var i6 = 0, l7 = module2.length; i6 < l7; ++i6) {
              var dep = lookup(parentId, module2[i6]);
              if (dep == void 0 && require3.original)
                return;
              params.push(dep);
            }
            return callback && callback.apply(null, params) || true;
          }
        };
        var require3 = function(module2, callback) {
          var packagedModule = _require("", module2, callback);
          if (packagedModule == void 0 && require3.original)
            return require3.original.apply(this, arguments);
          return packagedModule;
        };
        var normalizeModule = function(parentId, moduleName) {
          if (moduleName.indexOf("!") !== -1) {
            var chunks = moduleName.split("!");
            return normalizeModule(parentId, chunks[0]) + "!" + normalizeModule(parentId, chunks[1]);
          }
          if (moduleName.charAt(0) == ".") {
            var base = parentId.split("/").slice(0, -1).join("/");
            moduleName = base + "/" + moduleName;
            while (moduleName.indexOf(".") !== -1 && previous != moduleName) {
              var previous = moduleName;
              moduleName = moduleName.replace(/\/\.\//, "/").replace(/[^\/]+\/\.\.\//, "");
            }
          }
          return moduleName;
        };
        var lookup = function(parentId, moduleName) {
          moduleName = normalizeModule(parentId, moduleName);
          var module2 = define2.modules[moduleName];
          if (!module2) {
            module2 = define2.payloads[moduleName];
            if (typeof module2 === "function") {
              var exports2 = {};
              var mod = {
                id: moduleName,
                uri: "",
                exports: exports2,
                packaged: true
              };
              var req = function(module3, callback) {
                return _require(moduleName, module3, callback);
              };
              var returnValue = module2(req, exports2, mod);
              exports2 = returnValue || mod.exports;
              define2.modules[moduleName] = exports2;
              delete define2.payloads[moduleName];
            }
            module2 = define2.modules[moduleName] = exports2 || module2;
          }
          return module2;
        };
        function exportAce(ns) {
          var root = global;
          if (ns) {
            if (!global[ns])
              global[ns] = {};
            root = global[ns];
          }
          if (!root.define || !root.define.packaged) {
            define2.original = root.define;
            root.define = define2;
            root.define.packaged = true;
          }
          if (!root.require || !root.require.packaged) {
            require3.original = root.require;
            root.require = require3;
            root.require.packaged = true;
          }
        }
        exportAce(ACE_NAMESPACE);
      })();
      ace.define("ace/lib/es6-shim", ["require", "exports", "module"], function(require3, exports2, module2) {
        function defineProp(obj, name2, val) {
          Object.defineProperty(obj, name2, {
            value: val,
            enumerable: false,
            writable: true,
            configurable: true
          });
        }
        if (!String.prototype.startsWith) {
          defineProp(
            String.prototype,
            "startsWith",
            function(searchString, position) {
              position = position || 0;
              return this.lastIndexOf(searchString, position) === position;
            }
          );
        }
        if (!String.prototype.endsWith) {
          defineProp(String.prototype, "endsWith", function(searchString, position) {
            var subjectString = this;
            if (position === void 0 || position > subjectString.length) {
              position = subjectString.length;
            }
            position -= searchString.length;
            var lastIndex = subjectString.indexOf(searchString, position);
            return lastIndex !== -1 && lastIndex === position;
          });
        }
        if (!String.prototype.repeat) {
          defineProp(String.prototype, "repeat", function(count) {
            var result = "";
            var string = this;
            while (count > 0) {
              if (count & 1)
                result += string;
              if (count >>= 1)
                string += string;
            }
            return result;
          });
        }
        if (!String.prototype.includes) {
          defineProp(String.prototype, "includes", function(str, position) {
            return this.indexOf(str, position) != -1;
          });
        }
        if (!Object.assign) {
          Object.assign = function(target) {
            if (target === void 0 || target === null) {
              throw new TypeError("Cannot convert undefined or null to object");
            }
            var output = Object(target);
            for (var index = 1; index < arguments.length; index++) {
              var source = arguments[index];
              if (source !== void 0 && source !== null) {
                Object.keys(source).forEach(function(key) {
                  output[key] = source[key];
                });
              }
            }
            return output;
          };
        }
        if (!Object.values) {
          Object.values = function(o8) {
            return Object.keys(o8).map(function(k2) {
              return o8[k2];
            });
          };
        }
        if (!Array.prototype.find) {
          defineProp(Array.prototype, "find", function(predicate) {
            var len = this.length;
            var thisArg = arguments[1];
            for (var k2 = 0; k2 < len; k2++) {
              var kValue = this[k2];
              if (predicate.call(thisArg, kValue, k2, this)) {
                return kValue;
              }
            }
          });
        }
        if (!Array.prototype.findIndex) {
          defineProp(Array.prototype, "findIndex", function(predicate) {
            var len = this.length;
            var thisArg = arguments[1];
            for (var k2 = 0; k2 < len; k2++) {
              var kValue = this[k2];
              if (predicate.call(thisArg, kValue, k2, this)) {
                return k2;
              }
            }
          });
        }
        if (!Array.prototype.includes) {
          defineProp(Array.prototype, "includes", function(item, position) {
            return this.indexOf(item, position) != -1;
          });
        }
        if (!Array.prototype.fill) {
          defineProp(Array.prototype, "fill", function(value) {
            var O = this;
            var len = O.length >>> 0;
            var start = arguments[1];
            var relativeStart = start >> 0;
            var k2 = relativeStart < 0 ? Math.max(len + relativeStart, 0) : Math.min(relativeStart, len);
            var end = arguments[2];
            var relativeEnd = end === void 0 ? len : end >> 0;
            var final = relativeEnd < 0 ? Math.max(len + relativeEnd, 0) : Math.min(relativeEnd, len);
            while (k2 < final) {
              O[k2] = value;
              k2++;
            }
            return O;
          });
        }
        if (!Array.of) {
          defineProp(Array, "of", function() {
            return Array.prototype.slice.call(arguments);
          });
        }
      });
      ace.define("ace/lib/fixoldbrowsers", ["require", "exports", "module", "ace/lib/es6-shim"], function(require3, exports2, module2) {
        "use strict";
        require3("./es6-shim");
      });
      ace.define("ace/lib/lang", ["require", "exports", "module"], function(require3, exports2, module2) {
        "use strict";
        exports2.last = function(a3) {
          return a3[a3.length - 1];
        };
        exports2.stringReverse = function(string) {
          return string.split("").reverse().join("");
        };
        exports2.stringRepeat = function(string, count) {
          var result = "";
          while (count > 0) {
            if (count & 1)
              result += string;
            if (count >>= 1)
              string += string;
          }
          return result;
        };
        var trimBeginRegexp = /^\s\s*/;
        var trimEndRegexp = /\s\s*$/;
        exports2.stringTrimLeft = function(string) {
          return string.replace(trimBeginRegexp, "");
        };
        exports2.stringTrimRight = function(string) {
          return string.replace(trimEndRegexp, "");
        };
        exports2.copyObject = function(obj) {
          var copy = {};
          for (var key in obj) {
            copy[key] = obj[key];
          }
          return copy;
        };
        exports2.copyArray = function(array) {
          var copy = [];
          for (var i6 = 0, l7 = array.length; i6 < l7; i6++) {
            if (array[i6] && typeof array[i6] == "object")
              copy[i6] = this.copyObject(array[i6]);
            else
              copy[i6] = array[i6];
          }
          return copy;
        };
        exports2.deepCopy = function deepCopy(obj) {
          if (typeof obj !== "object" || !obj)
            return obj;
          var copy;
          if (Array.isArray(obj)) {
            copy = [];
            for (var key = 0; key < obj.length; key++) {
              copy[key] = deepCopy(obj[key]);
            }
            return copy;
          }
          if (Object.prototype.toString.call(obj) !== "[object Object]")
            return obj;
          copy = {};
          for (var key in obj)
            copy[key] = deepCopy(obj[key]);
          return copy;
        };
        exports2.arrayToMap = function(arr) {
          var map = {};
          for (var i6 = 0; i6 < arr.length; i6++) {
            map[arr[i6]] = 1;
          }
          return map;
        };
        exports2.createMap = function(props) {
          var map = /* @__PURE__ */ Object.create(null);
          for (var i6 in props) {
            map[i6] = props[i6];
          }
          return map;
        };
        exports2.arrayRemove = function(array, value) {
          for (var i6 = 0; i6 <= array.length; i6++) {
            if (value === array[i6]) {
              array.splice(i6, 1);
            }
          }
        };
        exports2.escapeRegExp = function(str) {
          return str.replace(/([.*+?^${}()|[\]\/\\])/g, "\\$1");
        };
        exports2.escapeHTML = function(str) {
          return ("" + str).replace(/&/g, "&#38;").replace(/"/g, "&#34;").replace(/'/g, "&#39;").replace(/</g, "&#60;");
        };
        exports2.getMatchOffsets = function(string, regExp) {
          var matches = [];
          string.replace(regExp, function(str) {
            matches.push({
              offset: arguments[arguments.length - 2],
              length: str.length
            });
          });
          return matches;
        };
        exports2.deferredCall = function(fcn) {
          var timer = null;
          var callback = function() {
            timer = null;
            fcn();
          };
          var deferred = function(timeout) {
            deferred.cancel();
            timer = setTimeout(callback, timeout || 0);
            return deferred;
          };
          deferred.schedule = deferred;
          deferred.call = function() {
            this.cancel();
            fcn();
            return deferred;
          };
          deferred.cancel = function() {
            clearTimeout(timer);
            timer = null;
            return deferred;
          };
          deferred.isPending = function() {
            return timer;
          };
          return deferred;
        };
        exports2.delayedCall = function(fcn, defaultTimeout) {
          var timer = null;
          var callback = function() {
            timer = null;
            fcn();
          };
          var _self = function(timeout) {
            if (timer == null)
              timer = setTimeout(callback, timeout || defaultTimeout);
          };
          _self.delay = function(timeout) {
            timer && clearTimeout(timer);
            timer = setTimeout(callback, timeout || defaultTimeout);
          };
          _self.schedule = _self;
          _self.call = function() {
            this.cancel();
            fcn();
          };
          _self.cancel = function() {
            timer && clearTimeout(timer);
            timer = null;
          };
          _self.isPending = function() {
            return timer;
          };
          return _self;
        };
      });
      ace.define("ace/lib/oop", ["require", "exports", "module"], function(require3, exports2, module2) {
        "use strict";
        exports2.inherits = function(ctor, superCtor) {
          ctor.super_ = superCtor;
          ctor.prototype = Object.create(superCtor.prototype, {
            constructor: {
              value: ctor,
              enumerable: false,
              writable: true,
              configurable: true
            }
          });
        };
        exports2.mixin = function(obj, mixin) {
          for (var key in mixin) {
            obj[key] = mixin[key];
          }
          return obj;
        };
        exports2.implement = function(proto, mixin) {
          exports2.mixin(proto, mixin);
        };
      });
      ace.define("ace/lib/useragent", ["require", "exports", "module"], function(require3, exports2, module2) {
        "use strict";
        exports2.OS = {
          LINUX: "LINUX",
          MAC: "MAC",
          WINDOWS: "WINDOWS"
        };
        exports2.getOS = function() {
          if (exports2.isMac) {
            return exports2.OS.MAC;
          } else if (exports2.isLinux) {
            return exports2.OS.LINUX;
          } else {
            return exports2.OS.WINDOWS;
          }
        };
        var _navigator = typeof navigator == "object" ? navigator : {};
        var os = (/mac|win|linux/i.exec(_navigator.platform) || ["other"])[0].toLowerCase();
        var ua = _navigator.userAgent || "";
        var appName = _navigator.appName || "";
        exports2.isWin = os == "win";
        exports2.isMac = os == "mac";
        exports2.isLinux = os == "linux";
        exports2.isIE = appName == "Microsoft Internet Explorer" || appName.indexOf("MSAppHost") >= 0 ? parseFloat((ua.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/) || [])[1]) : parseFloat((ua.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/) || [])[1]);
        exports2.isOldIE = exports2.isIE && exports2.isIE < 9;
        exports2.isGecko = exports2.isMozilla = ua.match(/ Gecko\/\d+/);
        exports2.isOpera = typeof opera == "object" && Object.prototype.toString.call(window.opera) == "[object Opera]";
        exports2.isWebKit = parseFloat(ua.split("WebKit/")[1]) || void 0;
        exports2.isChrome = parseFloat(ua.split(" Chrome/")[1]) || void 0;
        exports2.isEdge = parseFloat(ua.split(" Edge/")[1]) || void 0;
        exports2.isAIR = ua.indexOf("AdobeAIR") >= 0;
        exports2.isAndroid = ua.indexOf("Android") >= 0;
        exports2.isChromeOS = ua.indexOf(" CrOS ") >= 0;
        exports2.isIOS = /iPad|iPhone|iPod/.test(ua) && !window.MSStream;
        if (exports2.isIOS)
          exports2.isMac = true;
        exports2.isMobile = exports2.isIOS || exports2.isAndroid;
      });
      ace.define("ace/lib/dom", ["require", "exports", "module", "ace/lib/useragent"], function(require3, exports2, module2) {
        "use strict";
        var useragent = require3("./useragent");
        var XHTML_NS = "http://www.w3.org/1999/xhtml";
        exports2.buildDom = function buildDom(arr, parent, refs) {
          if (typeof arr == "string" && arr) {
            var txt = document.createTextNode(arr);
            if (parent)
              parent.appendChild(txt);
            return txt;
          }
          if (!Array.isArray(arr)) {
            if (arr && arr.appendChild && parent)
              parent.appendChild(arr);
            return arr;
          }
          if (typeof arr[0] != "string" || !arr[0]) {
            var els = [];
            for (var i6 = 0; i6 < arr.length; i6++) {
              var ch = buildDom(arr[i6], parent, refs);
              ch && els.push(ch);
            }
            return els;
          }
          var el = document.createElement(arr[0]);
          var options = arr[1];
          var childIndex = 1;
          if (options && typeof options == "object" && !Array.isArray(options))
            childIndex = 2;
          for (var i6 = childIndex; i6 < arr.length; i6++)
            buildDom(arr[i6], el, refs);
          if (childIndex == 2) {
            Object.keys(options).forEach(function(n9) {
              var val = options[n9];
              if (n9 === "class") {
                el.className = Array.isArray(val) ? val.join(" ") : val;
              } else if (typeof val == "function" || n9 == "value" || n9[0] == "$") {
                el[n9] = val;
              } else if (n9 === "ref") {
                if (refs)
                  refs[val] = el;
              } else if (n9 === "style") {
                if (typeof val == "string")
                  el.style.cssText = val;
              } else if (val != null) {
                el.setAttribute(n9, val);
              }
            });
          }
          if (parent)
            parent.appendChild(el);
          return el;
        };
        exports2.getDocumentHead = function(doc) {
          if (!doc)
            doc = document;
          return doc.head || doc.getElementsByTagName("head")[0] || doc.documentElement;
        };
        exports2.createElement = function(tag, ns) {
          return document.createElementNS ? document.createElementNS(ns || XHTML_NS, tag) : document.createElement(tag);
        };
        exports2.removeChildren = function(element) {
          element.innerHTML = "";
        };
        exports2.createTextNode = function(textContent, element) {
          var doc = element ? element.ownerDocument : document;
          return doc.createTextNode(textContent);
        };
        exports2.createFragment = function(element) {
          var doc = element ? element.ownerDocument : document;
          return doc.createDocumentFragment();
        };
        exports2.hasCssClass = function(el, name2) {
          var classes = (el.className + "").split(/\s+/g);
          return classes.indexOf(name2) !== -1;
        };
        exports2.addCssClass = function(el, name2) {
          if (!exports2.hasCssClass(el, name2)) {
            el.className += " " + name2;
          }
        };
        exports2.removeCssClass = function(el, name2) {
          var classes = el.className.split(/\s+/g);
          while (true) {
            var index = classes.indexOf(name2);
            if (index == -1) {
              break;
            }
            classes.splice(index, 1);
          }
          el.className = classes.join(" ");
        };
        exports2.toggleCssClass = function(el, name2) {
          var classes = el.className.split(/\s+/g), add = true;
          while (true) {
            var index = classes.indexOf(name2);
            if (index == -1) {
              break;
            }
            add = false;
            classes.splice(index, 1);
          }
          if (add)
            classes.push(name2);
          el.className = classes.join(" ");
          return add;
        };
        exports2.setCssClass = function(node, className, include) {
          if (include) {
            exports2.addCssClass(node, className);
          } else {
            exports2.removeCssClass(node, className);
          }
        };
        exports2.hasCssString = function(id, doc) {
          var index = 0, sheets;
          doc = doc || document;
          if (sheets = doc.querySelectorAll("style")) {
            while (index < sheets.length) {
              if (sheets[index++].id === id) {
                return true;
              }
            }
          }
        };
        exports2.removeElementById = function(id, doc) {
          doc = doc || document;
          if (doc.getElementById(id)) {
            doc.getElementById(id).remove();
          }
        };
        var strictCSP;
        var cssCache = [];
        exports2.useStrictCSP = function(value) {
          strictCSP = value;
          if (value == false)
            insertPendingStyles();
          else if (!cssCache)
            cssCache = [];
        };
        function insertPendingStyles() {
          var cache = cssCache;
          cssCache = null;
          cache && cache.forEach(function(item) {
            importCssString(item[0], item[1]);
          });
        }
        function importCssString(cssText, id, target) {
          if (typeof document == "undefined")
            return;
          if (cssCache) {
            if (target) {
              insertPendingStyles();
            } else if (target === false) {
              return cssCache.push([cssText, id]);
            }
          }
          if (strictCSP)
            return;
          var container = target;
          if (!target || !target.getRootNode) {
            container = document;
          } else {
            container = target.getRootNode();
            if (!container || container == target)
              container = document;
          }
          var doc = container.ownerDocument || container;
          if (id && exports2.hasCssString(id, container))
            return null;
          if (id)
            cssText += "\n/*# sourceURL=ace/css/" + id + " */";
          var style = exports2.createElement("style");
          style.appendChild(doc.createTextNode(cssText));
          if (id)
            style.id = id;
          if (container == doc)
            container = exports2.getDocumentHead(doc);
          container.insertBefore(style, container.firstChild);
        }
        exports2.importCssString = importCssString;
        exports2.importCssStylsheet = function(uri, doc) {
          exports2.buildDom(["link", { rel: "stylesheet", href: uri }], exports2.getDocumentHead(doc));
        };
        exports2.scrollbarWidth = function(document2) {
          var inner = exports2.createElement("ace_inner");
          inner.style.width = "100%";
          inner.style.minWidth = "0px";
          inner.style.height = "200px";
          inner.style.display = "block";
          var outer = exports2.createElement("ace_outer");
          var style = outer.style;
          style.position = "absolute";
          style.left = "-10000px";
          style.overflow = "hidden";
          style.width = "200px";
          style.minWidth = "0px";
          style.height = "150px";
          style.display = "block";
          outer.appendChild(inner);
          var body = document2.documentElement;
          body.appendChild(outer);
          var noScrollbar = inner.offsetWidth;
          style.overflow = "scroll";
          var withScrollbar = inner.offsetWidth;
          if (noScrollbar == withScrollbar) {
            withScrollbar = outer.clientWidth;
          }
          body.removeChild(outer);
          return noScrollbar - withScrollbar;
        };
        exports2.computedStyle = function(element, style) {
          return window.getComputedStyle(element, "") || {};
        };
        exports2.setStyle = function(styles, property, value) {
          if (styles[property] !== value) {
            styles[property] = value;
          }
        };
        exports2.HAS_CSS_ANIMATION = false;
        exports2.HAS_CSS_TRANSFORMS = false;
        exports2.HI_DPI = useragent.isWin ? typeof window !== "undefined" && window.devicePixelRatio >= 1.5 : true;
        if (useragent.isChromeOS)
          exports2.HI_DPI = false;
        if (typeof document !== "undefined") {
          var div = document.createElement("div");
          if (exports2.HI_DPI && div.style.transform !== void 0)
            exports2.HAS_CSS_TRANSFORMS = true;
          if (!useragent.isEdge && typeof div.style.animationName !== "undefined")
            exports2.HAS_CSS_ANIMATION = true;
          div = null;
        }
        if (exports2.HAS_CSS_TRANSFORMS) {
          exports2.translate = function(element, tx, ty) {
            element.style.transform = "translate(" + Math.round(tx) + "px, " + Math.round(ty) + "px)";
          };
        } else {
          exports2.translate = function(element, tx, ty) {
            element.style.top = Math.round(ty) + "px";
            element.style.left = Math.round(tx) + "px";
          };
        }
      });
      ace.define("ace/lib/net", ["require", "exports", "module", "ace/lib/dom"], function(require3, exports2, module2) {
        "use strict";
        var dom = require3("./dom");
        exports2.get = function(url, callback) {
          var xhr = new XMLHttpRequest();
          xhr.open("GET", url, true);
          xhr.onreadystatechange = function() {
            if (xhr.readyState === 4) {
              callback(xhr.responseText);
            }
          };
          xhr.send(null);
        };
        exports2.loadScript = function(path, callback) {
          var head = dom.getDocumentHead();
          var s5 = document.createElement("script");
          s5.src = path;
          head.appendChild(s5);
          s5.onload = s5.onreadystatechange = function(_2, isAbort) {
            if (isAbort || !s5.readyState || s5.readyState == "loaded" || s5.readyState == "complete") {
              s5 = s5.onload = s5.onreadystatechange = null;
              if (!isAbort)
                callback();
            }
          };
        };
        exports2.qualifyURL = function(url) {
          var a3 = document.createElement("a");
          a3.href = url;
          return a3.href;
        };
      });
      ace.define("ace/lib/event_emitter", ["require", "exports", "module"], function(require3, exports2, module2) {
        "use strict";
        var EventEmitter = {};
        var stopPropagation = function() {
          this.propagationStopped = true;
        };
        var preventDefault = function() {
          this.defaultPrevented = true;
        };
        EventEmitter._emit = EventEmitter._dispatchEvent = function(eventName, e10) {
          this._eventRegistry || (this._eventRegistry = {});
          this._defaultHandlers || (this._defaultHandlers = {});
          var listeners = this._eventRegistry[eventName] || [];
          var defaultHandler = this._defaultHandlers[eventName];
          if (!listeners.length && !defaultHandler)
            return;
          if (typeof e10 != "object" || !e10)
            e10 = {};
          if (!e10.type)
            e10.type = eventName;
          if (!e10.stopPropagation)
            e10.stopPropagation = stopPropagation;
          if (!e10.preventDefault)
            e10.preventDefault = preventDefault;
          listeners = listeners.slice();
          for (var i6 = 0; i6 < listeners.length; i6++) {
            listeners[i6](e10, this);
            if (e10.propagationStopped)
              break;
          }
          if (defaultHandler && !e10.defaultPrevented)
            return defaultHandler(e10, this);
        };
        EventEmitter._signal = function(eventName, e10) {
          var listeners = (this._eventRegistry || {})[eventName];
          if (!listeners)
            return;
          listeners = listeners.slice();
          for (var i6 = 0; i6 < listeners.length; i6++)
            listeners[i6](e10, this);
        };
        EventEmitter.once = function(eventName, callback) {
          var _self = this;
          this.on(eventName, function newCallback() {
            _self.off(eventName, newCallback);
            callback.apply(null, arguments);
          });
          if (!callback) {
            return new Promise(function(resolve) {
              callback = resolve;
            });
          }
        };
        EventEmitter.setDefaultHandler = function(eventName, callback) {
          var handlers = this._defaultHandlers;
          if (!handlers)
            handlers = this._defaultHandlers = { _disabled_: {} };
          if (handlers[eventName]) {
            var old = handlers[eventName];
            var disabled = handlers._disabled_[eventName];
            if (!disabled)
              handlers._disabled_[eventName] = disabled = [];
            disabled.push(old);
            var i6 = disabled.indexOf(callback);
            if (i6 != -1)
              disabled.splice(i6, 1);
          }
          handlers[eventName] = callback;
        };
        EventEmitter.removeDefaultHandler = function(eventName, callback) {
          var handlers = this._defaultHandlers;
          if (!handlers)
            return;
          var disabled = handlers._disabled_[eventName];
          if (handlers[eventName] == callback) {
            if (disabled)
              this.setDefaultHandler(eventName, disabled.pop());
          } else if (disabled) {
            var i6 = disabled.indexOf(callback);
            if (i6 != -1)
              disabled.splice(i6, 1);
          }
        };
        EventEmitter.on = EventEmitter.addEventListener = function(eventName, callback, capturing) {
          this._eventRegistry = this._eventRegistry || {};
          var listeners = this._eventRegistry[eventName];
          if (!listeners)
            listeners = this._eventRegistry[eventName] = [];
          if (listeners.indexOf(callback) == -1)
            listeners[capturing ? "unshift" : "push"](callback);
          return callback;
        };
        EventEmitter.off = EventEmitter.removeListener = EventEmitter.removeEventListener = function(eventName, callback) {
          this._eventRegistry = this._eventRegistry || {};
          var listeners = this._eventRegistry[eventName];
          if (!listeners)
            return;
          var index = listeners.indexOf(callback);
          if (index !== -1)
            listeners.splice(index, 1);
        };
        EventEmitter.removeAllListeners = function(eventName) {
          if (!eventName)
            this._eventRegistry = this._defaultHandlers = void 0;
          if (this._eventRegistry)
            this._eventRegistry[eventName] = void 0;
          if (this._defaultHandlers)
            this._defaultHandlers[eventName] = void 0;
        };
        exports2.EventEmitter = EventEmitter;
      });
      ace.define("ace/lib/app_config", ["require", "exports", "module", "ace/lib/oop", "ace/lib/event_emitter"], function(require3, exports2, module2) {
        "no use strict";
        var oop = require3("./oop");
        var EventEmitter = require3("./event_emitter").EventEmitter;
        var optionsProvider = {
          setOptions: function(optList) {
            Object.keys(optList).forEach(function(key) {
              this.setOption(key, optList[key]);
            }, this);
          },
          getOptions: function(optionNames) {
            var result = {};
            if (!optionNames) {
              var options = this.$options;
              optionNames = Object.keys(options).filter(function(key) {
                return !options[key].hidden;
              });
            } else if (!Array.isArray(optionNames)) {
              result = optionNames;
              optionNames = Object.keys(result);
            }
            optionNames.forEach(function(key) {
              result[key] = this.getOption(key);
            }, this);
            return result;
          },
          setOption: function(name2, value) {
            if (this["$" + name2] === value)
              return;
            var opt = this.$options[name2];
            if (!opt) {
              return warn('misspelled option "' + name2 + '"');
            }
            if (opt.forwardTo)
              return this[opt.forwardTo] && this[opt.forwardTo].setOption(name2, value);
            if (!opt.handlesSet)
              this["$" + name2] = value;
            if (opt && opt.set)
              opt.set.call(this, value);
          },
          getOption: function(name2) {
            var opt = this.$options[name2];
            if (!opt) {
              return warn('misspelled option "' + name2 + '"');
            }
            if (opt.forwardTo)
              return this[opt.forwardTo] && this[opt.forwardTo].getOption(name2);
            return opt && opt.get ? opt.get.call(this) : this["$" + name2];
          }
        };
        function warn(message) {
          if (typeof console != "undefined" && console.warn)
            console.warn.apply(console, arguments);
        }
        function reportError(msg, data) {
          var e10 = new Error(msg);
          e10.data = data;
          if (typeof console == "object" && console.error)
            console.error(e10);
          setTimeout(function() {
            throw e10;
          });
        }
        var AppConfig = function() {
          this.$defaultOptions = {};
        };
        (function() {
          oop.implement(this, EventEmitter);
          this.defineOptions = function(obj, path, options) {
            if (!obj.$options)
              this.$defaultOptions[path] = obj.$options = {};
            Object.keys(options).forEach(function(key) {
              var opt = options[key];
              if (typeof opt == "string")
                opt = { forwardTo: opt };
              opt.name || (opt.name = key);
              obj.$options[opt.name] = opt;
              if ("initialValue" in opt)
                obj["$" + opt.name] = opt.initialValue;
            });
            oop.implement(obj, optionsProvider);
            return this;
          };
          this.resetOptions = function(obj) {
            Object.keys(obj.$options).forEach(function(key) {
              var opt = obj.$options[key];
              if ("value" in opt)
                obj.setOption(key, opt.value);
            });
          };
          this.setDefaultValue = function(path, name2, value) {
            if (!path) {
              for (path in this.$defaultOptions)
                if (this.$defaultOptions[path][name2])
                  break;
              if (!this.$defaultOptions[path][name2])
                return false;
            }
            var opts = this.$defaultOptions[path] || (this.$defaultOptions[path] = {});
            if (opts[name2]) {
              if (opts.forwardTo)
                this.setDefaultValue(opts.forwardTo, name2, value);
              else
                opts[name2].value = value;
            }
          };
          this.setDefaultValues = function(path, optionHash) {
            Object.keys(optionHash).forEach(function(key) {
              this.setDefaultValue(path, key, optionHash[key]);
            }, this);
          };
          this.warn = warn;
          this.reportError = reportError;
        }).call(AppConfig.prototype);
        exports2.AppConfig = AppConfig;
      });
      ace.define("ace/theme/textmate", ["require", "exports", "module", "ace/lib/dom"], function(require3, exports2, module2) {
        "use strict";
        exports2.isDark = false;
        exports2.cssClass = "ace-tm";
        exports2.cssText = '.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}';
        exports2.$id = "ace/theme/textmate";
        var dom = require3("../lib/dom");
        dom.importCssString(exports2.cssText, exports2.cssClass, false);
      });
      ace.define("ace/config", ["require", "exports", "module", "ace/lib/lang", "ace/lib/oop", "ace/lib/net", "ace/lib/dom", "ace/lib/app_config", "ace/theme/textmate"], function(require3, exports2, module2) {
        "no use strict";
        var lang = require3("./lib/lang");
        var oop = require3("./lib/oop");
        var net = require3("./lib/net");
        var dom = require3("./lib/dom");
        var AppConfig = require3("./lib/app_config").AppConfig;
        module2.exports = exports2 = new AppConfig();
        var options = {
          packaged: false,
          workerPath: null,
          modePath: null,
          themePath: null,
          basePath: "",
          suffix: ".js",
          $moduleUrls: {},
          loadWorkerFromBlob: true,
          sharedPopups: false,
          useStrictCSP: null
        };
        exports2.get = function(key) {
          if (!options.hasOwnProperty(key))
            throw new Error("Unknown config key: " + key);
          return options[key];
        };
        exports2.set = function(key, value) {
          if (options.hasOwnProperty(key))
            options[key] = value;
          else if (this.setDefaultValue("", key, value) == false)
            throw new Error("Unknown config key: " + key);
          if (key == "useStrictCSP")
            dom.useStrictCSP(value);
        };
        exports2.all = function() {
          return lang.copyObject(options);
        };
        exports2.$modes = {};
        exports2.moduleUrl = function(name2, component) {
          if (options.$moduleUrls[name2])
            return options.$moduleUrls[name2];
          var parts = name2.split("/");
          component = component || parts[parts.length - 2] || "";
          var sep = component == "snippets" ? "/" : "-";
          var base = parts[parts.length - 1];
          if (component == "worker" && sep == "-") {
            var re = new RegExp("^" + component + "[\\-_]|[\\-_]" + component + "$", "g");
            base = base.replace(re, "");
          }
          if ((!base || base == component) && parts.length > 1)
            base = parts[parts.length - 2];
          var path = options[component + "Path"];
          if (path == null) {
            path = options.basePath;
          } else if (sep == "/") {
            component = sep = "";
          }
          if (path && path.slice(-1) != "/")
            path += "/";
          return path + component + sep + base + this.get("suffix");
        };
        exports2.setModuleUrl = function(name2, subst) {
          return options.$moduleUrls[name2] = subst;
        };
        var loader = function(moduleName, cb) {
          if (moduleName == "ace/theme/textmate")
            return cb(null, require3("./theme/textmate"));
          return console.error("loader is not configured");
        };
        exports2.setLoader = function(cb) {
          loader = cb;
        };
        exports2.$loading = {};
        exports2.loadModule = function(moduleName, onLoad) {
          var module3, moduleType;
          if (Array.isArray(moduleName)) {
            moduleType = moduleName[0];
            moduleName = moduleName[1];
          }
          try {
            module3 = require3(moduleName);
          } catch (e10) {
          }
          if (module3 && !exports2.$loading[moduleName])
            return onLoad && onLoad(module3);
          if (!exports2.$loading[moduleName])
            exports2.$loading[moduleName] = [];
          exports2.$loading[moduleName].push(onLoad);
          if (exports2.$loading[moduleName].length > 1)
            return;
          var afterLoad = function() {
            require3([moduleName], function(module4) {
              exports2._emit("load.module", { name: moduleName, module: module4 });
              var listeners = exports2.$loading[moduleName];
              exports2.$loading[moduleName] = null;
              listeners.forEach(function(onLoad2) {
                onLoad2 && onLoad2(module4);
              });
            });
          };
          if (!exports2.get("packaged"))
            return afterLoad();
          net.loadScript(exports2.moduleUrl(moduleName, moduleType), afterLoad);
          reportErrorIfPathIsNotConfigured();
        };
        var reportErrorIfPathIsNotConfigured = function() {
          if (!options.basePath && !options.workerPath && !options.modePath && !options.themePath && !Object.keys(options.$moduleUrls).length) {
            console.error(
              "Unable to infer path to ace from script src,",
              "use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes",
              "or with webpack use ace/webpack-resolver"
            );
            reportErrorIfPathIsNotConfigured = function() {
            };
          }
        };
        exports2.version = "1.8.1";
      });
      ace.define("ace/loader_build", ["require", "exports", "module", "ace/lib/fixoldbrowsers", "ace/config"], function(require3, exports2, module2) {
        "use strict";
        require3("./lib/fixoldbrowsers");
        var config2 = require3("./config");
        var global = function() {
          return this || typeof window != "undefined" && window;
        }();
        module2.exports = function(ace4) {
          config2.init = init2;
          ace4.require = require3;
          if (typeof define === "function")
            ace4.define = define;
        };
        init2(true);
        function init2(packaged) {
          if (!global || !global.document)
            return;
          config2.set("packaged", packaged || require3.packaged || module2.packaged || global.define && define.packaged);
          var scriptOptions = {};
          var scriptUrl = "";
          var currentScript = document.currentScript || document._currentScript;
          var currentDocument = currentScript && currentScript.ownerDocument || document;
          var scripts = currentDocument.getElementsByTagName("script");
          for (var i6 = 0; i6 < scripts.length; i6++) {
            var script = scripts[i6];
            var src = script.src || script.getAttribute("src");
            if (!src)
              continue;
            var attributes = script.attributes;
            for (var j = 0, l7 = attributes.length; j < l7; j++) {
              var attr = attributes[j];
              if (attr.name.indexOf("data-ace-") === 0) {
                scriptOptions[deHyphenate(attr.name.replace(/^data-ace-/, ""))] = attr.value;
              }
            }
            var m2 = src.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);
            if (m2)
              scriptUrl = m2[1];
          }
          if (scriptUrl) {
            scriptOptions.base = scriptOptions.base || scriptUrl;
            scriptOptions.packaged = true;
          }
          scriptOptions.basePath = scriptOptions.base;
          scriptOptions.workerPath = scriptOptions.workerPath || scriptOptions.base;
          scriptOptions.modePath = scriptOptions.modePath || scriptOptions.base;
          scriptOptions.themePath = scriptOptions.themePath || scriptOptions.base;
          delete scriptOptions.base;
          for (var key in scriptOptions)
            if (typeof scriptOptions[key] !== "undefined")
              config2.set(key, scriptOptions[key]);
        }
        function deHyphenate(str) {
          return str.replace(/-(.)/g, function(m2, m1) {
            return m1.toUpperCase();
          });
        }
      });
      ace.define("ace/lib/keys", ["require", "exports", "module", "ace/lib/oop"], function(require3, exports2, module2) {
        "use strict";
        var oop = require3("./oop");
        var Keys = function() {
          var ret = {
            MODIFIER_KEYS: {
              16: "Shift",
              17: "Ctrl",
              18: "Alt",
              224: "Meta",
              91: "MetaLeft",
              92: "MetaRight",
              93: "ContextMenu"
            },
            KEY_MODS: {
              "ctrl": 1,
              "alt": 2,
              "option": 2,
              "shift": 4,
              "super": 8,
              "meta": 8,
              "command": 8,
              "cmd": 8,
              "control": 1
            },
            FUNCTION_KEYS: {
              8: "Backspace",
              9: "Tab",
              13: "Return",
              19: "Pause",
              27: "Esc",
              32: "Space",
              33: "PageUp",
              34: "PageDown",
              35: "End",
              36: "Home",
              37: "Left",
              38: "Up",
              39: "Right",
              40: "Down",
              44: "Print",
              45: "Insert",
              46: "Delete",
              96: "Numpad0",
              97: "Numpad1",
              98: "Numpad2",
              99: "Numpad3",
              100: "Numpad4",
              101: "Numpad5",
              102: "Numpad6",
              103: "Numpad7",
              104: "Numpad8",
              105: "Numpad9",
              "-13": "NumpadEnter",
              112: "F1",
              113: "F2",
              114: "F3",
              115: "F4",
              116: "F5",
              117: "F6",
              118: "F7",
              119: "F8",
              120: "F9",
              121: "F10",
              122: "F11",
              123: "F12",
              144: "Numlock",
              145: "Scrolllock"
            },
            PRINTABLE_KEYS: {
              32: " ",
              48: "0",
              49: "1",
              50: "2",
              51: "3",
              52: "4",
              53: "5",
              54: "6",
              55: "7",
              56: "8",
              57: "9",
              59: ";",
              61: "=",
              65: "a",
              66: "b",
              67: "c",
              68: "d",
              69: "e",
              70: "f",
              71: "g",
              72: "h",
              73: "i",
              74: "j",
              75: "k",
              76: "l",
              77: "m",
              78: "n",
              79: "o",
              80: "p",
              81: "q",
              82: "r",
              83: "s",
              84: "t",
              85: "u",
              86: "v",
              87: "w",
              88: "x",
              89: "y",
              90: "z",
              107: "+",
              109: "-",
              110: ".",
              186: ";",
              187: "=",
              188: ",",
              189: "-",
              190: ".",
              191: "/",
              192: "`",
              219: "[",
              220: "\\",
              221: "]",
              222: "'",
              111: "/",
              106: "*"
            }
          };
          var name2, i6;
          for (i6 in ret.FUNCTION_KEYS) {
            name2 = ret.FUNCTION_KEYS[i6].toLowerCase();
            ret[name2] = parseInt(i6, 10);
          }
          for (i6 in ret.PRINTABLE_KEYS) {
            name2 = ret.PRINTABLE_KEYS[i6].toLowerCase();
            ret[name2] = parseInt(i6, 10);
          }
          oop.mixin(ret, ret.MODIFIER_KEYS);
          oop.mixin(ret, ret.PRINTABLE_KEYS);
          oop.mixin(ret, ret.FUNCTION_KEYS);
          ret.enter = ret["return"];
          ret.escape = ret.esc;
          ret.del = ret["delete"];
          ret[173] = "-";
          (function() {
            var mods = ["cmd", "ctrl", "alt", "shift"];
            for (var i7 = Math.pow(2, mods.length); i7--; ) {
              ret.KEY_MODS[i7] = mods.filter(function(x2) {
                return i7 & ret.KEY_MODS[x2];
              }).join("-") + "-";
            }
          })();
          ret.KEY_MODS[0] = "";
          ret.KEY_MODS[-1] = "input-";
          return ret;
        }();
        oop.mixin(exports2, Keys);
        exports2.keyCodeToString = function(keyCode) {
          var keyString = Keys[keyCode];
          if (typeof keyString != "string")
            keyString = String.fromCharCode(keyCode);
          return keyString.toLowerCase();
        };
      });
      ace.define("ace/lib/event", ["require", "exports", "module", "ace/lib/keys", "ace/lib/useragent"], function(require3, exports2, module2) {
        "use strict";
        var keys = require3("./keys");
        var useragent = require3("./useragent");
        var pressedKeys = null;
        var ts = 0;
        var activeListenerOptions;
        function detectListenerOptionsSupport() {
          activeListenerOptions = false;
          try {
            document.createComment("").addEventListener("test", function() {
            }, {
              get passive() {
                activeListenerOptions = { passive: false };
              }
            });
          } catch (e10) {
          }
        }
        function getListenerOptions() {
          if (activeListenerOptions == void 0)
            detectListenerOptionsSupport();
          return activeListenerOptions;
        }
        function EventListener(elem, type, callback) {
          this.elem = elem;
          this.type = type;
          this.callback = callback;
        }
        EventListener.prototype.destroy = function() {
          removeListener(this.elem, this.type, this.callback);
          this.elem = this.type = this.callback = void 0;
        };
        var addListener = exports2.addListener = function(elem, type, callback, destroyer) {
          elem.addEventListener(type, callback, getListenerOptions());
          if (destroyer)
            destroyer.$toDestroy.push(new EventListener(elem, type, callback));
        };
        var removeListener = exports2.removeListener = function(elem, type, callback) {
          elem.removeEventListener(type, callback, getListenerOptions());
        };
        exports2.stopEvent = function(e10) {
          exports2.stopPropagation(e10);
          exports2.preventDefault(e10);
          return false;
        };
        exports2.stopPropagation = function(e10) {
          if (e10.stopPropagation)
            e10.stopPropagation();
        };
        exports2.preventDefault = function(e10) {
          if (e10.preventDefault)
            e10.preventDefault();
        };
        exports2.getButton = function(e10) {
          if (e10.type == "dblclick")
            return 0;
          if (e10.type == "contextmenu" || useragent.isMac && (e10.ctrlKey && !e10.altKey && !e10.shiftKey))
            return 2;
          return e10.button;
        };
        exports2.capture = function(el, eventHandler, releaseCaptureHandler) {
          var ownerDocument = el && el.ownerDocument || document;
          function onMouseUp(e10) {
            eventHandler && eventHandler(e10);
            releaseCaptureHandler && releaseCaptureHandler(e10);
            removeListener(ownerDocument, "mousemove", eventHandler);
            removeListener(ownerDocument, "mouseup", onMouseUp);
            removeListener(ownerDocument, "dragstart", onMouseUp);
          }
          addListener(ownerDocument, "mousemove", eventHandler);
          addListener(ownerDocument, "mouseup", onMouseUp);
          addListener(ownerDocument, "dragstart", onMouseUp);
          return onMouseUp;
        };
        exports2.addMouseWheelListener = function(el, callback, destroyer) {
          addListener(el, "wheel", function(e10) {
            var factor = 0.15;
            var deltaX = e10.deltaX || 0;
            var deltaY = e10.deltaY || 0;
            switch (e10.deltaMode) {
              case e10.DOM_DELTA_PIXEL:
                e10.wheelX = deltaX * factor;
                e10.wheelY = deltaY * factor;
                break;
              case e10.DOM_DELTA_LINE:
                var linePixels = 15;
                e10.wheelX = deltaX * linePixels;
                e10.wheelY = deltaY * linePixels;
                break;
              case e10.DOM_DELTA_PAGE:
                var pagePixels = 150;
                e10.wheelX = deltaX * pagePixels;
                e10.wheelY = deltaY * pagePixels;
                break;
            }
            callback(e10);
          }, destroyer);
        };
        exports2.addMultiMouseDownListener = function(elements, timeouts, eventHandler, callbackName, destroyer) {
          var clicks = 0;
          var startX, startY, timer;
          var eventNames = {
            2: "dblclick",
            3: "tripleclick",
            4: "quadclick"
          };
          function onMousedown(e10) {
            if (exports2.getButton(e10) !== 0) {
              clicks = 0;
            } else if (e10.detail > 1) {
              clicks++;
              if (clicks > 4)
                clicks = 1;
            } else {
              clicks = 1;
            }
            if (useragent.isIE) {
              var isNewClick = Math.abs(e10.clientX - startX) > 5 || Math.abs(e10.clientY - startY) > 5;
              if (!timer || isNewClick)
                clicks = 1;
              if (timer)
                clearTimeout(timer);
              timer = setTimeout(function() {
                timer = null;
              }, timeouts[clicks - 1] || 600);
              if (clicks == 1) {
                startX = e10.clientX;
                startY = e10.clientY;
              }
            }
            e10._clicks = clicks;
            eventHandler[callbackName]("mousedown", e10);
            if (clicks > 4)
              clicks = 0;
            else if (clicks > 1)
              return eventHandler[callbackName](eventNames[clicks], e10);
          }
          if (!Array.isArray(elements))
            elements = [elements];
          elements.forEach(function(el) {
            addListener(el, "mousedown", onMousedown, destroyer);
          });
        };
        var getModifierHash = function(e10) {
          return 0 | (e10.ctrlKey ? 1 : 0) | (e10.altKey ? 2 : 0) | (e10.shiftKey ? 4 : 0) | (e10.metaKey ? 8 : 0);
        };
        exports2.getModifierString = function(e10) {
          return keys.KEY_MODS[getModifierHash(e10)];
        };
        function normalizeCommandKeys(callback, e10, keyCode) {
          var hashId = getModifierHash(e10);
          if (!useragent.isMac && pressedKeys) {
            if (e10.getModifierState && (e10.getModifierState("OS") || e10.getModifierState("Win")))
              hashId |= 8;
            if (pressedKeys.altGr) {
              if ((3 & hashId) != 3)
                pressedKeys.altGr = 0;
              else
                return;
            }
            if (keyCode === 18 || keyCode === 17) {
              var location2 = "location" in e10 ? e10.location : e10.keyLocation;
              if (keyCode === 17 && location2 === 1) {
                if (pressedKeys[keyCode] == 1)
                  ts = e10.timeStamp;
              } else if (keyCode === 18 && hashId === 3 && location2 === 2) {
                var dt = e10.timeStamp - ts;
                if (dt < 50)
                  pressedKeys.altGr = true;
              }
            }
          }
          if (keyCode in keys.MODIFIER_KEYS) {
            keyCode = -1;
          }
          if (!hashId && keyCode === 13) {
            var location2 = "location" in e10 ? e10.location : e10.keyLocation;
            if (location2 === 3) {
              callback(e10, hashId, -keyCode);
              if (e10.defaultPrevented)
                return;
            }
          }
          if (useragent.isChromeOS && hashId & 8) {
            callback(e10, hashId, keyCode);
            if (e10.defaultPrevented)
              return;
            else
              hashId &= ~8;
          }
          if (!hashId && !(keyCode in keys.FUNCTION_KEYS) && !(keyCode in keys.PRINTABLE_KEYS)) {
            return false;
          }
          return callback(e10, hashId, keyCode);
        }
        exports2.addCommandKeyListener = function(el, callback, destroyer) {
          if (useragent.isOldGecko || useragent.isOpera && !("KeyboardEvent" in window)) {
            var lastKeyDownKeyCode = null;
            addListener(el, "keydown", function(e10) {
              lastKeyDownKeyCode = e10.keyCode;
            }, destroyer);
            addListener(el, "keypress", function(e10) {
              return normalizeCommandKeys(callback, e10, lastKeyDownKeyCode);
            }, destroyer);
          } else {
            var lastDefaultPrevented = null;
            addListener(el, "keydown", function(e10) {
              pressedKeys[e10.keyCode] = (pressedKeys[e10.keyCode] || 0) + 1;
              var result = normalizeCommandKeys(callback, e10, e10.keyCode);
              lastDefaultPrevented = e10.defaultPrevented;
              return result;
            }, destroyer);
            addListener(el, "keypress", function(e10) {
              if (lastDefaultPrevented && (e10.ctrlKey || e10.altKey || e10.shiftKey || e10.metaKey)) {
                exports2.stopEvent(e10);
                lastDefaultPrevented = null;
              }
            }, destroyer);
            addListener(el, "keyup", function(e10) {
              pressedKeys[e10.keyCode] = null;
            }, destroyer);
            if (!pressedKeys) {
              resetPressedKeys();
              addListener(window, "focus", resetPressedKeys);
            }
          }
        };
        function resetPressedKeys() {
          pressedKeys = /* @__PURE__ */ Object.create(null);
        }
        if (typeof window == "object" && window.postMessage && !useragent.isOldIE) {
          var postMessageId = 1;
          exports2.nextTick = function(callback, win) {
            win = win || window;
            var messageName = "zero-timeout-message-" + postMessageId++;
            var listener = function(e10) {
              if (e10.data == messageName) {
                exports2.stopPropagation(e10);
                removeListener(win, "message", listener);
                callback();
              }
            };
            addListener(win, "message", listener);
            win.postMessage(messageName, "*");
          };
        }
        exports2.$idleBlocked = false;
        exports2.onIdle = function(cb, timeout) {
          return setTimeout(function handler() {
            if (!exports2.$idleBlocked) {
              cb();
            } else {
              setTimeout(handler, 100);
            }
          }, timeout);
        };
        exports2.$idleBlockId = null;
        exports2.blockIdle = function(delay) {
          if (exports2.$idleBlockId)
            clearTimeout(exports2.$idleBlockId);
          exports2.$idleBlocked = true;
          exports2.$idleBlockId = setTimeout(function() {
            exports2.$idleBlocked = false;
          }, delay || 100);
        };
        exports2.nextFrame = typeof window == "object" && (window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame);
        if (exports2.nextFrame)
          exports2.nextFrame = exports2.nextFrame.bind(window);
        else
          exports2.nextFrame = function(callback) {
            setTimeout(callback, 17);
          };
      });
      ace.define("ace/range", ["require", "exports", "module"], function(require3, exports2, module2) {
        "use strict";
        var comparePoints = function(p1, p2) {
          return p1.row - p2.row || p1.column - p2.column;
        };
        var Range = function(startRow, startColumn, endRow, endColumn) {
          this.start = {
            row: startRow,
            column: startColumn
          };
          this.end = {
            row: endRow,
            column: endColumn
          };
        };
        (function() {
          this.isEqual = function(range) {
            return this.start.row === range.start.row && this.end.row === range.end.row && this.start.column === range.start.column && this.end.column === range.end.column;
          };
          this.toString = function() {
            return "Range: [" + this.start.row + "/" + this.start.column + "] -> [" + this.end.row + "/" + this.end.column + "]";
          };
          this.contains = function(row, column) {
            return this.compare(row, column) == 0;
          };
          this.compareRange = function(range) {
            var cmp, end = range.end, start = range.start;
            cmp = this.compare(end.row, end.column);
            if (cmp == 1) {
              cmp = this.compare(start.row, start.column);
              if (cmp == 1) {
                return 2;
              } else if (cmp == 0) {
                return 1;
              } else {
                return 0;
              }
            } else if (cmp == -1) {
              return -2;
            } else {
              cmp = this.compare(start.row, start.column);
              if (cmp == -1) {
                return -1;
              } else if (cmp == 1) {
                return 42;
              } else {
                return 0;
              }
            }
          };
          this.comparePoint = function(p2) {
            return this.compare(p2.row, p2.column);
          };
          this.containsRange = function(range) {
            return this.comparePoint(range.start) == 0 && this.comparePoint(range.end) == 0;
          };
          this.intersects = function(range) {
            var cmp = this.compareRange(range);
            return cmp == -1 || cmp == 0 || cmp == 1;
          };
          this.isEnd = function(row, column) {
            return this.end.row == row && this.end.column == column;
          };
          this.isStart = function(row, column) {
            return this.start.row == row && this.start.column == column;
          };
          this.setStart = function(row, column) {
            if (typeof row == "object") {
              this.start.column = row.column;
              this.start.row = row.row;
            } else {
              this.start.row = row;
              this.start.column = column;
            }
          };
          this.setEnd = function(row, column) {
            if (typeof row == "object") {
              this.end.column = row.column;
              this.end.row = row.row;
            } else {
              this.end.row = row;
              this.end.column = column;
            }
          };
          this.inside = function(row, column) {
            if (this.compare(row, column) == 0) {
              if (this.isEnd(row, column) || this.isStart(row, column)) {
                return false;
              } else {
                return true;
              }
            }
            return false;
          };
          this.insideStart = function(row, column) {
            if (this.compare(row, column) == 0) {
              if (this.isEnd(row, column)) {
                return false;
              } else {
                return true;
              }
            }
            return false;
          };
          this.insideEnd = function(row, column) {
            if (this.compare(row, column) == 0) {
              if (this.isStart(row, column)) {
                return false;
              } else {
                return true;
              }
            }
            return false;
          };
          this.compare = function(row, column) {
            if (!this.isMultiLine()) {
              if (row === this.start.row) {
                return column < this.start.column ? -1 : column > this.end.column ? 1 : 0;
              }
            }
            if (row < this.start.row)
              return -1;
            if (row > this.end.row)
              return 1;
            if (this.start.row === row)
              return column >= this.start.column ? 0 : -1;
            if (this.end.row === row)
              return column <= this.end.column ? 0 : 1;
            return 0;
          };
          this.compareStart = function(row, column) {
            if (this.start.row == row && this.start.column == column) {
              return -1;
            } else {
              return this.compare(row, column);
            }
          };
          this.compareEnd = function(row, column) {
            if (this.end.row == row && this.end.column == column) {
              return 1;
            } else {
              return this.compare(row, column);
            }
          };
          this.compareInside = function(row, column) {
            if (this.end.row == row && this.end.column == column) {
              return 1;
            } else if (this.start.row == row && this.start.column == column) {
              return -1;
            } else {
              return this.compare(row, column);
            }
          };
          this.clipRows = function(firstRow, lastRow) {
            if (this.end.row > lastRow)
              var end = { row: lastRow + 1, column: 0 };
            else if (this.end.row < firstRow)
              var end = { row: firstRow, column: 0 };
            if (this.start.row > lastRow)
              var start = { row: lastRow + 1, column: 0 };
            else if (this.start.row < firstRow)
              var start = { row: firstRow, column: 0 };
            return Range.fromPoints(start || this.start, end || this.end);
          };
          this.extend = function(row, column) {
            var cmp = this.compare(row, column);
            if (cmp == 0)
              return this;
            else if (cmp == -1)
              var start = { row, column };
            else
              var end = { row, column };
            return Range.fromPoints(start || this.start, end || this.end);
          };
          this.isEmpty = function() {
            return this.start.row === this.end.row && this.start.column === this.end.column;
          };
          this.isMultiLine = function() {
            return this.start.row !== this.end.row;
          };
          this.clone = function() {
            return Range.fromPoints(this.start, this.end);
          };
          this.collapseRows = function() {
            if (this.end.column == 0)
              return new Range(this.start.row, 0, Math.max(this.start.row, this.end.row - 1), 0);
            else
              return new Range(this.start.row, 0, this.end.row, 0);
          };
          this.toScreenRange = function(session) {
            var screenPosStart = session.documentToScreenPosition(this.start);
            var screenPosEnd = session.documentToScreenPosition(this.end);
            return new Range(
              screenPosStart.row,
              screenPosStart.column,
              screenPosEnd.row,
              screenPosEnd.column
            );
          };
          this.moveBy = function(row, column) {
            this.start.row += row;
            this.start.column += column;
            this.end.row += row;
            this.end.column += column;
          };
        }).call(Range.prototype);
        Range.fromPoints = function(start, end) {
          return new Range(start.row, start.column, end.row, end.column);
        };
        Range.comparePoints = comparePoints;
        Range.comparePoints = function(p1, p2) {
          return p1.row - p2.row || p1.column - p2.column;
        };
        exports2.Range = Range;
      });
      ace.define("ace/clipboard", ["require", "exports", "module"], function(require3, exports2, module2) {
        "use strict";
        var $cancelT;
        module2.exports = {
          lineMode: false,
          pasteCancelled: function() {
            if ($cancelT && $cancelT > Date.now() - 50)
              return true;
            return $cancelT = false;
          },
          cancel: function() {
            $cancelT = Date.now();
          }
        };
      });
      ace.define("ace/keyboard/textinput", ["require", "exports", "module", "ace/lib/event", "ace/lib/useragent", "ace/lib/dom", "ace/lib/lang", "ace/clipboard", "ace/lib/keys"], function(require3, exports2, module2) {
        "use strict";
        var event = require3("../lib/event");
        var useragent = require3("../lib/useragent");
        var dom = require3("../lib/dom");
        var lang = require3("../lib/lang");
        var clipboard = require3("../clipboard");
        var BROKEN_SETDATA = useragent.isChrome < 18;
        var USE_IE_MIME_TYPE = useragent.isIE;
        var HAS_FOCUS_ARGS = useragent.isChrome > 63;
        var MAX_LINE_LENGTH = 400;
        var KEYS = require3("../lib/keys");
        var MODS = KEYS.KEY_MODS;
        var isIOS = useragent.isIOS;
        var valueResetRegex = isIOS ? /\s/ : /\n/;
        var isMobile = useragent.isMobile;
        var TextInput = function(parentNode, host) {
          var text = dom.createElement("textarea");
          text.className = "ace_text-input";
          text.setAttribute("wrap", "off");
          text.setAttribute("autocorrect", "off");
          text.setAttribute("autocapitalize", "off");
          text.setAttribute("spellcheck", false);
          text.style.opacity = "0";
          parentNode.insertBefore(text, parentNode.firstChild);
          var copied = false;
          var pasted = false;
          var inComposition = false;
          var sendingText = false;
          var tempStyle = "";
          if (!isMobile)
            text.style.fontSize = "1px";
          var commandMode = false;
          var ignoreFocusEvents = false;
          var lastValue = "";
          var lastSelectionStart = 0;
          var lastSelectionEnd = 0;
          var lastRestoreEnd = 0;
          try {
            var isFocused = document.activeElement === text;
          } catch (e10) {
          }
          event.addListener(text, "blur", function(e10) {
            if (ignoreFocusEvents)
              return;
            host.onBlur(e10);
            isFocused = false;
          }, host);
          event.addListener(text, "focus", function(e10) {
            if (ignoreFocusEvents)
              return;
            isFocused = true;
            if (useragent.isEdge) {
              try {
                if (!document.hasFocus())
                  return;
              } catch (e11) {
              }
            }
            host.onFocus(e10);
            if (useragent.isEdge)
              setTimeout(resetSelection);
            else
              resetSelection();
          }, host);
          this.$focusScroll = false;
          this.focus = function() {
            if (tempStyle || HAS_FOCUS_ARGS || this.$focusScroll == "browser")
              return text.focus({ preventScroll: true });
            var top = text.style.top;
            text.style.position = "fixed";
            text.style.top = "0px";
            try {
              var isTransformed = text.getBoundingClientRect().top != 0;
            } catch (e10) {
              return;
            }
            var ancestors = [];
            if (isTransformed) {
              var t5 = text.parentElement;
              while (t5 && t5.nodeType == 1) {
                ancestors.push(t5);
                t5.setAttribute("ace_nocontext", true);
                if (!t5.parentElement && t5.getRootNode)
                  t5 = t5.getRootNode().host;
                else
                  t5 = t5.parentElement;
              }
            }
            text.focus({ preventScroll: true });
            if (isTransformed) {
              ancestors.forEach(function(p2) {
                p2.removeAttribute("ace_nocontext");
              });
            }
            setTimeout(function() {
              text.style.position = "";
              if (text.style.top == "0px")
                text.style.top = top;
            }, 0);
          };
          this.blur = function() {
            text.blur();
          };
          this.isFocused = function() {
            return isFocused;
          };
          host.on("beforeEndOperation", function() {
            var curOp = host.curOp;
            var commandName = curOp && curOp.command && curOp.command.name;
            if (commandName == "insertstring")
              return;
            var isUserAction = commandName && (curOp.docChanged || curOp.selectionChanged);
            if (inComposition && isUserAction) {
              lastValue = text.value = "";
              onCompositionEnd();
            }
            resetSelection();
          });
          var resetSelection = isIOS ? function(value) {
            if (!isFocused || copied && !value || sendingText)
              return;
            if (!value)
              value = "";
            var newValue = "\n ab" + value + "cde fg\n";
            if (newValue != text.value)
              text.value = lastValue = newValue;
            var selectionStart = 4;
            var selectionEnd = 4 + (value.length || (host.selection.isEmpty() ? 0 : 1));
            if (lastSelectionStart != selectionStart || lastSelectionEnd != selectionEnd) {
              text.setSelectionRange(selectionStart, selectionEnd);
            }
            lastSelectionStart = selectionStart;
            lastSelectionEnd = selectionEnd;
          } : function() {
            if (inComposition || sendingText)
              return;
            if (!isFocused && !afterContextMenu)
              return;
            inComposition = true;
            var selectionStart = 0;
            var selectionEnd = 0;
            var line = "";
            if (host.session) {
              var selection = host.selection;
              var range = selection.getRange();
              var row = selection.cursor.row;
              selectionStart = range.start.column;
              selectionEnd = range.end.column;
              line = host.session.getLine(row);
              if (range.start.row != row) {
                var prevLine = host.session.getLine(row - 1);
                selectionStart = range.start.row < row - 1 ? 0 : selectionStart;
                selectionEnd += prevLine.length + 1;
                line = prevLine + "\n" + line;
              } else if (range.end.row != row) {
                var nextLine = host.session.getLine(row + 1);
                selectionEnd = range.end.row > row + 1 ? nextLine.length : selectionEnd;
                selectionEnd += line.length + 1;
                line = line + "\n" + nextLine;
              } else if (isMobile && row > 0) {
                line = "\n" + line;
                selectionEnd += 1;
                selectionStart += 1;
              }
              if (line.length > MAX_LINE_LENGTH) {
                if (selectionStart < MAX_LINE_LENGTH && selectionEnd < MAX_LINE_LENGTH) {
                  line = line.slice(0, MAX_LINE_LENGTH);
                } else {
                  line = "\n";
                  if (selectionStart == selectionEnd) {
                    selectionStart = selectionEnd = 0;
                  } else {
                    selectionStart = 0;
                    selectionEnd = 1;
                  }
                }
              }
            }
            var newValue = line + "\n\n";
            if (newValue != lastValue) {
              text.value = lastValue = newValue;
              lastSelectionStart = lastSelectionEnd = newValue.length;
            }
            if (afterContextMenu) {
              lastSelectionStart = text.selectionStart;
              lastSelectionEnd = text.selectionEnd;
            }
            if (lastSelectionEnd != selectionEnd || lastSelectionStart != selectionStart || text.selectionEnd != lastSelectionEnd) {
              try {
                text.setSelectionRange(selectionStart, selectionEnd);
                lastSelectionStart = selectionStart;
                lastSelectionEnd = selectionEnd;
              } catch (e10) {
              }
            }
            inComposition = false;
          };
          this.resetSelection = resetSelection;
          if (isFocused)
            host.onFocus();
          var isAllSelected = function(text2) {
            return text2.selectionStart === 0 && text2.selectionEnd >= lastValue.length && text2.value === lastValue && lastValue && text2.selectionEnd !== lastSelectionEnd;
          };
          var onSelect = function(e10) {
            if (inComposition)
              return;
            if (copied) {
              copied = false;
            } else if (isAllSelected(text)) {
              host.selectAll();
              resetSelection();
            } else if (isMobile && text.selectionStart != lastSelectionStart) {
              resetSelection();
            }
          };
          var inputHandler = null;
          this.setInputHandler = function(cb) {
            inputHandler = cb;
          };
          this.getInputHandler = function() {
            return inputHandler;
          };
          var afterContextMenu = false;
          var sendText = function(value, fromInput) {
            if (afterContextMenu)
              afterContextMenu = false;
            if (pasted) {
              resetSelection();
              if (value)
                host.onPaste(value);
              pasted = false;
              return "";
            } else {
              var selectionStart = text.selectionStart;
              var selectionEnd = text.selectionEnd;
              var extendLeft = lastSelectionStart;
              var extendRight = lastValue.length - lastSelectionEnd;
              var inserted = value;
              var restoreStart = value.length - selectionStart;
              var restoreEnd = value.length - selectionEnd;
              var i6 = 0;
              while (extendLeft > 0 && lastValue[i6] == value[i6]) {
                i6++;
                extendLeft--;
              }
              inserted = inserted.slice(i6);
              i6 = 1;
              while (extendRight > 0 && lastValue.length - i6 > lastSelectionStart - 1 && lastValue[lastValue.length - i6] == value[value.length - i6]) {
                i6++;
                extendRight--;
              }
              restoreStart -= i6 - 1;
              restoreEnd -= i6 - 1;
              var endIndex = inserted.length - i6 + 1;
              if (endIndex < 0) {
                extendLeft = -endIndex;
                endIndex = 0;
              }
              inserted = inserted.slice(0, endIndex);
              if (!fromInput && !inserted && !restoreStart && !extendLeft && !extendRight && !restoreEnd)
                return "";
              sendingText = true;
              var shouldReset = false;
              if (useragent.isAndroid && inserted == ". ") {
                inserted = "  ";
                shouldReset = true;
              }
              if (inserted && !extendLeft && !extendRight && !restoreStart && !restoreEnd || commandMode) {
                host.onTextInput(inserted);
              } else {
                host.onTextInput(inserted, {
                  extendLeft,
                  extendRight,
                  restoreStart,
                  restoreEnd
                });
              }
              sendingText = false;
              lastValue = value;
              lastSelectionStart = selectionStart;
              lastSelectionEnd = selectionEnd;
              lastRestoreEnd = restoreEnd;
              return shouldReset ? "\n" : inserted;
            }
          };
          var onInput = function(e10) {
            if (inComposition)
              return onCompositionUpdate();
            if (e10 && e10.inputType) {
              if (e10.inputType == "historyUndo")
                return host.execCommand("undo");
              if (e10.inputType == "historyRedo")
                return host.execCommand("redo");
            }
            var data = text.value;
            var inserted = sendText(data, true);
            if (data.length > MAX_LINE_LENGTH + 100 || valueResetRegex.test(inserted) || isMobile && lastSelectionStart < 1 && lastSelectionStart == lastSelectionEnd) {
              resetSelection();
            }
          };
          var handleClipboardData = function(e10, data, forceIEMime) {
            var clipboardData = e10.clipboardData || window.clipboardData;
            if (!clipboardData || BROKEN_SETDATA)
              return;
            var mime = USE_IE_MIME_TYPE || forceIEMime ? "Text" : "text/plain";
            try {
              if (data) {
                return clipboardData.setData(mime, data) !== false;
              } else {
                return clipboardData.getData(mime);
              }
            } catch (e11) {
              if (!forceIEMime)
                return handleClipboardData(e11, data, true);
            }
          };
          var doCopy = function(e10, isCut) {
            var data = host.getCopyText();
            if (!data)
              return event.preventDefault(e10);
            if (handleClipboardData(e10, data)) {
              if (isIOS) {
                resetSelection(data);
                copied = data;
                setTimeout(function() {
                  copied = false;
                }, 10);
              }
              isCut ? host.onCut() : host.onCopy();
              event.preventDefault(e10);
            } else {
              copied = true;
              text.value = data;
              text.select();
              setTimeout(function() {
                copied = false;
                resetSelection();
                isCut ? host.onCut() : host.onCopy();
              });
            }
          };
          var onCut = function(e10) {
            doCopy(e10, true);
          };
          var onCopy = function(e10) {
            doCopy(e10, false);
          };
          var onPaste = function(e10) {
            var data = handleClipboardData(e10);
            if (clipboard.pasteCancelled())
              return;
            if (typeof data == "string") {
              if (data)
                host.onPaste(data, e10);
              if (useragent.isIE)
                setTimeout(resetSelection);
              event.preventDefault(e10);
            } else {
              text.value = "";
              pasted = true;
            }
          };
          event.addCommandKeyListener(text, host.onCommandKey.bind(host), host);
          event.addListener(text, "select", onSelect, host);
          event.addListener(text, "input", onInput, host);
          event.addListener(text, "cut", onCut, host);
          event.addListener(text, "copy", onCopy, host);
          event.addListener(text, "paste", onPaste, host);
          if (!("oncut" in text) || !("oncopy" in text) || !("onpaste" in text)) {
            event.addListener(parentNode, "keydown", function(e10) {
              if (useragent.isMac && !e10.metaKey || !e10.ctrlKey)
                return;
              switch (e10.keyCode) {
                case 67:
                  onCopy(e10);
                  break;
                case 86:
                  onPaste(e10);
                  break;
                case 88:
                  onCut(e10);
                  break;
              }
            }, host);
          }
          var onCompositionStart = function(e10) {
            if (inComposition || !host.onCompositionStart || host.$readOnly)
              return;
            inComposition = {};
            if (commandMode)
              return;
            if (e10.data)
              inComposition.useTextareaForIME = false;
            setTimeout(onCompositionUpdate, 0);
            host._signal("compositionStart");
            host.on("mousedown", cancelComposition);
            var range = host.getSelectionRange();
            range.end.row = range.start.row;
            range.end.column = range.start.column;
            inComposition.markerRange = range;
            inComposition.selectionStart = lastSelectionStart;
            host.onCompositionStart(inComposition);
            if (inComposition.useTextareaForIME) {
              lastValue = text.value = "";
              lastSelectionStart = 0;
              lastSelectionEnd = 0;
            } else {
              if (text.msGetInputContext)
                inComposition.context = text.msGetInputContext();
              if (text.getInputContext)
                inComposition.context = text.getInputContext();
            }
          };
          var onCompositionUpdate = function() {
            if (!inComposition || !host.onCompositionUpdate || host.$readOnly)
              return;
            if (commandMode)
              return cancelComposition();
            if (inComposition.useTextareaForIME) {
              host.onCompositionUpdate(text.value);
            } else {
              var data = text.value;
              sendText(data);
              if (inComposition.markerRange) {
                if (inComposition.context) {
                  inComposition.markerRange.start.column = inComposition.selectionStart = inComposition.context.compositionStartOffset;
                }
                inComposition.markerRange.end.column = inComposition.markerRange.start.column + lastSelectionEnd - inComposition.selectionStart + lastRestoreEnd;
              }
            }
          };
          var onCompositionEnd = function(e10) {
            if (!host.onCompositionEnd || host.$readOnly)
              return;
            inComposition = false;
            host.onCompositionEnd();
            host.off("mousedown", cancelComposition);
            if (e10)
              onInput();
          };
          function cancelComposition() {
            ignoreFocusEvents = true;
            text.blur();
            text.focus();
            ignoreFocusEvents = false;
          }
          var syncComposition = lang.delayedCall(onCompositionUpdate, 50).schedule.bind(null, null);
          function onKeyup(e10) {
            if (e10.keyCode == 27 && text.value.length < text.selectionStart) {
              if (!inComposition)
                lastValue = text.value;
              lastSelectionStart = lastSelectionEnd = -1;
              resetSelection();
            }
            syncComposition();
          }
          event.addListener(text, "compositionstart", onCompositionStart, host);
          event.addListener(text, "compositionupdate", onCompositionUpdate, host);
          event.addListener(text, "keyup", onKeyup, host);
          event.addListener(text, "keydown", syncComposition, host);
          event.addListener(text, "compositionend", onCompositionEnd, host);
          this.getElement = function() {
            return text;
          };
          this.setCommandMode = function(value) {
            commandMode = value;
            text.readOnly = false;
          };
          this.setReadOnly = function(readOnly) {
            if (!commandMode)
              text.readOnly = readOnly;
          };
          this.setCopyWithEmptySelection = function(value) {
          };
          this.onContextMenu = function(e10) {
            afterContextMenu = true;
            resetSelection();
            host._emit("nativecontextmenu", { target: host, domEvent: e10 });
            this.moveToMouse(e10, true);
          };
          this.moveToMouse = function(e10, bringToFront) {
            if (!tempStyle)
              tempStyle = text.style.cssText;
            text.style.cssText = (bringToFront ? "z-index:100000;" : "") + (useragent.isIE ? "opacity:0.1;" : "") + "text-indent: -" + (lastSelectionStart + lastSelectionEnd) * host.renderer.characterWidth * 0.5 + "px;";
            var rect = host.container.getBoundingClientRect();
            var style = dom.computedStyle(host.container);
            var top = rect.top + (parseInt(style.borderTopWidth) || 0);
            var left = rect.left + (parseInt(rect.borderLeftWidth) || 0);
            var maxTop = rect.bottom - top - text.clientHeight - 2;
            var move = function(e11) {
              dom.translate(text, e11.clientX - left - 2, Math.min(e11.clientY - top - 2, maxTop));
            };
            move(e10);
            if (e10.type != "mousedown")
              return;
            host.renderer.$isMousePressed = true;
            clearTimeout(closeTimeout);
            if (useragent.isWin)
              event.capture(host.container, move, onContextMenuClose);
          };
          this.onContextMenuClose = onContextMenuClose;
          var closeTimeout;
          function onContextMenuClose() {
            clearTimeout(closeTimeout);
            closeTimeout = setTimeout(function() {
              if (tempStyle) {
                text.style.cssText = tempStyle;
                tempStyle = "";
              }
              host.renderer.$isMousePressed = false;
              if (host.renderer.$keepTextAreaAtCursor)
                host.renderer.$moveTextAreaToCursor();
            }, 0);
          }
          var onContextMenu = function(e10) {
            host.textInput.onContextMenu(e10);
            onContextMenuClose();
          };
          event.addListener(text, "mouseup", onContextMenu, host);
          event.addListener(text, "mousedown", function(e10) {
            e10.preventDefault();
            onContextMenuClose();
          }, host);
          event.addListener(host.renderer.scroller, "contextmenu", onContextMenu, host);
          event.addListener(text, "contextmenu", onContextMenu, host);
          if (isIOS)
            addIosSelectionHandler(parentNode, host, text);
          function addIosSelectionHandler(parentNode2, host2, text2) {
            var typingResetTimeout = null;
            var typing = false;
            text2.addEventListener("keydown", function(e10) {
              if (typingResetTimeout)
                clearTimeout(typingResetTimeout);
              typing = true;
            }, true);
            text2.addEventListener("keyup", function(e10) {
              typingResetTimeout = setTimeout(function() {
                typing = false;
              }, 100);
            }, true);
            var detectArrowKeys = function(e10) {
              if (document.activeElement !== text2)
                return;
              if (typing || inComposition || host2.$mouseHandler.isMousePressed)
                return;
              if (copied) {
                return;
              }
              var selectionStart = text2.selectionStart;
              var selectionEnd = text2.selectionEnd;
              var key = null;
              var modifier = 0;
              if (selectionStart == 0) {
                key = KEYS.up;
              } else if (selectionStart == 1) {
                key = KEYS.home;
              } else if (selectionEnd > lastSelectionEnd && lastValue[selectionEnd] == "\n") {
                key = KEYS.end;
              } else if (selectionStart < lastSelectionStart && lastValue[selectionStart - 1] == " ") {
                key = KEYS.left;
                modifier = MODS.option;
              } else if (selectionStart < lastSelectionStart || selectionStart == lastSelectionStart && lastSelectionEnd != lastSelectionStart && selectionStart == selectionEnd) {
                key = KEYS.left;
              } else if (selectionEnd > lastSelectionEnd && lastValue.slice(0, selectionEnd).split("\n").length > 2) {
                key = KEYS.down;
              } else if (selectionEnd > lastSelectionEnd && lastValue[selectionEnd - 1] == " ") {
                key = KEYS.right;
                modifier = MODS.option;
              } else if (selectionEnd > lastSelectionEnd || selectionEnd == lastSelectionEnd && lastSelectionEnd != lastSelectionStart && selectionStart == selectionEnd) {
                key = KEYS.right;
              }
              if (selectionStart !== selectionEnd)
                modifier |= MODS.shift;
              if (key) {
                var result = host2.onCommandKey({}, modifier, key);
                if (!result && host2.commands) {
                  key = KEYS.keyCodeToString(key);
                  var command = host2.commands.findKeyCommand(modifier, key);
                  if (command)
                    host2.execCommand(command);
                }
                lastSelectionStart = selectionStart;
                lastSelectionEnd = selectionEnd;
                resetSelection("");
              }
            };
            document.addEventListener("selectionchange", detectArrowKeys);
            host2.on("destroy", function() {
              document.removeEventListener("selectionchange", detectArrowKeys);
            });
          }
          this.destroy = function() {
            if (text.parentElement)
              text.parentElement.removeChild(text);
          };
        };
        exports2.TextInput = TextInput;
        exports2.$setUserAgentForTests = function(_isMobile, _isIOS) {
          isMobile = _isMobile;
          isIOS = _isIOS;
        };
      });
      ace.define("ace/mouse/default_handlers", ["require", "exports", "module", "ace/lib/useragent"], function(require3, exports2, module2) {
        "use strict";
        var useragent = require3("../lib/useragent");
        var DRAG_OFFSET = 0;
        var SCROLL_COOLDOWN_T = 550;
        function DefaultHandlers(mouseHandler) {
          mouseHandler.$clickSelection = null;
          var editor = mouseHandler.editor;
          editor.setDefaultHandler("mousedown", this.onMouseDown.bind(mouseHandler));
          editor.setDefaultHandler("dblclick", this.onDoubleClick.bind(mouseHandler));
          editor.setDefaultHandler("tripleclick", this.onTripleClick.bind(mouseHandler));
          editor.setDefaultHandler("quadclick", this.onQuadClick.bind(mouseHandler));
          editor.setDefaultHandler("mousewheel", this.onMouseWheel.bind(mouseHandler));
          var exports3 = [
            "select",
            "startSelect",
            "selectEnd",
            "selectAllEnd",
            "selectByWordsEnd",
            "selectByLinesEnd",
            "dragWait",
            "dragWaitEnd",
            "focusWait"
          ];
          exports3.forEach(function(x2) {
            mouseHandler[x2] = this[x2];
          }, this);
          mouseHandler.selectByLines = this.extendSelectionBy.bind(mouseHandler, "getLineRange");
          mouseHandler.selectByWords = this.extendSelectionBy.bind(mouseHandler, "getWordRange");
        }
        (function() {
          this.onMouseDown = function(ev) {
            var inSelection = ev.inSelection();
            var pos = ev.getDocumentPosition();
            this.mousedownEvent = ev;
            var editor = this.editor;
            var button = ev.getButton();
            if (button !== 0) {
              var selectionRange = editor.getSelectionRange();
              var selectionEmpty = selectionRange.isEmpty();
              if (selectionEmpty || button == 1)
                editor.selection.moveToPosition(pos);
              if (button == 2) {
                editor.textInput.onContextMenu(ev.domEvent);
                if (!useragent.isMozilla)
                  ev.preventDefault();
              }
              return;
            }
            this.mousedownEvent.time = Date.now();
            if (inSelection && !editor.isFocused()) {
              editor.focus();
              if (this.$focusTimeout && !this.$clickSelection && !editor.inMultiSelectMode) {
                this.setState("focusWait");
                this.captureMouse(ev);
                return;
              }
            }
            this.captureMouse(ev);
            this.startSelect(pos, ev.domEvent._clicks > 1);
            return ev.preventDefault();
          };
          this.startSelect = function(pos, waitForClickSelection) {
            pos = pos || this.editor.renderer.screenToTextCoordinates(this.x, this.y);
            var editor = this.editor;
            if (!this.mousedownEvent)
              return;
            if (this.mousedownEvent.getShiftKey())
              editor.selection.selectToPosition(pos);
            else if (!waitForClickSelection)
              editor.selection.moveToPosition(pos);
            if (!waitForClickSelection)
              this.select();
            if (editor.renderer.scroller.setCapture) {
              editor.renderer.scroller.setCapture();
            }
            editor.setStyle("ace_selecting");
            this.setState("select");
          };
          this.select = function() {
            var anchor, editor = this.editor;
            var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);
            if (this.$clickSelection) {
              var cmp = this.$clickSelection.comparePoint(cursor);
              if (cmp == -1) {
                anchor = this.$clickSelection.end;
              } else if (cmp == 1) {
                anchor = this.$clickSelection.start;
              } else {
                var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);
                cursor = orientedRange.cursor;
                anchor = orientedRange.anchor;
              }
              editor.selection.setSelectionAnchor(anchor.row, anchor.column);
            }
            editor.selection.selectToPosition(cursor);
            editor.renderer.scrollCursorIntoView();
          };
          this.extendSelectionBy = function(unitName) {
            var anchor, editor = this.editor;
            var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);
            var range = editor.selection[unitName](cursor.row, cursor.column);
            if (this.$clickSelection) {
              var cmpStart = this.$clickSelection.comparePoint(range.start);
              var cmpEnd = this.$clickSelection.comparePoint(range.end);
              if (cmpStart == -1 && cmpEnd <= 0) {
                anchor = this.$clickSelection.end;
                if (range.end.row != cursor.row || range.end.column != cursor.column)
                  cursor = range.start;
              } else if (cmpEnd == 1 && cmpStart >= 0) {
                anchor = this.$clickSelection.start;
                if (range.start.row != cursor.row || range.start.column != cursor.column)
                  cursor = range.end;
              } else if (cmpStart == -1 && cmpEnd == 1) {
                cursor = range.end;
                anchor = range.start;
              } else {
                var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);
                cursor = orientedRange.cursor;
                anchor = orientedRange.anchor;
              }
              editor.selection.setSelectionAnchor(anchor.row, anchor.column);
            }
            editor.selection.selectToPosition(cursor);
            editor.renderer.scrollCursorIntoView();
          };
          this.selectEnd = this.selectAllEnd = this.selectByWordsEnd = this.selectByLinesEnd = function() {
            this.$clickSelection = null;
            this.editor.unsetStyle("ace_selecting");
            if (this.editor.renderer.scroller.releaseCapture) {
              this.editor.renderer.scroller.releaseCapture();
            }
          };
          this.focusWait = function() {
            var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);
            var time = Date.now();
            if (distance > DRAG_OFFSET || time - this.mousedownEvent.time > this.$focusTimeout)
              this.startSelect(this.mousedownEvent.getDocumentPosition());
          };
          this.onDoubleClick = function(ev) {
            var pos = ev.getDocumentPosition();
            var editor = this.editor;
            var session = editor.session;
            var range = session.getBracketRange(pos);
            if (range) {
              if (range.isEmpty()) {
                range.start.column--;
                range.end.column++;
              }
              this.setState("select");
            } else {
              range = editor.selection.getWordRange(pos.row, pos.column);
              this.setState("selectByWords");
            }
            this.$clickSelection = range;
            this.select();
          };
          this.onTripleClick = function(ev) {
            var pos = ev.getDocumentPosition();
            var editor = this.editor;
            this.setState("selectByLines");
            var range = editor.getSelectionRange();
            if (range.isMultiLine() && range.contains(pos.row, pos.column)) {
              this.$clickSelection = editor.selection.getLineRange(range.start.row);
              this.$clickSelection.end = editor.selection.getLineRange(range.end.row).end;
            } else {
              this.$clickSelection = editor.selection.getLineRange(pos.row);
            }
            this.select();
          };
          this.onQuadClick = function(ev) {
            var editor = this.editor;
            editor.selectAll();
            this.$clickSelection = editor.getSelectionRange();
            this.setState("selectAll");
          };
          this.onMouseWheel = function(ev) {
            if (ev.getAccelKey())
              return;
            if (ev.getShiftKey() && ev.wheelY && !ev.wheelX) {
              ev.wheelX = ev.wheelY;
              ev.wheelY = 0;
            }
            var editor = this.editor;
            if (!this.$lastScroll)
              this.$lastScroll = { t: 0, vx: 0, vy: 0, allowed: 0 };
            var prevScroll = this.$lastScroll;
            var t5 = ev.domEvent.timeStamp;
            var dt = t5 - prevScroll.t;
            var vx = dt ? ev.wheelX / dt : prevScroll.vx;
            var vy = dt ? ev.wheelY / dt : prevScroll.vy;
            if (dt < SCROLL_COOLDOWN_T) {
              vx = (vx + prevScroll.vx) / 2;
              vy = (vy + prevScroll.vy) / 2;
            }
            var direction = Math.abs(vx / vy);
            var canScroll = false;
            if (direction >= 1 && editor.renderer.isScrollableBy(ev.wheelX * ev.speed, 0))
              canScroll = true;
            if (direction <= 1 && editor.renderer.isScrollableBy(0, ev.wheelY * ev.speed))
              canScroll = true;
            if (canScroll) {
              prevScroll.allowed = t5;
            } else if (t5 - prevScroll.allowed < SCROLL_COOLDOWN_T) {
              var isSlower = Math.abs(vx) <= 1.5 * Math.abs(prevScroll.vx) && Math.abs(vy) <= 1.5 * Math.abs(prevScroll.vy);
              if (isSlower) {
                canScroll = true;
                prevScroll.allowed = t5;
              } else {
                prevScroll.allowed = 0;
              }
            }
            prevScroll.t = t5;
            prevScroll.vx = vx;
            prevScroll.vy = vy;
            if (canScroll) {
              editor.renderer.scrollBy(ev.wheelX * ev.speed, ev.wheelY * ev.speed);
              return ev.stop();
            }
          };
        }).call(DefaultHandlers.prototype);
        exports2.DefaultHandlers = DefaultHandlers;
        function calcDistance(ax, ay, bx, by) {
          return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));
        }
        function calcRangeOrientation(range, cursor) {
          if (range.start.row == range.end.row)
            var cmp = 2 * cursor.column - range.start.column - range.end.column;
          else if (range.start.row == range.end.row - 1 && !range.start.column && !range.end.column)
            var cmp = cursor.column - 4;
          else
            var cmp = 2 * cursor.row - range.start.row - range.end.row;
          if (cmp < 0)
            return { cursor: range.start, anchor: range.end };
          else
            return { cursor: range.end, anchor: range.start };
        }
      });
      ace.define("ace/tooltip", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom"], function(require3, exports2, module2) {
        "use strict";
        var oop = require3("./lib/oop");
        var dom = require3("./lib/dom");
        var CLASSNAME = "ace_tooltip";
        function Tooltip(parentNode) {
          this.isOpen = false;
          this.$element = null;
          this.$parentNode = parentNode;
        }
        (function() {
          this.$init = function() {
            this.$element = dom.createElement("div");
            this.$element.className = CLASSNAME;
            this.$element.style.display = "none";
            this.$parentNode.appendChild(this.$element);
            return this.$element;
          };
          this.getElement = function() {
            return this.$element || this.$init();
          };
          this.setText = function(text) {
            this.getElement().textContent = text;
          };
          this.setHtml = function(html) {
            this.getElement().innerHTML = html;
          };
          this.setPosition = function(x2, y2) {
            this.getElement().style.left = x2 + "px";
            this.getElement().style.top = y2 + "px";
          };
          this.setClassName = function(className) {
            dom.addCssClass(this.getElement(), className);
          };
          this.show = function(text, x2, y2) {
            if (text != null)
              this.setText(text);
            if (x2 != null && y2 != null)
              this.setPosition(x2, y2);
            if (!this.isOpen) {
              this.getElement().style.display = "block";
              this.isOpen = true;
            }
          };
          this.hide = function() {
            if (this.isOpen) {
              this.getElement().style.display = "none";
              this.getElement().className = CLASSNAME;
              this.isOpen = false;
            }
          };
          this.getHeight = function() {
            return this.getElement().offsetHeight;
          };
          this.getWidth = function() {
            return this.getElement().offsetWidth;
          };
          this.destroy = function() {
            this.isOpen = false;
            if (this.$element && this.$element.parentNode) {
              this.$element.parentNode.removeChild(this.$element);
            }
          };
        }).call(Tooltip.prototype);
        exports2.Tooltip = Tooltip;
      });
      ace.define("ace/mouse/default_gutter_handler", ["require", "exports", "module", "ace/lib/dom", "ace/lib/oop", "ace/lib/event", "ace/tooltip"], function(require3, exports2, module2) {
        "use strict";
        var dom = require3("../lib/dom");
        var oop = require3("../lib/oop");
        var event = require3("../lib/event");
        var Tooltip = require3("../tooltip").Tooltip;
        function GutterHandler(mouseHandler) {
          var editor = mouseHandler.editor;
          var gutter = editor.renderer.$gutterLayer;
          var tooltip = new GutterTooltip(editor.container);
          mouseHandler.editor.setDefaultHandler("guttermousedown", function(e10) {
            if (!editor.isFocused() || e10.getButton() != 0)
              return;
            var gutterRegion = gutter.getRegion(e10);
            if (gutterRegion == "foldWidgets")
              return;
            var row = e10.getDocumentPosition().row;
            var selection = editor.session.selection;
            if (e10.getShiftKey())
              selection.selectTo(row, 0);
            else {
              if (e10.domEvent.detail == 2) {
                editor.selectAll();
                return e10.preventDefault();
              }
              mouseHandler.$clickSelection = editor.selection.getLineRange(row);
            }
            mouseHandler.setState("selectByLines");
            mouseHandler.captureMouse(e10);
            return e10.preventDefault();
          });
          var tooltipTimeout, mouseEvent, tooltipAnnotation;
          function showTooltip() {
            var row = mouseEvent.getDocumentPosition().row;
            var annotation = gutter.$annotations[row];
            if (!annotation)
              return hideTooltip();
            var maxRow = editor.session.getLength();
            if (row == maxRow) {
              var screenRow = editor.renderer.pixelToScreenCoordinates(0, mouseEvent.y).row;
              var pos = mouseEvent.$pos;
              if (screenRow > editor.session.documentToScreenRow(pos.row, pos.column))
                return hideTooltip();
            }
            if (tooltipAnnotation == annotation)
              return;
            tooltipAnnotation = annotation.text.join("<br/>");
            tooltip.setHtml(tooltipAnnotation);
            var annotationClassName = annotation.className;
            if (annotationClassName) {
              tooltip.setClassName(annotationClassName.trim());
            }
            tooltip.show();
            editor._signal("showGutterTooltip", tooltip);
            editor.on("mousewheel", hideTooltip);
            if (mouseHandler.$tooltipFollowsMouse) {
              moveTooltip(mouseEvent);
            } else {
              var gutterElement = mouseEvent.domEvent.target;
              var rect = gutterElement.getBoundingClientRect();
              var style = tooltip.getElement().style;
              style.left = rect.right + "px";
              style.top = rect.bottom + "px";
            }
          }
          function hideTooltip() {
            if (tooltipTimeout)
              tooltipTimeout = clearTimeout(tooltipTimeout);
            if (tooltipAnnotation) {
              tooltip.hide();
              tooltipAnnotation = null;
              editor._signal("hideGutterTooltip", tooltip);
              editor.off("mousewheel", hideTooltip);
            }
          }
          function moveTooltip(e10) {
            tooltip.setPosition(e10.x, e10.y);
          }
          mouseHandler.editor.setDefaultHandler("guttermousemove", function(e10) {
            var target = e10.domEvent.target || e10.domEvent.srcElement;
            if (dom.hasCssClass(target, "ace_fold-widget"))
              return hideTooltip();
            if (tooltipAnnotation && mouseHandler.$tooltipFollowsMouse)
              moveTooltip(e10);
            mouseEvent = e10;
            if (tooltipTimeout)
              return;
            tooltipTimeout = setTimeout(function() {
              tooltipTimeout = null;
              if (mouseEvent && !mouseHandler.isMousePressed)
                showTooltip();
              else
                hideTooltip();
            }, 50);
          });
          event.addListener(editor.renderer.$gutter, "mouseout", function(e10) {
            mouseEvent = null;
            if (!tooltipAnnotation || tooltipTimeout)
              return;
            tooltipTimeout = setTimeout(function() {
              tooltipTimeout = null;
              hideTooltip();
            }, 50);
          }, editor);
          editor.on("changeSession", hideTooltip);
        }
        function GutterTooltip(parentNode) {
          Tooltip.call(this, parentNode);
        }
        oop.inherits(GutterTooltip, Tooltip);
        (function() {
          this.setPosition = function(x2, y2) {
            var windowWidth = window.innerWidth || document.documentElement.clientWidth;
            var windowHeight = window.innerHeight || document.documentElement.clientHeight;
            var width = this.getWidth();
            var height = this.getHeight();
            x2 += 15;
            y2 += 15;
            if (x2 + width > windowWidth) {
              x2 -= x2 + width - windowWidth;
            }
            if (y2 + height > windowHeight) {
              y2 -= 20 + height;
            }
            Tooltip.prototype.setPosition.call(this, x2, y2);
          };
        }).call(GutterTooltip.prototype);
        exports2.GutterHandler = GutterHandler;
      });
      ace.define("ace/mouse/mouse_event", ["require", "exports", "module", "ace/lib/event", "ace/lib/useragent"], function(require3, exports2, module2) {
        "use strict";
        var event = require3("../lib/event");
        var useragent = require3("../lib/useragent");
        var MouseEvent = exports2.MouseEvent = function(domEvent, editor) {
          this.domEvent = domEvent;
          this.editor = editor;
          this.x = this.clientX = domEvent.clientX;
          this.y = this.clientY = domEvent.clientY;
          this.$pos = null;
          this.$inSelection = null;
          this.propagationStopped = false;
          this.defaultPrevented = false;
        };
        (function() {
          this.stopPropagation = function() {
            event.stopPropagation(this.domEvent);
            this.propagationStopped = true;
          };
          this.preventDefault = function() {
            event.preventDefault(this.domEvent);
            this.defaultPrevented = true;
          };
          this.stop = function() {
            this.stopPropagation();
            this.preventDefault();
          };
          this.getDocumentPosition = function() {
            if (this.$pos)
              return this.$pos;
            this.$pos = this.editor.renderer.screenToTextCoordinates(this.clientX, this.clientY);
            return this.$pos;
          };
          this.inSelection = function() {
            if (this.$inSelection !== null)
              return this.$inSelection;
            var editor = this.editor;
            var selectionRange = editor.getSelectionRange();
            if (selectionRange.isEmpty())
              this.$inSelection = false;
            else {
              var pos = this.getDocumentPosition();
              this.$inSelection = selectionRange.contains(pos.row, pos.column);
            }
            return this.$inSelection;
          };
          this.getButton = function() {
            return event.getButton(this.domEvent);
          };
          this.getShiftKey = function() {
            return this.domEvent.shiftKey;
          };
          this.getAccelKey = useragent.isMac ? function() {
            return this.domEvent.metaKey;
          } : function() {
            return this.domEvent.ctrlKey;
          };
        }).call(MouseEvent.prototype);
      });
      ace.define("ace/mouse/dragdrop_handler", ["require", "exports", "module", "ace/lib/dom", "ace/lib/event", "ace/lib/useragent"], function(require3, exports2, module2) {
        "use strict";
        var dom = require3("../lib/dom");
        var event = require3("../lib/event");
        var useragent = require3("../lib/useragent");
        var AUTOSCROLL_DELAY = 200;
        var SCROLL_CURSOR_DELAY = 200;
        var SCROLL_CURSOR_HYSTERESIS = 5;
        function DragdropHandler(mouseHandler) {
          var editor = mouseHandler.editor;
          var dragImage = dom.createElement("div");
          dragImage.style.cssText = "top:-100px;position:absolute;z-index:2147483647;opacity:0.5";
          dragImage.textContent = "\xA0";
          var exports3 = ["dragWait", "dragWaitEnd", "startDrag", "dragReadyEnd", "onMouseDrag"];
          exports3.forEach(function(x3) {
            mouseHandler[x3] = this[x3];
          }, this);
          editor.on("mousedown", this.onMouseDown.bind(mouseHandler));
          var mouseTarget = editor.container;
          var dragSelectionMarker, x2, y2;
          var timerId, range;
          var dragCursor, counter = 0;
          var dragOperation;
          var isInternal;
          var autoScrollStartTime;
          var cursorMovedTime;
          var cursorPointOnCaretMoved;
          this.onDragStart = function(e10) {
            if (this.cancelDrag || !mouseTarget.draggable) {
              var self = this;
              setTimeout(function() {
                self.startSelect();
                self.captureMouse(e10);
              }, 0);
              return e10.preventDefault();
            }
            range = editor.getSelectionRange();
            var dataTransfer = e10.dataTransfer;
            dataTransfer.effectAllowed = editor.getReadOnly() ? "copy" : "copyMove";
            editor.container.appendChild(dragImage);
            dataTransfer.setDragImage && dataTransfer.setDragImage(dragImage, 0, 0);
            setTimeout(function() {
              editor.container.removeChild(dragImage);
            });
            dataTransfer.clearData();
            dataTransfer.setData("Text", editor.session.getTextRange());
            isInternal = true;
            this.setState("drag");
          };
          this.onDragEnd = function(e10) {
            mouseTarget.draggable = false;
            isInternal = false;
            this.setState(null);
            if (!editor.getReadOnly()) {
              var dropEffect = e10.dataTransfer.dropEffect;
              if (!dragOperation && dropEffect == "move")
                editor.session.remove(editor.getSelectionRange());
              editor.$resetCursorStyle();
            }
            this.editor.unsetStyle("ace_dragging");
            this.editor.renderer.setCursorStyle("");
          };
          this.onDragEnter = function(e10) {
            if (editor.getReadOnly() || !canAccept(e10.dataTransfer))
              return;
            x2 = e10.clientX;
            y2 = e10.clientY;
            if (!dragSelectionMarker)
              addDragMarker();
            counter++;
            e10.dataTransfer.dropEffect = dragOperation = getDropEffect(e10);
            return event.preventDefault(e10);
          };
          this.onDragOver = function(e10) {
            if (editor.getReadOnly() || !canAccept(e10.dataTransfer))
              return;
            x2 = e10.clientX;
            y2 = e10.clientY;
            if (!dragSelectionMarker) {
              addDragMarker();
              counter++;
            }
            if (onMouseMoveTimer !== null)
              onMouseMoveTimer = null;
            e10.dataTransfer.dropEffect = dragOperation = getDropEffect(e10);
            return event.preventDefault(e10);
          };
          this.onDragLeave = function(e10) {
            counter--;
            if (counter <= 0 && dragSelectionMarker) {
              clearDragMarker();
              dragOperation = null;
              return event.preventDefault(e10);
            }
          };
          this.onDrop = function(e10) {
            if (!dragCursor)
              return;
            var dataTransfer = e10.dataTransfer;
            if (isInternal) {
              switch (dragOperation) {
                case "move":
                  if (range.contains(dragCursor.row, dragCursor.column)) {
                    range = {
                      start: dragCursor,
                      end: dragCursor
                    };
                  } else {
                    range = editor.moveText(range, dragCursor);
                  }
                  break;
                case "copy":
                  range = editor.moveText(range, dragCursor, true);
                  break;
              }
            } else {
              var dropData = dataTransfer.getData("Text");
              range = {
                start: dragCursor,
                end: editor.session.insert(dragCursor, dropData)
              };
              editor.focus();
              dragOperation = null;
            }
            clearDragMarker();
            return event.preventDefault(e10);
          };
          event.addListener(mouseTarget, "dragstart", this.onDragStart.bind(mouseHandler), editor);
          event.addListener(mouseTarget, "dragend", this.onDragEnd.bind(mouseHandler), editor);
          event.addListener(mouseTarget, "dragenter", this.onDragEnter.bind(mouseHandler), editor);
          event.addListener(mouseTarget, "dragover", this.onDragOver.bind(mouseHandler), editor);
          event.addListener(mouseTarget, "dragleave", this.onDragLeave.bind(mouseHandler), editor);
          event.addListener(mouseTarget, "drop", this.onDrop.bind(mouseHandler), editor);
          function scrollCursorIntoView(cursor, prevCursor) {
            var now = Date.now();
            var vMovement = !prevCursor || cursor.row != prevCursor.row;
            var hMovement = !prevCursor || cursor.column != prevCursor.column;
            if (!cursorMovedTime || vMovement || hMovement) {
              editor.moveCursorToPosition(cursor);
              cursorMovedTime = now;
              cursorPointOnCaretMoved = { x: x2, y: y2 };
            } else {
              var distance = calcDistance(cursorPointOnCaretMoved.x, cursorPointOnCaretMoved.y, x2, y2);
              if (distance > SCROLL_CURSOR_HYSTERESIS) {
                cursorMovedTime = null;
              } else if (now - cursorMovedTime >= SCROLL_CURSOR_DELAY) {
                editor.renderer.scrollCursorIntoView();
                cursorMovedTime = null;
              }
            }
          }
          function autoScroll(cursor, prevCursor) {
            var now = Date.now();
            var lineHeight = editor.renderer.layerConfig.lineHeight;
            var characterWidth = editor.renderer.layerConfig.characterWidth;
            var editorRect = editor.renderer.scroller.getBoundingClientRect();
            var offsets = {
              x: {
                left: x2 - editorRect.left,
                right: editorRect.right - x2
              },
              y: {
                top: y2 - editorRect.top,
                bottom: editorRect.bottom - y2
              }
            };
            var nearestXOffset = Math.min(offsets.x.left, offsets.x.right);
            var nearestYOffset = Math.min(offsets.y.top, offsets.y.bottom);
            var scrollCursor = { row: cursor.row, column: cursor.column };
            if (nearestXOffset / characterWidth <= 2) {
              scrollCursor.column += offsets.x.left < offsets.x.right ? -3 : 2;
            }
            if (nearestYOffset / lineHeight <= 1) {
              scrollCursor.row += offsets.y.top < offsets.y.bottom ? -1 : 1;
            }
            var vScroll = cursor.row != scrollCursor.row;
            var hScroll = cursor.column != scrollCursor.column;
            var vMovement = !prevCursor || cursor.row != prevCursor.row;
            if (vScroll || hScroll && !vMovement) {
              if (!autoScrollStartTime)
                autoScrollStartTime = now;
              else if (now - autoScrollStartTime >= AUTOSCROLL_DELAY)
                editor.renderer.scrollCursorIntoView(scrollCursor);
            } else {
              autoScrollStartTime = null;
            }
          }
          function onDragInterval() {
            var prevCursor = dragCursor;
            dragCursor = editor.renderer.screenToTextCoordinates(x2, y2);
            scrollCursorIntoView(dragCursor, prevCursor);
            autoScroll(dragCursor, prevCursor);
          }
          function addDragMarker() {
            range = editor.selection.toOrientedRange();
            dragSelectionMarker = editor.session.addMarker(range, "ace_selection", editor.getSelectionStyle());
            editor.clearSelection();
            if (editor.isFocused())
              editor.renderer.$cursorLayer.setBlinking(false);
            clearInterval(timerId);
            onDragInterval();
            timerId = setInterval(onDragInterval, 20);
            counter = 0;
            event.addListener(document, "mousemove", onMouseMove);
          }
          function clearDragMarker() {
            clearInterval(timerId);
            editor.session.removeMarker(dragSelectionMarker);
            dragSelectionMarker = null;
            editor.selection.fromOrientedRange(range);
            if (editor.isFocused() && !isInternal)
              editor.$resetCursorStyle();
            range = null;
            dragCursor = null;
            counter = 0;
            autoScrollStartTime = null;
            cursorMovedTime = null;
            event.removeListener(document, "mousemove", onMouseMove);
          }
          var onMouseMoveTimer = null;
          function onMouseMove() {
            if (onMouseMoveTimer == null) {
              onMouseMoveTimer = setTimeout(function() {
                if (onMouseMoveTimer != null && dragSelectionMarker)
                  clearDragMarker();
              }, 20);
            }
          }
          function canAccept(dataTransfer) {
            var types = dataTransfer.types;
            return !types || Array.prototype.some.call(types, function(type) {
              return type == "text/plain" || type == "Text";
            });
          }
          function getDropEffect(e10) {
            var copyAllowed = ["copy", "copymove", "all", "uninitialized"];
            var moveAllowed = ["move", "copymove", "linkmove", "all", "uninitialized"];
            var copyModifierState = useragent.isMac ? e10.altKey : e10.ctrlKey;
            var effectAllowed = "uninitialized";
            try {
              effectAllowed = e10.dataTransfer.effectAllowed.toLowerCase();
            } catch (e11) {
            }
            var dropEffect = "none";
            if (copyModifierState && copyAllowed.indexOf(effectAllowed) >= 0)
              dropEffect = "copy";
            else if (moveAllowed.indexOf(effectAllowed) >= 0)
              dropEffect = "move";
            else if (copyAllowed.indexOf(effectAllowed) >= 0)
              dropEffect = "copy";
            return dropEffect;
          }
        }
        (function() {
          this.dragWait = function() {
            var interval = Date.now() - this.mousedownEvent.time;
            if (interval > this.editor.getDragDelay())
              this.startDrag();
          };
          this.dragWaitEnd = function() {
            var target = this.editor.container;
            target.draggable = false;
            this.startSelect(this.mousedownEvent.getDocumentPosition());
            this.selectEnd();
          };
          this.dragReadyEnd = function(e10) {
            this.editor.$resetCursorStyle();
            this.editor.unsetStyle("ace_dragging");
            this.editor.renderer.setCursorStyle("");
            this.dragWaitEnd();
          };
          this.startDrag = function() {
            this.cancelDrag = false;
            var editor = this.editor;
            var target = editor.container;
            target.draggable = true;
            editor.renderer.$cursorLayer.setBlinking(false);
            editor.setStyle("ace_dragging");
            var cursorStyle = useragent.isWin ? "default" : "move";
            editor.renderer.setCursorStyle(cursorStyle);
            this.setState("dragReady");
          };
          this.onMouseDrag = function(e10) {
            var target = this.editor.container;
            if (useragent.isIE && this.state == "dragReady") {
              var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);
              if (distance > 3)
                target.dragDrop();
            }
            if (this.state === "dragWait") {
              var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);
              if (distance > 0) {
                target.draggable = false;
                this.startSelect(this.mousedownEvent.getDocumentPosition());
              }
            }
          };
          this.onMouseDown = function(e10) {
            if (!this.$dragEnabled)
              return;
            this.mousedownEvent = e10;
            var editor = this.editor;
            var inSelection = e10.inSelection();
            var button = e10.getButton();
            var clickCount = e10.domEvent.detail || 1;
            if (clickCount === 1 && button === 0 && inSelection) {
              if (e10.editor.inMultiSelectMode && (e10.getAccelKey() || e10.getShiftKey()))
                return;
              this.mousedownEvent.time = Date.now();
              var eventTarget = e10.domEvent.target || e10.domEvent.srcElement;
              if ("unselectable" in eventTarget)
                eventTarget.unselectable = "on";
              if (editor.getDragDelay()) {
                if (useragent.isWebKit) {
                  this.cancelDrag = true;
                  var mouseTarget = editor.container;
                  mouseTarget.draggable = true;
                }
                this.setState("dragWait");
              } else {
                this.startDrag();
              }
              this.captureMouse(e10, this.onMouseDrag.bind(this));
              e10.defaultPrevented = true;
            }
          };
        }).call(DragdropHandler.prototype);
        function calcDistance(ax, ay, bx, by) {
          return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));
        }
        exports2.DragdropHandler = DragdropHandler;
      });
      ace.define("ace/mouse/touch_handler", ["require", "exports", "module", "ace/mouse/mouse_event", "ace/lib/event", "ace/lib/dom"], function(require3, exports2, module2) {
        "use strict";
        var MouseEvent = require3("./mouse_event").MouseEvent;
        var event = require3("../lib/event");
        var dom = require3("../lib/dom");
        exports2.addTouchListeners = function(el, editor) {
          var mode = "scroll";
          var startX;
          var startY;
          var touchStartT;
          var lastT;
          var longTouchTimer;
          var animationTimer;
          var animationSteps = 0;
          var pos;
          var clickCount = 0;
          var vX = 0;
          var vY = 0;
          var pressed;
          var contextMenu;
          function createContextMenu() {
            var clipboard = window.navigator && window.navigator.clipboard;
            var isOpen = false;
            var updateMenu = function() {
              var selected = editor.getCopyText();
              var hasUndo = editor.session.getUndoManager().hasUndo();
              contextMenu.replaceChild(
                dom.buildDom(isOpen ? [
                  "span",
                  !selected && ["span", { class: "ace_mobile-button", action: "selectall" }, "Select All"],
                  selected && ["span", { class: "ace_mobile-button", action: "copy" }, "Copy"],
                  selected && ["span", { class: "ace_mobile-button", action: "cut" }, "Cut"],
                  clipboard && ["span", { class: "ace_mobile-button", action: "paste" }, "Paste"],
                  hasUndo && ["span", { class: "ace_mobile-button", action: "undo" }, "Undo"],
                  ["span", { class: "ace_mobile-button", action: "find" }, "Find"],
                  ["span", { class: "ace_mobile-button", action: "openCommandPallete" }, "Pallete"]
                ] : ["span"]),
                contextMenu.firstChild
              );
            };
            var handleClick = function(e10) {
              var action = e10.target.getAttribute("action");
              if (action == "more" || !isOpen) {
                isOpen = !isOpen;
                return updateMenu();
              }
              if (action == "paste") {
                clipboard.readText().then(function(text) {
                  editor.execCommand(action, text);
                });
              } else if (action) {
                if (action == "cut" || action == "copy") {
                  if (clipboard)
                    clipboard.writeText(editor.getCopyText());
                  else
                    document.execCommand("copy");
                }
                editor.execCommand(action);
              }
              contextMenu.firstChild.style.display = "none";
              isOpen = false;
              if (action != "openCommandPallete")
                editor.focus();
            };
            contextMenu = dom.buildDom([
              "div",
              {
                class: "ace_mobile-menu",
                ontouchstart: function(e10) {
                  mode = "menu";
                  e10.stopPropagation();
                  e10.preventDefault();
                  editor.textInput.focus();
                },
                ontouchend: function(e10) {
                  e10.stopPropagation();
                  e10.preventDefault();
                  handleClick(e10);
                },
                onclick: handleClick
              },
              ["span"],
              ["span", { class: "ace_mobile-button", action: "more" }, "..."]
            ], editor.container);
          }
          function showContextMenu() {
            if (!contextMenu)
              createContextMenu();
            var cursor = editor.selection.cursor;
            var pagePos = editor.renderer.textToScreenCoordinates(cursor.row, cursor.column);
            var leftOffset = editor.renderer.textToScreenCoordinates(0, 0).pageX;
            var scrollLeft = editor.renderer.scrollLeft;
            var rect = editor.container.getBoundingClientRect();
            contextMenu.style.top = pagePos.pageY - rect.top - 3 + "px";
            if (pagePos.pageX - rect.left < rect.width - 70) {
              contextMenu.style.left = "";
              contextMenu.style.right = "10px";
            } else {
              contextMenu.style.right = "";
              contextMenu.style.left = leftOffset + scrollLeft - rect.left + "px";
            }
            contextMenu.style.display = "";
            contextMenu.firstChild.style.display = "none";
            editor.on("input", hideContextMenu);
          }
          function hideContextMenu(e10) {
            if (contextMenu)
              contextMenu.style.display = "none";
            editor.off("input", hideContextMenu);
          }
          function handleLongTap() {
            longTouchTimer = null;
            clearTimeout(longTouchTimer);
            var range = editor.selection.getRange();
            var inSelection = range.contains(pos.row, pos.column);
            if (range.isEmpty() || !inSelection) {
              editor.selection.moveToPosition(pos);
              editor.selection.selectWord();
            }
            mode = "wait";
            showContextMenu();
          }
          function switchToSelectionMode() {
            longTouchTimer = null;
            clearTimeout(longTouchTimer);
            editor.selection.moveToPosition(pos);
            var range = clickCount >= 2 ? editor.selection.getLineRange(pos.row) : editor.session.getBracketRange(pos);
            if (range && !range.isEmpty()) {
              editor.selection.setRange(range);
            } else {
              editor.selection.selectWord();
            }
            mode = "wait";
          }
          event.addListener(el, "contextmenu", function(e10) {
            if (!pressed)
              return;
            var textarea = editor.textInput.getElement();
            textarea.focus();
          }, editor);
          event.addListener(el, "touchstart", function(e10) {
            var touches = e10.touches;
            if (longTouchTimer || touches.length > 1) {
              clearTimeout(longTouchTimer);
              longTouchTimer = null;
              touchStartT = -1;
              mode = "zoom";
              return;
            }
            pressed = editor.$mouseHandler.isMousePressed = true;
            var h5 = editor.renderer.layerConfig.lineHeight;
            var w2 = editor.renderer.layerConfig.lineHeight;
            var t5 = e10.timeStamp;
            lastT = t5;
            var touchObj = touches[0];
            var x2 = touchObj.clientX;
            var y2 = touchObj.clientY;
            if (Math.abs(startX - x2) + Math.abs(startY - y2) > h5)
              touchStartT = -1;
            startX = e10.clientX = x2;
            startY = e10.clientY = y2;
            vX = vY = 0;
            var ev = new MouseEvent(e10, editor);
            pos = ev.getDocumentPosition();
            if (t5 - touchStartT < 500 && touches.length == 1 && !animationSteps) {
              clickCount++;
              e10.preventDefault();
              e10.button = 0;
              switchToSelectionMode();
            } else {
              clickCount = 0;
              var cursor = editor.selection.cursor;
              var anchor = editor.selection.isEmpty() ? cursor : editor.selection.anchor;
              var cursorPos = editor.renderer.$cursorLayer.getPixelPosition(cursor, true);
              var anchorPos = editor.renderer.$cursorLayer.getPixelPosition(anchor, true);
              var rect = editor.renderer.scroller.getBoundingClientRect();
              var offsetTop = editor.renderer.layerConfig.offset;
              var offsetLeft = editor.renderer.scrollLeft;
              var weightedDistance = function(x3, y3) {
                x3 = x3 / w2;
                y3 = y3 / h5 - 0.75;
                return x3 * x3 + y3 * y3;
              };
              if (e10.clientX < rect.left) {
                mode = "zoom";
                return;
              }
              var diff1 = weightedDistance(
                e10.clientX - rect.left - cursorPos.left + offsetLeft,
                e10.clientY - rect.top - cursorPos.top + offsetTop
              );
              var diff2 = weightedDistance(
                e10.clientX - rect.left - anchorPos.left + offsetLeft,
                e10.clientY - rect.top - anchorPos.top + offsetTop
              );
              if (diff1 < 3.5 && diff2 < 3.5)
                mode = diff1 > diff2 ? "cursor" : "anchor";
              if (diff2 < 3.5)
                mode = "anchor";
              else if (diff1 < 3.5)
                mode = "cursor";
              else
                mode = "scroll";
              longTouchTimer = setTimeout(handleLongTap, 450);
            }
            touchStartT = t5;
          }, editor);
          event.addListener(el, "touchend", function(e10) {
            pressed = editor.$mouseHandler.isMousePressed = false;
            if (animationTimer)
              clearInterval(animationTimer);
            if (mode == "zoom") {
              mode = "";
              animationSteps = 0;
            } else if (longTouchTimer) {
              editor.selection.moveToPosition(pos);
              animationSteps = 0;
              showContextMenu();
            } else if (mode == "scroll") {
              animate();
              hideContextMenu();
            } else {
              showContextMenu();
            }
            clearTimeout(longTouchTimer);
            longTouchTimer = null;
          }, editor);
          event.addListener(el, "touchmove", function(e10) {
            if (longTouchTimer) {
              clearTimeout(longTouchTimer);
              longTouchTimer = null;
            }
            var touches = e10.touches;
            if (touches.length > 1 || mode == "zoom")
              return;
            var touchObj = touches[0];
            var wheelX = startX - touchObj.clientX;
            var wheelY = startY - touchObj.clientY;
            if (mode == "wait") {
              if (wheelX * wheelX + wheelY * wheelY > 4)
                mode = "cursor";
              else
                return e10.preventDefault();
            }
            startX = touchObj.clientX;
            startY = touchObj.clientY;
            e10.clientX = touchObj.clientX;
            e10.clientY = touchObj.clientY;
            var t5 = e10.timeStamp;
            var dt = t5 - lastT;
            lastT = t5;
            if (mode == "scroll") {
              var mouseEvent = new MouseEvent(e10, editor);
              mouseEvent.speed = 1;
              mouseEvent.wheelX = wheelX;
              mouseEvent.wheelY = wheelY;
              if (10 * Math.abs(wheelX) < Math.abs(wheelY))
                wheelX = 0;
              if (10 * Math.abs(wheelY) < Math.abs(wheelX))
                wheelY = 0;
              if (dt != 0) {
                vX = wheelX / dt;
                vY = wheelY / dt;
              }
              editor._emit("mousewheel", mouseEvent);
              if (!mouseEvent.propagationStopped) {
                vX = vY = 0;
              }
            } else {
              var ev = new MouseEvent(e10, editor);
              var pos2 = ev.getDocumentPosition();
              if (mode == "cursor")
                editor.selection.moveCursorToPosition(pos2);
              else if (mode == "anchor")
                editor.selection.setSelectionAnchor(pos2.row, pos2.column);
              editor.renderer.scrollCursorIntoView(pos2);
              e10.preventDefault();
            }
          }, editor);
          function animate() {
            animationSteps += 60;
            animationTimer = setInterval(function() {
              if (animationSteps-- <= 0) {
                clearInterval(animationTimer);
                animationTimer = null;
              }
              if (Math.abs(vX) < 0.01)
                vX = 0;
              if (Math.abs(vY) < 0.01)
                vY = 0;
              if (animationSteps < 20)
                vX = 0.9 * vX;
              if (animationSteps < 20)
                vY = 0.9 * vY;
              var oldScrollTop = editor.session.getScrollTop();
              editor.renderer.scrollBy(10 * vX, 10 * vY);
              if (oldScrollTop == editor.session.getScrollTop())
                animationSteps = 0;
            }, 10);
          }
        };
      });
      ace.define("ace/mouse/mouse_handler", ["require", "exports", "module", "ace/lib/event", "ace/lib/useragent", "ace/mouse/default_handlers", "ace/mouse/default_gutter_handler", "ace/mouse/mouse_event", "ace/mouse/dragdrop_handler", "ace/mouse/touch_handler", "ace/config"], function(require3, exports2, module2) {
        "use strict";
        var event = require3("../lib/event");
        var useragent = require3("../lib/useragent");
        var DefaultHandlers = require3("./default_handlers").DefaultHandlers;
        var DefaultGutterHandler = require3("./default_gutter_handler").GutterHandler;
        var MouseEvent = require3("./mouse_event").MouseEvent;
        var DragdropHandler = require3("./dragdrop_handler").DragdropHandler;
        var addTouchListeners = require3("./touch_handler").addTouchListeners;
        var config2 = require3("../config");
        var MouseHandler = function(editor) {
          var _self = this;
          this.editor = editor;
          new DefaultHandlers(this);
          new DefaultGutterHandler(this);
          new DragdropHandler(this);
          var focusEditor = function(e10) {
            var windowBlurred = !document.hasFocus || !document.hasFocus() || !editor.isFocused() && document.activeElement == (editor.textInput && editor.textInput.getElement());
            if (windowBlurred)
              window.focus();
            editor.focus();
            setTimeout(function() {
              if (!editor.isFocused())
                editor.focus();
            });
          };
          var mouseTarget = editor.renderer.getMouseEventTarget();
          event.addListener(mouseTarget, "click", this.onMouseEvent.bind(this, "click"), editor);
          event.addListener(mouseTarget, "mousemove", this.onMouseMove.bind(this, "mousemove"), editor);
          event.addMultiMouseDownListener([
            mouseTarget,
            editor.renderer.scrollBarV && editor.renderer.scrollBarV.inner,
            editor.renderer.scrollBarH && editor.renderer.scrollBarH.inner,
            editor.textInput && editor.textInput.getElement()
          ].filter(Boolean), [400, 300, 250], this, "onMouseEvent", editor);
          event.addMouseWheelListener(editor.container, this.onMouseWheel.bind(this, "mousewheel"), editor);
          addTouchListeners(editor.container, editor);
          var gutterEl = editor.renderer.$gutter;
          event.addListener(gutterEl, "mousedown", this.onMouseEvent.bind(this, "guttermousedown"), editor);
          event.addListener(gutterEl, "click", this.onMouseEvent.bind(this, "gutterclick"), editor);
          event.addListener(gutterEl, "dblclick", this.onMouseEvent.bind(this, "gutterdblclick"), editor);
          event.addListener(gutterEl, "mousemove", this.onMouseEvent.bind(this, "guttermousemove"), editor);
          event.addListener(mouseTarget, "mousedown", focusEditor, editor);
          event.addListener(gutterEl, "mousedown", focusEditor, editor);
          if (useragent.isIE && editor.renderer.scrollBarV) {
            event.addListener(editor.renderer.scrollBarV.element, "mousedown", focusEditor, editor);
            event.addListener(editor.renderer.scrollBarH.element, "mousedown", focusEditor, editor);
          }
          editor.on("mousemove", function(e10) {
            if (_self.state || _self.$dragDelay || !_self.$dragEnabled)
              return;
            var character = editor.renderer.screenToTextCoordinates(e10.x, e10.y);
            var range = editor.session.selection.getRange();
            var renderer = editor.renderer;
            if (!range.isEmpty() && range.insideStart(character.row, character.column)) {
              renderer.setCursorStyle("default");
            } else {
              renderer.setCursorStyle("");
            }
          }, editor);
        };
        (function() {
          this.onMouseEvent = function(name2, e10) {
            if (!this.editor.session)
              return;
            this.editor._emit(name2, new MouseEvent(e10, this.editor));
          };
          this.onMouseMove = function(name2, e10) {
            var listeners = this.editor._eventRegistry && this.editor._eventRegistry.mousemove;
            if (!listeners || !listeners.length)
              return;
            this.editor._emit(name2, new MouseEvent(e10, this.editor));
          };
          this.onMouseWheel = function(name2, e10) {
            var mouseEvent = new MouseEvent(e10, this.editor);
            mouseEvent.speed = this.$scrollSpeed * 2;
            mouseEvent.wheelX = e10.wheelX;
            mouseEvent.wheelY = e10.wheelY;
            this.editor._emit(name2, mouseEvent);
          };
          this.setState = function(state) {
            this.state = state;
          };
          this.captureMouse = function(ev, mouseMoveHandler) {
            this.x = ev.x;
            this.y = ev.y;
            this.isMousePressed = true;
            var editor = this.editor;
            var renderer = this.editor.renderer;
            renderer.$isMousePressed = true;
            var self = this;
            var onMouseMove = function(e10) {
              if (!e10)
                return;
              if (useragent.isWebKit && !e10.which && self.releaseMouse)
                return self.releaseMouse();
              self.x = e10.clientX;
              self.y = e10.clientY;
              mouseMoveHandler && mouseMoveHandler(e10);
              self.mouseEvent = new MouseEvent(e10, self.editor);
              self.$mouseMoved = true;
            };
            var onCaptureEnd = function(e10) {
              editor.off("beforeEndOperation", onOperationEnd);
              clearInterval(timerId);
              if (editor.session)
                onCaptureInterval();
              self[self.state + "End"] && self[self.state + "End"](e10);
              self.state = "";
              self.isMousePressed = renderer.$isMousePressed = false;
              if (renderer.$keepTextAreaAtCursor)
                renderer.$moveTextAreaToCursor();
              self.$onCaptureMouseMove = self.releaseMouse = null;
              e10 && self.onMouseEvent("mouseup", e10);
              editor.endOperation();
            };
            var onCaptureInterval = function() {
              self[self.state] && self[self.state]();
              self.$mouseMoved = false;
            };
            if (useragent.isOldIE && ev.domEvent.type == "dblclick") {
              return setTimeout(function() {
                onCaptureEnd(ev);
              });
            }
            var onOperationEnd = function(e10) {
              if (!self.releaseMouse)
                return;
              if (editor.curOp.command.name && editor.curOp.selectionChanged) {
                self[self.state + "End"] && self[self.state + "End"]();
                self.state = "";
                self.releaseMouse();
              }
            };
            editor.on("beforeEndOperation", onOperationEnd);
            editor.startOperation({ command: { name: "mouse" } });
            self.$onCaptureMouseMove = onMouseMove;
            self.releaseMouse = event.capture(this.editor.container, onMouseMove, onCaptureEnd);
            var timerId = setInterval(onCaptureInterval, 20);
          };
          this.releaseMouse = null;
          this.cancelContextMenu = function() {
            var stop = function(e10) {
              if (e10 && e10.domEvent && e10.domEvent.type != "contextmenu")
                return;
              this.editor.off("nativecontextmenu", stop);
              if (e10 && e10.domEvent)
                event.stopEvent(e10.domEvent);
            }.bind(this);
            setTimeout(stop, 10);
            this.editor.on("nativecontextmenu", stop);
          };
          this.destroy = function() {
            if (this.releaseMouse)
              this.releaseMouse();
          };
        }).call(MouseHandler.prototype);
        config2.defineOptions(MouseHandler.prototype, "mouseHandler", {
          scrollSpeed: { initialValue: 2 },
          dragDelay: { initialValue: useragent.isMac ? 150 : 0 },
          dragEnabled: { initialValue: true },
          focusTimeout: { initialValue: 0 },
          tooltipFollowsMouse: { initialValue: true }
        });
        exports2.MouseHandler = MouseHandler;
      });
      ace.define("ace/mouse/fold_handler", ["require", "exports", "module", "ace/lib/dom"], function(require3, exports2, module2) {
        "use strict";
        var dom = require3("../lib/dom");
        function FoldHandler(editor) {
          editor.on("click", function(e10) {
            var position = e10.getDocumentPosition();
            var session = editor.session;
            var fold = session.getFoldAt(position.row, position.column, 1);
            if (fold) {
              if (e10.getAccelKey())
                session.removeFold(fold);
              else
                session.expandFold(fold);
              e10.stop();
            }
            var target = e10.domEvent && e10.domEvent.target;
            if (target && dom.hasCssClass(target, "ace_inline_button")) {
              if (dom.hasCssClass(target, "ace_toggle_wrap")) {
                session.setOption("wrap", !session.getUseWrapMode());
                editor.renderer.scrollCursorIntoView();
              }
            }
          });
          editor.on("gutterclick", function(e10) {
            var gutterRegion = editor.renderer.$gutterLayer.getRegion(e10);
            if (gutterRegion == "foldWidgets") {
              var row = e10.getDocumentPosition().row;
              var session = editor.session;
              if (session.foldWidgets && session.foldWidgets[row])
                editor.session.onFoldWidgetClick(row, e10);
              if (!editor.isFocused())
                editor.focus();
              e10.stop();
            }
          });
          editor.on("gutterdblclick", function(e10) {
            var gutterRegion = editor.renderer.$gutterLayer.getRegion(e10);
            if (gutterRegion == "foldWidgets") {
              var row = e10.getDocumentPosition().row;
              var session = editor.session;
              var data = session.getParentFoldRangeData(row, true);
              var range = data.range || data.firstRange;
              if (range) {
                row = range.start.row;
                var fold = session.getFoldAt(row, session.getLine(row).length, 1);
                if (fold) {
                  session.removeFold(fold);
                } else {
                  session.addFold("...", range);
                  editor.renderer.scrollCursorIntoView({ row: range.start.row, column: 0 });
                }
              }
              e10.stop();
            }
          });
        }
        exports2.FoldHandler = FoldHandler;
      });
      ace.define("ace/keyboard/keybinding", ["require", "exports", "module", "ace/lib/keys", "ace/lib/event"], function(require3, exports2, module2) {
        "use strict";
        var keyUtil = require3("../lib/keys");
        var event = require3("../lib/event");
        var KeyBinding = function(editor) {
          this.$editor = editor;
          this.$data = { editor };
          this.$handlers = [];
          this.setDefaultHandler(editor.commands);
        };
        (function() {
          this.setDefaultHandler = function(kb) {
            this.removeKeyboardHandler(this.$defaultHandler);
            this.$defaultHandler = kb;
            this.addKeyboardHandler(kb, 0);
          };
          this.setKeyboardHandler = function(kb) {
            var h5 = this.$handlers;
            if (h5[h5.length - 1] == kb)
              return;
            while (h5[h5.length - 1] && h5[h5.length - 1] != this.$defaultHandler)
              this.removeKeyboardHandler(h5[h5.length - 1]);
            this.addKeyboardHandler(kb, 1);
          };
          this.addKeyboardHandler = function(kb, pos) {
            if (!kb)
              return;
            if (typeof kb == "function" && !kb.handleKeyboard)
              kb.handleKeyboard = kb;
            var i6 = this.$handlers.indexOf(kb);
            if (i6 != -1)
              this.$handlers.splice(i6, 1);
            if (pos == void 0)
              this.$handlers.push(kb);
            else
              this.$handlers.splice(pos, 0, kb);
            if (i6 == -1 && kb.attach)
              kb.attach(this.$editor);
          };
          this.removeKeyboardHandler = function(kb) {
            var i6 = this.$handlers.indexOf(kb);
            if (i6 == -1)
              return false;
            this.$handlers.splice(i6, 1);
            kb.detach && kb.detach(this.$editor);
            return true;
          };
          this.getKeyboardHandler = function() {
            return this.$handlers[this.$handlers.length - 1];
          };
          this.getStatusText = function() {
            var data = this.$data;
            var editor = data.editor;
            return this.$handlers.map(function(h5) {
              return h5.getStatusText && h5.getStatusText(editor, data) || "";
            }).filter(Boolean).join(" ");
          };
          this.$callKeyboardHandlers = function(hashId, keyString, keyCode, e10) {
            var toExecute;
            var success = false;
            var commands = this.$editor.commands;
            for (var i6 = this.$handlers.length; i6--; ) {
              toExecute = this.$handlers[i6].handleKeyboard(
                this.$data,
                hashId,
                keyString,
                keyCode,
                e10
              );
              if (!toExecute || !toExecute.command)
                continue;
              if (toExecute.command == "null") {
                success = true;
              } else {
                success = commands.exec(toExecute.command, this.$editor, toExecute.args, e10);
              }
              if (success && e10 && hashId != -1 && toExecute.passEvent != true && toExecute.command.passEvent != true) {
                event.stopEvent(e10);
              }
              if (success)
                break;
            }
            if (!success && hashId == -1) {
              toExecute = { command: "insertstring" };
              success = commands.exec("insertstring", this.$editor, keyString);
            }
            if (success && this.$editor._signal)
              this.$editor._signal("keyboardActivity", toExecute);
            return success;
          };
          this.onCommandKey = function(e10, hashId, keyCode) {
            var keyString = keyUtil.keyCodeToString(keyCode);
            return this.$callKeyboardHandlers(hashId, keyString, keyCode, e10);
          };
          this.onTextInput = function(text) {
            return this.$callKeyboardHandlers(-1, text);
          };
        }).call(KeyBinding.prototype);
        exports2.KeyBinding = KeyBinding;
      });
      ace.define("ace/lib/bidiutil", ["require", "exports", "module"], function(require3, exports2, module2) {
        "use strict";
        var ArabicAlefBetIntervalsBegine = ["\u0621", "\u0641"];
        var ArabicAlefBetIntervalsEnd = ["\u063A", "\u064A"];
        var dir = 0, hiLevel = 0;
        var lastArabic = false, hasUBAT_AL = false, hasUBAT_B = false, hasUBAT_S = false, hasBlockSep = false, hasSegSep = false;
        var impTab_LTR = [
          [0, 3, 0, 1, 0, 0, 0],
          [0, 3, 0, 1, 2, 2, 0],
          [0, 3, 0, 17, 2, 0, 1],
          [0, 3, 5, 5, 4, 1, 0],
          [0, 3, 21, 21, 4, 0, 1],
          [0, 3, 5, 5, 4, 2, 0]
        ];
        var impTab_RTL = [
          [2, 0, 1, 1, 0, 1, 0],
          [2, 0, 1, 1, 0, 2, 0],
          [2, 0, 2, 1, 3, 2, 0],
          [2, 0, 2, 33, 3, 1, 1]
        ];
        var LTR = 0, RTL = 1;
        var L2 = 0;
        var R2 = 1;
        var EN = 2;
        var AN = 3;
        var ON = 4;
        var B = 5;
        var S3 = 6;
        var AL = 7;
        var WS = 8;
        var CS = 9;
        var ES = 10;
        var ET = 11;
        var NSM = 12;
        var LRE = 13;
        var RLE = 14;
        var PDF = 15;
        var LRO = 16;
        var RLO = 17;
        var BN = 18;
        var UnicodeTBL00 = [
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          S3,
          B,
          S3,
          WS,
          B,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          B,
          B,
          B,
          S3,
          WS,
          ON,
          ON,
          ET,
          ET,
          ET,
          ON,
          ON,
          ON,
          ON,
          ON,
          ES,
          CS,
          ES,
          CS,
          CS,
          EN,
          EN,
          EN,
          EN,
          EN,
          EN,
          EN,
          EN,
          EN,
          EN,
          CS,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          L2,
          ON,
          ON,
          ON,
          ON,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          B,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          BN,
          CS,
          ON,
          ET,
          ET,
          ET,
          ET,
          ON,
          ON,
          ON,
          ON,
          L2,
          ON,
          ON,
          BN,
          ON,
          ON,
          ET,
          ET,
          EN,
          EN,
          ON,
          L2,
          ON,
          ON,
          ON,
          EN,
          L2,
          ON,
          ON,
          ON,
          ON,
          ON
        ];
        var UnicodeTBL20 = [
          WS,
          WS,
          WS,
          WS,
          WS,
          WS,
          WS,
          WS,
          WS,
          WS,
          WS,
          BN,
          BN,
          BN,
          L2,
          R2,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          WS,
          B,
          LRE,
          RLE,
          PDF,
          LRO,
          RLO,
          CS,
          ET,
          ET,
          ET,
          ET,
          ET,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          CS,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          ON,
          WS
        ];
        function _computeLevels(chars, levels, len, charTypes) {
          var impTab = dir ? impTab_RTL : impTab_LTR, prevState = null, newClass = null, newLevel = null, newState = 0, action = null, cond = null, condPos = -1, i6 = null, ix = null, classes = [];
          if (!charTypes) {
            for (i6 = 0, charTypes = []; i6 < len; i6++) {
              charTypes[i6] = _getCharacterType(chars[i6]);
            }
          }
          hiLevel = dir;
          lastArabic = false;
          hasUBAT_AL = false;
          hasUBAT_B = false;
          hasUBAT_S = false;
          for (ix = 0; ix < len; ix++) {
            prevState = newState;
            classes[ix] = newClass = _getCharClass(chars, charTypes, classes, ix);
            newState = impTab[prevState][newClass];
            action = newState & 240;
            newState &= 15;
            levels[ix] = newLevel = impTab[newState][5];
            if (action > 0) {
              if (action == 16) {
                for (i6 = condPos; i6 < ix; i6++) {
                  levels[i6] = 1;
                }
                condPos = -1;
              } else {
                condPos = -1;
              }
            }
            cond = impTab[newState][6];
            if (cond) {
              if (condPos == -1) {
                condPos = ix;
              }
            } else {
              if (condPos > -1) {
                for (i6 = condPos; i6 < ix; i6++) {
                  levels[i6] = newLevel;
                }
                condPos = -1;
              }
            }
            if (charTypes[ix] == B) {
              levels[ix] = 0;
            }
            hiLevel |= newLevel;
          }
          if (hasUBAT_S) {
            for (i6 = 0; i6 < len; i6++) {
              if (charTypes[i6] == S3) {
                levels[i6] = dir;
                for (var j = i6 - 1; j >= 0; j--) {
                  if (charTypes[j] == WS) {
                    levels[j] = dir;
                  } else {
                    break;
                  }
                }
              }
            }
          }
        }
        function _invertLevel(lev, levels, _array) {
          if (hiLevel < lev) {
            return;
          }
          if (lev == 1 && dir == RTL && !hasUBAT_B) {
            _array.reverse();
            return;
          }
          var len = _array.length, start = 0, end, lo, hi, tmp;
          while (start < len) {
            if (levels[start] >= lev) {
              end = start + 1;
              while (end < len && levels[end] >= lev) {
                end++;
              }
              for (lo = start, hi = end - 1; lo < hi; lo++, hi--) {
                tmp = _array[lo];
                _array[lo] = _array[hi];
                _array[hi] = tmp;
              }
              start = end;
            }
            start++;
          }
        }
        function _getCharClass(chars, types, classes, ix) {
          var cType = types[ix], wType, nType, len, i6;
          switch (cType) {
            case L2:
            case R2:
              lastArabic = false;
            case ON:
            case AN:
              return cType;
            case EN:
              return lastArabic ? AN : EN;
            case AL:
              lastArabic = true;
              hasUBAT_AL = true;
              return R2;
            case WS:
              return ON;
            case CS:
              if (ix < 1 || ix + 1 >= types.length || (wType = classes[ix - 1]) != EN && wType != AN || (nType = types[ix + 1]) != EN && nType != AN) {
                return ON;
              }
              if (lastArabic) {
                nType = AN;
              }
              return nType == wType ? nType : ON;
            case ES:
              wType = ix > 0 ? classes[ix - 1] : B;
              if (wType == EN && ix + 1 < types.length && types[ix + 1] == EN) {
                return EN;
              }
              return ON;
            case ET:
              if (ix > 0 && classes[ix - 1] == EN) {
                return EN;
              }
              if (lastArabic) {
                return ON;
              }
              i6 = ix + 1;
              len = types.length;
              while (i6 < len && types[i6] == ET) {
                i6++;
              }
              if (i6 < len && types[i6] == EN) {
                return EN;
              }
              return ON;
            case NSM:
              len = types.length;
              i6 = ix + 1;
              while (i6 < len && types[i6] == NSM) {
                i6++;
              }
              if (i6 < len) {
                var c2 = chars[ix], rtlCandidate = c2 >= 1425 && c2 <= 2303 || c2 == 64286;
                wType = types[i6];
                if (rtlCandidate && (wType == R2 || wType == AL)) {
                  return R2;
                }
              }
              if (ix < 1 || (wType = types[ix - 1]) == B) {
                return ON;
              }
              return classes[ix - 1];
            case B:
              lastArabic = false;
              hasUBAT_B = true;
              return dir;
            case S3:
              hasUBAT_S = true;
              return ON;
            case LRE:
            case RLE:
            case LRO:
            case RLO:
            case PDF:
              lastArabic = false;
            case BN:
              return ON;
          }
        }
        function _getCharacterType(ch) {
          var uc = ch.charCodeAt(0), hi = uc >> 8;
          if (hi == 0) {
            return uc > 191 ? L2 : UnicodeTBL00[uc];
          } else if (hi == 5) {
            return /[\u0591-\u05f4]/.test(ch) ? R2 : L2;
          } else if (hi == 6) {
            if (/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(ch))
              return NSM;
            else if (/[\u0660-\u0669\u066b-\u066c]/.test(ch))
              return AN;
            else if (uc == 1642)
              return ET;
            else if (/[\u06f0-\u06f9]/.test(ch))
              return EN;
            else
              return AL;
          } else if (hi == 32 && uc <= 8287) {
            return UnicodeTBL20[uc & 255];
          } else if (hi == 254) {
            return uc >= 65136 ? AL : ON;
          }
          return ON;
        }
        function _isArabicDiacritics(ch) {
          return ch >= "\u064B" && ch <= "\u0655";
        }
        exports2.L = L2;
        exports2.R = R2;
        exports2.EN = EN;
        exports2.ON_R = 3;
        exports2.AN = 4;
        exports2.R_H = 5;
        exports2.B = 6;
        exports2.RLE = 7;
        exports2.DOT = "\xB7";
        exports2.doBidiReorder = function(text, textCharTypes, isRtl) {
          if (text.length < 2)
            return {};
          var chars = text.split(""), logicalFromVisual = new Array(chars.length), bidiLevels = new Array(chars.length), levels = [];
          dir = isRtl ? RTL : LTR;
          _computeLevels(chars, levels, chars.length, textCharTypes);
          for (var i6 = 0; i6 < logicalFromVisual.length; logicalFromVisual[i6] = i6, i6++)
            ;
          _invertLevel(2, levels, logicalFromVisual);
          _invertLevel(1, levels, logicalFromVisual);
          for (var i6 = 0; i6 < logicalFromVisual.length - 1; i6++) {
            if (textCharTypes[i6] === AN) {
              levels[i6] = exports2.AN;
            } else if (levels[i6] === R2 && (textCharTypes[i6] > AL && textCharTypes[i6] < LRE || textCharTypes[i6] === ON || textCharTypes[i6] === BN)) {
              levels[i6] = exports2.ON_R;
            } else if (i6 > 0 && chars[i6 - 1] === "\u0644" && /\u0622|\u0623|\u0625|\u0627/.test(chars[i6])) {
              levels[i6 - 1] = levels[i6] = exports2.R_H;
              i6++;
            }
          }
          if (chars[chars.length - 1] === exports2.DOT)
            levels[chars.length - 1] = exports2.B;
          if (chars[0] === "\u202B")
            levels[0] = exports2.RLE;
          for (var i6 = 0; i6 < logicalFromVisual.length; i6++) {
            bidiLevels[i6] = levels[logicalFromVisual[i6]];
          }
          return { "logicalFromVisual": logicalFromVisual, "bidiLevels": bidiLevels };
        };
        exports2.hasBidiCharacters = function(text, textCharTypes) {
          var ret = false;
          for (var i6 = 0; i6 < text.length; i6++) {
            textCharTypes[i6] = _getCharacterType(text.charAt(i6));
            if (!ret && (textCharTypes[i6] == R2 || textCharTypes[i6] == AL || textCharTypes[i6] == AN))
              ret = true;
          }
          return ret;
        };
        exports2.getVisualFromLogicalIdx = function(logIdx, rowMap) {
          for (var i6 = 0; i6 < rowMap.logicalFromVisual.length; i6++) {
            if (rowMap.logicalFromVisual[i6] == logIdx)
              return i6;
          }
          return 0;
        };
      });
      ace.define("ace/bidihandler", ["require", "exports", "module", "ace/lib/bidiutil", "ace/lib/lang"], function(require3, exports2, module2) {
        "use strict";
        var bidiUtil = require3("./lib/bidiutil");
        var lang = require3("./lib/lang");
        var bidiRE = /[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/;
        var BidiHandler = function(session) {
          this.session = session;
          this.bidiMap = {};
          this.currentRow = null;
          this.bidiUtil = bidiUtil;
          this.charWidths = [];
          this.EOL = "\xAC";
          this.showInvisibles = true;
          this.isRtlDir = false;
          this.$isRtl = false;
          this.line = "";
          this.wrapIndent = 0;
          this.EOF = "\xB6";
          this.RLE = "\u202B";
          this.contentWidth = 0;
          this.fontMetrics = null;
          this.rtlLineOffset = 0;
          this.wrapOffset = 0;
          this.isMoveLeftOperation = false;
          this.seenBidi = bidiRE.test(session.getValue());
        };
        (function() {
          this.isBidiRow = function(screenRow, docRow, splitIndex) {
            if (!this.seenBidi)
              return false;
            if (screenRow !== this.currentRow) {
              this.currentRow = screenRow;
              this.updateRowLine(docRow, splitIndex);
              this.updateBidiMap();
            }
            return this.bidiMap.bidiLevels;
          };
          this.onChange = function(delta) {
            if (!this.seenBidi) {
              if (delta.action == "insert" && bidiRE.test(delta.lines.join("\n"))) {
                this.seenBidi = true;
                this.currentRow = null;
              }
            } else {
              this.currentRow = null;
            }
          };
          this.getDocumentRow = function() {
            var docRow = 0;
            var rowCache = this.session.$screenRowCache;
            if (rowCache.length) {
              var index = this.session.$getRowCacheIndex(rowCache, this.currentRow);
              if (index >= 0)
                docRow = this.session.$docRowCache[index];
            }
            return docRow;
          };
          this.getSplitIndex = function() {
            var splitIndex = 0;
            var rowCache = this.session.$screenRowCache;
            if (rowCache.length) {
              var currentIndex, prevIndex = this.session.$getRowCacheIndex(rowCache, this.currentRow);
              while (this.currentRow - splitIndex > 0) {
                currentIndex = this.session.$getRowCacheIndex(rowCache, this.currentRow - splitIndex - 1);
                if (currentIndex !== prevIndex)
                  break;
                prevIndex = currentIndex;
                splitIndex++;
              }
            } else {
              splitIndex = this.currentRow;
            }
            return splitIndex;
          };
          this.updateRowLine = function(docRow, splitIndex) {
            if (docRow === void 0)
              docRow = this.getDocumentRow();
            var isLastRow = docRow === this.session.getLength() - 1, endOfLine = isLastRow ? this.EOF : this.EOL;
            this.wrapIndent = 0;
            this.line = this.session.getLine(docRow);
            this.isRtlDir = this.$isRtl || this.line.charAt(0) === this.RLE;
            if (this.session.$useWrapMode) {
              var splits = this.session.$wrapData[docRow];
              if (splits) {
                if (splitIndex === void 0)
                  splitIndex = this.getSplitIndex();
                if (splitIndex > 0 && splits.length) {
                  this.wrapIndent = splits.indent;
                  this.wrapOffset = this.wrapIndent * this.charWidths[bidiUtil.L];
                  this.line = splitIndex < splits.length ? this.line.substring(splits[splitIndex - 1], splits[splitIndex]) : this.line.substring(splits[splits.length - 1]);
                } else {
                  this.line = this.line.substring(0, splits[splitIndex]);
                }
                if (splitIndex == splits.length) {
                  this.line += this.showInvisibles ? endOfLine : bidiUtil.DOT;
                }
              }
            } else {
              this.line += this.showInvisibles ? endOfLine : bidiUtil.DOT;
            }
            var session = this.session, shift = 0, size;
            this.line = this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g, function(ch, i6) {
              if (ch === "	" || session.isFullWidth(ch.charCodeAt(0))) {
                size = ch === "	" ? session.getScreenTabSize(i6 + shift) : 2;
                shift += size - 1;
                return lang.stringRepeat(bidiUtil.DOT, size);
              }
              return ch;
            });
            if (this.isRtlDir) {
              this.fontMetrics.$main.textContent = this.line.charAt(this.line.length - 1) == bidiUtil.DOT ? this.line.substr(0, this.line.length - 1) : this.line;
              this.rtlLineOffset = this.contentWidth - this.fontMetrics.$main.getBoundingClientRect().width;
            }
          };
          this.updateBidiMap = function() {
            var textCharTypes = [];
            if (bidiUtil.hasBidiCharacters(this.line, textCharTypes) || this.isRtlDir) {
              this.bidiMap = bidiUtil.doBidiReorder(this.line, textCharTypes, this.isRtlDir);
            } else {
              this.bidiMap = {};
            }
          };
          this.markAsDirty = function() {
            this.currentRow = null;
          };
          this.updateCharacterWidths = function(fontMetrics) {
            if (this.characterWidth === fontMetrics.$characterSize.width)
              return;
            this.fontMetrics = fontMetrics;
            var characterWidth = this.characterWidth = fontMetrics.$characterSize.width;
            var bidiCharWidth = fontMetrics.$measureCharWidth("\u05D4");
            this.charWidths[bidiUtil.L] = this.charWidths[bidiUtil.EN] = this.charWidths[bidiUtil.ON_R] = characterWidth;
            this.charWidths[bidiUtil.R] = this.charWidths[bidiUtil.AN] = bidiCharWidth;
            this.charWidths[bidiUtil.R_H] = bidiCharWidth * 0.45;
            this.charWidths[bidiUtil.B] = this.charWidths[bidiUtil.RLE] = 0;
            this.currentRow = null;
          };
          this.setShowInvisibles = function(showInvisibles) {
            this.showInvisibles = showInvisibles;
            this.currentRow = null;
          };
          this.setEolChar = function(eolChar) {
            this.EOL = eolChar;
          };
          this.setContentWidth = function(width) {
            this.contentWidth = width;
          };
          this.isRtlLine = function(row) {
            if (this.$isRtl)
              return true;
            if (row != void 0)
              return this.session.getLine(row).charAt(0) == this.RLE;
            else
              return this.isRtlDir;
          };
          this.setRtlDirection = function(editor, isRtlDir) {
            var cursor = editor.getCursorPosition();
            for (var row = editor.selection.getSelectionAnchor().row; row <= cursor.row; row++) {
              if (!isRtlDir && editor.session.getLine(row).charAt(0) === editor.session.$bidiHandler.RLE)
                editor.session.doc.removeInLine(row, 0, 1);
              else if (isRtlDir && editor.session.getLine(row).charAt(0) !== editor.session.$bidiHandler.RLE)
                editor.session.doc.insert({ column: 0, row }, editor.session.$bidiHandler.RLE);
            }
          };
          this.getPosLeft = function(col) {
            col -= this.wrapIndent;
            var leftBoundary = this.line.charAt(0) === this.RLE ? 1 : 0;
            var logicalIdx = col > leftBoundary ? this.session.getOverwrite() ? col : col - 1 : leftBoundary;
            var visualIdx = bidiUtil.getVisualFromLogicalIdx(logicalIdx, this.bidiMap), levels = this.bidiMap.bidiLevels, left = 0;
            if (!this.session.getOverwrite() && col <= leftBoundary && levels[visualIdx] % 2 !== 0)
              visualIdx++;
            for (var i6 = 0; i6 < visualIdx; i6++) {
              left += this.charWidths[levels[i6]];
            }
            if (!this.session.getOverwrite() && col > leftBoundary && levels[visualIdx] % 2 === 0)
              left += this.charWidths[levels[visualIdx]];
            if (this.wrapIndent)
              left += this.isRtlDir ? -1 * this.wrapOffset : this.wrapOffset;
            if (this.isRtlDir)
              left += this.rtlLineOffset;
            return left;
          };
          this.getSelections = function(startCol, endCol) {
            var map = this.bidiMap, levels = map.bidiLevels, level, selections = [], offset = 0, selColMin = Math.min(startCol, endCol) - this.wrapIndent, selColMax = Math.max(startCol, endCol) - this.wrapIndent, isSelected = false, isSelectedPrev = false, selectionStart = 0;
            if (this.wrapIndent)
              offset += this.isRtlDir ? -1 * this.wrapOffset : this.wrapOffset;
            for (var logIdx, visIdx = 0; visIdx < levels.length; visIdx++) {
              logIdx = map.logicalFromVisual[visIdx];
              level = levels[visIdx];
              isSelected = logIdx >= selColMin && logIdx < selColMax;
              if (isSelected && !isSelectedPrev) {
                selectionStart = offset;
              } else if (!isSelected && isSelectedPrev) {
                selections.push({ left: selectionStart, width: offset - selectionStart });
              }
              offset += this.charWidths[level];
              isSelectedPrev = isSelected;
            }
            if (isSelected && visIdx === levels.length) {
              selections.push({ left: selectionStart, width: offset - selectionStart });
            }
            if (this.isRtlDir) {
              for (var i6 = 0; i6 < selections.length; i6++) {
                selections[i6].left += this.rtlLineOffset;
              }
            }
            return selections;
          };
          this.offsetToCol = function(posX) {
            if (this.isRtlDir)
              posX -= this.rtlLineOffset;
            var logicalIdx = 0, posX = Math.max(posX, 0), offset = 0, visualIdx = 0, levels = this.bidiMap.bidiLevels, charWidth = this.charWidths[levels[visualIdx]];
            if (this.wrapIndent)
              posX -= this.isRtlDir ? -1 * this.wrapOffset : this.wrapOffset;
            while (posX > offset + charWidth / 2) {
              offset += charWidth;
              if (visualIdx === levels.length - 1) {
                charWidth = 0;
                break;
              }
              charWidth = this.charWidths[levels[++visualIdx]];
            }
            if (visualIdx > 0 && levels[visualIdx - 1] % 2 !== 0 && levels[visualIdx] % 2 === 0) {
              if (posX < offset)
                visualIdx--;
              logicalIdx = this.bidiMap.logicalFromVisual[visualIdx];
            } else if (visualIdx > 0 && levels[visualIdx - 1] % 2 === 0 && levels[visualIdx] % 2 !== 0) {
              logicalIdx = 1 + (posX > offset ? this.bidiMap.logicalFromVisual[visualIdx] : this.bidiMap.logicalFromVisual[visualIdx - 1]);
            } else if (this.isRtlDir && visualIdx === levels.length - 1 && charWidth === 0 && levels[visualIdx - 1] % 2 === 0 || !this.isRtlDir && visualIdx === 0 && levels[visualIdx] % 2 !== 0) {
              logicalIdx = 1 + this.bidiMap.logicalFromVisual[visualIdx];
            } else {
              if (visualIdx > 0 && levels[visualIdx - 1] % 2 !== 0 && charWidth !== 0)
                visualIdx--;
              logicalIdx = this.bidiMap.logicalFromVisual[visualIdx];
            }
            if (logicalIdx === 0 && this.isRtlDir)
              logicalIdx++;
            return logicalIdx + this.wrapIndent;
          };
        }).call(BidiHandler.prototype);
        exports2.BidiHandler = BidiHandler;
      });
      ace.define("ace/selection", ["require", "exports", "module", "ace/lib/oop", "ace/lib/lang", "ace/lib/event_emitter", "ace/range"], function(require3, exports2, module2) {
        "use strict";
        var oop = require3("./lib/oop");
        var lang = require3("./lib/lang");
        var EventEmitter = require3("./lib/event_emitter").EventEmitter;
        var Range = require3("./range").Range;
        var Selection = function(session) {
          this.session = session;
          this.doc = session.getDocument();
          this.clearSelection();
          this.cursor = this.lead = this.doc.createAnchor(0, 0);
          this.anchor = this.doc.createAnchor(0, 0);
          this.$silent = false;
          var self = this;
          this.cursor.on("change", function(e10) {
            self.$cursorChanged = true;
            if (!self.$silent)
              self._emit("changeCursor");
            if (!self.$isEmpty && !self.$silent)
              self._emit("changeSelection");
            if (!self.$keepDesiredColumnOnChange && e10.old.column != e10.value.column)
              self.$desiredColumn = null;
          });
          this.anchor.on("change", function() {
            self.$anchorChanged = true;
            if (!self.$isEmpty && !self.$silent)
              self._emit("changeSelection");
          });
        };
        (function() {
          oop.implement(this, EventEmitter);
          this.isEmpty = function() {
            return this.$isEmpty || this.anchor.row == this.lead.row && this.anchor.column == this.lead.column;
          };
          this.isMultiLine = function() {
            return !this.$isEmpty && this.anchor.row != this.cursor.row;
          };
          this.getCursor = function() {
            return this.lead.getPosition();
          };
          this.setSelectionAnchor = function(row, column) {
            this.$isEmpty = false;
            this.anchor.setPosition(row, column);
          };
          this.getAnchor = this.getSelectionAnchor = function() {
            if (this.$isEmpty)
              return this.getSelectionLead();
            return this.anchor.getPosition();
          };
          this.getSelectionLead = function() {
            return this.lead.getPosition();
          };
          this.isBackwards = function() {
            var anchor = this.anchor;
            var lead = this.lead;
            return anchor.row > lead.row || anchor.row == lead.row && anchor.column > lead.column;
          };
          this.getRange = function() {
            var anchor = this.anchor;
            var lead = this.lead;
            if (this.$isEmpty)
              return Range.fromPoints(lead, lead);
            return this.isBackwards() ? Range.fromPoints(lead, anchor) : Range.fromPoints(anchor, lead);
          };
          this.clearSelection = function() {
            if (!this.$isEmpty) {
              this.$isEmpty = true;
              this._emit("changeSelection");
            }
          };
          this.selectAll = function() {
            this.$setSelection(0, 0, Number.MAX_VALUE, Number.MAX_VALUE);
          };
          this.setRange = this.setSelectionRange = function(range, reverse) {
            var start = reverse ? range.end : range.start;
            var end = reverse ? range.start : range.end;
            this.$setSelection(start.row, start.column, end.row, end.column);
          };
          this.$setSelection = function(anchorRow, anchorColumn, cursorRow, cursorColumn) {
            if (this.$silent)
              return;
            var wasEmpty = this.$isEmpty;
            var wasMultiselect = this.inMultiSelectMode;
            this.$silent = true;
            this.$cursorChanged = this.$anchorChanged = false;
            this.anchor.setPosition(anchorRow, anchorColumn);
            this.cursor.setPosition(cursorRow, cursorColumn);
            this.$isEmpty = !Range.comparePoints(this.anchor, this.cursor);
            this.$silent = false;
            if (this.$cursorChanged)
              this._emit("changeCursor");
            if (this.$cursorChanged || this.$anchorChanged || wasEmpty != this.$isEmpty || wasMultiselect)
              this._emit("changeSelection");
          };
          this.$moveSelection = function(mover) {
            var lead = this.lead;
            if (this.$isEmpty)
              this.setSelectionAnchor(lead.row, lead.column);
            mover.call(this);
          };
          this.selectTo = function(row, column) {
            this.$moveSelection(function() {
              this.moveCursorTo(row, column);
            });
          };
          this.selectToPosition = function(pos) {
            this.$moveSelection(function() {
              this.moveCursorToPosition(pos);
            });
          };
          this.moveTo = function(row, column) {
            this.clearSelection();
            this.moveCursorTo(row, column);
          };
          this.moveToPosition = function(pos) {
            this.clearSelection();
            this.moveCursorToPosition(pos);
          };
          this.selectUp = function() {
            this.$moveSelection(this.moveCursorUp);
          };
          this.selectDown = function() {
            this.$moveSelection(this.moveCursorDown);
          };
          this.selectRight = function() {
            this.$moveSelection(this.moveCursorRight);
          };
          this.selectLeft = function() {
            this.$moveSelection(this.moveCursorLeft);
          };
          this.selectLineStart = function() {
            this.$moveSelection(this.moveCursorLineStart);
          };
          this.selectLineEnd = function() {
            this.$moveSelection(this.moveCursorLineEnd);
          };
          this.selectFileEnd = function() {
            this.$moveSelection(this.moveCursorFileEnd);
          };
          this.selectFileStart = function() {
            this.$moveSelection(this.moveCursorFileStart);
          };
          this.selectWordRight = function() {
            this.$moveSelection(this.moveCursorWordRight);
          };
          this.selectWordLeft = function() {
            this.$moveSelection(this.moveCursorWordLeft);
          };
          this.getWordRange = function(row, column) {
            if (typeof column == "undefined") {
              var cursor = row || this.lead;
              row = cursor.row;
              column = cursor.column;
            }
            return this.session.getWordRange(row, column);
          };
          this.selectWord = function() {
            this.setSelectionRange(this.getWordRange());
          };
          this.selectAWord = function() {
            var cursor = this.getCursor();
            var range = this.session.getAWordRange(cursor.row, cursor.column);
            this.setSelectionRange(range);
          };
          this.getLineRange = function(row, excludeLastChar) {
            var rowStart = typeof row == "number" ? row : this.lead.row;
            var rowEnd;
            var foldLine = this.session.getFoldLine(rowStart);
            if (foldLine) {
              rowStart = foldLine.start.row;
              rowEnd = foldLine.end.row;
            } else {
              rowEnd = rowStart;
            }
            if (excludeLastChar === true)
              return new Range(rowStart, 0, rowEnd, this.session.getLine(rowEnd).length);
            else
              return new Range(rowStart, 0, rowEnd + 1, 0);
          };
          this.selectLine = function() {
            this.setSelectionRange(this.getLineRange());
          };
          this.moveCursorUp = function() {
            this.moveCursorBy(-1, 0);
          };
          this.moveCursorDown = function() {
            this.moveCursorBy(1, 0);
          };
          this.wouldMoveIntoSoftTab = function(cursor, tabSize, direction) {
            var start = cursor.column;
            var end = cursor.column + tabSize;
            if (direction < 0) {
              start = cursor.column - tabSize;
              end = cursor.column;
            }
            return this.session.isTabStop(cursor) && this.doc.getLine(cursor.row).slice(start, end).split(" ").length - 1 == tabSize;
          };
          this.moveCursorLeft = function() {
            var cursor = this.lead.getPosition(), fold;
            if (fold = this.session.getFoldAt(cursor.row, cursor.column, -1)) {
              this.moveCursorTo(fold.start.row, fold.start.column);
            } else if (cursor.column === 0) {
              if (cursor.row > 0) {
                this.moveCursorTo(cursor.row - 1, this.doc.getLine(cursor.row - 1).length);
              }
            } else {
              var tabSize = this.session.getTabSize();
              if (this.wouldMoveIntoSoftTab(cursor, tabSize, -1) && !this.session.getNavigateWithinSoftTabs()) {
                this.moveCursorBy(0, -tabSize);
              } else {
                this.moveCursorBy(0, -1);
              }
            }
          };
          this.moveCursorRight = function() {
            var cursor = this.lead.getPosition(), fold;
            if (fold = this.session.getFoldAt(cursor.row, cursor.column, 1)) {
              this.moveCursorTo(fold.end.row, fold.end.column);
            } else if (this.lead.column == this.doc.getLine(this.lead.row).length) {
              if (this.lead.row < this.doc.getLength() - 1) {
                this.moveCursorTo(this.lead.row + 1, 0);
              }
            } else {
              var tabSize = this.session.getTabSize();
              var cursor = this.lead;
              if (this.wouldMoveIntoSoftTab(cursor, tabSize, 1) && !this.session.getNavigateWithinSoftTabs()) {
                this.moveCursorBy(0, tabSize);
              } else {
                this.moveCursorBy(0, 1);
              }
            }
          };
          this.moveCursorLineStart = function() {
            var row = this.lead.row;
            var column = this.lead.column;
            var screenRow = this.session.documentToScreenRow(row, column);
            var firstColumnPosition = this.session.screenToDocumentPosition(screenRow, 0);
            var beforeCursor = this.session.getDisplayLine(
              row,
              null,
              firstColumnPosition.row,
              firstColumnPosition.column
            );
            var leadingSpace = beforeCursor.match(/^\s*/);
            if (leadingSpace[0].length != column && !this.session.$useEmacsStyleLineStart)
              firstColumnPosition.column += leadingSpace[0].length;
            this.moveCursorToPosition(firstColumnPosition);
          };
          this.moveCursorLineEnd = function() {
            var lead = this.lead;
            var lineEnd = this.session.getDocumentLastRowColumnPosition(lead.row, lead.column);
            if (this.lead.column == lineEnd.column) {
              var line = this.session.getLine(lineEnd.row);
              if (lineEnd.column == line.length) {
                var textEnd = line.search(/\s+$/);
                if (textEnd > 0)
                  lineEnd.column = textEnd;
              }
            }
            this.moveCursorTo(lineEnd.row, lineEnd.column);
          };
          this.moveCursorFileEnd = function() {
            var row = this.doc.getLength() - 1;
            var column = this.doc.getLine(row).length;
            this.moveCursorTo(row, column);
          };
          this.moveCursorFileStart = function() {
            this.moveCursorTo(0, 0);
          };
          this.moveCursorLongWordRight = function() {
            var row = this.lead.row;
            var column = this.lead.column;
            var line = this.doc.getLine(row);
            var rightOfCursor = line.substring(column);
            this.session.nonTokenRe.lastIndex = 0;
            this.session.tokenRe.lastIndex = 0;
            var fold = this.session.getFoldAt(row, column, 1);
            if (fold) {
              this.moveCursorTo(fold.end.row, fold.end.column);
              return;
            }
            if (this.session.nonTokenRe.exec(rightOfCursor)) {
              column += this.session.nonTokenRe.lastIndex;
              this.session.nonTokenRe.lastIndex = 0;
              rightOfCursor = line.substring(column);
            }
            if (column >= line.length) {
              this.moveCursorTo(row, line.length);
              this.moveCursorRight();
              if (row < this.doc.getLength() - 1)
                this.moveCursorWordRight();
              return;
            }
            if (this.session.tokenRe.exec(rightOfCursor)) {
              column += this.session.tokenRe.lastIndex;
              this.session.tokenRe.lastIndex = 0;
            }
            this.moveCursorTo(row, column);
          };
          this.moveCursorLongWordLeft = function() {
            var row = this.lead.row;
            var column = this.lead.column;
            var fold;
            if (fold = this.session.getFoldAt(row, column, -1)) {
              this.moveCursorTo(fold.start.row, fold.start.column);
              return;
            }
            var str = this.session.getFoldStringAt(row, column, -1);
            if (str == null) {
              str = this.doc.getLine(row).substring(0, column);
            }
            var leftOfCursor = lang.stringReverse(str);
            this.session.nonTokenRe.lastIndex = 0;
            this.session.tokenRe.lastIndex = 0;
            if (this.session.nonTokenRe.exec(leftOfCursor)) {
              column -= this.session.nonTokenRe.lastIndex;
              leftOfCursor = leftOfCursor.slice(this.session.nonTokenRe.lastIndex);
              this.session.nonTokenRe.lastIndex = 0;
            }
            if (column <= 0) {
              this.moveCursorTo(row, 0);
              this.moveCursorLeft();
              if (row > 0)
                this.moveCursorWordLeft();
              return;
            }
            if (this.session.tokenRe.exec(leftOfCursor)) {
              column -= this.session.tokenRe.lastIndex;
              this.session.tokenRe.lastIndex = 0;
            }
            this.moveCursorTo(row, column);
          };
          this.$shortWordEndIndex = function(rightOfCursor) {
            var index = 0, ch;
            var whitespaceRe = /\s/;
            var tokenRe = this.session.tokenRe;
            tokenRe.lastIndex = 0;
            if (this.session.tokenRe.exec(rightOfCursor)) {
              index = this.session.tokenRe.lastIndex;
            } else {
              while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch))
                index++;
              if (index < 1) {
                tokenRe.lastIndex = 0;
                while ((ch = rightOfCursor[index]) && !tokenRe.test(ch)) {
                  tokenRe.lastIndex = 0;
                  index++;
                  if (whitespaceRe.test(ch)) {
                    if (index > 2) {
                      index--;
                      break;
                    } else {
                      while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch))
                        index++;
                      if (index > 2)
                        break;
                    }
                  }
                }
              }
            }
            tokenRe.lastIndex = 0;
            return index;
          };
          this.moveCursorShortWordRight = function() {
            var row = this.lead.row;
            var column = this.lead.column;
            var line = this.doc.getLine(row);
            var rightOfCursor = line.substring(column);
            var fold = this.session.getFoldAt(row, column, 1);
            if (fold)
              return this.moveCursorTo(fold.end.row, fold.end.column);
            if (column == line.length) {
              var l7 = this.doc.getLength();
              do {
                row++;
                rightOfCursor = this.doc.getLine(row);
              } while (row < l7 && /^\s*$/.test(rightOfCursor));
              if (!/^\s+/.test(rightOfCursor))
                rightOfCursor = "";
              column = 0;
            }
            var index = this.$shortWordEndIndex(rightOfCursor);
            this.moveCursorTo(row, column + index);
          };
          this.moveCursorShortWordLeft = function() {
            var row = this.lead.row;
            var column = this.lead.column;
            var fold;
            if (fold = this.session.getFoldAt(row, column, -1))
              return this.moveCursorTo(fold.start.row, fold.start.column);
            var line = this.session.getLine(row).substring(0, column);
            if (column === 0) {
              do {
                row--;
                line = this.doc.getLine(row);
              } while (row > 0 && /^\s*$/.test(line));
              column = line.length;
              if (!/\s+$/.test(line))
                line = "";
            }
            var leftOfCursor = lang.stringReverse(line);
            var index = this.$shortWordEndIndex(leftOfCursor);
            return this.moveCursorTo(row, column - index);
          };
          this.moveCursorWordRight = function() {
            if (this.session.$selectLongWords)
              this.moveCursorLongWordRight();
            else
              this.moveCursorShortWordRight();
          };
          this.moveCursorWordLeft = function() {
            if (this.session.$selectLongWords)
              this.moveCursorLongWordLeft();
            else
              this.moveCursorShortWordLeft();
          };
          this.moveCursorBy = function(rows, chars) {
            var screenPos = this.session.documentToScreenPosition(
              this.lead.row,
              this.lead.column
            );
            var offsetX;
            if (chars === 0) {
              if (rows !== 0) {
                if (this.session.$bidiHandler.isBidiRow(screenPos.row, this.lead.row)) {
                  offsetX = this.session.$bidiHandler.getPosLeft(screenPos.column);
                  screenPos.column = Math.round(offsetX / this.session.$bidiHandler.charWidths[0]);
                } else {
                  offsetX = screenPos.column * this.session.$bidiHandler.charWidths[0];
                }
              }
              if (this.$desiredColumn)
                screenPos.column = this.$desiredColumn;
              else
                this.$desiredColumn = screenPos.column;
            }
            if (rows != 0 && this.session.lineWidgets && this.session.lineWidgets[this.lead.row]) {
              var widget = this.session.lineWidgets[this.lead.row];
              if (rows < 0)
                rows -= widget.rowsAbove || 0;
              else if (rows > 0)
                rows += widget.rowCount - (widget.rowsAbove || 0);
            }
            var docPos = this.session.screenToDocumentPosition(screenPos.row + rows, screenPos.column, offsetX);
            if (rows !== 0 && chars === 0 && docPos.row === this.lead.row && docPos.column === this.lead.column) {
            }
            this.moveCursorTo(docPos.row, docPos.column + chars, chars === 0);
          };
          this.moveCursorToPosition = function(position) {
            this.moveCursorTo(position.row, position.column);
          };
          this.moveCursorTo = function(row, column, keepDesiredColumn) {
            var fold = this.session.getFoldAt(row, column, 1);
            if (fold) {
              row = fold.start.row;
              column = fold.start.column;
            }
            this.$keepDesiredColumnOnChange = true;
            var line = this.session.getLine(row);
            if (/[\uDC00-\uDFFF]/.test(line.charAt(column)) && line.charAt(column - 1)) {
              if (this.lead.row == row && this.lead.column == column + 1)
                column = column - 1;
              else
                column = column + 1;
            }
            this.lead.setPosition(row, column);
            this.$keepDesiredColumnOnChange = false;
            if (!keepDesiredColumn)
              this.$desiredColumn = null;
          };
          this.moveCursorToScreen = function(row, column, keepDesiredColumn) {
            var pos = this.session.screenToDocumentPosition(row, column);
            this.moveCursorTo(pos.row, pos.column, keepDesiredColumn);
          };
          this.detach = function() {
            this.lead.detach();
            this.anchor.detach();
          };
          this.fromOrientedRange = function(range) {
            this.setSelectionRange(range, range.cursor == range.start);
            this.$desiredColumn = range.desiredColumn || this.$desiredColumn;
          };
          this.toOrientedRange = function(range) {
            var r5 = this.getRange();
            if (range) {
              range.start.column = r5.start.column;
              range.start.row = r5.start.row;
              range.end.column = r5.end.column;
              range.end.row = r5.end.row;
            } else {
              range = r5;
            }
            range.cursor = this.isBackwards() ? range.start : range.end;
            range.desiredColumn = this.$desiredColumn;
            return range;
          };
          this.getRangeOfMovements = function(func) {
            var start = this.getCursor();
            try {
              func(this);
              var end = this.getCursor();
              return Range.fromPoints(start, end);
            } catch (e10) {
              return Range.fromPoints(start, start);
            } finally {
              this.moveCursorToPosition(start);
            }
          };
          this.toJSON = function() {
            if (this.rangeCount) {
              var data = this.ranges.map(function(r5) {
                var r1 = r5.clone();
                r1.isBackwards = r5.cursor == r5.start;
                return r1;
              });
            } else {
              var data = this.getRange();
              data.isBackwards = this.isBackwards();
            }
            return data;
          };
          this.fromJSON = function(data) {
            if (data.start == void 0) {
              if (this.rangeList && data.length > 1) {
                this.toSingleRange(data[0]);
                for (var i6 = data.length; i6--; ) {
                  var r5 = Range.fromPoints(data[i6].start, data[i6].end);
                  if (data[i6].isBackwards)
                    r5.cursor = r5.start;
                  this.addRange(r5, true);
                }
                return;
              } else {
                data = data[0];
              }
            }
            if (this.rangeList)
              this.toSingleRange(data);
            this.setSelectionRange(data, data.isBackwards);
          };
          this.isEqual = function(data) {
            if ((data.length || this.rangeCount) && data.length != this.rangeCount)
              return false;
            if (!data.length || !this.ranges)
              return this.getRange().isEqual(data);
            for (var i6 = this.ranges.length; i6--; ) {
              if (!this.ranges[i6].isEqual(data[i6]))
                return false;
            }
            return true;
          };
        }).call(Selection.prototype);
        exports2.Selection = Selection;
      });
      ace.define("ace/tokenizer", ["require", "exports", "module", "ace/config"], function(require3, exports2, module2) {
        "use strict";
        var config2 = require3("./config");
        var MAX_TOKEN_COUNT = 2e3;
        var Tokenizer = function(rules) {
          this.states = rules;
          this.regExps = {};
          this.matchMappings = {};
          for (var key in this.states) {
            var state = this.states[key];
            var ruleRegExps = [];
            var matchTotal = 0;
            var mapping = this.matchMappings[key] = { defaultToken: "text" };
            var flag = "g";
            var splitterRurles = [];
            for (var i6 = 0; i6 < state.length; i6++) {
              var rule = state[i6];
              if (rule.defaultToken)
                mapping.defaultToken = rule.defaultToken;
              if (rule.caseInsensitive && flag.indexOf("i") === -1)
                flag += "i";
              if (rule.unicode && flag.indexOf("u") === -1)
                flag += "u";
              if (rule.regex == null)
                continue;
              if (rule.regex instanceof RegExp)
                rule.regex = rule.regex.toString().slice(1, -1);
              var adjustedregex = rule.regex;
              var matchcount = new RegExp("(?:(" + adjustedregex + ")|(.))").exec("a").length - 2;
              if (Array.isArray(rule.token)) {
                if (rule.token.length == 1 || matchcount == 1) {
                  rule.token = rule.token[0];
                } else if (matchcount - 1 != rule.token.length) {
                  this.reportError("number of classes and regexp groups doesn't match", {
                    rule,
                    groupCount: matchcount - 1
                  });
                  rule.token = rule.token[0];
                } else {
                  rule.tokenArray = rule.token;
                  rule.token = null;
                  rule.onMatch = this.$arrayTokens;
                }
              } else if (typeof rule.token == "function" && !rule.onMatch) {
                if (matchcount > 1)
                  rule.onMatch = this.$applyToken;
                else
                  rule.onMatch = rule.token;
              }
              if (matchcount > 1) {
                if (/\\\d/.test(rule.regex)) {
                  adjustedregex = rule.regex.replace(/\\([0-9]+)/g, function(match, digit) {
                    return "\\" + (parseInt(digit, 10) + matchTotal + 1);
                  });
                } else {
                  matchcount = 1;
                  adjustedregex = this.removeCapturingGroups(rule.regex);
                }
                if (!rule.splitRegex && typeof rule.token != "string")
                  splitterRurles.push(rule);
              }
              mapping[matchTotal] = i6;
              matchTotal += matchcount;
              ruleRegExps.push(adjustedregex);
              if (!rule.onMatch)
                rule.onMatch = null;
            }
            if (!ruleRegExps.length) {
              mapping[0] = 0;
              ruleRegExps.push("$");
            }
            splitterRurles.forEach(function(rule2) {
              rule2.splitRegex = this.createSplitterRegexp(rule2.regex, flag);
            }, this);
            this.regExps[key] = new RegExp("(" + ruleRegExps.join(")|(") + ")|($)", flag);
          }
        };
        (function() {
          this.$setMaxTokenCount = function(m2) {
            MAX_TOKEN_COUNT = m2 | 0;
          };
          this.$applyToken = function(str) {
            var values = this.splitRegex.exec(str).slice(1);
            var types = this.token.apply(this, values);
            if (typeof types === "string")
              return [{ type: types, value: str }];
            var tokens = [];
            for (var i6 = 0, l7 = types.length; i6 < l7; i6++) {
              if (values[i6])
                tokens[tokens.length] = {
                  type: types[i6],
                  value: values[i6]
                };
            }
            return tokens;
          };
          this.$arrayTokens = function(str) {
            if (!str)
              return [];
            var values = this.splitRegex.exec(str);
            if (!values)
              return "text";
            var tokens = [];
            var types = this.tokenArray;
            for (var i6 = 0, l7 = types.length; i6 < l7; i6++) {
              if (values[i6 + 1])
                tokens[tokens.length] = {
                  type: types[i6],
                  value: values[i6 + 1]
                };
            }
            return tokens;
          };
          this.removeCapturingGroups = function(src) {
            var r5 = src.replace(
              /\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,
              function(x2, y2) {
                return y2 ? "(?:" : x2;
              }
            );
            return r5;
          };
          this.createSplitterRegexp = function(src, flag) {
            if (src.indexOf("(?=") != -1) {
              var stack = 0;
              var inChClass = false;
              var lastCapture = {};
              src.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g, function(m2, esc, parenOpen, parenClose, square, index) {
                if (inChClass) {
                  inChClass = square != "]";
                } else if (square) {
                  inChClass = true;
                } else if (parenClose) {
                  if (stack == lastCapture.stack) {
                    lastCapture.end = index + 1;
                    lastCapture.stack = -1;
                  }
                  stack--;
                } else if (parenOpen) {
                  stack++;
                  if (parenOpen.length != 1) {
                    lastCapture.stack = stack;
                    lastCapture.start = index;
                  }
                }
                return m2;
              });
              if (lastCapture.end != null && /^\)*$/.test(src.substr(lastCapture.end)))
                src = src.substring(0, lastCapture.start) + src.substr(lastCapture.end);
            }
            if (src.charAt(0) != "^")
              src = "^" + src;
            if (src.charAt(src.length - 1) != "$")
              src += "$";
            return new RegExp(src, (flag || "").replace("g", ""));
          };
          this.getLineTokens = function(line, startState) {
            if (startState && typeof startState != "string") {
              var stack = startState.slice(0);
              startState = stack[0];
              if (startState === "#tmp") {
                stack.shift();
                startState = stack.shift();
              }
            } else
              var stack = [];
            var currentState = startState || "start";
            var state = this.states[currentState];
            if (!state) {
              currentState = "start";
              state = this.states[currentState];
            }
            var mapping = this.matchMappings[currentState];
            var re = this.regExps[currentState];
            re.lastIndex = 0;
            var match, tokens = [];
            var lastIndex = 0;
            var matchAttempts = 0;
            var token = { type: null, value: "" };
            while (match = re.exec(line)) {
              var type = mapping.defaultToken;
              var rule = null;
              var value = match[0];
              var index = re.lastIndex;
              if (index - value.length > lastIndex) {
                var skipped = line.substring(lastIndex, index - value.length);
                if (token.type == type) {
                  token.value += skipped;
                } else {
                  if (token.type)
                    tokens.push(token);
                  token = { type, value: skipped };
                }
              }
              for (var i6 = 0; i6 < match.length - 2; i6++) {
                if (match[i6 + 1] === void 0)
                  continue;
                rule = state[mapping[i6]];
                if (rule.onMatch)
                  type = rule.onMatch(value, currentState, stack, line);
                else
                  type = rule.token;
                if (rule.next) {
                  if (typeof rule.next == "string") {
                    currentState = rule.next;
                  } else {
                    currentState = rule.next(currentState, stack);
                  }
                  state = this.states[currentState];
                  if (!state) {
                    this.reportError("state doesn't exist", currentState);
                    currentState = "start";
                    state = this.states[currentState];
                  }
                  mapping = this.matchMappings[currentState];
                  lastIndex = index;
                  re = this.regExps[currentState];
                  re.lastIndex = index;
                }
                if (rule.consumeLineEnd)
                  lastIndex = index;
                break;
              }
              if (value) {
                if (typeof type === "string") {
                  if ((!rule || rule.merge !== false) && token.type === type) {
                    token.value += value;
                  } else {
                    if (token.type)
                      tokens.push(token);
                    token = { type, value };
                  }
                } else if (type) {
                  if (token.type)
                    tokens.push(token);
                  token = { type: null, value: "" };
                  for (var i6 = 0; i6 < type.length; i6++)
                    tokens.push(type[i6]);
                }
              }
              if (lastIndex == line.length)
                break;
              lastIndex = index;
              if (matchAttempts++ > MAX_TOKEN_COUNT) {
                if (matchAttempts > 2 * line.length) {
                  this.reportError("infinite loop with in ace tokenizer", {
                    startState,
                    line
                  });
                }
                while (lastIndex < line.length) {
                  if (token.type)
                    tokens.push(token);
                  token = {
                    value: line.substring(lastIndex, lastIndex += 500),
                    type: "overflow"
                  };
                }
                currentState = "start";
                stack = [];
                break;
              }
            }
            if (token.type)
              tokens.push(token);
            if (stack.length > 1) {
              if (stack[0] !== currentState)
                stack.unshift("#tmp", currentState);
            }
            return {
              tokens,
              state: stack.length ? stack : currentState
            };
          };
          this.reportError = config2.reportError;
        }).call(Tokenizer.prototype);
        exports2.Tokenizer = Tokenizer;
      });
      ace.define("ace/mode/text_highlight_rules", ["require", "exports", "module", "ace/lib/lang"], function(require3, exports2, module2) {
        "use strict";
        var lang = require3("../lib/lang");
        var TextHighlightRules = function() {
          this.$rules = {
            "start": [{
              token: "empty_line",
              regex: "^$"
            }, {
              defaultToken: "text"
            }]
          };
        };
        (function() {
          this.addRules = function(rules, prefix) {
            if (!prefix) {
              for (var key in rules)
                this.$rules[key] = rules[key];
              return;
            }
            for (var key in rules) {
              var state = rules[key];
              for (var i6 = 0; i6 < state.length; i6++) {
                var rule = state[i6];
                if (rule.next || rule.onMatch) {
                  if (typeof rule.next == "string") {
                    if (rule.next.indexOf(prefix) !== 0)
                      rule.next = prefix + rule.next;
                  }
                  if (rule.nextState && rule.nextState.indexOf(prefix) !== 0)
                    rule.nextState = prefix + rule.nextState;
                }
              }
              this.$rules[prefix + key] = state;
            }
          };
          this.getRules = function() {
            return this.$rules;
          };
          this.embedRules = function(HighlightRules, prefix, escapeRules, states, append) {
            var embedRules = typeof HighlightRules == "function" ? new HighlightRules().getRules() : HighlightRules;
            if (states) {
              for (var i6 = 0; i6 < states.length; i6++)
                states[i6] = prefix + states[i6];
            } else {
              states = [];
              for (var key in embedRules)
                states.push(prefix + key);
            }
            this.addRules(embedRules, prefix);
            if (escapeRules) {
              var addRules = Array.prototype[append ? "push" : "unshift"];
              for (var i6 = 0; i6 < states.length; i6++)
                addRules.apply(this.$rules[states[i6]], lang.deepCopy(escapeRules));
            }
            if (!this.$embeds)
              this.$embeds = [];
            this.$embeds.push(prefix);
          };
          this.getEmbeds = function() {
            return this.$embeds;
          };
          var pushState = function(currentState, stack) {
            if (currentState != "start" || stack.length)
              stack.unshift(this.nextState, currentState);
            return this.nextState;
          };
          var popState = function(currentState, stack) {
            stack.shift();
            return stack.shift() || "start";
          };
          this.normalizeRules = function() {
            var id = 0;
            var rules = this.$rules;
            function processState(key) {
              var state = rules[key];
              state.processed = true;
              for (var i6 = 0; i6 < state.length; i6++) {
                var rule = state[i6];
                var toInsert = null;
                if (Array.isArray(rule)) {
                  toInsert = rule;
                  rule = {};
                }
                if (!rule.regex && rule.start) {
                  rule.regex = rule.start;
                  if (!rule.next)
                    rule.next = [];
                  rule.next.push({
                    defaultToken: rule.token
                  }, {
                    token: rule.token + ".end",
                    regex: rule.end || rule.start,
                    next: "pop"
                  });
                  rule.token = rule.token + ".start";
                  rule.push = true;
                }
                var next = rule.next || rule.push;
                if (next && Array.isArray(next)) {
                  var stateName = rule.stateName;
                  if (!stateName) {
                    stateName = rule.token;
                    if (typeof stateName != "string")
                      stateName = stateName[0] || "";
                    if (rules[stateName])
                      stateName += id++;
                  }
                  rules[stateName] = next;
                  rule.next = stateName;
                  processState(stateName);
                } else if (next == "pop") {
                  rule.next = popState;
                }
                if (rule.push) {
                  rule.nextState = rule.next || rule.push;
                  rule.next = pushState;
                  delete rule.push;
                }
                if (rule.rules) {
                  for (var r5 in rule.rules) {
                    if (rules[r5]) {
                      if (rules[r5].push)
                        rules[r5].push.apply(rules[r5], rule.rules[r5]);
                    } else {
                      rules[r5] = rule.rules[r5];
                    }
                  }
                }
                var includeName = typeof rule == "string" ? rule : rule.include;
                if (includeName) {
                  if (Array.isArray(includeName))
                    toInsert = includeName.map(function(x2) {
                      return rules[x2];
                    });
                  else
                    toInsert = rules[includeName];
                }
                if (toInsert) {
                  var args = [i6, 1].concat(toInsert);
                  if (rule.noEscape)
                    args = args.filter(function(x2) {
                      return !x2.next;
                    });
                  state.splice.apply(state, args);
                  i6--;
                }
                if (rule.keywordMap) {
                  rule.token = this.createKeywordMapper(
                    rule.keywordMap,
                    rule.defaultToken || "text",
                    rule.caseInsensitive
                  );
                  delete rule.defaultToken;
                }
              }
            }
            Object.keys(rules).forEach(processState, this);
          };
          this.createKeywordMapper = function(map, defaultToken, ignoreCase, splitChar) {
            var keywords = /* @__PURE__ */ Object.create(null);
            this.$keywordList = [];
            Object.keys(map).forEach(function(className) {
              var a3 = map[className];
              var list = a3.split(splitChar || "|");
              for (var i6 = list.length; i6--; ) {
                var word = list[i6];
                this.$keywordList.push(word);
                if (ignoreCase)
                  word = word.toLowerCase();
                keywords[word] = className;
              }
            }, this);
            map = null;
            return ignoreCase ? function(value) {
              return keywords[value.toLowerCase()] || defaultToken;
            } : function(value) {
              return keywords[value] || defaultToken;
            };
          };
          this.getKeywords = function() {
            return this.$keywords;
          };
        }).call(TextHighlightRules.prototype);
        exports2.TextHighlightRules = TextHighlightRules;
      });
      ace.define("ace/mode/behaviour", ["require", "exports", "module"], function(require3, exports2, module2) {
        "use strict";
        var Behaviour = function() {
          this.$behaviours = {};
        };
        (function() {
          this.add = function(name2, action, callback) {
            switch (void 0) {
              case this.$behaviours:
                this.$behaviours = {};
              case this.$behaviours[name2]:
                this.$behaviours[name2] = {};
            }
            this.$behaviours[name2][action] = callback;
          };
          this.addBehaviours = function(behaviours) {
            for (var key in behaviours) {
              for (var action in behaviours[key]) {
                this.add(key, action, behaviours[key][action]);
              }
            }
          };
          this.remove = function(name2) {
            if (this.$behaviours && this.$behaviours[name2]) {
              delete this.$behaviours[name2];
            }
          };
          this.inherit = function(mode, filter) {
            if (typeof mode === "function") {
              var behaviours = new mode().getBehaviours(filter);
            } else {
              var behaviours = mode.getBehaviours(filter);
            }
            this.addBehaviours(behaviours);
          };
          this.getBehaviours = function(filter) {
            if (!filter) {
              return this.$behaviours;
            } else {
              var ret = {};
              for (var i6 = 0; i6 < filter.length; i6++) {
                if (this.$behaviours[filter[i6]]) {
                  ret[filter[i6]] = this.$behaviours[filter[i6]];
                }
              }
              return ret;
            }
          };
        }).call(Behaviour.prototype);
        exports2.Behaviour = Behaviour;
      });
      ace.define("ace/token_iterator", ["require", "exports", "module", "ace/range"], function(require3, exports2, module2) {
        "use strict";
        var Range = require3("./range").Range;
        var TokenIterator = function(session, initialRow, initialColumn) {
          this.$session = session;
          this.$row = initialRow;
          this.$rowTokens = session.getTokens(initialRow);
          var token = session.getTokenAt(initialRow, initialColumn);
          this.$tokenIndex = token ? token.index : -1;
        };
        (function() {
          this.stepBackward = function() {
            this.$tokenIndex -= 1;
            while (this.$tokenIndex < 0) {
              this.$row -= 1;
              if (this.$row < 0) {
                this.$row = 0;
                return null;
              }
              this.$rowTokens = this.$session.getTokens(this.$row);
              this.$tokenIndex = this.$rowTokens.length - 1;
            }
            return this.$rowTokens[this.$tokenIndex];
          };
          this.stepForward = function() {
            this.$tokenIndex += 1;
            var rowCount;
            while (this.$tokenIndex >= this.$rowTokens.length) {
              this.$row += 1;
              if (!rowCount)
                rowCount = this.$session.getLength();
              if (this.$row >= rowCount) {
                this.$row = rowCount - 1;
                return null;
              }
              this.$rowTokens = this.$session.getTokens(this.$row);
              this.$tokenIndex = 0;
            }
            return this.$rowTokens[this.$tokenIndex];
          };
          this.getCurrentToken = function() {
            return this.$rowTokens[this.$tokenIndex];
          };
          this.getCurrentTokenRow = function() {
            return this.$row;
          };
          this.getCurrentTokenColumn = function() {
            var rowTokens = this.$rowTokens;
            var tokenIndex = this.$tokenIndex;
            var column = rowTokens[tokenIndex].start;
            if (column !== void 0)
              return column;
            column = 0;
            while (tokenIndex > 0) {
              tokenIndex -= 1;
              column += rowTokens[tokenIndex].value.length;
            }
            return column;
          };
          this.getCurrentTokenPosition = function() {
            return { row: this.$row, column: this.getCurrentTokenColumn() };
          };
          this.getCurrentTokenRange = function() {
            var token = this.$rowTokens[this.$tokenIndex];
            var column = this.getCurrentTokenColumn();
            return new Range(this.$row, column, this.$row, column + token.value.length);
          };
        }).call(TokenIterator.prototype);
        exports2.TokenIterator = TokenIterator;
      });
      ace.define("ace/mode/behaviour/cstyle", ["require", "exports", "module", "ace/lib/oop", "ace/mode/behaviour", "ace/token_iterator", "ace/lib/lang"], function(require3, exports2, module2) {
        "use strict";
        var oop = require3("../../lib/oop");
        var Behaviour = require3("../behaviour").Behaviour;
        var TokenIterator = require3("../../token_iterator").TokenIterator;
        var lang = require3("../../lib/lang");
        var SAFE_INSERT_IN_TOKENS = ["text", "paren.rparen", "rparen", "paren", "punctuation.operator"];
        var SAFE_INSERT_BEFORE_TOKENS = ["text", "paren.rparen", "rparen", "paren", "punctuation.operator", "comment"];
        var context;
        var contextCache = {};
        var defaultQuotes = { '"': '"', "'": "'" };
        var initContext = function(editor) {
          var id = -1;
          if (editor.multiSelect) {
            id = editor.selection.index;
            if (contextCache.rangeCount != editor.multiSelect.rangeCount)
              contextCache = { rangeCount: editor.multiSelect.rangeCount };
          }
          if (contextCache[id])
            return context = contextCache[id];
          context = contextCache[id] = {
            autoInsertedBrackets: 0,
            autoInsertedRow: -1,
            autoInsertedLineEnd: "",
            maybeInsertedBrackets: 0,
            maybeInsertedRow: -1,
            maybeInsertedLineStart: "",
            maybeInsertedLineEnd: ""
          };
        };
        var getWrapped = function(selection, selected, opening, closing) {
          var rowDiff = selection.end.row - selection.start.row;
          return {
            text: opening + selected + closing,
            selection: [
              0,
              selection.start.column + 1,
              rowDiff,
              selection.end.column + (rowDiff ? 0 : 1)
            ]
          };
        };
        var CstyleBehaviour = function(options) {
          this.add("braces", "insertion", function(state, action, editor, session, text) {
            var cursor = editor.getCursorPosition();
            var line = session.doc.getLine(cursor.row);
            if (text == "{") {
              initContext(editor);
              var selection = editor.getSelectionRange();
              var selected = session.doc.getTextRange(selection);
              if (selected !== "" && selected !== "{" && editor.getWrapBehavioursEnabled()) {
                return getWrapped(selection, selected, "{", "}");
              } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {
                if (/[\]\}\)]/.test(line[cursor.column]) || editor.inMultiSelectMode || options && options.braces) {
                  CstyleBehaviour.recordAutoInsert(editor, session, "}");
                  return {
                    text: "{}",
                    selection: [1, 1]
                  };
                } else {
                  CstyleBehaviour.recordMaybeInsert(editor, session, "{");
                  return {
                    text: "{",
                    selection: [1, 1]
                  };
                }
              }
            } else if (text == "}") {
              initContext(editor);
              var rightChar = line.substring(cursor.column, cursor.column + 1);
              if (rightChar == "}") {
                var matching = session.$findOpeningBracket("}", { column: cursor.column + 1, row: cursor.row });
                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {
                  CstyleBehaviour.popAutoInsertedClosing();
                  return {
                    text: "",
                    selection: [1, 1]
                  };
                }
              }
            } else if (text == "\n" || text == "\r\n") {
              initContext(editor);
              var closing = "";
              if (CstyleBehaviour.isMaybeInsertedClosing(cursor, line)) {
                closing = lang.stringRepeat("}", context.maybeInsertedBrackets);
                CstyleBehaviour.clearMaybeInsertedClosing();
              }
              var rightChar = line.substring(cursor.column, cursor.column + 1);
              if (rightChar === "}") {
                var openBracePos = session.findMatchingBracket({ row: cursor.row, column: cursor.column + 1 }, "}");
                if (!openBracePos)
                  return null;
                var next_indent = this.$getIndent(session.getLine(openBracePos.row));
              } else if (closing) {
                var next_indent = this.$getIndent(line);
              } else {
                CstyleBehaviour.clearMaybeInsertedClosing();
                return;
              }
              var indent = next_indent + session.getTabString();
              return {
                text: "\n" + indent + "\n" + next_indent + closing,
                selection: [1, indent.length, 1, indent.length]
              };
            } else {
              CstyleBehaviour.clearMaybeInsertedClosing();
            }
          });
          this.add("braces", "deletion", function(state, action, editor, session, range) {
            var selected = session.doc.getTextRange(range);
            if (!range.isMultiLine() && selected == "{") {
              initContext(editor);
              var line = session.doc.getLine(range.start.row);
              var rightChar = line.substring(range.end.column, range.end.column + 1);
              if (rightChar == "}") {
                range.end.column++;
                return range;
              } else {
                context.maybeInsertedBrackets--;
              }
            }
          });
          this.add("parens", "insertion", function(state, action, editor, session, text) {
            if (text == "(") {
              initContext(editor);
              var selection = editor.getSelectionRange();
              var selected = session.doc.getTextRange(selection);
              if (selected !== "" && editor.getWrapBehavioursEnabled()) {
                return getWrapped(selection, selected, "(", ")");
              } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {
                CstyleBehaviour.recordAutoInsert(editor, session, ")");
                return {
                  text: "()",
                  selection: [1, 1]
                };
              }
            } else if (text == ")") {
              initContext(editor);
              var cursor = editor.getCursorPosition();
              var line = session.doc.getLine(cursor.row);
              var rightChar = line.substring(cursor.column, cursor.column + 1);
              if (rightChar == ")") {
                var matching = session.$findOpeningBracket(")", { column: cursor.column + 1, row: cursor.row });
                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {
                  CstyleBehaviour.popAutoInsertedClosing();
                  return {
                    text: "",
                    selection: [1, 1]
                  };
                }
              }
            }
          });
          this.add("parens", "deletion", function(state, action, editor, session, range) {
            var selected = session.doc.getTextRange(range);
            if (!range.isMultiLine() && selected == "(") {
              initContext(editor);
              var line = session.doc.getLine(range.start.row);
              var rightChar = line.substring(range.start.column + 1, range.start.column + 2);
              if (rightChar == ")") {
                range.end.column++;
                return range;
              }
            }
          });
          this.add("brackets", "insertion", function(state, action, editor, session, text) {
            if (text == "[") {
              initContext(editor);
              var selection = editor.getSelectionRange();
              var selected = session.doc.getTextRange(selection);
              if (selected !== "" && editor.getWrapBehavioursEnabled()) {
                return getWrapped(selection, selected, "[", "]");
              } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {
                CstyleBehaviour.recordAutoInsert(editor, session, "]");
                return {
                  text: "[]",
                  selection: [1, 1]
                };
              }
            } else if (text == "]") {
              initContext(editor);
              var cursor = editor.getCursorPosition();
              var line = session.doc.getLine(cursor.row);
              var rightChar = line.substring(cursor.column, cursor.column + 1);
              if (rightChar == "]") {
                var matching = session.$findOpeningBracket("]", { column: cursor.column + 1, row: cursor.row });
                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {
                  CstyleBehaviour.popAutoInsertedClosing();
                  return {
                    text: "",
                    selection: [1, 1]
                  };
                }
              }
            }
          });
          this.add("brackets", "deletion", function(state, action, editor, session, range) {
            var selected = session.doc.getTextRange(range);
            if (!range.isMultiLine() && selected == "[") {
              initContext(editor);
              var line = session.doc.getLine(range.start.row);
              var rightChar = line.substring(range.start.column + 1, range.start.column + 2);
              if (rightChar == "]") {
                range.end.column++;
                return range;
              }
            }
          });
          this.add("string_dquotes", "insertion", function(state, action, editor, session, text) {
            var quotes = session.$mode.$quotes || defaultQuotes;
            if (text.length == 1 && quotes[text]) {
              if (this.lineCommentStart && this.lineCommentStart.indexOf(text) != -1)
                return;
              initContext(editor);
              var quote = text;
              var selection = editor.getSelectionRange();
              var selected = session.doc.getTextRange(selection);
              if (selected !== "" && (selected.length != 1 || !quotes[selected]) && editor.getWrapBehavioursEnabled()) {
                return getWrapped(selection, selected, quote, quote);
              } else if (!selected) {
                var cursor = editor.getCursorPosition();
                var line = session.doc.getLine(cursor.row);
                var leftChar = line.substring(cursor.column - 1, cursor.column);
                var rightChar = line.substring(cursor.column, cursor.column + 1);
                var token = session.getTokenAt(cursor.row, cursor.column);
                var rightToken = session.getTokenAt(cursor.row, cursor.column + 1);
                if (leftChar == "\\" && token && /escape/.test(token.type))
                  return null;
                var stringBefore = token && /string|escape/.test(token.type);
                var stringAfter = !rightToken || /string|escape/.test(rightToken.type);
                var pair;
                if (rightChar == quote) {
                  pair = stringBefore !== stringAfter;
                  if (pair && /string\.end/.test(rightToken.type))
                    pair = false;
                } else {
                  if (stringBefore && !stringAfter)
                    return null;
                  if (stringBefore && stringAfter)
                    return null;
                  var wordRe = session.$mode.tokenRe;
                  wordRe.lastIndex = 0;
                  var isWordBefore = wordRe.test(leftChar);
                  wordRe.lastIndex = 0;
                  var isWordAfter = wordRe.test(leftChar);
                  if (isWordBefore || isWordAfter)
                    return null;
                  if (rightChar && !/[\s;,.})\]\\]/.test(rightChar))
                    return null;
                  var charBefore = line[cursor.column - 2];
                  if (leftChar == quote && (charBefore == quote || wordRe.test(charBefore)))
                    return null;
                  pair = true;
                }
                return {
                  text: pair ? quote + quote : "",
                  selection: [1, 1]
                };
              }
            }
          });
          this.add("string_dquotes", "deletion", function(state, action, editor, session, range) {
            var quotes = session.$mode.$quotes || defaultQuotes;
            var selected = session.doc.getTextRange(range);
            if (!range.isMultiLine() && quotes.hasOwnProperty(selected)) {
              initContext(editor);
              var line = session.doc.getLine(range.start.row);
              var rightChar = line.substring(range.start.column + 1, range.start.column + 2);
              if (rightChar == selected) {
                range.end.column++;
                return range;
              }
            }
          });
        };
        CstyleBehaviour.isSaneInsertion = function(editor, session) {
          var cursor = editor.getCursorPosition();
          var iterator = new TokenIterator(session, cursor.row, cursor.column);
          if (!this.$matchTokenType(iterator.getCurrentToken() || "text", SAFE_INSERT_IN_TOKENS)) {
            if (/[)}\]]/.test(editor.session.getLine(cursor.row)[cursor.column]))
              return true;
            var iterator2 = new TokenIterator(session, cursor.row, cursor.column + 1);
            if (!this.$matchTokenType(iterator2.getCurrentToken() || "text", SAFE_INSERT_IN_TOKENS))
              return false;
          }
          iterator.stepForward();
          return iterator.getCurrentTokenRow() !== cursor.row || this.$matchTokenType(iterator.getCurrentToken() || "text", SAFE_INSERT_BEFORE_TOKENS);
        };
        CstyleBehaviour.$matchTokenType = function(token, types) {
          return types.indexOf(token.type || token) > -1;
        };
        CstyleBehaviour.recordAutoInsert = function(editor, session, bracket) {
          var cursor = editor.getCursorPosition();
          var line = session.doc.getLine(cursor.row);
          if (!this.isAutoInsertedClosing(cursor, line, context.autoInsertedLineEnd[0]))
            context.autoInsertedBrackets = 0;
          context.autoInsertedRow = cursor.row;
          context.autoInsertedLineEnd = bracket + line.substr(cursor.column);
          context.autoInsertedBrackets++;
        };
        CstyleBehaviour.recordMaybeInsert = function(editor, session, bracket) {
          var cursor = editor.getCursorPosition();
          var line = session.doc.getLine(cursor.row);
          if (!this.isMaybeInsertedClosing(cursor, line))
            context.maybeInsertedBrackets = 0;
          context.maybeInsertedRow = cursor.row;
          context.maybeInsertedLineStart = line.substr(0, cursor.column) + bracket;
          context.maybeInsertedLineEnd = line.substr(cursor.column);
          context.maybeInsertedBrackets++;
        };
        CstyleBehaviour.isAutoInsertedClosing = function(cursor, line, bracket) {
          return context.autoInsertedBrackets > 0 && cursor.row === context.autoInsertedRow && bracket === context.autoInsertedLineEnd[0] && line.substr(cursor.column) === context.autoInsertedLineEnd;
        };
        CstyleBehaviour.isMaybeInsertedClosing = function(cursor, line) {
          return context.maybeInsertedBrackets > 0 && cursor.row === context.maybeInsertedRow && line.substr(cursor.column) === context.maybeInsertedLineEnd && line.substr(0, cursor.column) == context.maybeInsertedLineStart;
        };
        CstyleBehaviour.popAutoInsertedClosing = function() {
          context.autoInsertedLineEnd = context.autoInsertedLineEnd.substr(1);
          context.autoInsertedBrackets--;
        };
        CstyleBehaviour.clearMaybeInsertedClosing = function() {
          if (context) {
            context.maybeInsertedBrackets = 0;
            context.maybeInsertedRow = -1;
          }
        };
        oop.inherits(CstyleBehaviour, Behaviour);
        exports2.CstyleBehaviour = CstyleBehaviour;
      });
      ace.define("ace/unicode", ["require", "exports", "module"], function(require3, exports2, module2) {
        "use strict";
        var wordChars = [48, 9, 8, 25, 5, 0, 2, 25, 48, 0, 11, 0, 5, 0, 6, 22, 2, 30, 2, 457, 5, 11, 15, 4, 8, 0, 2, 0, 18, 116, 2, 1, 3, 3, 9, 0, 2, 2, 2, 0, 2, 19, 2, 82, 2, 138, 2, 4, 3, 155, 12, 37, 3, 0, 8, 38, 10, 44, 2, 0, 2, 1, 2, 1, 2, 0, 9, 26, 6, 2, 30, 10, 7, 61, 2, 9, 5, 101, 2, 7, 3, 9, 2, 18, 3, 0, 17, 58, 3, 100, 15, 53, 5, 0, 6, 45, 211, 57, 3, 18, 2, 5, 3, 11, 3, 9, 2, 1, 7, 6, 2, 2, 2, 7, 3, 1, 3, 21, 2, 6, 2, 0, 4, 3, 3, 8, 3, 1, 3, 3, 9, 0, 5, 1, 2, 4, 3, 11, 16, 2, 2, 5, 5, 1, 3, 21, 2, 6, 2, 1, 2, 1, 2, 1, 3, 0, 2, 4, 5, 1, 3, 2, 4, 0, 8, 3, 2, 0, 8, 15, 12, 2, 2, 8, 2, 2, 2, 21, 2, 6, 2, 1, 2, 4, 3, 9, 2, 2, 2, 2, 3, 0, 16, 3, 3, 9, 18, 2, 2, 7, 3, 1, 3, 21, 2, 6, 2, 1, 2, 4, 3, 8, 3, 1, 3, 2, 9, 1, 5, 1, 2, 4, 3, 9, 2, 0, 17, 1, 2, 5, 4, 2, 2, 3, 4, 1, 2, 0, 2, 1, 4, 1, 4, 2, 4, 11, 5, 4, 4, 2, 2, 3, 3, 0, 7, 0, 15, 9, 18, 2, 2, 7, 2, 2, 2, 22, 2, 9, 2, 4, 4, 7, 2, 2, 2, 3, 8, 1, 2, 1, 7, 3, 3, 9, 19, 1, 2, 7, 2, 2, 2, 22, 2, 9, 2, 4, 3, 8, 2, 2, 2, 3, 8, 1, 8, 0, 2, 3, 3, 9, 19, 1, 2, 7, 2, 2, 2, 22, 2, 15, 4, 7, 2, 2, 2, 3, 10, 0, 9, 3, 3, 9, 11, 5, 3, 1, 2, 17, 4, 23, 2, 8, 2, 0, 3, 6, 4, 0, 5, 5, 2, 0, 2, 7, 19, 1, 14, 57, 6, 14, 2, 9, 40, 1, 2, 0, 3, 1, 2, 0, 3, 0, 7, 3, 2, 6, 2, 2, 2, 0, 2, 0, 3, 1, 2, 12, 2, 2, 3, 4, 2, 0, 2, 5, 3, 9, 3, 1, 35, 0, 24, 1, 7, 9, 12, 0, 2, 0, 2, 0, 5, 9, 2, 35, 5, 19, 2, 5, 5, 7, 2, 35, 10, 0, 58, 73, 7, 77, 3, 37, 11, 42, 2, 0, 4, 328, 2, 3, 3, 6, 2, 0, 2, 3, 3, 40, 2, 3, 3, 32, 2, 3, 3, 6, 2, 0, 2, 3, 3, 14, 2, 56, 2, 3, 3, 66, 5, 0, 33, 15, 17, 84, 13, 619, 3, 16, 2, 25, 6, 74, 22, 12, 2, 6, 12, 20, 12, 19, 13, 12, 2, 2, 2, 1, 13, 51, 3, 29, 4, 0, 5, 1, 3, 9, 34, 2, 3, 9, 7, 87, 9, 42, 6, 69, 11, 28, 4, 11, 5, 11, 11, 39, 3, 4, 12, 43, 5, 25, 7, 10, 38, 27, 5, 62, 2, 28, 3, 10, 7, 9, 14, 0, 89, 75, 5, 9, 18, 8, 13, 42, 4, 11, 71, 55, 9, 9, 4, 48, 83, 2, 2, 30, 14, 230, 23, 280, 3, 5, 3, 37, 3, 5, 3, 7, 2, 0, 2, 0, 2, 0, 2, 30, 3, 52, 2, 6, 2, 0, 4, 2, 2, 6, 4, 3, 3, 5, 5, 12, 6, 2, 2, 6, 67, 1, 20, 0, 29, 0, 14, 0, 17, 4, 60, 12, 5, 0, 4, 11, 18, 0, 5, 0, 3, 9, 2, 0, 4, 4, 7, 0, 2, 0, 2, 0, 2, 3, 2, 10, 3, 3, 6, 4, 5, 0, 53, 1, 2684, 46, 2, 46, 2, 132, 7, 6, 15, 37, 11, 53, 10, 0, 17, 22, 10, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 31, 48, 0, 470, 1, 36, 5, 2, 4, 6, 1, 5, 85, 3, 1, 3, 2, 2, 89, 2, 3, 6, 40, 4, 93, 18, 23, 57, 15, 513, 6581, 75, 20939, 53, 1164, 68, 45, 3, 268, 4, 27, 21, 31, 3, 13, 13, 1, 2, 24, 9, 69, 11, 1, 38, 8, 3, 102, 3, 1, 111, 44, 25, 51, 13, 68, 12, 9, 7, 23, 4, 0, 5, 45, 3, 35, 13, 28, 4, 64, 15, 10, 39, 54, 10, 13, 3, 9, 7, 22, 4, 1, 5, 66, 25, 2, 227, 42, 2, 1, 3, 9, 7, 11171, 13, 22, 5, 48, 8453, 301, 3, 61, 3, 105, 39, 6, 13, 4, 6, 11, 2, 12, 2, 4, 2, 0, 2, 1, 2, 1, 2, 107, 34, 362, 19, 63, 3, 53, 41, 11, 5, 15, 17, 6, 13, 1, 25, 2, 33, 4, 2, 134, 20, 9, 8, 25, 5, 0, 2, 25, 12, 88, 4, 5, 3, 5, 3, 5, 3, 2];
        var code = 0;
        var str = [];
        for (var i6 = 0; i6 < wordChars.length; i6 += 2) {
          str.push(code += wordChars[i6]);
          if (wordChars[i6 + 1])
            str.push(45, code += wordChars[i6 + 1]);
        }
        exports2.wordChars = String.fromCharCode.apply(null, str);
      });
      ace.define("ace/mode/text", ["require", "exports", "module", "ace/config", "ace/tokenizer", "ace/mode/text_highlight_rules", "ace/mode/behaviour/cstyle", "ace/unicode", "ace/lib/lang", "ace/token_iterator", "ace/range"], function(require3, exports2, module2) {
        "use strict";
        var config2 = require3("../config");
        var Tokenizer = require3("../tokenizer").Tokenizer;
        var TextHighlightRules = require3("./text_highlight_rules").TextHighlightRules;
        var CstyleBehaviour = require3("./behaviour/cstyle").CstyleBehaviour;
        var unicode = require3("../unicode");
        var lang = require3("../lib/lang");
        var TokenIterator = require3("../token_iterator").TokenIterator;
        var Range = require3("../range").Range;
        var Mode = function() {
          this.HighlightRules = TextHighlightRules;
        };
        (function() {
          this.$defaultBehaviour = new CstyleBehaviour();
          this.tokenRe = new RegExp("^[" + unicode.wordChars + "\\$_]+", "g");
          this.nonTokenRe = new RegExp("^(?:[^" + unicode.wordChars + "\\$_]|\\s])+", "g");
          this.getTokenizer = function() {
            if (!this.$tokenizer) {
              this.$highlightRules = this.$highlightRules || new this.HighlightRules(this.$highlightRuleConfig);
              this.$tokenizer = new Tokenizer(this.$highlightRules.getRules());
            }
            return this.$tokenizer;
          };
          this.lineCommentStart = "";
          this.blockComment = "";
          this.toggleCommentLines = function(state, session, startRow, endRow) {
            var doc = session.doc;
            var ignoreBlankLines = true;
            var shouldRemove = true;
            var minIndent = Infinity;
            var tabSize = session.getTabSize();
            var insertAtTabStop = false;
            if (!this.lineCommentStart) {
              if (!this.blockComment)
                return false;
              var lineCommentStart = this.blockComment.start;
              var lineCommentEnd = this.blockComment.end;
              var regexpStart = new RegExp("^(\\s*)(?:" + lang.escapeRegExp(lineCommentStart) + ")");
              var regexpEnd = new RegExp("(?:" + lang.escapeRegExp(lineCommentEnd) + ")\\s*$");
              var comment = function(line, i6) {
                if (testRemove(line, i6))
                  return;
                if (!ignoreBlankLines || /\S/.test(line)) {
                  doc.insertInLine({ row: i6, column: line.length }, lineCommentEnd);
                  doc.insertInLine({ row: i6, column: minIndent }, lineCommentStart);
                }
              };
              var uncomment = function(line, i6) {
                var m2;
                if (m2 = line.match(regexpEnd))
                  doc.removeInLine(i6, line.length - m2[0].length, line.length);
                if (m2 = line.match(regexpStart))
                  doc.removeInLine(i6, m2[1].length, m2[0].length);
              };
              var testRemove = function(line, row) {
                if (regexpStart.test(line))
                  return true;
                var tokens = session.getTokens(row);
                for (var i6 = 0; i6 < tokens.length; i6++) {
                  if (tokens[i6].type === "comment")
                    return true;
                }
              };
            } else {
              if (Array.isArray(this.lineCommentStart)) {
                var regexpStart = this.lineCommentStart.map(lang.escapeRegExp).join("|");
                var lineCommentStart = this.lineCommentStart[0];
              } else {
                var regexpStart = lang.escapeRegExp(this.lineCommentStart);
                var lineCommentStart = this.lineCommentStart;
              }
              regexpStart = new RegExp("^(\\s*)(?:" + regexpStart + ") ?");
              insertAtTabStop = session.getUseSoftTabs();
              var uncomment = function(line, i6) {
                var m2 = line.match(regexpStart);
                if (!m2)
                  return;
                var start = m2[1].length, end = m2[0].length;
                if (!shouldInsertSpace(line, start, end) && m2[0][end - 1] == " ")
                  end--;
                doc.removeInLine(i6, start, end);
              };
              var commentWithSpace = lineCommentStart + " ";
              var comment = function(line, i6) {
                if (!ignoreBlankLines || /\S/.test(line)) {
                  if (shouldInsertSpace(line, minIndent, minIndent))
                    doc.insertInLine({ row: i6, column: minIndent }, commentWithSpace);
                  else
                    doc.insertInLine({ row: i6, column: minIndent }, lineCommentStart);
                }
              };
              var testRemove = function(line, i6) {
                return regexpStart.test(line);
              };
              var shouldInsertSpace = function(line, before, after) {
                var spaces = 0;
                while (before-- && line.charAt(before) == " ")
                  spaces++;
                if (spaces % tabSize != 0)
                  return false;
                var spaces = 0;
                while (line.charAt(after++) == " ")
                  spaces++;
                if (tabSize > 2)
                  return spaces % tabSize != tabSize - 1;
                else
                  return spaces % tabSize == 0;
              };
            }
            function iter(fun) {
              for (var i6 = startRow; i6 <= endRow; i6++)
                fun(doc.getLine(i6), i6);
            }
            var minEmptyLength = Infinity;
            iter(function(line, i6) {
              var indent = line.search(/\S/);
              if (indent !== -1) {
                if (indent < minIndent)
                  minIndent = indent;
                if (shouldRemove && !testRemove(line, i6))
                  shouldRemove = false;
              } else if (minEmptyLength > line.length) {
                minEmptyLength = line.length;
              }
            });
            if (minIndent == Infinity) {
              minIndent = minEmptyLength;
              ignoreBlankLines = false;
              shouldRemove = false;
            }
            if (insertAtTabStop && minIndent % tabSize != 0)
              minIndent = Math.floor(minIndent / tabSize) * tabSize;
            iter(shouldRemove ? uncomment : comment);
          };
          this.toggleBlockComment = function(state, session, range, cursor) {
            var comment = this.blockComment;
            if (!comment)
              return;
            if (!comment.start && comment[0])
              comment = comment[0];
            var iterator = new TokenIterator(session, cursor.row, cursor.column);
            var token = iterator.getCurrentToken();
            var sel = session.selection;
            var initialRange = session.selection.toOrientedRange();
            var startRow, colDiff;
            if (token && /comment/.test(token.type)) {
              var startRange, endRange;
              while (token && /comment/.test(token.type)) {
                var i6 = token.value.indexOf(comment.start);
                if (i6 != -1) {
                  var row = iterator.getCurrentTokenRow();
                  var column = iterator.getCurrentTokenColumn() + i6;
                  startRange = new Range(row, column, row, column + comment.start.length);
                  break;
                }
                token = iterator.stepBackward();
              }
              var iterator = new TokenIterator(session, cursor.row, cursor.column);
              var token = iterator.getCurrentToken();
              while (token && /comment/.test(token.type)) {
                var i6 = token.value.indexOf(comment.end);
                if (i6 != -1) {
                  var row = iterator.getCurrentTokenRow();
                  var column = iterator.getCurrentTokenColumn() + i6;
                  endRange = new Range(row, column, row, column + comment.end.length);
                  break;
                }
                token = iterator.stepForward();
              }
              if (endRange)
                session.remove(endRange);
              if (startRange) {
                session.remove(startRange);
                startRow = startRange.start.row;
                colDiff = -comment.start.length;
              }
            } else {
              colDiff = comment.start.length;
              startRow = range.start.row;
              session.insert(range.end, comment.end);
              session.insert(range.start, comment.start);
            }
            if (initialRange.start.row == startRow)
              initialRange.start.column += colDiff;
            if (initialRange.end.row == startRow)
              initialRange.end.column += colDiff;
            session.selection.fromOrientedRange(initialRange);
          };
          this.getNextLineIndent = function(state, line, tab) {
            return this.$getIndent(line);
          };
          this.checkOutdent = function(state, line, input) {
            return false;
          };
          this.autoOutdent = function(state, doc, row) {
          };
          this.$getIndent = function(line) {
            return line.match(/^\s*/)[0];
          };
          this.createWorker = function(session) {
            return null;
          };
          this.createModeDelegates = function(mapping) {
            this.$embeds = [];
            this.$modes = {};
            for (var i6 in mapping) {
              if (mapping[i6]) {
                var Mode2 = mapping[i6];
                var id = Mode2.prototype.$id;
                var mode = config2.$modes[id];
                if (!mode)
                  config2.$modes[id] = mode = new Mode2();
                if (!config2.$modes[i6])
                  config2.$modes[i6] = mode;
                this.$embeds.push(i6);
                this.$modes[i6] = mode;
              }
            }
            var delegations = [
              "toggleBlockComment",
              "toggleCommentLines",
              "getNextLineIndent",
              "checkOutdent",
              "autoOutdent",
              "transformAction",
              "getCompletions"
            ];
            for (var i6 = 0; i6 < delegations.length; i6++) {
              (function(scope) {
                var functionName = delegations[i6];
                var defaultHandler = scope[functionName];
                scope[delegations[i6]] = function() {
                  return this.$delegator(functionName, arguments, defaultHandler);
                };
              })(this);
            }
          };
          this.$delegator = function(method, args, defaultHandler) {
            var state = args[0] || "start";
            if (typeof state != "string") {
              if (Array.isArray(state[2])) {
                var language = state[2][state[2].length - 1];
                var mode = this.$modes[language];
                if (mode)
                  return mode[method].apply(mode, [state[1]].concat([].slice.call(args, 1)));
              }
              state = state[0] || "start";
            }
            for (var i6 = 0; i6 < this.$embeds.length; i6++) {
              if (!this.$modes[this.$embeds[i6]])
                continue;
              var split = state.split(this.$embeds[i6]);
              if (!split[0] && split[1]) {
                args[0] = split[1];
                var mode = this.$modes[this.$embeds[i6]];
                return mode[method].apply(mode, args);
              }
            }
            var ret = defaultHandler.apply(this, args);
            return defaultHandler ? ret : void 0;
          };
          this.transformAction = function(state, action, editor, session, param) {
            if (this.$behaviour) {
              var behaviours = this.$behaviour.getBehaviours();
              for (var key in behaviours) {
                if (behaviours[key][action]) {
                  var ret = behaviours[key][action].apply(this, arguments);
                  if (ret) {
                    return ret;
                  }
                }
              }
            }
          };
          this.getKeywords = function(append) {
            if (!this.completionKeywords) {
              var rules = this.$tokenizer.rules;
              var completionKeywords = [];
              for (var rule in rules) {
                var ruleItr = rules[rule];
                for (var r5 = 0, l7 = ruleItr.length; r5 < l7; r5++) {
                  if (typeof ruleItr[r5].token === "string") {
                    if (/keyword|support|storage/.test(ruleItr[r5].token))
                      completionKeywords.push(ruleItr[r5].regex);
                  } else if (typeof ruleItr[r5].token === "object") {
                    for (var a3 = 0, aLength = ruleItr[r5].token.length; a3 < aLength; a3++) {
                      if (/keyword|support|storage/.test(ruleItr[r5].token[a3])) {
                        var rule = ruleItr[r5].regex.match(/\(.+?\)/g)[a3];
                        completionKeywords.push(rule.substr(1, rule.length - 2));
                      }
                    }
                  }
                }
              }
              this.completionKeywords = completionKeywords;
            }
            if (!append)
              return this.$keywordList;
            return completionKeywords.concat(this.$keywordList || []);
          };
          this.$createKeywordList = function() {
            if (!this.$highlightRules)
              this.getTokenizer();
            return this.$keywordList = this.$highlightRules.$keywordList || [];
          };
          this.getCompletions = function(state, session, pos, prefix) {
            var keywords = this.$keywordList || this.$createKeywordList();
            return keywords.map(function(word) {
              return {
                name: word,
                value: word,
                score: 0,
                meta: "keyword"
              };
            });
          };
          this.$id = "ace/mode/text";
        }).call(Mode.prototype);
        exports2.Mode = Mode;
      });
      ace.define("ace/apply_delta", ["require", "exports", "module"], function(require3, exports2, module2) {
        "use strict";
        function throwDeltaError(delta, errorText) {
          console.log("Invalid Delta:", delta);
          throw "Invalid Delta: " + errorText;
        }
        function positionInDocument(docLines, position) {
          return position.row >= 0 && position.row < docLines.length && position.column >= 0 && position.column <= docLines[position.row].length;
        }
        function validateDelta(docLines, delta) {
          if (delta.action != "insert" && delta.action != "remove")
            throwDeltaError(delta, "delta.action must be 'insert' or 'remove'");
          if (!(delta.lines instanceof Array))
            throwDeltaError(delta, "delta.lines must be an Array");
          if (!delta.start || !delta.end)
            throwDeltaError(delta, "delta.start/end must be an present");
          var start = delta.start;
          if (!positionInDocument(docLines, delta.start))
            throwDeltaError(delta, "delta.start must be contained in document");
          var end = delta.end;
          if (delta.action == "remove" && !positionInDocument(docLines, end))
            throwDeltaError(delta, "delta.end must contained in document for 'remove' actions");
          var numRangeRows = end.row - start.row;
          var numRangeLastLineChars = end.column - (numRangeRows == 0 ? start.column : 0);
          if (numRangeRows != delta.lines.length - 1 || delta.lines[numRangeRows].length != numRangeLastLineChars)
            throwDeltaError(delta, "delta.range must match delta lines");
        }
        exports2.applyDelta = function(docLines, delta, doNotValidate) {
          var row = delta.start.row;
          var startColumn = delta.start.column;
          var line = docLines[row] || "";
          switch (delta.action) {
            case "insert":
              var lines = delta.lines;
              if (lines.length === 1) {
                docLines[row] = line.substring(0, startColumn) + delta.lines[0] + line.substring(startColumn);
              } else {
                var args = [row, 1].concat(delta.lines);
                docLines.splice.apply(docLines, args);
                docLines[row] = line.substring(0, startColumn) + docLines[row];
                docLines[row + delta.lines.length - 1] += line.substring(startColumn);
              }
              break;
            case "remove":
              var endColumn = delta.end.column;
              var endRow = delta.end.row;
              if (row === endRow) {
                docLines[row] = line.substring(0, startColumn) + line.substring(endColumn);
              } else {
                docLines.splice(
                  row,
                  endRow - row + 1,
                  line.substring(0, startColumn) + docLines[endRow].substring(endColumn)
                );
              }
              break;
          }
        };
      });
      ace.define("ace/anchor", ["require", "exports", "module", "ace/lib/oop", "ace/lib/event_emitter"], function(require3, exports2, module2) {
        "use strict";
        var oop = require3("./lib/oop");
        var EventEmitter = require3("./lib/event_emitter").EventEmitter;
        var Anchor = exports2.Anchor = function(doc, row, column) {
          this.$onChange = this.onChange.bind(this);
          this.attach(doc);
          if (typeof column == "undefined")
            this.setPosition(row.row, row.column);
          else
            this.setPosition(row, column);
        };
        (function() {
          oop.implement(this, EventEmitter);
          this.getPosition = function() {
            return this.$clipPositionToDocument(this.row, this.column);
          };
          this.getDocument = function() {
            return this.document;
          };
          this.$insertRight = false;
          this.onChange = function(delta) {
            if (delta.start.row == delta.end.row && delta.start.row != this.row)
              return;
            if (delta.start.row > this.row)
              return;
            var point = $getTransformedPoint(delta, { row: this.row, column: this.column }, this.$insertRight);
            this.setPosition(point.row, point.column, true);
          };
          function $pointsInOrder(point1, point2, equalPointsInOrder) {
            var bColIsAfter = equalPointsInOrder ? point1.column <= point2.column : point1.column < point2.column;
            return point1.row < point2.row || point1.row == point2.row && bColIsAfter;
          }
          function $getTransformedPoint(delta, point, moveIfEqual) {
            var deltaIsInsert = delta.action == "insert";
            var deltaRowShift = (deltaIsInsert ? 1 : -1) * (delta.end.row - delta.start.row);
            var deltaColShift = (deltaIsInsert ? 1 : -1) * (delta.end.column - delta.start.column);
            var deltaStart = delta.start;
            var deltaEnd = deltaIsInsert ? deltaStart : delta.end;
            if ($pointsInOrder(point, deltaStart, moveIfEqual)) {
              return {
                row: point.row,
                column: point.column
              };
            }
            if ($pointsInOrder(deltaEnd, point, !moveIfEqual)) {
              return {
                row: point.row + deltaRowShift,
                column: point.column + (point.row == deltaEnd.row ? deltaColShift : 0)
              };
            }
            return {
              row: deltaStart.row,
              column: deltaStart.column
            };
          }
          this.setPosition = function(row, column, noClip) {
            var pos;
            if (noClip) {
              pos = {
                row,
                column
              };
            } else {
              pos = this.$clipPositionToDocument(row, column);
            }
            if (this.row == pos.row && this.column == pos.column)
              return;
            var old = {
              row: this.row,
              column: this.column
            };
            this.row = pos.row;
            this.column = pos.column;
            this._signal("change", {
              old,
              value: pos
            });
          };
          this.detach = function() {
            this.document.off("change", this.$onChange);
          };
          this.attach = function(doc) {
            this.document = doc || this.document;
            this.document.on("change", this.$onChange);
          };
          this.$clipPositionToDocument = function(row, column) {
            var pos = {};
            if (row >= this.document.getLength()) {
              pos.row = Math.max(0, this.document.getLength() - 1);
              pos.column = this.document.getLine(pos.row).length;
            } else if (row < 0) {
              pos.row = 0;
              pos.column = 0;
            } else {
              pos.row = row;
              pos.column = Math.min(this.document.getLine(pos.row).length, Math.max(0, column));
            }
            if (column < 0)
              pos.column = 0;
            return pos;
          };
        }).call(Anchor.prototype);
      });
      ace.define("ace/document", ["require", "exports", "module", "ace/lib/oop", "ace/apply_delta", "ace/lib/event_emitter", "ace/range", "ace/anchor"], function(require3, exports2, module2) {
        "use strict";
        var oop = require3("./lib/oop");
        var applyDelta = require3("./apply_delta").applyDelta;
        var EventEmitter = require3("./lib/event_emitter").EventEmitter;
        var Range = require3("./range").Range;
        var Anchor = require3("./anchor").Anchor;
        var Document2 = function(textOrLines) {
          this.$lines = [""];
          if (textOrLines.length === 0) {
            this.$lines = [""];
          } else if (Array.isArray(textOrLines)) {
            this.insertMergedLines({ row: 0, column: 0 }, textOrLines);
          } else {
            this.insert({ row: 0, column: 0 }, textOrLines);
          }
        };
        (function() {
          oop.implement(this, EventEmitter);
          this.setValue = function(text) {
            var len = this.getLength() - 1;
            this.remove(new Range(0, 0, len, this.getLine(len).length));
            this.insert({ row: 0, column: 0 }, text);
          };
          this.getValue = function() {
            return this.getAllLines().join(this.getNewLineCharacter());
          };
          this.createAnchor = function(row, column) {
            return new Anchor(this, row, column);
          };
          if ("aaa".split(/a/).length === 0) {
            this.$split = function(text) {
              return text.replace(/\r\n|\r/g, "\n").split("\n");
            };
          } else {
            this.$split = function(text) {
              return text.split(/\r\n|\r|\n/);
            };
          }
          this.$detectNewLine = function(text) {
            var match = text.match(/^.*?(\r\n|\r|\n)/m);
            this.$autoNewLine = match ? match[1] : "\n";
            this._signal("changeNewLineMode");
          };
          this.getNewLineCharacter = function() {
            switch (this.$newLineMode) {
              case "windows":
                return "\r\n";
              case "unix":
                return "\n";
              default:
                return this.$autoNewLine || "\n";
            }
          };
          this.$autoNewLine = "";
          this.$newLineMode = "auto";
          this.setNewLineMode = function(newLineMode) {
            if (this.$newLineMode === newLineMode)
              return;
            this.$newLineMode = newLineMode;
            this._signal("changeNewLineMode");
          };
          this.getNewLineMode = function() {
            return this.$newLineMode;
          };
          this.isNewLine = function(text) {
            return text == "\r\n" || text == "\r" || text == "\n";
          };
          this.getLine = function(row) {
            return this.$lines[row] || "";
          };
          this.getLines = function(firstRow, lastRow) {
            return this.$lines.slice(firstRow, lastRow + 1);
          };
          this.getAllLines = function() {
            return this.getLines(0, this.getLength());
          };
          this.getLength = function() {
            return this.$lines.length;
          };
          this.getTextRange = function(range) {
            return this.getLinesForRange(range).join(this.getNewLineCharacter());
          };
          this.getLinesForRange = function(range) {
            var lines;
            if (range.start.row === range.end.row) {
              lines = [this.getLine(range.start.row).substring(range.start.column, range.end.column)];
            } else {
              lines = this.getLines(range.start.row, range.end.row);
              lines[0] = (lines[0] || "").substring(range.start.column);
              var l7 = lines.length - 1;
              if (range.end.row - range.start.row == l7)
                lines[l7] = lines[l7].substring(0, range.end.column);
            }
            return lines;
          };
          this.insertLines = function(row, lines) {
            console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead.");
            return this.insertFullLines(row, lines);
          };
          this.removeLines = function(firstRow, lastRow) {
            console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead.");
            return this.removeFullLines(firstRow, lastRow);
          };
          this.insertNewLine = function(position) {
            console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.");
            return this.insertMergedLines(position, ["", ""]);
          };
          this.insert = function(position, text) {
            if (this.getLength() <= 1)
              this.$detectNewLine(text);
            return this.insertMergedLines(position, this.$split(text));
          };
          this.insertInLine = function(position, text) {
            var start = this.clippedPos(position.row, position.column);
            var end = this.pos(position.row, position.column + text.length);
            this.applyDelta({
              start,
              end,
              action: "insert",
              lines: [text]
            }, true);
            return this.clonePos(end);
          };
          this.clippedPos = function(row, column) {
            var length = this.getLength();
            if (row === void 0) {
              row = length;
            } else if (row < 0) {
              row = 0;
            } else if (row >= length) {
              row = length - 1;
              column = void 0;
            }
            var line = this.getLine(row);
            if (column == void 0)
              column = line.length;
            column = Math.min(Math.max(column, 0), line.length);
            return { row, column };
          };
          this.clonePos = function(pos) {
            return { row: pos.row, column: pos.column };
          };
          this.pos = function(row, column) {
            return { row, column };
          };
          this.$clipPosition = function(position) {
            var length = this.getLength();
            if (position.row >= length) {
              position.row = Math.max(0, length - 1);
              position.column = this.getLine(length - 1).length;
            } else {
              position.row = Math.max(0, position.row);
              position.column = Math.min(Math.max(position.column, 0), this.getLine(position.row).length);
            }
            return position;
          };
          this.insertFullLines = function(row, lines) {
            row = Math.min(Math.max(row, 0), this.getLength());
            var column = 0;
            if (row < this.getLength()) {
              lines = lines.concat([""]);
              column = 0;
            } else {
              lines = [""].concat(lines);
              row--;
              column = this.$lines[row].length;
            }
            this.insertMergedLines({ row, column }, lines);
          };
          this.insertMergedLines = function(position, lines) {
            var start = this.clippedPos(position.row, position.column);
            var end = {
              row: start.row + lines.length - 1,
              column: (lines.length == 1 ? start.column : 0) + lines[lines.length - 1].length
            };
            this.applyDelta({
              start,
              end,
              action: "insert",
              lines
            });
            return this.clonePos(end);
          };
          this.remove = function(range) {
            var start = this.clippedPos(range.start.row, range.start.column);
            var end = this.clippedPos(range.end.row, range.end.column);
            this.applyDelta({
              start,
              end,
              action: "remove",
              lines: this.getLinesForRange({ start, end })
            });
            return this.clonePos(start);
          };
          this.removeInLine = function(row, startColumn, endColumn) {
            var start = this.clippedPos(row, startColumn);
            var end = this.clippedPos(row, endColumn);
            this.applyDelta({
              start,
              end,
              action: "remove",
              lines: this.getLinesForRange({ start, end })
            }, true);
            return this.clonePos(start);
          };
          this.removeFullLines = function(firstRow, lastRow) {
            firstRow = Math.min(Math.max(0, firstRow), this.getLength() - 1);
            lastRow = Math.min(Math.max(0, lastRow), this.getLength() - 1);
            var deleteFirstNewLine = lastRow == this.getLength() - 1 && firstRow > 0;
            var deleteLastNewLine = lastRow < this.getLength() - 1;
            var startRow = deleteFirstNewLine ? firstRow - 1 : firstRow;
            var startCol = deleteFirstNewLine ? this.getLine(startRow).length : 0;
            var endRow = deleteLastNewLine ? lastRow + 1 : lastRow;
            var endCol = deleteLastNewLine ? 0 : this.getLine(endRow).length;
            var range = new Range(startRow, startCol, endRow, endCol);
            var deletedLines = this.$lines.slice(firstRow, lastRow + 1);
            this.applyDelta({
              start: range.start,
              end: range.end,
              action: "remove",
              lines: this.getLinesForRange(range)
            });
            return deletedLines;
          };
          this.removeNewLine = function(row) {
            if (row < this.getLength() - 1 && row >= 0) {
              this.applyDelta({
                start: this.pos(row, this.getLine(row).length),
                end: this.pos(row + 1, 0),
                action: "remove",
                lines: ["", ""]
              });
            }
          };
          this.replace = function(range, text) {
            if (!(range instanceof Range))
              range = Range.fromPoints(range.start, range.end);
            if (text.length === 0 && range.isEmpty())
              return range.start;
            if (text == this.getTextRange(range))
              return range.end;
            this.remove(range);
            var end;
            if (text) {
              end = this.insert(range.start, text);
            } else {
              end = range.start;
            }
            return end;
          };
          this.applyDeltas = function(deltas) {
            for (var i6 = 0; i6 < deltas.length; i6++) {
              this.applyDelta(deltas[i6]);
            }
          };
          this.revertDeltas = function(deltas) {
            for (var i6 = deltas.length - 1; i6 >= 0; i6--) {
              this.revertDelta(deltas[i6]);
            }
          };
          this.applyDelta = function(delta, doNotValidate) {
            var isInsert = delta.action == "insert";
            if (isInsert ? delta.lines.length <= 1 && !delta.lines[0] : !Range.comparePoints(delta.start, delta.end)) {
              return;
            }
            if (isInsert && delta.lines.length > 2e4) {
              this.$splitAndapplyLargeDelta(delta, 2e4);
            } else {
              applyDelta(this.$lines, delta, doNotValidate);
              this._signal("change", delta);
            }
          };
          this.$safeApplyDelta = function(delta) {
            var docLength = this.$lines.length;
            if (delta.action == "remove" && delta.start.row < docLength && delta.end.row < docLength || delta.action == "insert" && delta.start.row <= docLength) {
              this.applyDelta(delta);
            }
          };
          this.$splitAndapplyLargeDelta = function(delta, MAX) {
            var lines = delta.lines;
            var l7 = lines.length - MAX + 1;
            var row = delta.start.row;
            var column = delta.start.column;
            for (var from = 0, to = 0; from < l7; from = to) {
              to += MAX - 1;
              var chunk = lines.slice(from, to);
              chunk.push("");
              this.applyDelta({
                start: this.pos(row + from, column),
                end: this.pos(row + to, column = 0),
                action: delta.action,
                lines: chunk
              }, true);
            }
            delta.lines = lines.slice(from);
            delta.start.row = row + from;
            delta.start.column = column;
            this.applyDelta(delta, true);
          };
          this.revertDelta = function(delta) {
            this.$safeApplyDelta({
              start: this.clonePos(delta.start),
              end: this.clonePos(delta.end),
              action: delta.action == "insert" ? "remove" : "insert",
              lines: delta.lines.slice()
            });
          };
          this.indexToPosition = function(index, startRow) {
            var lines = this.$lines || this.getAllLines();
            var newlineLength = this.getNewLineCharacter().length;
            for (var i6 = startRow || 0, l7 = lines.length; i6 < l7; i6++) {
              index -= lines[i6].length + newlineLength;
              if (index < 0)
                return { row: i6, column: index + lines[i6].length + newlineLength };
            }
            return { row: l7 - 1, column: index + lines[l7 - 1].length + newlineLength };
          };
          this.positionToIndex = function(pos, startRow) {
            var lines = this.$lines || this.getAllLines();
            var newlineLength = this.getNewLineCharacter().length;
            var index = 0;
            var row = Math.min(pos.row, lines.length);
            for (var i6 = startRow || 0; i6 < row; ++i6)
              index += lines[i6].length + newlineLength;
            return index + pos.column;
          };
        }).call(Document2.prototype);
        exports2.Document = Document2;
      });
      ace.define("ace/background_tokenizer", ["require", "exports", "module", "ace/lib/oop", "ace/lib/event_emitter"], function(require3, exports2, module2) {
        "use strict";
        var oop = require3("./lib/oop");
        var EventEmitter = require3("./lib/event_emitter").EventEmitter;
        var BackgroundTokenizer = function(tokenizer, editor) {
          this.running = false;
          this.lines = [];
          this.states = [];
          this.currentLine = 0;
          this.tokenizer = tokenizer;
          var self = this;
          this.$worker = function() {
            if (!self.running) {
              return;
            }
            var workerStart = new Date();
            var currentLine = self.currentLine;
            var endLine = -1;
            var doc = self.doc;
            var startLine = currentLine;
            while (self.lines[currentLine])
              currentLine++;
            var len = doc.getLength();
            var processedLines = 0;
            self.running = false;
            while (currentLine < len) {
              self.$tokenizeRow(currentLine);
              endLine = currentLine;
              do {
                currentLine++;
              } while (self.lines[currentLine]);
              processedLines++;
              if (processedLines % 5 === 0 && new Date() - workerStart > 20) {
                self.running = setTimeout(self.$worker, 20);
                break;
              }
            }
            self.currentLine = currentLine;
            if (endLine == -1)
              endLine = currentLine;
            if (startLine <= endLine)
              self.fireUpdateEvent(startLine, endLine);
          };
        };
        (function() {
          oop.implement(this, EventEmitter);
          this.setTokenizer = function(tokenizer) {
            this.tokenizer = tokenizer;
            this.lines = [];
            this.states = [];
            this.start(0);
          };
          this.setDocument = function(doc) {
            this.doc = doc;
            this.lines = [];
            this.states = [];
            this.stop();
          };
          this.fireUpdateEvent = function(firstRow, lastRow) {
            var data = {
              first: firstRow,
              last: lastRow
            };
            this._signal("update", { data });
          };
          this.start = function(startRow) {
            this.currentLine = Math.min(startRow || 0, this.currentLine, this.doc.getLength());
            this.lines.splice(this.currentLine, this.lines.length);
            this.states.splice(this.currentLine, this.states.length);
            this.stop();
            this.running = setTimeout(this.$worker, 700);
          };
          this.scheduleStart = function() {
            if (!this.running)
              this.running = setTimeout(this.$worker, 700);
          };
          this.$updateOnChange = function(delta) {
            var startRow = delta.start.row;
            var len = delta.end.row - startRow;
            if (len === 0) {
              this.lines[startRow] = null;
            } else if (delta.action == "remove") {
              this.lines.splice(startRow, len + 1, null);
              this.states.splice(startRow, len + 1, null);
            } else {
              var args = Array(len + 1);
              args.unshift(startRow, 1);
              this.lines.splice.apply(this.lines, args);
              this.states.splice.apply(this.states, args);
            }
            this.currentLine = Math.min(startRow, this.currentLine, this.doc.getLength());
            this.stop();
          };
          this.stop = function() {
            if (this.running)
              clearTimeout(this.running);
            this.running = false;
          };
          this.getTokens = function(row) {
            return this.lines[row] || this.$tokenizeRow(row);
          };
          this.getState = function(row) {
            if (this.currentLine == row)
              this.$tokenizeRow(row);
            return this.states[row] || "start";
          };
          this.$tokenizeRow = function(row) {
            var line = this.doc.getLine(row);
            var state = this.states[row - 1];
            var data = this.tokenizer.getLineTokens(line, state, row);
            if (this.states[row] + "" !== data.state + "") {
              this.states[row] = data.state;
              this.lines[row + 1] = null;
              if (this.currentLine > row + 1)
                this.currentLine = row + 1;
            } else if (this.currentLine == row) {
              this.currentLine = row + 1;
            }
            return this.lines[row] = data.tokens;
          };
          this.cleanup = function() {
            this.running = false;
            this.lines = [];
            this.states = [];
            this.currentLine = 0;
            this.removeAllListeners();
          };
        }).call(BackgroundTokenizer.prototype);
        exports2.BackgroundTokenizer = BackgroundTokenizer;
      });
      ace.define("ace/search_highlight", ["require", "exports", "module", "ace/lib/lang", "ace/lib/oop", "ace/range"], function(require3, exports2, module2) {
        "use strict";
        var lang = require3("./lib/lang");
        var oop = require3("./lib/oop");
        var Range = require3("./range").Range;
        var SearchHighlight = function(regExp, clazz, type) {
          this.setRegexp(regExp);
          this.clazz = clazz;
          this.type = type || "text";
        };
        (function() {
          this.MAX_RANGES = 500;
          this.setRegexp = function(regExp) {
            if (this.regExp + "" == regExp + "")
              return;
            this.regExp = regExp;
            this.cache = [];
          };
          this.update = function(html, markerLayer, session, config2) {
            if (!this.regExp)
              return;
            var start = config2.firstRow, end = config2.lastRow;
            var renderedMarkerRanges = {};
            for (var i6 = start; i6 <= end; i6++) {
              var ranges = this.cache[i6];
              if (ranges == null) {
                ranges = lang.getMatchOffsets(session.getLine(i6), this.regExp);
                if (ranges.length > this.MAX_RANGES)
                  ranges = ranges.slice(0, this.MAX_RANGES);
                ranges = ranges.map(function(match) {
                  return new Range(i6, match.offset, i6, match.offset + match.length);
                });
                this.cache[i6] = ranges.length ? ranges : "";
              }
              for (var j = ranges.length; j--; ) {
                var rangeToAddMarkerTo = ranges[j].toScreenRange(session);
                var rangeAsString = rangeToAddMarkerTo.toString();
                if (renderedMarkerRanges[rangeAsString])
                  continue;
                renderedMarkerRanges[rangeAsString] = true;
                markerLayer.drawSingleLineMarker(
                  html,
                  rangeToAddMarkerTo,
                  this.clazz,
                  config2
                );
              }
            }
          };
        }).call(SearchHighlight.prototype);
        exports2.SearchHighlight = SearchHighlight;
      });
      ace.define("ace/edit_session/fold_line", ["require", "exports", "module", "ace/range"], function(require3, exports2, module2) {
        "use strict";
        var Range = require3("../range").Range;
        function FoldLine(foldData, folds) {
          this.foldData = foldData;
          if (Array.isArray(folds)) {
            this.folds = folds;
          } else {
            folds = this.folds = [folds];
          }
          var last = folds[folds.length - 1];
          this.range = new Range(
            folds[0].start.row,
            folds[0].start.column,
            last.end.row,
            last.end.column
          );
          this.start = this.range.start;
          this.end = this.range.end;
          this.folds.forEach(function(fold) {
            fold.setFoldLine(this);
          }, this);
        }
        (function() {
          this.shiftRow = function(shift) {
            this.start.row += shift;
            this.end.row += shift;
            this.folds.forEach(function(fold) {
              fold.start.row += shift;
              fold.end.row += shift;
            });
          };
          this.addFold = function(fold) {
            if (fold.sameRow) {
              if (fold.start.row < this.startRow || fold.endRow > this.endRow) {
                throw new Error("Can't add a fold to this FoldLine as it has no connection");
              }
              this.folds.push(fold);
              this.folds.sort(function(a3, b2) {
                return -a3.range.compareEnd(b2.start.row, b2.start.column);
              });
              if (this.range.compareEnd(fold.start.row, fold.start.column) > 0) {
                this.end.row = fold.end.row;
                this.end.column = fold.end.column;
              } else if (this.range.compareStart(fold.end.row, fold.end.column) < 0) {
                this.start.row = fold.start.row;
                this.start.column = fold.start.column;
              }
            } else if (fold.start.row == this.end.row) {
              this.folds.push(fold);
              this.end.row = fold.end.row;
              this.end.column = fold.end.column;
            } else if (fold.end.row == this.start.row) {
              this.folds.unshift(fold);
              this.start.row = fold.start.row;
              this.start.column = fold.start.column;
            } else {
              throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");
            }
            fold.foldLine = this;
          };
          this.containsRow = function(row) {
            return row >= this.start.row && row <= this.end.row;
          };
          this.walk = function(callback, endRow, endColumn) {
            var lastEnd = 0, folds = this.folds, fold, cmp, stop, isNewRow = true;
            if (endRow == null) {
              endRow = this.end.row;
              endColumn = this.end.column;
            }
            for (var i6 = 0; i6 < folds.length; i6++) {
              fold = folds[i6];
              cmp = fold.range.compareStart(endRow, endColumn);
              if (cmp == -1) {
                callback(null, endRow, endColumn, lastEnd, isNewRow);
                return;
              }
              stop = callback(null, fold.start.row, fold.start.column, lastEnd, isNewRow);
              stop = !stop && callback(fold.placeholder, fold.start.row, fold.start.column, lastEnd);
              if (stop || cmp === 0) {
                return;
              }
              isNewRow = !fold.sameRow;
              lastEnd = fold.end.column;
            }
            callback(null, endRow, endColumn, lastEnd, isNewRow);
          };
          this.getNextFoldTo = function(row, column) {
            var fold, cmp;
            for (var i6 = 0; i6 < this.folds.length; i6++) {
              fold = this.folds[i6];
              cmp = fold.range.compareEnd(row, column);
              if (cmp == -1) {
                return {
                  fold,
                  kind: "after"
                };
              } else if (cmp === 0) {
                return {
                  fold,
                  kind: "inside"
                };
              }
            }
            return null;
          };
          this.addRemoveChars = function(row, column, len) {
            var ret = this.getNextFoldTo(row, column), fold, folds;
            if (ret) {
              fold = ret.fold;
              if (ret.kind == "inside" && fold.start.column != column && fold.start.row != row) {
                window.console && window.console.log(row, column, fold);
              } else if (fold.start.row == row) {
                folds = this.folds;
                var i6 = folds.indexOf(fold);
                if (i6 === 0) {
                  this.start.column += len;
                }
                for (i6; i6 < folds.length; i6++) {
                  fold = folds[i6];
                  fold.start.column += len;
                  if (!fold.sameRow) {
                    return;
                  }
                  fold.end.column += len;
                }
                this.end.column += len;
              }
            }
          };
          this.split = function(row, column) {
            var pos = this.getNextFoldTo(row, column);
            if (!pos || pos.kind == "inside")
              return null;
            var fold = pos.fold;
            var folds = this.folds;
            var foldData = this.foldData;
            var i6 = folds.indexOf(fold);
            var foldBefore = folds[i6 - 1];
            this.end.row = foldBefore.end.row;
            this.end.column = foldBefore.end.column;
            folds = folds.splice(i6, folds.length - i6);
            var newFoldLine = new FoldLine(foldData, folds);
            foldData.splice(foldData.indexOf(this) + 1, 0, newFoldLine);
            return newFoldLine;
          };
          this.merge = function(foldLineNext) {
            var folds = foldLineNext.folds;
            for (var i6 = 0; i6 < folds.length; i6++) {
              this.addFold(folds[i6]);
            }
            var foldData = this.foldData;
            foldData.splice(foldData.indexOf(foldLineNext), 1);
          };
          this.toString = function() {
            var ret = [this.range.toString() + ": ["];
            this.folds.forEach(function(fold) {
              ret.push("  " + fold.toString());
            });
            ret.push("]");
            return ret.join("\n");
          };
          this.idxToPosition = function(idx) {
            var lastFoldEndColumn = 0;
            for (var i6 = 0; i6 < this.folds.length; i6++) {
              var fold = this.folds[i6];
              idx -= fold.start.column - lastFoldEndColumn;
              if (idx < 0) {
                return {
                  row: fold.start.row,
                  column: fold.start.column + idx
                };
              }
              idx -= fold.placeholder.length;
              if (idx < 0) {
                return fold.start;
              }
              lastFoldEndColumn = fold.end.column;
            }
            return {
              row: this.end.row,
              column: this.end.column + idx
            };
          };
        }).call(FoldLine.prototype);
        exports2.FoldLine = FoldLine;
      });
      ace.define("ace/range_list", ["require", "exports", "module", "ace/range"], function(require3, exports2, module2) {
        "use strict";
        var Range = require3("./range").Range;
        var comparePoints = Range.comparePoints;
        var RangeList = function() {
          this.ranges = [];
          this.$bias = 1;
        };
        (function() {
          this.comparePoints = comparePoints;
          this.pointIndex = function(pos, excludeEdges, startIndex) {
            var list = this.ranges;
            for (var i6 = startIndex || 0; i6 < list.length; i6++) {
              var range = list[i6];
              var cmpEnd = comparePoints(pos, range.end);
              if (cmpEnd > 0)
                continue;
              var cmpStart = comparePoints(pos, range.start);
              if (cmpEnd === 0)
                return excludeEdges && cmpStart !== 0 ? -i6 - 2 : i6;
              if (cmpStart > 0 || cmpStart === 0 && !excludeEdges)
                return i6;
              return -i6 - 1;
            }
            return -i6 - 1;
          };
          this.add = function(range) {
            var excludeEdges = !range.isEmpty();
            var startIndex = this.pointIndex(range.start, excludeEdges);
            if (startIndex < 0)
              startIndex = -startIndex - 1;
            var endIndex = this.pointIndex(range.end, excludeEdges, startIndex);
            if (endIndex < 0)
              endIndex = -endIndex - 1;
            else
              endIndex++;
            return this.ranges.splice(startIndex, endIndex - startIndex, range);
          };
          this.addList = function(list) {
            var removed = [];
            for (var i6 = list.length; i6--; ) {
              removed.push.apply(removed, this.add(list[i6]));
            }
            return removed;
          };
          this.substractPoint = function(pos) {
            var i6 = this.pointIndex(pos);
            if (i6 >= 0)
              return this.ranges.splice(i6, 1);
          };
          this.merge = function() {
            var removed = [];
            var list = this.ranges;
            list = list.sort(function(a3, b2) {
              return comparePoints(a3.start, b2.start);
            });
            var next = list[0], range;
            for (var i6 = 1; i6 < list.length; i6++) {
              range = next;
              next = list[i6];
              var cmp = comparePoints(range.end, next.start);
              if (cmp < 0)
                continue;
              if (cmp == 0 && !range.isEmpty() && !next.isEmpty())
                continue;
              if (comparePoints(range.end, next.end) < 0) {
                range.end.row = next.end.row;
                range.end.column = next.end.column;
              }
              list.splice(i6, 1);
              removed.push(next);
              next = range;
              i6--;
            }
            this.ranges = list;
            return removed;
          };
          this.contains = function(row, column) {
            return this.pointIndex({ row, column }) >= 0;
          };
          this.containsPoint = function(pos) {
            return this.pointIndex(pos) >= 0;
          };
          this.rangeAtPoint = function(pos) {
            var i6 = this.pointIndex(pos);
            if (i6 >= 0)
              return this.ranges[i6];
          };
          this.clipRows = function(startRow, endRow) {
            var list = this.ranges;
            if (list[0].start.row > endRow || list[list.length - 1].start.row < startRow)
              return [];
            var startIndex = this.pointIndex({ row: startRow, column: 0 });
            if (startIndex < 0)
              startIndex = -startIndex - 1;
            var endIndex = this.pointIndex({ row: endRow, column: 0 }, startIndex);
            if (endIndex < 0)
              endIndex = -endIndex - 1;
            var clipped = [];
            for (var i6 = startIndex; i6 < endIndex; i6++) {
              clipped.push(list[i6]);
            }
            return clipped;
          };
          this.removeAll = function() {
            return this.ranges.splice(0, this.ranges.length);
          };
          this.attach = function(session) {
            if (this.session)
              this.detach();
            this.session = session;
            this.onChange = this.$onChange.bind(this);
            this.session.on("change", this.onChange);
          };
          this.detach = function() {
            if (!this.session)
              return;
            this.session.removeListener("change", this.onChange);
            this.session = null;
          };
          this.$onChange = function(delta) {
            var start = delta.start;
            var end = delta.end;
            var startRow = start.row;
            var endRow = end.row;
            var ranges = this.ranges;
            for (var i6 = 0, n9 = ranges.length; i6 < n9; i6++) {
              var r5 = ranges[i6];
              if (r5.end.row >= startRow)
                break;
            }
            if (delta.action == "insert") {
              var lineDif = endRow - startRow;
              var colDiff = -start.column + end.column;
              for (; i6 < n9; i6++) {
                var r5 = ranges[i6];
                if (r5.start.row > startRow)
                  break;
                if (r5.start.row == startRow && r5.start.column >= start.column) {
                  if (r5.start.column == start.column && this.$bias <= 0) {
                  } else {
                    r5.start.column += colDiff;
                    r5.start.row += lineDif;
                  }
                }
                if (r5.end.row == startRow && r5.end.column >= start.column) {
                  if (r5.end.column == start.column && this.$bias < 0) {
                    continue;
                  }
                  if (r5.end.column == start.column && colDiff > 0 && i6 < n9 - 1) {
                    if (r5.end.column > r5.start.column && r5.end.column == ranges[i6 + 1].start.column)
                      r5.end.column -= colDiff;
                  }
                  r5.end.column += colDiff;
                  r5.end.row += lineDif;
                }
              }
            } else {
              var lineDif = startRow - endRow;
              var colDiff = start.column - end.column;
              for (; i6 < n9; i6++) {
                var r5 = ranges[i6];
                if (r5.start.row > endRow)
                  break;
                if (r5.end.row < endRow && (startRow < r5.end.row || startRow == r5.end.row && start.column < r5.end.column)) {
                  r5.end.row = startRow;
                  r5.end.column = start.column;
                } else if (r5.end.row == endRow) {
                  if (r5.end.column <= end.column) {
                    if (lineDif || r5.end.column > start.column) {
                      r5.end.column = start.column;
                      r5.end.row = start.row;
                    }
                  } else {
                    r5.end.column += colDiff;
                    r5.end.row += lineDif;
                  }
                } else if (r5.end.row > endRow) {
                  r5.end.row += lineDif;
                }
                if (r5.start.row < endRow && (startRow < r5.start.row || startRow == r5.start.row && start.column < r5.start.column)) {
                  r5.start.row = startRow;
                  r5.start.column = start.column;
                } else if (r5.start.row == endRow) {
                  if (r5.start.column <= end.column) {
                    if (lineDif || r5.start.column > start.column) {
                      r5.start.column = start.column;
                      r5.start.row = start.row;
                    }
                  } else {
                    r5.start.column += colDiff;
                    r5.start.row += lineDif;
                  }
                } else if (r5.start.row > endRow) {
                  r5.start.row += lineDif;
                }
              }
            }
            if (lineDif != 0 && i6 < n9) {
              for (; i6 < n9; i6++) {
                var r5 = ranges[i6];
                r5.start.row += lineDif;
                r5.end.row += lineDif;
              }
            }
          };
        }).call(RangeList.prototype);
        exports2.RangeList = RangeList;
      });
      ace.define("ace/edit_session/fold", ["require", "exports", "module", "ace/range_list", "ace/lib/oop"], function(require3, exports2, module2) {
        "use strict";
        var RangeList = require3("../range_list").RangeList;
        var oop = require3("../lib/oop");
        var Fold = exports2.Fold = function(range, placeholder) {
          this.foldLine = null;
          this.placeholder = placeholder;
          this.range = range;
          this.start = range.start;
          this.end = range.end;
          this.sameRow = range.start.row == range.end.row;
          this.subFolds = this.ranges = [];
        };
        oop.inherits(Fold, RangeList);
        (function() {
          this.toString = function() {
            return '"' + this.placeholder + '" ' + this.range.toString();
          };
          this.setFoldLine = function(foldLine) {
            this.foldLine = foldLine;
            this.subFolds.forEach(function(fold) {
              fold.setFoldLine(foldLine);
            });
          };
          this.clone = function() {
            var range = this.range.clone();
            var fold = new Fold(range, this.placeholder);
            this.subFolds.forEach(function(subFold) {
              fold.subFolds.push(subFold.clone());
            });
            fold.collapseChildren = this.collapseChildren;
            return fold;
          };
          this.addSubFold = function(fold) {
            if (this.range.isEqual(fold))
              return;
            consumeRange(fold, this.start);
            var row = fold.start.row, column = fold.start.column;
            for (var i6 = 0, cmp = -1; i6 < this.subFolds.length; i6++) {
              cmp = this.subFolds[i6].range.compare(row, column);
              if (cmp != 1)
                break;
            }
            var afterStart = this.subFolds[i6];
            var firstConsumed = 0;
            if (cmp == 0) {
              if (afterStart.range.containsRange(fold))
                return afterStart.addSubFold(fold);
              else
                firstConsumed = 1;
            }
            var row = fold.range.end.row, column = fold.range.end.column;
            for (var j = i6, cmp = -1; j < this.subFolds.length; j++) {
              cmp = this.subFolds[j].range.compare(row, column);
              if (cmp != 1)
                break;
            }
            if (cmp == 0)
              j++;
            var consumedFolds = this.subFolds.splice(i6, j - i6, fold);
            var last = cmp == 0 ? consumedFolds.length - 1 : consumedFolds.length;
            for (var k2 = firstConsumed; k2 < last; k2++) {
              fold.addSubFold(consumedFolds[k2]);
            }
            fold.setFoldLine(this.foldLine);
            return fold;
          };
          this.restoreRange = function(range) {
            return restoreRange(range, this.start);
          };
        }).call(Fold.prototype);
        function consumePoint(point, anchor) {
          point.row -= anchor.row;
          if (point.row == 0)
            point.column -= anchor.column;
        }
        function consumeRange(range, anchor) {
          consumePoint(range.start, anchor);
          consumePoint(range.end, anchor);
        }
        function restorePoint(point, anchor) {
          if (point.row == 0)
            point.column += anchor.column;
          point.row += anchor.row;
        }
        function restoreRange(range, anchor) {
          restorePoint(range.start, anchor);
          restorePoint(range.end, anchor);
        }
      });
      ace.define("ace/edit_session/folding", ["require", "exports", "module", "ace/range", "ace/edit_session/fold_line", "ace/edit_session/fold", "ace/token_iterator"], function(require3, exports2, module2) {
        "use strict";
        var Range = require3("../range").Range;
        var FoldLine = require3("./fold_line").FoldLine;
        var Fold = require3("./fold").Fold;
        var TokenIterator = require3("../token_iterator").TokenIterator;
        function Folding() {
          this.getFoldAt = function(row, column, side) {
            var foldLine = this.getFoldLine(row);
            if (!foldLine)
              return null;
            var folds = foldLine.folds;
            for (var i6 = 0; i6 < folds.length; i6++) {
              var range = folds[i6].range;
              if (range.contains(row, column)) {
                if (side == 1 && range.isEnd(row, column) && !range.isEmpty()) {
                  continue;
                } else if (side == -1 && range.isStart(row, column) && !range.isEmpty()) {
                  continue;
                }
                return folds[i6];
              }
            }
          };
          this.getFoldsInRange = function(range) {
            var start = range.start;
            var end = range.end;
            var foldLines = this.$foldData;
            var foundFolds = [];
            start.column += 1;
            end.column -= 1;
            for (var i6 = 0; i6 < foldLines.length; i6++) {
              var cmp = foldLines[i6].range.compareRange(range);
              if (cmp == 2) {
                continue;
              } else if (cmp == -2) {
                break;
              }
              var folds = foldLines[i6].folds;
              for (var j = 0; j < folds.length; j++) {
                var fold = folds[j];
                cmp = fold.range.compareRange(range);
                if (cmp == -2) {
                  break;
                } else if (cmp == 2) {
                  continue;
                } else if (cmp == 42) {
                  break;
                }
                foundFolds.push(fold);
              }
            }
            start.column -= 1;
            end.column += 1;
            return foundFolds;
          };
          this.getFoldsInRangeList = function(ranges) {
            if (Array.isArray(ranges)) {
              var folds = [];
              ranges.forEach(function(range) {
                folds = folds.concat(this.getFoldsInRange(range));
              }, this);
            } else {
              var folds = this.getFoldsInRange(ranges);
            }
            return folds;
          };
          this.getAllFolds = function() {
            var folds = [];
            var foldLines = this.$foldData;
            for (var i6 = 0; i6 < foldLines.length; i6++)
              for (var j = 0; j < foldLines[i6].folds.length; j++)
                folds.push(foldLines[i6].folds[j]);
            return folds;
          };
          this.getFoldStringAt = function(row, column, trim, foldLine) {
            foldLine = foldLine || this.getFoldLine(row);
            if (!foldLine)
              return null;
            var lastFold = {
              end: { column: 0 }
            };
            var str, fold;
            for (var i6 = 0; i6 < foldLine.folds.length; i6++) {
              fold = foldLine.folds[i6];
              var cmp = fold.range.compareEnd(row, column);
              if (cmp == -1) {
                str = this.getLine(fold.start.row).substring(lastFold.end.column, fold.start.column);
                break;
              } else if (cmp === 0) {
                return null;
              }
              lastFold = fold;
            }
            if (!str)
              str = this.getLine(fold.start.row).substring(lastFold.end.column);
            if (trim == -1)
              return str.substring(0, column - lastFold.end.column);
            else if (trim == 1)
              return str.substring(column - lastFold.end.column);
            else
              return str;
          };
          this.getFoldLine = function(docRow, startFoldLine) {
            var foldData = this.$foldData;
            var i6 = 0;
            if (startFoldLine)
              i6 = foldData.indexOf(startFoldLine);
            if (i6 == -1)
              i6 = 0;
            for (i6; i6 < foldData.length; i6++) {
              var foldLine = foldData[i6];
              if (foldLine.start.row <= docRow && foldLine.end.row >= docRow) {
                return foldLine;
              } else if (foldLine.end.row > docRow) {
                return null;
              }
            }
            return null;
          };
          this.getNextFoldLine = function(docRow, startFoldLine) {
            var foldData = this.$foldData;
            var i6 = 0;
            if (startFoldLine)
              i6 = foldData.indexOf(startFoldLine);
            if (i6 == -1)
              i6 = 0;
            for (i6; i6 < foldData.length; i6++) {
              var foldLine = foldData[i6];
              if (foldLine.end.row >= docRow) {
                return foldLine;
              }
            }
            return null;
          };
          this.getFoldedRowCount = function(first, last) {
            var foldData = this.$foldData, rowCount = last - first + 1;
            for (var i6 = 0; i6 < foldData.length; i6++) {
              var foldLine = foldData[i6], end = foldLine.end.row, start = foldLine.start.row;
              if (end >= last) {
                if (start < last) {
                  if (start >= first)
                    rowCount -= last - start;
                  else
                    rowCount = 0;
                }
                break;
              } else if (end >= first) {
                if (start >= first)
                  rowCount -= end - start;
                else
                  rowCount -= end - first + 1;
              }
            }
            return rowCount;
          };
          this.$addFoldLine = function(foldLine) {
            this.$foldData.push(foldLine);
            this.$foldData.sort(function(a3, b2) {
              return a3.start.row - b2.start.row;
            });
            return foldLine;
          };
          this.addFold = function(placeholder, range) {
            var foldData = this.$foldData;
            var added = false;
            var fold;
            if (placeholder instanceof Fold)
              fold = placeholder;
            else {
              fold = new Fold(range, placeholder);
              fold.collapseChildren = range.collapseChildren;
            }
            this.$clipRangeToDocument(fold.range);
            var startRow = fold.start.row;
            var startColumn = fold.start.column;
            var endRow = fold.end.row;
            var endColumn = fold.end.column;
            var startFold = this.getFoldAt(startRow, startColumn, 1);
            var endFold = this.getFoldAt(endRow, endColumn, -1);
            if (startFold && endFold == startFold)
              return startFold.addSubFold(fold);
            if (startFold && !startFold.range.isStart(startRow, startColumn))
              this.removeFold(startFold);
            if (endFold && !endFold.range.isEnd(endRow, endColumn))
              this.removeFold(endFold);
            var folds = this.getFoldsInRange(fold.range);
            if (folds.length > 0) {
              this.removeFolds(folds);
              if (!fold.collapseChildren) {
                folds.forEach(function(subFold) {
                  fold.addSubFold(subFold);
                });
              }
            }
            for (var i6 = 0; i6 < foldData.length; i6++) {
              var foldLine = foldData[i6];
              if (endRow == foldLine.start.row) {
                foldLine.addFold(fold);
                added = true;
                break;
              } else if (startRow == foldLine.end.row) {
                foldLine.addFold(fold);
                added = true;
                if (!fold.sameRow) {
                  var foldLineNext = foldData[i6 + 1];
                  if (foldLineNext && foldLineNext.start.row == endRow) {
                    foldLine.merge(foldLineNext);
                    break;
                  }
                }
                break;
              } else if (endRow <= foldLine.start.row) {
                break;
              }
            }
            if (!added)
              foldLine = this.$addFoldLine(new FoldLine(this.$foldData, fold));
            if (this.$useWrapMode)
              this.$updateWrapData(foldLine.start.row, foldLine.start.row);
            else
              this.$updateRowLengthCache(foldLine.start.row, foldLine.start.row);
            this.$modified = true;
            this._signal("changeFold", { data: fold, action: "add" });
            return fold;
          };
          this.addFolds = function(folds) {
            folds.forEach(function(fold) {
              this.addFold(fold);
            }, this);
          };
          this.removeFold = function(fold) {
            var foldLine = fold.foldLine;
            var startRow = foldLine.start.row;
            var endRow = foldLine.end.row;
            var foldLines = this.$foldData;
            var folds = foldLine.folds;
            if (folds.length == 1) {
              foldLines.splice(foldLines.indexOf(foldLine), 1);
            } else if (foldLine.range.isEnd(fold.end.row, fold.end.column)) {
              folds.pop();
              foldLine.end.row = folds[folds.length - 1].end.row;
              foldLine.end.column = folds[folds.length - 1].end.column;
            } else if (foldLine.range.isStart(fold.start.row, fold.start.column)) {
              folds.shift();
              foldLine.start.row = folds[0].start.row;
              foldLine.start.column = folds[0].start.column;
            } else if (fold.sameRow) {
              folds.splice(folds.indexOf(fold), 1);
            } else {
              var newFoldLine = foldLine.split(fold.start.row, fold.start.column);
              folds = newFoldLine.folds;
              folds.shift();
              newFoldLine.start.row = folds[0].start.row;
              newFoldLine.start.column = folds[0].start.column;
            }
            if (!this.$updating) {
              if (this.$useWrapMode)
                this.$updateWrapData(startRow, endRow);
              else
                this.$updateRowLengthCache(startRow, endRow);
            }
            this.$modified = true;
            this._signal("changeFold", { data: fold, action: "remove" });
          };
          this.removeFolds = function(folds) {
            var cloneFolds = [];
            for (var i6 = 0; i6 < folds.length; i6++) {
              cloneFolds.push(folds[i6]);
            }
            cloneFolds.forEach(function(fold) {
              this.removeFold(fold);
            }, this);
            this.$modified = true;
          };
          this.expandFold = function(fold) {
            this.removeFold(fold);
            fold.subFolds.forEach(function(subFold) {
              fold.restoreRange(subFold);
              this.addFold(subFold);
            }, this);
            if (fold.collapseChildren > 0) {
              this.foldAll(fold.start.row + 1, fold.end.row, fold.collapseChildren - 1);
            }
            fold.subFolds = [];
          };
          this.expandFolds = function(folds) {
            folds.forEach(function(fold) {
              this.expandFold(fold);
            }, this);
          };
          this.unfold = function(location2, expandInner) {
            var range, folds;
            if (location2 == null) {
              range = new Range(0, 0, this.getLength(), 0);
              if (expandInner == null)
                expandInner = true;
            } else if (typeof location2 == "number") {
              range = new Range(location2, 0, location2, this.getLine(location2).length);
            } else if ("row" in location2) {
              range = Range.fromPoints(location2, location2);
            } else if (Array.isArray(location2)) {
              folds = [];
              location2.forEach(function(range2) {
                folds = folds.concat(this.unfold(range2));
              }, this);
              return folds;
            } else {
              range = location2;
            }
            folds = this.getFoldsInRangeList(range);
            var outermostFolds = folds;
            while (folds.length == 1 && Range.comparePoints(folds[0].start, range.start) < 0 && Range.comparePoints(folds[0].end, range.end) > 0) {
              this.expandFolds(folds);
              folds = this.getFoldsInRangeList(range);
            }
            if (expandInner != false) {
              this.removeFolds(folds);
            } else {
              this.expandFolds(folds);
            }
            if (outermostFolds.length)
              return outermostFolds;
          };
          this.isRowFolded = function(docRow, startFoldRow) {
            return !!this.getFoldLine(docRow, startFoldRow);
          };
          this.getRowFoldEnd = function(docRow, startFoldRow) {
            var foldLine = this.getFoldLine(docRow, startFoldRow);
            return foldLine ? foldLine.end.row : docRow;
          };
          this.getRowFoldStart = function(docRow, startFoldRow) {
            var foldLine = this.getFoldLine(docRow, startFoldRow);
            return foldLine ? foldLine.start.row : docRow;
          };
          this.getFoldDisplayLine = function(foldLine, endRow, endColumn, startRow, startColumn) {
            if (startRow == null)
              startRow = foldLine.start.row;
            if (startColumn == null)
              startColumn = 0;
            if (endRow == null)
              endRow = foldLine.end.row;
            if (endColumn == null)
              endColumn = this.getLine(endRow).length;
            var doc = this.doc;
            var textLine = "";
            foldLine.walk(function(placeholder, row, column, lastColumn) {
              if (row < startRow)
                return;
              if (row == startRow) {
                if (column < startColumn)
                  return;
                lastColumn = Math.max(startColumn, lastColumn);
              }
              if (placeholder != null) {
                textLine += placeholder;
              } else {
                textLine += doc.getLine(row).substring(lastColumn, column);
              }
            }, endRow, endColumn);
            return textLine;
          };
          this.getDisplayLine = function(row, endColumn, startRow, startColumn) {
            var foldLine = this.getFoldLine(row);
            if (!foldLine) {
              var line;
              line = this.doc.getLine(row);
              return line.substring(startColumn || 0, endColumn || line.length);
            } else {
              return this.getFoldDisplayLine(
                foldLine,
                row,
                endColumn,
                startRow,
                startColumn
              );
            }
          };
          this.$cloneFoldData = function() {
            var fd = [];
            fd = this.$foldData.map(function(foldLine) {
              var folds = foldLine.folds.map(function(fold) {
                return fold.clone();
              });
              return new FoldLine(fd, folds);
            });
            return fd;
          };
          this.toggleFold = function(tryToUnfold) {
            var selection = this.selection;
            var range = selection.getRange();
            var fold;
            var bracketPos;
            if (range.isEmpty()) {
              var cursor = range.start;
              fold = this.getFoldAt(cursor.row, cursor.column);
              if (fold) {
                this.expandFold(fold);
                return;
              } else if (bracketPos = this.findMatchingBracket(cursor)) {
                if (range.comparePoint(bracketPos) == 1) {
                  range.end = bracketPos;
                } else {
                  range.start = bracketPos;
                  range.start.column++;
                  range.end.column--;
                }
              } else if (bracketPos = this.findMatchingBracket({ row: cursor.row, column: cursor.column + 1 })) {
                if (range.comparePoint(bracketPos) == 1)
                  range.end = bracketPos;
                else
                  range.start = bracketPos;
                range.start.column++;
              } else {
                range = this.getCommentFoldRange(cursor.row, cursor.column) || range;
              }
            } else {
              var folds = this.getFoldsInRange(range);
              if (tryToUnfold && folds.length) {
                this.expandFolds(folds);
                return;
              } else if (folds.length == 1) {
                fold = folds[0];
              }
            }
            if (!fold)
              fold = this.getFoldAt(range.start.row, range.start.column);
            if (fold && fold.range.toString() == range.toString()) {
              this.expandFold(fold);
              return;
            }
            var placeholder = "...";
            if (!range.isMultiLine()) {
              placeholder = this.getTextRange(range);
              if (placeholder.length < 4)
                return;
              placeholder = placeholder.trim().substring(0, 2) + "..";
            }
            this.addFold(placeholder, range);
          };
          this.getCommentFoldRange = function(row, column, dir) {
            var iterator = new TokenIterator(this, row, column);
            var token = iterator.getCurrentToken();
            var type = token && token.type;
            if (token && /^comment|string/.test(type)) {
              type = type.match(/comment|string/)[0];
              if (type == "comment")
                type += "|doc-start";
              var re = new RegExp(type);
              var range = new Range();
              if (dir != 1) {
                do {
                  token = iterator.stepBackward();
                } while (token && re.test(token.type));
                iterator.stepForward();
              }
              range.start.row = iterator.getCurrentTokenRow();
              range.start.column = iterator.getCurrentTokenColumn() + 2;
              iterator = new TokenIterator(this, row, column);
              if (dir != -1) {
                var lastRow = -1;
                do {
                  token = iterator.stepForward();
                  if (lastRow == -1) {
                    var state = this.getState(iterator.$row);
                    if (!re.test(state))
                      lastRow = iterator.$row;
                  } else if (iterator.$row > lastRow) {
                    break;
                  }
                } while (token && re.test(token.type));
                token = iterator.stepBackward();
              } else
                token = iterator.getCurrentToken();
              range.end.row = iterator.getCurrentTokenRow();
              range.end.column = iterator.getCurrentTokenColumn() + token.value.length - 2;
              return range;
            }
          };
          this.foldAll = function(startRow, endRow, depth, test) {
            if (depth == void 0)
              depth = 1e5;
            var foldWidgets = this.foldWidgets;
            if (!foldWidgets)
              return;
            endRow = endRow || this.getLength();
            startRow = startRow || 0;
            for (var row = startRow; row < endRow; row++) {
              if (foldWidgets[row] == null)
                foldWidgets[row] = this.getFoldWidget(row);
              if (foldWidgets[row] != "start")
                continue;
              if (test && !test(row))
                continue;
              var range = this.getFoldWidgetRange(row);
              if (range && range.isMultiLine() && range.end.row <= endRow && range.start.row >= startRow) {
                row = range.end.row;
                range.collapseChildren = depth;
                this.addFold("...", range);
              }
            }
          };
          this.foldToLevel = function(level) {
            this.foldAll();
            while (level-- > 0)
              this.unfold(null, false);
          };
          this.foldAllComments = function() {
            var session = this;
            this.foldAll(null, null, null, function(row) {
              var tokens = session.getTokens(row);
              for (var i6 = 0; i6 < tokens.length; i6++) {
                var token = tokens[i6];
                if (token.type == "text" && /^\s+$/.test(token.value))
                  continue;
                if (/comment/.test(token.type))
                  return true;
                return false;
              }
            });
          };
          this.$foldStyles = {
            "manual": 1,
            "markbegin": 1,
            "markbeginend": 1
          };
          this.$foldStyle = "markbegin";
          this.setFoldStyle = function(style) {
            if (!this.$foldStyles[style])
              throw new Error("invalid fold style: " + style + "[" + Object.keys(this.$foldStyles).join(", ") + "]");
            if (this.$foldStyle == style)
              return;
            this.$foldStyle = style;
            if (style == "manual")
              this.unfold();
            var mode = this.$foldMode;
            this.$setFolding(null);
            this.$setFolding(mode);
          };
          this.$setFolding = function(foldMode) {
            if (this.$foldMode == foldMode)
              return;
            this.$foldMode = foldMode;
            this.off("change", this.$updateFoldWidgets);
            this.off("tokenizerUpdate", this.$tokenizerUpdateFoldWidgets);
            this._signal("changeAnnotation");
            if (!foldMode || this.$foldStyle == "manual") {
              this.foldWidgets = null;
              return;
            }
            this.foldWidgets = [];
            this.getFoldWidget = foldMode.getFoldWidget.bind(foldMode, this, this.$foldStyle);
            this.getFoldWidgetRange = foldMode.getFoldWidgetRange.bind(foldMode, this, this.$foldStyle);
            this.$updateFoldWidgets = this.updateFoldWidgets.bind(this);
            this.$tokenizerUpdateFoldWidgets = this.tokenizerUpdateFoldWidgets.bind(this);
            this.on("change", this.$updateFoldWidgets);
            this.on("tokenizerUpdate", this.$tokenizerUpdateFoldWidgets);
          };
          this.getParentFoldRangeData = function(row, ignoreCurrent) {
            var fw = this.foldWidgets;
            if (!fw || ignoreCurrent && fw[row])
              return {};
            var i6 = row - 1, firstRange;
            while (i6 >= 0) {
              var c2 = fw[i6];
              if (c2 == null)
                c2 = fw[i6] = this.getFoldWidget(i6);
              if (c2 == "start") {
                var range = this.getFoldWidgetRange(i6);
                if (!firstRange)
                  firstRange = range;
                if (range && range.end.row >= row)
                  break;
              }
              i6--;
            }
            return {
              range: i6 !== -1 && range,
              firstRange
            };
          };
          this.onFoldWidgetClick = function(row, e10) {
            e10 = e10.domEvent;
            var options = {
              children: e10.shiftKey,
              all: e10.ctrlKey || e10.metaKey,
              siblings: e10.altKey
            };
            var range = this.$toggleFoldWidget(row, options);
            if (!range) {
              var el = e10.target || e10.srcElement;
              if (el && /ace_fold-widget/.test(el.className))
                el.className += " ace_invalid";
            }
          };
          this.$toggleFoldWidget = function(row, options) {
            if (!this.getFoldWidget)
              return;
            var type = this.getFoldWidget(row);
            var line = this.getLine(row);
            var dir = type === "end" ? -1 : 1;
            var fold = this.getFoldAt(row, dir === -1 ? 0 : line.length, dir);
            if (fold) {
              if (options.children || options.all)
                this.removeFold(fold);
              else
                this.expandFold(fold);
              return fold;
            }
            var range = this.getFoldWidgetRange(row, true);
            if (range && !range.isMultiLine()) {
              fold = this.getFoldAt(range.start.row, range.start.column, 1);
              if (fold && range.isEqual(fold.range)) {
                this.removeFold(fold);
                return fold;
              }
            }
            if (options.siblings) {
              var data = this.getParentFoldRangeData(row);
              if (data.range) {
                var startRow = data.range.start.row + 1;
                var endRow = data.range.end.row;
              }
              this.foldAll(startRow, endRow, options.all ? 1e4 : 0);
            } else if (options.children) {
              endRow = range ? range.end.row : this.getLength();
              this.foldAll(row + 1, endRow, options.all ? 1e4 : 0);
            } else if (range) {
              if (options.all)
                range.collapseChildren = 1e4;
              this.addFold("...", range);
            }
            return range;
          };
          this.toggleFoldWidget = function(toggleParent) {
            var row = this.selection.getCursor().row;
            row = this.getRowFoldStart(row);
            var range = this.$toggleFoldWidget(row, {});
            if (range)
              return;
            var data = this.getParentFoldRangeData(row, true);
            range = data.range || data.firstRange;
            if (range) {
              row = range.start.row;
              var fold = this.getFoldAt(row, this.getLine(row).length, 1);
              if (fold) {
                this.removeFold(fold);
              } else {
                this.addFold("...", range);
              }
            }
          };
          this.updateFoldWidgets = function(delta) {
            var firstRow = delta.start.row;
            var len = delta.end.row - firstRow;
            if (len === 0) {
              this.foldWidgets[firstRow] = null;
            } else if (delta.action == "remove") {
              this.foldWidgets.splice(firstRow, len + 1, null);
            } else {
              var args = Array(len + 1);
              args.unshift(firstRow, 1);
              this.foldWidgets.splice.apply(this.foldWidgets, args);
            }
          };
          this.tokenizerUpdateFoldWidgets = function(e10) {
            var rows = e10.data;
            if (rows.first != rows.last) {
              if (this.foldWidgets.length > rows.first)
                this.foldWidgets.splice(rows.first, this.foldWidgets.length);
            }
          };
        }
        exports2.Folding = Folding;
      });
      ace.define("ace/edit_session/bracket_match", ["require", "exports", "module", "ace/token_iterator", "ace/range"], function(require3, exports2, module2) {
        "use strict";
        var TokenIterator = require3("../token_iterator").TokenIterator;
        var Range = require3("../range").Range;
        function BracketMatch() {
          this.findMatchingBracket = function(position, chr) {
            if (position.column == 0)
              return null;
            var charBeforeCursor = chr || this.getLine(position.row).charAt(position.column - 1);
            if (charBeforeCursor == "")
              return null;
            var match = charBeforeCursor.match(/([\(\[\{])|([\)\]\}])/);
            if (!match)
              return null;
            if (match[1])
              return this.$findClosingBracket(match[1], position);
            else
              return this.$findOpeningBracket(match[2], position);
          };
          this.getBracketRange = function(pos) {
            var line = this.getLine(pos.row);
            var before = true, range;
            var chr = line.charAt(pos.column - 1);
            var match = chr && chr.match(/([\(\[\{])|([\)\]\}])/);
            if (!match) {
              chr = line.charAt(pos.column);
              pos = { row: pos.row, column: pos.column + 1 };
              match = chr && chr.match(/([\(\[\{])|([\)\]\}])/);
              before = false;
            }
            if (!match)
              return null;
            if (match[1]) {
              var bracketPos = this.$findClosingBracket(match[1], pos);
              if (!bracketPos)
                return null;
              range = Range.fromPoints(pos, bracketPos);
              if (!before) {
                range.end.column++;
                range.start.column--;
              }
              range.cursor = range.end;
            } else {
              var bracketPos = this.$findOpeningBracket(match[2], pos);
              if (!bracketPos)
                return null;
              range = Range.fromPoints(bracketPos, pos);
              if (!before) {
                range.start.column++;
                range.end.column--;
              }
              range.cursor = range.start;
            }
            return range;
          };
          this.getMatchingBracketRanges = function(pos) {
            var line = this.getLine(pos.row);
            var chr = line.charAt(pos.column - 1);
            var match = chr && chr.match(/([\(\[\{])|([\)\]\}])/);
            if (!match) {
              chr = line.charAt(pos.column);
              pos = { row: pos.row, column: pos.column + 1 };
              match = chr && chr.match(/([\(\[\{])|([\)\]\}])/);
            }
            if (!match)
              return null;
            var startRange = new Range(pos.row, pos.column - 1, pos.row, pos.column);
            var bracketPos = match[1] ? this.$findClosingBracket(match[1], pos) : this.$findOpeningBracket(match[2], pos);
            if (!bracketPos)
              return [startRange];
            var endRange = new Range(bracketPos.row, bracketPos.column, bracketPos.row, bracketPos.column + 1);
            return [startRange, endRange];
          };
          this.$brackets = {
            ")": "(",
            "(": ")",
            "]": "[",
            "[": "]",
            "{": "}",
            "}": "{",
            "<": ">",
            ">": "<"
          };
          this.$findOpeningBracket = function(bracket, position, typeRe) {
            var openBracket = this.$brackets[bracket];
            var depth = 1;
            var iterator = new TokenIterator(this, position.row, position.column);
            var token = iterator.getCurrentToken();
            if (!token)
              token = iterator.stepForward();
            if (!token)
              return;
            if (!typeRe) {
              typeRe = new RegExp(
                "(\\.?" + token.type.replace(".", "\\.").replace("rparen", ".paren").replace(/\b(?:end)\b/, "(?:start|begin|end)") + ")+"
              );
            }
            var valueIndex = position.column - iterator.getCurrentTokenColumn() - 2;
            var value = token.value;
            while (true) {
              while (valueIndex >= 0) {
                var chr = value.charAt(valueIndex);
                if (chr == openBracket) {
                  depth -= 1;
                  if (depth == 0) {
                    return {
                      row: iterator.getCurrentTokenRow(),
                      column: valueIndex + iterator.getCurrentTokenColumn()
                    };
                  }
                } else if (chr == bracket) {
                  depth += 1;
                }
                valueIndex -= 1;
              }
              do {
                token = iterator.stepBackward();
              } while (token && !typeRe.test(token.type));
              if (token == null)
                break;
              value = token.value;
              valueIndex = value.length - 1;
            }
            return null;
          };
          this.$findClosingBracket = function(bracket, position, typeRe) {
            var closingBracket = this.$brackets[bracket];
            var depth = 1;
            var iterator = new TokenIterator(this, position.row, position.column);
            var token = iterator.getCurrentToken();
            if (!token)
              token = iterator.stepForward();
            if (!token)
              return;
            if (!typeRe) {
              typeRe = new RegExp(
                "(\\.?" + token.type.replace(".", "\\.").replace("lparen", ".paren").replace(/\b(?:start|begin)\b/, "(?:start|begin|end)") + ")+"
              );
            }
            var valueIndex = position.column - iterator.getCurrentTokenColumn();
            while (true) {
              var value = token.value;
              var valueLength = value.length;
              while (valueIndex < valueLength) {
                var chr = value.charAt(valueIndex);
                if (chr == closingBracket) {
                  depth -= 1;
                  if (depth == 0) {
                    return {
                      row: iterator.getCurrentTokenRow(),
                      column: valueIndex + iterator.getCurrentTokenColumn()
                    };
                  }
                } else if (chr == bracket) {
                  depth += 1;
                }
                valueIndex += 1;
              }
              do {
                token = iterator.stepForward();
              } while (token && !typeRe.test(token.type));
              if (token == null)
                break;
              valueIndex = 0;
            }
            return null;
          };
        }
        exports2.BracketMatch = BracketMatch;
      });
      ace.define("ace/edit_session", ["require", "exports", "module", "ace/lib/oop", "ace/lib/lang", "ace/bidihandler", "ace/config", "ace/lib/event_emitter", "ace/selection", "ace/mode/text", "ace/range", "ace/document", "ace/background_tokenizer", "ace/search_highlight", "ace/edit_session/folding", "ace/edit_session/bracket_match"], function(require3, exports2, module2) {
        "use strict";
        var oop = require3("./lib/oop");
        var lang = require3("./lib/lang");
        var BidiHandler = require3("./bidihandler").BidiHandler;
        var config2 = require3("./config");
        var EventEmitter = require3("./lib/event_emitter").EventEmitter;
        var Selection = require3("./selection").Selection;
        var TextMode = require3("./mode/text").Mode;
        var Range = require3("./range").Range;
        var Document2 = require3("./document").Document;
        var BackgroundTokenizer = require3("./background_tokenizer").BackgroundTokenizer;
        var SearchHighlight = require3("./search_highlight").SearchHighlight;
        var EditSession2 = function(text, mode) {
          this.$breakpoints = [];
          this.$decorations = [];
          this.$frontMarkers = {};
          this.$backMarkers = {};
          this.$markerId = 1;
          this.$undoSelect = true;
          this.$foldData = [];
          this.id = "session" + ++EditSession2.$uid;
          this.$foldData.toString = function() {
            return this.join("\n");
          };
          this.bgTokenizer = new BackgroundTokenizer(new TextMode().getTokenizer(), this);
          var _self = this;
          this.bgTokenizer.on("update", function(e10) {
            _self._signal("tokenizerUpdate", e10);
          });
          this.on("changeFold", this.onChangeFold.bind(this));
          this.$onChange = this.onChange.bind(this);
          if (typeof text != "object" || !text.getLine)
            text = new Document2(text);
          this.setDocument(text);
          this.selection = new Selection(this);
          this.$bidiHandler = new BidiHandler(this);
          config2.resetOptions(this);
          this.setMode(mode);
          config2._signal("session", this);
          this.destroyed = false;
        };
        EditSession2.$uid = 0;
        (function() {
          oop.implement(this, EventEmitter);
          this.setDocument = function(doc) {
            if (this.doc)
              this.doc.off("change", this.$onChange);
            this.doc = doc;
            doc.on("change", this.$onChange, true);
            this.bgTokenizer.setDocument(this.getDocument());
            this.resetCaches();
          };
          this.getDocument = function() {
            return this.doc;
          };
          this.$resetRowCache = function(docRow) {
            if (!docRow) {
              this.$docRowCache = [];
              this.$screenRowCache = [];
              return;
            }
            var l7 = this.$docRowCache.length;
            var i6 = this.$getRowCacheIndex(this.$docRowCache, docRow) + 1;
            if (l7 > i6) {
              this.$docRowCache.splice(i6, l7);
              this.$screenRowCache.splice(i6, l7);
            }
          };
          this.$getRowCacheIndex = function(cacheArray, val) {
            var low = 0;
            var hi = cacheArray.length - 1;
            while (low <= hi) {
              var mid = low + hi >> 1;
              var c2 = cacheArray[mid];
              if (val > c2)
                low = mid + 1;
              else if (val < c2)
                hi = mid - 1;
              else
                return mid;
            }
            return low - 1;
          };
          this.resetCaches = function() {
            this.$modified = true;
            this.$wrapData = [];
            this.$rowLengthCache = [];
            this.$resetRowCache(0);
            if (!this.destroyed)
              this.bgTokenizer.start(0);
          };
          this.onChangeFold = function(e10) {
            var fold = e10.data;
            this.$resetRowCache(fold.start.row);
          };
          this.onChange = function(delta) {
            this.$modified = true;
            this.$bidiHandler.onChange(delta);
            this.$resetRowCache(delta.start.row);
            var removedFolds = this.$updateInternalDataOnChange(delta);
            if (!this.$fromUndo && this.$undoManager) {
              if (removedFolds && removedFolds.length) {
                this.$undoManager.add({
                  action: "removeFolds",
                  folds: removedFolds
                }, this.mergeUndoDeltas);
                this.mergeUndoDeltas = true;
              }
              this.$undoManager.add(delta, this.mergeUndoDeltas);
              this.mergeUndoDeltas = true;
              this.$informUndoManager.schedule();
            }
            this.bgTokenizer.$updateOnChange(delta);
            this._signal("change", delta);
          };
          this.setValue = function(text) {
            this.doc.setValue(text);
            this.selection.moveTo(0, 0);
            this.$resetRowCache(0);
            this.setUndoManager(this.$undoManager);
            this.getUndoManager().reset();
          };
          this.getValue = this.toString = function() {
            return this.doc.getValue();
          };
          this.getSelection = function() {
            return this.selection;
          };
          this.getState = function(row) {
            return this.bgTokenizer.getState(row);
          };
          this.getTokens = function(row) {
            return this.bgTokenizer.getTokens(row);
          };
          this.getTokenAt = function(row, column) {
            var tokens = this.bgTokenizer.getTokens(row);
            var token, c2 = 0;
            if (column == null) {
              var i6 = tokens.length - 1;
              c2 = this.getLine(row).length;
            } else {
              for (var i6 = 0; i6 < tokens.length; i6++) {
                c2 += tokens[i6].value.length;
                if (c2 >= column)
                  break;
              }
            }
            token = tokens[i6];
            if (!token)
              return null;
            token.index = i6;
            token.start = c2 - token.value.length;
            return token;
          };
          this.setUndoManager = function(undoManager) {
            this.$undoManager = undoManager;
            if (this.$informUndoManager)
              this.$informUndoManager.cancel();
            if (undoManager) {
              var self = this;
              undoManager.addSession(this);
              this.$syncInformUndoManager = function() {
                self.$informUndoManager.cancel();
                self.mergeUndoDeltas = false;
              };
              this.$informUndoManager = lang.delayedCall(this.$syncInformUndoManager);
            } else {
              this.$syncInformUndoManager = function() {
              };
            }
          };
          this.markUndoGroup = function() {
            if (this.$syncInformUndoManager)
              this.$syncInformUndoManager();
          };
          this.$defaultUndoManager = {
            undo: function() {
            },
            redo: function() {
            },
            hasUndo: function() {
            },
            hasRedo: function() {
            },
            reset: function() {
            },
            add: function() {
            },
            addSelection: function() {
            },
            startNewGroup: function() {
            },
            addSession: function() {
            }
          };
          this.getUndoManager = function() {
            return this.$undoManager || this.$defaultUndoManager;
          };
          this.getTabString = function() {
            if (this.getUseSoftTabs()) {
              return lang.stringRepeat(" ", this.getTabSize());
            } else {
              return "	";
            }
          };
          this.setUseSoftTabs = function(val) {
            this.setOption("useSoftTabs", val);
          };
          this.getUseSoftTabs = function() {
            return this.$useSoftTabs && !this.$mode.$indentWithTabs;
          };
          this.setTabSize = function(tabSize) {
            this.setOption("tabSize", tabSize);
          };
          this.getTabSize = function() {
            return this.$tabSize;
          };
          this.isTabStop = function(position) {
            return this.$useSoftTabs && position.column % this.$tabSize === 0;
          };
          this.setNavigateWithinSoftTabs = function(navigateWithinSoftTabs) {
            this.setOption("navigateWithinSoftTabs", navigateWithinSoftTabs);
          };
          this.getNavigateWithinSoftTabs = function() {
            return this.$navigateWithinSoftTabs;
          };
          this.$overwrite = false;
          this.setOverwrite = function(overwrite) {
            this.setOption("overwrite", overwrite);
          };
          this.getOverwrite = function() {
            return this.$overwrite;
          };
          this.toggleOverwrite = function() {
            this.setOverwrite(!this.$overwrite);
          };
          this.addGutterDecoration = function(row, className) {
            if (!this.$decorations[row])
              this.$decorations[row] = "";
            this.$decorations[row] += " " + className;
            this._signal("changeBreakpoint", {});
          };
          this.removeGutterDecoration = function(row, className) {
            this.$decorations[row] = (this.$decorations[row] || "").replace(" " + className, "");
            this._signal("changeBreakpoint", {});
          };
          this.getBreakpoints = function() {
            return this.$breakpoints;
          };
          this.setBreakpoints = function(rows) {
            this.$breakpoints = [];
            for (var i6 = 0; i6 < rows.length; i6++) {
              this.$breakpoints[rows[i6]] = "ace_breakpoint";
            }
            this._signal("changeBreakpoint", {});
          };
          this.clearBreakpoints = function() {
            this.$breakpoints = [];
            this._signal("changeBreakpoint", {});
          };
          this.setBreakpoint = function(row, className) {
            if (className === void 0)
              className = "ace_breakpoint";
            if (className)
              this.$breakpoints[row] = className;
            else
              delete this.$breakpoints[row];
            this._signal("changeBreakpoint", {});
          };
          this.clearBreakpoint = function(row) {
            delete this.$breakpoints[row];
            this._signal("changeBreakpoint", {});
          };
          this.addMarker = function(range, clazz, type, inFront) {
            var id = this.$markerId++;
            var marker = {
              range,
              type: type || "line",
              renderer: typeof type == "function" ? type : null,
              clazz,
              inFront: !!inFront,
              id
            };
            if (inFront) {
              this.$frontMarkers[id] = marker;
              this._signal("changeFrontMarker");
            } else {
              this.$backMarkers[id] = marker;
              this._signal("changeBackMarker");
            }
            return id;
          };
          this.addDynamicMarker = function(marker, inFront) {
            if (!marker.update)
              return;
            var id = this.$markerId++;
            marker.id = id;
            marker.inFront = !!inFront;
            if (inFront) {
              this.$frontMarkers[id] = marker;
              this._signal("changeFrontMarker");
            } else {
              this.$backMarkers[id] = marker;
              this._signal("changeBackMarker");
            }
            return marker;
          };
          this.removeMarker = function(markerId) {
            var marker = this.$frontMarkers[markerId] || this.$backMarkers[markerId];
            if (!marker)
              return;
            var markers = marker.inFront ? this.$frontMarkers : this.$backMarkers;
            delete markers[markerId];
            this._signal(marker.inFront ? "changeFrontMarker" : "changeBackMarker");
          };
          this.getMarkers = function(inFront) {
            return inFront ? this.$frontMarkers : this.$backMarkers;
          };
          this.highlight = function(re) {
            if (!this.$searchHighlight) {
              var highlight = new SearchHighlight(null, "ace_selected-word", "text");
              this.$searchHighlight = this.addDynamicMarker(highlight);
            }
            this.$searchHighlight.setRegexp(re);
          };
          this.highlightLines = function(startRow, endRow, clazz, inFront) {
            if (typeof endRow != "number") {
              clazz = endRow;
              endRow = startRow;
            }
            if (!clazz)
              clazz = "ace_step";
            var range = new Range(startRow, 0, endRow, Infinity);
            range.id = this.addMarker(range, clazz, "fullLine", inFront);
            return range;
          };
          this.setAnnotations = function(annotations) {
            this.$annotations = annotations;
            this._signal("changeAnnotation", {});
          };
          this.getAnnotations = function() {
            return this.$annotations || [];
          };
          this.clearAnnotations = function() {
            this.setAnnotations([]);
          };
          this.$detectNewLine = function(text) {
            var match = text.match(/^.*?(\r?\n)/m);
            if (match) {
              this.$autoNewLine = match[1];
            } else {
              this.$autoNewLine = "\n";
            }
          };
          this.getWordRange = function(row, column) {
            var line = this.getLine(row);
            var inToken = false;
            if (column > 0)
              inToken = !!line.charAt(column - 1).match(this.tokenRe);
            if (!inToken)
              inToken = !!line.charAt(column).match(this.tokenRe);
            if (inToken)
              var re = this.tokenRe;
            else if (/^\s+$/.test(line.slice(column - 1, column + 1)))
              var re = /\s/;
            else
              var re = this.nonTokenRe;
            var start = column;
            if (start > 0) {
              do {
                start--;
              } while (start >= 0 && line.charAt(start).match(re));
              start++;
            }
            var end = column;
            while (end < line.length && line.charAt(end).match(re)) {
              end++;
            }
            return new Range(row, start, row, end);
          };
          this.getAWordRange = function(row, column) {
            var wordRange = this.getWordRange(row, column);
            var line = this.getLine(wordRange.end.row);
            while (line.charAt(wordRange.end.column).match(/[ \t]/)) {
              wordRange.end.column += 1;
            }
            return wordRange;
          };
          this.setNewLineMode = function(newLineMode) {
            this.doc.setNewLineMode(newLineMode);
          };
          this.getNewLineMode = function() {
            return this.doc.getNewLineMode();
          };
          this.setUseWorker = function(useWorker) {
            this.setOption("useWorker", useWorker);
          };
          this.getUseWorker = function() {
            return this.$useWorker;
          };
          this.onReloadTokenizer = function(e10) {
            var rows = e10.data;
            this.bgTokenizer.start(rows.first);
            this._signal("tokenizerUpdate", e10);
          };
          this.$modes = config2.$modes;
          this.$mode = null;
          this.$modeId = null;
          this.setMode = function(mode, cb) {
            if (mode && typeof mode === "object") {
              if (mode.getTokenizer)
                return this.$onChangeMode(mode);
              var options = mode;
              var path = options.path;
            } else {
              path = mode || "ace/mode/text";
            }
            if (!this.$modes["ace/mode/text"])
              this.$modes["ace/mode/text"] = new TextMode();
            if (this.$modes[path] && !options) {
              this.$onChangeMode(this.$modes[path]);
              cb && cb();
              return;
            }
            this.$modeId = path;
            config2.loadModule(["mode", path], function(m2) {
              if (this.$modeId !== path)
                return cb && cb();
              if (this.$modes[path] && !options) {
                this.$onChangeMode(this.$modes[path]);
              } else if (m2 && m2.Mode) {
                m2 = new m2.Mode(options);
                if (!options) {
                  this.$modes[path] = m2;
                  m2.$id = path;
                }
                this.$onChangeMode(m2);
              }
              cb && cb();
            }.bind(this));
            if (!this.$mode)
              this.$onChangeMode(this.$modes["ace/mode/text"], true);
          };
          this.$onChangeMode = function(mode, $isPlaceholder) {
            if (!$isPlaceholder)
              this.$modeId = mode.$id;
            if (this.$mode === mode)
              return;
            var oldMode = this.$mode;
            this.$mode = mode;
            this.$stopWorker();
            if (this.$useWorker)
              this.$startWorker();
            var tokenizer = mode.getTokenizer();
            if (tokenizer.on !== void 0) {
              var onReloadTokenizer = this.onReloadTokenizer.bind(this);
              tokenizer.on("update", onReloadTokenizer);
            }
            this.bgTokenizer.setTokenizer(tokenizer);
            this.bgTokenizer.setDocument(this.getDocument());
            this.tokenRe = mode.tokenRe;
            this.nonTokenRe = mode.nonTokenRe;
            if (!$isPlaceholder) {
              if (mode.attachToSession)
                mode.attachToSession(this);
              this.$options.wrapMethod.set.call(this, this.$wrapMethod);
              this.$setFolding(mode.foldingRules);
              this.bgTokenizer.start(0);
              this._emit("changeMode", { oldMode, mode });
            }
          };
          this.$stopWorker = function() {
            if (this.$worker) {
              this.$worker.terminate();
              this.$worker = null;
            }
          };
          this.$startWorker = function() {
            try {
              this.$worker = this.$mode.createWorker(this);
            } catch (e10) {
              config2.warn("Could not load worker", e10);
              this.$worker = null;
            }
          };
          this.getMode = function() {
            return this.$mode;
          };
          this.$scrollTop = 0;
          this.setScrollTop = function(scrollTop) {
            if (this.$scrollTop === scrollTop || isNaN(scrollTop))
              return;
            this.$scrollTop = scrollTop;
            this._signal("changeScrollTop", scrollTop);
          };
          this.getScrollTop = function() {
            return this.$scrollTop;
          };
          this.$scrollLeft = 0;
          this.setScrollLeft = function(scrollLeft) {
            if (this.$scrollLeft === scrollLeft || isNaN(scrollLeft))
              return;
            this.$scrollLeft = scrollLeft;
            this._signal("changeScrollLeft", scrollLeft);
          };
          this.getScrollLeft = function() {
            return this.$scrollLeft;
          };
          this.getScreenWidth = function() {
            this.$computeWidth();
            if (this.lineWidgets)
              return Math.max(this.getLineWidgetMaxWidth(), this.screenWidth);
            return this.screenWidth;
          };
          this.getLineWidgetMaxWidth = function() {
            if (this.lineWidgetsWidth != null)
              return this.lineWidgetsWidth;
            var width = 0;
            this.lineWidgets.forEach(function(w2) {
              if (w2 && w2.screenWidth > width)
                width = w2.screenWidth;
            });
            return this.lineWidgetWidth = width;
          };
          this.$computeWidth = function(force) {
            if (this.$modified || force) {
              this.$modified = false;
              if (this.$useWrapMode)
                return this.screenWidth = this.$wrapLimit;
              var lines = this.doc.getAllLines();
              var cache = this.$rowLengthCache;
              var longestScreenLine = 0;
              var foldIndex = 0;
              var foldLine = this.$foldData[foldIndex];
              var foldStart = foldLine ? foldLine.start.row : Infinity;
              var len = lines.length;
              for (var i6 = 0; i6 < len; i6++) {
                if (i6 > foldStart) {
                  i6 = foldLine.end.row + 1;
                  if (i6 >= len)
                    break;
                  foldLine = this.$foldData[foldIndex++];
                  foldStart = foldLine ? foldLine.start.row : Infinity;
                }
                if (cache[i6] == null)
                  cache[i6] = this.$getStringScreenWidth(lines[i6])[0];
                if (cache[i6] > longestScreenLine)
                  longestScreenLine = cache[i6];
              }
              this.screenWidth = longestScreenLine;
            }
          };
          this.getLine = function(row) {
            return this.doc.getLine(row);
          };
          this.getLines = function(firstRow, lastRow) {
            return this.doc.getLines(firstRow, lastRow);
          };
          this.getLength = function() {
            return this.doc.getLength();
          };
          this.getTextRange = function(range) {
            return this.doc.getTextRange(range || this.selection.getRange());
          };
          this.insert = function(position, text) {
            return this.doc.insert(position, text);
          };
          this.remove = function(range) {
            return this.doc.remove(range);
          };
          this.removeFullLines = function(firstRow, lastRow) {
            return this.doc.removeFullLines(firstRow, lastRow);
          };
          this.undoChanges = function(deltas, dontSelect) {
            if (!deltas.length)
              return;
            this.$fromUndo = true;
            for (var i6 = deltas.length - 1; i6 != -1; i6--) {
              var delta = deltas[i6];
              if (delta.action == "insert" || delta.action == "remove") {
                this.doc.revertDelta(delta);
              } else if (delta.folds) {
                this.addFolds(delta.folds);
              }
            }
            if (!dontSelect && this.$undoSelect) {
              if (deltas.selectionBefore)
                this.selection.fromJSON(deltas.selectionBefore);
              else
                this.selection.setRange(this.$getUndoSelection(deltas, true));
            }
            this.$fromUndo = false;
          };
          this.redoChanges = function(deltas, dontSelect) {
            if (!deltas.length)
              return;
            this.$fromUndo = true;
            for (var i6 = 0; i6 < deltas.length; i6++) {
              var delta = deltas[i6];
              if (delta.action == "insert" || delta.action == "remove") {
                this.doc.$safeApplyDelta(delta);
              }
            }
            if (!dontSelect && this.$undoSelect) {
              if (deltas.selectionAfter)
                this.selection.fromJSON(deltas.selectionAfter);
              else
                this.selection.setRange(this.$getUndoSelection(deltas, false));
            }
            this.$fromUndo = false;
          };
          this.setUndoSelect = function(enable) {
            this.$undoSelect = enable;
          };
          this.$getUndoSelection = function(deltas, isUndo) {
            function isInsert(delta2) {
              return isUndo ? delta2.action !== "insert" : delta2.action === "insert";
            }
            var range, point;
            for (var i6 = 0; i6 < deltas.length; i6++) {
              var delta = deltas[i6];
              if (!delta.start)
                continue;
              if (!range) {
                if (isInsert(delta)) {
                  range = Range.fromPoints(delta.start, delta.end);
                } else {
                  range = Range.fromPoints(delta.start, delta.start);
                }
                continue;
              }
              if (isInsert(delta)) {
                point = delta.start;
                if (range.compare(point.row, point.column) == -1) {
                  range.setStart(point);
                }
                point = delta.end;
                if (range.compare(point.row, point.column) == 1) {
                  range.setEnd(point);
                }
              } else {
                point = delta.start;
                if (range.compare(point.row, point.column) == -1) {
                  range = Range.fromPoints(delta.start, delta.start);
                }
              }
            }
            return range;
          };
          this.replace = function(range, text) {
            return this.doc.replace(range, text);
          };
          this.moveText = function(fromRange, toPosition, copy) {
            var text = this.getTextRange(fromRange);
            var folds = this.getFoldsInRange(fromRange);
            var toRange = Range.fromPoints(toPosition, toPosition);
            if (!copy) {
              this.remove(fromRange);
              var rowDiff = fromRange.start.row - fromRange.end.row;
              var collDiff = rowDiff ? -fromRange.end.column : fromRange.start.column - fromRange.end.column;
              if (collDiff) {
                if (toRange.start.row == fromRange.end.row && toRange.start.column > fromRange.end.column)
                  toRange.start.column += collDiff;
                if (toRange.end.row == fromRange.end.row && toRange.end.column > fromRange.end.column)
                  toRange.end.column += collDiff;
              }
              if (rowDiff && toRange.start.row >= fromRange.end.row) {
                toRange.start.row += rowDiff;
                toRange.end.row += rowDiff;
              }
            }
            toRange.end = this.insert(toRange.start, text);
            if (folds.length) {
              var oldStart = fromRange.start;
              var newStart = toRange.start;
              var rowDiff = newStart.row - oldStart.row;
              var collDiff = newStart.column - oldStart.column;
              this.addFolds(folds.map(function(x2) {
                x2 = x2.clone();
                if (x2.start.row == oldStart.row)
                  x2.start.column += collDiff;
                if (x2.end.row == oldStart.row)
                  x2.end.column += collDiff;
                x2.start.row += rowDiff;
                x2.end.row += rowDiff;
                return x2;
              }));
            }
            return toRange;
          };
          this.indentRows = function(startRow, endRow, indentString) {
            indentString = indentString.replace(/\t/g, this.getTabString());
            for (var row = startRow; row <= endRow; row++)
              this.doc.insertInLine({ row, column: 0 }, indentString);
          };
          this.outdentRows = function(range) {
            var rowRange = range.collapseRows();
            var deleteRange = new Range(0, 0, 0, 0);
            var size = this.getTabSize();
            for (var i6 = rowRange.start.row; i6 <= rowRange.end.row; ++i6) {
              var line = this.getLine(i6);
              deleteRange.start.row = i6;
              deleteRange.end.row = i6;
              for (var j = 0; j < size; ++j)
                if (line.charAt(j) != " ")
                  break;
              if (j < size && line.charAt(j) == "	") {
                deleteRange.start.column = j;
                deleteRange.end.column = j + 1;
              } else {
                deleteRange.start.column = 0;
                deleteRange.end.column = j;
              }
              this.remove(deleteRange);
            }
          };
          this.$moveLines = function(firstRow, lastRow, dir) {
            firstRow = this.getRowFoldStart(firstRow);
            lastRow = this.getRowFoldEnd(lastRow);
            if (dir < 0) {
              var row = this.getRowFoldStart(firstRow + dir);
              if (row < 0)
                return 0;
              var diff = row - firstRow;
            } else if (dir > 0) {
              var row = this.getRowFoldEnd(lastRow + dir);
              if (row > this.doc.getLength() - 1)
                return 0;
              var diff = row - lastRow;
            } else {
              firstRow = this.$clipRowToDocument(firstRow);
              lastRow = this.$clipRowToDocument(lastRow);
              var diff = lastRow - firstRow + 1;
            }
            var range = new Range(firstRow, 0, lastRow, Number.MAX_VALUE);
            var folds = this.getFoldsInRange(range).map(function(x2) {
              x2 = x2.clone();
              x2.start.row += diff;
              x2.end.row += diff;
              return x2;
            });
            var lines = dir == 0 ? this.doc.getLines(firstRow, lastRow) : this.doc.removeFullLines(firstRow, lastRow);
            this.doc.insertFullLines(firstRow + diff, lines);
            folds.length && this.addFolds(folds);
            return diff;
          };
          this.moveLinesUp = function(firstRow, lastRow) {
            return this.$moveLines(firstRow, lastRow, -1);
          };
          this.moveLinesDown = function(firstRow, lastRow) {
            return this.$moveLines(firstRow, lastRow, 1);
          };
          this.duplicateLines = function(firstRow, lastRow) {
            return this.$moveLines(firstRow, lastRow, 0);
          };
          this.$clipRowToDocument = function(row) {
            return Math.max(0, Math.min(row, this.doc.getLength() - 1));
          };
          this.$clipColumnToRow = function(row, column) {
            if (column < 0)
              return 0;
            return Math.min(this.doc.getLine(row).length, column);
          };
          this.$clipPositionToDocument = function(row, column) {
            column = Math.max(0, column);
            if (row < 0) {
              row = 0;
              column = 0;
            } else {
              var len = this.doc.getLength();
              if (row >= len) {
                row = len - 1;
                column = this.doc.getLine(len - 1).length;
              } else {
                column = Math.min(this.doc.getLine(row).length, column);
              }
            }
            return {
              row,
              column
            };
          };
          this.$clipRangeToDocument = function(range) {
            if (range.start.row < 0) {
              range.start.row = 0;
              range.start.column = 0;
            } else {
              range.start.column = this.$clipColumnToRow(
                range.start.row,
                range.start.column
              );
            }
            var len = this.doc.getLength() - 1;
            if (range.end.row > len) {
              range.end.row = len;
              range.end.column = this.doc.getLine(len).length;
            } else {
              range.end.column = this.$clipColumnToRow(
                range.end.row,
                range.end.column
              );
            }
            return range;
          };
          this.$wrapLimit = 80;
          this.$useWrapMode = false;
          this.$wrapLimitRange = {
            min: null,
            max: null
          };
          this.setUseWrapMode = function(useWrapMode) {
            if (useWrapMode != this.$useWrapMode) {
              this.$useWrapMode = useWrapMode;
              this.$modified = true;
              this.$resetRowCache(0);
              if (useWrapMode) {
                var len = this.getLength();
                this.$wrapData = Array(len);
                this.$updateWrapData(0, len - 1);
              }
              this._signal("changeWrapMode");
            }
          };
          this.getUseWrapMode = function() {
            return this.$useWrapMode;
          };
          this.setWrapLimitRange = function(min, max) {
            if (this.$wrapLimitRange.min !== min || this.$wrapLimitRange.max !== max) {
              this.$wrapLimitRange = { min, max };
              this.$modified = true;
              this.$bidiHandler.markAsDirty();
              if (this.$useWrapMode)
                this._signal("changeWrapMode");
            }
          };
          this.adjustWrapLimit = function(desiredLimit, $printMargin) {
            var limits = this.$wrapLimitRange;
            if (limits.max < 0)
              limits = { min: $printMargin, max: $printMargin };
            var wrapLimit = this.$constrainWrapLimit(desiredLimit, limits.min, limits.max);
            if (wrapLimit != this.$wrapLimit && wrapLimit > 1) {
              this.$wrapLimit = wrapLimit;
              this.$modified = true;
              if (this.$useWrapMode) {
                this.$updateWrapData(0, this.getLength() - 1);
                this.$resetRowCache(0);
                this._signal("changeWrapLimit");
              }
              return true;
            }
            return false;
          };
          this.$constrainWrapLimit = function(wrapLimit, min, max) {
            if (min)
              wrapLimit = Math.max(min, wrapLimit);
            if (max)
              wrapLimit = Math.min(max, wrapLimit);
            return wrapLimit;
          };
          this.getWrapLimit = function() {
            return this.$wrapLimit;
          };
          this.setWrapLimit = function(limit) {
            this.setWrapLimitRange(limit, limit);
          };
          this.getWrapLimitRange = function() {
            return {
              min: this.$wrapLimitRange.min,
              max: this.$wrapLimitRange.max
            };
          };
          this.$updateInternalDataOnChange = function(delta) {
            var useWrapMode = this.$useWrapMode;
            var action = delta.action;
            var start = delta.start;
            var end = delta.end;
            var firstRow = start.row;
            var lastRow = end.row;
            var len = lastRow - firstRow;
            var removedFolds = null;
            this.$updating = true;
            if (len != 0) {
              if (action === "remove") {
                this[useWrapMode ? "$wrapData" : "$rowLengthCache"].splice(firstRow, len);
                var foldLines = this.$foldData;
                removedFolds = this.getFoldsInRange(delta);
                this.removeFolds(removedFolds);
                var foldLine = this.getFoldLine(end.row);
                var idx = 0;
                if (foldLine) {
                  foldLine.addRemoveChars(end.row, end.column, start.column - end.column);
                  foldLine.shiftRow(-len);
                  var foldLineBefore = this.getFoldLine(firstRow);
                  if (foldLineBefore && foldLineBefore !== foldLine) {
                    foldLineBefore.merge(foldLine);
                    foldLine = foldLineBefore;
                  }
                  idx = foldLines.indexOf(foldLine) + 1;
                }
                for (idx; idx < foldLines.length; idx++) {
                  var foldLine = foldLines[idx];
                  if (foldLine.start.row >= end.row) {
                    foldLine.shiftRow(-len);
                  }
                }
                lastRow = firstRow;
              } else {
                var args = Array(len);
                args.unshift(firstRow, 0);
                var arr = useWrapMode ? this.$wrapData : this.$rowLengthCache;
                arr.splice.apply(arr, args);
                var foldLines = this.$foldData;
                var foldLine = this.getFoldLine(firstRow);
                var idx = 0;
                if (foldLine) {
                  var cmp = foldLine.range.compareInside(start.row, start.column);
                  if (cmp == 0) {
                    foldLine = foldLine.split(start.row, start.column);
                    if (foldLine) {
                      foldLine.shiftRow(len);
                      foldLine.addRemoveChars(lastRow, 0, end.column - start.column);
                    }
                  } else if (cmp == -1) {
                    foldLine.addRemoveChars(firstRow, 0, end.column - start.column);
                    foldLine.shiftRow(len);
                  }
                  idx = foldLines.indexOf(foldLine) + 1;
                }
                for (idx; idx < foldLines.length; idx++) {
                  var foldLine = foldLines[idx];
                  if (foldLine.start.row >= firstRow) {
                    foldLine.shiftRow(len);
                  }
                }
              }
            } else {
              len = Math.abs(delta.start.column - delta.end.column);
              if (action === "remove") {
                removedFolds = this.getFoldsInRange(delta);
                this.removeFolds(removedFolds);
                len = -len;
              }
              var foldLine = this.getFoldLine(firstRow);
              if (foldLine) {
                foldLine.addRemoveChars(firstRow, start.column, len);
              }
            }
            if (useWrapMode && this.$wrapData.length != this.doc.getLength()) {
              console.error("doc.getLength() and $wrapData.length have to be the same!");
            }
            this.$updating = false;
            if (useWrapMode)
              this.$updateWrapData(firstRow, lastRow);
            else
              this.$updateRowLengthCache(firstRow, lastRow);
            return removedFolds;
          };
          this.$updateRowLengthCache = function(firstRow, lastRow, b2) {
            this.$rowLengthCache[firstRow] = null;
            this.$rowLengthCache[lastRow] = null;
          };
          this.$updateWrapData = function(firstRow, lastRow) {
            var lines = this.doc.getAllLines();
            var tabSize = this.getTabSize();
            var wrapData = this.$wrapData;
            var wrapLimit = this.$wrapLimit;
            var tokens;
            var foldLine;
            var row = firstRow;
            lastRow = Math.min(lastRow, lines.length - 1);
            while (row <= lastRow) {
              foldLine = this.getFoldLine(row, foldLine);
              if (!foldLine) {
                tokens = this.$getDisplayTokens(lines[row]);
                wrapData[row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);
                row++;
              } else {
                tokens = [];
                foldLine.walk(
                  function(placeholder, row2, column, lastColumn) {
                    var walkTokens;
                    if (placeholder != null) {
                      walkTokens = this.$getDisplayTokens(
                        placeholder,
                        tokens.length
                      );
                      walkTokens[0] = PLACEHOLDER_START;
                      for (var i6 = 1; i6 < walkTokens.length; i6++) {
                        walkTokens[i6] = PLACEHOLDER_BODY;
                      }
                    } else {
                      walkTokens = this.$getDisplayTokens(
                        lines[row2].substring(lastColumn, column),
                        tokens.length
                      );
                    }
                    tokens = tokens.concat(walkTokens);
                  }.bind(this),
                  foldLine.end.row,
                  lines[foldLine.end.row].length + 1
                );
                wrapData[foldLine.start.row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);
                row = foldLine.end.row + 1;
              }
            }
          };
          var CHAR = 1, CHAR_EXT = 2, PLACEHOLDER_START = 3, PLACEHOLDER_BODY = 4, PUNCTUATION = 9, SPACE = 10, TAB = 11, TAB_SPACE = 12;
          this.$computeWrapSplits = function(tokens, wrapLimit, tabSize) {
            if (tokens.length == 0) {
              return [];
            }
            var splits = [];
            var displayLength = tokens.length;
            var lastSplit = 0, lastDocSplit = 0;
            var isCode = this.$wrapAsCode;
            var indentedSoftWrap = this.$indentedSoftWrap;
            var maxIndent = wrapLimit <= Math.max(2 * tabSize, 8) || indentedSoftWrap === false ? 0 : Math.floor(wrapLimit / 2);
            function getWrapIndent() {
              var indentation = 0;
              if (maxIndent === 0)
                return indentation;
              if (indentedSoftWrap) {
                for (var i6 = 0; i6 < tokens.length; i6++) {
                  var token = tokens[i6];
                  if (token == SPACE)
                    indentation += 1;
                  else if (token == TAB)
                    indentation += tabSize;
                  else if (token == TAB_SPACE)
                    continue;
                  else
                    break;
                }
              }
              if (isCode && indentedSoftWrap !== false)
                indentation += tabSize;
              return Math.min(indentation, maxIndent);
            }
            function addSplit(screenPos) {
              var len = screenPos - lastSplit;
              for (var i6 = lastSplit; i6 < screenPos; i6++) {
                var ch = tokens[i6];
                if (ch === 12 || ch === 2)
                  len -= 1;
              }
              if (!splits.length) {
                indent = getWrapIndent();
                splits.indent = indent;
              }
              lastDocSplit += len;
              splits.push(lastDocSplit);
              lastSplit = screenPos;
            }
            var indent = 0;
            while (displayLength - lastSplit > wrapLimit - indent) {
              var split = lastSplit + wrapLimit - indent;
              if (tokens[split - 1] >= SPACE && tokens[split] >= SPACE) {
                addSplit(split);
                continue;
              }
              if (tokens[split] == PLACEHOLDER_START || tokens[split] == PLACEHOLDER_BODY) {
                for (split; split != lastSplit - 1; split--) {
                  if (tokens[split] == PLACEHOLDER_START) {
                    break;
                  }
                }
                if (split > lastSplit) {
                  addSplit(split);
                  continue;
                }
                split = lastSplit + wrapLimit;
                for (split; split < tokens.length; split++) {
                  if (tokens[split] != PLACEHOLDER_BODY) {
                    break;
                  }
                }
                if (split == tokens.length) {
                  break;
                }
                addSplit(split);
                continue;
              }
              var minSplit = Math.max(split - (wrapLimit - (wrapLimit >> 2)), lastSplit - 1);
              while (split > minSplit && tokens[split] < PLACEHOLDER_START) {
                split--;
              }
              if (isCode) {
                while (split > minSplit && tokens[split] < PLACEHOLDER_START) {
                  split--;
                }
                while (split > minSplit && tokens[split] == PUNCTUATION) {
                  split--;
                }
              } else {
                while (split > minSplit && tokens[split] < SPACE) {
                  split--;
                }
              }
              if (split > minSplit) {
                addSplit(++split);
                continue;
              }
              split = lastSplit + wrapLimit;
              if (tokens[split] == CHAR_EXT)
                split--;
              addSplit(split - indent);
            }
            return splits;
          };
          this.$getDisplayTokens = function(str, offset) {
            var arr = [];
            var tabSize;
            offset = offset || 0;
            for (var i6 = 0; i6 < str.length; i6++) {
              var c2 = str.charCodeAt(i6);
              if (c2 == 9) {
                tabSize = this.getScreenTabSize(arr.length + offset);
                arr.push(TAB);
                for (var n9 = 1; n9 < tabSize; n9++) {
                  arr.push(TAB_SPACE);
                }
              } else if (c2 == 32) {
                arr.push(SPACE);
              } else if (c2 > 39 && c2 < 48 || c2 > 57 && c2 < 64) {
                arr.push(PUNCTUATION);
              } else if (c2 >= 4352 && isFullWidth(c2)) {
                arr.push(CHAR, CHAR_EXT);
              } else {
                arr.push(CHAR);
              }
            }
            return arr;
          };
          this.$getStringScreenWidth = function(str, maxScreenColumn, screenColumn) {
            if (maxScreenColumn == 0)
              return [0, 0];
            if (maxScreenColumn == null)
              maxScreenColumn = Infinity;
            screenColumn = screenColumn || 0;
            var c2, column;
            for (column = 0; column < str.length; column++) {
              c2 = str.charCodeAt(column);
              if (c2 == 9) {
                screenColumn += this.getScreenTabSize(screenColumn);
              } else if (c2 >= 4352 && isFullWidth(c2)) {
                screenColumn += 2;
              } else {
                screenColumn += 1;
              }
              if (screenColumn > maxScreenColumn) {
                break;
              }
            }
            return [screenColumn, column];
          };
          this.lineWidgets = null;
          this.getRowLength = function(row) {
            var h5 = 1;
            if (this.lineWidgets)
              h5 += this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;
            if (!this.$useWrapMode || !this.$wrapData[row])
              return h5;
            else
              return this.$wrapData[row].length + h5;
          };
          this.getRowLineCount = function(row) {
            if (!this.$useWrapMode || !this.$wrapData[row]) {
              return 1;
            } else {
              return this.$wrapData[row].length + 1;
            }
          };
          this.getRowWrapIndent = function(screenRow) {
            if (this.$useWrapMode) {
              var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);
              var splits = this.$wrapData[pos.row];
              return splits.length && splits[0] < pos.column ? splits.indent : 0;
            } else {
              return 0;
            }
          };
          this.getScreenLastRowColumn = function(screenRow) {
            var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);
            return this.documentToScreenColumn(pos.row, pos.column);
          };
          this.getDocumentLastRowColumn = function(docRow, docColumn) {
            var screenRow = this.documentToScreenRow(docRow, docColumn);
            return this.getScreenLastRowColumn(screenRow);
          };
          this.getDocumentLastRowColumnPosition = function(docRow, docColumn) {
            var screenRow = this.documentToScreenRow(docRow, docColumn);
            return this.screenToDocumentPosition(screenRow, Number.MAX_VALUE / 10);
          };
          this.getRowSplitData = function(row) {
            if (!this.$useWrapMode) {
              return void 0;
            } else {
              return this.$wrapData[row];
            }
          };
          this.getScreenTabSize = function(screenColumn) {
            return this.$tabSize - (screenColumn % this.$tabSize | 0);
          };
          this.screenToDocumentRow = function(screenRow, screenColumn) {
            return this.screenToDocumentPosition(screenRow, screenColumn).row;
          };
          this.screenToDocumentColumn = function(screenRow, screenColumn) {
            return this.screenToDocumentPosition(screenRow, screenColumn).column;
          };
          this.screenToDocumentPosition = function(screenRow, screenColumn, offsetX) {
            if (screenRow < 0)
              return { row: 0, column: 0 };
            var line;
            var docRow = 0;
            var docColumn = 0;
            var column;
            var row = 0;
            var rowLength = 0;
            var rowCache = this.$screenRowCache;
            var i6 = this.$getRowCacheIndex(rowCache, screenRow);
            var l7 = rowCache.length;
            if (l7 && i6 >= 0) {
              var row = rowCache[i6];
              var docRow = this.$docRowCache[i6];
              var doCache = screenRow > rowCache[l7 - 1];
            } else {
              var doCache = !l7;
            }
            var maxRow = this.getLength() - 1;
            var foldLine = this.getNextFoldLine(docRow);
            var foldStart = foldLine ? foldLine.start.row : Infinity;
            while (row <= screenRow) {
              rowLength = this.getRowLength(docRow);
              if (row + rowLength > screenRow || docRow >= maxRow) {
                break;
              } else {
                row += rowLength;
                docRow++;
                if (docRow > foldStart) {
                  docRow = foldLine.end.row + 1;
                  foldLine = this.getNextFoldLine(docRow, foldLine);
                  foldStart = foldLine ? foldLine.start.row : Infinity;
                }
              }
              if (doCache) {
                this.$docRowCache.push(docRow);
                this.$screenRowCache.push(row);
              }
            }
            if (foldLine && foldLine.start.row <= docRow) {
              line = this.getFoldDisplayLine(foldLine);
              docRow = foldLine.start.row;
            } else if (row + rowLength <= screenRow || docRow > maxRow) {
              return {
                row: maxRow,
                column: this.getLine(maxRow).length
              };
            } else {
              line = this.getLine(docRow);
              foldLine = null;
            }
            var wrapIndent = 0, splitIndex = Math.floor(screenRow - row);
            if (this.$useWrapMode) {
              var splits = this.$wrapData[docRow];
              if (splits) {
                column = splits[splitIndex];
                if (splitIndex > 0 && splits.length) {
                  wrapIndent = splits.indent;
                  docColumn = splits[splitIndex - 1] || splits[splits.length - 1];
                  line = line.substring(docColumn);
                }
              }
            }
            if (offsetX !== void 0 && this.$bidiHandler.isBidiRow(row + splitIndex, docRow, splitIndex))
              screenColumn = this.$bidiHandler.offsetToCol(offsetX);
            docColumn += this.$getStringScreenWidth(line, screenColumn - wrapIndent)[1];
            if (this.$useWrapMode && docColumn >= column)
              docColumn = column - 1;
            if (foldLine)
              return foldLine.idxToPosition(docColumn);
            return { row: docRow, column: docColumn };
          };
          this.documentToScreenPosition = function(docRow, docColumn) {
            if (typeof docColumn === "undefined")
              var pos = this.$clipPositionToDocument(docRow.row, docRow.column);
            else
              pos = this.$clipPositionToDocument(docRow, docColumn);
            docRow = pos.row;
            docColumn = pos.column;
            var screenRow = 0;
            var foldStartRow = null;
            var fold = null;
            fold = this.getFoldAt(docRow, docColumn, 1);
            if (fold) {
              docRow = fold.start.row;
              docColumn = fold.start.column;
            }
            var rowEnd, row = 0;
            var rowCache = this.$docRowCache;
            var i6 = this.$getRowCacheIndex(rowCache, docRow);
            var l7 = rowCache.length;
            if (l7 && i6 >= 0) {
              var row = rowCache[i6];
              var screenRow = this.$screenRowCache[i6];
              var doCache = docRow > rowCache[l7 - 1];
            } else {
              var doCache = !l7;
            }
            var foldLine = this.getNextFoldLine(row);
            var foldStart = foldLine ? foldLine.start.row : Infinity;
            while (row < docRow) {
              if (row >= foldStart) {
                rowEnd = foldLine.end.row + 1;
                if (rowEnd > docRow)
                  break;
                foldLine = this.getNextFoldLine(rowEnd, foldLine);
                foldStart = foldLine ? foldLine.start.row : Infinity;
              } else {
                rowEnd = row + 1;
              }
              screenRow += this.getRowLength(row);
              row = rowEnd;
              if (doCache) {
                this.$docRowCache.push(row);
                this.$screenRowCache.push(screenRow);
              }
            }
            var textLine = "";
            if (foldLine && row >= foldStart) {
              textLine = this.getFoldDisplayLine(foldLine, docRow, docColumn);
              foldStartRow = foldLine.start.row;
            } else {
              textLine = this.getLine(docRow).substring(0, docColumn);
              foldStartRow = docRow;
            }
            var wrapIndent = 0;
            if (this.$useWrapMode) {
              var wrapRow = this.$wrapData[foldStartRow];
              if (wrapRow) {
                var screenRowOffset = 0;
                while (textLine.length >= wrapRow[screenRowOffset]) {
                  screenRow++;
                  screenRowOffset++;
                }
                textLine = textLine.substring(
                  wrapRow[screenRowOffset - 1] || 0,
                  textLine.length
                );
                wrapIndent = screenRowOffset > 0 ? wrapRow.indent : 0;
              }
            }
            if (this.lineWidgets && this.lineWidgets[row] && this.lineWidgets[row].rowsAbove)
              screenRow += this.lineWidgets[row].rowsAbove;
            return {
              row: screenRow,
              column: wrapIndent + this.$getStringScreenWidth(textLine)[0]
            };
          };
          this.documentToScreenColumn = function(row, docColumn) {
            return this.documentToScreenPosition(row, docColumn).column;
          };
          this.documentToScreenRow = function(docRow, docColumn) {
            return this.documentToScreenPosition(docRow, docColumn).row;
          };
          this.getScreenLength = function() {
            var screenRows = 0;
            var fold = null;
            if (!this.$useWrapMode) {
              screenRows = this.getLength();
              var foldData = this.$foldData;
              for (var i6 = 0; i6 < foldData.length; i6++) {
                fold = foldData[i6];
                screenRows -= fold.end.row - fold.start.row;
              }
            } else {
              var lastRow = this.$wrapData.length;
              var row = 0, i6 = 0;
              var fold = this.$foldData[i6++];
              var foldStart = fold ? fold.start.row : Infinity;
              while (row < lastRow) {
                var splits = this.$wrapData[row];
                screenRows += splits ? splits.length + 1 : 1;
                row++;
                if (row > foldStart) {
                  row = fold.end.row + 1;
                  fold = this.$foldData[i6++];
                  foldStart = fold ? fold.start.row : Infinity;
                }
              }
            }
            if (this.lineWidgets)
              screenRows += this.$getWidgetScreenLength();
            return screenRows;
          };
          this.$setFontMetrics = function(fm) {
            if (!this.$enableVarChar)
              return;
            this.$getStringScreenWidth = function(str, maxScreenColumn, screenColumn) {
              if (maxScreenColumn === 0)
                return [0, 0];
              if (!maxScreenColumn)
                maxScreenColumn = Infinity;
              screenColumn = screenColumn || 0;
              var c2, column;
              for (column = 0; column < str.length; column++) {
                c2 = str.charAt(column);
                if (c2 === "	") {
                  screenColumn += this.getScreenTabSize(screenColumn);
                } else {
                  screenColumn += fm.getCharacterWidth(c2);
                }
                if (screenColumn > maxScreenColumn) {
                  break;
                }
              }
              return [screenColumn, column];
            };
          };
          this.destroy = function() {
            if (!this.destroyed) {
              this.bgTokenizer.setDocument(null);
              this.bgTokenizer.cleanup();
              this.destroyed = true;
            }
            this.$stopWorker();
            this.removeAllListeners();
            if (this.doc) {
              this.doc.off("change", this.$onChange);
            }
            this.selection.detach();
          };
          this.isFullWidth = isFullWidth;
          function isFullWidth(c2) {
            if (c2 < 4352)
              return false;
            return c2 >= 4352 && c2 <= 4447 || c2 >= 4515 && c2 <= 4519 || c2 >= 4602 && c2 <= 4607 || c2 >= 9001 && c2 <= 9002 || c2 >= 11904 && c2 <= 11929 || c2 >= 11931 && c2 <= 12019 || c2 >= 12032 && c2 <= 12245 || c2 >= 12272 && c2 <= 12283 || c2 >= 12288 && c2 <= 12350 || c2 >= 12353 && c2 <= 12438 || c2 >= 12441 && c2 <= 12543 || c2 >= 12549 && c2 <= 12589 || c2 >= 12593 && c2 <= 12686 || c2 >= 12688 && c2 <= 12730 || c2 >= 12736 && c2 <= 12771 || c2 >= 12784 && c2 <= 12830 || c2 >= 12832 && c2 <= 12871 || c2 >= 12880 && c2 <= 13054 || c2 >= 13056 && c2 <= 19903 || c2 >= 19968 && c2 <= 42124 || c2 >= 42128 && c2 <= 42182 || c2 >= 43360 && c2 <= 43388 || c2 >= 44032 && c2 <= 55203 || c2 >= 55216 && c2 <= 55238 || c2 >= 55243 && c2 <= 55291 || c2 >= 63744 && c2 <= 64255 || c2 >= 65040 && c2 <= 65049 || c2 >= 65072 && c2 <= 65106 || c2 >= 65108 && c2 <= 65126 || c2 >= 65128 && c2 <= 65131 || c2 >= 65281 && c2 <= 65376 || c2 >= 65504 && c2 <= 65510;
          }
        }).call(EditSession2.prototype);
        require3("./edit_session/folding").Folding.call(EditSession2.prototype);
        require3("./edit_session/bracket_match").BracketMatch.call(EditSession2.prototype);
        config2.defineOptions(EditSession2.prototype, "session", {
          wrap: {
            set: function(value) {
              if (!value || value == "off")
                value = false;
              else if (value == "free")
                value = true;
              else if (value == "printMargin")
                value = -1;
              else if (typeof value == "string")
                value = parseInt(value, 10) || false;
              if (this.$wrap == value)
                return;
              this.$wrap = value;
              if (!value) {
                this.setUseWrapMode(false);
              } else {
                var col = typeof value == "number" ? value : null;
                this.setWrapLimitRange(col, col);
                this.setUseWrapMode(true);
              }
            },
            get: function() {
              if (this.getUseWrapMode()) {
                if (this.$wrap == -1)
                  return "printMargin";
                if (!this.getWrapLimitRange().min)
                  return "free";
                return this.$wrap;
              }
              return "off";
            },
            handlesSet: true
          },
          wrapMethod: {
            set: function(val) {
              val = val == "auto" ? this.$mode.type != "text" : val != "text";
              if (val != this.$wrapAsCode) {
                this.$wrapAsCode = val;
                if (this.$useWrapMode) {
                  this.$useWrapMode = false;
                  this.setUseWrapMode(true);
                }
              }
            },
            initialValue: "auto"
          },
          indentedSoftWrap: {
            set: function() {
              if (this.$useWrapMode) {
                this.$useWrapMode = false;
                this.setUseWrapMode(true);
              }
            },
            initialValue: true
          },
          firstLineNumber: {
            set: function() {
              this._signal("changeBreakpoint");
            },
            initialValue: 1
          },
          useWorker: {
            set: function(useWorker) {
              this.$useWorker = useWorker;
              this.$stopWorker();
              if (useWorker)
                this.$startWorker();
            },
            initialValue: true
          },
          useSoftTabs: { initialValue: true },
          tabSize: {
            set: function(tabSize) {
              tabSize = parseInt(tabSize);
              if (tabSize > 0 && this.$tabSize !== tabSize) {
                this.$modified = true;
                this.$rowLengthCache = [];
                this.$tabSize = tabSize;
                this._signal("changeTabSize");
              }
            },
            initialValue: 4,
            handlesSet: true
          },
          navigateWithinSoftTabs: { initialValue: false },
          foldStyle: {
            set: function(val) {
              this.setFoldStyle(val);
            },
            handlesSet: true
          },
          overwrite: {
            set: function(val) {
              this._signal("changeOverwrite");
            },
            initialValue: false
          },
          newLineMode: {
            set: function(val) {
              this.doc.setNewLineMode(val);
            },
            get: function() {
              return this.doc.getNewLineMode();
            },
            handlesSet: true
          },
          mode: {
            set: function(val) {
              this.setMode(val);
            },
            get: function() {
              return this.$modeId;
            },
            handlesSet: true
          }
        });
        exports2.EditSession = EditSession2;
      });
      ace.define("ace/search", ["require", "exports", "module", "ace/lib/lang", "ace/lib/oop", "ace/range"], function(require3, exports2, module2) {
        "use strict";
        var lang = require3("./lib/lang");
        var oop = require3("./lib/oop");
        var Range = require3("./range").Range;
        var Search = function() {
          this.$options = {};
        };
        (function() {
          this.set = function(options) {
            oop.mixin(this.$options, options);
            return this;
          };
          this.getOptions = function() {
            return lang.copyObject(this.$options);
          };
          this.setOptions = function(options) {
            this.$options = options;
          };
          this.find = function(session) {
            var options = this.$options;
            var iterator = this.$matchIterator(session, options);
            if (!iterator)
              return false;
            var firstRange = null;
            iterator.forEach(function(sr, sc, er, ec) {
              firstRange = new Range(sr, sc, er, ec);
              if (sc == ec && options.start && options.start.start && options.skipCurrent != false && firstRange.isEqual(options.start)) {
                firstRange = null;
                return false;
              }
              return true;
            });
            return firstRange;
          };
          this.findAll = function(session) {
            var options = this.$options;
            if (!options.needle)
              return [];
            this.$assembleRegExp(options);
            var range = options.range;
            var lines = range ? session.getLines(range.start.row, range.end.row) : session.doc.getAllLines();
            var ranges = [];
            var re = options.re;
            if (options.$isMultiLine) {
              var len = re.length;
              var maxRow = lines.length - len;
              var prevRange;
              outer:
                for (var row = re.offset || 0; row <= maxRow; row++) {
                  for (var j = 0; j < len; j++)
                    if (lines[row + j].search(re[j]) == -1)
                      continue outer;
                  var startLine = lines[row];
                  var line = lines[row + len - 1];
                  var startIndex = startLine.length - startLine.match(re[0])[0].length;
                  var endIndex = line.match(re[len - 1])[0].length;
                  if (prevRange && prevRange.end.row === row && prevRange.end.column > startIndex) {
                    continue;
                  }
                  ranges.push(prevRange = new Range(
                    row,
                    startIndex,
                    row + len - 1,
                    endIndex
                  ));
                  if (len > 2)
                    row = row + len - 2;
                }
            } else {
              for (var i6 = 0; i6 < lines.length; i6++) {
                var matches = lang.getMatchOffsets(lines[i6], re);
                for (var j = 0; j < matches.length; j++) {
                  var match = matches[j];
                  ranges.push(new Range(i6, match.offset, i6, match.offset + match.length));
                }
              }
            }
            if (range) {
              var startColumn = range.start.column;
              var endColumn = range.start.column;
              var i6 = 0, j = ranges.length - 1;
              while (i6 < j && ranges[i6].start.column < startColumn && ranges[i6].start.row == range.start.row)
                i6++;
              while (i6 < j && ranges[j].end.column > endColumn && ranges[j].end.row == range.end.row)
                j--;
              ranges = ranges.slice(i6, j + 1);
              for (i6 = 0, j = ranges.length; i6 < j; i6++) {
                ranges[i6].start.row += range.start.row;
                ranges[i6].end.row += range.start.row;
              }
            }
            return ranges;
          };
          this.replace = function(input, replacement) {
            var options = this.$options;
            var re = this.$assembleRegExp(options);
            if (options.$isMultiLine)
              return replacement;
            if (!re)
              return;
            var match = re.exec(input);
            if (!match || match[0].length != input.length)
              return null;
            replacement = input.replace(re, replacement);
            if (options.preserveCase) {
              replacement = replacement.split("");
              for (var i6 = Math.min(input.length, input.length); i6--; ) {
                var ch = input[i6];
                if (ch && ch.toLowerCase() != ch)
                  replacement[i6] = replacement[i6].toUpperCase();
                else
                  replacement[i6] = replacement[i6].toLowerCase();
              }
              replacement = replacement.join("");
            }
            return replacement;
          };
          this.$assembleRegExp = function(options, $disableFakeMultiline) {
            if (options.needle instanceof RegExp)
              return options.re = options.needle;
            var needle = options.needle;
            if (!options.needle)
              return options.re = false;
            if (!options.regExp)
              needle = lang.escapeRegExp(needle);
            if (options.wholeWord)
              needle = addWordBoundary(needle, options);
            var modifier = options.caseSensitive ? "gm" : "gmi";
            options.$isMultiLine = !$disableFakeMultiline && /[\n\r]/.test(needle);
            if (options.$isMultiLine)
              return options.re = this.$assembleMultilineRegExp(needle, modifier);
            try {
              var re = new RegExp(needle, modifier);
            } catch (e10) {
              re = false;
            }
            return options.re = re;
          };
          this.$assembleMultilineRegExp = function(needle, modifier) {
            var parts = needle.replace(/\r\n|\r|\n/g, "$\n^").split("\n");
            var re = [];
            for (var i6 = 0; i6 < parts.length; i6++)
              try {
                re.push(new RegExp(parts[i6], modifier));
              } catch (e10) {
                return false;
              }
            return re;
          };
          this.$matchIterator = function(session, options) {
            var re = this.$assembleRegExp(options);
            if (!re)
              return false;
            var backwards = options.backwards == true;
            var skipCurrent = options.skipCurrent != false;
            var range = options.range;
            var start = options.start;
            if (!start)
              start = range ? range[backwards ? "end" : "start"] : session.selection.getRange();
            if (start.start)
              start = start[skipCurrent != backwards ? "end" : "start"];
            var firstRow = range ? range.start.row : 0;
            var lastRow = range ? range.end.row : session.getLength() - 1;
            if (backwards) {
              var forEach = function(callback) {
                var row = start.row;
                if (forEachInLine(row, start.column, callback))
                  return;
                for (row--; row >= firstRow; row--)
                  if (forEachInLine(row, Number.MAX_VALUE, callback))
                    return;
                if (options.wrap == false)
                  return;
                for (row = lastRow, firstRow = start.row; row >= firstRow; row--)
                  if (forEachInLine(row, Number.MAX_VALUE, callback))
                    return;
              };
            } else {
              var forEach = function(callback) {
                var row = start.row;
                if (forEachInLine(row, start.column, callback))
                  return;
                for (row = row + 1; row <= lastRow; row++)
                  if (forEachInLine(row, 0, callback))
                    return;
                if (options.wrap == false)
                  return;
                for (row = firstRow, lastRow = start.row; row <= lastRow; row++)
                  if (forEachInLine(row, 0, callback))
                    return;
              };
            }
            if (options.$isMultiLine) {
              var len = re.length;
              var forEachInLine = function(row, offset, callback) {
                var startRow = backwards ? row - len + 1 : row;
                if (startRow < 0 || startRow + len > session.getLength())
                  return;
                var line = session.getLine(startRow);
                var startIndex = line.search(re[0]);
                if (!backwards && startIndex < offset || startIndex === -1)
                  return;
                for (var i6 = 1; i6 < len; i6++) {
                  line = session.getLine(startRow + i6);
                  if (line.search(re[i6]) == -1)
                    return;
                }
                var endIndex = line.match(re[len - 1])[0].length;
                if (backwards && endIndex > offset)
                  return;
                if (callback(startRow, startIndex, startRow + len - 1, endIndex))
                  return true;
              };
            } else if (backwards) {
              var forEachInLine = function(row, endIndex, callback) {
                var line = session.getLine(row);
                var matches = [];
                var m2, last = 0;
                re.lastIndex = 0;
                while (m2 = re.exec(line)) {
                  var length = m2[0].length;
                  last = m2.index;
                  if (!length) {
                    if (last >= line.length)
                      break;
                    re.lastIndex = last += 1;
                  }
                  if (m2.index + length > endIndex)
                    break;
                  matches.push(m2.index, length);
                }
                for (var i6 = matches.length - 1; i6 >= 0; i6 -= 2) {
                  var column = matches[i6 - 1];
                  var length = matches[i6];
                  if (callback(row, column, row, column + length))
                    return true;
                }
              };
            } else {
              var forEachInLine = function(row, startIndex, callback) {
                var line = session.getLine(row);
                var last;
                var m2;
                re.lastIndex = startIndex;
                while (m2 = re.exec(line)) {
                  var length = m2[0].length;
                  last = m2.index;
                  if (callback(row, last, row, last + length))
                    return true;
                  if (!length) {
                    re.lastIndex = last += 1;
                    if (last >= line.length)
                      return false;
                  }
                }
              };
            }
            return { forEach };
          };
        }).call(Search.prototype);
        function addWordBoundary(needle, options) {
          function wordBoundary(c2) {
            if (/\w/.test(c2) || options.regExp)
              return "\\b";
            return "";
          }
          return wordBoundary(needle[0]) + needle + wordBoundary(needle[needle.length - 1]);
        }
        exports2.Search = Search;
      });
      ace.define("ace/keyboard/hash_handler", ["require", "exports", "module", "ace/lib/keys", "ace/lib/useragent"], function(require3, exports2, module2) {
        "use strict";
        var keyUtil = require3("../lib/keys");
        var useragent = require3("../lib/useragent");
        var KEY_MODS = keyUtil.KEY_MODS;
        function HashHandler(config2, platform) {
          this.platform = platform || (useragent.isMac ? "mac" : "win");
          this.commands = {};
          this.commandKeyBinding = {};
          this.addCommands(config2);
          this.$singleCommand = true;
        }
        function MultiHashHandler(config2, platform) {
          HashHandler.call(this, config2, platform);
          this.$singleCommand = false;
        }
        MultiHashHandler.prototype = HashHandler.prototype;
        (function() {
          this.addCommand = function(command) {
            if (this.commands[command.name])
              this.removeCommand(command);
            this.commands[command.name] = command;
            if (command.bindKey)
              this._buildKeyHash(command);
          };
          this.removeCommand = function(command, keepCommand) {
            var name2 = command && (typeof command === "string" ? command : command.name);
            command = this.commands[name2];
            if (!keepCommand)
              delete this.commands[name2];
            var ckb = this.commandKeyBinding;
            for (var keyId in ckb) {
              var cmdGroup = ckb[keyId];
              if (cmdGroup == command) {
                delete ckb[keyId];
              } else if (Array.isArray(cmdGroup)) {
                var i6 = cmdGroup.indexOf(command);
                if (i6 != -1) {
                  cmdGroup.splice(i6, 1);
                  if (cmdGroup.length == 1)
                    ckb[keyId] = cmdGroup[0];
                }
              }
            }
          };
          this.bindKey = function(key, command, position) {
            if (typeof key == "object" && key) {
              if (position == void 0)
                position = key.position;
              key = key[this.platform];
            }
            if (!key)
              return;
            if (typeof command == "function")
              return this.addCommand({ exec: command, bindKey: key, name: command.name || key });
            key.split("|").forEach(function(keyPart) {
              var chain = "";
              if (keyPart.indexOf(" ") != -1) {
                var parts = keyPart.split(/\s+/);
                keyPart = parts.pop();
                parts.forEach(function(keyPart2) {
                  var binding2 = this.parseKeys(keyPart2);
                  var id2 = KEY_MODS[binding2.hashId] + binding2.key;
                  chain += (chain ? " " : "") + id2;
                  this._addCommandToBinding(chain, "chainKeys");
                }, this);
                chain += " ";
              }
              var binding = this.parseKeys(keyPart);
              var id = KEY_MODS[binding.hashId] + binding.key;
              this._addCommandToBinding(chain + id, command, position);
            }, this);
          };
          function getPosition(command) {
            return typeof command == "object" && command.bindKey && command.bindKey.position || (command.isDefault ? -100 : 0);
          }
          this._addCommandToBinding = function(keyId, command, position) {
            var ckb = this.commandKeyBinding, i6;
            if (!command) {
              delete ckb[keyId];
            } else if (!ckb[keyId] || this.$singleCommand) {
              ckb[keyId] = command;
            } else {
              if (!Array.isArray(ckb[keyId])) {
                ckb[keyId] = [ckb[keyId]];
              } else if ((i6 = ckb[keyId].indexOf(command)) != -1) {
                ckb[keyId].splice(i6, 1);
              }
              if (typeof position != "number") {
                position = getPosition(command);
              }
              var commands = ckb[keyId];
              for (i6 = 0; i6 < commands.length; i6++) {
                var other = commands[i6];
                var otherPos = getPosition(other);
                if (otherPos > position)
                  break;
              }
              commands.splice(i6, 0, command);
            }
          };
          this.addCommands = function(commands) {
            commands && Object.keys(commands).forEach(function(name2) {
              var command = commands[name2];
              if (!command)
                return;
              if (typeof command === "string")
                return this.bindKey(command, name2);
              if (typeof command === "function")
                command = { exec: command };
              if (typeof command !== "object")
                return;
              if (!command.name)
                command.name = name2;
              this.addCommand(command);
            }, this);
          };
          this.removeCommands = function(commands) {
            Object.keys(commands).forEach(function(name2) {
              this.removeCommand(commands[name2]);
            }, this);
          };
          this.bindKeys = function(keyList) {
            Object.keys(keyList).forEach(function(key) {
              this.bindKey(key, keyList[key]);
            }, this);
          };
          this._buildKeyHash = function(command) {
            this.bindKey(command.bindKey, command);
          };
          this.parseKeys = function(keys) {
            var parts = keys.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(x2) {
              return x2;
            });
            var key = parts.pop();
            var keyCode = keyUtil[key];
            if (keyUtil.FUNCTION_KEYS[keyCode])
              key = keyUtil.FUNCTION_KEYS[keyCode].toLowerCase();
            else if (!parts.length)
              return { key, hashId: -1 };
            else if (parts.length == 1 && parts[0] == "shift")
              return { key: key.toUpperCase(), hashId: -1 };
            var hashId = 0;
            for (var i6 = parts.length; i6--; ) {
              var modifier = keyUtil.KEY_MODS[parts[i6]];
              if (modifier == null) {
                if (typeof console != "undefined")
                  console.error("invalid modifier " + parts[i6] + " in " + keys);
                return false;
              }
              hashId |= modifier;
            }
            return { key, hashId };
          };
          this.findKeyCommand = function findKeyCommand(hashId, keyString) {
            var key = KEY_MODS[hashId] + keyString;
            return this.commandKeyBinding[key];
          };
          this.handleKeyboard = function(data, hashId, keyString, keyCode) {
            if (keyCode < 0)
              return;
            var key = KEY_MODS[hashId] + keyString;
            var command = this.commandKeyBinding[key];
            if (data.$keyChain) {
              data.$keyChain += " " + key;
              command = this.commandKeyBinding[data.$keyChain] || command;
            }
            if (command) {
              if (command == "chainKeys" || command[command.length - 1] == "chainKeys") {
                data.$keyChain = data.$keyChain || key;
                return { command: "null" };
              }
            }
            if (data.$keyChain) {
              if ((!hashId || hashId == 4) && keyString.length == 1)
                data.$keyChain = data.$keyChain.slice(0, -key.length - 1);
              else if (hashId == -1 || keyCode > 0)
                data.$keyChain = "";
            }
            return { command };
          };
          this.getStatusText = function(editor, data) {
            return data.$keyChain || "";
          };
        }).call(HashHandler.prototype);
        exports2.HashHandler = HashHandler;
        exports2.MultiHashHandler = MultiHashHandler;
      });
      ace.define("ace/commands/command_manager", ["require", "exports", "module", "ace/lib/oop", "ace/keyboard/hash_handler", "ace/lib/event_emitter"], function(require3, exports2, module2) {
        "use strict";
        var oop = require3("../lib/oop");
        var MultiHashHandler = require3("../keyboard/hash_handler").MultiHashHandler;
        var EventEmitter = require3("../lib/event_emitter").EventEmitter;
        var CommandManager = function(platform, commands) {
          MultiHashHandler.call(this, commands, platform);
          this.byName = this.commands;
          this.setDefaultHandler("exec", function(e10) {
            if (!e10.args) {
              return e10.command.exec(e10.editor, {}, e10.event, true);
            }
            return e10.command.exec(e10.editor, e10.args, e10.event, false);
          });
        };
        oop.inherits(CommandManager, MultiHashHandler);
        (function() {
          oop.implement(this, EventEmitter);
          this.exec = function(command, editor, args) {
            if (Array.isArray(command)) {
              for (var i6 = command.length; i6--; ) {
                if (this.exec(command[i6], editor, args))
                  return true;
              }
              return false;
            }
            if (typeof command === "string")
              command = this.commands[command];
            if (!command)
              return false;
            if (editor && editor.$readOnly && !command.readOnly)
              return false;
            if (this.$checkCommandState != false && command.isAvailable && !command.isAvailable(editor))
              return false;
            var e10 = { editor, command, args };
            e10.returnValue = this._emit("exec", e10);
            this._signal("afterExec", e10);
            return e10.returnValue === false ? false : true;
          };
          this.toggleRecording = function(editor) {
            if (this.$inReplay)
              return;
            editor && editor._emit("changeStatus");
            if (this.recording) {
              this.macro.pop();
              this.off("exec", this.$addCommandToMacro);
              if (!this.macro.length)
                this.macro = this.oldMacro;
              return this.recording = false;
            }
            if (!this.$addCommandToMacro) {
              this.$addCommandToMacro = function(e10) {
                this.macro.push([e10.command, e10.args]);
              }.bind(this);
            }
            this.oldMacro = this.macro;
            this.macro = [];
            this.on("exec", this.$addCommandToMacro);
            return this.recording = true;
          };
          this.replay = function(editor) {
            if (this.$inReplay || !this.macro)
              return;
            if (this.recording)
              return this.toggleRecording(editor);
            try {
              this.$inReplay = true;
              this.macro.forEach(function(x2) {
                if (typeof x2 == "string")
                  this.exec(x2, editor);
                else
                  this.exec(x2[0], editor, x2[1]);
              }, this);
            } finally {
              this.$inReplay = false;
            }
          };
          this.trimMacro = function(m2) {
            return m2.map(function(x2) {
              if (typeof x2[0] != "string")
                x2[0] = x2[0].name;
              if (!x2[1])
                x2 = x2[0];
              return x2;
            });
          };
        }).call(CommandManager.prototype);
        exports2.CommandManager = CommandManager;
      });
      ace.define("ace/commands/default_commands", ["require", "exports", "module", "ace/lib/lang", "ace/config", "ace/range"], function(require3, exports2, module2) {
        "use strict";
        var lang = require3("../lib/lang");
        var config2 = require3("../config");
        var Range = require3("../range").Range;
        function bindKey(win, mac) {
          return { win, mac };
        }
        exports2.commands = [
          {
            name: "showSettingsMenu",
            description: "Show settings menu",
            bindKey: bindKey("Ctrl-,", "Command-,"),
            exec: function(editor) {
              config2.loadModule("ace/ext/settings_menu", function(module3) {
                module3.init(editor);
                editor.showSettingsMenu();
              });
            },
            readOnly: true
          },
          {
            name: "goToNextError",
            description: "Go to next error",
            bindKey: bindKey("Alt-E", "F4"),
            exec: function(editor) {
              config2.loadModule("./ext/error_marker", function(module3) {
                module3.showErrorMarker(editor, 1);
              });
            },
            scrollIntoView: "animate",
            readOnly: true
          },
          {
            name: "goToPreviousError",
            description: "Go to previous error",
            bindKey: bindKey("Alt-Shift-E", "Shift-F4"),
            exec: function(editor) {
              config2.loadModule("./ext/error_marker", function(module3) {
                module3.showErrorMarker(editor, -1);
              });
            },
            scrollIntoView: "animate",
            readOnly: true
          },
          {
            name: "selectall",
            description: "Select all",
            bindKey: bindKey("Ctrl-A", "Command-A"),
            exec: function(editor) {
              editor.selectAll();
            },
            readOnly: true
          },
          {
            name: "centerselection",
            description: "Center selection",
            bindKey: bindKey(null, "Ctrl-L"),
            exec: function(editor) {
              editor.centerSelection();
            },
            readOnly: true
          },
          {
            name: "gotoline",
            description: "Go to line...",
            bindKey: bindKey("Ctrl-L", "Command-L"),
            exec: function(editor, line) {
              if (typeof line === "number" && !isNaN(line))
                editor.gotoLine(line);
              editor.prompt({ $type: "gotoLine" });
            },
            readOnly: true
          },
          {
            name: "fold",
            bindKey: bindKey("Alt-L|Ctrl-F1", "Command-Alt-L|Command-F1"),
            exec: function(editor) {
              editor.session.toggleFold(false);
            },
            multiSelectAction: "forEach",
            scrollIntoView: "center",
            readOnly: true
          },
          {
            name: "unfold",
            bindKey: bindKey("Alt-Shift-L|Ctrl-Shift-F1", "Command-Alt-Shift-L|Command-Shift-F1"),
            exec: function(editor) {
              editor.session.toggleFold(true);
            },
            multiSelectAction: "forEach",
            scrollIntoView: "center",
            readOnly: true
          },
          {
            name: "toggleFoldWidget",
            description: "Toggle fold widget",
            bindKey: bindKey("F2", "F2"),
            exec: function(editor) {
              editor.session.toggleFoldWidget();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "center",
            readOnly: true
          },
          {
            name: "toggleParentFoldWidget",
            description: "Toggle parent fold widget",
            bindKey: bindKey("Alt-F2", "Alt-F2"),
            exec: function(editor) {
              editor.session.toggleFoldWidget(true);
            },
            multiSelectAction: "forEach",
            scrollIntoView: "center",
            readOnly: true
          },
          {
            name: "foldall",
            description: "Fold all",
            bindKey: bindKey(null, "Ctrl-Command-Option-0"),
            exec: function(editor) {
              editor.session.foldAll();
            },
            scrollIntoView: "center",
            readOnly: true
          },
          {
            name: "foldAllComments",
            description: "Fold all comments",
            bindKey: bindKey(null, "Ctrl-Command-Option-0"),
            exec: function(editor) {
              editor.session.foldAllComments();
            },
            scrollIntoView: "center",
            readOnly: true
          },
          {
            name: "foldOther",
            description: "Fold other",
            bindKey: bindKey("Alt-0", "Command-Option-0"),
            exec: function(editor) {
              editor.session.foldAll();
              editor.session.unfold(editor.selection.getAllRanges());
            },
            scrollIntoView: "center",
            readOnly: true
          },
          {
            name: "unfoldall",
            description: "Unfold all",
            bindKey: bindKey("Alt-Shift-0", "Command-Option-Shift-0"),
            exec: function(editor) {
              editor.session.unfold();
            },
            scrollIntoView: "center",
            readOnly: true
          },
          {
            name: "findnext",
            description: "Find next",
            bindKey: bindKey("Ctrl-K", "Command-G"),
            exec: function(editor) {
              editor.findNext();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "center",
            readOnly: true
          },
          {
            name: "findprevious",
            description: "Find previous",
            bindKey: bindKey("Ctrl-Shift-K", "Command-Shift-G"),
            exec: function(editor) {
              editor.findPrevious();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "center",
            readOnly: true
          },
          {
            name: "selectOrFindNext",
            description: "Select or find next",
            bindKey: bindKey("Alt-K", "Ctrl-G"),
            exec: function(editor) {
              if (editor.selection.isEmpty())
                editor.selection.selectWord();
              else
                editor.findNext();
            },
            readOnly: true
          },
          {
            name: "selectOrFindPrevious",
            description: "Select or find previous",
            bindKey: bindKey("Alt-Shift-K", "Ctrl-Shift-G"),
            exec: function(editor) {
              if (editor.selection.isEmpty())
                editor.selection.selectWord();
              else
                editor.findPrevious();
            },
            readOnly: true
          },
          {
            name: "find",
            description: "Find",
            bindKey: bindKey("Ctrl-F", "Command-F"),
            exec: function(editor) {
              config2.loadModule("ace/ext/searchbox", function(e10) {
                e10.Search(editor);
              });
            },
            readOnly: true
          },
          {
            name: "overwrite",
            description: "Overwrite",
            bindKey: "Insert",
            exec: function(editor) {
              editor.toggleOverwrite();
            },
            readOnly: true
          },
          {
            name: "selecttostart",
            description: "Select to start",
            bindKey: bindKey("Ctrl-Shift-Home", "Command-Shift-Home|Command-Shift-Up"),
            exec: function(editor) {
              editor.getSelection().selectFileStart();
            },
            multiSelectAction: "forEach",
            readOnly: true,
            scrollIntoView: "animate",
            aceCommandGroup: "fileJump"
          },
          {
            name: "gotostart",
            description: "Go to start",
            bindKey: bindKey("Ctrl-Home", "Command-Home|Command-Up"),
            exec: function(editor) {
              editor.navigateFileStart();
            },
            multiSelectAction: "forEach",
            readOnly: true,
            scrollIntoView: "animate",
            aceCommandGroup: "fileJump"
          },
          {
            name: "selectup",
            description: "Select up",
            bindKey: bindKey("Shift-Up", "Shift-Up|Ctrl-Shift-P"),
            exec: function(editor) {
              editor.getSelection().selectUp();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: true
          },
          {
            name: "golineup",
            description: "Go line up",
            bindKey: bindKey("Up", "Up|Ctrl-P"),
            exec: function(editor, args) {
              editor.navigateUp(args.times);
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: true
          },
          {
            name: "selecttoend",
            description: "Select to end",
            bindKey: bindKey("Ctrl-Shift-End", "Command-Shift-End|Command-Shift-Down"),
            exec: function(editor) {
              editor.getSelection().selectFileEnd();
            },
            multiSelectAction: "forEach",
            readOnly: true,
            scrollIntoView: "animate",
            aceCommandGroup: "fileJump"
          },
          {
            name: "gotoend",
            description: "Go to end",
            bindKey: bindKey("Ctrl-End", "Command-End|Command-Down"),
            exec: function(editor) {
              editor.navigateFileEnd();
            },
            multiSelectAction: "forEach",
            readOnly: true,
            scrollIntoView: "animate",
            aceCommandGroup: "fileJump"
          },
          {
            name: "selectdown",
            description: "Select down",
            bindKey: bindKey("Shift-Down", "Shift-Down|Ctrl-Shift-N"),
            exec: function(editor) {
              editor.getSelection().selectDown();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: true
          },
          {
            name: "golinedown",
            description: "Go line down",
            bindKey: bindKey("Down", "Down|Ctrl-N"),
            exec: function(editor, args) {
              editor.navigateDown(args.times);
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: true
          },
          {
            name: "selectwordleft",
            description: "Select word left",
            bindKey: bindKey("Ctrl-Shift-Left", "Option-Shift-Left"),
            exec: function(editor) {
              editor.getSelection().selectWordLeft();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: true
          },
          {
            name: "gotowordleft",
            description: "Go to word left",
            bindKey: bindKey("Ctrl-Left", "Option-Left"),
            exec: function(editor) {
              editor.navigateWordLeft();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: true
          },
          {
            name: "selecttolinestart",
            description: "Select to line start",
            bindKey: bindKey("Alt-Shift-Left", "Command-Shift-Left|Ctrl-Shift-A"),
            exec: function(editor) {
              editor.getSelection().selectLineStart();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: true
          },
          {
            name: "gotolinestart",
            description: "Go to line start",
            bindKey: bindKey("Alt-Left|Home", "Command-Left|Home|Ctrl-A"),
            exec: function(editor) {
              editor.navigateLineStart();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: true
          },
          {
            name: "selectleft",
            description: "Select left",
            bindKey: bindKey("Shift-Left", "Shift-Left|Ctrl-Shift-B"),
            exec: function(editor) {
              editor.getSelection().selectLeft();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: true
          },
          {
            name: "gotoleft",
            description: "Go to left",
            bindKey: bindKey("Left", "Left|Ctrl-B"),
            exec: function(editor, args) {
              editor.navigateLeft(args.times);
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: true
          },
          {
            name: "selectwordright",
            description: "Select word right",
            bindKey: bindKey("Ctrl-Shift-Right", "Option-Shift-Right"),
            exec: function(editor) {
              editor.getSelection().selectWordRight();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: true
          },
          {
            name: "gotowordright",
            description: "Go to word right",
            bindKey: bindKey("Ctrl-Right", "Option-Right"),
            exec: function(editor) {
              editor.navigateWordRight();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: true
          },
          {
            name: "selecttolineend",
            description: "Select to line end",
            bindKey: bindKey("Alt-Shift-Right", "Command-Shift-Right|Shift-End|Ctrl-Shift-E"),
            exec: function(editor) {
              editor.getSelection().selectLineEnd();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: true
          },
          {
            name: "gotolineend",
            description: "Go to line end",
            bindKey: bindKey("Alt-Right|End", "Command-Right|End|Ctrl-E"),
            exec: function(editor) {
              editor.navigateLineEnd();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: true
          },
          {
            name: "selectright",
            description: "Select right",
            bindKey: bindKey("Shift-Right", "Shift-Right"),
            exec: function(editor) {
              editor.getSelection().selectRight();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: true
          },
          {
            name: "gotoright",
            description: "Go to right",
            bindKey: bindKey("Right", "Right|Ctrl-F"),
            exec: function(editor, args) {
              editor.navigateRight(args.times);
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: true
          },
          {
            name: "selectpagedown",
            description: "Select page down",
            bindKey: "Shift-PageDown",
            exec: function(editor) {
              editor.selectPageDown();
            },
            readOnly: true
          },
          {
            name: "pagedown",
            description: "Page down",
            bindKey: bindKey(null, "Option-PageDown"),
            exec: function(editor) {
              editor.scrollPageDown();
            },
            readOnly: true
          },
          {
            name: "gotopagedown",
            description: "Go to page down",
            bindKey: bindKey("PageDown", "PageDown|Ctrl-V"),
            exec: function(editor) {
              editor.gotoPageDown();
            },
            readOnly: true
          },
          {
            name: "selectpageup",
            description: "Select page up",
            bindKey: "Shift-PageUp",
            exec: function(editor) {
              editor.selectPageUp();
            },
            readOnly: true
          },
          {
            name: "pageup",
            description: "Page up",
            bindKey: bindKey(null, "Option-PageUp"),
            exec: function(editor) {
              editor.scrollPageUp();
            },
            readOnly: true
          },
          {
            name: "gotopageup",
            description: "Go to page up",
            bindKey: "PageUp",
            exec: function(editor) {
              editor.gotoPageUp();
            },
            readOnly: true
          },
          {
            name: "scrollup",
            description: "Scroll up",
            bindKey: bindKey("Ctrl-Up", null),
            exec: function(e10) {
              e10.renderer.scrollBy(0, -2 * e10.renderer.layerConfig.lineHeight);
            },
            readOnly: true
          },
          {
            name: "scrolldown",
            description: "Scroll down",
            bindKey: bindKey("Ctrl-Down", null),
            exec: function(e10) {
              e10.renderer.scrollBy(0, 2 * e10.renderer.layerConfig.lineHeight);
            },
            readOnly: true
          },
          {
            name: "selectlinestart",
            description: "Select line start",
            bindKey: "Shift-Home",
            exec: function(editor) {
              editor.getSelection().selectLineStart();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: true
          },
          {
            name: "selectlineend",
            description: "Select line end",
            bindKey: "Shift-End",
            exec: function(editor) {
              editor.getSelection().selectLineEnd();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: true
          },
          {
            name: "togglerecording",
            description: "Toggle recording",
            bindKey: bindKey("Ctrl-Alt-E", "Command-Option-E"),
            exec: function(editor) {
              editor.commands.toggleRecording(editor);
            },
            readOnly: true
          },
          {
            name: "replaymacro",
            description: "Replay macro",
            bindKey: bindKey("Ctrl-Shift-E", "Command-Shift-E"),
            exec: function(editor) {
              editor.commands.replay(editor);
            },
            readOnly: true
          },
          {
            name: "jumptomatching",
            description: "Jump to matching",
            bindKey: bindKey("Ctrl-\\|Ctrl-P", "Command-\\"),
            exec: function(editor) {
              editor.jumpToMatching();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "animate",
            readOnly: true
          },
          {
            name: "selecttomatching",
            description: "Select to matching",
            bindKey: bindKey("Ctrl-Shift-\\|Ctrl-Shift-P", "Command-Shift-\\"),
            exec: function(editor) {
              editor.jumpToMatching(true);
            },
            multiSelectAction: "forEach",
            scrollIntoView: "animate",
            readOnly: true
          },
          {
            name: "expandToMatching",
            description: "Expand to matching",
            bindKey: bindKey("Ctrl-Shift-M", "Ctrl-Shift-M"),
            exec: function(editor) {
              editor.jumpToMatching(true, true);
            },
            multiSelectAction: "forEach",
            scrollIntoView: "animate",
            readOnly: true
          },
          {
            name: "passKeysToBrowser",
            description: "Pass keys to browser",
            bindKey: bindKey(null, null),
            exec: function() {
            },
            passEvent: true,
            readOnly: true
          },
          {
            name: "copy",
            description: "Copy",
            exec: function(editor) {
            },
            readOnly: true
          },
          {
            name: "cut",
            description: "Cut",
            exec: function(editor) {
              var cutLine = editor.$copyWithEmptySelection && editor.selection.isEmpty();
              var range = cutLine ? editor.selection.getLineRange() : editor.selection.getRange();
              editor._emit("cut", range);
              if (!range.isEmpty())
                editor.session.remove(range);
              editor.clearSelection();
            },
            scrollIntoView: "cursor",
            multiSelectAction: "forEach"
          },
          {
            name: "paste",
            description: "Paste",
            exec: function(editor, args) {
              editor.$handlePaste(args);
            },
            scrollIntoView: "cursor"
          },
          {
            name: "removeline",
            description: "Remove line",
            bindKey: bindKey("Ctrl-D", "Command-D"),
            exec: function(editor) {
              editor.removeLines();
            },
            scrollIntoView: "cursor",
            multiSelectAction: "forEachLine"
          },
          {
            name: "duplicateSelection",
            description: "Duplicate selection",
            bindKey: bindKey("Ctrl-Shift-D", "Command-Shift-D"),
            exec: function(editor) {
              editor.duplicateSelection();
            },
            scrollIntoView: "cursor",
            multiSelectAction: "forEach"
          },
          {
            name: "sortlines",
            description: "Sort lines",
            bindKey: bindKey("Ctrl-Alt-S", "Command-Alt-S"),
            exec: function(editor) {
              editor.sortLines();
            },
            scrollIntoView: "selection",
            multiSelectAction: "forEachLine"
          },
          {
            name: "togglecomment",
            description: "Toggle comment",
            bindKey: bindKey("Ctrl-/", "Command-/"),
            exec: function(editor) {
              editor.toggleCommentLines();
            },
            multiSelectAction: "forEachLine",
            scrollIntoView: "selectionPart"
          },
          {
            name: "toggleBlockComment",
            description: "Toggle block comment",
            bindKey: bindKey("Ctrl-Shift-/", "Command-Shift-/"),
            exec: function(editor) {
              editor.toggleBlockComment();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "selectionPart"
          },
          {
            name: "modifyNumberUp",
            description: "Modify number up",
            bindKey: bindKey("Ctrl-Shift-Up", "Alt-Shift-Up"),
            exec: function(editor) {
              editor.modifyNumber(1);
            },
            scrollIntoView: "cursor",
            multiSelectAction: "forEach"
          },
          {
            name: "modifyNumberDown",
            description: "Modify number down",
            bindKey: bindKey("Ctrl-Shift-Down", "Alt-Shift-Down"),
            exec: function(editor) {
              editor.modifyNumber(-1);
            },
            scrollIntoView: "cursor",
            multiSelectAction: "forEach"
          },
          {
            name: "replace",
            description: "Replace",
            bindKey: bindKey("Ctrl-H", "Command-Option-F"),
            exec: function(editor) {
              config2.loadModule("ace/ext/searchbox", function(e10) {
                e10.Search(editor, true);
              });
            }
          },
          {
            name: "undo",
            description: "Undo",
            bindKey: bindKey("Ctrl-Z", "Command-Z"),
            exec: function(editor) {
              editor.undo();
            }
          },
          {
            name: "redo",
            description: "Redo",
            bindKey: bindKey("Ctrl-Shift-Z|Ctrl-Y", "Command-Shift-Z|Command-Y"),
            exec: function(editor) {
              editor.redo();
            }
          },
          {
            name: "copylinesup",
            description: "Copy lines up",
            bindKey: bindKey("Alt-Shift-Up", "Command-Option-Up"),
            exec: function(editor) {
              editor.copyLinesUp();
            },
            scrollIntoView: "cursor"
          },
          {
            name: "movelinesup",
            description: "Move lines up",
            bindKey: bindKey("Alt-Up", "Option-Up"),
            exec: function(editor) {
              editor.moveLinesUp();
            },
            scrollIntoView: "cursor"
          },
          {
            name: "copylinesdown",
            description: "Copy lines down",
            bindKey: bindKey("Alt-Shift-Down", "Command-Option-Down"),
            exec: function(editor) {
              editor.copyLinesDown();
            },
            scrollIntoView: "cursor"
          },
          {
            name: "movelinesdown",
            description: "Move lines down",
            bindKey: bindKey("Alt-Down", "Option-Down"),
            exec: function(editor) {
              editor.moveLinesDown();
            },
            scrollIntoView: "cursor"
          },
          {
            name: "del",
            description: "Delete",
            bindKey: bindKey("Delete", "Delete|Ctrl-D|Shift-Delete"),
            exec: function(editor) {
              editor.remove("right");
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
          },
          {
            name: "backspace",
            description: "Backspace",
            bindKey: bindKey(
              "Shift-Backspace|Backspace",
              "Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"
            ),
            exec: function(editor) {
              editor.remove("left");
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
          },
          {
            name: "cut_or_delete",
            description: "Cut or delete",
            bindKey: bindKey("Shift-Delete", null),
            exec: function(editor) {
              if (editor.selection.isEmpty()) {
                editor.remove("left");
              } else {
                return false;
              }
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
          },
          {
            name: "removetolinestart",
            description: "Remove to line start",
            bindKey: bindKey("Alt-Backspace", "Command-Backspace"),
            exec: function(editor) {
              editor.removeToLineStart();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
          },
          {
            name: "removetolineend",
            description: "Remove to line end",
            bindKey: bindKey("Alt-Delete", "Ctrl-K|Command-Delete"),
            exec: function(editor) {
              editor.removeToLineEnd();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
          },
          {
            name: "removetolinestarthard",
            description: "Remove to line start hard",
            bindKey: bindKey("Ctrl-Shift-Backspace", null),
            exec: function(editor) {
              var range = editor.selection.getRange();
              range.start.column = 0;
              editor.session.remove(range);
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
          },
          {
            name: "removetolineendhard",
            description: "Remove to line end hard",
            bindKey: bindKey("Ctrl-Shift-Delete", null),
            exec: function(editor) {
              var range = editor.selection.getRange();
              range.end.column = Number.MAX_VALUE;
              editor.session.remove(range);
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
          },
          {
            name: "removewordleft",
            description: "Remove word left",
            bindKey: bindKey("Ctrl-Backspace", "Alt-Backspace|Ctrl-Alt-Backspace"),
            exec: function(editor) {
              editor.removeWordLeft();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
          },
          {
            name: "removewordright",
            description: "Remove word right",
            bindKey: bindKey("Ctrl-Delete", "Alt-Delete"),
            exec: function(editor) {
              editor.removeWordRight();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
          },
          {
            name: "outdent",
            description: "Outdent",
            bindKey: bindKey("Shift-Tab", "Shift-Tab"),
            exec: function(editor) {
              editor.blockOutdent();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "selectionPart"
          },
          {
            name: "indent",
            description: "Indent",
            bindKey: bindKey("Tab", "Tab"),
            exec: function(editor) {
              editor.indent();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "selectionPart"
          },
          {
            name: "blockoutdent",
            description: "Block outdent",
            bindKey: bindKey("Ctrl-[", "Ctrl-["),
            exec: function(editor) {
              editor.blockOutdent();
            },
            multiSelectAction: "forEachLine",
            scrollIntoView: "selectionPart"
          },
          {
            name: "blockindent",
            description: "Block indent",
            bindKey: bindKey("Ctrl-]", "Ctrl-]"),
            exec: function(editor) {
              editor.blockIndent();
            },
            multiSelectAction: "forEachLine",
            scrollIntoView: "selectionPart"
          },
          {
            name: "insertstring",
            description: "Insert string",
            exec: function(editor, str) {
              editor.insert(str);
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
          },
          {
            name: "inserttext",
            description: "Insert text",
            exec: function(editor, args) {
              editor.insert(lang.stringRepeat(args.text || "", args.times || 1));
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
          },
          {
            name: "splitline",
            description: "Split line",
            bindKey: bindKey(null, "Ctrl-O"),
            exec: function(editor) {
              editor.splitLine();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
          },
          {
            name: "transposeletters",
            description: "Transpose letters",
            bindKey: bindKey("Alt-Shift-X", "Ctrl-T"),
            exec: function(editor) {
              editor.transposeLetters();
            },
            multiSelectAction: function(editor) {
              editor.transposeSelections(1);
            },
            scrollIntoView: "cursor"
          },
          {
            name: "touppercase",
            description: "To uppercase",
            bindKey: bindKey("Ctrl-U", "Ctrl-U"),
            exec: function(editor) {
              editor.toUpperCase();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
          },
          {
            name: "tolowercase",
            description: "To lowercase",
            bindKey: bindKey("Ctrl-Shift-U", "Ctrl-Shift-U"),
            exec: function(editor) {
              editor.toLowerCase();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
          },
          {
            name: "autoindent",
            description: "Auto Indent",
            bindKey: bindKey(null, null),
            exec: function(editor) {
              editor.autoIndent();
            },
            multiSelectAction: "forEachLine",
            scrollIntoView: "animate"
          },
          {
            name: "expandtoline",
            description: "Expand to line",
            bindKey: bindKey("Ctrl-Shift-L", "Command-Shift-L"),
            exec: function(editor) {
              var range = editor.selection.getRange();
              range.start.column = range.end.column = 0;
              range.end.row++;
              editor.selection.setRange(range, false);
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor",
            readOnly: true
          },
          {
            name: "joinlines",
            description: "Join lines",
            bindKey: bindKey(null, null),
            exec: function(editor) {
              var isBackwards = editor.selection.isBackwards();
              var selectionStart = isBackwards ? editor.selection.getSelectionLead() : editor.selection.getSelectionAnchor();
              var selectionEnd = isBackwards ? editor.selection.getSelectionAnchor() : editor.selection.getSelectionLead();
              var firstLineEndCol = editor.session.doc.getLine(selectionStart.row).length;
              var selectedText = editor.session.doc.getTextRange(editor.selection.getRange());
              var selectedCount = selectedText.replace(/\n\s*/, " ").length;
              var insertLine = editor.session.doc.getLine(selectionStart.row);
              for (var i7 = selectionStart.row + 1; i7 <= selectionEnd.row + 1; i7++) {
                var curLine = lang.stringTrimLeft(lang.stringTrimRight(editor.session.doc.getLine(i7)));
                if (curLine.length !== 0) {
                  curLine = " " + curLine;
                }
                insertLine += curLine;
              }
              if (selectionEnd.row + 1 < editor.session.doc.getLength() - 1) {
                insertLine += editor.session.doc.getNewLineCharacter();
              }
              editor.clearSelection();
              editor.session.doc.replace(new Range(selectionStart.row, 0, selectionEnd.row + 2, 0), insertLine);
              if (selectedCount > 0) {
                editor.selection.moveCursorTo(selectionStart.row, selectionStart.column);
                editor.selection.selectTo(selectionStart.row, selectionStart.column + selectedCount);
              } else {
                firstLineEndCol = editor.session.doc.getLine(selectionStart.row).length > firstLineEndCol ? firstLineEndCol + 1 : firstLineEndCol;
                editor.selection.moveCursorTo(selectionStart.row, firstLineEndCol);
              }
            },
            multiSelectAction: "forEach",
            readOnly: true
          },
          {
            name: "invertSelection",
            description: "Invert selection",
            bindKey: bindKey(null, null),
            exec: function(editor) {
              var endRow = editor.session.doc.getLength() - 1;
              var endCol = editor.session.doc.getLine(endRow).length;
              var ranges = editor.selection.rangeList.ranges;
              var newRanges = [];
              if (ranges.length < 1) {
                ranges = [editor.selection.getRange()];
              }
              for (var i7 = 0; i7 < ranges.length; i7++) {
                if (i7 == ranges.length - 1) {
                  if (!(ranges[i7].end.row === endRow && ranges[i7].end.column === endCol)) {
                    newRanges.push(new Range(ranges[i7].end.row, ranges[i7].end.column, endRow, endCol));
                  }
                }
                if (i7 === 0) {
                  if (!(ranges[i7].start.row === 0 && ranges[i7].start.column === 0)) {
                    newRanges.push(new Range(0, 0, ranges[i7].start.row, ranges[i7].start.column));
                  }
                } else {
                  newRanges.push(new Range(ranges[i7 - 1].end.row, ranges[i7 - 1].end.column, ranges[i7].start.row, ranges[i7].start.column));
                }
              }
              editor.exitMultiSelectMode();
              editor.clearSelection();
              for (var i7 = 0; i7 < newRanges.length; i7++) {
                editor.selection.addRange(newRanges[i7], false);
              }
            },
            readOnly: true,
            scrollIntoView: "none"
          },
          {
            name: "addLineAfter",
            description: "Add new line after the current line",
            exec: function(editor) {
              editor.selection.clearSelection();
              editor.navigateLineEnd();
              editor.insert("\n");
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
          },
          {
            name: "addLineBefore",
            description: "Add new line before the current line",
            exec: function(editor) {
              editor.selection.clearSelection();
              var cursor = editor.getCursorPosition();
              editor.selection.moveTo(cursor.row - 1, Number.MAX_VALUE);
              editor.insert("\n");
              if (cursor.row === 0)
                editor.navigateUp();
            },
            multiSelectAction: "forEach",
            scrollIntoView: "cursor"
          },
          {
            name: "openCommandPallete",
            description: "Open command pallete",
            bindKey: bindKey("F1", "F1"),
            exec: function(editor) {
              editor.prompt({ $type: "commands" });
            },
            readOnly: true
          },
          {
            name: "modeSelect",
            description: "Change language mode...",
            bindKey: bindKey(null, null),
            exec: function(editor) {
              editor.prompt({ $type: "modes" });
            },
            readOnly: true
          }
        ];
        for (var i6 = 1; i6 < 9; i6++) {
          exports2.commands.push({
            name: "foldToLevel" + i6,
            description: "Fold To Level " + i6,
            level: i6,
            exec: function(editor) {
              editor.session.foldToLevel(this.level);
            },
            scrollIntoView: "center",
            readOnly: true
          });
        }
      });
      ace.define("ace/editor", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/lib/lang", "ace/lib/useragent", "ace/keyboard/textinput", "ace/mouse/mouse_handler", "ace/mouse/fold_handler", "ace/keyboard/keybinding", "ace/edit_session", "ace/search", "ace/range", "ace/lib/event_emitter", "ace/commands/command_manager", "ace/commands/default_commands", "ace/config", "ace/token_iterator", "ace/clipboard"], function(require3, exports2, module2) {
        "use strict";
        var oop = require3("./lib/oop");
        var dom = require3("./lib/dom");
        var lang = require3("./lib/lang");
        var useragent = require3("./lib/useragent");
        var TextInput = require3("./keyboard/textinput").TextInput;
        var MouseHandler = require3("./mouse/mouse_handler").MouseHandler;
        var FoldHandler = require3("./mouse/fold_handler").FoldHandler;
        var KeyBinding = require3("./keyboard/keybinding").KeyBinding;
        var EditSession2 = require3("./edit_session").EditSession;
        var Search = require3("./search").Search;
        var Range = require3("./range").Range;
        var EventEmitter = require3("./lib/event_emitter").EventEmitter;
        var CommandManager = require3("./commands/command_manager").CommandManager;
        var defaultCommands = require3("./commands/default_commands").commands;
        var config2 = require3("./config");
        var TokenIterator = require3("./token_iterator").TokenIterator;
        var clipboard = require3("./clipboard");
        var Editor = function(renderer, session, options) {
          this.$toDestroy = [];
          var container = renderer.getContainerElement();
          this.container = container;
          this.renderer = renderer;
          this.id = "editor" + ++Editor.$uid;
          this.commands = new CommandManager(useragent.isMac ? "mac" : "win", defaultCommands);
          if (typeof document == "object") {
            this.textInput = new TextInput(renderer.getTextAreaContainer(), this);
            this.renderer.textarea = this.textInput.getElement();
            this.$mouseHandler = new MouseHandler(this);
            new FoldHandler(this);
          }
          this.keyBinding = new KeyBinding(this);
          this.$search = new Search().set({
            wrap: true
          });
          this.$historyTracker = this.$historyTracker.bind(this);
          this.commands.on("exec", this.$historyTracker);
          this.$initOperationListeners();
          this._$emitInputEvent = lang.delayedCall(function() {
            this._signal("input", {});
            if (this.session && !this.session.destroyed)
              this.session.bgTokenizer.scheduleStart();
          }.bind(this));
          this.on("change", function(_2, _self) {
            _self._$emitInputEvent.schedule(31);
          });
          this.setSession(session || options && options.session || new EditSession2(""));
          config2.resetOptions(this);
          if (options)
            this.setOptions(options);
          config2._signal("editor", this);
        };
        Editor.$uid = 0;
        (function() {
          oop.implement(this, EventEmitter);
          this.$initOperationListeners = function() {
            this.commands.on("exec", this.startOperation.bind(this), true);
            this.commands.on("afterExec", this.endOperation.bind(this), true);
            this.$opResetTimer = lang.delayedCall(this.endOperation.bind(this, true));
            this.on("change", function() {
              if (!this.curOp) {
                this.startOperation();
                this.curOp.selectionBefore = this.$lastSel;
              }
              this.curOp.docChanged = true;
            }.bind(this), true);
            this.on("changeSelection", function() {
              if (!this.curOp) {
                this.startOperation();
                this.curOp.selectionBefore = this.$lastSel;
              }
              this.curOp.selectionChanged = true;
            }.bind(this), true);
          };
          this.curOp = null;
          this.prevOp = {};
          this.startOperation = function(commandEvent) {
            if (this.curOp) {
              if (!commandEvent || this.curOp.command)
                return;
              this.prevOp = this.curOp;
            }
            if (!commandEvent) {
              this.previousCommand = null;
              commandEvent = {};
            }
            this.$opResetTimer.schedule();
            this.curOp = this.session.curOp = {
              command: commandEvent.command || {},
              args: commandEvent.args,
              scrollTop: this.renderer.scrollTop
            };
            this.curOp.selectionBefore = this.selection.toJSON();
          };
          this.endOperation = function(e10) {
            if (this.curOp && this.session) {
              if (e10 && e10.returnValue === false || !this.session)
                return this.curOp = null;
              if (e10 == true && this.curOp.command && this.curOp.command.name == "mouse")
                return;
              this._signal("beforeEndOperation");
              if (!this.curOp)
                return;
              var command = this.curOp.command;
              var scrollIntoView = command && command.scrollIntoView;
              if (scrollIntoView) {
                switch (scrollIntoView) {
                  case "center-animate":
                    scrollIntoView = "animate";
                  case "center":
                    this.renderer.scrollCursorIntoView(null, 0.5);
                    break;
                  case "animate":
                  case "cursor":
                    this.renderer.scrollCursorIntoView();
                    break;
                  case "selectionPart":
                    var range = this.selection.getRange();
                    var config3 = this.renderer.layerConfig;
                    if (range.start.row >= config3.lastRow || range.end.row <= config3.firstRow) {
                      this.renderer.scrollSelectionIntoView(this.selection.anchor, this.selection.lead);
                    }
                    break;
                  default:
                    break;
                }
                if (scrollIntoView == "animate")
                  this.renderer.animateScrolling(this.curOp.scrollTop);
              }
              var sel = this.selection.toJSON();
              this.curOp.selectionAfter = sel;
              this.$lastSel = this.selection.toJSON();
              this.session.getUndoManager().addSelection(sel);
              this.prevOp = this.curOp;
              this.curOp = null;
            }
          };
          this.$mergeableCommands = ["backspace", "del", "insertstring"];
          this.$historyTracker = function(e10) {
            if (!this.$mergeUndoDeltas)
              return;
            var prev = this.prevOp;
            var mergeableCommands = this.$mergeableCommands;
            var shouldMerge = prev.command && e10.command.name == prev.command.name;
            if (e10.command.name == "insertstring") {
              var text = e10.args;
              if (this.mergeNextCommand === void 0)
                this.mergeNextCommand = true;
              shouldMerge = shouldMerge && this.mergeNextCommand && (!/\s/.test(text) || /\s/.test(prev.args));
              this.mergeNextCommand = true;
            } else {
              shouldMerge = shouldMerge && mergeableCommands.indexOf(e10.command.name) !== -1;
            }
            if (this.$mergeUndoDeltas != "always" && Date.now() - this.sequenceStartTime > 2e3) {
              shouldMerge = false;
            }
            if (shouldMerge)
              this.session.mergeUndoDeltas = true;
            else if (mergeableCommands.indexOf(e10.command.name) !== -1)
              this.sequenceStartTime = Date.now();
          };
          this.setKeyboardHandler = function(keyboardHandler, cb) {
            if (keyboardHandler && typeof keyboardHandler === "string" && keyboardHandler != "ace") {
              this.$keybindingId = keyboardHandler;
              var _self = this;
              config2.loadModule(["keybinding", keyboardHandler], function(module3) {
                if (_self.$keybindingId == keyboardHandler)
                  _self.keyBinding.setKeyboardHandler(module3 && module3.handler);
                cb && cb();
              });
            } else {
              this.$keybindingId = null;
              this.keyBinding.setKeyboardHandler(keyboardHandler);
              cb && cb();
            }
          };
          this.getKeyboardHandler = function() {
            return this.keyBinding.getKeyboardHandler();
          };
          this.setSession = function(session) {
            if (this.session == session)
              return;
            if (this.curOp)
              this.endOperation();
            this.curOp = {};
            var oldSession = this.session;
            if (oldSession) {
              this.session.off("change", this.$onDocumentChange);
              this.session.off("changeMode", this.$onChangeMode);
              this.session.off("tokenizerUpdate", this.$onTokenizerUpdate);
              this.session.off("changeTabSize", this.$onChangeTabSize);
              this.session.off("changeWrapLimit", this.$onChangeWrapLimit);
              this.session.off("changeWrapMode", this.$onChangeWrapMode);
              this.session.off("changeFold", this.$onChangeFold);
              this.session.off("changeFrontMarker", this.$onChangeFrontMarker);
              this.session.off("changeBackMarker", this.$onChangeBackMarker);
              this.session.off("changeBreakpoint", this.$onChangeBreakpoint);
              this.session.off("changeAnnotation", this.$onChangeAnnotation);
              this.session.off("changeOverwrite", this.$onCursorChange);
              this.session.off("changeScrollTop", this.$onScrollTopChange);
              this.session.off("changeScrollLeft", this.$onScrollLeftChange);
              var selection = this.session.getSelection();
              selection.off("changeCursor", this.$onCursorChange);
              selection.off("changeSelection", this.$onSelectionChange);
            }
            this.session = session;
            if (session) {
              this.$onDocumentChange = this.onDocumentChange.bind(this);
              session.on("change", this.$onDocumentChange);
              this.renderer.setSession(session);
              this.$onChangeMode = this.onChangeMode.bind(this);
              session.on("changeMode", this.$onChangeMode);
              this.$onTokenizerUpdate = this.onTokenizerUpdate.bind(this);
              session.on("tokenizerUpdate", this.$onTokenizerUpdate);
              this.$onChangeTabSize = this.renderer.onChangeTabSize.bind(this.renderer);
              session.on("changeTabSize", this.$onChangeTabSize);
              this.$onChangeWrapLimit = this.onChangeWrapLimit.bind(this);
              session.on("changeWrapLimit", this.$onChangeWrapLimit);
              this.$onChangeWrapMode = this.onChangeWrapMode.bind(this);
              session.on("changeWrapMode", this.$onChangeWrapMode);
              this.$onChangeFold = this.onChangeFold.bind(this);
              session.on("changeFold", this.$onChangeFold);
              this.$onChangeFrontMarker = this.onChangeFrontMarker.bind(this);
              this.session.on("changeFrontMarker", this.$onChangeFrontMarker);
              this.$onChangeBackMarker = this.onChangeBackMarker.bind(this);
              this.session.on("changeBackMarker", this.$onChangeBackMarker);
              this.$onChangeBreakpoint = this.onChangeBreakpoint.bind(this);
              this.session.on("changeBreakpoint", this.$onChangeBreakpoint);
              this.$onChangeAnnotation = this.onChangeAnnotation.bind(this);
              this.session.on("changeAnnotation", this.$onChangeAnnotation);
              this.$onCursorChange = this.onCursorChange.bind(this);
              this.session.on("changeOverwrite", this.$onCursorChange);
              this.$onScrollTopChange = this.onScrollTopChange.bind(this);
              this.session.on("changeScrollTop", this.$onScrollTopChange);
              this.$onScrollLeftChange = this.onScrollLeftChange.bind(this);
              this.session.on("changeScrollLeft", this.$onScrollLeftChange);
              this.selection = session.getSelection();
              this.selection.on("changeCursor", this.$onCursorChange);
              this.$onSelectionChange = this.onSelectionChange.bind(this);
              this.selection.on("changeSelection", this.$onSelectionChange);
              this.onChangeMode();
              this.onCursorChange();
              this.onScrollTopChange();
              this.onScrollLeftChange();
              this.onSelectionChange();
              this.onChangeFrontMarker();
              this.onChangeBackMarker();
              this.onChangeBreakpoint();
              this.onChangeAnnotation();
              this.session.getUseWrapMode() && this.renderer.adjustWrapLimit();
              this.renderer.updateFull();
            } else {
              this.selection = null;
              this.renderer.setSession(session);
            }
            this._signal("changeSession", {
              session,
              oldSession
            });
            this.curOp = null;
            oldSession && oldSession._signal("changeEditor", { oldEditor: this });
            session && session._signal("changeEditor", { editor: this });
            if (session && !session.destroyed)
              session.bgTokenizer.scheduleStart();
          };
          this.getSession = function() {
            return this.session;
          };
          this.setValue = function(val, cursorPos) {
            this.session.doc.setValue(val);
            if (!cursorPos)
              this.selectAll();
            else if (cursorPos == 1)
              this.navigateFileEnd();
            else if (cursorPos == -1)
              this.navigateFileStart();
            return val;
          };
          this.getValue = function() {
            return this.session.getValue();
          };
          this.getSelection = function() {
            return this.selection;
          };
          this.resize = function(force) {
            this.renderer.onResize(force);
          };
          this.setTheme = function(theme, cb) {
            this.renderer.setTheme(theme, cb);
          };
          this.getTheme = function() {
            return this.renderer.getTheme();
          };
          this.setStyle = function(style) {
            this.renderer.setStyle(style);
          };
          this.unsetStyle = function(style) {
            this.renderer.unsetStyle(style);
          };
          this.getFontSize = function() {
            return this.getOption("fontSize") || dom.computedStyle(this.container).fontSize;
          };
          this.setFontSize = function(size) {
            this.setOption("fontSize", size);
          };
          this.$highlightBrackets = function() {
            if (this.$highlightPending) {
              return;
            }
            var self = this;
            this.$highlightPending = true;
            setTimeout(function() {
              self.$highlightPending = false;
              var session = self.session;
              if (!session || session.destroyed)
                return;
              if (session.$bracketHighlight) {
                session.$bracketHighlight.markerIds.forEach(function(id) {
                  session.removeMarker(id);
                });
                session.$bracketHighlight = null;
              }
              var ranges = session.getMatchingBracketRanges(self.getCursorPosition());
              if (!ranges && session.$mode.getMatching)
                ranges = session.$mode.getMatching(self.session);
              if (!ranges)
                return;
              var markerType = "ace_bracket";
              if (!Array.isArray(ranges)) {
                ranges = [ranges];
              } else if (ranges.length == 1) {
                markerType = "ace_error_bracket";
              }
              if (ranges.length == 2) {
                if (Range.comparePoints(ranges[0].end, ranges[1].start) == 0)
                  ranges = [Range.fromPoints(ranges[0].start, ranges[1].end)];
                else if (Range.comparePoints(ranges[0].start, ranges[1].end) == 0)
                  ranges = [Range.fromPoints(ranges[1].start, ranges[0].end)];
              }
              session.$bracketHighlight = {
                ranges,
                markerIds: ranges.map(function(range) {
                  return session.addMarker(range, markerType, "text");
                })
              };
            }, 50);
          };
          this.$highlightTags = function() {
            if (this.$highlightTagPending)
              return;
            var self = this;
            this.$highlightTagPending = true;
            setTimeout(function() {
              self.$highlightTagPending = false;
              var session = self.session;
              if (!session || session.destroyed)
                return;
              var pos = self.getCursorPosition();
              var iterator = new TokenIterator(self.session, pos.row, pos.column);
              var token = iterator.getCurrentToken();
              if (!token || !/\b(?:tag-open|tag-name)/.test(token.type)) {
                session.removeMarker(session.$tagHighlight);
                session.$tagHighlight = null;
                return;
              }
              if (token.type.indexOf("tag-open") !== -1) {
                token = iterator.stepForward();
                if (!token)
                  return;
              }
              var tag = token.value;
              var currentTag = token.value;
              var depth = 0;
              var prevToken = iterator.stepBackward();
              if (prevToken.value === "<") {
                do {
                  prevToken = token;
                  token = iterator.stepForward();
                  if (token) {
                    if (token.type.indexOf("tag-name") !== -1) {
                      currentTag = token.value;
                      if (tag === currentTag) {
                        if (prevToken.value === "<") {
                          depth++;
                        } else if (prevToken.value === "</") {
                          depth--;
                        }
                      }
                    } else if (tag === currentTag && token.value === "/>") {
                      depth--;
                    }
                  }
                } while (token && depth >= 0);
              } else {
                do {
                  token = prevToken;
                  prevToken = iterator.stepBackward();
                  if (token) {
                    if (token.type.indexOf("tag-name") !== -1) {
                      if (tag === token.value) {
                        if (prevToken.value === "<") {
                          depth++;
                        } else if (prevToken.value === "</") {
                          depth--;
                        }
                      }
                    } else if (token.value === "/>") {
                      var stepCount = 0;
                      var tmpToken = prevToken;
                      while (tmpToken) {
                        if (tmpToken.type.indexOf("tag-name") !== -1 && tmpToken.value === tag) {
                          depth--;
                          break;
                        } else if (tmpToken.value === "<") {
                          break;
                        }
                        tmpToken = iterator.stepBackward();
                        stepCount++;
                      }
                      for (var i6 = 0; i6 < stepCount; i6++) {
                        iterator.stepForward();
                      }
                    }
                  }
                } while (prevToken && depth <= 0);
                iterator.stepForward();
              }
              if (!token) {
                session.removeMarker(session.$tagHighlight);
                session.$tagHighlight = null;
                return;
              }
              var row = iterator.getCurrentTokenRow();
              var column = iterator.getCurrentTokenColumn();
              var range = new Range(row, column, row, column + token.value.length);
              var sbm = session.$backMarkers[session.$tagHighlight];
              if (session.$tagHighlight && sbm != void 0 && range.compareRange(sbm.range) !== 0) {
                session.removeMarker(session.$tagHighlight);
                session.$tagHighlight = null;
              }
              if (!session.$tagHighlight)
                session.$tagHighlight = session.addMarker(range, "ace_bracket", "text");
            }, 50);
          };
          this.focus = function() {
            this.textInput.focus();
          };
          this.isFocused = function() {
            return this.textInput.isFocused();
          };
          this.blur = function() {
            this.textInput.blur();
          };
          this.onFocus = function(e10) {
            if (this.$isFocused)
              return;
            this.$isFocused = true;
            this.renderer.showCursor();
            this.renderer.visualizeFocus();
            this._emit("focus", e10);
          };
          this.onBlur = function(e10) {
            if (!this.$isFocused)
              return;
            this.$isFocused = false;
            this.renderer.hideCursor();
            this.renderer.visualizeBlur();
            this._emit("blur", e10);
          };
          this.$cursorChange = function() {
            this.renderer.updateCursor();
            this.$highlightBrackets();
            this.$highlightTags();
            this.$updateHighlightActiveLine();
          };
          this.onDocumentChange = function(delta) {
            var wrap = this.session.$useWrapMode;
            var lastRow = delta.start.row == delta.end.row ? delta.end.row : Infinity;
            this.renderer.updateLines(delta.start.row, lastRow, wrap);
            this._signal("change", delta);
            this.$cursorChange();
          };
          this.onTokenizerUpdate = function(e10) {
            var rows = e10.data;
            this.renderer.updateLines(rows.first, rows.last);
          };
          this.onScrollTopChange = function() {
            this.renderer.scrollToY(this.session.getScrollTop());
          };
          this.onScrollLeftChange = function() {
            this.renderer.scrollToX(this.session.getScrollLeft());
          };
          this.onCursorChange = function() {
            this.$cursorChange();
            this._signal("changeSelection");
          };
          this.$updateHighlightActiveLine = function() {
            var session = this.getSession();
            var highlight;
            if (this.$highlightActiveLine) {
              if (this.$selectionStyle != "line" || !this.selection.isMultiLine())
                highlight = this.getCursorPosition();
              if (this.renderer.theme && this.renderer.theme.$selectionColorConflict && !this.selection.isEmpty())
                highlight = false;
              if (this.renderer.$maxLines && this.session.getLength() === 1 && !(this.renderer.$minLines > 1))
                highlight = false;
            }
            if (session.$highlightLineMarker && !highlight) {
              session.removeMarker(session.$highlightLineMarker.id);
              session.$highlightLineMarker = null;
            } else if (!session.$highlightLineMarker && highlight) {
              var range = new Range(highlight.row, highlight.column, highlight.row, Infinity);
              range.id = session.addMarker(range, "ace_active-line", "screenLine");
              session.$highlightLineMarker = range;
            } else if (highlight) {
              session.$highlightLineMarker.start.row = highlight.row;
              session.$highlightLineMarker.end.row = highlight.row;
              session.$highlightLineMarker.start.column = highlight.column;
              session._signal("changeBackMarker");
            }
          };
          this.onSelectionChange = function(e10) {
            var session = this.session;
            if (session.$selectionMarker) {
              session.removeMarker(session.$selectionMarker);
            }
            session.$selectionMarker = null;
            if (!this.selection.isEmpty()) {
              var range = this.selection.getRange();
              var style = this.getSelectionStyle();
              session.$selectionMarker = session.addMarker(range, "ace_selection", style);
            } else {
              this.$updateHighlightActiveLine();
            }
            var re = this.$highlightSelectedWord && this.$getSelectionHighLightRegexp();
            this.session.highlight(re);
            this._signal("changeSelection");
          };
          this.$getSelectionHighLightRegexp = function() {
            var session = this.session;
            var selection = this.getSelectionRange();
            if (selection.isEmpty() || selection.isMultiLine())
              return;
            var startColumn = selection.start.column;
            var endColumn = selection.end.column;
            var line = session.getLine(selection.start.row);
            var needle = line.substring(startColumn, endColumn);
            if (needle.length > 5e3 || !/[\w\d]/.test(needle))
              return;
            var re = this.$search.$assembleRegExp({
              wholeWord: true,
              caseSensitive: true,
              needle
            });
            var wordWithBoundary = line.substring(startColumn - 1, endColumn + 1);
            if (!re.test(wordWithBoundary))
              return;
            return re;
          };
          this.onChangeFrontMarker = function() {
            this.renderer.updateFrontMarkers();
          };
          this.onChangeBackMarker = function() {
            this.renderer.updateBackMarkers();
          };
          this.onChangeBreakpoint = function() {
            this.renderer.updateBreakpoints();
          };
          this.onChangeAnnotation = function() {
            this.renderer.setAnnotations(this.session.getAnnotations());
          };
          this.onChangeMode = function(e10) {
            this.renderer.updateText();
            this._emit("changeMode", e10);
          };
          this.onChangeWrapLimit = function() {
            this.renderer.updateFull();
          };
          this.onChangeWrapMode = function() {
            this.renderer.onResize(true);
          };
          this.onChangeFold = function() {
            this.$updateHighlightActiveLine();
            this.renderer.updateFull();
          };
          this.getSelectedText = function() {
            return this.session.getTextRange(this.getSelectionRange());
          };
          this.getCopyText = function() {
            var text = this.getSelectedText();
            var nl = this.session.doc.getNewLineCharacter();
            var copyLine = false;
            if (!text && this.$copyWithEmptySelection) {
              copyLine = true;
              var ranges = this.selection.getAllRanges();
              for (var i6 = 0; i6 < ranges.length; i6++) {
                var range = ranges[i6];
                if (i6 && ranges[i6 - 1].start.row == range.start.row)
                  continue;
                text += this.session.getLine(range.start.row) + nl;
              }
            }
            var e10 = { text };
            this._signal("copy", e10);
            clipboard.lineMode = copyLine ? e10.text : false;
            return e10.text;
          };
          this.onCopy = function() {
            this.commands.exec("copy", this);
          };
          this.onCut = function() {
            this.commands.exec("cut", this);
          };
          this.onPaste = function(text, event) {
            var e10 = { text, event };
            this.commands.exec("paste", this, e10);
          };
          this.$handlePaste = function(e10) {
            if (typeof e10 == "string")
              e10 = { text: e10 };
            this._signal("paste", e10);
            var text = e10.text;
            var lineMode = text === clipboard.lineMode;
            var session = this.session;
            if (!this.inMultiSelectMode || this.inVirtualSelectionMode) {
              if (lineMode)
                session.insert({ row: this.selection.lead.row, column: 0 }, text);
              else
                this.insert(text);
            } else if (lineMode) {
              this.selection.rangeList.ranges.forEach(function(range2) {
                session.insert({ row: range2.start.row, column: 0 }, text);
              });
            } else {
              var lines = text.split(/\r\n|\r|\n/);
              var ranges = this.selection.rangeList.ranges;
              var isFullLine = lines.length == 2 && (!lines[0] || !lines[1]);
              if (lines.length != ranges.length || isFullLine)
                return this.commands.exec("insertstring", this, text);
              for (var i6 = ranges.length; i6--; ) {
                var range = ranges[i6];
                if (!range.isEmpty())
                  session.remove(range);
                session.insert(range.start, lines[i6]);
              }
            }
          };
          this.execCommand = function(command, args) {
            return this.commands.exec(command, this, args);
          };
          this.insert = function(text, pasted) {
            var session = this.session;
            var mode = session.getMode();
            var cursor = this.getCursorPosition();
            if (this.getBehavioursEnabled() && !pasted) {
              var transform = mode.transformAction(session.getState(cursor.row), "insertion", this, session, text);
              if (transform) {
                if (text !== transform.text) {
                  if (!this.inVirtualSelectionMode) {
                    this.session.mergeUndoDeltas = false;
                    this.mergeNextCommand = false;
                  }
                }
                text = transform.text;
              }
            }
            if (text == "	")
              text = this.session.getTabString();
            if (!this.selection.isEmpty()) {
              var range = this.getSelectionRange();
              cursor = this.session.remove(range);
              this.clearSelection();
            } else if (this.session.getOverwrite() && text.indexOf("\n") == -1) {
              var range = new Range.fromPoints(cursor, cursor);
              range.end.column += text.length;
              this.session.remove(range);
            }
            if (text == "\n" || text == "\r\n") {
              var line = session.getLine(cursor.row);
              if (cursor.column > line.search(/\S|$/)) {
                var d3 = line.substr(cursor.column).search(/\S|$/);
                session.doc.removeInLine(cursor.row, cursor.column, cursor.column + d3);
              }
            }
            this.clearSelection();
            var start = cursor.column;
            var lineState = session.getState(cursor.row);
            var line = session.getLine(cursor.row);
            var shouldOutdent = mode.checkOutdent(lineState, line, text);
            session.insert(cursor, text);
            if (transform && transform.selection) {
              if (transform.selection.length == 2) {
                this.selection.setSelectionRange(
                  new Range(
                    cursor.row,
                    start + transform.selection[0],
                    cursor.row,
                    start + transform.selection[1]
                  )
                );
              } else {
                this.selection.setSelectionRange(
                  new Range(
                    cursor.row + transform.selection[0],
                    transform.selection[1],
                    cursor.row + transform.selection[2],
                    transform.selection[3]
                  )
                );
              }
            }
            if (this.$enableAutoIndent) {
              if (session.getDocument().isNewLine(text)) {
                var lineIndent = mode.getNextLineIndent(lineState, line.slice(0, cursor.column), session.getTabString());
                session.insert({ row: cursor.row + 1, column: 0 }, lineIndent);
              }
              if (shouldOutdent)
                mode.autoOutdent(lineState, session, cursor.row);
            }
          };
          this.autoIndent = function() {
            var session = this.session;
            var mode = session.getMode();
            var startRow, endRow;
            if (this.selection.isEmpty()) {
              startRow = 0;
              endRow = session.doc.getLength() - 1;
            } else {
              var selectedRange = this.getSelectionRange();
              startRow = selectedRange.start.row;
              endRow = selectedRange.end.row;
            }
            var prevLineState = "";
            var prevLine = "";
            var lineIndent = "";
            var line, currIndent, range;
            var tab = session.getTabString();
            for (var row = startRow; row <= endRow; row++) {
              if (row > 0) {
                prevLineState = session.getState(row - 1);
                prevLine = session.getLine(row - 1);
                lineIndent = mode.getNextLineIndent(prevLineState, prevLine, tab);
              }
              line = session.getLine(row);
              currIndent = mode.$getIndent(line);
              if (lineIndent !== currIndent) {
                if (currIndent.length > 0) {
                  range = new Range(row, 0, row, currIndent.length);
                  session.remove(range);
                }
                if (lineIndent.length > 0) {
                  session.insert({ row, column: 0 }, lineIndent);
                }
              }
              mode.autoOutdent(prevLineState, session, row);
            }
          };
          this.onTextInput = function(text, composition) {
            if (!composition)
              return this.keyBinding.onTextInput(text);
            this.startOperation({ command: { name: "insertstring" } });
            var applyComposition = this.applyComposition.bind(this, text, composition);
            if (this.selection.rangeCount)
              this.forEachSelection(applyComposition);
            else
              applyComposition();
            this.endOperation();
          };
          this.applyComposition = function(text, composition) {
            if (composition.extendLeft || composition.extendRight) {
              var r5 = this.selection.getRange();
              r5.start.column -= composition.extendLeft;
              r5.end.column += composition.extendRight;
              if (r5.start.column < 0) {
                r5.start.row--;
                r5.start.column += this.session.getLine(r5.start.row).length + 1;
              }
              this.selection.setRange(r5);
              if (!text && !r5.isEmpty())
                this.remove();
            }
            if (text || !this.selection.isEmpty())
              this.insert(text, true);
            if (composition.restoreStart || composition.restoreEnd) {
              var r5 = this.selection.getRange();
              r5.start.column -= composition.restoreStart;
              r5.end.column -= composition.restoreEnd;
              this.selection.setRange(r5);
            }
          };
          this.onCommandKey = function(e10, hashId, keyCode) {
            return this.keyBinding.onCommandKey(e10, hashId, keyCode);
          };
          this.setOverwrite = function(overwrite) {
            this.session.setOverwrite(overwrite);
          };
          this.getOverwrite = function() {
            return this.session.getOverwrite();
          };
          this.toggleOverwrite = function() {
            this.session.toggleOverwrite();
          };
          this.setScrollSpeed = function(speed) {
            this.setOption("scrollSpeed", speed);
          };
          this.getScrollSpeed = function() {
            return this.getOption("scrollSpeed");
          };
          this.setDragDelay = function(dragDelay) {
            this.setOption("dragDelay", dragDelay);
          };
          this.getDragDelay = function() {
            return this.getOption("dragDelay");
          };
          this.setSelectionStyle = function(val) {
            this.setOption("selectionStyle", val);
          };
          this.getSelectionStyle = function() {
            return this.getOption("selectionStyle");
          };
          this.setHighlightActiveLine = function(shouldHighlight) {
            this.setOption("highlightActiveLine", shouldHighlight);
          };
          this.getHighlightActiveLine = function() {
            return this.getOption("highlightActiveLine");
          };
          this.setHighlightGutterLine = function(shouldHighlight) {
            this.setOption("highlightGutterLine", shouldHighlight);
          };
          this.getHighlightGutterLine = function() {
            return this.getOption("highlightGutterLine");
          };
          this.setHighlightSelectedWord = function(shouldHighlight) {
            this.setOption("highlightSelectedWord", shouldHighlight);
          };
          this.getHighlightSelectedWord = function() {
            return this.$highlightSelectedWord;
          };
          this.setAnimatedScroll = function(shouldAnimate) {
            this.renderer.setAnimatedScroll(shouldAnimate);
          };
          this.getAnimatedScroll = function() {
            return this.renderer.getAnimatedScroll();
          };
          this.setShowInvisibles = function(showInvisibles) {
            this.renderer.setShowInvisibles(showInvisibles);
          };
          this.getShowInvisibles = function() {
            return this.renderer.getShowInvisibles();
          };
          this.setDisplayIndentGuides = function(display) {
            this.renderer.setDisplayIndentGuides(display);
          };
          this.getDisplayIndentGuides = function() {
            return this.renderer.getDisplayIndentGuides();
          };
          this.setShowPrintMargin = function(showPrintMargin) {
            this.renderer.setShowPrintMargin(showPrintMargin);
          };
          this.getShowPrintMargin = function() {
            return this.renderer.getShowPrintMargin();
          };
          this.setPrintMarginColumn = function(showPrintMargin) {
            this.renderer.setPrintMarginColumn(showPrintMargin);
          };
          this.getPrintMarginColumn = function() {
            return this.renderer.getPrintMarginColumn();
          };
          this.setReadOnly = function(readOnly) {
            this.setOption("readOnly", readOnly);
          };
          this.getReadOnly = function() {
            return this.getOption("readOnly");
          };
          this.setBehavioursEnabled = function(enabled) {
            this.setOption("behavioursEnabled", enabled);
          };
          this.getBehavioursEnabled = function() {
            return this.getOption("behavioursEnabled");
          };
          this.setWrapBehavioursEnabled = function(enabled) {
            this.setOption("wrapBehavioursEnabled", enabled);
          };
          this.getWrapBehavioursEnabled = function() {
            return this.getOption("wrapBehavioursEnabled");
          };
          this.setShowFoldWidgets = function(show) {
            this.setOption("showFoldWidgets", show);
          };
          this.getShowFoldWidgets = function() {
            return this.getOption("showFoldWidgets");
          };
          this.setFadeFoldWidgets = function(fade) {
            this.setOption("fadeFoldWidgets", fade);
          };
          this.getFadeFoldWidgets = function() {
            return this.getOption("fadeFoldWidgets");
          };
          this.remove = function(dir) {
            if (this.selection.isEmpty()) {
              if (dir == "left")
                this.selection.selectLeft();
              else
                this.selection.selectRight();
            }
            var range = this.getSelectionRange();
            if (this.getBehavioursEnabled()) {
              var session = this.session;
              var state = session.getState(range.start.row);
              var new_range = session.getMode().transformAction(state, "deletion", this, session, range);
              if (range.end.column === 0) {
                var text = session.getTextRange(range);
                if (text[text.length - 1] == "\n") {
                  var line = session.getLine(range.end.row);
                  if (/^\s+$/.test(line)) {
                    range.end.column = line.length;
                  }
                }
              }
              if (new_range)
                range = new_range;
            }
            this.session.remove(range);
            this.clearSelection();
          };
          this.removeWordRight = function() {
            if (this.selection.isEmpty())
              this.selection.selectWordRight();
            this.session.remove(this.getSelectionRange());
            this.clearSelection();
          };
          this.removeWordLeft = function() {
            if (this.selection.isEmpty())
              this.selection.selectWordLeft();
            this.session.remove(this.getSelectionRange());
            this.clearSelection();
          };
          this.removeToLineStart = function() {
            if (this.selection.isEmpty())
              this.selection.selectLineStart();
            if (this.selection.isEmpty())
              this.selection.selectLeft();
            this.session.remove(this.getSelectionRange());
            this.clearSelection();
          };
          this.removeToLineEnd = function() {
            if (this.selection.isEmpty())
              this.selection.selectLineEnd();
            var range = this.getSelectionRange();
            if (range.start.column == range.end.column && range.start.row == range.end.row) {
              range.end.column = 0;
              range.end.row++;
            }
            this.session.remove(range);
            this.clearSelection();
          };
          this.splitLine = function() {
            if (!this.selection.isEmpty()) {
              this.session.remove(this.getSelectionRange());
              this.clearSelection();
            }
            var cursor = this.getCursorPosition();
            this.insert("\n");
            this.moveCursorToPosition(cursor);
          };
          this.transposeLetters = function() {
            if (!this.selection.isEmpty()) {
              return;
            }
            var cursor = this.getCursorPosition();
            var column = cursor.column;
            if (column === 0)
              return;
            var line = this.session.getLine(cursor.row);
            var swap, range;
            if (column < line.length) {
              swap = line.charAt(column) + line.charAt(column - 1);
              range = new Range(cursor.row, column - 1, cursor.row, column + 1);
            } else {
              swap = line.charAt(column - 1) + line.charAt(column - 2);
              range = new Range(cursor.row, column - 2, cursor.row, column);
            }
            this.session.replace(range, swap);
            this.session.selection.moveToPosition(range.end);
          };
          this.toLowerCase = function() {
            var originalRange = this.getSelectionRange();
            if (this.selection.isEmpty()) {
              this.selection.selectWord();
            }
            var range = this.getSelectionRange();
            var text = this.session.getTextRange(range);
            this.session.replace(range, text.toLowerCase());
            this.selection.setSelectionRange(originalRange);
          };
          this.toUpperCase = function() {
            var originalRange = this.getSelectionRange();
            if (this.selection.isEmpty()) {
              this.selection.selectWord();
            }
            var range = this.getSelectionRange();
            var text = this.session.getTextRange(range);
            this.session.replace(range, text.toUpperCase());
            this.selection.setSelectionRange(originalRange);
          };
          this.indent = function() {
            var session = this.session;
            var range = this.getSelectionRange();
            if (range.start.row < range.end.row) {
              var rows = this.$getSelectedRows();
              session.indentRows(rows.first, rows.last, "	");
              return;
            } else if (range.start.column < range.end.column) {
              var text = session.getTextRange(range);
              if (!/^\s+$/.test(text)) {
                var rows = this.$getSelectedRows();
                session.indentRows(rows.first, rows.last, "	");
                return;
              }
            }
            var line = session.getLine(range.start.row);
            var position = range.start;
            var size = session.getTabSize();
            var column = session.documentToScreenColumn(position.row, position.column);
            if (this.session.getUseSoftTabs()) {
              var count = size - column % size;
              var indentString = lang.stringRepeat(" ", count);
            } else {
              var count = column % size;
              while (line[range.start.column - 1] == " " && count) {
                range.start.column--;
                count--;
              }
              this.selection.setSelectionRange(range);
              indentString = "	";
            }
            return this.insert(indentString);
          };
          this.blockIndent = function() {
            var rows = this.$getSelectedRows();
            this.session.indentRows(rows.first, rows.last, "	");
          };
          this.blockOutdent = function() {
            var selection = this.session.getSelection();
            this.session.outdentRows(selection.getRange());
          };
          this.sortLines = function() {
            var rows = this.$getSelectedRows();
            var session = this.session;
            var lines = [];
            for (var i6 = rows.first; i6 <= rows.last; i6++)
              lines.push(session.getLine(i6));
            lines.sort(function(a3, b2) {
              if (a3.toLowerCase() < b2.toLowerCase())
                return -1;
              if (a3.toLowerCase() > b2.toLowerCase())
                return 1;
              return 0;
            });
            var deleteRange = new Range(0, 0, 0, 0);
            for (var i6 = rows.first; i6 <= rows.last; i6++) {
              var line = session.getLine(i6);
              deleteRange.start.row = i6;
              deleteRange.end.row = i6;
              deleteRange.end.column = line.length;
              session.replace(deleteRange, lines[i6 - rows.first]);
            }
          };
          this.toggleCommentLines = function() {
            var state = this.session.getState(this.getCursorPosition().row);
            var rows = this.$getSelectedRows();
            this.session.getMode().toggleCommentLines(state, this.session, rows.first, rows.last);
          };
          this.toggleBlockComment = function() {
            var cursor = this.getCursorPosition();
            var state = this.session.getState(cursor.row);
            var range = this.getSelectionRange();
            this.session.getMode().toggleBlockComment(state, this.session, range, cursor);
          };
          this.getNumberAt = function(row, column) {
            var _numberRx = /[\-]?[0-9]+(?:\.[0-9]+)?/g;
            _numberRx.lastIndex = 0;
            var s5 = this.session.getLine(row);
            while (_numberRx.lastIndex < column) {
              var m2 = _numberRx.exec(s5);
              if (m2.index <= column && m2.index + m2[0].length >= column) {
                var number = {
                  value: m2[0],
                  start: m2.index,
                  end: m2.index + m2[0].length
                };
                return number;
              }
            }
            return null;
          };
          this.modifyNumber = function(amount) {
            var row = this.selection.getCursor().row;
            var column = this.selection.getCursor().column;
            var charRange = new Range(row, column - 1, row, column);
            var c2 = this.session.getTextRange(charRange);
            if (!isNaN(parseFloat(c2)) && isFinite(c2)) {
              var nr = this.getNumberAt(row, column);
              if (nr) {
                var fp = nr.value.indexOf(".") >= 0 ? nr.start + nr.value.indexOf(".") + 1 : nr.end;
                var decimals = nr.start + nr.value.length - fp;
                var t5 = parseFloat(nr.value);
                t5 *= Math.pow(10, decimals);
                if (fp !== nr.end && column < fp) {
                  amount *= Math.pow(10, nr.end - column - 1);
                } else {
                  amount *= Math.pow(10, nr.end - column);
                }
                t5 += amount;
                t5 /= Math.pow(10, decimals);
                var nnr = t5.toFixed(decimals);
                var replaceRange = new Range(row, nr.start, row, nr.end);
                this.session.replace(replaceRange, nnr);
                this.moveCursorTo(row, Math.max(nr.start + 1, column + nnr.length - nr.value.length));
              }
            } else {
              this.toggleWord();
            }
          };
          this.$toggleWordPairs = [
            ["first", "last"],
            ["true", "false"],
            ["yes", "no"],
            ["width", "height"],
            ["top", "bottom"],
            ["right", "left"],
            ["on", "off"],
            ["x", "y"],
            ["get", "set"],
            ["max", "min"],
            ["horizontal", "vertical"],
            ["show", "hide"],
            ["add", "remove"],
            ["up", "down"],
            ["before", "after"],
            ["even", "odd"],
            ["in", "out"],
            ["inside", "outside"],
            ["next", "previous"],
            ["increase", "decrease"],
            ["attach", "detach"],
            ["&&", "||"],
            ["==", "!="]
          ];
          this.toggleWord = function() {
            var row = this.selection.getCursor().row;
            var column = this.selection.getCursor().column;
            this.selection.selectWord();
            var currentState = this.getSelectedText();
            var currWordStart = this.selection.getWordRange().start.column;
            var wordParts = currentState.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g, "$1 ").split(/\s/);
            var delta = column - currWordStart - 1;
            if (delta < 0)
              delta = 0;
            var curLength = 0, itLength = 0;
            var that = this;
            if (currentState.match(/[A-Za-z0-9_]+/)) {
              wordParts.forEach(function(item2, i7) {
                itLength = curLength + item2.length;
                if (delta >= curLength && delta <= itLength) {
                  currentState = item2;
                  that.selection.clearSelection();
                  that.moveCursorTo(row, curLength + currWordStart);
                  that.selection.selectTo(row, itLength + currWordStart);
                }
                curLength = itLength;
              });
            }
            var wordPairs = this.$toggleWordPairs;
            var reg;
            for (var i6 = 0; i6 < wordPairs.length; i6++) {
              var item = wordPairs[i6];
              for (var j = 0; j <= 1; j++) {
                var negate = +!j;
                var firstCondition = currentState.match(new RegExp("^\\s?_?(" + lang.escapeRegExp(item[j]) + ")\\s?$", "i"));
                if (firstCondition) {
                  var secondCondition = currentState.match(new RegExp("([_]|^|\\s)(" + lang.escapeRegExp(firstCondition[1]) + ")($|\\s)", "g"));
                  if (secondCondition) {
                    reg = currentState.replace(new RegExp(lang.escapeRegExp(item[j]), "i"), function(result) {
                      var res = item[negate];
                      if (result.toUpperCase() == result) {
                        res = res.toUpperCase();
                      } else if (result.charAt(0).toUpperCase() == result.charAt(0)) {
                        res = res.substr(0, 0) + item[negate].charAt(0).toUpperCase() + res.substr(1);
                      }
                      return res;
                    });
                    this.insert(reg);
                    reg = "";
                  }
                }
              }
            }
          };
          this.removeLines = function() {
            var rows = this.$getSelectedRows();
            this.session.removeFullLines(rows.first, rows.last);
            this.clearSelection();
          };
          this.duplicateSelection = function() {
            var sel = this.selection;
            var doc = this.session;
            var range = sel.getRange();
            var reverse = sel.isBackwards();
            if (range.isEmpty()) {
              var row = range.start.row;
              doc.duplicateLines(row, row);
            } else {
              var point = reverse ? range.start : range.end;
              var endPoint = doc.insert(point, doc.getTextRange(range), false);
              range.start = point;
              range.end = endPoint;
              sel.setSelectionRange(range, reverse);
            }
          };
          this.moveLinesDown = function() {
            this.$moveLines(1, false);
          };
          this.moveLinesUp = function() {
            this.$moveLines(-1, false);
          };
          this.moveText = function(range, toPosition, copy) {
            return this.session.moveText(range, toPosition, copy);
          };
          this.copyLinesUp = function() {
            this.$moveLines(-1, true);
          };
          this.copyLinesDown = function() {
            this.$moveLines(1, true);
          };
          this.$moveLines = function(dir, copy) {
            var rows, moved;
            var selection = this.selection;
            if (!selection.inMultiSelectMode || this.inVirtualSelectionMode) {
              var range = selection.toOrientedRange();
              rows = this.$getSelectedRows(range);
              moved = this.session.$moveLines(rows.first, rows.last, copy ? 0 : dir);
              if (copy && dir == -1)
                moved = 0;
              range.moveBy(moved, 0);
              selection.fromOrientedRange(range);
            } else {
              var ranges = selection.rangeList.ranges;
              selection.rangeList.detach(this.session);
              this.inVirtualSelectionMode = true;
              var diff = 0;
              var totalDiff = 0;
              var l7 = ranges.length;
              for (var i6 = 0; i6 < l7; i6++) {
                var rangeIndex = i6;
                ranges[i6].moveBy(diff, 0);
                rows = this.$getSelectedRows(ranges[i6]);
                var first = rows.first;
                var last = rows.last;
                while (++i6 < l7) {
                  if (totalDiff)
                    ranges[i6].moveBy(totalDiff, 0);
                  var subRows = this.$getSelectedRows(ranges[i6]);
                  if (copy && subRows.first != last)
                    break;
                  else if (!copy && subRows.first > last + 1)
                    break;
                  last = subRows.last;
                }
                i6--;
                diff = this.session.$moveLines(first, last, copy ? 0 : dir);
                if (copy && dir == -1)
                  rangeIndex = i6 + 1;
                while (rangeIndex <= i6) {
                  ranges[rangeIndex].moveBy(diff, 0);
                  rangeIndex++;
                }
                if (!copy)
                  diff = 0;
                totalDiff += diff;
              }
              selection.fromOrientedRange(selection.ranges[0]);
              selection.rangeList.attach(this.session);
              this.inVirtualSelectionMode = false;
            }
          };
          this.$getSelectedRows = function(range) {
            range = (range || this.getSelectionRange()).collapseRows();
            return {
              first: this.session.getRowFoldStart(range.start.row),
              last: this.session.getRowFoldEnd(range.end.row)
            };
          };
          this.onCompositionStart = function(compositionState) {
            this.renderer.showComposition(compositionState);
          };
          this.onCompositionUpdate = function(text) {
            this.renderer.setCompositionText(text);
          };
          this.onCompositionEnd = function() {
            this.renderer.hideComposition();
          };
          this.getFirstVisibleRow = function() {
            return this.renderer.getFirstVisibleRow();
          };
          this.getLastVisibleRow = function() {
            return this.renderer.getLastVisibleRow();
          };
          this.isRowVisible = function(row) {
            return row >= this.getFirstVisibleRow() && row <= this.getLastVisibleRow();
          };
          this.isRowFullyVisible = function(row) {
            return row >= this.renderer.getFirstFullyVisibleRow() && row <= this.renderer.getLastFullyVisibleRow();
          };
          this.$getVisibleRowCount = function() {
            return this.renderer.getScrollBottomRow() - this.renderer.getScrollTopRow() + 1;
          };
          this.$moveByPage = function(dir, select) {
            var renderer = this.renderer;
            var config3 = this.renderer.layerConfig;
            var rows = dir * Math.floor(config3.height / config3.lineHeight);
            if (select === true) {
              this.selection.$moveSelection(function() {
                this.moveCursorBy(rows, 0);
              });
            } else if (select === false) {
              this.selection.moveCursorBy(rows, 0);
              this.selection.clearSelection();
            }
            var scrollTop = renderer.scrollTop;
            renderer.scrollBy(0, rows * config3.lineHeight);
            if (select != null)
              renderer.scrollCursorIntoView(null, 0.5);
            renderer.animateScrolling(scrollTop);
          };
          this.selectPageDown = function() {
            this.$moveByPage(1, true);
          };
          this.selectPageUp = function() {
            this.$moveByPage(-1, true);
          };
          this.gotoPageDown = function() {
            this.$moveByPage(1, false);
          };
          this.gotoPageUp = function() {
            this.$moveByPage(-1, false);
          };
          this.scrollPageDown = function() {
            this.$moveByPage(1);
          };
          this.scrollPageUp = function() {
            this.$moveByPage(-1);
          };
          this.scrollToRow = function(row) {
            this.renderer.scrollToRow(row);
          };
          this.scrollToLine = function(line, center, animate, callback) {
            this.renderer.scrollToLine(line, center, animate, callback);
          };
          this.centerSelection = function() {
            var range = this.getSelectionRange();
            var pos = {
              row: Math.floor(range.start.row + (range.end.row - range.start.row) / 2),
              column: Math.floor(range.start.column + (range.end.column - range.start.column) / 2)
            };
            this.renderer.alignCursor(pos, 0.5);
          };
          this.getCursorPosition = function() {
            return this.selection.getCursor();
          };
          this.getCursorPositionScreen = function() {
            return this.session.documentToScreenPosition(this.getCursorPosition());
          };
          this.getSelectionRange = function() {
            return this.selection.getRange();
          };
          this.selectAll = function() {
            this.selection.selectAll();
          };
          this.clearSelection = function() {
            this.selection.clearSelection();
          };
          this.moveCursorTo = function(row, column) {
            this.selection.moveCursorTo(row, column);
          };
          this.moveCursorToPosition = function(pos) {
            this.selection.moveCursorToPosition(pos);
          };
          this.jumpToMatching = function(select, expand) {
            var cursor = this.getCursorPosition();
            var iterator = new TokenIterator(this.session, cursor.row, cursor.column);
            var prevToken = iterator.getCurrentToken();
            var token = prevToken || iterator.stepForward();
            if (!token)
              return;
            var matchType;
            var found = false;
            var depth = {};
            var i6 = cursor.column - token.start;
            var bracketType;
            var brackets = {
              ")": "(",
              "(": "(",
              "]": "[",
              "[": "[",
              "{": "{",
              "}": "{"
            };
            do {
              if (token.value.match(/[{}()\[\]]/g)) {
                for (; i6 < token.value.length && !found; i6++) {
                  if (!brackets[token.value[i6]]) {
                    continue;
                  }
                  bracketType = brackets[token.value[i6]] + "." + token.type.replace("rparen", "lparen");
                  if (isNaN(depth[bracketType])) {
                    depth[bracketType] = 0;
                  }
                  switch (token.value[i6]) {
                    case "(":
                    case "[":
                    case "{":
                      depth[bracketType]++;
                      break;
                    case ")":
                    case "]":
                    case "}":
                      depth[bracketType]--;
                      if (depth[bracketType] === -1) {
                        matchType = "bracket";
                        found = true;
                      }
                      break;
                  }
                }
              } else if (token.type.indexOf("tag-name") !== -1) {
                if (isNaN(depth[token.value])) {
                  depth[token.value] = 0;
                }
                if (prevToken.value === "<") {
                  depth[token.value]++;
                } else if (prevToken.value === "</") {
                  depth[token.value]--;
                }
                if (depth[token.value] === -1) {
                  matchType = "tag";
                  found = true;
                }
              }
              if (!found) {
                prevToken = token;
                token = iterator.stepForward();
                i6 = 0;
              }
            } while (token && !found);
            if (!matchType)
              return;
            var range, pos;
            if (matchType === "bracket") {
              range = this.session.getBracketRange(cursor);
              if (!range) {
                range = new Range(
                  iterator.getCurrentTokenRow(),
                  iterator.getCurrentTokenColumn() + i6 - 1,
                  iterator.getCurrentTokenRow(),
                  iterator.getCurrentTokenColumn() + i6 - 1
                );
                pos = range.start;
                if (expand || pos.row === cursor.row && Math.abs(pos.column - cursor.column) < 2)
                  range = this.session.getBracketRange(pos);
              }
            } else if (matchType === "tag") {
              if (token && token.type.indexOf("tag-name") !== -1)
                var tag = token.value;
              else
                return;
              range = new Range(
                iterator.getCurrentTokenRow(),
                iterator.getCurrentTokenColumn() - 2,
                iterator.getCurrentTokenRow(),
                iterator.getCurrentTokenColumn() - 2
              );
              if (range.compare(cursor.row, cursor.column) === 0) {
                found = false;
                do {
                  token = prevToken;
                  prevToken = iterator.stepBackward();
                  if (prevToken) {
                    if (prevToken.type.indexOf("tag-close") !== -1) {
                      range.setEnd(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1);
                    }
                    if (token.value === tag && token.type.indexOf("tag-name") !== -1) {
                      if (prevToken.value === "<") {
                        depth[tag]++;
                      } else if (prevToken.value === "</") {
                        depth[tag]--;
                      }
                      if (depth[tag] === 0)
                        found = true;
                    }
                  }
                } while (prevToken && !found);
              }
              if (token && token.type.indexOf("tag-name")) {
                pos = range.start;
                if (pos.row == cursor.row && Math.abs(pos.column - cursor.column) < 2)
                  pos = range.end;
              }
            }
            pos = range && range.cursor || pos;
            if (pos) {
              if (select) {
                if (range && expand) {
                  this.selection.setRange(range);
                } else if (range && range.isEqual(this.getSelectionRange())) {
                  this.clearSelection();
                } else {
                  this.selection.selectTo(pos.row, pos.column);
                }
              } else {
                this.selection.moveTo(pos.row, pos.column);
              }
            }
          };
          this.gotoLine = function(lineNumber, column, animate) {
            this.selection.clearSelection();
            this.session.unfold({ row: lineNumber - 1, column: column || 0 });
            this.exitMultiSelectMode && this.exitMultiSelectMode();
            this.moveCursorTo(lineNumber - 1, column || 0);
            if (!this.isRowFullyVisible(lineNumber - 1))
              this.scrollToLine(lineNumber - 1, true, animate);
          };
          this.navigateTo = function(row, column) {
            this.selection.moveTo(row, column);
          };
          this.navigateUp = function(times) {
            if (this.selection.isMultiLine() && !this.selection.isBackwards()) {
              var selectionStart = this.selection.anchor.getPosition();
              return this.moveCursorToPosition(selectionStart);
            }
            this.selection.clearSelection();
            this.selection.moveCursorBy(-times || -1, 0);
          };
          this.navigateDown = function(times) {
            if (this.selection.isMultiLine() && this.selection.isBackwards()) {
              var selectionEnd = this.selection.anchor.getPosition();
              return this.moveCursorToPosition(selectionEnd);
            }
            this.selection.clearSelection();
            this.selection.moveCursorBy(times || 1, 0);
          };
          this.navigateLeft = function(times) {
            if (!this.selection.isEmpty()) {
              var selectionStart = this.getSelectionRange().start;
              this.moveCursorToPosition(selectionStart);
            } else {
              times = times || 1;
              while (times--) {
                this.selection.moveCursorLeft();
              }
            }
            this.clearSelection();
          };
          this.navigateRight = function(times) {
            if (!this.selection.isEmpty()) {
              var selectionEnd = this.getSelectionRange().end;
              this.moveCursorToPosition(selectionEnd);
            } else {
              times = times || 1;
              while (times--) {
                this.selection.moveCursorRight();
              }
            }
            this.clearSelection();
          };
          this.navigateLineStart = function() {
            this.selection.moveCursorLineStart();
            this.clearSelection();
          };
          this.navigateLineEnd = function() {
            this.selection.moveCursorLineEnd();
            this.clearSelection();
          };
          this.navigateFileEnd = function() {
            this.selection.moveCursorFileEnd();
            this.clearSelection();
          };
          this.navigateFileStart = function() {
            this.selection.moveCursorFileStart();
            this.clearSelection();
          };
          this.navigateWordRight = function() {
            this.selection.moveCursorWordRight();
            this.clearSelection();
          };
          this.navigateWordLeft = function() {
            this.selection.moveCursorWordLeft();
            this.clearSelection();
          };
          this.replace = function(replacement, options) {
            if (options)
              this.$search.set(options);
            var range = this.$search.find(this.session);
            var replaced = 0;
            if (!range)
              return replaced;
            if (this.$tryReplace(range, replacement)) {
              replaced = 1;
            }
            this.selection.setSelectionRange(range);
            this.renderer.scrollSelectionIntoView(range.start, range.end);
            return replaced;
          };
          this.replaceAll = function(replacement, options) {
            if (options) {
              this.$search.set(options);
            }
            var ranges = this.$search.findAll(this.session);
            var replaced = 0;
            if (!ranges.length)
              return replaced;
            var selection = this.getSelectionRange();
            this.selection.moveTo(0, 0);
            for (var i6 = ranges.length - 1; i6 >= 0; --i6) {
              if (this.$tryReplace(ranges[i6], replacement)) {
                replaced++;
              }
            }
            this.selection.setSelectionRange(selection);
            return replaced;
          };
          this.$tryReplace = function(range, replacement) {
            var input = this.session.getTextRange(range);
            replacement = this.$search.replace(input, replacement);
            if (replacement !== null) {
              range.end = this.session.replace(range, replacement);
              return range;
            } else {
              return null;
            }
          };
          this.getLastSearchOptions = function() {
            return this.$search.getOptions();
          };
          this.find = function(needle, options, animate) {
            if (!options)
              options = {};
            if (typeof needle == "string" || needle instanceof RegExp)
              options.needle = needle;
            else if (typeof needle == "object")
              oop.mixin(options, needle);
            var range = this.selection.getRange();
            if (options.needle == null) {
              needle = this.session.getTextRange(range) || this.$search.$options.needle;
              if (!needle) {
                range = this.session.getWordRange(range.start.row, range.start.column);
                needle = this.session.getTextRange(range);
              }
              this.$search.set({ needle });
            }
            this.$search.set(options);
            if (!options.start)
              this.$search.set({ start: range });
            var newRange = this.$search.find(this.session);
            if (options.preventScroll)
              return newRange;
            if (newRange) {
              this.revealRange(newRange, animate);
              return newRange;
            }
            if (options.backwards)
              range.start = range.end;
            else
              range.end = range.start;
            this.selection.setRange(range);
          };
          this.findNext = function(options, animate) {
            this.find({ skipCurrent: true, backwards: false }, options, animate);
          };
          this.findPrevious = function(options, animate) {
            this.find(options, { skipCurrent: true, backwards: true }, animate);
          };
          this.revealRange = function(range, animate) {
            this.session.unfold(range);
            this.selection.setSelectionRange(range);
            var scrollTop = this.renderer.scrollTop;
            this.renderer.scrollSelectionIntoView(range.start, range.end, 0.5);
            if (animate !== false)
              this.renderer.animateScrolling(scrollTop);
          };
          this.undo = function() {
            this.session.getUndoManager().undo(this.session);
            this.renderer.scrollCursorIntoView(null, 0.5);
          };
          this.redo = function() {
            this.session.getUndoManager().redo(this.session);
            this.renderer.scrollCursorIntoView(null, 0.5);
          };
          this.destroy = function() {
            if (this.$toDestroy) {
              this.$toDestroy.forEach(function(el) {
                el.destroy();
              });
              this.$toDestroy = null;
            }
            if (this.$mouseHandler)
              this.$mouseHandler.destroy();
            this.renderer.destroy();
            this._signal("destroy", this);
            if (this.session)
              this.session.destroy();
            if (this._$emitInputEvent)
              this._$emitInputEvent.cancel();
            this.removeAllListeners();
          };
          this.setAutoScrollEditorIntoView = function(enable) {
            if (!enable)
              return;
            var rect;
            var self = this;
            var shouldScroll = false;
            if (!this.$scrollAnchor)
              this.$scrollAnchor = document.createElement("div");
            var scrollAnchor = this.$scrollAnchor;
            scrollAnchor.style.cssText = "position:absolute";
            this.container.insertBefore(scrollAnchor, this.container.firstChild);
            var onChangeSelection = this.on("changeSelection", function() {
              shouldScroll = true;
            });
            var onBeforeRender = this.renderer.on("beforeRender", function() {
              if (shouldScroll)
                rect = self.renderer.container.getBoundingClientRect();
            });
            var onAfterRender = this.renderer.on("afterRender", function() {
              if (shouldScroll && rect && (self.isFocused() || self.searchBox && self.searchBox.isFocused())) {
                var renderer = self.renderer;
                var pos = renderer.$cursorLayer.$pixelPos;
                var config3 = renderer.layerConfig;
                var top = pos.top - config3.offset;
                if (pos.top >= 0 && top + rect.top < 0) {
                  shouldScroll = true;
                } else if (pos.top < config3.height && pos.top + rect.top + config3.lineHeight > window.innerHeight) {
                  shouldScroll = false;
                } else {
                  shouldScroll = null;
                }
                if (shouldScroll != null) {
                  scrollAnchor.style.top = top + "px";
                  scrollAnchor.style.left = pos.left + "px";
                  scrollAnchor.style.height = config3.lineHeight + "px";
                  scrollAnchor.scrollIntoView(shouldScroll);
                }
                shouldScroll = rect = null;
              }
            });
            this.setAutoScrollEditorIntoView = function(enable2) {
              if (enable2)
                return;
              delete this.setAutoScrollEditorIntoView;
              this.off("changeSelection", onChangeSelection);
              this.renderer.off("afterRender", onAfterRender);
              this.renderer.off("beforeRender", onBeforeRender);
            };
          };
          this.$resetCursorStyle = function() {
            var style = this.$cursorStyle || "ace";
            var cursorLayer = this.renderer.$cursorLayer;
            if (!cursorLayer)
              return;
            cursorLayer.setSmoothBlinking(/smooth/.test(style));
            cursorLayer.isBlinking = !this.$readOnly && style != "wide";
            dom.setCssClass(cursorLayer.element, "ace_slim-cursors", /slim/.test(style));
          };
          this.prompt = function(message, options, callback) {
            var editor = this;
            config2.loadModule("./ext/prompt", function(module3) {
              module3.prompt(editor, message, options, callback);
            });
          };
        }).call(Editor.prototype);
        config2.defineOptions(Editor.prototype, "editor", {
          selectionStyle: {
            set: function(style) {
              this.onSelectionChange();
              this._signal("changeSelectionStyle", { data: style });
            },
            initialValue: "line"
          },
          highlightActiveLine: {
            set: function() {
              this.$updateHighlightActiveLine();
            },
            initialValue: true
          },
          highlightSelectedWord: {
            set: function(shouldHighlight) {
              this.$onSelectionChange();
            },
            initialValue: true
          },
          readOnly: {
            set: function(readOnly) {
              this.textInput.setReadOnly(readOnly);
              this.$resetCursorStyle();
            },
            initialValue: false
          },
          copyWithEmptySelection: {
            set: function(value) {
              this.textInput.setCopyWithEmptySelection(value);
            },
            initialValue: false
          },
          cursorStyle: {
            set: function(val) {
              this.$resetCursorStyle();
            },
            values: ["ace", "slim", "smooth", "wide"],
            initialValue: "ace"
          },
          mergeUndoDeltas: {
            values: [false, true, "always"],
            initialValue: true
          },
          behavioursEnabled: { initialValue: true },
          wrapBehavioursEnabled: { initialValue: true },
          enableAutoIndent: { initialValue: true },
          autoScrollEditorIntoView: {
            set: function(val) {
              this.setAutoScrollEditorIntoView(val);
            }
          },
          keyboardHandler: {
            set: function(val) {
              this.setKeyboardHandler(val);
            },
            get: function() {
              return this.$keybindingId;
            },
            handlesSet: true
          },
          value: {
            set: function(val) {
              this.session.setValue(val);
            },
            get: function() {
              return this.getValue();
            },
            handlesSet: true,
            hidden: true
          },
          session: {
            set: function(val) {
              this.setSession(val);
            },
            get: function() {
              return this.session;
            },
            handlesSet: true,
            hidden: true
          },
          showLineNumbers: {
            set: function(show) {
              this.renderer.$gutterLayer.setShowLineNumbers(show);
              this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER);
              if (show && this.$relativeLineNumbers)
                relativeNumberRenderer.attach(this);
              else
                relativeNumberRenderer.detach(this);
            },
            initialValue: true
          },
          relativeLineNumbers: {
            set: function(value) {
              if (this.$showLineNumbers && value)
                relativeNumberRenderer.attach(this);
              else
                relativeNumberRenderer.detach(this);
            }
          },
          placeholder: {
            set: function(message) {
              if (!this.$updatePlaceholder) {
                this.$updatePlaceholder = function() {
                  var value = this.session && (this.renderer.$composition || this.getValue());
                  if (value && this.renderer.placeholderNode) {
                    this.renderer.off("afterRender", this.$updatePlaceholder);
                    dom.removeCssClass(this.container, "ace_hasPlaceholder");
                    this.renderer.placeholderNode.remove();
                    this.renderer.placeholderNode = null;
                  } else if (!value && !this.renderer.placeholderNode) {
                    this.renderer.on("afterRender", this.$updatePlaceholder);
                    dom.addCssClass(this.container, "ace_hasPlaceholder");
                    var el = dom.createElement("div");
                    el.className = "ace_placeholder";
                    el.textContent = this.$placeholder || "";
                    this.renderer.placeholderNode = el;
                    this.renderer.content.appendChild(this.renderer.placeholderNode);
                  } else if (!value && this.renderer.placeholderNode) {
                    this.renderer.placeholderNode.textContent = this.$placeholder || "";
                  }
                }.bind(this);
                this.on("input", this.$updatePlaceholder);
              }
              this.$updatePlaceholder();
            }
          },
          hScrollBarAlwaysVisible: "renderer",
          vScrollBarAlwaysVisible: "renderer",
          highlightGutterLine: "renderer",
          animatedScroll: "renderer",
          showInvisibles: "renderer",
          showPrintMargin: "renderer",
          printMarginColumn: "renderer",
          printMargin: "renderer",
          fadeFoldWidgets: "renderer",
          showFoldWidgets: "renderer",
          displayIndentGuides: "renderer",
          showGutter: "renderer",
          fontSize: "renderer",
          fontFamily: "renderer",
          maxLines: "renderer",
          minLines: "renderer",
          scrollPastEnd: "renderer",
          fixedWidthGutter: "renderer",
          theme: "renderer",
          hasCssTransforms: "renderer",
          maxPixelHeight: "renderer",
          useTextareaForIME: "renderer",
          scrollSpeed: "$mouseHandler",
          dragDelay: "$mouseHandler",
          dragEnabled: "$mouseHandler",
          focusTimeout: "$mouseHandler",
          tooltipFollowsMouse: "$mouseHandler",
          firstLineNumber: "session",
          overwrite: "session",
          newLineMode: "session",
          useWorker: "session",
          useSoftTabs: "session",
          navigateWithinSoftTabs: "session",
          tabSize: "session",
          wrap: "session",
          indentedSoftWrap: "session",
          foldStyle: "session",
          mode: "session"
        });
        var relativeNumberRenderer = {
          getText: function(session, row) {
            return (Math.abs(session.selection.lead.row - row) || row + 1 + (row < 9 ? "\xB7" : "")) + "";
          },
          getWidth: function(session, lastLineNumber, config3) {
            return Math.max(
              lastLineNumber.toString().length,
              (config3.lastRow + 1).toString().length,
              2
            ) * config3.characterWidth;
          },
          update: function(e10, editor) {
            editor.renderer.$loop.schedule(editor.renderer.CHANGE_GUTTER);
          },
          attach: function(editor) {
            editor.renderer.$gutterLayer.$renderer = this;
            editor.on("changeSelection", this.update);
            this.update(null, editor);
          },
          detach: function(editor) {
            if (editor.renderer.$gutterLayer.$renderer == this)
              editor.renderer.$gutterLayer.$renderer = null;
            editor.off("changeSelection", this.update);
            this.update(null, editor);
          }
        };
        exports2.Editor = Editor;
      });
      ace.define("ace/undomanager", ["require", "exports", "module", "ace/range"], function(require3, exports2, module2) {
        "use strict";
        var UndoManager2 = function() {
          this.$maxRev = 0;
          this.$fromUndo = false;
          this.reset();
        };
        (function() {
          this.addSession = function(session) {
            this.$session = session;
          };
          this.add = function(delta, allowMerge, session) {
            if (this.$fromUndo)
              return;
            if (delta == this.$lastDelta)
              return;
            if (!this.$keepRedoStack)
              this.$redoStack.length = 0;
            if (allowMerge === false || !this.lastDeltas) {
              this.lastDeltas = [];
              this.$undoStack.push(this.lastDeltas);
              delta.id = this.$rev = ++this.$maxRev;
            }
            if (delta.action == "remove" || delta.action == "insert")
              this.$lastDelta = delta;
            this.lastDeltas.push(delta);
          };
          this.addSelection = function(selection, rev) {
            this.selections.push({
              value: selection,
              rev: rev || this.$rev
            });
          };
          this.startNewGroup = function() {
            this.lastDeltas = null;
            return this.$rev;
          };
          this.markIgnored = function(from, to) {
            if (to == null)
              to = this.$rev + 1;
            var stack = this.$undoStack;
            for (var i6 = stack.length; i6--; ) {
              var delta = stack[i6][0];
              if (delta.id <= from)
                break;
              if (delta.id < to)
                delta.ignore = true;
            }
            this.lastDeltas = null;
          };
          this.getSelection = function(rev, after) {
            var stack = this.selections;
            for (var i6 = stack.length; i6--; ) {
              var selection = stack[i6];
              if (selection.rev < rev) {
                if (after)
                  selection = stack[i6 + 1];
                return selection;
              }
            }
          };
          this.getRevision = function() {
            return this.$rev;
          };
          this.getDeltas = function(from, to) {
            if (to == null)
              to = this.$rev + 1;
            var stack = this.$undoStack;
            var end = null, start = 0;
            for (var i6 = stack.length; i6--; ) {
              var delta = stack[i6][0];
              if (delta.id < to && !end)
                end = i6 + 1;
              if (delta.id <= from) {
                start = i6 + 1;
                break;
              }
            }
            return stack.slice(start, end);
          };
          this.getChangedRanges = function(from, to) {
            if (to == null)
              to = this.$rev + 1;
          };
          this.getChangedLines = function(from, to) {
            if (to == null)
              to = this.$rev + 1;
          };
          this.undo = function(session, dontSelect) {
            this.lastDeltas = null;
            var stack = this.$undoStack;
            if (!rearrangeUndoStack(stack, stack.length))
              return;
            if (!session)
              session = this.$session;
            if (this.$redoStackBaseRev !== this.$rev && this.$redoStack.length)
              this.$redoStack = [];
            this.$fromUndo = true;
            var deltaSet = stack.pop();
            var undoSelectionRange = null;
            if (deltaSet) {
              undoSelectionRange = session.undoChanges(deltaSet, dontSelect);
              this.$redoStack.push(deltaSet);
              this.$syncRev();
            }
            this.$fromUndo = false;
            return undoSelectionRange;
          };
          this.redo = function(session, dontSelect) {
            this.lastDeltas = null;
            if (!session)
              session = this.$session;
            this.$fromUndo = true;
            if (this.$redoStackBaseRev != this.$rev) {
              var diff = this.getDeltas(this.$redoStackBaseRev, this.$rev + 1);
              rebaseRedoStack(this.$redoStack, diff);
              this.$redoStackBaseRev = this.$rev;
              this.$redoStack.forEach(function(x2) {
                x2[0].id = ++this.$maxRev;
              }, this);
            }
            var deltaSet = this.$redoStack.pop();
            var redoSelectionRange = null;
            if (deltaSet) {
              redoSelectionRange = session.redoChanges(deltaSet, dontSelect);
              this.$undoStack.push(deltaSet);
              this.$syncRev();
            }
            this.$fromUndo = false;
            return redoSelectionRange;
          };
          this.$syncRev = function() {
            var stack = this.$undoStack;
            var nextDelta = stack[stack.length - 1];
            var id = nextDelta && nextDelta[0].id || 0;
            this.$redoStackBaseRev = id;
            this.$rev = id;
          };
          this.reset = function() {
            this.lastDeltas = null;
            this.$lastDelta = null;
            this.$undoStack = [];
            this.$redoStack = [];
            this.$rev = 0;
            this.mark = 0;
            this.$redoStackBaseRev = this.$rev;
            this.selections = [];
          };
          this.canUndo = function() {
            return this.$undoStack.length > 0;
          };
          this.canRedo = function() {
            return this.$redoStack.length > 0;
          };
          this.bookmark = function(rev) {
            if (rev == void 0)
              rev = this.$rev;
            this.mark = rev;
          };
          this.isAtBookmark = function() {
            return this.$rev === this.mark;
          };
          this.toJSON = function() {
          };
          this.fromJSON = function() {
          };
          this.hasUndo = this.canUndo;
          this.hasRedo = this.canRedo;
          this.isClean = this.isAtBookmark;
          this.markClean = this.bookmark;
          this.$prettyPrint = function(delta) {
            if (delta)
              return stringifyDelta(delta);
            return stringifyDelta(this.$undoStack) + "\n---\n" + stringifyDelta(this.$redoStack);
          };
        }).call(UndoManager2.prototype);
        function rearrangeUndoStack(stack, pos) {
          for (var i6 = pos; i6--; ) {
            var deltaSet = stack[i6];
            if (deltaSet && !deltaSet[0].ignore) {
              while (i6 < pos - 1) {
                var swapped = swapGroups(stack[i6], stack[i6 + 1]);
                stack[i6] = swapped[0];
                stack[i6 + 1] = swapped[1];
                i6++;
              }
              return true;
            }
          }
        }
        var Range = require3("./range").Range;
        var cmp = Range.comparePoints;
        var comparePoints = Range.comparePoints;
        function $updateMarkers(delta) {
          var isInsert = delta.action == "insert";
          var start = delta.start;
          var end = delta.end;
          var rowShift = (end.row - start.row) * (isInsert ? 1 : -1);
          var colShift = (end.column - start.column) * (isInsert ? 1 : -1);
          if (isInsert)
            end = start;
          for (var i6 in this.marks) {
            var point = this.marks[i6];
            var cmp2 = comparePoints(point, start);
            if (cmp2 < 0) {
              continue;
            }
            if (cmp2 === 0) {
              if (isInsert) {
                if (point.bias == 1) {
                  cmp2 = 1;
                } else {
                  point.bias == -1;
                  continue;
                }
              }
            }
            var cmp22 = isInsert ? cmp2 : comparePoints(point, end);
            if (cmp22 > 0) {
              point.row += rowShift;
              point.column += point.row == end.row ? colShift : 0;
              continue;
            }
            if (!isInsert && cmp22 <= 0) {
              point.row = start.row;
              point.column = start.column;
              if (cmp22 === 0)
                point.bias = 1;
            }
          }
        }
        function clonePos(pos) {
          return { row: pos.row, column: pos.column };
        }
        function cloneDelta(d3) {
          return {
            start: clonePos(d3.start),
            end: clonePos(d3.end),
            action: d3.action,
            lines: d3.lines.slice()
          };
        }
        function stringifyDelta(d3) {
          d3 = d3 || this;
          if (Array.isArray(d3)) {
            return d3.map(stringifyDelta).join("\n");
          }
          var type = "";
          if (d3.action) {
            type = d3.action == "insert" ? "+" : "-";
            type += "[" + d3.lines + "]";
          } else if (d3.value) {
            if (Array.isArray(d3.value)) {
              type = d3.value.map(stringifyRange).join("\n");
            } else {
              type = stringifyRange(d3.value);
            }
          }
          if (d3.start) {
            type += stringifyRange(d3);
          }
          if (d3.id || d3.rev) {
            type += "	(" + (d3.id || d3.rev) + ")";
          }
          return type;
        }
        function stringifyRange(r5) {
          return r5.start.row + ":" + r5.start.column + "=>" + r5.end.row + ":" + r5.end.column;
        }
        function swap(d1, d22) {
          var i1 = d1.action == "insert";
          var i22 = d22.action == "insert";
          if (i1 && i22) {
            if (cmp(d22.start, d1.end) >= 0) {
              shift(d22, d1, -1);
            } else if (cmp(d22.start, d1.start) <= 0) {
              shift(d1, d22, 1);
            } else {
              return null;
            }
          } else if (i1 && !i22) {
            if (cmp(d22.start, d1.end) >= 0) {
              shift(d22, d1, -1);
            } else if (cmp(d22.end, d1.start) <= 0) {
              shift(d1, d22, -1);
            } else {
              return null;
            }
          } else if (!i1 && i22) {
            if (cmp(d22.start, d1.start) >= 0) {
              shift(d22, d1, 1);
            } else if (cmp(d22.start, d1.start) <= 0) {
              shift(d1, d22, 1);
            } else {
              return null;
            }
          } else if (!i1 && !i22) {
            if (cmp(d22.start, d1.start) >= 0) {
              shift(d22, d1, 1);
            } else if (cmp(d22.end, d1.start) <= 0) {
              shift(d1, d22, -1);
            } else {
              return null;
            }
          }
          return [d22, d1];
        }
        function swapGroups(ds1, ds2) {
          for (var i6 = ds1.length; i6--; ) {
            for (var j = 0; j < ds2.length; j++) {
              if (!swap(ds1[i6], ds2[j])) {
                while (i6 < ds1.length) {
                  while (j--) {
                    swap(ds2[j], ds1[i6]);
                  }
                  j = ds2.length;
                  i6++;
                }
                return [ds1, ds2];
              }
            }
          }
          ds1.selectionBefore = ds2.selectionBefore = ds1.selectionAfter = ds2.selectionAfter = null;
          return [ds2, ds1];
        }
        function xform(d1, c1) {
          var i1 = d1.action == "insert";
          var i22 = c1.action == "insert";
          if (i1 && i22) {
            if (cmp(d1.start, c1.start) < 0) {
              shift(c1, d1, 1);
            } else {
              shift(d1, c1, 1);
            }
          } else if (i1 && !i22) {
            if (cmp(d1.start, c1.end) >= 0) {
              shift(d1, c1, -1);
            } else if (cmp(d1.start, c1.start) <= 0) {
              shift(c1, d1, 1);
            } else {
              shift(d1, Range.fromPoints(c1.start, d1.start), -1);
              shift(c1, d1, 1);
            }
          } else if (!i1 && i22) {
            if (cmp(c1.start, d1.end) >= 0) {
              shift(c1, d1, -1);
            } else if (cmp(c1.start, d1.start) <= 0) {
              shift(d1, c1, 1);
            } else {
              shift(c1, Range.fromPoints(d1.start, c1.start), -1);
              shift(d1, c1, 1);
            }
          } else if (!i1 && !i22) {
            if (cmp(c1.start, d1.end) >= 0) {
              shift(c1, d1, -1);
            } else if (cmp(c1.end, d1.start) <= 0) {
              shift(d1, c1, -1);
            } else {
              var before, after;
              if (cmp(d1.start, c1.start) < 0) {
                before = d1;
                d1 = splitDelta(d1, c1.start);
              }
              if (cmp(d1.end, c1.end) > 0) {
                after = splitDelta(d1, c1.end);
              }
              shiftPos(c1.end, d1.start, d1.end, -1);
              if (after && !before) {
                d1.lines = after.lines;
                d1.start = after.start;
                d1.end = after.end;
                after = d1;
              }
              return [c1, before, after].filter(Boolean);
            }
          }
          return [c1, d1];
        }
        function shift(d1, d22, dir) {
          shiftPos(d1.start, d22.start, d22.end, dir);
          shiftPos(d1.end, d22.start, d22.end, dir);
        }
        function shiftPos(pos, start, end, dir) {
          if (pos.row == (dir == 1 ? start : end).row) {
            pos.column += dir * (end.column - start.column);
          }
          pos.row += dir * (end.row - start.row);
        }
        function splitDelta(c2, pos) {
          var lines = c2.lines;
          var end = c2.end;
          c2.end = clonePos(pos);
          var rowsBefore = c2.end.row - c2.start.row;
          var otherLines = lines.splice(rowsBefore, lines.length);
          var col = rowsBefore ? pos.column : pos.column - c2.start.column;
          lines.push(otherLines[0].substring(0, col));
          otherLines[0] = otherLines[0].substr(col);
          var rest = {
            start: clonePos(pos),
            end,
            lines: otherLines,
            action: c2.action
          };
          return rest;
        }
        function moveDeltasByOne(redoStack, d3) {
          d3 = cloneDelta(d3);
          for (var j = redoStack.length; j--; ) {
            var deltaSet = redoStack[j];
            for (var i6 = 0; i6 < deltaSet.length; i6++) {
              var x2 = deltaSet[i6];
              var xformed = xform(x2, d3);
              d3 = xformed[0];
              if (xformed.length != 2) {
                if (xformed[2]) {
                  deltaSet.splice(i6 + 1, 1, xformed[1], xformed[2]);
                  i6++;
                } else if (!xformed[1]) {
                  deltaSet.splice(i6, 1);
                  i6--;
                }
              }
            }
            if (!deltaSet.length) {
              redoStack.splice(j, 1);
            }
          }
          return redoStack;
        }
        function rebaseRedoStack(redoStack, deltaSets) {
          for (var i6 = 0; i6 < deltaSets.length; i6++) {
            var deltas = deltaSets[i6];
            for (var j = 0; j < deltas.length; j++) {
              moveDeltasByOne(redoStack, deltas[j]);
            }
          }
        }
        exports2.UndoManager = UndoManager2;
      });
      ace.define("ace/layer/lines", ["require", "exports", "module", "ace/lib/dom"], function(require3, exports2, module2) {
        "use strict";
        var dom = require3("../lib/dom");
        var Lines = function(element, canvasHeight) {
          this.element = element;
          this.canvasHeight = canvasHeight || 5e5;
          this.element.style.height = this.canvasHeight * 2 + "px";
          this.cells = [];
          this.cellCache = [];
          this.$offsetCoefficient = 0;
        };
        (function() {
          this.moveContainer = function(config2) {
            dom.translate(this.element, 0, -(config2.firstRowScreen * config2.lineHeight % this.canvasHeight) - config2.offset * this.$offsetCoefficient);
          };
          this.pageChanged = function(oldConfig, newConfig) {
            return Math.floor(oldConfig.firstRowScreen * oldConfig.lineHeight / this.canvasHeight) !== Math.floor(newConfig.firstRowScreen * newConfig.lineHeight / this.canvasHeight);
          };
          this.computeLineTop = function(row, config2, session) {
            var screenTop = config2.firstRowScreen * config2.lineHeight;
            var screenPage = Math.floor(screenTop / this.canvasHeight);
            var lineTop = session.documentToScreenRow(row, 0) * config2.lineHeight;
            return lineTop - screenPage * this.canvasHeight;
          };
          this.computeLineHeight = function(row, config2, session) {
            return config2.lineHeight * session.getRowLineCount(row);
          };
          this.getLength = function() {
            return this.cells.length;
          };
          this.get = function(index) {
            return this.cells[index];
          };
          this.shift = function() {
            this.$cacheCell(this.cells.shift());
          };
          this.pop = function() {
            this.$cacheCell(this.cells.pop());
          };
          this.push = function(cell) {
            if (Array.isArray(cell)) {
              this.cells.push.apply(this.cells, cell);
              var fragment = dom.createFragment(this.element);
              for (var i6 = 0; i6 < cell.length; i6++) {
                fragment.appendChild(cell[i6].element);
              }
              this.element.appendChild(fragment);
            } else {
              this.cells.push(cell);
              this.element.appendChild(cell.element);
            }
          };
          this.unshift = function(cell) {
            if (Array.isArray(cell)) {
              this.cells.unshift.apply(this.cells, cell);
              var fragment = dom.createFragment(this.element);
              for (var i6 = 0; i6 < cell.length; i6++) {
                fragment.appendChild(cell[i6].element);
              }
              if (this.element.firstChild)
                this.element.insertBefore(fragment, this.element.firstChild);
              else
                this.element.appendChild(fragment);
            } else {
              this.cells.unshift(cell);
              this.element.insertAdjacentElement("afterbegin", cell.element);
            }
          };
          this.last = function() {
            if (this.cells.length)
              return this.cells[this.cells.length - 1];
            else
              return null;
          };
          this.$cacheCell = function(cell) {
            if (!cell)
              return;
            cell.element.remove();
            this.cellCache.push(cell);
          };
          this.createCell = function(row, config2, session, initElement) {
            var cell = this.cellCache.pop();
            if (!cell) {
              var element = dom.createElement("div");
              if (initElement)
                initElement(element);
              this.element.appendChild(element);
              cell = {
                element,
                text: "",
                row
              };
            }
            cell.row = row;
            return cell;
          };
        }).call(Lines.prototype);
        exports2.Lines = Lines;
      });
      ace.define("ace/layer/gutter", ["require", "exports", "module", "ace/lib/dom", "ace/lib/oop", "ace/lib/lang", "ace/lib/event_emitter", "ace/layer/lines"], function(require3, exports2, module2) {
        "use strict";
        var dom = require3("../lib/dom");
        var oop = require3("../lib/oop");
        var lang = require3("../lib/lang");
        var EventEmitter = require3("../lib/event_emitter").EventEmitter;
        var Lines = require3("./lines").Lines;
        var Gutter = function(parentEl) {
          this.element = dom.createElement("div");
          this.element.className = "ace_layer ace_gutter-layer";
          parentEl.appendChild(this.element);
          this.setShowFoldWidgets(this.$showFoldWidgets);
          this.gutterWidth = 0;
          this.$annotations = [];
          this.$updateAnnotations = this.$updateAnnotations.bind(this);
          this.$lines = new Lines(this.element);
          this.$lines.$offsetCoefficient = 1;
        };
        (function() {
          oop.implement(this, EventEmitter);
          this.setSession = function(session) {
            if (this.session)
              this.session.off("change", this.$updateAnnotations);
            this.session = session;
            if (session)
              session.on("change", this.$updateAnnotations);
          };
          this.addGutterDecoration = function(row, className) {
            if (window.console)
              console.warn && console.warn("deprecated use session.addGutterDecoration");
            this.session.addGutterDecoration(row, className);
          };
          this.removeGutterDecoration = function(row, className) {
            if (window.console)
              console.warn && console.warn("deprecated use session.removeGutterDecoration");
            this.session.removeGutterDecoration(row, className);
          };
          this.setAnnotations = function(annotations) {
            this.$annotations = [];
            for (var i6 = 0; i6 < annotations.length; i6++) {
              var annotation = annotations[i6];
              var row = annotation.row;
              var rowInfo = this.$annotations[row];
              if (!rowInfo)
                rowInfo = this.$annotations[row] = { text: [] };
              var annoText = annotation.text;
              annoText = annoText ? lang.escapeHTML(annoText) : annotation.html || "";
              if (rowInfo.text.indexOf(annoText) === -1)
                rowInfo.text.push(annoText);
              var type = annotation.type;
              var className = annotation.className;
              if (className)
                rowInfo.className = className;
              else if (type == "error")
                rowInfo.className = " ace_error";
              else if (type == "warning" && rowInfo.className != " ace_error")
                rowInfo.className = " ace_warning";
              else if (type == "info" && !rowInfo.className)
                rowInfo.className = " ace_info";
            }
          };
          this.$updateAnnotations = function(delta) {
            if (!this.$annotations.length)
              return;
            var firstRow = delta.start.row;
            var len = delta.end.row - firstRow;
            if (len === 0) {
            } else if (delta.action == "remove") {
              this.$annotations.splice(firstRow, len + 1, null);
            } else {
              var args = new Array(len + 1);
              args.unshift(firstRow, 1);
              this.$annotations.splice.apply(this.$annotations, args);
            }
          };
          this.update = function(config2) {
            this.config = config2;
            var session = this.session;
            var firstRow = config2.firstRow;
            var lastRow = Math.min(
              config2.lastRow + config2.gutterOffset,
              session.getLength() - 1
            );
            this.oldLastRow = lastRow;
            this.config = config2;
            this.$lines.moveContainer(config2);
            this.$updateCursorRow();
            var fold = session.getNextFoldLine(firstRow);
            var foldStart = fold ? fold.start.row : Infinity;
            var cell = null;
            var index = -1;
            var row = firstRow;
            while (true) {
              if (row > foldStart) {
                row = fold.end.row + 1;
                fold = session.getNextFoldLine(row, fold);
                foldStart = fold ? fold.start.row : Infinity;
              }
              if (row > lastRow) {
                while (this.$lines.getLength() > index + 1)
                  this.$lines.pop();
                break;
              }
              cell = this.$lines.get(++index);
              if (cell) {
                cell.row = row;
              } else {
                cell = this.$lines.createCell(row, config2, this.session, onCreateCell);
                this.$lines.push(cell);
              }
              this.$renderCell(cell, config2, fold, row);
              row++;
            }
            this._signal("afterRender");
            this.$updateGutterWidth(config2);
          };
          this.$updateGutterWidth = function(config2) {
            var session = this.session;
            var gutterRenderer = session.gutterRenderer || this.$renderer;
            var firstLineNumber = session.$firstLineNumber;
            var lastLineText = this.$lines.last() ? this.$lines.last().text : "";
            if (this.$fixedWidth || session.$useWrapMode)
              lastLineText = session.getLength() + firstLineNumber - 1;
            var gutterWidth = gutterRenderer ? gutterRenderer.getWidth(session, lastLineText, config2) : lastLineText.toString().length * config2.characterWidth;
            var padding = this.$padding || this.$computePadding();
            gutterWidth += padding.left + padding.right;
            if (gutterWidth !== this.gutterWidth && !isNaN(gutterWidth)) {
              this.gutterWidth = gutterWidth;
              this.element.parentNode.style.width = this.element.style.width = Math.ceil(this.gutterWidth) + "px";
              this._signal("changeGutterWidth", gutterWidth);
            }
          };
          this.$updateCursorRow = function() {
            if (!this.$highlightGutterLine)
              return;
            var position = this.session.selection.getCursor();
            if (this.$cursorRow === position.row)
              return;
            this.$cursorRow = position.row;
          };
          this.updateLineHighlight = function() {
            if (!this.$highlightGutterLine)
              return;
            var row = this.session.selection.cursor.row;
            this.$cursorRow = row;
            if (this.$cursorCell && this.$cursorCell.row == row)
              return;
            if (this.$cursorCell)
              this.$cursorCell.element.className = this.$cursorCell.element.className.replace("ace_gutter-active-line ", "");
            var cells = this.$lines.cells;
            this.$cursorCell = null;
            for (var i6 = 0; i6 < cells.length; i6++) {
              var cell = cells[i6];
              if (cell.row >= this.$cursorRow) {
                if (cell.row > this.$cursorRow) {
                  var fold = this.session.getFoldLine(this.$cursorRow);
                  if (i6 > 0 && fold && fold.start.row == cells[i6 - 1].row)
                    cell = cells[i6 - 1];
                  else
                    break;
                }
                cell.element.className = "ace_gutter-active-line " + cell.element.className;
                this.$cursorCell = cell;
                break;
              }
            }
          };
          this.scrollLines = function(config2) {
            var oldConfig = this.config;
            this.config = config2;
            this.$updateCursorRow();
            if (this.$lines.pageChanged(oldConfig, config2))
              return this.update(config2);
            this.$lines.moveContainer(config2);
            var lastRow = Math.min(
              config2.lastRow + config2.gutterOffset,
              this.session.getLength() - 1
            );
            var oldLastRow = this.oldLastRow;
            this.oldLastRow = lastRow;
            if (!oldConfig || oldLastRow < config2.firstRow)
              return this.update(config2);
            if (lastRow < oldConfig.firstRow)
              return this.update(config2);
            if (oldConfig.firstRow < config2.firstRow)
              for (var row = this.session.getFoldedRowCount(oldConfig.firstRow, config2.firstRow - 1); row > 0; row--)
                this.$lines.shift();
            if (oldLastRow > lastRow)
              for (var row = this.session.getFoldedRowCount(lastRow + 1, oldLastRow); row > 0; row--)
                this.$lines.pop();
            if (config2.firstRow < oldConfig.firstRow) {
              this.$lines.unshift(this.$renderLines(config2, config2.firstRow, oldConfig.firstRow - 1));
            }
            if (lastRow > oldLastRow) {
              this.$lines.push(this.$renderLines(config2, oldLastRow + 1, lastRow));
            }
            this.updateLineHighlight();
            this._signal("afterRender");
            this.$updateGutterWidth(config2);
          };
          this.$renderLines = function(config2, firstRow, lastRow) {
            var fragment = [];
            var row = firstRow;
            var foldLine = this.session.getNextFoldLine(row);
            var foldStart = foldLine ? foldLine.start.row : Infinity;
            while (true) {
              if (row > foldStart) {
                row = foldLine.end.row + 1;
                foldLine = this.session.getNextFoldLine(row, foldLine);
                foldStart = foldLine ? foldLine.start.row : Infinity;
              }
              if (row > lastRow)
                break;
              var cell = this.$lines.createCell(row, config2, this.session, onCreateCell);
              this.$renderCell(cell, config2, foldLine, row);
              fragment.push(cell);
              row++;
            }
            return fragment;
          };
          this.$renderCell = function(cell, config2, fold, row) {
            var element = cell.element;
            var session = this.session;
            var textNode = element.childNodes[0];
            var foldWidget = element.childNodes[1];
            var firstLineNumber = session.$firstLineNumber;
            var breakpoints = session.$breakpoints;
            var decorations = session.$decorations;
            var gutterRenderer = session.gutterRenderer || this.$renderer;
            var foldWidgets = this.$showFoldWidgets && session.foldWidgets;
            var foldStart = fold ? fold.start.row : Number.MAX_VALUE;
            var className = "ace_gutter-cell ";
            if (this.$highlightGutterLine) {
              if (row == this.$cursorRow || fold && row < this.$cursorRow && row >= foldStart && this.$cursorRow <= fold.end.row) {
                className += "ace_gutter-active-line ";
                if (this.$cursorCell != cell) {
                  if (this.$cursorCell)
                    this.$cursorCell.element.className = this.$cursorCell.element.className.replace("ace_gutter-active-line ", "");
                  this.$cursorCell = cell;
                }
              }
            }
            if (breakpoints[row])
              className += breakpoints[row];
            if (decorations[row])
              className += decorations[row];
            if (this.$annotations[row])
              className += this.$annotations[row].className;
            if (element.className != className)
              element.className = className;
            if (foldWidgets) {
              var c2 = foldWidgets[row];
              if (c2 == null)
                c2 = foldWidgets[row] = session.getFoldWidget(row);
            }
            if (c2) {
              var className = "ace_fold-widget ace_" + c2;
              if (c2 == "start" && row == foldStart && row < fold.end.row)
                className += " ace_closed";
              else
                className += " ace_open";
              if (foldWidget.className != className)
                foldWidget.className = className;
              var foldHeight = config2.lineHeight + "px";
              dom.setStyle(foldWidget.style, "height", foldHeight);
              dom.setStyle(foldWidget.style, "display", "inline-block");
            } else {
              if (foldWidget) {
                dom.setStyle(foldWidget.style, "display", "none");
              }
            }
            var text = (gutterRenderer ? gutterRenderer.getText(session, row) : row + firstLineNumber).toString();
            if (text !== textNode.data) {
              textNode.data = text;
            }
            dom.setStyle(cell.element.style, "height", this.$lines.computeLineHeight(row, config2, session) + "px");
            dom.setStyle(cell.element.style, "top", this.$lines.computeLineTop(row, config2, session) + "px");
            cell.text = text;
            return cell;
          };
          this.$fixedWidth = false;
          this.$highlightGutterLine = true;
          this.$renderer = "";
          this.setHighlightGutterLine = function(highlightGutterLine) {
            this.$highlightGutterLine = highlightGutterLine;
          };
          this.$showLineNumbers = true;
          this.$renderer = "";
          this.setShowLineNumbers = function(show) {
            this.$renderer = !show && {
              getWidth: function() {
                return 0;
              },
              getText: function() {
                return "";
              }
            };
          };
          this.getShowLineNumbers = function() {
            return this.$showLineNumbers;
          };
          this.$showFoldWidgets = true;
          this.setShowFoldWidgets = function(show) {
            if (show)
              dom.addCssClass(this.element, "ace_folding-enabled");
            else
              dom.removeCssClass(this.element, "ace_folding-enabled");
            this.$showFoldWidgets = show;
            this.$padding = null;
          };
          this.getShowFoldWidgets = function() {
            return this.$showFoldWidgets;
          };
          this.$computePadding = function() {
            if (!this.element.firstChild)
              return { left: 0, right: 0 };
            var style = dom.computedStyle(this.element.firstChild);
            this.$padding = {};
            this.$padding.left = (parseInt(style.borderLeftWidth) || 0) + (parseInt(style.paddingLeft) || 0) + 1;
            this.$padding.right = (parseInt(style.borderRightWidth) || 0) + (parseInt(style.paddingRight) || 0);
            return this.$padding;
          };
          this.getRegion = function(point) {
            var padding = this.$padding || this.$computePadding();
            var rect = this.element.getBoundingClientRect();
            if (point.x < padding.left + rect.left)
              return "markers";
            if (this.$showFoldWidgets && point.x > rect.right - padding.right)
              return "foldWidgets";
          };
        }).call(Gutter.prototype);
        function onCreateCell(element) {
          var textNode = document.createTextNode("");
          element.appendChild(textNode);
          var foldWidget = dom.createElement("span");
          element.appendChild(foldWidget);
          return element;
        }
        exports2.Gutter = Gutter;
      });
      ace.define("ace/layer/marker", ["require", "exports", "module", "ace/range", "ace/lib/dom"], function(require3, exports2, module2) {
        "use strict";
        var Range = require3("../range").Range;
        var dom = require3("../lib/dom");
        var Marker = function(parentEl) {
          this.element = dom.createElement("div");
          this.element.className = "ace_layer ace_marker-layer";
          parentEl.appendChild(this.element);
        };
        (function() {
          this.$padding = 0;
          this.setPadding = function(padding) {
            this.$padding = padding;
          };
          this.setSession = function(session) {
            this.session = session;
          };
          this.setMarkers = function(markers) {
            this.markers = markers;
          };
          this.elt = function(className, css2) {
            var x2 = this.i != -1 && this.element.childNodes[this.i];
            if (!x2) {
              x2 = document.createElement("div");
              this.element.appendChild(x2);
              this.i = -1;
            } else {
              this.i++;
            }
            x2.style.cssText = css2;
            x2.className = className;
          };
          this.update = function(config2) {
            if (!config2)
              return;
            this.config = config2;
            this.i = 0;
            var html;
            for (var key in this.markers) {
              var marker = this.markers[key];
              if (!marker.range) {
                marker.update(html, this, this.session, config2);
                continue;
              }
              var range = marker.range.clipRows(config2.firstRow, config2.lastRow);
              if (range.isEmpty())
                continue;
              range = range.toScreenRange(this.session);
              if (marker.renderer) {
                var top = this.$getTop(range.start.row, config2);
                var left = this.$padding + range.start.column * config2.characterWidth;
                marker.renderer(html, range, left, top, config2);
              } else if (marker.type == "fullLine") {
                this.drawFullLineMarker(html, range, marker.clazz, config2);
              } else if (marker.type == "screenLine") {
                this.drawScreenLineMarker(html, range, marker.clazz, config2);
              } else if (range.isMultiLine()) {
                if (marker.type == "text")
                  this.drawTextMarker(html, range, marker.clazz, config2);
                else
                  this.drawMultiLineMarker(html, range, marker.clazz, config2);
              } else {
                this.drawSingleLineMarker(html, range, marker.clazz + " ace_start ace_br15", config2);
              }
            }
            if (this.i != -1) {
              while (this.i < this.element.childElementCount)
                this.element.removeChild(this.element.lastChild);
            }
          };
          this.$getTop = function(row, layerConfig) {
            return (row - layerConfig.firstRowScreen) * layerConfig.lineHeight;
          };
          function getBorderClass(tl, tr, br, bl) {
            return (tl ? 1 : 0) | (tr ? 2 : 0) | (br ? 4 : 0) | (bl ? 8 : 0);
          }
          this.drawTextMarker = function(stringBuilder, range, clazz, layerConfig, extraStyle) {
            var session = this.session;
            var start = range.start.row;
            var end = range.end.row;
            var row = start;
            var prev = 0;
            var curr = 0;
            var next = session.getScreenLastRowColumn(row);
            var lineRange = new Range(row, range.start.column, row, curr);
            for (; row <= end; row++) {
              lineRange.start.row = lineRange.end.row = row;
              lineRange.start.column = row == start ? range.start.column : session.getRowWrapIndent(row);
              lineRange.end.column = next;
              prev = curr;
              curr = next;
              next = row + 1 < end ? session.getScreenLastRowColumn(row + 1) : row == end ? 0 : range.end.column;
              this.drawSingleLineMarker(
                stringBuilder,
                lineRange,
                clazz + (row == start ? " ace_start" : "") + " ace_br" + getBorderClass(row == start || row == start + 1 && range.start.column, prev < curr, curr > next, row == end),
                layerConfig,
                row == end ? 0 : 1,
                extraStyle
              );
            }
          };
          this.drawMultiLineMarker = function(stringBuilder, range, clazz, config2, extraStyle) {
            var padding = this.$padding;
            var height = config2.lineHeight;
            var top = this.$getTop(range.start.row, config2);
            var left = padding + range.start.column * config2.characterWidth;
            extraStyle = extraStyle || "";
            if (this.session.$bidiHandler.isBidiRow(range.start.row)) {
              var range1 = range.clone();
              range1.end.row = range1.start.row;
              range1.end.column = this.session.getLine(range1.start.row).length;
              this.drawBidiSingleLineMarker(stringBuilder, range1, clazz + " ace_br1 ace_start", config2, null, extraStyle);
            } else {
              this.elt(
                clazz + " ace_br1 ace_start",
                "height:" + height + "px;right:0;top:" + top + "px;left:" + left + "px;" + (extraStyle || "")
              );
            }
            if (this.session.$bidiHandler.isBidiRow(range.end.row)) {
              var range1 = range.clone();
              range1.start.row = range1.end.row;
              range1.start.column = 0;
              this.drawBidiSingleLineMarker(stringBuilder, range1, clazz + " ace_br12", config2, null, extraStyle);
            } else {
              top = this.$getTop(range.end.row, config2);
              var width = range.end.column * config2.characterWidth;
              this.elt(
                clazz + " ace_br12",
                "height:" + height + "px;width:" + width + "px;top:" + top + "px;left:" + padding + "px;" + (extraStyle || "")
              );
            }
            height = (range.end.row - range.start.row - 1) * config2.lineHeight;
            if (height <= 0)
              return;
            top = this.$getTop(range.start.row + 1, config2);
            var radiusClass = (range.start.column ? 1 : 0) | (range.end.column ? 0 : 8);
            this.elt(
              clazz + (radiusClass ? " ace_br" + radiusClass : ""),
              "height:" + height + "px;right:0;top:" + top + "px;left:" + padding + "px;" + (extraStyle || "")
            );
          };
          this.drawSingleLineMarker = function(stringBuilder, range, clazz, config2, extraLength, extraStyle) {
            if (this.session.$bidiHandler.isBidiRow(range.start.row))
              return this.drawBidiSingleLineMarker(stringBuilder, range, clazz, config2, extraLength, extraStyle);
            var height = config2.lineHeight;
            var width = (range.end.column + (extraLength || 0) - range.start.column) * config2.characterWidth;
            var top = this.$getTop(range.start.row, config2);
            var left = this.$padding + range.start.column * config2.characterWidth;
            this.elt(
              clazz,
              "height:" + height + "px;width:" + width + "px;top:" + top + "px;left:" + left + "px;" + (extraStyle || "")
            );
          };
          this.drawBidiSingleLineMarker = function(stringBuilder, range, clazz, config2, extraLength, extraStyle) {
            var height = config2.lineHeight, top = this.$getTop(range.start.row, config2), padding = this.$padding;
            var selections = this.session.$bidiHandler.getSelections(range.start.column, range.end.column);
            selections.forEach(function(selection) {
              this.elt(
                clazz,
                "height:" + height + "px;width:" + selection.width + (extraLength || 0) + "px;top:" + top + "px;left:" + (padding + selection.left) + "px;" + (extraStyle || "")
              );
            }, this);
          };
          this.drawFullLineMarker = function(stringBuilder, range, clazz, config2, extraStyle) {
            var top = this.$getTop(range.start.row, config2);
            var height = config2.lineHeight;
            if (range.start.row != range.end.row)
              height += this.$getTop(range.end.row, config2) - top;
            this.elt(
              clazz,
              "height:" + height + "px;top:" + top + "px;left:0;right:0;" + (extraStyle || "")
            );
          };
          this.drawScreenLineMarker = function(stringBuilder, range, clazz, config2, extraStyle) {
            var top = this.$getTop(range.start.row, config2);
            var height = config2.lineHeight;
            this.elt(
              clazz,
              "height:" + height + "px;top:" + top + "px;left:0;right:0;" + (extraStyle || "")
            );
          };
        }).call(Marker.prototype);
        exports2.Marker = Marker;
      });
      ace.define("ace/layer/text", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/lib/lang", "ace/layer/lines", "ace/lib/event_emitter"], function(require3, exports2, module2) {
        "use strict";
        var oop = require3("../lib/oop");
        var dom = require3("../lib/dom");
        var lang = require3("../lib/lang");
        var Lines = require3("./lines").Lines;
        var EventEmitter = require3("../lib/event_emitter").EventEmitter;
        var Text = function(parentEl) {
          this.dom = dom;
          this.element = this.dom.createElement("div");
          this.element.className = "ace_layer ace_text-layer";
          parentEl.appendChild(this.element);
          this.$updateEolChar = this.$updateEolChar.bind(this);
          this.$lines = new Lines(this.element);
        };
        (function() {
          oop.implement(this, EventEmitter);
          this.EOF_CHAR = "\xB6";
          this.EOL_CHAR_LF = "\xAC";
          this.EOL_CHAR_CRLF = "\xA4";
          this.EOL_CHAR = this.EOL_CHAR_LF;
          this.TAB_CHAR = "\u2014";
          this.SPACE_CHAR = "\xB7";
          this.$padding = 0;
          this.MAX_LINE_LENGTH = 1e4;
          this.$updateEolChar = function() {
            var doc = this.session.doc;
            var unixMode = doc.getNewLineCharacter() == "\n" && doc.getNewLineMode() != "windows";
            var EOL_CHAR = unixMode ? this.EOL_CHAR_LF : this.EOL_CHAR_CRLF;
            if (this.EOL_CHAR != EOL_CHAR) {
              this.EOL_CHAR = EOL_CHAR;
              return true;
            }
          };
          this.setPadding = function(padding) {
            this.$padding = padding;
            this.element.style.margin = "0 " + padding + "px";
          };
          this.getLineHeight = function() {
            return this.$fontMetrics.$characterSize.height || 0;
          };
          this.getCharacterWidth = function() {
            return this.$fontMetrics.$characterSize.width || 0;
          };
          this.$setFontMetrics = function(measure) {
            this.$fontMetrics = measure;
            this.$fontMetrics.on("changeCharacterSize", function(e10) {
              this._signal("changeCharacterSize", e10);
            }.bind(this));
            this.$pollSizeChanges();
          };
          this.checkForSizeChanges = function() {
            this.$fontMetrics.checkForSizeChanges();
          };
          this.$pollSizeChanges = function() {
            return this.$pollSizeChangesTimer = this.$fontMetrics.$pollSizeChanges();
          };
          this.setSession = function(session) {
            this.session = session;
            if (session)
              this.$computeTabString();
          };
          this.showInvisibles = false;
          this.showSpaces = false;
          this.showTabs = false;
          this.showEOL = false;
          this.setShowInvisibles = function(showInvisibles) {
            if (this.showInvisibles == showInvisibles)
              return false;
            this.showInvisibles = showInvisibles;
            if (typeof showInvisibles == "string") {
              this.showSpaces = /tab/i.test(showInvisibles);
              this.showTabs = /space/i.test(showInvisibles);
              this.showEOL = /eol/i.test(showInvisibles);
            } else {
              this.showSpaces = this.showTabs = this.showEOL = showInvisibles;
            }
            this.$computeTabString();
            return true;
          };
          this.displayIndentGuides = true;
          this.setDisplayIndentGuides = function(display) {
            if (this.displayIndentGuides == display)
              return false;
            this.displayIndentGuides = display;
            this.$computeTabString();
            return true;
          };
          this.$tabStrings = [];
          this.onChangeTabSize = this.$computeTabString = function() {
            var tabSize = this.session.getTabSize();
            this.tabSize = tabSize;
            var tabStr = this.$tabStrings = [0];
            for (var i6 = 1; i6 < tabSize + 1; i6++) {
              if (this.showTabs) {
                var span = this.dom.createElement("span");
                span.className = "ace_invisible ace_invisible_tab";
                span.textContent = lang.stringRepeat(this.TAB_CHAR, i6);
                tabStr.push(span);
              } else {
                tabStr.push(this.dom.createTextNode(lang.stringRepeat(" ", i6), this.element));
              }
            }
            if (this.displayIndentGuides) {
              this.$indentGuideRe = /\s\S| \t|\t |\s$/;
              var className = "ace_indent-guide";
              var spaceClass = this.showSpaces ? " ace_invisible ace_invisible_space" : "";
              var spaceContent = this.showSpaces ? lang.stringRepeat(this.SPACE_CHAR, this.tabSize) : lang.stringRepeat(" ", this.tabSize);
              var tabClass = this.showTabs ? " ace_invisible ace_invisible_tab" : "";
              var tabContent = this.showTabs ? lang.stringRepeat(this.TAB_CHAR, this.tabSize) : spaceContent;
              var span = this.dom.createElement("span");
              span.className = className + spaceClass;
              span.textContent = spaceContent;
              this.$tabStrings[" "] = span;
              var span = this.dom.createElement("span");
              span.className = className + tabClass;
              span.textContent = tabContent;
              this.$tabStrings["	"] = span;
            }
          };
          this.updateLines = function(config2, firstRow, lastRow) {
            if (this.config.lastRow != config2.lastRow || this.config.firstRow != config2.firstRow) {
              return this.update(config2);
            }
            this.config = config2;
            var first = Math.max(firstRow, config2.firstRow);
            var last = Math.min(lastRow, config2.lastRow);
            var lineElements = this.element.childNodes;
            var lineElementsIdx = 0;
            for (var row = config2.firstRow; row < first; row++) {
              var foldLine = this.session.getFoldLine(row);
              if (foldLine) {
                if (foldLine.containsRow(first)) {
                  first = foldLine.start.row;
                  break;
                } else {
                  row = foldLine.end.row;
                }
              }
              lineElementsIdx++;
            }
            var heightChanged = false;
            var row = first;
            var foldLine = this.session.getNextFoldLine(row);
            var foldStart = foldLine ? foldLine.start.row : Infinity;
            while (true) {
              if (row > foldStart) {
                row = foldLine.end.row + 1;
                foldLine = this.session.getNextFoldLine(row, foldLine);
                foldStart = foldLine ? foldLine.start.row : Infinity;
              }
              if (row > last)
                break;
              var lineElement = lineElements[lineElementsIdx++];
              if (lineElement) {
                this.dom.removeChildren(lineElement);
                this.$renderLine(
                  lineElement,
                  row,
                  row == foldStart ? foldLine : false
                );
                if (heightChanged)
                  lineElement.style.top = this.$lines.computeLineTop(row, config2, this.session) + "px";
                var height = config2.lineHeight * this.session.getRowLength(row) + "px";
                if (lineElement.style.height != height) {
                  heightChanged = true;
                  lineElement.style.height = height;
                }
              }
              row++;
            }
            if (heightChanged) {
              while (lineElementsIdx < this.$lines.cells.length) {
                var cell = this.$lines.cells[lineElementsIdx++];
                cell.element.style.top = this.$lines.computeLineTop(cell.row, config2, this.session) + "px";
              }
            }
          };
          this.scrollLines = function(config2) {
            var oldConfig = this.config;
            this.config = config2;
            if (this.$lines.pageChanged(oldConfig, config2))
              return this.update(config2);
            this.$lines.moveContainer(config2);
            var lastRow = config2.lastRow;
            var oldLastRow = oldConfig ? oldConfig.lastRow : -1;
            if (!oldConfig || oldLastRow < config2.firstRow)
              return this.update(config2);
            if (lastRow < oldConfig.firstRow)
              return this.update(config2);
            if (!oldConfig || oldConfig.lastRow < config2.firstRow)
              return this.update(config2);
            if (config2.lastRow < oldConfig.firstRow)
              return this.update(config2);
            if (oldConfig.firstRow < config2.firstRow)
              for (var row = this.session.getFoldedRowCount(oldConfig.firstRow, config2.firstRow - 1); row > 0; row--)
                this.$lines.shift();
            if (oldConfig.lastRow > config2.lastRow)
              for (var row = this.session.getFoldedRowCount(config2.lastRow + 1, oldConfig.lastRow); row > 0; row--)
                this.$lines.pop();
            if (config2.firstRow < oldConfig.firstRow) {
              this.$lines.unshift(this.$renderLinesFragment(config2, config2.firstRow, oldConfig.firstRow - 1));
            }
            if (config2.lastRow > oldConfig.lastRow) {
              this.$lines.push(this.$renderLinesFragment(config2, oldConfig.lastRow + 1, config2.lastRow));
            }
          };
          this.$renderLinesFragment = function(config2, firstRow, lastRow) {
            var fragment = [];
            var row = firstRow;
            var foldLine = this.session.getNextFoldLine(row);
            var foldStart = foldLine ? foldLine.start.row : Infinity;
            while (true) {
              if (row > foldStart) {
                row = foldLine.end.row + 1;
                foldLine = this.session.getNextFoldLine(row, foldLine);
                foldStart = foldLine ? foldLine.start.row : Infinity;
              }
              if (row > lastRow)
                break;
              var line = this.$lines.createCell(row, config2, this.session);
              var lineEl = line.element;
              this.dom.removeChildren(lineEl);
              dom.setStyle(lineEl.style, "height", this.$lines.computeLineHeight(row, config2, this.session) + "px");
              dom.setStyle(lineEl.style, "top", this.$lines.computeLineTop(row, config2, this.session) + "px");
              this.$renderLine(lineEl, row, row == foldStart ? foldLine : false);
              if (this.$useLineGroups()) {
                lineEl.className = "ace_line_group";
              } else {
                lineEl.className = "ace_line";
              }
              fragment.push(line);
              row++;
            }
            return fragment;
          };
          this.update = function(config2) {
            this.$lines.moveContainer(config2);
            this.config = config2;
            var firstRow = config2.firstRow;
            var lastRow = config2.lastRow;
            var lines = this.$lines;
            while (lines.getLength())
              lines.pop();
            lines.push(this.$renderLinesFragment(config2, firstRow, lastRow));
          };
          this.$textToken = {
            "text": true,
            "rparen": true,
            "lparen": true
          };
          this.$renderToken = function(parent, screenColumn, token, value) {
            var self = this;
            var re = /(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g;
            var valueFragment = this.dom.createFragment(this.element);
            var m2;
            var i6 = 0;
            while (m2 = re.exec(value)) {
              var tab = m2[1];
              var simpleSpace = m2[2];
              var controlCharacter = m2[3];
              var cjkSpace = m2[4];
              var cjk = m2[5];
              if (!self.showSpaces && simpleSpace)
                continue;
              var before = i6 != m2.index ? value.slice(i6, m2.index) : "";
              i6 = m2.index + m2[0].length;
              if (before) {
                valueFragment.appendChild(this.dom.createTextNode(before, this.element));
              }
              if (tab) {
                var tabSize = self.session.getScreenTabSize(screenColumn + m2.index);
                valueFragment.appendChild(self.$tabStrings[tabSize].cloneNode(true));
                screenColumn += tabSize - 1;
              } else if (simpleSpace) {
                if (self.showSpaces) {
                  var span = this.dom.createElement("span");
                  span.className = "ace_invisible ace_invisible_space";
                  span.textContent = lang.stringRepeat(self.SPACE_CHAR, simpleSpace.length);
                  valueFragment.appendChild(span);
                } else {
                  valueFragment.appendChild(this.com.createTextNode(simpleSpace, this.element));
                }
              } else if (controlCharacter) {
                var span = this.dom.createElement("span");
                span.className = "ace_invisible ace_invisible_space ace_invalid";
                span.textContent = lang.stringRepeat(self.SPACE_CHAR, controlCharacter.length);
                valueFragment.appendChild(span);
              } else if (cjkSpace) {
                screenColumn += 1;
                var span = this.dom.createElement("span");
                span.style.width = self.config.characterWidth * 2 + "px";
                span.className = self.showSpaces ? "ace_cjk ace_invisible ace_invisible_space" : "ace_cjk";
                span.textContent = self.showSpaces ? self.SPACE_CHAR : cjkSpace;
                valueFragment.appendChild(span);
              } else if (cjk) {
                screenColumn += 1;
                var span = this.dom.createElement("span");
                span.style.width = self.config.characterWidth * 2 + "px";
                span.className = "ace_cjk";
                span.textContent = cjk;
                valueFragment.appendChild(span);
              }
            }
            valueFragment.appendChild(this.dom.createTextNode(i6 ? value.slice(i6) : value, this.element));
            if (!this.$textToken[token.type]) {
              var classes = "ace_" + token.type.replace(/\./g, " ace_");
              var span = this.dom.createElement("span");
              if (token.type == "fold")
                span.style.width = token.value.length * this.config.characterWidth + "px";
              span.className = classes;
              span.appendChild(valueFragment);
              parent.appendChild(span);
            } else {
              parent.appendChild(valueFragment);
            }
            return screenColumn + value.length;
          };
          this.renderIndentGuide = function(parent, value, max) {
            var cols = value.search(this.$indentGuideRe);
            if (cols <= 0 || cols >= max)
              return value;
            if (value[0] == " ") {
              cols -= cols % this.tabSize;
              var count = cols / this.tabSize;
              for (var i6 = 0; i6 < count; i6++) {
                parent.appendChild(this.$tabStrings[" "].cloneNode(true));
              }
              return value.substr(cols);
            } else if (value[0] == "	") {
              for (var i6 = 0; i6 < cols; i6++) {
                parent.appendChild(this.$tabStrings["	"].cloneNode(true));
              }
              return value.substr(cols);
            }
            return value;
          };
          this.$createLineElement = function(parent) {
            var lineEl = this.dom.createElement("div");
            lineEl.className = "ace_line";
            lineEl.style.height = this.config.lineHeight + "px";
            return lineEl;
          };
          this.$renderWrappedLine = function(parent, tokens, splits) {
            var chars = 0;
            var split = 0;
            var splitChars = splits[0];
            var screenColumn = 0;
            var lineEl = this.$createLineElement();
            parent.appendChild(lineEl);
            for (var i6 = 0; i6 < tokens.length; i6++) {
              var token = tokens[i6];
              var value = token.value;
              if (i6 == 0 && this.displayIndentGuides) {
                chars = value.length;
                value = this.renderIndentGuide(lineEl, value, splitChars);
                if (!value)
                  continue;
                chars -= value.length;
              }
              if (chars + value.length < splitChars) {
                screenColumn = this.$renderToken(lineEl, screenColumn, token, value);
                chars += value.length;
              } else {
                while (chars + value.length >= splitChars) {
                  screenColumn = this.$renderToken(
                    lineEl,
                    screenColumn,
                    token,
                    value.substring(0, splitChars - chars)
                  );
                  value = value.substring(splitChars - chars);
                  chars = splitChars;
                  lineEl = this.$createLineElement();
                  parent.appendChild(lineEl);
                  lineEl.appendChild(this.dom.createTextNode(lang.stringRepeat("\xA0", splits.indent), this.element));
                  split++;
                  screenColumn = 0;
                  splitChars = splits[split] || Number.MAX_VALUE;
                }
                if (value.length != 0) {
                  chars += value.length;
                  screenColumn = this.$renderToken(
                    lineEl,
                    screenColumn,
                    token,
                    value
                  );
                }
              }
            }
            if (splits[splits.length - 1] > this.MAX_LINE_LENGTH)
              this.$renderOverflowMessage(lineEl, screenColumn, null, "", true);
          };
          this.$renderSimpleLine = function(parent, tokens) {
            var screenColumn = 0;
            for (var i6 = 0; i6 < tokens.length; i6++) {
              var token = tokens[i6];
              var value = token.value;
              if (i6 == 0 && this.displayIndentGuides) {
                value = this.renderIndentGuide(parent, value);
                if (!value)
                  continue;
              }
              if (screenColumn + value.length > this.MAX_LINE_LENGTH)
                return this.$renderOverflowMessage(parent, screenColumn, token, value);
              screenColumn = this.$renderToken(parent, screenColumn, token, value);
            }
          };
          this.$renderOverflowMessage = function(parent, screenColumn, token, value, hide) {
            token && this.$renderToken(
              parent,
              screenColumn,
              token,
              value.slice(0, this.MAX_LINE_LENGTH - screenColumn)
            );
            var overflowEl = this.dom.createElement("span");
            overflowEl.className = "ace_inline_button ace_keyword ace_toggle_wrap";
            overflowEl.textContent = hide ? "<hide>" : "<click to see more...>";
            parent.appendChild(overflowEl);
          };
          this.$renderLine = function(parent, row, foldLine) {
            if (!foldLine && foldLine != false)
              foldLine = this.session.getFoldLine(row);
            if (foldLine)
              var tokens = this.$getFoldLineTokens(row, foldLine);
            else
              var tokens = this.session.getTokens(row);
            var lastLineEl = parent;
            if (tokens.length) {
              var splits = this.session.getRowSplitData(row);
              if (splits && splits.length) {
                this.$renderWrappedLine(parent, tokens, splits);
                var lastLineEl = parent.lastChild;
              } else {
                var lastLineEl = parent;
                if (this.$useLineGroups()) {
                  lastLineEl = this.$createLineElement();
                  parent.appendChild(lastLineEl);
                }
                this.$renderSimpleLine(lastLineEl, tokens);
              }
            } else if (this.$useLineGroups()) {
              lastLineEl = this.$createLineElement();
              parent.appendChild(lastLineEl);
            }
            if (this.showEOL && lastLineEl) {
              if (foldLine)
                row = foldLine.end.row;
              var invisibleEl = this.dom.createElement("span");
              invisibleEl.className = "ace_invisible ace_invisible_eol";
              invisibleEl.textContent = row == this.session.getLength() - 1 ? this.EOF_CHAR : this.EOL_CHAR;
              lastLineEl.appendChild(invisibleEl);
            }
          };
          this.$getFoldLineTokens = function(row, foldLine) {
            var session = this.session;
            var renderTokens = [];
            function addTokens(tokens2, from, to) {
              var idx = 0, col = 0;
              while (col + tokens2[idx].value.length < from) {
                col += tokens2[idx].value.length;
                idx++;
                if (idx == tokens2.length)
                  return;
              }
              if (col != from) {
                var value = tokens2[idx].value.substring(from - col);
                if (value.length > to - from)
                  value = value.substring(0, to - from);
                renderTokens.push({
                  type: tokens2[idx].type,
                  value
                });
                col = from + value.length;
                idx += 1;
              }
              while (col < to && idx < tokens2.length) {
                var value = tokens2[idx].value;
                if (value.length + col > to) {
                  renderTokens.push({
                    type: tokens2[idx].type,
                    value: value.substring(0, to - col)
                  });
                } else
                  renderTokens.push(tokens2[idx]);
                col += value.length;
                idx += 1;
              }
            }
            var tokens = session.getTokens(row);
            foldLine.walk(function(placeholder, row2, column, lastColumn, isNewRow) {
              if (placeholder != null) {
                renderTokens.push({
                  type: "fold",
                  value: placeholder
                });
              } else {
                if (isNewRow)
                  tokens = session.getTokens(row2);
                if (tokens.length)
                  addTokens(tokens, lastColumn, column);
              }
            }, foldLine.end.row, this.session.getLine(foldLine.end.row).length);
            return renderTokens;
          };
          this.$useLineGroups = function() {
            return this.session.getUseWrapMode();
          };
          this.destroy = function() {
          };
        }).call(Text.prototype);
        exports2.Text = Text;
      });
      ace.define("ace/layer/cursor", ["require", "exports", "module", "ace/lib/dom"], function(require3, exports2, module2) {
        "use strict";
        var dom = require3("../lib/dom");
        var Cursor = function(parentEl) {
          this.element = dom.createElement("div");
          this.element.className = "ace_layer ace_cursor-layer";
          parentEl.appendChild(this.element);
          this.isVisible = false;
          this.isBlinking = true;
          this.blinkInterval = 1e3;
          this.smoothBlinking = false;
          this.cursors = [];
          this.cursor = this.addCursor();
          dom.addCssClass(this.element, "ace_hidden-cursors");
          this.$updateCursors = this.$updateOpacity.bind(this);
        };
        (function() {
          this.$updateOpacity = function(val) {
            var cursors = this.cursors;
            for (var i6 = cursors.length; i6--; )
              dom.setStyle(cursors[i6].style, "opacity", val ? "" : "0");
          };
          this.$startCssAnimation = function() {
            var cursors = this.cursors;
            for (var i6 = cursors.length; i6--; )
              cursors[i6].style.animationDuration = this.blinkInterval + "ms";
            this.$isAnimating = true;
            setTimeout(function() {
              if (this.$isAnimating) {
                dom.addCssClass(this.element, "ace_animate-blinking");
              }
            }.bind(this));
          };
          this.$stopCssAnimation = function() {
            this.$isAnimating = false;
            dom.removeCssClass(this.element, "ace_animate-blinking");
          };
          this.$padding = 0;
          this.setPadding = function(padding) {
            this.$padding = padding;
          };
          this.setSession = function(session) {
            this.session = session;
          };
          this.setBlinking = function(blinking) {
            if (blinking != this.isBlinking) {
              this.isBlinking = blinking;
              this.restartTimer();
            }
          };
          this.setBlinkInterval = function(blinkInterval) {
            if (blinkInterval != this.blinkInterval) {
              this.blinkInterval = blinkInterval;
              this.restartTimer();
            }
          };
          this.setSmoothBlinking = function(smoothBlinking) {
            if (smoothBlinking != this.smoothBlinking) {
              this.smoothBlinking = smoothBlinking;
              dom.setCssClass(this.element, "ace_smooth-blinking", smoothBlinking);
              this.$updateCursors(true);
              this.restartTimer();
            }
          };
          this.addCursor = function() {
            var el = dom.createElement("div");
            el.className = "ace_cursor";
            this.element.appendChild(el);
            this.cursors.push(el);
            return el;
          };
          this.removeCursor = function() {
            if (this.cursors.length > 1) {
              var el = this.cursors.pop();
              el.parentNode.removeChild(el);
              return el;
            }
          };
          this.hideCursor = function() {
            this.isVisible = false;
            dom.addCssClass(this.element, "ace_hidden-cursors");
            this.restartTimer();
          };
          this.showCursor = function() {
            this.isVisible = true;
            dom.removeCssClass(this.element, "ace_hidden-cursors");
            this.restartTimer();
          };
          this.restartTimer = function() {
            var update = this.$updateCursors;
            clearInterval(this.intervalId);
            clearTimeout(this.timeoutId);
            this.$stopCssAnimation();
            if (this.smoothBlinking) {
              this.$isSmoothBlinking = false;
              dom.removeCssClass(this.element, "ace_smooth-blinking");
            }
            update(true);
            if (!this.isBlinking || !this.blinkInterval || !this.isVisible) {
              this.$stopCssAnimation();
              return;
            }
            if (this.smoothBlinking) {
              this.$isSmoothBlinking = true;
              setTimeout(function() {
                if (this.$isSmoothBlinking) {
                  dom.addCssClass(this.element, "ace_smooth-blinking");
                }
              }.bind(this));
            }
            if (dom.HAS_CSS_ANIMATION) {
              this.$startCssAnimation();
            } else {
              var blink = function() {
                this.timeoutId = setTimeout(function() {
                  update(false);
                }, 0.6 * this.blinkInterval);
              }.bind(this);
              this.intervalId = setInterval(function() {
                update(true);
                blink();
              }, this.blinkInterval);
              blink();
            }
          };
          this.getPixelPosition = function(position, onScreen) {
            if (!this.config || !this.session)
              return { left: 0, top: 0 };
            if (!position)
              position = this.session.selection.getCursor();
            var pos = this.session.documentToScreenPosition(position);
            var cursorLeft = this.$padding + (this.session.$bidiHandler.isBidiRow(pos.row, position.row) ? this.session.$bidiHandler.getPosLeft(pos.column) : pos.column * this.config.characterWidth);
            var cursorTop = (pos.row - (onScreen ? this.config.firstRowScreen : 0)) * this.config.lineHeight;
            return { left: cursorLeft, top: cursorTop };
          };
          this.isCursorInView = function(pixelPos, config2) {
            return pixelPos.top >= 0 && pixelPos.top < config2.maxHeight;
          };
          this.update = function(config2) {
            this.config = config2;
            var selections = this.session.$selectionMarkers;
            var i6 = 0, cursorIndex = 0;
            if (selections === void 0 || selections.length === 0) {
              selections = [{ cursor: null }];
            }
            for (var i6 = 0, n9 = selections.length; i6 < n9; i6++) {
              var pixelPos = this.getPixelPosition(selections[i6].cursor, true);
              if ((pixelPos.top > config2.height + config2.offset || pixelPos.top < 0) && i6 > 1) {
                continue;
              }
              var element = this.cursors[cursorIndex++] || this.addCursor();
              var style = element.style;
              if (!this.drawCursor) {
                if (!this.isCursorInView(pixelPos, config2)) {
                  dom.setStyle(style, "display", "none");
                } else {
                  dom.setStyle(style, "display", "block");
                  dom.translate(element, pixelPos.left, pixelPos.top);
                  dom.setStyle(style, "width", Math.round(config2.characterWidth) + "px");
                  dom.setStyle(style, "height", config2.lineHeight + "px");
                }
              } else {
                this.drawCursor(element, pixelPos, config2, selections[i6], this.session);
              }
            }
            while (this.cursors.length > cursorIndex)
              this.removeCursor();
            var overwrite = this.session.getOverwrite();
            this.$setOverwrite(overwrite);
            this.$pixelPos = pixelPos;
            this.restartTimer();
          };
          this.drawCursor = null;
          this.$setOverwrite = function(overwrite) {
            if (overwrite != this.overwrite) {
              this.overwrite = overwrite;
              if (overwrite)
                dom.addCssClass(this.element, "ace_overwrite-cursors");
              else
                dom.removeCssClass(this.element, "ace_overwrite-cursors");
            }
          };
          this.destroy = function() {
            clearInterval(this.intervalId);
            clearTimeout(this.timeoutId);
          };
        }).call(Cursor.prototype);
        exports2.Cursor = Cursor;
      });
      ace.define("ace/scrollbar", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/lib/event", "ace/lib/event_emitter"], function(require3, exports2, module2) {
        "use strict";
        var oop = require3("./lib/oop");
        var dom = require3("./lib/dom");
        var event = require3("./lib/event");
        var EventEmitter = require3("./lib/event_emitter").EventEmitter;
        var MAX_SCROLL_H = 32768;
        var ScrollBar = function(parent) {
          this.element = dom.createElement("div");
          this.element.className = "ace_scrollbar ace_scrollbar" + this.classSuffix;
          this.inner = dom.createElement("div");
          this.inner.className = "ace_scrollbar-inner";
          this.inner.textContent = "\xA0";
          this.element.appendChild(this.inner);
          parent.appendChild(this.element);
          this.setVisible(false);
          this.skipEvent = false;
          event.addListener(this.element, "scroll", this.onScroll.bind(this));
          event.addListener(this.element, "mousedown", event.preventDefault);
        };
        (function() {
          oop.implement(this, EventEmitter);
          this.setVisible = function(isVisible) {
            this.element.style.display = isVisible ? "" : "none";
            this.isVisible = isVisible;
            this.coeff = 1;
          };
        }).call(ScrollBar.prototype);
        var VScrollBar = function(parent, renderer) {
          ScrollBar.call(this, parent);
          this.scrollTop = 0;
          this.scrollHeight = 0;
          renderer.$scrollbarWidth = this.width = dom.scrollbarWidth(parent.ownerDocument);
          this.inner.style.width = this.element.style.width = (this.width || 15) + 5 + "px";
          this.$minWidth = 0;
        };
        oop.inherits(VScrollBar, ScrollBar);
        (function() {
          this.classSuffix = "-v";
          this.onScroll = function() {
            if (!this.skipEvent) {
              this.scrollTop = this.element.scrollTop;
              if (this.coeff != 1) {
                var h5 = this.element.clientHeight / this.scrollHeight;
                this.scrollTop = this.scrollTop * (1 - h5) / (this.coeff - h5);
              }
              this._emit("scroll", { data: this.scrollTop });
            }
            this.skipEvent = false;
          };
          this.getWidth = function() {
            return Math.max(this.isVisible ? this.width : 0, this.$minWidth || 0);
          };
          this.setHeight = function(height) {
            this.element.style.height = height + "px";
          };
          this.setInnerHeight = this.setScrollHeight = function(height) {
            this.scrollHeight = height;
            if (height > MAX_SCROLL_H) {
              this.coeff = MAX_SCROLL_H / height;
              height = MAX_SCROLL_H;
            } else if (this.coeff != 1) {
              this.coeff = 1;
            }
            this.inner.style.height = height + "px";
          };
          this.setScrollTop = function(scrollTop) {
            if (this.scrollTop != scrollTop) {
              this.skipEvent = true;
              this.scrollTop = scrollTop;
              this.element.scrollTop = scrollTop * this.coeff;
            }
          };
        }).call(VScrollBar.prototype);
        var HScrollBar = function(parent, renderer) {
          ScrollBar.call(this, parent);
          this.scrollLeft = 0;
          this.height = renderer.$scrollbarWidth;
          this.inner.style.height = this.element.style.height = (this.height || 15) + 5 + "px";
        };
        oop.inherits(HScrollBar, ScrollBar);
        (function() {
          this.classSuffix = "-h";
          this.onScroll = function() {
            if (!this.skipEvent) {
              this.scrollLeft = this.element.scrollLeft;
              this._emit("scroll", { data: this.scrollLeft });
            }
            this.skipEvent = false;
          };
          this.getHeight = function() {
            return this.isVisible ? this.height : 0;
          };
          this.setWidth = function(width) {
            this.element.style.width = width + "px";
          };
          this.setInnerWidth = function(width) {
            this.inner.style.width = width + "px";
          };
          this.setScrollWidth = function(width) {
            this.inner.style.width = width + "px";
          };
          this.setScrollLeft = function(scrollLeft) {
            if (this.scrollLeft != scrollLeft) {
              this.skipEvent = true;
              this.scrollLeft = this.element.scrollLeft = scrollLeft;
            }
          };
        }).call(HScrollBar.prototype);
        exports2.ScrollBar = VScrollBar;
        exports2.ScrollBarV = VScrollBar;
        exports2.ScrollBarH = HScrollBar;
        exports2.VScrollBar = VScrollBar;
        exports2.HScrollBar = HScrollBar;
      });
      ace.define("ace/renderloop", ["require", "exports", "module", "ace/lib/event"], function(require3, exports2, module2) {
        "use strict";
        var event = require3("./lib/event");
        var RenderLoop = function(onRender, win) {
          this.onRender = onRender;
          this.pending = false;
          this.changes = 0;
          this.$recursionLimit = 2;
          this.window = win || window;
          var _self = this;
          this._flush = function(ts) {
            _self.pending = false;
            var changes = _self.changes;
            if (changes) {
              event.blockIdle(100);
              _self.changes = 0;
              _self.onRender(changes);
            }
            if (_self.changes) {
              if (_self.$recursionLimit-- < 0)
                return;
              _self.schedule();
            } else {
              _self.$recursionLimit = 2;
            }
          };
        };
        (function() {
          this.schedule = function(change) {
            this.changes = this.changes | change;
            if (this.changes && !this.pending) {
              event.nextFrame(this._flush);
              this.pending = true;
            }
          };
          this.clear = function(change) {
            var changes = this.changes;
            this.changes = 0;
            return changes;
          };
        }).call(RenderLoop.prototype);
        exports2.RenderLoop = RenderLoop;
      });
      ace.define("ace/layer/font_metrics", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/lib/lang", "ace/lib/event", "ace/lib/useragent", "ace/lib/event_emitter"], function(require3, exports2, module2) {
        var oop = require3("../lib/oop");
        var dom = require3("../lib/dom");
        var lang = require3("../lib/lang");
        var event = require3("../lib/event");
        var useragent = require3("../lib/useragent");
        var EventEmitter = require3("../lib/event_emitter").EventEmitter;
        var CHAR_COUNT = 256;
        var USE_OBSERVER = typeof ResizeObserver == "function";
        var L2 = 200;
        var FontMetrics = exports2.FontMetrics = function(parentEl) {
          this.el = dom.createElement("div");
          this.$setMeasureNodeStyles(this.el.style, true);
          this.$main = dom.createElement("div");
          this.$setMeasureNodeStyles(this.$main.style);
          this.$measureNode = dom.createElement("div");
          this.$setMeasureNodeStyles(this.$measureNode.style);
          this.el.appendChild(this.$main);
          this.el.appendChild(this.$measureNode);
          parentEl.appendChild(this.el);
          this.$measureNode.textContent = lang.stringRepeat("X", CHAR_COUNT);
          this.$characterSize = { width: 0, height: 0 };
          if (USE_OBSERVER)
            this.$addObserver();
          else
            this.checkForSizeChanges();
        };
        (function() {
          oop.implement(this, EventEmitter);
          this.$characterSize = { width: 0, height: 0 };
          this.$setMeasureNodeStyles = function(style, isRoot) {
            style.width = style.height = "auto";
            style.left = style.top = "0px";
            style.visibility = "hidden";
            style.position = "absolute";
            style.whiteSpace = "pre";
            if (useragent.isIE < 8) {
              style["font-family"] = "inherit";
            } else {
              style.font = "inherit";
            }
            style.overflow = isRoot ? "hidden" : "visible";
          };
          this.checkForSizeChanges = function(size) {
            if (size === void 0)
              size = this.$measureSizes();
            if (size && (this.$characterSize.width !== size.width || this.$characterSize.height !== size.height)) {
              this.$measureNode.style.fontWeight = "bold";
              var boldSize = this.$measureSizes();
              this.$measureNode.style.fontWeight = "";
              this.$characterSize = size;
              this.charSizes = /* @__PURE__ */ Object.create(null);
              this.allowBoldFonts = boldSize && boldSize.width === size.width && boldSize.height === size.height;
              this._emit("changeCharacterSize", { data: size });
            }
          };
          this.$addObserver = function() {
            var self = this;
            this.$observer = new window.ResizeObserver(function(e10) {
              self.checkForSizeChanges();
            });
            this.$observer.observe(this.$measureNode);
          };
          this.$pollSizeChanges = function() {
            if (this.$pollSizeChangesTimer || this.$observer)
              return this.$pollSizeChangesTimer;
            var self = this;
            return this.$pollSizeChangesTimer = event.onIdle(function cb() {
              self.checkForSizeChanges();
              event.onIdle(cb, 500);
            }, 500);
          };
          this.setPolling = function(val) {
            if (val) {
              this.$pollSizeChanges();
            } else if (this.$pollSizeChangesTimer) {
              clearInterval(this.$pollSizeChangesTimer);
              this.$pollSizeChangesTimer = 0;
            }
          };
          this.$measureSizes = function(node) {
            var size = {
              height: (node || this.$measureNode).clientHeight,
              width: (node || this.$measureNode).clientWidth / CHAR_COUNT
            };
            if (size.width === 0 || size.height === 0)
              return null;
            return size;
          };
          this.$measureCharWidth = function(ch) {
            this.$main.textContent = lang.stringRepeat(ch, CHAR_COUNT);
            var rect = this.$main.getBoundingClientRect();
            return rect.width / CHAR_COUNT;
          };
          this.getCharacterWidth = function(ch) {
            var w2 = this.charSizes[ch];
            if (w2 === void 0) {
              w2 = this.charSizes[ch] = this.$measureCharWidth(ch) / this.$characterSize.width;
            }
            return w2;
          };
          this.destroy = function() {
            clearInterval(this.$pollSizeChangesTimer);
            if (this.$observer)
              this.$observer.disconnect();
            if (this.el && this.el.parentNode)
              this.el.parentNode.removeChild(this.el);
          };
          this.$getZoom = function getZoom(element) {
            if (!element || !element.parentElement)
              return 1;
            return (window.getComputedStyle(element).zoom || 1) * getZoom(element.parentElement);
          };
          this.$initTransformMeasureNodes = function() {
            var t5 = function(t6, l7) {
              return ["div", {
                style: "position: absolute;top:" + t6 + "px;left:" + l7 + "px;"
              }];
            };
            this.els = dom.buildDom([t5(0, 0), t5(L2, 0), t5(0, L2), t5(L2, L2)], this.el);
          };
          this.transformCoordinates = function(clientPos, elPos) {
            if (clientPos) {
              var zoom = this.$getZoom(this.el);
              clientPos = mul(1 / zoom, clientPos);
            }
            function solve(l1, l22, r5) {
              var det = l1[1] * l22[0] - l1[0] * l22[1];
              return [
                (-l22[1] * r5[0] + l22[0] * r5[1]) / det,
                (+l1[1] * r5[0] - l1[0] * r5[1]) / det
              ];
            }
            function sub(a4, b3) {
              return [a4[0] - b3[0], a4[1] - b3[1]];
            }
            function add(a4, b3) {
              return [a4[0] + b3[0], a4[1] + b3[1]];
            }
            function mul(a4, b3) {
              return [a4 * b3[0], a4 * b3[1]];
            }
            if (!this.els)
              this.$initTransformMeasureNodes();
            function p2(el) {
              var r5 = el.getBoundingClientRect();
              return [r5.left, r5.top];
            }
            var a3 = p2(this.els[0]);
            var b2 = p2(this.els[1]);
            var c2 = p2(this.els[2]);
            var d3 = p2(this.els[3]);
            var h5 = solve(sub(d3, b2), sub(d3, c2), sub(add(b2, c2), add(d3, a3)));
            var m1 = mul(1 + h5[0], sub(b2, a3));
            var m2 = mul(1 + h5[1], sub(c2, a3));
            if (elPos) {
              var x2 = elPos;
              var k2 = h5[0] * x2[0] / L2 + h5[1] * x2[1] / L2 + 1;
              var ut = add(mul(x2[0], m1), mul(x2[1], m2));
              return add(mul(1 / k2 / L2, ut), a3);
            }
            var u2 = sub(clientPos, a3);
            var f2 = solve(sub(m1, mul(h5[0], u2)), sub(m2, mul(h5[1], u2)), u2);
            return mul(L2, f2);
          };
        }).call(FontMetrics.prototype);
      });
      ace.define("ace/virtual_renderer", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/config", "ace/layer/gutter", "ace/layer/marker", "ace/layer/text", "ace/layer/cursor", "ace/scrollbar", "ace/scrollbar", "ace/renderloop", "ace/layer/font_metrics", "ace/lib/event_emitter", "ace/lib/useragent"], function(require3, exports2, module2) {
        "use strict";
        var oop = require3("./lib/oop");
        var dom = require3("./lib/dom");
        var config2 = require3("./config");
        var GutterLayer = require3("./layer/gutter").Gutter;
        var MarkerLayer = require3("./layer/marker").Marker;
        var TextLayer = require3("./layer/text").Text;
        var CursorLayer = require3("./layer/cursor").Cursor;
        var HScrollBar = require3("./scrollbar").HScrollBar;
        var VScrollBar = require3("./scrollbar").VScrollBar;
        var RenderLoop = require3("./renderloop").RenderLoop;
        var FontMetrics = require3("./layer/font_metrics").FontMetrics;
        var EventEmitter = require3("./lib/event_emitter").EventEmitter;
        var editorCss = `.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_editor {position: relative;overflow: hidden;padding: 0;font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;box-sizing: border-box;min-width: 100%;contain: style size layout;font-variant-ligatures: no-common-ligatures;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: '';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;contain: style size layout;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {position: absolute;top: 0;left: 0;right: 0;padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {contain: strict;position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;contain: strict;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: transparent;color: inherit;z-index: 1000;opacity: 1;}.ace_composition_placeholder { color: transparent }.ace_composition_marker { border-bottom: 1px solid;position: absolute;border-radius: 0;margin-top: 1px;}[ace_nocontext=true] {transform: none!important;filter: none!important;clip-path: none!important;mask : none!important;contain: none!important;perspective: none!important;mix-blend-mode: initial!important;z-index: auto;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;height: 1000000px;contain: style size layout;}.ace_text-layer {font: inherit !important;position: absolute;height: 1000000px;width: 1000000px;contain: style size layout;}.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {contain: style size layout;position: absolute;top: 0;left: 0;right: 0;}.ace_hidpi .ace_text-layer,.ace_hidpi .ace_gutter-layer,.ace_hidpi .ace_content,.ace_hidpi .ace_gutter {contain: strict;will-change: transform;}.ace_hidpi .ace_text-layer > .ace_line, .ace_hidpi .ace_text-layer > .ace_line_group {contain: strict;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {opacity: 0;}.ace_smooth-blinking .ace_cursor {transition: opacity 0.18s;}.ace_animate-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: step-end;animation-name: blink-ace-animate;animation-iteration-count: infinite;}.ace_animate-blinking.ace_smooth-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: ease-in-out;animation-name: blink-ace-animate-smooth;}@keyframes blink-ace-animate {from, to { opacity: 1; }60% { opacity: 0; }}@keyframes blink-ace-animate-smooth {from, to { opacity: 1; }45% { opacity: 1; }60% { opacity: 0; }85% { opacity: 0; }}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_error_bracket {position: absolute;border-bottom: 1px solid #DE5555;border-radius: 0;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;box-sizing: border-box;}.ace_line .ace_fold {box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_inline_button {border: 1px solid lightgray;display: inline-block;margin: -1px 8px;padding: 0 5px;pointer-events: auto;cursor: pointer;}.ace_inline_button:hover {border-color: gray;background: rgba(200,200,200,0.2);display: inline-block;pointer-events: auto;}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_mobile-menu {position: absolute;line-height: 1.5;border-radius: 4px;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;background: white;box-shadow: 1px 3px 2px grey;border: 1px solid #dcdcdc;color: black;}.ace_dark > .ace_mobile-menu {background: #333;color: #ccc;box-shadow: 1px 3px 2px grey;border: 1px solid #444;}.ace_mobile-button {padding: 2px;cursor: pointer;overflow: hidden;}.ace_mobile-button:hover {background-color: #eee;opacity:1;}.ace_mobile-button:active {background-color: #ddd;}.ace_placeholder {font-family: arial;transform: scale(0.9);transform-origin: left;white-space: pre;opacity: 0.7;margin: 0 10px;}`;
        var useragent = require3("./lib/useragent");
        var HIDE_TEXTAREA = useragent.isIE;
        dom.importCssString(editorCss, "ace_editor.css", false);
        var VirtualRenderer = function(container, theme) {
          var _self = this;
          this.container = container || dom.createElement("div");
          dom.addCssClass(this.container, "ace_editor");
          if (dom.HI_DPI)
            dom.addCssClass(this.container, "ace_hidpi");
          this.setTheme(theme);
          if (config2.get("useStrictCSP") == null)
            config2.set("useStrictCSP", false);
          this.$gutter = dom.createElement("div");
          this.$gutter.className = "ace_gutter";
          this.container.appendChild(this.$gutter);
          this.$gutter.setAttribute("aria-hidden", true);
          this.scroller = dom.createElement("div");
          this.scroller.className = "ace_scroller";
          this.container.appendChild(this.scroller);
          this.content = dom.createElement("div");
          this.content.className = "ace_content";
          this.scroller.appendChild(this.content);
          this.$gutterLayer = new GutterLayer(this.$gutter);
          this.$gutterLayer.on("changeGutterWidth", this.onGutterResize.bind(this));
          this.$markerBack = new MarkerLayer(this.content);
          var textLayer = this.$textLayer = new TextLayer(this.content);
          this.canvas = textLayer.element;
          this.$markerFront = new MarkerLayer(this.content);
          this.$cursorLayer = new CursorLayer(this.content);
          this.$horizScroll = false;
          this.$vScroll = false;
          this.scrollBar = this.scrollBarV = new VScrollBar(this.container, this);
          this.scrollBarH = new HScrollBar(this.container, this);
          this.scrollBarV.on("scroll", function(e10) {
            if (!_self.$scrollAnimation)
              _self.session.setScrollTop(e10.data - _self.scrollMargin.top);
          });
          this.scrollBarH.on("scroll", function(e10) {
            if (!_self.$scrollAnimation)
              _self.session.setScrollLeft(e10.data - _self.scrollMargin.left);
          });
          this.scrollTop = 0;
          this.scrollLeft = 0;
          this.cursorPos = {
            row: 0,
            column: 0
          };
          this.$fontMetrics = new FontMetrics(this.container);
          this.$textLayer.$setFontMetrics(this.$fontMetrics);
          this.$textLayer.on("changeCharacterSize", function(e10) {
            _self.updateCharacterSize();
            _self.onResize(true, _self.gutterWidth, _self.$size.width, _self.$size.height);
            _self._signal("changeCharacterSize", e10);
          });
          this.$size = {
            width: 0,
            height: 0,
            scrollerHeight: 0,
            scrollerWidth: 0,
            $dirty: true
          };
          this.layerConfig = {
            width: 1,
            padding: 0,
            firstRow: 0,
            firstRowScreen: 0,
            lastRow: 0,
            lineHeight: 0,
            characterWidth: 0,
            minHeight: 1,
            maxHeight: 1,
            offset: 0,
            height: 1,
            gutterOffset: 1
          };
          this.scrollMargin = {
            left: 0,
            right: 0,
            top: 0,
            bottom: 0,
            v: 0,
            h: 0
          };
          this.margin = {
            left: 0,
            right: 0,
            top: 0,
            bottom: 0,
            v: 0,
            h: 0
          };
          this.$keepTextAreaAtCursor = !useragent.isIOS;
          this.$loop = new RenderLoop(
            this.$renderChanges.bind(this),
            this.container.ownerDocument.defaultView
          );
          this.$loop.schedule(this.CHANGE_FULL);
          this.updateCharacterSize();
          this.setPadding(4);
          config2.resetOptions(this);
          config2._signal("renderer", this);
        };
        (function() {
          this.CHANGE_CURSOR = 1;
          this.CHANGE_MARKER = 2;
          this.CHANGE_GUTTER = 4;
          this.CHANGE_SCROLL = 8;
          this.CHANGE_LINES = 16;
          this.CHANGE_TEXT = 32;
          this.CHANGE_SIZE = 64;
          this.CHANGE_MARKER_BACK = 128;
          this.CHANGE_MARKER_FRONT = 256;
          this.CHANGE_FULL = 512;
          this.CHANGE_H_SCROLL = 1024;
          oop.implement(this, EventEmitter);
          this.updateCharacterSize = function() {
            if (this.$textLayer.allowBoldFonts != this.$allowBoldFonts) {
              this.$allowBoldFonts = this.$textLayer.allowBoldFonts;
              this.setStyle("ace_nobold", !this.$allowBoldFonts);
            }
            this.layerConfig.characterWidth = this.characterWidth = this.$textLayer.getCharacterWidth();
            this.layerConfig.lineHeight = this.lineHeight = this.$textLayer.getLineHeight();
            this.$updatePrintMargin();
            dom.setStyle(this.scroller.style, "line-height", this.lineHeight + "px");
          };
          this.setSession = function(session) {
            if (this.session)
              this.session.doc.off("changeNewLineMode", this.onChangeNewLineMode);
            this.session = session;
            if (session && this.scrollMargin.top && session.getScrollTop() <= 0)
              session.setScrollTop(-this.scrollMargin.top);
            this.$cursorLayer.setSession(session);
            this.$markerBack.setSession(session);
            this.$markerFront.setSession(session);
            this.$gutterLayer.setSession(session);
            this.$textLayer.setSession(session);
            if (!session)
              return;
            this.$loop.schedule(this.CHANGE_FULL);
            this.session.$setFontMetrics(this.$fontMetrics);
            this.scrollBarH.scrollLeft = this.scrollBarV.scrollTop = null;
            this.onChangeNewLineMode = this.onChangeNewLineMode.bind(this);
            this.onChangeNewLineMode();
            this.session.doc.on("changeNewLineMode", this.onChangeNewLineMode);
          };
          this.updateLines = function(firstRow, lastRow, force) {
            if (lastRow === void 0)
              lastRow = Infinity;
            if (!this.$changedLines) {
              this.$changedLines = {
                firstRow,
                lastRow
              };
            } else {
              if (this.$changedLines.firstRow > firstRow)
                this.$changedLines.firstRow = firstRow;
              if (this.$changedLines.lastRow < lastRow)
                this.$changedLines.lastRow = lastRow;
            }
            if (this.$changedLines.lastRow < this.layerConfig.firstRow) {
              if (force)
                this.$changedLines.lastRow = this.layerConfig.lastRow;
              else
                return;
            }
            if (this.$changedLines.firstRow > this.layerConfig.lastRow)
              return;
            this.$loop.schedule(this.CHANGE_LINES);
          };
          this.onChangeNewLineMode = function() {
            this.$loop.schedule(this.CHANGE_TEXT);
            this.$textLayer.$updateEolChar();
            this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR);
          };
          this.onChangeTabSize = function() {
            this.$loop.schedule(this.CHANGE_TEXT | this.CHANGE_MARKER);
            this.$textLayer.onChangeTabSize();
          };
          this.updateText = function() {
            this.$loop.schedule(this.CHANGE_TEXT);
          };
          this.updateFull = function(force) {
            if (force)
              this.$renderChanges(this.CHANGE_FULL, true);
            else
              this.$loop.schedule(this.CHANGE_FULL);
          };
          this.updateFontSize = function() {
            this.$textLayer.checkForSizeChanges();
          };
          this.$changes = 0;
          this.$updateSizeAsync = function() {
            if (this.$loop.pending)
              this.$size.$dirty = true;
            else
              this.onResize();
          };
          this.onResize = function(force, gutterWidth, width, height) {
            if (this.resizing > 2)
              return;
            else if (this.resizing > 0)
              this.resizing++;
            else
              this.resizing = force ? 1 : 0;
            var el = this.container;
            if (!height)
              height = el.clientHeight || el.scrollHeight;
            if (!width)
              width = el.clientWidth || el.scrollWidth;
            var changes = this.$updateCachedSize(force, gutterWidth, width, height);
            if (!this.$size.scrollerHeight || !width && !height)
              return this.resizing = 0;
            if (force)
              this.$gutterLayer.$padding = null;
            if (force)
              this.$renderChanges(changes | this.$changes, true);
            else
              this.$loop.schedule(changes | this.$changes);
            if (this.resizing)
              this.resizing = 0;
            this.scrollBarH.scrollLeft = this.scrollBarV.scrollTop = null;
          };
          this.$updateCachedSize = function(force, gutterWidth, width, height) {
            height -= this.$extraHeight || 0;
            var changes = 0;
            var size = this.$size;
            var oldSize = {
              width: size.width,
              height: size.height,
              scrollerHeight: size.scrollerHeight,
              scrollerWidth: size.scrollerWidth
            };
            if (height && (force || size.height != height)) {
              size.height = height;
              changes |= this.CHANGE_SIZE;
              size.scrollerHeight = size.height;
              if (this.$horizScroll)
                size.scrollerHeight -= this.scrollBarH.getHeight();
              this.scrollBarV.element.style.bottom = this.scrollBarH.getHeight() + "px";
              changes = changes | this.CHANGE_SCROLL;
            }
            if (width && (force || size.width != width)) {
              changes |= this.CHANGE_SIZE;
              size.width = width;
              if (gutterWidth == null)
                gutterWidth = this.$showGutter ? this.$gutter.offsetWidth : 0;
              this.gutterWidth = gutterWidth;
              dom.setStyle(this.scrollBarH.element.style, "left", gutterWidth + "px");
              dom.setStyle(this.scroller.style, "left", gutterWidth + this.margin.left + "px");
              size.scrollerWidth = Math.max(0, width - gutterWidth - this.scrollBarV.getWidth() - this.margin.h);
              dom.setStyle(this.$gutter.style, "left", this.margin.left + "px");
              var right = this.scrollBarV.getWidth() + "px";
              dom.setStyle(this.scrollBarH.element.style, "right", right);
              dom.setStyle(this.scroller.style, "right", right);
              dom.setStyle(this.scroller.style, "bottom", this.scrollBarH.getHeight());
              if (this.session && this.session.getUseWrapMode() && this.adjustWrapLimit() || force) {
                changes |= this.CHANGE_FULL;
              }
            }
            size.$dirty = !width || !height;
            if (changes)
              this._signal("resize", oldSize);
            return changes;
          };
          this.onGutterResize = function(width) {
            var gutterWidth = this.$showGutter ? width : 0;
            if (gutterWidth != this.gutterWidth)
              this.$changes |= this.$updateCachedSize(true, gutterWidth, this.$size.width, this.$size.height);
            if (this.session.getUseWrapMode() && this.adjustWrapLimit()) {
              this.$loop.schedule(this.CHANGE_FULL);
            } else if (this.$size.$dirty) {
              this.$loop.schedule(this.CHANGE_FULL);
            } else {
              this.$computeLayerConfig();
            }
          };
          this.adjustWrapLimit = function() {
            var availableWidth = this.$size.scrollerWidth - this.$padding * 2;
            var limit = Math.floor(availableWidth / this.characterWidth);
            return this.session.adjustWrapLimit(limit, this.$showPrintMargin && this.$printMarginColumn);
          };
          this.setAnimatedScroll = function(shouldAnimate) {
            this.setOption("animatedScroll", shouldAnimate);
          };
          this.getAnimatedScroll = function() {
            return this.$animatedScroll;
          };
          this.setShowInvisibles = function(showInvisibles) {
            this.setOption("showInvisibles", showInvisibles);
            this.session.$bidiHandler.setShowInvisibles(showInvisibles);
          };
          this.getShowInvisibles = function() {
            return this.getOption("showInvisibles");
          };
          this.getDisplayIndentGuides = function() {
            return this.getOption("displayIndentGuides");
          };
          this.setDisplayIndentGuides = function(display) {
            this.setOption("displayIndentGuides", display);
          };
          this.setShowPrintMargin = function(showPrintMargin) {
            this.setOption("showPrintMargin", showPrintMargin);
          };
          this.getShowPrintMargin = function() {
            return this.getOption("showPrintMargin");
          };
          this.setPrintMarginColumn = function(showPrintMargin) {
            this.setOption("printMarginColumn", showPrintMargin);
          };
          this.getPrintMarginColumn = function() {
            return this.getOption("printMarginColumn");
          };
          this.getShowGutter = function() {
            return this.getOption("showGutter");
          };
          this.setShowGutter = function(show) {
            return this.setOption("showGutter", show);
          };
          this.getFadeFoldWidgets = function() {
            return this.getOption("fadeFoldWidgets");
          };
          this.setFadeFoldWidgets = function(show) {
            this.setOption("fadeFoldWidgets", show);
          };
          this.setHighlightGutterLine = function(shouldHighlight) {
            this.setOption("highlightGutterLine", shouldHighlight);
          };
          this.getHighlightGutterLine = function() {
            return this.getOption("highlightGutterLine");
          };
          this.$updatePrintMargin = function() {
            if (!this.$showPrintMargin && !this.$printMarginEl)
              return;
            if (!this.$printMarginEl) {
              var containerEl = dom.createElement("div");
              containerEl.className = "ace_layer ace_print-margin-layer";
              this.$printMarginEl = dom.createElement("div");
              this.$printMarginEl.className = "ace_print-margin";
              containerEl.appendChild(this.$printMarginEl);
              this.content.insertBefore(containerEl, this.content.firstChild);
            }
            var style = this.$printMarginEl.style;
            style.left = Math.round(this.characterWidth * this.$printMarginColumn + this.$padding) + "px";
            style.visibility = this.$showPrintMargin ? "visible" : "hidden";
            if (this.session && this.session.$wrap == -1)
              this.adjustWrapLimit();
          };
          this.getContainerElement = function() {
            return this.container;
          };
          this.getMouseEventTarget = function() {
            return this.scroller;
          };
          this.getTextAreaContainer = function() {
            return this.container;
          };
          this.$moveTextAreaToCursor = function() {
            if (this.$isMousePressed)
              return;
            var style = this.textarea.style;
            var composition = this.$composition;
            if (!this.$keepTextAreaAtCursor && !composition) {
              dom.translate(this.textarea, -100, 0);
              return;
            }
            var pixelPos = this.$cursorLayer.$pixelPos;
            if (!pixelPos)
              return;
            if (composition && composition.markerRange)
              pixelPos = this.$cursorLayer.getPixelPosition(composition.markerRange.start, true);
            var config3 = this.layerConfig;
            var posTop = pixelPos.top;
            var posLeft = pixelPos.left;
            posTop -= config3.offset;
            var h5 = composition && composition.useTextareaForIME ? this.lineHeight : HIDE_TEXTAREA ? 0 : 1;
            if (posTop < 0 || posTop > config3.height - h5) {
              dom.translate(this.textarea, 0, 0);
              return;
            }
            var w2 = 1;
            var maxTop = this.$size.height - h5;
            if (!composition) {
              posTop += this.lineHeight;
            } else {
              if (composition.useTextareaForIME) {
                var val = this.textarea.value;
                w2 = this.characterWidth * this.session.$getStringScreenWidth(val)[0];
              } else {
                posTop += this.lineHeight + 2;
              }
            }
            posLeft -= this.scrollLeft;
            if (posLeft > this.$size.scrollerWidth - w2)
              posLeft = this.$size.scrollerWidth - w2;
            posLeft += this.gutterWidth + this.margin.left;
            dom.setStyle(style, "height", h5 + "px");
            dom.setStyle(style, "width", w2 + "px");
            dom.translate(this.textarea, Math.min(posLeft, this.$size.scrollerWidth - w2), Math.min(posTop, maxTop));
          };
          this.getFirstVisibleRow = function() {
            return this.layerConfig.firstRow;
          };
          this.getFirstFullyVisibleRow = function() {
            return this.layerConfig.firstRow + (this.layerConfig.offset === 0 ? 0 : 1);
          };
          this.getLastFullyVisibleRow = function() {
            var config3 = this.layerConfig;
            var lastRow = config3.lastRow;
            var top = this.session.documentToScreenRow(lastRow, 0) * config3.lineHeight;
            if (top - this.session.getScrollTop() > config3.height - config3.lineHeight)
              return lastRow - 1;
            return lastRow;
          };
          this.getLastVisibleRow = function() {
            return this.layerConfig.lastRow;
          };
          this.$padding = null;
          this.setPadding = function(padding) {
            this.$padding = padding;
            this.$textLayer.setPadding(padding);
            this.$cursorLayer.setPadding(padding);
            this.$markerFront.setPadding(padding);
            this.$markerBack.setPadding(padding);
            this.$loop.schedule(this.CHANGE_FULL);
            this.$updatePrintMargin();
          };
          this.setScrollMargin = function(top, bottom, left, right) {
            var sm = this.scrollMargin;
            sm.top = top | 0;
            sm.bottom = bottom | 0;
            sm.right = right | 0;
            sm.left = left | 0;
            sm.v = sm.top + sm.bottom;
            sm.h = sm.left + sm.right;
            if (sm.top && this.scrollTop <= 0 && this.session)
              this.session.setScrollTop(-sm.top);
            this.updateFull();
          };
          this.setMargin = function(top, bottom, left, right) {
            var sm = this.margin;
            sm.top = top | 0;
            sm.bottom = bottom | 0;
            sm.right = right | 0;
            sm.left = left | 0;
            sm.v = sm.top + sm.bottom;
            sm.h = sm.left + sm.right;
            this.$updateCachedSize(true, this.gutterWidth, this.$size.width, this.$size.height);
            this.updateFull();
          };
          this.getHScrollBarAlwaysVisible = function() {
            return this.$hScrollBarAlwaysVisible;
          };
          this.setHScrollBarAlwaysVisible = function(alwaysVisible) {
            this.setOption("hScrollBarAlwaysVisible", alwaysVisible);
          };
          this.getVScrollBarAlwaysVisible = function() {
            return this.$vScrollBarAlwaysVisible;
          };
          this.setVScrollBarAlwaysVisible = function(alwaysVisible) {
            this.setOption("vScrollBarAlwaysVisible", alwaysVisible);
          };
          this.$updateScrollBarV = function() {
            var scrollHeight = this.layerConfig.maxHeight;
            var scrollerHeight = this.$size.scrollerHeight;
            if (!this.$maxLines && this.$scrollPastEnd) {
              scrollHeight -= (scrollerHeight - this.lineHeight) * this.$scrollPastEnd;
              if (this.scrollTop > scrollHeight - scrollerHeight) {
                scrollHeight = this.scrollTop + scrollerHeight;
                this.scrollBarV.scrollTop = null;
              }
            }
            this.scrollBarV.setScrollHeight(scrollHeight + this.scrollMargin.v);
            this.scrollBarV.setScrollTop(this.scrollTop + this.scrollMargin.top);
          };
          this.$updateScrollBarH = function() {
            this.scrollBarH.setScrollWidth(this.layerConfig.width + 2 * this.$padding + this.scrollMargin.h);
            this.scrollBarH.setScrollLeft(this.scrollLeft + this.scrollMargin.left);
          };
          this.$frozen = false;
          this.freeze = function() {
            this.$frozen = true;
          };
          this.unfreeze = function() {
            this.$frozen = false;
          };
          this.$renderChanges = function(changes, force) {
            if (this.$changes) {
              changes |= this.$changes;
              this.$changes = 0;
            }
            if (!this.session || !this.container.offsetWidth || this.$frozen || !changes && !force) {
              this.$changes |= changes;
              return;
            }
            if (this.$size.$dirty) {
              this.$changes |= changes;
              return this.onResize(true);
            }
            if (!this.lineHeight) {
              this.$textLayer.checkForSizeChanges();
            }
            this._signal("beforeRender", changes);
            if (this.session && this.session.$bidiHandler)
              this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);
            var config3 = this.layerConfig;
            if (changes & this.CHANGE_FULL || changes & this.CHANGE_SIZE || changes & this.CHANGE_TEXT || changes & this.CHANGE_LINES || changes & this.CHANGE_SCROLL || changes & this.CHANGE_H_SCROLL) {
              changes |= this.$computeLayerConfig() | this.$loop.clear();
              if (config3.firstRow != this.layerConfig.firstRow && config3.firstRowScreen == this.layerConfig.firstRowScreen) {
                var st = this.scrollTop + (config3.firstRow - this.layerConfig.firstRow) * this.lineHeight;
                if (st > 0) {
                  this.scrollTop = st;
                  changes = changes | this.CHANGE_SCROLL;
                  changes |= this.$computeLayerConfig() | this.$loop.clear();
                }
              }
              config3 = this.layerConfig;
              this.$updateScrollBarV();
              if (changes & this.CHANGE_H_SCROLL)
                this.$updateScrollBarH();
              dom.translate(this.content, -this.scrollLeft, -config3.offset);
              var width = config3.width + 2 * this.$padding + "px";
              var height = config3.minHeight + "px";
              dom.setStyle(this.content.style, "width", width);
              dom.setStyle(this.content.style, "height", height);
            }
            if (changes & this.CHANGE_H_SCROLL) {
              dom.translate(this.content, -this.scrollLeft, -config3.offset);
              this.scroller.className = this.scrollLeft <= 0 ? "ace_scroller" : "ace_scroller ace_scroll-left";
            }
            if (changes & this.CHANGE_FULL) {
              this.$changedLines = null;
              this.$textLayer.update(config3);
              if (this.$showGutter)
                this.$gutterLayer.update(config3);
              this.$markerBack.update(config3);
              this.$markerFront.update(config3);
              this.$cursorLayer.update(config3);
              this.$moveTextAreaToCursor();
              this._signal("afterRender", changes);
              return;
            }
            if (changes & this.CHANGE_SCROLL) {
              this.$changedLines = null;
              if (changes & this.CHANGE_TEXT || changes & this.CHANGE_LINES)
                this.$textLayer.update(config3);
              else
                this.$textLayer.scrollLines(config3);
              if (this.$showGutter) {
                if (changes & this.CHANGE_GUTTER || changes & this.CHANGE_LINES)
                  this.$gutterLayer.update(config3);
                else
                  this.$gutterLayer.scrollLines(config3);
              }
              this.$markerBack.update(config3);
              this.$markerFront.update(config3);
              this.$cursorLayer.update(config3);
              this.$moveTextAreaToCursor();
              this._signal("afterRender", changes);
              return;
            }
            if (changes & this.CHANGE_TEXT) {
              this.$changedLines = null;
              this.$textLayer.update(config3);
              if (this.$showGutter)
                this.$gutterLayer.update(config3);
            } else if (changes & this.CHANGE_LINES) {
              if (this.$updateLines() || changes & this.CHANGE_GUTTER && this.$showGutter)
                this.$gutterLayer.update(config3);
            } else if (changes & this.CHANGE_TEXT || changes & this.CHANGE_GUTTER) {
              if (this.$showGutter)
                this.$gutterLayer.update(config3);
            } else if (changes & this.CHANGE_CURSOR) {
              if (this.$highlightGutterLine)
                this.$gutterLayer.updateLineHighlight(config3);
            }
            if (changes & this.CHANGE_CURSOR) {
              this.$cursorLayer.update(config3);
              this.$moveTextAreaToCursor();
            }
            if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_FRONT)) {
              this.$markerFront.update(config3);
            }
            if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_BACK)) {
              this.$markerBack.update(config3);
            }
            this._signal("afterRender", changes);
          };
          this.$autosize = function() {
            var height = this.session.getScreenLength() * this.lineHeight;
            var maxHeight = this.$maxLines * this.lineHeight;
            var desiredHeight = Math.min(
              maxHeight,
              Math.max((this.$minLines || 1) * this.lineHeight, height)
            ) + this.scrollMargin.v + (this.$extraHeight || 0);
            if (this.$horizScroll)
              desiredHeight += this.scrollBarH.getHeight();
            if (this.$maxPixelHeight && desiredHeight > this.$maxPixelHeight)
              desiredHeight = this.$maxPixelHeight;
            var hideScrollbars = desiredHeight <= 2 * this.lineHeight;
            var vScroll = !hideScrollbars && height > maxHeight;
            if (desiredHeight != this.desiredHeight || this.$size.height != this.desiredHeight || vScroll != this.$vScroll) {
              if (vScroll != this.$vScroll) {
                this.$vScroll = vScroll;
                this.scrollBarV.setVisible(vScroll);
              }
              var w2 = this.container.clientWidth;
              this.container.style.height = desiredHeight + "px";
              this.$updateCachedSize(true, this.$gutterWidth, w2, desiredHeight);
              this.desiredHeight = desiredHeight;
              this._signal("autosize");
            }
          };
          this.$computeLayerConfig = function() {
            var session = this.session;
            var size = this.$size;
            var hideScrollbars = size.height <= 2 * this.lineHeight;
            var screenLines = this.session.getScreenLength();
            var maxHeight = screenLines * this.lineHeight;
            var longestLine = this.$getLongestLine();
            var horizScroll = !hideScrollbars && (this.$hScrollBarAlwaysVisible || size.scrollerWidth - longestLine - 2 * this.$padding < 0);
            var hScrollChanged = this.$horizScroll !== horizScroll;
            if (hScrollChanged) {
              this.$horizScroll = horizScroll;
              this.scrollBarH.setVisible(horizScroll);
            }
            var vScrollBefore = this.$vScroll;
            if (this.$maxLines && this.lineHeight > 1)
              this.$autosize();
            var minHeight = size.scrollerHeight + this.lineHeight;
            var scrollPastEnd = !this.$maxLines && this.$scrollPastEnd ? (size.scrollerHeight - this.lineHeight) * this.$scrollPastEnd : 0;
            maxHeight += scrollPastEnd;
            var sm = this.scrollMargin;
            this.session.setScrollTop(Math.max(
              -sm.top,
              Math.min(this.scrollTop, maxHeight - size.scrollerHeight + sm.bottom)
            ));
            this.session.setScrollLeft(Math.max(-sm.left, Math.min(
              this.scrollLeft,
              longestLine + 2 * this.$padding - size.scrollerWidth + sm.right
            )));
            var vScroll = !hideScrollbars && (this.$vScrollBarAlwaysVisible || size.scrollerHeight - maxHeight + scrollPastEnd < 0 || this.scrollTop > sm.top);
            var vScrollChanged = vScrollBefore !== vScroll;
            if (vScrollChanged) {
              this.$vScroll = vScroll;
              this.scrollBarV.setVisible(vScroll);
            }
            var offset = this.scrollTop % this.lineHeight;
            var lineCount = Math.ceil(minHeight / this.lineHeight) - 1;
            var firstRow = Math.max(0, Math.round((this.scrollTop - offset) / this.lineHeight));
            var lastRow = firstRow + lineCount;
            var firstRowScreen, firstRowHeight;
            var lineHeight = this.lineHeight;
            firstRow = session.screenToDocumentRow(firstRow, 0);
            var foldLine = session.getFoldLine(firstRow);
            if (foldLine) {
              firstRow = foldLine.start.row;
            }
            firstRowScreen = session.documentToScreenRow(firstRow, 0);
            firstRowHeight = session.getRowLength(firstRow) * lineHeight;
            lastRow = Math.min(session.screenToDocumentRow(lastRow, 0), session.getLength() - 1);
            minHeight = size.scrollerHeight + session.getRowLength(lastRow) * lineHeight + firstRowHeight;
            offset = this.scrollTop - firstRowScreen * lineHeight;
            var changes = 0;
            if (this.layerConfig.width != longestLine || hScrollChanged)
              changes = this.CHANGE_H_SCROLL;
            if (hScrollChanged || vScrollChanged) {
              changes |= this.$updateCachedSize(true, this.gutterWidth, size.width, size.height);
              this._signal("scrollbarVisibilityChanged");
              if (vScrollChanged)
                longestLine = this.$getLongestLine();
            }
            this.layerConfig = {
              width: longestLine,
              padding: this.$padding,
              firstRow,
              firstRowScreen,
              lastRow,
              lineHeight,
              characterWidth: this.characterWidth,
              minHeight,
              maxHeight,
              offset,
              gutterOffset: lineHeight ? Math.max(0, Math.ceil((offset + size.height - size.scrollerHeight) / lineHeight)) : 0,
              height: this.$size.scrollerHeight
            };
            if (this.session.$bidiHandler)
              this.session.$bidiHandler.setContentWidth(longestLine - this.$padding);
            return changes;
          };
          this.$updateLines = function() {
            if (!this.$changedLines)
              return;
            var firstRow = this.$changedLines.firstRow;
            var lastRow = this.$changedLines.lastRow;
            this.$changedLines = null;
            var layerConfig = this.layerConfig;
            if (firstRow > layerConfig.lastRow + 1) {
              return;
            }
            if (lastRow < layerConfig.firstRow) {
              return;
            }
            if (lastRow === Infinity) {
              if (this.$showGutter)
                this.$gutterLayer.update(layerConfig);
              this.$textLayer.update(layerConfig);
              return;
            }
            this.$textLayer.updateLines(layerConfig, firstRow, lastRow);
            return true;
          };
          this.$getLongestLine = function() {
            var charCount = this.session.getScreenWidth();
            if (this.showInvisibles && !this.session.$useWrapMode)
              charCount += 1;
            if (this.$textLayer && charCount > this.$textLayer.MAX_LINE_LENGTH)
              charCount = this.$textLayer.MAX_LINE_LENGTH + 30;
            return Math.max(this.$size.scrollerWidth - 2 * this.$padding, Math.round(charCount * this.characterWidth));
          };
          this.updateFrontMarkers = function() {
            this.$markerFront.setMarkers(this.session.getMarkers(true));
            this.$loop.schedule(this.CHANGE_MARKER_FRONT);
          };
          this.updateBackMarkers = function() {
            this.$markerBack.setMarkers(this.session.getMarkers());
            this.$loop.schedule(this.CHANGE_MARKER_BACK);
          };
          this.addGutterDecoration = function(row, className) {
            this.$gutterLayer.addGutterDecoration(row, className);
          };
          this.removeGutterDecoration = function(row, className) {
            this.$gutterLayer.removeGutterDecoration(row, className);
          };
          this.updateBreakpoints = function(rows) {
            this.$loop.schedule(this.CHANGE_GUTTER);
          };
          this.setAnnotations = function(annotations) {
            this.$gutterLayer.setAnnotations(annotations);
            this.$loop.schedule(this.CHANGE_GUTTER);
          };
          this.updateCursor = function() {
            this.$loop.schedule(this.CHANGE_CURSOR);
          };
          this.hideCursor = function() {
            this.$cursorLayer.hideCursor();
          };
          this.showCursor = function() {
            this.$cursorLayer.showCursor();
          };
          this.scrollSelectionIntoView = function(anchor, lead, offset) {
            this.scrollCursorIntoView(anchor, offset);
            this.scrollCursorIntoView(lead, offset);
          };
          this.scrollCursorIntoView = function(cursor, offset, $viewMargin) {
            if (this.$size.scrollerHeight === 0)
              return;
            var pos = this.$cursorLayer.getPixelPosition(cursor);
            var left = pos.left;
            var top = pos.top;
            var topMargin = $viewMargin && $viewMargin.top || 0;
            var bottomMargin = $viewMargin && $viewMargin.bottom || 0;
            var scrollTop = this.$scrollAnimation ? this.session.getScrollTop() : this.scrollTop;
            if (scrollTop + topMargin > top) {
              if (offset && scrollTop + topMargin > top + this.lineHeight)
                top -= offset * this.$size.scrollerHeight;
              if (top === 0)
                top = -this.scrollMargin.top;
              this.session.setScrollTop(top);
            } else if (scrollTop + this.$size.scrollerHeight - bottomMargin < top + this.lineHeight) {
              if (offset && scrollTop + this.$size.scrollerHeight - bottomMargin < top - this.lineHeight)
                top += offset * this.$size.scrollerHeight;
              this.session.setScrollTop(top + this.lineHeight + bottomMargin - this.$size.scrollerHeight);
            }
            var scrollLeft = this.scrollLeft;
            if (scrollLeft > left) {
              if (left < this.$padding + 2 * this.layerConfig.characterWidth)
                left = -this.scrollMargin.left;
              this.session.setScrollLeft(left);
            } else if (scrollLeft + this.$size.scrollerWidth < left + this.characterWidth) {
              this.session.setScrollLeft(Math.round(left + this.characterWidth - this.$size.scrollerWidth));
            } else if (scrollLeft <= this.$padding && left - scrollLeft < this.characterWidth) {
              this.session.setScrollLeft(0);
            }
          };
          this.getScrollTop = function() {
            return this.session.getScrollTop();
          };
          this.getScrollLeft = function() {
            return this.session.getScrollLeft();
          };
          this.getScrollTopRow = function() {
            return this.scrollTop / this.lineHeight;
          };
          this.getScrollBottomRow = function() {
            return Math.max(0, Math.floor((this.scrollTop + this.$size.scrollerHeight) / this.lineHeight) - 1);
          };
          this.scrollToRow = function(row) {
            this.session.setScrollTop(row * this.lineHeight);
          };
          this.alignCursor = function(cursor, alignment) {
            if (typeof cursor == "number")
              cursor = { row: cursor, column: 0 };
            var pos = this.$cursorLayer.getPixelPosition(cursor);
            var h5 = this.$size.scrollerHeight - this.lineHeight;
            var offset = pos.top - h5 * (alignment || 0);
            this.session.setScrollTop(offset);
            return offset;
          };
          this.STEPS = 8;
          this.$calcSteps = function(fromValue, toValue) {
            var i6 = 0;
            var l7 = this.STEPS;
            var steps = [];
            var func = function(t5, x_min, dx) {
              return dx * (Math.pow(t5 - 1, 3) + 1) + x_min;
            };
            for (i6 = 0; i6 < l7; ++i6)
              steps.push(func(i6 / this.STEPS, fromValue, toValue - fromValue));
            return steps;
          };
          this.scrollToLine = function(line, center, animate, callback) {
            var pos = this.$cursorLayer.getPixelPosition({ row: line, column: 0 });
            var offset = pos.top;
            if (center)
              offset -= this.$size.scrollerHeight / 2;
            var initialScroll = this.scrollTop;
            this.session.setScrollTop(offset);
            if (animate !== false)
              this.animateScrolling(initialScroll, callback);
          };
          this.animateScrolling = function(fromValue, callback) {
            var toValue = this.scrollTop;
            if (!this.$animatedScroll)
              return;
            var _self = this;
            if (fromValue == toValue)
              return;
            if (this.$scrollAnimation) {
              var oldSteps = this.$scrollAnimation.steps;
              if (oldSteps.length) {
                fromValue = oldSteps[0];
                if (fromValue == toValue)
                  return;
              }
            }
            var steps = _self.$calcSteps(fromValue, toValue);
            this.$scrollAnimation = { from: fromValue, to: toValue, steps };
            clearInterval(this.$timer);
            _self.session.setScrollTop(steps.shift());
            _self.session.$scrollTop = toValue;
            this.$timer = setInterval(function() {
              if (!_self.session)
                return clearInterval(_self.$timer);
              if (steps.length) {
                _self.session.setScrollTop(steps.shift());
                _self.session.$scrollTop = toValue;
              } else if (toValue != null) {
                _self.session.$scrollTop = -1;
                _self.session.setScrollTop(toValue);
                toValue = null;
              } else {
                _self.$timer = clearInterval(_self.$timer);
                _self.$scrollAnimation = null;
                callback && callback();
              }
            }, 10);
          };
          this.scrollToY = function(scrollTop) {
            if (this.scrollTop !== scrollTop) {
              this.$loop.schedule(this.CHANGE_SCROLL);
              this.scrollTop = scrollTop;
            }
          };
          this.scrollToX = function(scrollLeft) {
            if (this.scrollLeft !== scrollLeft)
              this.scrollLeft = scrollLeft;
            this.$loop.schedule(this.CHANGE_H_SCROLL);
          };
          this.scrollTo = function(x2, y2) {
            this.session.setScrollTop(y2);
            this.session.setScrollLeft(x2);
          };
          this.scrollBy = function(deltaX, deltaY) {
            deltaY && this.session.setScrollTop(this.session.getScrollTop() + deltaY);
            deltaX && this.session.setScrollLeft(this.session.getScrollLeft() + deltaX);
          };
          this.isScrollableBy = function(deltaX, deltaY) {
            if (deltaY < 0 && this.session.getScrollTop() >= 1 - this.scrollMargin.top)
              return true;
            if (deltaY > 0 && this.session.getScrollTop() + this.$size.scrollerHeight - this.layerConfig.maxHeight < -1 + this.scrollMargin.bottom)
              return true;
            if (deltaX < 0 && this.session.getScrollLeft() >= 1 - this.scrollMargin.left)
              return true;
            if (deltaX > 0 && this.session.getScrollLeft() + this.$size.scrollerWidth - this.layerConfig.width < -1 + this.scrollMargin.right)
              return true;
          };
          this.pixelToScreenCoordinates = function(x2, y2) {
            var canvasPos;
            if (this.$hasCssTransforms) {
              canvasPos = { top: 0, left: 0 };
              var p2 = this.$fontMetrics.transformCoordinates([x2, y2]);
              x2 = p2[1] - this.gutterWidth - this.margin.left;
              y2 = p2[0];
            } else {
              canvasPos = this.scroller.getBoundingClientRect();
            }
            var offsetX = x2 + this.scrollLeft - canvasPos.left - this.$padding;
            var offset = offsetX / this.characterWidth;
            var row = Math.floor((y2 + this.scrollTop - canvasPos.top) / this.lineHeight);
            var col = this.$blockCursor ? Math.floor(offset) : Math.round(offset);
            return { row, column: col, side: offset - col > 0 ? 1 : -1, offsetX };
          };
          this.screenToTextCoordinates = function(x2, y2) {
            var canvasPos;
            if (this.$hasCssTransforms) {
              canvasPos = { top: 0, left: 0 };
              var p2 = this.$fontMetrics.transformCoordinates([x2, y2]);
              x2 = p2[1] - this.gutterWidth - this.margin.left;
              y2 = p2[0];
            } else {
              canvasPos = this.scroller.getBoundingClientRect();
            }
            var offsetX = x2 + this.scrollLeft - canvasPos.left - this.$padding;
            var offset = offsetX / this.characterWidth;
            var col = this.$blockCursor ? Math.floor(offset) : Math.round(offset);
            var row = Math.floor((y2 + this.scrollTop - canvasPos.top) / this.lineHeight);
            return this.session.screenToDocumentPosition(row, Math.max(col, 0), offsetX);
          };
          this.textToScreenCoordinates = function(row, column) {
            var canvasPos = this.scroller.getBoundingClientRect();
            var pos = this.session.documentToScreenPosition(row, column);
            var x2 = this.$padding + (this.session.$bidiHandler.isBidiRow(pos.row, row) ? this.session.$bidiHandler.getPosLeft(pos.column) : Math.round(pos.column * this.characterWidth));
            var y2 = pos.row * this.lineHeight;
            return {
              pageX: canvasPos.left + x2 - this.scrollLeft,
              pageY: canvasPos.top + y2 - this.scrollTop
            };
          };
          this.visualizeFocus = function() {
            dom.addCssClass(this.container, "ace_focus");
          };
          this.visualizeBlur = function() {
            dom.removeCssClass(this.container, "ace_focus");
          };
          this.showComposition = function(composition) {
            this.$composition = composition;
            if (!composition.cssText) {
              composition.cssText = this.textarea.style.cssText;
            }
            if (composition.useTextareaForIME == void 0)
              composition.useTextareaForIME = this.$useTextareaForIME;
            if (this.$useTextareaForIME) {
              dom.addCssClass(this.textarea, "ace_composition");
              this.textarea.style.cssText = "";
              this.$moveTextAreaToCursor();
              this.$cursorLayer.element.style.display = "none";
            } else {
              composition.markerId = this.session.addMarker(composition.markerRange, "ace_composition_marker", "text");
            }
          };
          this.setCompositionText = function(text) {
            var cursor = this.session.selection.cursor;
            this.addToken(text, "composition_placeholder", cursor.row, cursor.column);
            this.$moveTextAreaToCursor();
          };
          this.hideComposition = function() {
            if (!this.$composition)
              return;
            if (this.$composition.markerId)
              this.session.removeMarker(this.$composition.markerId);
            dom.removeCssClass(this.textarea, "ace_composition");
            this.textarea.style.cssText = this.$composition.cssText;
            var cursor = this.session.selection.cursor;
            this.removeExtraToken(cursor.row, cursor.column);
            this.$composition = null;
            this.$cursorLayer.element.style.display = "";
          };
          this.addToken = function(text, type, row, column) {
            var session = this.session;
            session.bgTokenizer.lines[row] = null;
            var newToken = { type, value: text };
            var tokens = session.getTokens(row);
            if (column == null) {
              tokens.push(newToken);
            } else {
              var l7 = 0;
              for (var i6 = 0; i6 < tokens.length; i6++) {
                var token = tokens[i6];
                l7 += token.value.length;
                if (column <= l7) {
                  var diff = token.value.length - (l7 - column);
                  var before = token.value.slice(0, diff);
                  var after = token.value.slice(diff);
                  tokens.splice(i6, 1, { type: token.type, value: before }, newToken, { type: token.type, value: after });
                  break;
                }
              }
            }
            this.updateLines(row, row);
          };
          this.removeExtraToken = function(row, column) {
            this.updateLines(row, row);
          };
          this.setTheme = function(theme, cb) {
            var _self = this;
            this.$themeId = theme;
            _self._dispatchEvent("themeChange", { theme });
            if (!theme || typeof theme == "string") {
              var moduleName = theme || this.$options.theme.initialValue;
              config2.loadModule(["theme", moduleName], afterLoad);
            } else {
              afterLoad(theme);
            }
            function afterLoad(module3) {
              if (_self.$themeId != theme)
                return cb && cb();
              if (!module3 || !module3.cssClass)
                throw new Error("couldn't load module " + theme + " or it didn't call define");
              if (module3.$id)
                _self.$themeId = module3.$id;
              dom.importCssString(
                module3.cssText,
                module3.cssClass,
                _self.container
              );
              if (_self.theme)
                dom.removeCssClass(_self.container, _self.theme.cssClass);
              var padding = "padding" in module3 ? module3.padding : "padding" in (_self.theme || {}) ? 4 : _self.$padding;
              if (_self.$padding && padding != _self.$padding)
                _self.setPadding(padding);
              _self.$theme = module3.cssClass;
              _self.theme = module3;
              dom.addCssClass(_self.container, module3.cssClass);
              dom.setCssClass(_self.container, "ace_dark", module3.isDark);
              if (_self.$size) {
                _self.$size.width = 0;
                _self.$updateSizeAsync();
              }
              _self._dispatchEvent("themeLoaded", { theme: module3 });
              cb && cb();
            }
          };
          this.getTheme = function() {
            return this.$themeId;
          };
          this.setStyle = function(style, include) {
            dom.setCssClass(this.container, style, include !== false);
          };
          this.unsetStyle = function(style) {
            dom.removeCssClass(this.container, style);
          };
          this.setCursorStyle = function(style) {
            dom.setStyle(this.scroller.style, "cursor", style);
          };
          this.setMouseCursor = function(cursorStyle) {
            dom.setStyle(this.scroller.style, "cursor", cursorStyle);
          };
          this.attachToShadowRoot = function() {
            dom.importCssString(editorCss, "ace_editor.css", this.container);
          };
          this.destroy = function() {
            this.freeze();
            this.$fontMetrics.destroy();
            this.$cursorLayer.destroy();
            this.removeAllListeners();
            this.container.textContent = "";
          };
        }).call(VirtualRenderer.prototype);
        config2.defineOptions(VirtualRenderer.prototype, "renderer", {
          animatedScroll: { initialValue: false },
          showInvisibles: {
            set: function(value) {
              if (this.$textLayer.setShowInvisibles(value))
                this.$loop.schedule(this.CHANGE_TEXT);
            },
            initialValue: false
          },
          showPrintMargin: {
            set: function() {
              this.$updatePrintMargin();
            },
            initialValue: true
          },
          printMarginColumn: {
            set: function() {
              this.$updatePrintMargin();
            },
            initialValue: 80
          },
          printMargin: {
            set: function(val) {
              if (typeof val == "number")
                this.$printMarginColumn = val;
              this.$showPrintMargin = !!val;
              this.$updatePrintMargin();
            },
            get: function() {
              return this.$showPrintMargin && this.$printMarginColumn;
            }
          },
          showGutter: {
            set: function(show) {
              this.$gutter.style.display = show ? "block" : "none";
              this.$loop.schedule(this.CHANGE_FULL);
              this.onGutterResize();
            },
            initialValue: true
          },
          fadeFoldWidgets: {
            set: function(show) {
              dom.setCssClass(this.$gutter, "ace_fade-fold-widgets", show);
            },
            initialValue: false
          },
          showFoldWidgets: {
            set: function(show) {
              this.$gutterLayer.setShowFoldWidgets(show);
              this.$loop.schedule(this.CHANGE_GUTTER);
            },
            initialValue: true
          },
          displayIndentGuides: {
            set: function(show) {
              if (this.$textLayer.setDisplayIndentGuides(show))
                this.$loop.schedule(this.CHANGE_TEXT);
            },
            initialValue: true
          },
          highlightGutterLine: {
            set: function(shouldHighlight) {
              this.$gutterLayer.setHighlightGutterLine(shouldHighlight);
              this.$loop.schedule(this.CHANGE_GUTTER);
            },
            initialValue: true
          },
          hScrollBarAlwaysVisible: {
            set: function(val) {
              if (!this.$hScrollBarAlwaysVisible || !this.$horizScroll)
                this.$loop.schedule(this.CHANGE_SCROLL);
            },
            initialValue: false
          },
          vScrollBarAlwaysVisible: {
            set: function(val) {
              if (!this.$vScrollBarAlwaysVisible || !this.$vScroll)
                this.$loop.schedule(this.CHANGE_SCROLL);
            },
            initialValue: false
          },
          fontSize: {
            set: function(size) {
              if (typeof size == "number")
                size = size + "px";
              this.container.style.fontSize = size;
              this.updateFontSize();
            },
            initialValue: 12
          },
          fontFamily: {
            set: function(name2) {
              this.container.style.fontFamily = name2;
              this.updateFontSize();
            }
          },
          maxLines: {
            set: function(val) {
              this.updateFull();
            }
          },
          minLines: {
            set: function(val) {
              if (!(this.$minLines < 562949953421311))
                this.$minLines = 0;
              this.updateFull();
            }
          },
          maxPixelHeight: {
            set: function(val) {
              this.updateFull();
            },
            initialValue: 0
          },
          scrollPastEnd: {
            set: function(val) {
              val = +val || 0;
              if (this.$scrollPastEnd == val)
                return;
              this.$scrollPastEnd = val;
              this.$loop.schedule(this.CHANGE_SCROLL);
            },
            initialValue: 0,
            handlesSet: true
          },
          fixedWidthGutter: {
            set: function(val) {
              this.$gutterLayer.$fixedWidth = !!val;
              this.$loop.schedule(this.CHANGE_GUTTER);
            }
          },
          theme: {
            set: function(val) {
              this.setTheme(val);
            },
            get: function() {
              return this.$themeId || this.theme;
            },
            initialValue: "./theme/textmate",
            handlesSet: true
          },
          hasCssTransforms: {},
          useTextareaForIME: {
            initialValue: !useragent.isMobile && !useragent.isIE
          }
        });
        exports2.VirtualRenderer = VirtualRenderer;
      });
      ace.define("ace/worker/worker_client", ["require", "exports", "module", "ace/lib/oop", "ace/lib/net", "ace/lib/event_emitter", "ace/config"], function(require3, exports2, module2) {
        "use strict";
        var oop = require3("../lib/oop");
        var net = require3("../lib/net");
        var EventEmitter = require3("../lib/event_emitter").EventEmitter;
        var config2 = require3("../config");
        function $workerBlob(workerUrl) {
          var script = "importScripts('" + net.qualifyURL(workerUrl) + "');";
          try {
            return new Blob([script], { "type": "application/javascript" });
          } catch (e10) {
            var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder;
            var blobBuilder = new BlobBuilder();
            blobBuilder.append(script);
            return blobBuilder.getBlob("application/javascript");
          }
        }
        function createWorker(workerUrl) {
          if (typeof Worker == "undefined")
            return { postMessage: function() {
            }, terminate: function() {
            } };
          if (config2.get("loadWorkerFromBlob")) {
            var blob = $workerBlob(workerUrl);
            var URL = window.URL || window.webkitURL;
            var blobURL = URL.createObjectURL(blob);
            return new Worker(blobURL);
          }
          return new Worker(workerUrl);
        }
        var WorkerClient = function(worker) {
          if (!worker.postMessage)
            worker = this.$createWorkerFromOldConfig.apply(this, arguments);
          this.$worker = worker;
          this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this);
          this.changeListener = this.changeListener.bind(this);
          this.onMessage = this.onMessage.bind(this);
          this.callbackId = 1;
          this.callbacks = {};
          this.$worker.onmessage = this.onMessage;
        };
        (function() {
          oop.implement(this, EventEmitter);
          this.$createWorkerFromOldConfig = function(topLevelNamespaces, mod, classname, workerUrl, importScripts) {
            if (require3.nameToUrl && !require3.toUrl)
              require3.toUrl = require3.nameToUrl;
            if (config2.get("packaged") || !require3.toUrl) {
              workerUrl = workerUrl || config2.moduleUrl(mod, "worker");
            } else {
              var normalizePath = this.$normalizePath;
              workerUrl = workerUrl || normalizePath(require3.toUrl("ace/worker/worker.js", null, "_"));
              var tlns = {};
              topLevelNamespaces.forEach(function(ns) {
                tlns[ns] = normalizePath(require3.toUrl(ns, null, "_").replace(/(\.js)?(\?.*)?$/, ""));
              });
            }
            this.$worker = createWorker(workerUrl);
            if (importScripts) {
              this.send("importScripts", importScripts);
            }
            this.$worker.postMessage({
              init: true,
              tlns,
              module: mod,
              classname
            });
            return this.$worker;
          };
          this.onMessage = function(e10) {
            var msg = e10.data;
            switch (msg.type) {
              case "event":
                this._signal(msg.name, { data: msg.data });
                break;
              case "call":
                var callback = this.callbacks[msg.id];
                if (callback) {
                  callback(msg.data);
                  delete this.callbacks[msg.id];
                }
                break;
              case "error":
                this.reportError(msg.data);
                break;
              case "log":
                window.console && console.log && console.log.apply(console, msg.data);
                break;
            }
          };
          this.reportError = function(err) {
            window.console && console.error && console.error(err);
          };
          this.$normalizePath = function(path) {
            return net.qualifyURL(path);
          };
          this.terminate = function() {
            this._signal("terminate", {});
            this.deltaQueue = null;
            this.$worker.terminate();
            this.$worker = null;
            if (this.$doc)
              this.$doc.off("change", this.changeListener);
            this.$doc = null;
          };
          this.send = function(cmd, args) {
            this.$worker.postMessage({ command: cmd, args });
          };
          this.call = function(cmd, args, callback) {
            if (callback) {
              var id = this.callbackId++;
              this.callbacks[id] = callback;
              args.push(id);
            }
            this.send(cmd, args);
          };
          this.emit = function(event, data) {
            try {
              if (data.data && data.data.err)
                data.data.err = { message: data.data.err.message, stack: data.data.err.stack, code: data.data.err.code };
              this.$worker && this.$worker.postMessage({ event, data: { data: data.data } });
            } catch (ex) {
              console.error(ex.stack);
            }
          };
          this.attachToDocument = function(doc) {
            if (this.$doc)
              this.terminate();
            this.$doc = doc;
            this.call("setValue", [doc.getValue()]);
            doc.on("change", this.changeListener, true);
          };
          this.changeListener = function(delta) {
            if (!this.deltaQueue) {
              this.deltaQueue = [];
              setTimeout(this.$sendDeltaQueue, 0);
            }
            if (delta.action == "insert")
              this.deltaQueue.push(delta.start, delta.lines);
            else
              this.deltaQueue.push(delta.start, delta.end);
          };
          this.$sendDeltaQueue = function() {
            var q = this.deltaQueue;
            if (!q)
              return;
            this.deltaQueue = null;
            if (q.length > 50 && q.length > this.$doc.getLength() >> 1) {
              this.call("setValue", [this.$doc.getValue()]);
            } else
              this.emit("change", { data: q });
          };
        }).call(WorkerClient.prototype);
        var UIWorkerClient = function(topLevelNamespaces, mod, classname) {
          var main = null;
          var emitSync = false;
          var sender = Object.create(EventEmitter);
          var messageBuffer = [];
          var workerClient = new WorkerClient({
            messageBuffer,
            terminate: function() {
            },
            postMessage: function(e10) {
              messageBuffer.push(e10);
              if (!main)
                return;
              if (emitSync)
                setTimeout(processNext);
              else
                processNext();
            }
          });
          workerClient.setEmitSync = function(val) {
            emitSync = val;
          };
          var processNext = function() {
            var msg = messageBuffer.shift();
            if (msg.command)
              main[msg.command].apply(main, msg.args);
            else if (msg.event)
              sender._signal(msg.event, msg.data);
          };
          sender.postMessage = function(msg) {
            workerClient.onMessage({ data: msg });
          };
          sender.callback = function(data, callbackId) {
            this.postMessage({ type: "call", id: callbackId, data });
          };
          sender.emit = function(name2, data) {
            this.postMessage({ type: "event", name: name2, data });
          };
          config2.loadModule(["worker", mod], function(Main) {
            main = new Main[classname](sender);
            while (messageBuffer.length)
              processNext();
          });
          return workerClient;
        };
        exports2.UIWorkerClient = UIWorkerClient;
        exports2.WorkerClient = WorkerClient;
        exports2.createWorker = createWorker;
      });
      ace.define("ace/placeholder", ["require", "exports", "module", "ace/range", "ace/lib/event_emitter", "ace/lib/oop"], function(require3, exports2, module2) {
        "use strict";
        var Range = require3("./range").Range;
        var EventEmitter = require3("./lib/event_emitter").EventEmitter;
        var oop = require3("./lib/oop");
        var PlaceHolder = function(session, length, pos, others, mainClass, othersClass) {
          var _self = this;
          this.length = length;
          this.session = session;
          this.doc = session.getDocument();
          this.mainClass = mainClass;
          this.othersClass = othersClass;
          this.$onUpdate = this.onUpdate.bind(this);
          this.doc.on("change", this.$onUpdate, true);
          this.$others = others;
          this.$onCursorChange = function() {
            setTimeout(function() {
              _self.onCursorChange();
            });
          };
          this.$pos = pos;
          var undoStack = session.getUndoManager().$undoStack || session.getUndoManager().$undostack || { length: -1 };
          this.$undoStackDepth = undoStack.length;
          this.setup();
          session.selection.on("changeCursor", this.$onCursorChange);
        };
        (function() {
          oop.implement(this, EventEmitter);
          this.setup = function() {
            var _self = this;
            var doc = this.doc;
            var session = this.session;
            this.selectionBefore = session.selection.toJSON();
            if (session.selection.inMultiSelectMode)
              session.selection.toSingleRange();
            this.pos = doc.createAnchor(this.$pos.row, this.$pos.column);
            var pos = this.pos;
            pos.$insertRight = true;
            pos.detach();
            pos.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column + this.length), this.mainClass, null, false);
            this.others = [];
            this.$others.forEach(function(other) {
              var anchor = doc.createAnchor(other.row, other.column);
              anchor.$insertRight = true;
              anchor.detach();
              _self.others.push(anchor);
            });
            session.setUndoSelect(false);
          };
          this.showOtherMarkers = function() {
            if (this.othersActive)
              return;
            var session = this.session;
            var _self = this;
            this.othersActive = true;
            this.others.forEach(function(anchor) {
              anchor.markerId = session.addMarker(new Range(anchor.row, anchor.column, anchor.row, anchor.column + _self.length), _self.othersClass, null, false);
            });
          };
          this.hideOtherMarkers = function() {
            if (!this.othersActive)
              return;
            this.othersActive = false;
            for (var i6 = 0; i6 < this.others.length; i6++) {
              this.session.removeMarker(this.others[i6].markerId);
            }
          };
          this.onUpdate = function(delta) {
            if (this.$updating)
              return this.updateAnchors(delta);
            var range = delta;
            if (range.start.row !== range.end.row)
              return;
            if (range.start.row !== this.pos.row)
              return;
            this.$updating = true;
            var lengthDiff = delta.action === "insert" ? range.end.column - range.start.column : range.start.column - range.end.column;
            var inMainRange = range.start.column >= this.pos.column && range.start.column <= this.pos.column + this.length + 1;
            var distanceFromStart = range.start.column - this.pos.column;
            this.updateAnchors(delta);
            if (inMainRange)
              this.length += lengthDiff;
            if (inMainRange && !this.session.$fromUndo) {
              if (delta.action === "insert") {
                for (var i6 = this.others.length - 1; i6 >= 0; i6--) {
                  var otherPos = this.others[i6];
                  var newPos = { row: otherPos.row, column: otherPos.column + distanceFromStart };
                  this.doc.insertMergedLines(newPos, delta.lines);
                }
              } else if (delta.action === "remove") {
                for (var i6 = this.others.length - 1; i6 >= 0; i6--) {
                  var otherPos = this.others[i6];
                  var newPos = { row: otherPos.row, column: otherPos.column + distanceFromStart };
                  this.doc.remove(new Range(newPos.row, newPos.column, newPos.row, newPos.column - lengthDiff));
                }
              }
            }
            this.$updating = false;
            this.updateMarkers();
          };
          this.updateAnchors = function(delta) {
            this.pos.onChange(delta);
            for (var i6 = this.others.length; i6--; )
              this.others[i6].onChange(delta);
            this.updateMarkers();
          };
          this.updateMarkers = function() {
            if (this.$updating)
              return;
            var _self = this;
            var session = this.session;
            var updateMarker = function(pos, className) {
              session.removeMarker(pos.markerId);
              pos.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column + _self.length), className, null, false);
            };
            updateMarker(this.pos, this.mainClass);
            for (var i6 = this.others.length; i6--; )
              updateMarker(this.others[i6], this.othersClass);
          };
          this.onCursorChange = function(event) {
            if (this.$updating || !this.session)
              return;
            var pos = this.session.selection.getCursor();
            if (pos.row === this.pos.row && pos.column >= this.pos.column && pos.column <= this.pos.column + this.length) {
              this.showOtherMarkers();
              this._emit("cursorEnter", event);
            } else {
              this.hideOtherMarkers();
              this._emit("cursorLeave", event);
            }
          };
          this.detach = function() {
            this.session.removeMarker(this.pos && this.pos.markerId);
            this.hideOtherMarkers();
            this.doc.off("change", this.$onUpdate);
            this.session.selection.off("changeCursor", this.$onCursorChange);
            this.session.setUndoSelect(true);
            this.session = null;
          };
          this.cancel = function() {
            if (this.$undoStackDepth === -1)
              return;
            var undoManager = this.session.getUndoManager();
            var undosRequired = (undoManager.$undoStack || undoManager.$undostack).length - this.$undoStackDepth;
            for (var i6 = 0; i6 < undosRequired; i6++) {
              undoManager.undo(this.session, true);
            }
            if (this.selectionBefore)
              this.session.selection.fromJSON(this.selectionBefore);
          };
        }).call(PlaceHolder.prototype);
        exports2.PlaceHolder = PlaceHolder;
      });
      ace.define("ace/mouse/multi_select_handler", ["require", "exports", "module", "ace/lib/event", "ace/lib/useragent"], function(require3, exports2, module2) {
        var event = require3("../lib/event");
        var useragent = require3("../lib/useragent");
        function isSamePoint(p1, p2) {
          return p1.row == p2.row && p1.column == p2.column;
        }
        function onMouseDown(e10) {
          var ev = e10.domEvent;
          var alt = ev.altKey;
          var shift = ev.shiftKey;
          var ctrl = ev.ctrlKey;
          var accel = e10.getAccelKey();
          var button = e10.getButton();
          if (ctrl && useragent.isMac)
            button = ev.button;
          if (e10.editor.inMultiSelectMode && button == 2) {
            e10.editor.textInput.onContextMenu(e10.domEvent);
            return;
          }
          if (!ctrl && !alt && !accel) {
            if (button === 0 && e10.editor.inMultiSelectMode)
              e10.editor.exitMultiSelectMode();
            return;
          }
          if (button !== 0)
            return;
          var editor = e10.editor;
          var selection = editor.selection;
          var isMultiSelect = editor.inMultiSelectMode;
          var pos = e10.getDocumentPosition();
          var cursor = selection.getCursor();
          var inSelection = e10.inSelection() || selection.isEmpty() && isSamePoint(pos, cursor);
          var mouseX = e10.x, mouseY = e10.y;
          var onMouseSelection = function(e11) {
            mouseX = e11.clientX;
            mouseY = e11.clientY;
          };
          var session = editor.session;
          var screenAnchor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);
          var screenCursor = screenAnchor;
          var selectionMode;
          if (editor.$mouseHandler.$enableJumpToDef) {
            if (ctrl && alt || accel && alt)
              selectionMode = shift ? "block" : "add";
            else if (alt && editor.$blockSelectEnabled)
              selectionMode = "block";
          } else {
            if (accel && !alt) {
              selectionMode = "add";
              if (!isMultiSelect && shift)
                return;
            } else if (alt && editor.$blockSelectEnabled) {
              selectionMode = "block";
            }
          }
          if (selectionMode && useragent.isMac && ev.ctrlKey) {
            editor.$mouseHandler.cancelContextMenu();
          }
          if (selectionMode == "add") {
            if (!isMultiSelect && inSelection)
              return;
            if (!isMultiSelect) {
              var range = selection.toOrientedRange();
              editor.addSelectionMarker(range);
            }
            var oldRange = selection.rangeList.rangeAtPoint(pos);
            editor.inVirtualSelectionMode = true;
            if (shift) {
              oldRange = null;
              range = selection.ranges[0] || range;
              editor.removeSelectionMarker(range);
            }
            editor.once("mouseup", function() {
              var tmpSel = selection.toOrientedRange();
              if (oldRange && tmpSel.isEmpty() && isSamePoint(oldRange.cursor, tmpSel.cursor))
                selection.substractPoint(tmpSel.cursor);
              else {
                if (shift) {
                  selection.substractPoint(range.cursor);
                } else if (range) {
                  editor.removeSelectionMarker(range);
                  selection.addRange(range);
                }
                selection.addRange(tmpSel);
              }
              editor.inVirtualSelectionMode = false;
            });
          } else if (selectionMode == "block") {
            e10.stop();
            editor.inVirtualSelectionMode = true;
            var initialRange;
            var rectSel = [];
            var blockSelect = function() {
              var newCursor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);
              var cursor2 = session.screenToDocumentPosition(newCursor.row, newCursor.column, newCursor.offsetX);
              if (isSamePoint(screenCursor, newCursor) && isSamePoint(cursor2, selection.lead))
                return;
              screenCursor = newCursor;
              editor.selection.moveToPosition(cursor2);
              editor.renderer.scrollCursorIntoView();
              editor.removeSelectionMarkers(rectSel);
              rectSel = selection.rectangularRangeBlock(screenCursor, screenAnchor);
              if (editor.$mouseHandler.$clickSelection && rectSel.length == 1 && rectSel[0].isEmpty())
                rectSel[0] = editor.$mouseHandler.$clickSelection.clone();
              rectSel.forEach(editor.addSelectionMarker, editor);
              editor.updateSelectionMarkers();
            };
            if (isMultiSelect && !accel) {
              selection.toSingleRange();
            } else if (!isMultiSelect && accel) {
              initialRange = selection.toOrientedRange();
              editor.addSelectionMarker(initialRange);
            }
            if (shift)
              screenAnchor = session.documentToScreenPosition(selection.lead);
            else
              selection.moveToPosition(pos);
            screenCursor = { row: -1, column: -1 };
            var onMouseSelectionEnd = function(e11) {
              blockSelect();
              clearInterval(timerId);
              editor.removeSelectionMarkers(rectSel);
              if (!rectSel.length)
                rectSel = [selection.toOrientedRange()];
              if (initialRange) {
                editor.removeSelectionMarker(initialRange);
                selection.toSingleRange(initialRange);
              }
              for (var i6 = 0; i6 < rectSel.length; i6++)
                selection.addRange(rectSel[i6]);
              editor.inVirtualSelectionMode = false;
              editor.$mouseHandler.$clickSelection = null;
            };
            var onSelectionInterval = blockSelect;
            event.capture(editor.container, onMouseSelection, onMouseSelectionEnd);
            var timerId = setInterval(function() {
              onSelectionInterval();
            }, 20);
            return e10.preventDefault();
          }
        }
        exports2.onMouseDown = onMouseDown;
      });
      ace.define("ace/commands/multi_select_commands", ["require", "exports", "module", "ace/keyboard/hash_handler"], function(require3, exports2, module2) {
        exports2.defaultCommands = [{
          name: "addCursorAbove",
          description: "Add cursor above",
          exec: function(editor) {
            editor.selectMoreLines(-1);
          },
          bindKey: { win: "Ctrl-Alt-Up", mac: "Ctrl-Alt-Up" },
          scrollIntoView: "cursor",
          readOnly: true
        }, {
          name: "addCursorBelow",
          description: "Add cursor below",
          exec: function(editor) {
            editor.selectMoreLines(1);
          },
          bindKey: { win: "Ctrl-Alt-Down", mac: "Ctrl-Alt-Down" },
          scrollIntoView: "cursor",
          readOnly: true
        }, {
          name: "addCursorAboveSkipCurrent",
          description: "Add cursor above (skip current)",
          exec: function(editor) {
            editor.selectMoreLines(-1, true);
          },
          bindKey: { win: "Ctrl-Alt-Shift-Up", mac: "Ctrl-Alt-Shift-Up" },
          scrollIntoView: "cursor",
          readOnly: true
        }, {
          name: "addCursorBelowSkipCurrent",
          description: "Add cursor below (skip current)",
          exec: function(editor) {
            editor.selectMoreLines(1, true);
          },
          bindKey: { win: "Ctrl-Alt-Shift-Down", mac: "Ctrl-Alt-Shift-Down" },
          scrollIntoView: "cursor",
          readOnly: true
        }, {
          name: "selectMoreBefore",
          description: "Select more before",
          exec: function(editor) {
            editor.selectMore(-1);
          },
          bindKey: { win: "Ctrl-Alt-Left", mac: "Ctrl-Alt-Left" },
          scrollIntoView: "cursor",
          readOnly: true
        }, {
          name: "selectMoreAfter",
          description: "Select more after",
          exec: function(editor) {
            editor.selectMore(1);
          },
          bindKey: { win: "Ctrl-Alt-Right", mac: "Ctrl-Alt-Right" },
          scrollIntoView: "cursor",
          readOnly: true
        }, {
          name: "selectNextBefore",
          description: "Select next before",
          exec: function(editor) {
            editor.selectMore(-1, true);
          },
          bindKey: { win: "Ctrl-Alt-Shift-Left", mac: "Ctrl-Alt-Shift-Left" },
          scrollIntoView: "cursor",
          readOnly: true
        }, {
          name: "selectNextAfter",
          description: "Select next after",
          exec: function(editor) {
            editor.selectMore(1, true);
          },
          bindKey: { win: "Ctrl-Alt-Shift-Right", mac: "Ctrl-Alt-Shift-Right" },
          scrollIntoView: "cursor",
          readOnly: true
        }, {
          name: "toggleSplitSelectionIntoLines",
          description: "Split into lines",
          exec: function(editor) {
            if (editor.multiSelect.rangeCount > 1)
              editor.multiSelect.joinSelections();
            else
              editor.multiSelect.splitIntoLines();
          },
          bindKey: { win: "Ctrl-Alt-L", mac: "Ctrl-Alt-L" },
          readOnly: true
        }, {
          name: "splitSelectionIntoLines",
          description: "Split into lines",
          exec: function(editor) {
            editor.multiSelect.splitIntoLines();
          },
          readOnly: true
        }, {
          name: "alignCursors",
          description: "Align cursors",
          exec: function(editor) {
            editor.alignCursors();
          },
          bindKey: { win: "Ctrl-Alt-A", mac: "Ctrl-Alt-A" },
          scrollIntoView: "cursor"
        }, {
          name: "findAll",
          description: "Find all",
          exec: function(editor) {
            editor.findAll();
          },
          bindKey: { win: "Ctrl-Alt-K", mac: "Ctrl-Alt-G" },
          scrollIntoView: "cursor",
          readOnly: true
        }];
        exports2.multiSelectCommands = [{
          name: "singleSelection",
          description: "Single selection",
          bindKey: "esc",
          exec: function(editor) {
            editor.exitMultiSelectMode();
          },
          scrollIntoView: "cursor",
          readOnly: true,
          isAvailable: function(editor) {
            return editor && editor.inMultiSelectMode;
          }
        }];
        var HashHandler = require3("../keyboard/hash_handler").HashHandler;
        exports2.keyboardHandler = new HashHandler(exports2.multiSelectCommands);
      });
      ace.define("ace/multi_select", ["require", "exports", "module", "ace/range_list", "ace/range", "ace/selection", "ace/mouse/multi_select_handler", "ace/lib/event", "ace/lib/lang", "ace/commands/multi_select_commands", "ace/search", "ace/edit_session", "ace/editor", "ace/config"], function(require3, exports2, module2) {
        var RangeList = require3("./range_list").RangeList;
        var Range = require3("./range").Range;
        var Selection = require3("./selection").Selection;
        var onMouseDown = require3("./mouse/multi_select_handler").onMouseDown;
        var event = require3("./lib/event");
        var lang = require3("./lib/lang");
        var commands = require3("./commands/multi_select_commands");
        exports2.commands = commands.defaultCommands.concat(commands.multiSelectCommands);
        var Search = require3("./search").Search;
        var search = new Search();
        function find(session, needle, dir) {
          search.$options.wrap = true;
          search.$options.needle = needle;
          search.$options.backwards = dir == -1;
          return search.find(session);
        }
        var EditSession2 = require3("./edit_session").EditSession;
        (function() {
          this.getSelectionMarkers = function() {
            return this.$selectionMarkers;
          };
        }).call(EditSession2.prototype);
        (function() {
          this.ranges = null;
          this.rangeList = null;
          this.addRange = function(range, $blockChangeEvents) {
            if (!range)
              return;
            if (!this.inMultiSelectMode && this.rangeCount === 0) {
              var oldRange = this.toOrientedRange();
              this.rangeList.add(oldRange);
              this.rangeList.add(range);
              if (this.rangeList.ranges.length != 2) {
                this.rangeList.removeAll();
                return $blockChangeEvents || this.fromOrientedRange(range);
              }
              this.rangeList.removeAll();
              this.rangeList.add(oldRange);
              this.$onAddRange(oldRange);
            }
            if (!range.cursor)
              range.cursor = range.end;
            var removed = this.rangeList.add(range);
            this.$onAddRange(range);
            if (removed.length)
              this.$onRemoveRange(removed);
            if (this.rangeCount > 1 && !this.inMultiSelectMode) {
              this._signal("multiSelect");
              this.inMultiSelectMode = true;
              this.session.$undoSelect = false;
              this.rangeList.attach(this.session);
            }
            return $blockChangeEvents || this.fromOrientedRange(range);
          };
          this.toSingleRange = function(range) {
            range = range || this.ranges[0];
            var removed = this.rangeList.removeAll();
            if (removed.length)
              this.$onRemoveRange(removed);
            range && this.fromOrientedRange(range);
          };
          this.substractPoint = function(pos) {
            var removed = this.rangeList.substractPoint(pos);
            if (removed) {
              this.$onRemoveRange(removed);
              return removed[0];
            }
          };
          this.mergeOverlappingRanges = function() {
            var removed = this.rangeList.merge();
            if (removed.length)
              this.$onRemoveRange(removed);
          };
          this.$onAddRange = function(range) {
            this.rangeCount = this.rangeList.ranges.length;
            this.ranges.unshift(range);
            this._signal("addRange", { range });
          };
          this.$onRemoveRange = function(removed) {
            this.rangeCount = this.rangeList.ranges.length;
            if (this.rangeCount == 1 && this.inMultiSelectMode) {
              var lastRange = this.rangeList.ranges.pop();
              removed.push(lastRange);
              this.rangeCount = 0;
            }
            for (var i6 = removed.length; i6--; ) {
              var index = this.ranges.indexOf(removed[i6]);
              this.ranges.splice(index, 1);
            }
            this._signal("removeRange", { ranges: removed });
            if (this.rangeCount === 0 && this.inMultiSelectMode) {
              this.inMultiSelectMode = false;
              this._signal("singleSelect");
              this.session.$undoSelect = true;
              this.rangeList.detach(this.session);
            }
            lastRange = lastRange || this.ranges[0];
            if (lastRange && !lastRange.isEqual(this.getRange()))
              this.fromOrientedRange(lastRange);
          };
          this.$initRangeList = function() {
            if (this.rangeList)
              return;
            this.rangeList = new RangeList();
            this.ranges = [];
            this.rangeCount = 0;
          };
          this.getAllRanges = function() {
            return this.rangeCount ? this.rangeList.ranges.concat() : [this.getRange()];
          };
          this.splitIntoLines = function() {
            var ranges = this.ranges.length ? this.ranges : [this.getRange()];
            var newRanges = [];
            for (var i6 = 0; i6 < ranges.length; i6++) {
              var range = ranges[i6];
              var row = range.start.row;
              var endRow = range.end.row;
              if (row === endRow) {
                newRanges.push(range.clone());
              } else {
                newRanges.push(new Range(row, range.start.column, row, this.session.getLine(row).length));
                while (++row < endRow)
                  newRanges.push(this.getLineRange(row, true));
                newRanges.push(new Range(endRow, 0, endRow, range.end.column));
              }
              if (i6 == 0 && !this.isBackwards())
                newRanges = newRanges.reverse();
            }
            this.toSingleRange();
            for (var i6 = newRanges.length; i6--; )
              this.addRange(newRanges[i6]);
          };
          this.joinSelections = function() {
            var ranges = this.rangeList.ranges;
            var lastRange = ranges[ranges.length - 1];
            var range = Range.fromPoints(ranges[0].start, lastRange.end);
            this.toSingleRange();
            this.setSelectionRange(range, lastRange.cursor == lastRange.start);
          };
          this.toggleBlockSelection = function() {
            if (this.rangeCount > 1) {
              var ranges = this.rangeList.ranges;
              var lastRange = ranges[ranges.length - 1];
              var range = Range.fromPoints(ranges[0].start, lastRange.end);
              this.toSingleRange();
              this.setSelectionRange(range, lastRange.cursor == lastRange.start);
            } else {
              var cursor = this.session.documentToScreenPosition(this.cursor);
              var anchor = this.session.documentToScreenPosition(this.anchor);
              var rectSel = this.rectangularRangeBlock(cursor, anchor);
              rectSel.forEach(this.addRange, this);
            }
          };
          this.rectangularRangeBlock = function(screenCursor, screenAnchor, includeEmptyLines) {
            var rectSel = [];
            var xBackwards = screenCursor.column < screenAnchor.column;
            if (xBackwards) {
              var startColumn = screenCursor.column;
              var endColumn = screenAnchor.column;
              var startOffsetX = screenCursor.offsetX;
              var endOffsetX = screenAnchor.offsetX;
            } else {
              var startColumn = screenAnchor.column;
              var endColumn = screenCursor.column;
              var startOffsetX = screenAnchor.offsetX;
              var endOffsetX = screenCursor.offsetX;
            }
            var yBackwards = screenCursor.row < screenAnchor.row;
            if (yBackwards) {
              var startRow = screenCursor.row;
              var endRow = screenAnchor.row;
            } else {
              var startRow = screenAnchor.row;
              var endRow = screenCursor.row;
            }
            if (startColumn < 0)
              startColumn = 0;
            if (startRow < 0)
              startRow = 0;
            if (startRow == endRow)
              includeEmptyLines = true;
            var docEnd;
            for (var row = startRow; row <= endRow; row++) {
              var range = Range.fromPoints(
                this.session.screenToDocumentPosition(row, startColumn, startOffsetX),
                this.session.screenToDocumentPosition(row, endColumn, endOffsetX)
              );
              if (range.isEmpty()) {
                if (docEnd && isSamePoint(range.end, docEnd))
                  break;
                docEnd = range.end;
              }
              range.cursor = xBackwards ? range.start : range.end;
              rectSel.push(range);
            }
            if (yBackwards)
              rectSel.reverse();
            if (!includeEmptyLines) {
              var end = rectSel.length - 1;
              while (rectSel[end].isEmpty() && end > 0)
                end--;
              if (end > 0) {
                var start = 0;
                while (rectSel[start].isEmpty())
                  start++;
              }
              for (var i6 = end; i6 >= start; i6--) {
                if (rectSel[i6].isEmpty())
                  rectSel.splice(i6, 1);
              }
            }
            return rectSel;
          };
        }).call(Selection.prototype);
        var Editor = require3("./editor").Editor;
        (function() {
          this.updateSelectionMarkers = function() {
            this.renderer.updateCursor();
            this.renderer.updateBackMarkers();
          };
          this.addSelectionMarker = function(orientedRange) {
            if (!orientedRange.cursor)
              orientedRange.cursor = orientedRange.end;
            var style = this.getSelectionStyle();
            orientedRange.marker = this.session.addMarker(orientedRange, "ace_selection", style);
            this.session.$selectionMarkers.push(orientedRange);
            this.session.selectionMarkerCount = this.session.$selectionMarkers.length;
            return orientedRange;
          };
          this.removeSelectionMarker = function(range) {
            if (!range.marker)
              return;
            this.session.removeMarker(range.marker);
            var index = this.session.$selectionMarkers.indexOf(range);
            if (index != -1)
              this.session.$selectionMarkers.splice(index, 1);
            this.session.selectionMarkerCount = this.session.$selectionMarkers.length;
          };
          this.removeSelectionMarkers = function(ranges) {
            var markerList = this.session.$selectionMarkers;
            for (var i6 = ranges.length; i6--; ) {
              var range = ranges[i6];
              if (!range.marker)
                continue;
              this.session.removeMarker(range.marker);
              var index = markerList.indexOf(range);
              if (index != -1)
                markerList.splice(index, 1);
            }
            this.session.selectionMarkerCount = markerList.length;
          };
          this.$onAddRange = function(e10) {
            this.addSelectionMarker(e10.range);
            this.renderer.updateCursor();
            this.renderer.updateBackMarkers();
          };
          this.$onRemoveRange = function(e10) {
            this.removeSelectionMarkers(e10.ranges);
            this.renderer.updateCursor();
            this.renderer.updateBackMarkers();
          };
          this.$onMultiSelect = function(e10) {
            if (this.inMultiSelectMode)
              return;
            this.inMultiSelectMode = true;
            this.setStyle("ace_multiselect");
            this.keyBinding.addKeyboardHandler(commands.keyboardHandler);
            this.commands.setDefaultHandler("exec", this.$onMultiSelectExec);
            this.renderer.updateCursor();
            this.renderer.updateBackMarkers();
          };
          this.$onSingleSelect = function(e10) {
            if (this.session.multiSelect.inVirtualMode)
              return;
            this.inMultiSelectMode = false;
            this.unsetStyle("ace_multiselect");
            this.keyBinding.removeKeyboardHandler(commands.keyboardHandler);
            this.commands.removeDefaultHandler("exec", this.$onMultiSelectExec);
            this.renderer.updateCursor();
            this.renderer.updateBackMarkers();
            this._emit("changeSelection");
          };
          this.$onMultiSelectExec = function(e10) {
            var command = e10.command;
            var editor = e10.editor;
            if (!editor.multiSelect)
              return;
            if (!command.multiSelectAction) {
              var result = command.exec(editor, e10.args || {});
              editor.multiSelect.addRange(editor.multiSelect.toOrientedRange());
              editor.multiSelect.mergeOverlappingRanges();
            } else if (command.multiSelectAction == "forEach") {
              result = editor.forEachSelection(command, e10.args);
            } else if (command.multiSelectAction == "forEachLine") {
              result = editor.forEachSelection(command, e10.args, true);
            } else if (command.multiSelectAction == "single") {
              editor.exitMultiSelectMode();
              result = command.exec(editor, e10.args || {});
            } else {
              result = command.multiSelectAction(editor, e10.args || {});
            }
            return result;
          };
          this.forEachSelection = function(cmd, args, options) {
            if (this.inVirtualSelectionMode)
              return;
            var keepOrder = options && options.keepOrder;
            var $byLines = options == true || options && options.$byLines;
            var session = this.session;
            var selection = this.selection;
            var rangeList = selection.rangeList;
            var ranges = (keepOrder ? selection : rangeList).ranges;
            var result;
            if (!ranges.length)
              return cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});
            var reg = selection._eventRegistry;
            selection._eventRegistry = {};
            var tmpSel = new Selection(session);
            this.inVirtualSelectionMode = true;
            for (var i6 = ranges.length; i6--; ) {
              if ($byLines) {
                while (i6 > 0 && ranges[i6].start.row == ranges[i6 - 1].end.row)
                  i6--;
              }
              tmpSel.fromOrientedRange(ranges[i6]);
              tmpSel.index = i6;
              this.selection = session.selection = tmpSel;
              var cmdResult = cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});
              if (!result && cmdResult !== void 0)
                result = cmdResult;
              tmpSel.toOrientedRange(ranges[i6]);
            }
            tmpSel.detach();
            this.selection = session.selection = selection;
            this.inVirtualSelectionMode = false;
            selection._eventRegistry = reg;
            selection.mergeOverlappingRanges();
            if (selection.ranges[0])
              selection.fromOrientedRange(selection.ranges[0]);
            var anim = this.renderer.$scrollAnimation;
            this.onCursorChange();
            this.onSelectionChange();
            if (anim && anim.from == anim.to)
              this.renderer.animateScrolling(anim.from);
            return result;
          };
          this.exitMultiSelectMode = function() {
            if (!this.inMultiSelectMode || this.inVirtualSelectionMode)
              return;
            this.multiSelect.toSingleRange();
          };
          this.getSelectedText = function() {
            var text = "";
            if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {
              var ranges = this.multiSelect.rangeList.ranges;
              var buf = [];
              for (var i6 = 0; i6 < ranges.length; i6++) {
                buf.push(this.session.getTextRange(ranges[i6]));
              }
              var nl = this.session.getDocument().getNewLineCharacter();
              text = buf.join(nl);
              if (text.length == (buf.length - 1) * nl.length)
                text = "";
            } else if (!this.selection.isEmpty()) {
              text = this.session.getTextRange(this.getSelectionRange());
            }
            return text;
          };
          this.$checkMultiselectChange = function(e10, anchor) {
            if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {
              var range = this.multiSelect.ranges[0];
              if (this.multiSelect.isEmpty() && anchor == this.multiSelect.anchor)
                return;
              var pos = anchor == this.multiSelect.anchor ? range.cursor == range.start ? range.end : range.start : range.cursor;
              if (pos.row != anchor.row || this.session.$clipPositionToDocument(pos.row, pos.column).column != anchor.column)
                this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange());
              else
                this.multiSelect.mergeOverlappingRanges();
            }
          };
          this.findAll = function(needle, options, additive) {
            options = options || {};
            options.needle = needle || options.needle;
            if (options.needle == void 0) {
              var range = this.selection.isEmpty() ? this.selection.getWordRange() : this.selection.getRange();
              options.needle = this.session.getTextRange(range);
            }
            this.$search.set(options);
            var ranges = this.$search.findAll(this.session);
            if (!ranges.length)
              return 0;
            var selection = this.multiSelect;
            if (!additive)
              selection.toSingleRange(ranges[0]);
            for (var i6 = ranges.length; i6--; )
              selection.addRange(ranges[i6], true);
            if (range && selection.rangeList.rangeAtPoint(range.start))
              selection.addRange(range, true);
            return ranges.length;
          };
          this.selectMoreLines = function(dir, skip) {
            var range = this.selection.toOrientedRange();
            var isBackwards = range.cursor == range.end;
            var screenLead = this.session.documentToScreenPosition(range.cursor);
            if (this.selection.$desiredColumn)
              screenLead.column = this.selection.$desiredColumn;
            var lead = this.session.screenToDocumentPosition(screenLead.row + dir, screenLead.column);
            if (!range.isEmpty()) {
              var screenAnchor = this.session.documentToScreenPosition(isBackwards ? range.end : range.start);
              var anchor = this.session.screenToDocumentPosition(screenAnchor.row + dir, screenAnchor.column);
            } else {
              var anchor = lead;
            }
            if (isBackwards) {
              var newRange = Range.fromPoints(lead, anchor);
              newRange.cursor = newRange.start;
            } else {
              var newRange = Range.fromPoints(anchor, lead);
              newRange.cursor = newRange.end;
            }
            newRange.desiredColumn = screenLead.column;
            if (!this.selection.inMultiSelectMode) {
              this.selection.addRange(range);
            } else {
              if (skip)
                var toRemove = range.cursor;
            }
            this.selection.addRange(newRange);
            if (toRemove)
              this.selection.substractPoint(toRemove);
          };
          this.transposeSelections = function(dir) {
            var session = this.session;
            var sel = session.multiSelect;
            var all = sel.ranges;
            for (var i6 = all.length; i6--; ) {
              var range = all[i6];
              if (range.isEmpty()) {
                var tmp = session.getWordRange(range.start.row, range.start.column);
                range.start.row = tmp.start.row;
                range.start.column = tmp.start.column;
                range.end.row = tmp.end.row;
                range.end.column = tmp.end.column;
              }
            }
            sel.mergeOverlappingRanges();
            var words = [];
            for (var i6 = all.length; i6--; ) {
              var range = all[i6];
              words.unshift(session.getTextRange(range));
            }
            if (dir < 0)
              words.unshift(words.pop());
            else
              words.push(words.shift());
            for (var i6 = all.length; i6--; ) {
              var range = all[i6];
              var tmp = range.clone();
              session.replace(range, words[i6]);
              range.start.row = tmp.start.row;
              range.start.column = tmp.start.column;
            }
            sel.fromOrientedRange(sel.ranges[0]);
          };
          this.selectMore = function(dir, skip, stopAtFirst) {
            var session = this.session;
            var sel = session.multiSelect;
            var range = sel.toOrientedRange();
            if (range.isEmpty()) {
              range = session.getWordRange(range.start.row, range.start.column);
              range.cursor = dir == -1 ? range.start : range.end;
              this.multiSelect.addRange(range);
              if (stopAtFirst)
                return;
            }
            var needle = session.getTextRange(range);
            var newRange = find(session, needle, dir);
            if (newRange) {
              newRange.cursor = dir == -1 ? newRange.start : newRange.end;
              this.session.unfold(newRange);
              this.multiSelect.addRange(newRange);
              this.renderer.scrollCursorIntoView(null, 0.5);
            }
            if (skip)
              this.multiSelect.substractPoint(range.cursor);
          };
          this.alignCursors = function() {
            var session = this.session;
            var sel = session.multiSelect;
            var ranges = sel.ranges;
            var row = -1;
            var sameRowRanges = ranges.filter(function(r5) {
              if (r5.cursor.row == row)
                return true;
              row = r5.cursor.row;
            });
            if (!ranges.length || sameRowRanges.length == ranges.length - 1) {
              var range = this.selection.getRange();
              var fr = range.start.row, lr = range.end.row;
              var guessRange = fr == lr;
              if (guessRange) {
                var max = this.session.getLength();
                var line;
                do {
                  line = this.session.getLine(lr);
                } while (/[=:]/.test(line) && ++lr < max);
                do {
                  line = this.session.getLine(fr);
                } while (/[=:]/.test(line) && --fr > 0);
                if (fr < 0)
                  fr = 0;
                if (lr >= max)
                  lr = max - 1;
              }
              var lines = this.session.removeFullLines(fr, lr);
              lines = this.$reAlignText(lines, guessRange);
              this.session.insert({ row: fr, column: 0 }, lines.join("\n") + "\n");
              if (!guessRange) {
                range.start.column = 0;
                range.end.column = lines[lines.length - 1].length;
              }
              this.selection.setRange(range);
            } else {
              sameRowRanges.forEach(function(r5) {
                sel.substractPoint(r5.cursor);
              });
              var maxCol = 0;
              var minSpace = Infinity;
              var spaceOffsets = ranges.map(function(r5) {
                var p2 = r5.cursor;
                var line2 = session.getLine(p2.row);
                var spaceOffset = line2.substr(p2.column).search(/\S/g);
                if (spaceOffset == -1)
                  spaceOffset = 0;
                if (p2.column > maxCol)
                  maxCol = p2.column;
                if (spaceOffset < minSpace)
                  minSpace = spaceOffset;
                return spaceOffset;
              });
              ranges.forEach(function(r5, i6) {
                var p2 = r5.cursor;
                var l7 = maxCol - p2.column;
                var d3 = spaceOffsets[i6] - minSpace;
                if (l7 > d3)
                  session.insert(p2, lang.stringRepeat(" ", l7 - d3));
                else
                  session.remove(new Range(p2.row, p2.column, p2.row, p2.column - l7 + d3));
                r5.start.column = r5.end.column = maxCol;
                r5.start.row = r5.end.row = p2.row;
                r5.cursor = r5.end;
              });
              sel.fromOrientedRange(ranges[0]);
              this.renderer.updateCursor();
              this.renderer.updateBackMarkers();
            }
          };
          this.$reAlignText = function(lines, forceLeft) {
            var isLeftAligned = true, isRightAligned = true;
            var startW, textW, endW;
            return lines.map(function(line) {
              var m2 = line.match(/(\s*)(.*?)(\s*)([=:].*)/);
              if (!m2)
                return [line];
              if (startW == null) {
                startW = m2[1].length;
                textW = m2[2].length;
                endW = m2[3].length;
                return m2;
              }
              if (startW + textW + endW != m2[1].length + m2[2].length + m2[3].length)
                isRightAligned = false;
              if (startW != m2[1].length)
                isLeftAligned = false;
              if (startW > m2[1].length)
                startW = m2[1].length;
              if (textW < m2[2].length)
                textW = m2[2].length;
              if (endW > m2[3].length)
                endW = m2[3].length;
              return m2;
            }).map(forceLeft ? alignLeft : isLeftAligned ? isRightAligned ? alignRight : alignLeft : unAlign);
            function spaces(n9) {
              return lang.stringRepeat(" ", n9);
            }
            function alignLeft(m2) {
              return !m2[2] ? m2[0] : spaces(startW) + m2[2] + spaces(textW - m2[2].length + endW) + m2[4].replace(/^([=:])\s+/, "$1 ");
            }
            function alignRight(m2) {
              return !m2[2] ? m2[0] : spaces(startW + textW - m2[2].length) + m2[2] + spaces(endW) + m2[4].replace(/^([=:])\s+/, "$1 ");
            }
            function unAlign(m2) {
              return !m2[2] ? m2[0] : spaces(startW) + m2[2] + spaces(endW) + m2[4].replace(/^([=:])\s+/, "$1 ");
            }
          };
        }).call(Editor.prototype);
        function isSamePoint(p1, p2) {
          return p1.row == p2.row && p1.column == p2.column;
        }
        exports2.onSessionChange = function(e10) {
          var session = e10.session;
          if (session && !session.multiSelect) {
            session.$selectionMarkers = [];
            session.selection.$initRangeList();
            session.multiSelect = session.selection;
          }
          this.multiSelect = session && session.multiSelect;
          var oldSession = e10.oldSession;
          if (oldSession) {
            oldSession.multiSelect.off("addRange", this.$onAddRange);
            oldSession.multiSelect.off("removeRange", this.$onRemoveRange);
            oldSession.multiSelect.off("multiSelect", this.$onMultiSelect);
            oldSession.multiSelect.off("singleSelect", this.$onSingleSelect);
            oldSession.multiSelect.lead.off("change", this.$checkMultiselectChange);
            oldSession.multiSelect.anchor.off("change", this.$checkMultiselectChange);
          }
          if (session) {
            session.multiSelect.on("addRange", this.$onAddRange);
            session.multiSelect.on("removeRange", this.$onRemoveRange);
            session.multiSelect.on("multiSelect", this.$onMultiSelect);
            session.multiSelect.on("singleSelect", this.$onSingleSelect);
            session.multiSelect.lead.on("change", this.$checkMultiselectChange);
            session.multiSelect.anchor.on("change", this.$checkMultiselectChange);
          }
          if (session && this.inMultiSelectMode != session.selection.inMultiSelectMode) {
            if (session.selection.inMultiSelectMode)
              this.$onMultiSelect();
            else
              this.$onSingleSelect();
          }
        };
        function MultiSelect(editor) {
          if (editor.$multiselectOnSessionChange)
            return;
          editor.$onAddRange = editor.$onAddRange.bind(editor);
          editor.$onRemoveRange = editor.$onRemoveRange.bind(editor);
          editor.$onMultiSelect = editor.$onMultiSelect.bind(editor);
          editor.$onSingleSelect = editor.$onSingleSelect.bind(editor);
          editor.$multiselectOnSessionChange = exports2.onSessionChange.bind(editor);
          editor.$checkMultiselectChange = editor.$checkMultiselectChange.bind(editor);
          editor.$multiselectOnSessionChange(editor);
          editor.on("changeSession", editor.$multiselectOnSessionChange);
          editor.on("mousedown", onMouseDown);
          editor.commands.addCommands(commands.defaultCommands);
          addAltCursorListeners(editor);
        }
        function addAltCursorListeners(editor) {
          if (!editor.textInput)
            return;
          var el = editor.textInput.getElement();
          var altCursor = false;
          event.addListener(el, "keydown", function(e10) {
            var altDown = e10.keyCode == 18 && !(e10.ctrlKey || e10.shiftKey || e10.metaKey);
            if (editor.$blockSelectEnabled && altDown) {
              if (!altCursor) {
                editor.renderer.setMouseCursor("crosshair");
                altCursor = true;
              }
            } else if (altCursor) {
              reset();
            }
          }, editor);
          event.addListener(el, "keyup", reset, editor);
          event.addListener(el, "blur", reset, editor);
          function reset(e10) {
            if (altCursor) {
              editor.renderer.setMouseCursor("");
              altCursor = false;
            }
          }
        }
        exports2.MultiSelect = MultiSelect;
        require3("./config").defineOptions(Editor.prototype, "editor", {
          enableMultiselect: {
            set: function(val) {
              MultiSelect(this);
              if (val) {
                this.on("changeSession", this.$multiselectOnSessionChange);
                this.on("mousedown", onMouseDown);
              } else {
                this.off("changeSession", this.$multiselectOnSessionChange);
                this.off("mousedown", onMouseDown);
              }
            },
            value: true
          },
          enableBlockSelect: {
            set: function(val) {
              this.$blockSelectEnabled = val;
            },
            value: true
          }
        });
      });
      ace.define("ace/mode/folding/fold_mode", ["require", "exports", "module", "ace/range"], function(require3, exports2, module2) {
        "use strict";
        var Range = require3("../../range").Range;
        var FoldMode = exports2.FoldMode = function() {
        };
        (function() {
          this.foldingStartMarker = null;
          this.foldingStopMarker = null;
          this.getFoldWidget = function(session, foldStyle, row) {
            var line = session.getLine(row);
            if (this.foldingStartMarker.test(line))
              return "start";
            if (foldStyle == "markbeginend" && this.foldingStopMarker && this.foldingStopMarker.test(line))
              return "end";
            return "";
          };
          this.getFoldWidgetRange = function(session, foldStyle, row) {
            return null;
          };
          this.indentationBlock = function(session, row, column) {
            var re = /\S/;
            var line = session.getLine(row);
            var startLevel = line.search(re);
            if (startLevel == -1)
              return;
            var startColumn = column || line.length;
            var maxRow = session.getLength();
            var startRow = row;
            var endRow = row;
            while (++row < maxRow) {
              var level = session.getLine(row).search(re);
              if (level == -1)
                continue;
              if (level <= startLevel) {
                var token = session.getTokenAt(row, 0);
                if (!token || token.type !== "string")
                  break;
              }
              endRow = row;
            }
            if (endRow > startRow) {
              var endColumn = session.getLine(endRow).length;
              return new Range(startRow, startColumn, endRow, endColumn);
            }
          };
          this.openingBracketBlock = function(session, bracket, row, column, typeRe) {
            var start = { row, column: column + 1 };
            var end = session.$findClosingBracket(bracket, start, typeRe);
            if (!end)
              return;
            var fw = session.foldWidgets[end.row];
            if (fw == null)
              fw = session.getFoldWidget(end.row);
            if (fw == "start" && end.row > start.row) {
              end.row--;
              end.column = session.getLine(end.row).length;
            }
            return Range.fromPoints(start, end);
          };
          this.closingBracketBlock = function(session, bracket, row, column, typeRe) {
            var end = { row, column };
            var start = session.$findOpeningBracket(bracket, end);
            if (!start)
              return;
            start.column++;
            end.column--;
            return Range.fromPoints(start, end);
          };
        }).call(FoldMode.prototype);
      });
      ace.define("ace/line_widgets", ["require", "exports", "module", "ace/lib/dom"], function(require3, exports2, module2) {
        "use strict";
        var dom = require3("./lib/dom");
        function LineWidgets(session) {
          this.session = session;
          this.session.widgetManager = this;
          this.session.getRowLength = this.getRowLength;
          this.session.$getWidgetScreenLength = this.$getWidgetScreenLength;
          this.updateOnChange = this.updateOnChange.bind(this);
          this.renderWidgets = this.renderWidgets.bind(this);
          this.measureWidgets = this.measureWidgets.bind(this);
          this.session._changedWidgets = [];
          this.$onChangeEditor = this.$onChangeEditor.bind(this);
          this.session.on("change", this.updateOnChange);
          this.session.on("changeFold", this.updateOnFold);
          this.session.on("changeEditor", this.$onChangeEditor);
        }
        (function() {
          this.getRowLength = function(row) {
            var h5;
            if (this.lineWidgets)
              h5 = this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;
            else
              h5 = 0;
            if (!this.$useWrapMode || !this.$wrapData[row]) {
              return 1 + h5;
            } else {
              return this.$wrapData[row].length + 1 + h5;
            }
          };
          this.$getWidgetScreenLength = function() {
            var screenRows = 0;
            this.lineWidgets.forEach(function(w2) {
              if (w2 && w2.rowCount && !w2.hidden)
                screenRows += w2.rowCount;
            });
            return screenRows;
          };
          this.$onChangeEditor = function(e10) {
            this.attach(e10.editor);
          };
          this.attach = function(editor) {
            if (editor && editor.widgetManager && editor.widgetManager != this)
              editor.widgetManager.detach();
            if (this.editor == editor)
              return;
            this.detach();
            this.editor = editor;
            if (editor) {
              editor.widgetManager = this;
              editor.renderer.on("beforeRender", this.measureWidgets);
              editor.renderer.on("afterRender", this.renderWidgets);
            }
          };
          this.detach = function(e10) {
            var editor = this.editor;
            if (!editor)
              return;
            this.editor = null;
            editor.widgetManager = null;
            editor.renderer.off("beforeRender", this.measureWidgets);
            editor.renderer.off("afterRender", this.renderWidgets);
            var lineWidgets = this.session.lineWidgets;
            lineWidgets && lineWidgets.forEach(function(w2) {
              if (w2 && w2.el && w2.el.parentNode) {
                w2._inDocument = false;
                w2.el.parentNode.removeChild(w2.el);
              }
            });
          };
          this.updateOnFold = function(e10, session) {
            var lineWidgets = session.lineWidgets;
            if (!lineWidgets || !e10.action)
              return;
            var fold = e10.data;
            var start = fold.start.row;
            var end = fold.end.row;
            var hide = e10.action == "add";
            for (var i6 = start + 1; i6 < end; i6++) {
              if (lineWidgets[i6])
                lineWidgets[i6].hidden = hide;
            }
            if (lineWidgets[end]) {
              if (hide) {
                if (!lineWidgets[start])
                  lineWidgets[start] = lineWidgets[end];
                else
                  lineWidgets[end].hidden = hide;
              } else {
                if (lineWidgets[start] == lineWidgets[end])
                  lineWidgets[start] = void 0;
                lineWidgets[end].hidden = hide;
              }
            }
          };
          this.updateOnChange = function(delta) {
            var lineWidgets = this.session.lineWidgets;
            if (!lineWidgets)
              return;
            var startRow = delta.start.row;
            var len = delta.end.row - startRow;
            if (len === 0) {
            } else if (delta.action == "remove") {
              var removed = lineWidgets.splice(startRow + 1, len);
              if (!lineWidgets[startRow] && removed[removed.length - 1]) {
                lineWidgets[startRow] = removed.pop();
              }
              removed.forEach(function(w2) {
                w2 && this.removeLineWidget(w2);
              }, this);
              this.$updateRows();
            } else {
              var args = new Array(len);
              if (lineWidgets[startRow] && lineWidgets[startRow].column != null) {
                if (delta.start.column > lineWidgets[startRow].column)
                  startRow++;
              }
              args.unshift(startRow, 0);
              lineWidgets.splice.apply(lineWidgets, args);
              this.$updateRows();
            }
          };
          this.$updateRows = function() {
            var lineWidgets = this.session.lineWidgets;
            if (!lineWidgets)
              return;
            var noWidgets = true;
            lineWidgets.forEach(function(w2, i6) {
              if (w2) {
                noWidgets = false;
                w2.row = i6;
                while (w2.$oldWidget) {
                  w2.$oldWidget.row = i6;
                  w2 = w2.$oldWidget;
                }
              }
            });
            if (noWidgets)
              this.session.lineWidgets = null;
          };
          this.$registerLineWidget = function(w2) {
            if (!this.session.lineWidgets)
              this.session.lineWidgets = new Array(this.session.getLength());
            var old = this.session.lineWidgets[w2.row];
            if (old) {
              w2.$oldWidget = old;
              if (old.el && old.el.parentNode) {
                old.el.parentNode.removeChild(old.el);
                old._inDocument = false;
              }
            }
            this.session.lineWidgets[w2.row] = w2;
            return w2;
          };
          this.addLineWidget = function(w2) {
            this.$registerLineWidget(w2);
            w2.session = this.session;
            if (!this.editor)
              return w2;
            var renderer = this.editor.renderer;
            if (w2.html && !w2.el) {
              w2.el = dom.createElement("div");
              w2.el.innerHTML = w2.html;
            }
            if (w2.el) {
              dom.addCssClass(w2.el, "ace_lineWidgetContainer");
              w2.el.style.position = "absolute";
              w2.el.style.zIndex = 5;
              renderer.container.appendChild(w2.el);
              w2._inDocument = true;
              if (!w2.coverGutter) {
                w2.el.style.zIndex = 3;
              }
              if (w2.pixelHeight == null) {
                w2.pixelHeight = w2.el.offsetHeight;
              }
            }
            if (w2.rowCount == null) {
              w2.rowCount = w2.pixelHeight / renderer.layerConfig.lineHeight;
            }
            var fold = this.session.getFoldAt(w2.row, 0);
            w2.$fold = fold;
            if (fold) {
              var lineWidgets = this.session.lineWidgets;
              if (w2.row == fold.end.row && !lineWidgets[fold.start.row])
                lineWidgets[fold.start.row] = w2;
              else
                w2.hidden = true;
            }
            this.session._emit("changeFold", { data: { start: { row: w2.row } } });
            this.$updateRows();
            this.renderWidgets(null, renderer);
            this.onWidgetChanged(w2);
            return w2;
          };
          this.removeLineWidget = function(w2) {
            w2._inDocument = false;
            w2.session = null;
            if (w2.el && w2.el.parentNode)
              w2.el.parentNode.removeChild(w2.el);
            if (w2.editor && w2.editor.destroy)
              try {
                w2.editor.destroy();
              } catch (e10) {
              }
            if (this.session.lineWidgets) {
              var w1 = this.session.lineWidgets[w2.row];
              if (w1 == w2) {
                this.session.lineWidgets[w2.row] = w2.$oldWidget;
                if (w2.$oldWidget)
                  this.onWidgetChanged(w2.$oldWidget);
              } else {
                while (w1) {
                  if (w1.$oldWidget == w2) {
                    w1.$oldWidget = w2.$oldWidget;
                    break;
                  }
                  w1 = w1.$oldWidget;
                }
              }
            }
            this.session._emit("changeFold", { data: { start: { row: w2.row } } });
            this.$updateRows();
          };
          this.getWidgetsAtRow = function(row) {
            var lineWidgets = this.session.lineWidgets;
            var w2 = lineWidgets && lineWidgets[row];
            var list = [];
            while (w2) {
              list.push(w2);
              w2 = w2.$oldWidget;
            }
            return list;
          };
          this.onWidgetChanged = function(w2) {
            this.session._changedWidgets.push(w2);
            this.editor && this.editor.renderer.updateFull();
          };
          this.measureWidgets = function(e10, renderer) {
            var changedWidgets = this.session._changedWidgets;
            var config2 = renderer.layerConfig;
            if (!changedWidgets || !changedWidgets.length)
              return;
            var min = Infinity;
            for (var i6 = 0; i6 < changedWidgets.length; i6++) {
              var w2 = changedWidgets[i6];
              if (!w2 || !w2.el)
                continue;
              if (w2.session != this.session)
                continue;
              if (!w2._inDocument) {
                if (this.session.lineWidgets[w2.row] != w2)
                  continue;
                w2._inDocument = true;
                renderer.container.appendChild(w2.el);
              }
              w2.h = w2.el.offsetHeight;
              if (!w2.fixedWidth) {
                w2.w = w2.el.offsetWidth;
                w2.screenWidth = Math.ceil(w2.w / config2.characterWidth);
              }
              var rowCount = w2.h / config2.lineHeight;
              if (w2.coverLine) {
                rowCount -= this.session.getRowLineCount(w2.row);
                if (rowCount < 0)
                  rowCount = 0;
              }
              if (w2.rowCount != rowCount) {
                w2.rowCount = rowCount;
                if (w2.row < min)
                  min = w2.row;
              }
            }
            if (min != Infinity) {
              this.session._emit("changeFold", { data: { start: { row: min } } });
              this.session.lineWidgetWidth = null;
            }
            this.session._changedWidgets = [];
          };
          this.renderWidgets = function(e10, renderer) {
            var config2 = renderer.layerConfig;
            var lineWidgets = this.session.lineWidgets;
            if (!lineWidgets)
              return;
            var first = Math.min(this.firstRow, config2.firstRow);
            var last = Math.max(this.lastRow, config2.lastRow, lineWidgets.length);
            while (first > 0 && !lineWidgets[first])
              first--;
            this.firstRow = config2.firstRow;
            this.lastRow = config2.lastRow;
            renderer.$cursorLayer.config = config2;
            for (var i6 = first; i6 <= last; i6++) {
              var w2 = lineWidgets[i6];
              if (!w2 || !w2.el)
                continue;
              if (w2.hidden) {
                w2.el.style.top = -100 - (w2.pixelHeight || 0) + "px";
                continue;
              }
              if (!w2._inDocument) {
                w2._inDocument = true;
                renderer.container.appendChild(w2.el);
              }
              var top = renderer.$cursorLayer.getPixelPosition({ row: i6, column: 0 }, true).top;
              if (!w2.coverLine)
                top += config2.lineHeight * this.session.getRowLineCount(w2.row);
              w2.el.style.top = top - config2.offset + "px";
              var left = w2.coverGutter ? 0 : renderer.gutterWidth;
              if (!w2.fixedWidth)
                left -= renderer.scrollLeft;
              w2.el.style.left = left + "px";
              if (w2.fullWidth && w2.screenWidth) {
                w2.el.style.minWidth = config2.width + 2 * config2.padding + "px";
              }
              if (w2.fixedWidth) {
                w2.el.style.right = renderer.scrollBar.getWidth() + "px";
              } else {
                w2.el.style.right = "";
              }
            }
          };
        }).call(LineWidgets.prototype);
        exports2.LineWidgets = LineWidgets;
      });
      ace.define("ace/ext/error_marker", ["require", "exports", "module", "ace/line_widgets", "ace/lib/dom", "ace/range"], function(require3, exports2, module2) {
        "use strict";
        var LineWidgets = require3("../line_widgets").LineWidgets;
        var dom = require3("../lib/dom");
        var Range = require3("../range").Range;
        function binarySearch(array, needle, comparator) {
          var first = 0;
          var last = array.length - 1;
          while (first <= last) {
            var mid = first + last >> 1;
            var c2 = comparator(needle, array[mid]);
            if (c2 > 0)
              first = mid + 1;
            else if (c2 < 0)
              last = mid - 1;
            else
              return mid;
          }
          return -(first + 1);
        }
        function findAnnotations(session, row, dir) {
          var annotations = session.getAnnotations().sort(Range.comparePoints);
          if (!annotations.length)
            return;
          var i6 = binarySearch(annotations, { row, column: -1 }, Range.comparePoints);
          if (i6 < 0)
            i6 = -i6 - 1;
          if (i6 >= annotations.length)
            i6 = dir > 0 ? 0 : annotations.length - 1;
          else if (i6 === 0 && dir < 0)
            i6 = annotations.length - 1;
          var annotation = annotations[i6];
          if (!annotation || !dir)
            return;
          if (annotation.row === row) {
            do {
              annotation = annotations[i6 += dir];
            } while (annotation && annotation.row === row);
            if (!annotation)
              return annotations.slice();
          }
          var matched = [];
          row = annotation.row;
          do {
            matched[dir < 0 ? "unshift" : "push"](annotation);
            annotation = annotations[i6 += dir];
          } while (annotation && annotation.row == row);
          return matched.length && matched;
        }
        exports2.showErrorMarker = function(editor, dir) {
          var session = editor.session;
          if (!session.widgetManager) {
            session.widgetManager = new LineWidgets(session);
            session.widgetManager.attach(editor);
          }
          var pos = editor.getCursorPosition();
          var row = pos.row;
          var oldWidget = session.widgetManager.getWidgetsAtRow(row).filter(function(w3) {
            return w3.type == "errorMarker";
          })[0];
          if (oldWidget) {
            oldWidget.destroy();
          } else {
            row -= dir;
          }
          var annotations = findAnnotations(session, row, dir);
          var gutterAnno;
          if (annotations) {
            var annotation = annotations[0];
            pos.column = (annotation.pos && typeof annotation.column != "number" ? annotation.pos.sc : annotation.column) || 0;
            pos.row = annotation.row;
            gutterAnno = editor.renderer.$gutterLayer.$annotations[pos.row];
          } else if (oldWidget) {
            return;
          } else {
            gutterAnno = {
              text: ["Looks good!"],
              className: "ace_ok"
            };
          }
          editor.session.unfold(pos.row);
          editor.selection.moveToPosition(pos);
          var w2 = {
            row: pos.row,
            fixedWidth: true,
            coverGutter: true,
            el: dom.createElement("div"),
            type: "errorMarker"
          };
          var el = w2.el.appendChild(dom.createElement("div"));
          var arrow = w2.el.appendChild(dom.createElement("div"));
          arrow.className = "error_widget_arrow " + gutterAnno.className;
          var left = editor.renderer.$cursorLayer.getPixelPosition(pos).left;
          arrow.style.left = left + editor.renderer.gutterWidth - 5 + "px";
          w2.el.className = "error_widget_wrapper";
          el.className = "error_widget " + gutterAnno.className;
          el.innerHTML = gutterAnno.text.join("<br>");
          el.appendChild(dom.createElement("div"));
          var kb = function(_2, hashId, keyString) {
            if (hashId === 0 && (keyString === "esc" || keyString === "return")) {
              w2.destroy();
              return { command: "null" };
            }
          };
          w2.destroy = function() {
            if (editor.$mouseHandler.isMousePressed)
              return;
            editor.keyBinding.removeKeyboardHandler(kb);
            session.widgetManager.removeLineWidget(w2);
            editor.off("changeSelection", w2.destroy);
            editor.off("changeSession", w2.destroy);
            editor.off("mouseup", w2.destroy);
            editor.off("change", w2.destroy);
          };
          editor.keyBinding.addKeyboardHandler(kb);
          editor.on("changeSelection", w2.destroy);
          editor.on("changeSession", w2.destroy);
          editor.on("mouseup", w2.destroy);
          editor.on("change", w2.destroy);
          editor.session.widgetManager.addLineWidget(w2);
          w2.el.onmousedown = editor.focus.bind(editor);
          editor.renderer.scrollCursorIntoView(null, 0.5, { bottom: w2.el.offsetHeight });
        };
        dom.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }", "error_marker.css", false);
      });
      ace.define("ace/ace", ["require", "exports", "module", "ace/lib/dom", "ace/lib/event", "ace/range", "ace/editor", "ace/edit_session", "ace/undomanager", "ace/virtual_renderer", "ace/worker/worker_client", "ace/keyboard/hash_handler", "ace/placeholder", "ace/multi_select", "ace/mode/folding/fold_mode", "ace/theme/textmate", "ace/ext/error_marker", "ace/config", "ace/loader_build"], function(require3, exports2, module2) {
        "use strict";
        require3("./loader_build")(exports2);
        var dom = require3("./lib/dom");
        var event = require3("./lib/event");
        var Range = require3("./range").Range;
        var Editor = require3("./editor").Editor;
        var EditSession2 = require3("./edit_session").EditSession;
        var UndoManager2 = require3("./undomanager").UndoManager;
        var Renderer = require3("./virtual_renderer").VirtualRenderer;
        require3("./worker/worker_client");
        require3("./keyboard/hash_handler");
        require3("./placeholder");
        require3("./multi_select");
        require3("./mode/folding/fold_mode");
        require3("./theme/textmate");
        require3("./ext/error_marker");
        exports2.config = require3("./config");
        exports2.edit = function(el, options) {
          if (typeof el == "string") {
            var _id = el;
            el = document.getElementById(_id);
            if (!el)
              throw new Error("ace.edit can't find div #" + _id);
          }
          if (el && el.env && el.env.editor instanceof Editor)
            return el.env.editor;
          var value = "";
          if (el && /input|textarea/i.test(el.tagName)) {
            var oldNode = el;
            value = oldNode.value;
            el = dom.createElement("pre");
            oldNode.parentNode.replaceChild(el, oldNode);
          } else if (el) {
            value = el.textContent;
            el.innerHTML = "";
          }
          var doc = exports2.createEditSession(value);
          var editor = new Editor(new Renderer(el), doc, options);
          var env = {
            document: doc,
            editor,
            onResize: editor.resize.bind(editor, null)
          };
          if (oldNode)
            env.textarea = oldNode;
          event.addListener(window, "resize", env.onResize);
          editor.on("destroy", function() {
            event.removeListener(window, "resize", env.onResize);
            env.editor.container.env = null;
          });
          editor.container.env = editor.env = env;
          return editor;
        };
        exports2.createEditSession = function(text, mode) {
          var doc = new EditSession2(text, mode);
          doc.setUndoManager(new UndoManager2());
          return doc;
        };
        exports2.Range = Range;
        exports2.Editor = Editor;
        exports2.EditSession = EditSession2;
        exports2.UndoManager = UndoManager2;
        exports2.VirtualRenderer = Renderer;
        exports2.version = exports2.config.version;
      });
      (function() {
        ace.require(["ace/ace"], function(a3) {
          if (a3) {
            a3.config.init(true);
            a3.define = ace.define;
          }
          if (!window.ace)
            window.ace = a3;
          for (var key in a3)
            if (a3.hasOwnProperty(key))
              window.ace[key] = a3[key];
          window.ace["default"] = window.ace;
          if (typeof module == "object" && typeof exports == "object" && module) {
            module.exports = window.ace;
          }
        });
      })();
    }
  });

  // node_modules/ace-builds/src-noconflict/ext-language_tools.js
  var require_ext_language_tools = __commonJS({
    "node_modules/ace-builds/src-noconflict/ext-language_tools.js"(exports, module) {
      ace.define("ace/snippets", ["require", "exports", "module", "ace/lib/dom", "ace/lib/oop", "ace/lib/event_emitter", "ace/lib/lang", "ace/range", "ace/range_list", "ace/keyboard/hash_handler", "ace/tokenizer", "ace/clipboard", "ace/editor"], function(require3, exports2, module2) {
        "use strict";
        var dom = require3("./lib/dom");
        var oop = require3("./lib/oop");
        var EventEmitter = require3("./lib/event_emitter").EventEmitter;
        var lang = require3("./lib/lang");
        var Range = require3("./range").Range;
        var RangeList = require3("./range_list").RangeList;
        var HashHandler = require3("./keyboard/hash_handler").HashHandler;
        var Tokenizer = require3("./tokenizer").Tokenizer;
        var clipboard = require3("./clipboard");
        var VARIABLES = {
          CURRENT_WORD: function(editor) {
            return editor.session.getTextRange(editor.session.getWordRange());
          },
          SELECTION: function(editor, name2, indentation) {
            var text = editor.session.getTextRange();
            if (indentation)
              return text.replace(/\n\r?([ \t]*\S)/g, "\n" + indentation + "$1");
            return text;
          },
          CURRENT_LINE: function(editor) {
            return editor.session.getLine(editor.getCursorPosition().row);
          },
          PREV_LINE: function(editor) {
            return editor.session.getLine(editor.getCursorPosition().row - 1);
          },
          LINE_INDEX: function(editor) {
            return editor.getCursorPosition().row;
          },
          LINE_NUMBER: function(editor) {
            return editor.getCursorPosition().row + 1;
          },
          SOFT_TABS: function(editor) {
            return editor.session.getUseSoftTabs() ? "YES" : "NO";
          },
          TAB_SIZE: function(editor) {
            return editor.session.getTabSize();
          },
          CLIPBOARD: function(editor) {
            return clipboard.getText && clipboard.getText();
          },
          FILENAME: function(editor) {
            return /[^/\\]*$/.exec(this.FILEPATH(editor))[0];
          },
          FILENAME_BASE: function(editor) {
            return /[^/\\]*$/.exec(this.FILEPATH(editor))[0].replace(/\.[^.]*$/, "");
          },
          DIRECTORY: function(editor) {
            return this.FILEPATH(editor).replace(/[^/\\]*$/, "");
          },
          FILEPATH: function(editor) {
            return "/not implemented.txt";
          },
          WORKSPACE_NAME: function() {
            return "Unknown";
          },
          FULLNAME: function() {
            return "Unknown";
          },
          BLOCK_COMMENT_START: function(editor) {
            var mode = editor.session.$mode || {};
            return mode.blockComment && mode.blockComment.start || "";
          },
          BLOCK_COMMENT_END: function(editor) {
            var mode = editor.session.$mode || {};
            return mode.blockComment && mode.blockComment.end || "";
          },
          LINE_COMMENT: function(editor) {
            var mode = editor.session.$mode || {};
            return mode.lineCommentStart || "";
          },
          CURRENT_YEAR: date.bind(null, { year: "numeric" }),
          CURRENT_YEAR_SHORT: date.bind(null, { year: "2-digit" }),
          CURRENT_MONTH: date.bind(null, { month: "numeric" }),
          CURRENT_MONTH_NAME: date.bind(null, { month: "long" }),
          CURRENT_MONTH_NAME_SHORT: date.bind(null, { month: "short" }),
          CURRENT_DATE: date.bind(null, { day: "2-digit" }),
          CURRENT_DAY_NAME: date.bind(null, { weekday: "long" }),
          CURRENT_DAY_NAME_SHORT: date.bind(null, { weekday: "short" }),
          CURRENT_HOUR: date.bind(null, { hour: "2-digit", hour12: false }),
          CURRENT_MINUTE: date.bind(null, { minute: "2-digit" }),
          CURRENT_SECOND: date.bind(null, { second: "2-digit" })
        };
        VARIABLES.SELECTED_TEXT = VARIABLES.SELECTION;
        function date(dateFormat) {
          var str = new Date().toLocaleString("en-us", dateFormat);
          return str.length == 1 ? "0" + str : str;
        }
        var SnippetManager = function() {
          this.snippetMap = {};
          this.snippetNameMap = {};
        };
        (function() {
          oop.implement(this, EventEmitter);
          this.getTokenizer = function() {
            return SnippetManager.$tokenizer || this.createTokenizer();
          };
          this.createTokenizer = function() {
            function TabstopToken(str) {
              str = str.substr(1);
              if (/^\d+$/.test(str))
                return [{ tabstopId: parseInt(str, 10) }];
              return [{ text: str }];
            }
            function escape(ch) {
              return "(?:[^\\\\" + ch + "]|\\\\.)";
            }
            var formatMatcher = {
              regex: "/(" + escape("/") + "+)/",
              onMatch: function(val, state, stack) {
                var ts = stack[0];
                ts.fmtString = true;
                ts.guard = val.slice(1, -1);
                ts.flag = "";
                return "";
              },
              next: "formatString"
            };
            SnippetManager.$tokenizer = new Tokenizer({
              start: [
                { regex: /\\./, onMatch: function(val, state, stack) {
                  var ch = val[1];
                  if (ch == "}" && stack.length) {
                    val = ch;
                  } else if ("`$\\".indexOf(ch) != -1) {
                    val = ch;
                  }
                  return [val];
                } },
                { regex: /}/, onMatch: function(val, state, stack) {
                  return [stack.length ? stack.shift() : val];
                } },
                { regex: /\$(?:\d+|\w+)/, onMatch: TabstopToken },
                { regex: /\$\{[\dA-Z_a-z]+/, onMatch: function(str, state, stack) {
                  var t5 = TabstopToken(str.substr(1));
                  stack.unshift(t5[0]);
                  return t5;
                }, next: "snippetVar" },
                { regex: /\n/, token: "newline", merge: false }
              ],
              snippetVar: [
                { regex: "\\|" + escape("\\|") + "*\\|", onMatch: function(val, state, stack) {
                  var choices = val.slice(1, -1).replace(/\\[,|\\]|,/g, function(operator) {
                    return operator.length == 2 ? operator[1] : "\0";
                  }).split("\0").map(function(value) {
                    return { value };
                  });
                  stack[0].choices = choices;
                  return [choices[0]];
                }, next: "start" },
                formatMatcher,
                { regex: "([^:}\\\\]|\\\\.)*:?", token: "", next: "start" }
              ],
              formatString: [
                { regex: /:/, onMatch: function(val, state, stack) {
                  if (stack.length && stack[0].expectElse) {
                    stack[0].expectElse = false;
                    stack[0].ifEnd = { elseEnd: stack[0] };
                    return [stack[0].ifEnd];
                  }
                  return ":";
                } },
                { regex: /\\./, onMatch: function(val, state, stack) {
                  var ch = val[1];
                  if (ch == "}" && stack.length)
                    val = ch;
                  else if ("`$\\".indexOf(ch) != -1)
                    val = ch;
                  else if (ch == "n")
                    val = "\n";
                  else if (ch == "t")
                    val = "	";
                  else if ("ulULE".indexOf(ch) != -1)
                    val = { changeCase: ch, local: ch > "a" };
                  return [val];
                } },
                { regex: "/\\w*}", onMatch: function(val, state, stack) {
                  var next = stack.shift();
                  if (next)
                    next.flag = val.slice(1, -1);
                  this.next = next && next.tabstopId ? "start" : "";
                  return [next || val];
                }, next: "start" },
                { regex: /\$(?:\d+|\w+)/, onMatch: function(val, state, stack) {
                  return [{ text: val.slice(1) }];
                } },
                { regex: /\${\w+/, onMatch: function(val, state, stack) {
                  var token = { text: val.slice(2) };
                  stack.unshift(token);
                  return [token];
                }, next: "formatStringVar" },
                { regex: /\n/, token: "newline", merge: false },
                { regex: /}/, onMatch: function(val, state, stack) {
                  var next = stack.shift();
                  this.next = next && next.tabstopId ? "start" : "";
                  return [next || val];
                }, next: "start" }
              ],
              formatStringVar: [
                { regex: /:\/\w+}/, onMatch: function(val, state, stack) {
                  var ts = stack[0];
                  ts.formatFunction = val.slice(2, -1);
                  return [stack.shift()];
                }, next: "formatString" },
                formatMatcher,
                { regex: /:[\?\-+]?/, onMatch: function(val, state, stack) {
                  if (val[1] == "+")
                    stack[0].ifEnd = stack[0];
                  if (val[1] == "?")
                    stack[0].expectElse = true;
                }, next: "formatString" },
                { regex: "([^:}\\\\]|\\\\.)*:?", token: "", next: "formatString" }
              ]
            });
            return SnippetManager.$tokenizer;
          };
          this.tokenizeTmSnippet = function(str, startState) {
            return this.getTokenizer().getLineTokens(str, startState).tokens.map(function(x2) {
              return x2.value || x2;
            });
          };
          this.getVariableValue = function(editor, name2, indentation) {
            if (/^\d+$/.test(name2))
              return (this.variables.__ || {})[name2] || "";
            if (/^[A-Z]\d+$/.test(name2))
              return (this.variables[name2[0] + "__"] || {})[name2.substr(1)] || "";
            name2 = name2.replace(/^TM_/, "");
            if (!this.variables.hasOwnProperty(name2))
              return "";
            var value = this.variables[name2];
            if (typeof value == "function")
              value = this.variables[name2](editor, name2, indentation);
            return value == null ? "" : value;
          };
          this.variables = VARIABLES;
          this.tmStrFormat = function(str, ch, editor) {
            if (!ch.fmt)
              return str;
            var flag = ch.flag || "";
            var re = ch.guard;
            re = new RegExp(re, flag.replace(/[^gim]/g, ""));
            var fmtTokens = typeof ch.fmt == "string" ? this.tokenizeTmSnippet(ch.fmt, "formatString") : ch.fmt;
            var _self = this;
            var formatted = str.replace(re, function() {
              var oldArgs = _self.variables.__;
              _self.variables.__ = [].slice.call(arguments);
              var fmtParts = _self.resolveVariables(fmtTokens, editor);
              var gChangeCase = "E";
              for (var i6 = 0; i6 < fmtParts.length; i6++) {
                var ch2 = fmtParts[i6];
                if (typeof ch2 == "object") {
                  fmtParts[i6] = "";
                  if (ch2.changeCase && ch2.local) {
                    var next = fmtParts[i6 + 1];
                    if (next && typeof next == "string") {
                      if (ch2.changeCase == "u")
                        fmtParts[i6] = next[0].toUpperCase();
                      else
                        fmtParts[i6] = next[0].toLowerCase();
                      fmtParts[i6 + 1] = next.substr(1);
                    }
                  } else if (ch2.changeCase) {
                    gChangeCase = ch2.changeCase;
                  }
                } else if (gChangeCase == "U") {
                  fmtParts[i6] = ch2.toUpperCase();
                } else if (gChangeCase == "L") {
                  fmtParts[i6] = ch2.toLowerCase();
                }
              }
              _self.variables.__ = oldArgs;
              return fmtParts.join("");
            });
            return formatted;
          };
          this.tmFormatFunction = function(str, ch, editor) {
            if (ch.formatFunction == "upcase")
              return str.toUpperCase();
            if (ch.formatFunction == "downcase")
              return str.toLowerCase();
            return str;
          };
          this.resolveVariables = function(snippet, editor) {
            var result = [];
            var indentation = "";
            var afterNewLine = true;
            for (var i6 = 0; i6 < snippet.length; i6++) {
              var ch = snippet[i6];
              if (typeof ch == "string") {
                result.push(ch);
                if (ch == "\n") {
                  afterNewLine = true;
                  indentation = "";
                } else if (afterNewLine) {
                  indentation = /^\t*/.exec(ch)[0];
                  afterNewLine = /\S/.test(ch);
                }
                continue;
              }
              if (!ch)
                continue;
              afterNewLine = false;
              if (ch.fmtString) {
                var j = snippet.indexOf(ch, i6 + 1);
                if (j == -1)
                  j = snippet.length;
                ch.fmt = snippet.slice(i6 + 1, j);
                i6 = j;
              }
              if (ch.text) {
                var value = this.getVariableValue(editor, ch.text, indentation) + "";
                if (ch.fmtString)
                  value = this.tmStrFormat(value, ch, editor);
                if (ch.formatFunction)
                  value = this.tmFormatFunction(value, ch, editor);
                if (value && !ch.ifEnd) {
                  result.push(value);
                  gotoNext(ch);
                } else if (!value && ch.ifEnd) {
                  gotoNext(ch.ifEnd);
                }
              } else if (ch.elseEnd) {
                gotoNext(ch.elseEnd);
              } else if (ch.tabstopId != null) {
                result.push(ch);
              } else if (ch.changeCase != null) {
                result.push(ch);
              }
            }
            function gotoNext(ch2) {
              var i1 = snippet.indexOf(ch2, i6 + 1);
              if (i1 != -1)
                i6 = i1;
            }
            return result;
          };
          this.insertSnippetForSelection = function(editor, snippetText) {
            var cursor = editor.getCursorPosition();
            var line = editor.session.getLine(cursor.row);
            var tabString = editor.session.getTabString();
            var indentString = line.match(/^\s*/)[0];
            if (cursor.column < indentString.length)
              indentString = indentString.slice(0, cursor.column);
            snippetText = snippetText.replace(/\r/g, "");
            var tokens = this.tokenizeTmSnippet(snippetText);
            tokens = this.resolveVariables(tokens, editor);
            tokens = tokens.map(function(x2) {
              if (x2 == "\n")
                return x2 + indentString;
              if (typeof x2 == "string")
                return x2.replace(/\t/g, tabString);
              return x2;
            });
            var tabstops = [];
            tokens.forEach(function(p3, i7) {
              if (typeof p3 != "object")
                return;
              var id2 = p3.tabstopId;
              var ts2 = tabstops[id2];
              if (!ts2) {
                ts2 = tabstops[id2] = [];
                ts2.index = id2;
                ts2.value = "";
                ts2.parents = {};
              }
              if (ts2.indexOf(p3) !== -1)
                return;
              if (p3.choices && !ts2.choices)
                ts2.choices = p3.choices;
              ts2.push(p3);
              var i12 = tokens.indexOf(p3, i7 + 1);
              if (i12 === -1)
                return;
              var value2 = tokens.slice(i7 + 1, i12);
              var isNested = value2.some(function(t5) {
                return typeof t5 === "object";
              });
              if (isNested && !ts2.value) {
                ts2.value = value2;
              } else if (value2.length && (!ts2.value || typeof ts2.value !== "string")) {
                ts2.value = value2.join("");
              }
            });
            tabstops.forEach(function(ts2) {
              ts2.length = 0;
            });
            var expanding = {};
            function copyValue(val) {
              var copy = [];
              for (var i7 = 0; i7 < val.length; i7++) {
                var p3 = val[i7];
                if (typeof p3 == "object") {
                  if (expanding[p3.tabstopId])
                    continue;
                  var j = val.lastIndexOf(p3, i7 - 1);
                  p3 = copy[j] || { tabstopId: p3.tabstopId };
                }
                copy[i7] = p3;
              }
              return copy;
            }
            for (var i6 = 0; i6 < tokens.length; i6++) {
              var p2 = tokens[i6];
              if (typeof p2 != "object")
                continue;
              var id = p2.tabstopId;
              var ts = tabstops[id];
              var i1 = tokens.indexOf(p2, i6 + 1);
              if (expanding[id]) {
                if (expanding[id] === p2) {
                  delete expanding[id];
                  Object.keys(expanding).forEach(function(parentId) {
                    ts.parents[parentId] = true;
                  });
                }
                continue;
              }
              expanding[id] = p2;
              var value = ts.value;
              if (typeof value !== "string")
                value = copyValue(value);
              else if (p2.fmt)
                value = this.tmStrFormat(value, p2, editor);
              tokens.splice.apply(tokens, [i6 + 1, Math.max(0, i1 - i6)].concat(value, p2));
              if (ts.indexOf(p2) === -1)
                ts.push(p2);
            }
            var row = 0, column = 0;
            var text = "";
            tokens.forEach(function(t5) {
              if (typeof t5 === "string") {
                var lines = t5.split("\n");
                if (lines.length > 1) {
                  column = lines[lines.length - 1].length;
                  row += lines.length - 1;
                } else
                  column += t5.length;
                text += t5;
              } else if (t5) {
                if (!t5.start)
                  t5.start = { row, column };
                else
                  t5.end = { row, column };
              }
            });
            var range = editor.getSelectionRange();
            var end = editor.session.replace(range, text);
            var tabstopManager = new TabstopManager(editor);
            var selectionId = editor.inVirtualSelectionMode && editor.selection.index;
            tabstopManager.addTabstops(tabstops, range.start, end, selectionId);
          };
          this.insertSnippet = function(editor, snippetText) {
            var self = this;
            if (editor.inVirtualSelectionMode)
              return self.insertSnippetForSelection(editor, snippetText);
            editor.forEachSelection(function() {
              self.insertSnippetForSelection(editor, snippetText);
            }, null, { keepOrder: true });
            if (editor.tabstopManager)
              editor.tabstopManager.tabNext();
          };
          this.$getScope = function(editor) {
            var scope = editor.session.$mode.$id || "";
            scope = scope.split("/").pop();
            if (scope === "html" || scope === "php") {
              if (scope === "php" && !editor.session.$mode.inlinePhp)
                scope = "html";
              var c2 = editor.getCursorPosition();
              var state = editor.session.getState(c2.row);
              if (typeof state === "object") {
                state = state[0];
              }
              if (state.substring) {
                if (state.substring(0, 3) == "js-")
                  scope = "javascript";
                else if (state.substring(0, 4) == "css-")
                  scope = "css";
                else if (state.substring(0, 4) == "php-")
                  scope = "php";
              }
            }
            return scope;
          };
          this.getActiveScopes = function(editor) {
            var scope = this.$getScope(editor);
            var scopes = [scope];
            var snippetMap = this.snippetMap;
            if (snippetMap[scope] && snippetMap[scope].includeScopes) {
              scopes.push.apply(scopes, snippetMap[scope].includeScopes);
            }
            scopes.push("_");
            return scopes;
          };
          this.expandWithTab = function(editor, options) {
            var self = this;
            var result = editor.forEachSelection(function() {
              return self.expandSnippetForSelection(editor, options);
            }, null, { keepOrder: true });
            if (result && editor.tabstopManager)
              editor.tabstopManager.tabNext();
            return result;
          };
          this.expandSnippetForSelection = function(editor, options) {
            var cursor = editor.getCursorPosition();
            var line = editor.session.getLine(cursor.row);
            var before = line.substring(0, cursor.column);
            var after = line.substr(cursor.column);
            var snippetMap = this.snippetMap;
            var snippet;
            this.getActiveScopes(editor).some(function(scope) {
              var snippets = snippetMap[scope];
              if (snippets)
                snippet = this.findMatchingSnippet(snippets, before, after);
              return !!snippet;
            }, this);
            if (!snippet)
              return false;
            if (options && options.dryRun)
              return true;
            editor.session.doc.removeInLine(
              cursor.row,
              cursor.column - snippet.replaceBefore.length,
              cursor.column + snippet.replaceAfter.length
            );
            this.variables.M__ = snippet.matchBefore;
            this.variables.T__ = snippet.matchAfter;
            this.insertSnippetForSelection(editor, snippet.content);
            this.variables.M__ = this.variables.T__ = null;
            return true;
          };
          this.findMatchingSnippet = function(snippetList, before, after) {
            for (var i6 = snippetList.length; i6--; ) {
              var s5 = snippetList[i6];
              if (s5.startRe && !s5.startRe.test(before))
                continue;
              if (s5.endRe && !s5.endRe.test(after))
                continue;
              if (!s5.startRe && !s5.endRe)
                continue;
              s5.matchBefore = s5.startRe ? s5.startRe.exec(before) : [""];
              s5.matchAfter = s5.endRe ? s5.endRe.exec(after) : [""];
              s5.replaceBefore = s5.triggerRe ? s5.triggerRe.exec(before)[0] : "";
              s5.replaceAfter = s5.endTriggerRe ? s5.endTriggerRe.exec(after)[0] : "";
              return s5;
            }
          };
          this.snippetMap = {};
          this.snippetNameMap = {};
          this.register = function(snippets, scope) {
            var snippetMap = this.snippetMap;
            var snippetNameMap = this.snippetNameMap;
            var self = this;
            if (!snippets)
              snippets = [];
            function wrapRegexp(src) {
              if (src && !/^\^?\(.*\)\$?$|^\\b$/.test(src))
                src = "(?:" + src + ")";
              return src || "";
            }
            function guardedRegexp(re, guard, opening) {
              re = wrapRegexp(re);
              guard = wrapRegexp(guard);
              if (opening) {
                re = guard + re;
                if (re && re[re.length - 1] != "$")
                  re = re + "$";
              } else {
                re = re + guard;
                if (re && re[0] != "^")
                  re = "^" + re;
              }
              return new RegExp(re);
            }
            function addSnippet(s5) {
              if (!s5.scope)
                s5.scope = scope || "_";
              scope = s5.scope;
              if (!snippetMap[scope]) {
                snippetMap[scope] = [];
                snippetNameMap[scope] = {};
              }
              var map = snippetNameMap[scope];
              if (s5.name) {
                var old = map[s5.name];
                if (old)
                  self.unregister(old);
                map[s5.name] = s5;
              }
              snippetMap[scope].push(s5);
              if (s5.prefix)
                s5.tabTrigger = s5.prefix;
              if (!s5.content && s5.body)
                s5.content = Array.isArray(s5.body) ? s5.body.join("\n") : s5.body;
              if (s5.tabTrigger && !s5.trigger) {
                if (!s5.guard && /^\w/.test(s5.tabTrigger))
                  s5.guard = "\\b";
                s5.trigger = lang.escapeRegExp(s5.tabTrigger);
              }
              if (!s5.trigger && !s5.guard && !s5.endTrigger && !s5.endGuard)
                return;
              s5.startRe = guardedRegexp(s5.trigger, s5.guard, true);
              s5.triggerRe = new RegExp(s5.trigger);
              s5.endRe = guardedRegexp(s5.endTrigger, s5.endGuard, true);
              s5.endTriggerRe = new RegExp(s5.endTrigger);
            }
            if (Array.isArray(snippets)) {
              snippets.forEach(addSnippet);
            } else {
              Object.keys(snippets).forEach(function(key) {
                addSnippet(snippets[key]);
              });
            }
            this._signal("registerSnippets", { scope });
          };
          this.unregister = function(snippets, scope) {
            var snippetMap = this.snippetMap;
            var snippetNameMap = this.snippetNameMap;
            function removeSnippet(s5) {
              var nameMap = snippetNameMap[s5.scope || scope];
              if (nameMap && nameMap[s5.name]) {
                delete nameMap[s5.name];
                var map = snippetMap[s5.scope || scope];
                var i6 = map && map.indexOf(s5);
                if (i6 >= 0)
                  map.splice(i6, 1);
              }
            }
            if (snippets.content)
              removeSnippet(snippets);
            else if (Array.isArray(snippets))
              snippets.forEach(removeSnippet);
          };
          this.parseSnippetFile = function(str) {
            str = str.replace(/\r/g, "");
            var list = [], snippet = {};
            var re = /^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm;
            var m2;
            while (m2 = re.exec(str)) {
              if (m2[1]) {
                try {
                  snippet = JSON.parse(m2[1]);
                  list.push(snippet);
                } catch (e10) {
                }
              }
              if (m2[4]) {
                snippet.content = m2[4].replace(/^\t/gm, "");
                list.push(snippet);
                snippet = {};
              } else {
                var key = m2[2], val = m2[3];
                if (key == "regex") {
                  var guardRe = /\/((?:[^\/\\]|\\.)*)|$/g;
                  snippet.guard = guardRe.exec(val)[1];
                  snippet.trigger = guardRe.exec(val)[1];
                  snippet.endTrigger = guardRe.exec(val)[1];
                  snippet.endGuard = guardRe.exec(val)[1];
                } else if (key == "snippet") {
                  snippet.tabTrigger = val.match(/^\S*/)[0];
                  if (!snippet.name)
                    snippet.name = val;
                } else if (key) {
                  snippet[key] = val;
                }
              }
            }
            return list;
          };
          this.getSnippetByName = function(name2, editor) {
            var snippetMap = this.snippetNameMap;
            var snippet;
            this.getActiveScopes(editor).some(function(scope) {
              var snippets = snippetMap[scope];
              if (snippets)
                snippet = snippets[name2];
              return !!snippet;
            }, this);
            return snippet;
          };
        }).call(SnippetManager.prototype);
        var TabstopManager = function(editor) {
          if (editor.tabstopManager)
            return editor.tabstopManager;
          editor.tabstopManager = this;
          this.$onChange = this.onChange.bind(this);
          this.$onChangeSelection = lang.delayedCall(this.onChangeSelection.bind(this)).schedule;
          this.$onChangeSession = this.onChangeSession.bind(this);
          this.$onAfterExec = this.onAfterExec.bind(this);
          this.attach(editor);
        };
        (function() {
          this.attach = function(editor) {
            this.index = 0;
            this.ranges = [];
            this.tabstops = [];
            this.$openTabstops = null;
            this.selectedTabstop = null;
            this.editor = editor;
            this.editor.on("change", this.$onChange);
            this.editor.on("changeSelection", this.$onChangeSelection);
            this.editor.on("changeSession", this.$onChangeSession);
            this.editor.commands.on("afterExec", this.$onAfterExec);
            this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);
          };
          this.detach = function() {
            this.tabstops.forEach(this.removeTabstopMarkers, this);
            this.ranges = null;
            this.tabstops = null;
            this.selectedTabstop = null;
            this.editor.removeListener("change", this.$onChange);
            this.editor.removeListener("changeSelection", this.$onChangeSelection);
            this.editor.removeListener("changeSession", this.$onChangeSession);
            this.editor.commands.removeListener("afterExec", this.$onAfterExec);
            this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);
            this.editor.tabstopManager = null;
            this.editor = null;
          };
          this.onChange = function(delta) {
            var isRemove = delta.action[0] == "r";
            var selectedTabstop = this.selectedTabstop || {};
            var parents = selectedTabstop.parents || {};
            var tabstops = (this.tabstops || []).slice();
            for (var i6 = 0; i6 < tabstops.length; i6++) {
              var ts = tabstops[i6];
              var active = ts == selectedTabstop || parents[ts.index];
              ts.rangeList.$bias = active ? 0 : 1;
              if (delta.action == "remove" && ts !== selectedTabstop) {
                var parentActive = ts.parents && ts.parents[selectedTabstop.index];
                var startIndex = ts.rangeList.pointIndex(delta.start, parentActive);
                startIndex = startIndex < 0 ? -startIndex - 1 : startIndex + 1;
                var endIndex = ts.rangeList.pointIndex(delta.end, parentActive);
                endIndex = endIndex < 0 ? -endIndex - 1 : endIndex - 1;
                var toRemove = ts.rangeList.ranges.slice(startIndex, endIndex);
                for (var j = 0; j < toRemove.length; j++)
                  this.removeRange(toRemove[j]);
              }
              ts.rangeList.$onChange(delta);
            }
            var session = this.editor.session;
            if (!this.$inChange && isRemove && session.getLength() == 1 && !session.getValue())
              this.detach();
          };
          this.updateLinkedFields = function() {
            var ts = this.selectedTabstop;
            if (!ts || !ts.hasLinkedRanges || !ts.firstNonLinked)
              return;
            this.$inChange = true;
            var session = this.editor.session;
            var text = session.getTextRange(ts.firstNonLinked);
            for (var i6 = 0; i6 < ts.length; i6++) {
              var range = ts[i6];
              if (!range.linked)
                continue;
              var original = range.original;
              var fmt = exports2.snippetManager.tmStrFormat(text, original, this.editor);
              session.replace(range, fmt);
            }
            this.$inChange = false;
          };
          this.onAfterExec = function(e10) {
            if (e10.command && !e10.command.readOnly)
              this.updateLinkedFields();
          };
          this.onChangeSelection = function() {
            if (!this.editor)
              return;
            var lead = this.editor.selection.lead;
            var anchor = this.editor.selection.anchor;
            var isEmpty = this.editor.selection.isEmpty();
            for (var i6 = 0; i6 < this.ranges.length; i6++) {
              if (this.ranges[i6].linked)
                continue;
              var containsLead = this.ranges[i6].contains(lead.row, lead.column);
              var containsAnchor = isEmpty || this.ranges[i6].contains(anchor.row, anchor.column);
              if (containsLead && containsAnchor)
                return;
            }
            this.detach();
          };
          this.onChangeSession = function() {
            this.detach();
          };
          this.tabNext = function(dir) {
            var max = this.tabstops.length;
            var index = this.index + (dir || 1);
            index = Math.min(Math.max(index, 1), max);
            if (index == max)
              index = 0;
            this.selectTabstop(index);
            if (index === 0)
              this.detach();
          };
          this.selectTabstop = function(index) {
            this.$openTabstops = null;
            var ts = this.tabstops[this.index];
            if (ts)
              this.addTabstopMarkers(ts);
            this.index = index;
            ts = this.tabstops[this.index];
            if (!ts || !ts.length)
              return;
            this.selectedTabstop = ts;
            var range = ts.firstNonLinked || ts;
            if (ts.choices)
              range.cursor = range.start;
            if (!this.editor.inVirtualSelectionMode) {
              var sel = this.editor.multiSelect;
              sel.toSingleRange(range);
              for (var i6 = 0; i6 < ts.length; i6++) {
                if (ts.hasLinkedRanges && ts[i6].linked)
                  continue;
                sel.addRange(ts[i6].clone(), true);
              }
            } else {
              this.editor.selection.fromOrientedRange(range);
            }
            this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);
            if (this.selectedTabstop && this.selectedTabstop.choices)
              this.editor.execCommand("startAutocomplete", { matches: this.selectedTabstop.choices });
          };
          this.addTabstops = function(tabstops, start, end) {
            var useLink = this.useLink || !this.editor.getOption("enableMultiselect");
            if (!this.$openTabstops)
              this.$openTabstops = [];
            if (!tabstops[0]) {
              var p2 = Range.fromPoints(end, end);
              moveRelative(p2.start, start);
              moveRelative(p2.end, start);
              tabstops[0] = [p2];
              tabstops[0].index = 0;
            }
            var i6 = this.index;
            var arg = [i6 + 1, 0];
            var ranges = this.ranges;
            tabstops.forEach(function(ts, index) {
              var dest = this.$openTabstops[index] || ts;
              for (var i7 = 0; i7 < ts.length; i7++) {
                var p3 = ts[i7];
                var range = Range.fromPoints(p3.start, p3.end || p3.start);
                movePoint(range.start, start);
                movePoint(range.end, start);
                range.original = p3;
                range.tabstop = dest;
                ranges.push(range);
                if (dest != ts)
                  dest.unshift(range);
                else
                  dest[i7] = range;
                if (p3.fmtString || dest.firstNonLinked && useLink) {
                  range.linked = true;
                  dest.hasLinkedRanges = true;
                } else if (!dest.firstNonLinked)
                  dest.firstNonLinked = range;
              }
              if (!dest.firstNonLinked)
                dest.hasLinkedRanges = false;
              if (dest === ts) {
                arg.push(dest);
                this.$openTabstops[index] = dest;
              }
              this.addTabstopMarkers(dest);
              dest.rangeList = dest.rangeList || new RangeList();
              dest.rangeList.$bias = 0;
              dest.rangeList.addList(dest);
            }, this);
            if (arg.length > 2) {
              if (this.tabstops.length)
                arg.push(arg.splice(2, 1)[0]);
              this.tabstops.splice.apply(this.tabstops, arg);
            }
          };
          this.addTabstopMarkers = function(ts) {
            var session = this.editor.session;
            ts.forEach(function(range) {
              if (!range.markerId)
                range.markerId = session.addMarker(range, "ace_snippet-marker", "text");
            });
          };
          this.removeTabstopMarkers = function(ts) {
            var session = this.editor.session;
            ts.forEach(function(range) {
              session.removeMarker(range.markerId);
              range.markerId = null;
            });
          };
          this.removeRange = function(range) {
            var i6 = range.tabstop.indexOf(range);
            if (i6 != -1)
              range.tabstop.splice(i6, 1);
            i6 = this.ranges.indexOf(range);
            if (i6 != -1)
              this.ranges.splice(i6, 1);
            i6 = range.tabstop.rangeList.ranges.indexOf(range);
            if (i6 != -1)
              range.tabstop.splice(i6, 1);
            this.editor.session.removeMarker(range.markerId);
            if (!range.tabstop.length) {
              i6 = this.tabstops.indexOf(range.tabstop);
              if (i6 != -1)
                this.tabstops.splice(i6, 1);
              if (!this.tabstops.length)
                this.detach();
            }
          };
          this.keyboardHandler = new HashHandler();
          this.keyboardHandler.bindKeys({
            "Tab": function(editor) {
              if (exports2.snippetManager && exports2.snippetManager.expandWithTab(editor))
                return;
              editor.tabstopManager.tabNext(1);
              editor.renderer.scrollCursorIntoView();
            },
            "Shift-Tab": function(editor) {
              editor.tabstopManager.tabNext(-1);
              editor.renderer.scrollCursorIntoView();
            },
            "Esc": function(editor) {
              editor.tabstopManager.detach();
            }
          });
        }).call(TabstopManager.prototype);
        var movePoint = function(point, diff) {
          if (point.row == 0)
            point.column += diff.column;
          point.row += diff.row;
        };
        var moveRelative = function(point, start) {
          if (point.row == start.row)
            point.column -= start.column;
          point.row -= start.row;
        };
        dom.importCssString(".ace_snippet-marker {    -moz-box-sizing: border-box;    box-sizing: border-box;    background: rgba(194, 193, 208, 0.09);    border: 1px dotted rgba(211, 208, 235, 0.62);    position: absolute;}", "snippets.css", false);
        exports2.snippetManager = new SnippetManager();
        var Editor = require3("./editor").Editor;
        (function() {
          this.insertSnippet = function(content, options) {
            return exports2.snippetManager.insertSnippet(this, content, options);
          };
          this.expandSnippet = function(options) {
            return exports2.snippetManager.expandWithTab(this, options);
          };
        }).call(Editor.prototype);
      });
      ace.define("ace/autocomplete/popup", ["require", "exports", "module", "ace/virtual_renderer", "ace/editor", "ace/range", "ace/lib/event", "ace/lib/lang", "ace/lib/dom"], function(require3, exports2, module2) {
        "use strict";
        var Renderer = require3("../virtual_renderer").VirtualRenderer;
        var Editor = require3("../editor").Editor;
        var Range = require3("../range").Range;
        var event = require3("../lib/event");
        var lang = require3("../lib/lang");
        var dom = require3("../lib/dom");
        var $singleLineEditor = function(el) {
          var renderer = new Renderer(el);
          renderer.$maxLines = 4;
          var editor = new Editor(renderer);
          editor.setHighlightActiveLine(false);
          editor.setShowPrintMargin(false);
          editor.renderer.setShowGutter(false);
          editor.renderer.setHighlightGutterLine(false);
          editor.$mouseHandler.$focusTimeout = 0;
          editor.$highlightTagPending = true;
          return editor;
        };
        var AcePopup = function(parentNode) {
          var el = dom.createElement("div");
          var popup = new $singleLineEditor(el);
          if (parentNode)
            parentNode.appendChild(el);
          el.style.display = "none";
          popup.renderer.content.style.cursor = "default";
          popup.renderer.setStyle("ace_autocomplete");
          popup.setOption("displayIndentGuides", false);
          popup.setOption("dragDelay", 150);
          var noop = function() {
          };
          popup.focus = noop;
          popup.$isFocused = true;
          popup.renderer.$cursorLayer.restartTimer = noop;
          popup.renderer.$cursorLayer.element.style.opacity = 0;
          popup.renderer.$maxLines = 8;
          popup.renderer.$keepTextAreaAtCursor = false;
          popup.setHighlightActiveLine(false);
          popup.session.highlight("");
          popup.session.$searchHighlight.clazz = "ace_highlight-marker";
          popup.on("mousedown", function(e10) {
            var pos = e10.getDocumentPosition();
            popup.selection.moveToPosition(pos);
            selectionMarker.start.row = selectionMarker.end.row = pos.row;
            e10.stop();
          });
          var lastMouseEvent;
          var hoverMarker = new Range(-1, 0, -1, Infinity);
          var selectionMarker = new Range(-1, 0, -1, Infinity);
          selectionMarker.id = popup.session.addMarker(selectionMarker, "ace_active-line", "fullLine");
          popup.setSelectOnHover = function(val) {
            if (!val) {
              hoverMarker.id = popup.session.addMarker(hoverMarker, "ace_line-hover", "fullLine");
            } else if (hoverMarker.id) {
              popup.session.removeMarker(hoverMarker.id);
              hoverMarker.id = null;
            }
          };
          popup.setSelectOnHover(false);
          popup.on("mousemove", function(e10) {
            if (!lastMouseEvent) {
              lastMouseEvent = e10;
              return;
            }
            if (lastMouseEvent.x == e10.x && lastMouseEvent.y == e10.y) {
              return;
            }
            lastMouseEvent = e10;
            lastMouseEvent.scrollTop = popup.renderer.scrollTop;
            var row = lastMouseEvent.getDocumentPosition().row;
            if (hoverMarker.start.row != row) {
              if (!hoverMarker.id)
                popup.setRow(row);
              setHoverMarker(row);
            }
          });
          popup.renderer.on("beforeRender", function() {
            if (lastMouseEvent && hoverMarker.start.row != -1) {
              lastMouseEvent.$pos = null;
              var row = lastMouseEvent.getDocumentPosition().row;
              if (!hoverMarker.id)
                popup.setRow(row);
              setHoverMarker(row, true);
            }
          });
          popup.renderer.on("afterRender", function() {
            var row = popup.getRow();
            var t5 = popup.renderer.$textLayer;
            var selected = t5.element.childNodes[row - t5.config.firstRow];
            if (selected !== t5.selectedNode && t5.selectedNode)
              dom.removeCssClass(t5.selectedNode, "ace_selected");
            t5.selectedNode = selected;
            if (selected)
              dom.addCssClass(selected, "ace_selected");
          });
          var hideHoverMarker = function() {
            setHoverMarker(-1);
          };
          var setHoverMarker = function(row, suppressRedraw) {
            if (row !== hoverMarker.start.row) {
              hoverMarker.start.row = hoverMarker.end.row = row;
              if (!suppressRedraw)
                popup.session._emit("changeBackMarker");
              popup._emit("changeHoverMarker");
            }
          };
          popup.getHoveredRow = function() {
            return hoverMarker.start.row;
          };
          event.addListener(popup.container, "mouseout", hideHoverMarker);
          popup.on("hide", hideHoverMarker);
          popup.on("changeSelection", hideHoverMarker);
          popup.session.doc.getLength = function() {
            return popup.data.length;
          };
          popup.session.doc.getLine = function(i6) {
            var data = popup.data[i6];
            if (typeof data == "string")
              return data;
            return data && data.value || "";
          };
          var bgTokenizer = popup.session.bgTokenizer;
          bgTokenizer.$tokenizeRow = function(row) {
            var data = popup.data[row];
            var tokens = [];
            if (!data)
              return tokens;
            if (typeof data == "string")
              data = { value: data };
            var caption = data.caption || data.value || data.name;
            function addToken(value, className) {
              value && tokens.push({
                type: (data.className || "") + (className || ""),
                value
              });
            }
            var lower = caption.toLowerCase();
            var filterText = (popup.filterText || "").toLowerCase();
            var lastIndex = 0;
            var lastI = 0;
            for (var i6 = 0; i6 <= filterText.length; i6++) {
              if (i6 != lastI && (data.matchMask & 1 << i6 || i6 == filterText.length)) {
                var sub = filterText.slice(lastI, i6);
                lastI = i6;
                var index = lower.indexOf(sub, lastIndex);
                if (index == -1)
                  continue;
                addToken(caption.slice(lastIndex, index), "");
                lastIndex = index + sub.length;
                addToken(caption.slice(index, lastIndex), "completion-highlight");
              }
            }
            addToken(caption.slice(lastIndex, caption.length), "");
            if (data.meta)
              tokens.push({ type: "completion-meta", value: data.meta });
            if (data.message)
              tokens.push({ type: "completion-message", value: data.message });
            return tokens;
          };
          bgTokenizer.$updateOnChange = noop;
          bgTokenizer.start = noop;
          popup.session.$computeWidth = function() {
            return this.screenWidth = 0;
          };
          popup.isOpen = false;
          popup.isTopdown = false;
          popup.autoSelect = true;
          popup.filterText = "";
          popup.data = [];
          popup.setData = function(list, filterText) {
            popup.filterText = filterText || "";
            popup.setValue(lang.stringRepeat("\n", list.length), -1);
            popup.data = list || [];
            popup.setRow(0);
          };
          popup.getData = function(row) {
            return popup.data[row];
          };
          popup.getRow = function() {
            return selectionMarker.start.row;
          };
          popup.setRow = function(line) {
            line = Math.max(this.autoSelect ? 0 : -1, Math.min(this.data.length, line));
            if (selectionMarker.start.row != line) {
              popup.selection.clearSelection();
              selectionMarker.start.row = selectionMarker.end.row = line || 0;
              popup.session._emit("changeBackMarker");
              popup.moveCursorTo(line || 0, 0);
              if (popup.isOpen)
                popup._signal("select");
            }
          };
          popup.on("changeSelection", function() {
            if (popup.isOpen)
              popup.setRow(popup.selection.lead.row);
            popup.renderer.scrollCursorIntoView();
          });
          popup.hide = function() {
            this.container.style.display = "none";
            this._signal("hide");
            popup.isOpen = false;
          };
          popup.show = function(pos, lineHeight, topdownOnly) {
            var el2 = this.container;
            var screenHeight = window.innerHeight;
            var screenWidth = window.innerWidth;
            var renderer = this.renderer;
            var maxH = renderer.$maxLines * lineHeight * 1.4;
            var top = pos.top + this.$borderSize;
            var allowTopdown = top > screenHeight / 2 && !topdownOnly;
            if (allowTopdown && top + lineHeight + maxH > screenHeight) {
              renderer.$maxPixelHeight = top - 2 * this.$borderSize;
              el2.style.top = "";
              el2.style.bottom = screenHeight - top + "px";
              popup.isTopdown = false;
            } else {
              top += lineHeight;
              renderer.$maxPixelHeight = screenHeight - top - 0.2 * lineHeight;
              el2.style.top = top + "px";
              el2.style.bottom = "";
              popup.isTopdown = true;
            }
            el2.style.display = "";
            var left = pos.left;
            if (left + el2.offsetWidth > screenWidth)
              left = screenWidth - el2.offsetWidth;
            el2.style.left = left + "px";
            this._signal("show");
            lastMouseEvent = null;
            popup.isOpen = true;
          };
          popup.goTo = function(where) {
            var row = this.getRow();
            var max = this.session.getLength() - 1;
            switch (where) {
              case "up":
                row = row <= 0 ? max : row - 1;
                break;
              case "down":
                row = row >= max ? -1 : row + 1;
                break;
              case "start":
                row = 0;
                break;
              case "end":
                row = max;
                break;
            }
            this.setRow(row);
          };
          popup.getTextLeftOffset = function() {
            return this.$borderSize + this.renderer.$padding + this.$imageSize;
          };
          popup.$imageSize = 0;
          popup.$borderSize = 1;
          return popup;
        };
        dom.importCssString(".ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #CAD6FA;    z-index: 1;}.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #3a674e;}.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid #abbffe;    margin-top: -1px;    background: rgba(233,233,253,0.4);    position: absolute;    z-index: 2;}.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid rgba(109, 150, 13, 0.8);    background: rgba(58, 103, 78, 0.62);}.ace_completion-meta {    opacity: 0.5;    margin: 0.9em;}.ace_completion-message {    color: blue;}.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #2d69c7;}.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #93ca12;}.ace_editor.ace_autocomplete {    width: 300px;    z-index: 200000;    border: 1px lightgray solid;    position: fixed;    box-shadow: 2px 3px 5px rgba(0,0,0,.2);    line-height: 1.4;    background: #fefefe;    color: #111;}.ace_dark.ace_editor.ace_autocomplete {    border: 1px #484747 solid;    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);    line-height: 1.4;    background: #25282c;    color: #c1c1c1;}", "autocompletion.css", false);
        exports2.AcePopup = AcePopup;
        exports2.$singleLineEditor = $singleLineEditor;
      });
      ace.define("ace/autocomplete/util", ["require", "exports", "module"], function(require3, exports2, module2) {
        "use strict";
        exports2.parForEach = function(array, fn, callback) {
          var completed = 0;
          var arLength = array.length;
          if (arLength === 0)
            callback();
          for (var i6 = 0; i6 < arLength; i6++) {
            fn(array[i6], function(result, err) {
              completed++;
              if (completed === arLength)
                callback(result, err);
            });
          }
        };
        var ID_REGEX = /[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;
        exports2.retrievePrecedingIdentifier = function(text, pos, regex) {
          regex = regex || ID_REGEX;
          var buf = [];
          for (var i6 = pos - 1; i6 >= 0; i6--) {
            if (regex.test(text[i6]))
              buf.push(text[i6]);
            else
              break;
          }
          return buf.reverse().join("");
        };
        exports2.retrieveFollowingIdentifier = function(text, pos, regex) {
          regex = regex || ID_REGEX;
          var buf = [];
          for (var i6 = pos; i6 < text.length; i6++) {
            if (regex.test(text[i6]))
              buf.push(text[i6]);
            else
              break;
          }
          return buf;
        };
        exports2.getCompletionPrefix = function(editor) {
          var pos = editor.getCursorPosition();
          var line = editor.session.getLine(pos.row);
          var prefix;
          editor.completers.forEach(function(completer) {
            if (completer.identifierRegexps) {
              completer.identifierRegexps.forEach(function(identifierRegex) {
                if (!prefix && identifierRegex)
                  prefix = this.retrievePrecedingIdentifier(line, pos.column, identifierRegex);
              }.bind(this));
            }
          }.bind(this));
          return prefix || this.retrievePrecedingIdentifier(line, pos.column);
        };
      });
      ace.define("ace/autocomplete", ["require", "exports", "module", "ace/keyboard/hash_handler", "ace/autocomplete/popup", "ace/autocomplete/util", "ace/lib/lang", "ace/lib/dom", "ace/snippets", "ace/config"], function(require3, exports2, module2) {
        "use strict";
        var HashHandler = require3("./keyboard/hash_handler").HashHandler;
        var AcePopup = require3("./autocomplete/popup").AcePopup;
        var util = require3("./autocomplete/util");
        var lang = require3("./lib/lang");
        var dom = require3("./lib/dom");
        var snippetManager = require3("./snippets").snippetManager;
        var config2 = require3("./config");
        var Autocomplete = function() {
          this.autoInsert = false;
          this.autoSelect = true;
          this.exactMatch = false;
          this.gatherCompletionsId = 0;
          this.keyboardHandler = new HashHandler();
          this.keyboardHandler.bindKeys(this.commands);
          this.blurListener = this.blurListener.bind(this);
          this.changeListener = this.changeListener.bind(this);
          this.mousedownListener = this.mousedownListener.bind(this);
          this.mousewheelListener = this.mousewheelListener.bind(this);
          this.changeTimer = lang.delayedCall(function() {
            this.updateCompletions(true);
          }.bind(this));
          this.tooltipTimer = lang.delayedCall(this.updateDocTooltip.bind(this), 50);
        };
        (function() {
          this.$init = function() {
            this.popup = new AcePopup(document.body || document.documentElement);
            this.popup.on("click", function(e10) {
              this.insertMatch();
              e10.stop();
            }.bind(this));
            this.popup.focus = this.editor.focus.bind(this.editor);
            this.popup.on("show", this.tooltipTimer.bind(null, null));
            this.popup.on("select", this.tooltipTimer.bind(null, null));
            this.popup.on("changeHoverMarker", this.tooltipTimer.bind(null, null));
            return this.popup;
          };
          this.getPopup = function() {
            return this.popup || this.$init();
          };
          this.openPopup = function(editor, prefix, keepPopupPosition) {
            if (!this.popup)
              this.$init();
            this.popup.autoSelect = this.autoSelect;
            this.popup.setData(this.completions.filtered, this.completions.filterText);
            editor.keyBinding.addKeyboardHandler(this.keyboardHandler);
            var renderer = editor.renderer;
            this.popup.setRow(this.autoSelect ? 0 : -1);
            if (!keepPopupPosition) {
              this.popup.setTheme(editor.getTheme());
              this.popup.setFontSize(editor.getFontSize());
              var lineHeight = renderer.layerConfig.lineHeight;
              var pos = renderer.$cursorLayer.getPixelPosition(this.base, true);
              pos.left -= this.popup.getTextLeftOffset();
              var rect = editor.container.getBoundingClientRect();
              pos.top += rect.top - renderer.layerConfig.offset;
              pos.left += rect.left - editor.renderer.scrollLeft;
              pos.left += renderer.gutterWidth;
              this.popup.show(pos, lineHeight);
            } else if (keepPopupPosition && !prefix) {
              this.detach();
            }
            this.changeTimer.cancel();
          };
          this.detach = function() {
            this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);
            this.editor.off("changeSelection", this.changeListener);
            this.editor.off("blur", this.blurListener);
            this.editor.off("mousedown", this.mousedownListener);
            this.editor.off("mousewheel", this.mousewheelListener);
            this.changeTimer.cancel();
            this.hideDocTooltip();
            this.gatherCompletionsId += 1;
            if (this.popup && this.popup.isOpen)
              this.popup.hide();
            if (this.base)
              this.base.detach();
            this.activated = false;
            this.completions = this.base = null;
          };
          this.changeListener = function(e10) {
            var cursor = this.editor.selection.lead;
            if (cursor.row != this.base.row || cursor.column < this.base.column) {
              this.detach();
            }
            if (this.activated)
              this.changeTimer.schedule();
            else
              this.detach();
          };
          this.blurListener = function(e10) {
            var el = document.activeElement;
            var text = this.editor.textInput.getElement();
            var fromTooltip = e10.relatedTarget && this.tooltipNode && this.tooltipNode.contains(e10.relatedTarget);
            var container = this.popup && this.popup.container;
            if (el != text && el.parentNode != container && !fromTooltip && el != this.tooltipNode && e10.relatedTarget != text) {
              this.detach();
            }
          };
          this.mousedownListener = function(e10) {
            this.detach();
          };
          this.mousewheelListener = function(e10) {
            this.detach();
          };
          this.goTo = function(where) {
            this.popup.goTo(where);
          };
          this.insertMatch = function(data, options) {
            if (!data)
              data = this.popup.getData(this.popup.getRow());
            if (!data)
              return false;
            var completions = this.completions;
            this.editor.startOperation({ command: { name: "insertMatch" } });
            if (data.completer && data.completer.insertMatch) {
              data.completer.insertMatch(this.editor, data);
            } else {
              if (!completions)
                return false;
              if (completions.filterText) {
                var ranges = this.editor.selection.getAllRanges();
                for (var i6 = 0, range; range = ranges[i6]; i6++) {
                  range.start.column -= completions.filterText.length;
                  this.editor.session.remove(range);
                }
              }
              if (data.snippet)
                snippetManager.insertSnippet(this.editor, data.snippet);
              else
                this.editor.execCommand("insertstring", data.value || data);
            }
            if (this.completions == completions)
              this.detach();
            this.editor.endOperation();
          };
          this.commands = {
            "Up": function(editor) {
              editor.completer.goTo("up");
            },
            "Down": function(editor) {
              editor.completer.goTo("down");
            },
            "Ctrl-Up|Ctrl-Home": function(editor) {
              editor.completer.goTo("start");
            },
            "Ctrl-Down|Ctrl-End": function(editor) {
              editor.completer.goTo("end");
            },
            "Esc": function(editor) {
              editor.completer.detach();
            },
            "Return": function(editor) {
              return editor.completer.insertMatch();
            },
            "Shift-Return": function(editor) {
              editor.completer.insertMatch(null, { deleteSuffix: true });
            },
            "Tab": function(editor) {
              var result = editor.completer.insertMatch();
              if (!result && !editor.tabstopManager)
                editor.completer.goTo("down");
              else
                return result;
            },
            "PageUp": function(editor) {
              editor.completer.popup.gotoPageUp();
            },
            "PageDown": function(editor) {
              editor.completer.popup.gotoPageDown();
            }
          };
          this.gatherCompletions = function(editor, callback) {
            var session = editor.getSession();
            var pos = editor.getCursorPosition();
            var prefix = util.getCompletionPrefix(editor);
            this.base = session.doc.createAnchor(pos.row, pos.column - prefix.length);
            this.base.$insertRight = true;
            var matches = [];
            var total = editor.completers.length;
            editor.completers.forEach(function(completer, i6) {
              completer.getCompletions(editor, session, pos, prefix, function(err, results) {
                if (!err && results)
                  matches = matches.concat(results);
                callback(null, {
                  prefix: util.getCompletionPrefix(editor),
                  matches,
                  finished: --total === 0
                });
              });
            });
            return true;
          };
          this.showPopup = function(editor, options) {
            if (this.editor)
              this.detach();
            this.activated = true;
            this.editor = editor;
            if (editor.completer != this) {
              if (editor.completer)
                editor.completer.detach();
              editor.completer = this;
            }
            editor.on("changeSelection", this.changeListener);
            editor.on("blur", this.blurListener);
            editor.on("mousedown", this.mousedownListener);
            editor.on("mousewheel", this.mousewheelListener);
            this.updateCompletions(false, options);
          };
          this.updateCompletions = function(keepPopupPosition, options) {
            if (keepPopupPosition && this.base && this.completions) {
              var pos = this.editor.getCursorPosition();
              var prefix = this.editor.session.getTextRange({ start: this.base, end: pos });
              if (prefix == this.completions.filterText)
                return;
              this.completions.setFilter(prefix);
              if (!this.completions.filtered.length)
                return this.detach();
              if (this.completions.filtered.length == 1 && this.completions.filtered[0].value == prefix && !this.completions.filtered[0].snippet)
                return this.detach();
              this.openPopup(this.editor, prefix, keepPopupPosition);
              return;
            }
            if (options && options.matches) {
              var pos = this.editor.getSelectionRange().start;
              this.base = this.editor.session.doc.createAnchor(pos.row, pos.column);
              this.base.$insertRight = true;
              this.completions = new FilteredList(options.matches);
              return this.openPopup(this.editor, "", keepPopupPosition);
            }
            var _id = this.gatherCompletionsId;
            var detachIfFinished = function(results2) {
              if (!results2.finished)
                return;
              return this.detach();
            }.bind(this);
            var processResults = function(results2) {
              var prefix2 = results2.prefix;
              var matches = results2.matches;
              this.completions = new FilteredList(matches);
              if (this.exactMatch)
                this.completions.exactMatch = true;
              this.completions.setFilter(prefix2);
              var filtered = this.completions.filtered;
              if (!filtered.length)
                return detachIfFinished(results2);
              if (filtered.length == 1 && filtered[0].value == prefix2 && !filtered[0].snippet)
                return detachIfFinished(results2);
              if (this.autoInsert && filtered.length == 1 && results2.finished)
                return this.insertMatch(filtered[0]);
              this.openPopup(this.editor, prefix2, keepPopupPosition);
            }.bind(this);
            var isImmediate = true;
            var immediateResults = null;
            this.gatherCompletions(this.editor, function(err, results2) {
              var prefix2 = results2.prefix;
              var matches = results2 && results2.matches;
              if (!matches || !matches.length)
                return detachIfFinished(results2);
              if (prefix2.indexOf(results2.prefix) !== 0 || _id != this.gatherCompletionsId)
                return;
              if (isImmediate) {
                immediateResults = results2;
                return;
              }
              processResults(results2);
            }.bind(this));
            isImmediate = false;
            if (immediateResults) {
              var results = immediateResults;
              immediateResults = null;
              processResults(results);
            }
          };
          this.cancelContextMenu = function() {
            this.editor.$mouseHandler.cancelContextMenu();
          };
          this.updateDocTooltip = function() {
            var popup = this.popup;
            var all = popup.data;
            var selected = all && (all[popup.getHoveredRow()] || all[popup.getRow()]);
            var doc = null;
            if (!selected || !this.editor || !this.popup.isOpen)
              return this.hideDocTooltip();
            this.editor.completers.some(function(completer) {
              if (completer.getDocTooltip)
                doc = completer.getDocTooltip(selected);
              return doc;
            });
            if (!doc && typeof selected != "string")
              doc = selected;
            if (typeof doc == "string")
              doc = { docText: doc };
            if (!doc || !(doc.docHTML || doc.docText))
              return this.hideDocTooltip();
            this.showDocTooltip(doc);
          };
          this.showDocTooltip = function(item) {
            if (!this.tooltipNode) {
              this.tooltipNode = dom.createElement("div");
              this.tooltipNode.className = "ace_tooltip ace_doc-tooltip";
              this.tooltipNode.style.margin = 0;
              this.tooltipNode.style.pointerEvents = "auto";
              this.tooltipNode.tabIndex = -1;
              this.tooltipNode.onblur = this.blurListener.bind(this);
              this.tooltipNode.onclick = this.onTooltipClick.bind(this);
            }
            var tooltipNode = this.tooltipNode;
            if (item.docHTML) {
              tooltipNode.innerHTML = item.docHTML;
            } else if (item.docText) {
              tooltipNode.textContent = item.docText;
            }
            if (!tooltipNode.parentNode)
              document.body.appendChild(tooltipNode);
            var popup = this.popup;
            var rect = popup.container.getBoundingClientRect();
            tooltipNode.style.top = popup.container.style.top;
            tooltipNode.style.bottom = popup.container.style.bottom;
            tooltipNode.style.display = "block";
            if (window.innerWidth - rect.right < 320) {
              if (rect.left < 320) {
                if (popup.isTopdown) {
                  tooltipNode.style.top = rect.bottom + "px";
                  tooltipNode.style.left = rect.left + "px";
                  tooltipNode.style.right = "";
                  tooltipNode.style.bottom = "";
                } else {
                  tooltipNode.style.top = popup.container.offsetTop - tooltipNode.offsetHeight + "px";
                  tooltipNode.style.left = rect.left + "px";
                  tooltipNode.style.right = "";
                  tooltipNode.style.bottom = "";
                }
              } else {
                tooltipNode.style.right = window.innerWidth - rect.left + "px";
                tooltipNode.style.left = "";
              }
            } else {
              tooltipNode.style.left = rect.right + 1 + "px";
              tooltipNode.style.right = "";
            }
          };
          this.hideDocTooltip = function() {
            this.tooltipTimer.cancel();
            if (!this.tooltipNode)
              return;
            var el = this.tooltipNode;
            if (!this.editor.isFocused() && document.activeElement == el)
              this.editor.focus();
            this.tooltipNode = null;
            if (el.parentNode)
              el.parentNode.removeChild(el);
          };
          this.onTooltipClick = function(e10) {
            var a3 = e10.target;
            while (a3 && a3 != this.tooltipNode) {
              if (a3.nodeName == "A" && a3.href) {
                a3.rel = "noreferrer";
                a3.target = "_blank";
                break;
              }
              a3 = a3.parentNode;
            }
          };
          this.destroy = function() {
            this.detach();
            if (this.popup) {
              this.popup.destroy();
              var el = this.popup.container;
              if (el && el.parentNode)
                el.parentNode.removeChild(el);
            }
            if (this.editor && this.editor.completer == this)
              this.editor.completer == null;
            this.popup = null;
          };
        }).call(Autocomplete.prototype);
        Autocomplete.for = function(editor) {
          if (editor.completer) {
            return editor.completer;
          }
          if (config2.get("sharedPopups")) {
            if (!Autocomplete.$shared)
              Autocomplete.$sharedInstance = new Autocomplete();
            editor.completer = Autocomplete.$sharedInstance;
          } else {
            editor.completer = new Autocomplete();
            editor.once("destroy", function(e10, editor2) {
              editor2.completer.destroy();
            });
          }
          return editor.completer;
        };
        Autocomplete.startCommand = {
          name: "startAutocomplete",
          exec: function(editor, options) {
            var completer = Autocomplete.for(editor);
            completer.autoInsert = false;
            completer.autoSelect = true;
            completer.showPopup(editor, options);
            completer.cancelContextMenu();
          },
          bindKey: "Ctrl-Space|Ctrl-Shift-Space|Alt-Space"
        };
        var FilteredList = function(array, filterText) {
          this.all = array;
          this.filtered = array;
          this.filterText = filterText || "";
          this.exactMatch = false;
        };
        (function() {
          this.setFilter = function(str) {
            if (str.length > this.filterText && str.lastIndexOf(this.filterText, 0) === 0)
              var matches = this.filtered;
            else
              var matches = this.all;
            this.filterText = str;
            matches = this.filterCompletions(matches, this.filterText);
            matches = matches.sort(function(a3, b2) {
              return b2.exactMatch - a3.exactMatch || b2.$score - a3.$score || (a3.caption || a3.value).localeCompare(b2.caption || b2.value);
            });
            var prev = null;
            matches = matches.filter(function(item) {
              var caption = item.snippet || item.caption || item.value;
              if (caption === prev)
                return false;
              prev = caption;
              return true;
            });
            this.filtered = matches;
          };
          this.filterCompletions = function(items, needle) {
            var results = [];
            var upper = needle.toUpperCase();
            var lower = needle.toLowerCase();
            loop:
              for (var i6 = 0, item; item = items[i6]; i6++) {
                var caption = item.caption || item.value || item.snippet;
                if (!caption)
                  continue;
                var lastIndex = -1;
                var matchMask = 0;
                var penalty = 0;
                var index, distance;
                if (this.exactMatch) {
                  if (needle !== caption.substr(0, needle.length))
                    continue loop;
                } else {
                  var fullMatchIndex = caption.toLowerCase().indexOf(lower);
                  if (fullMatchIndex > -1) {
                    penalty = fullMatchIndex;
                  } else {
                    for (var j = 0; j < needle.length; j++) {
                      var i1 = caption.indexOf(lower[j], lastIndex + 1);
                      var i22 = caption.indexOf(upper[j], lastIndex + 1);
                      index = i1 >= 0 ? i22 < 0 || i1 < i22 ? i1 : i22 : i22;
                      if (index < 0)
                        continue loop;
                      distance = index - lastIndex - 1;
                      if (distance > 0) {
                        if (lastIndex === -1)
                          penalty += 10;
                        penalty += distance;
                        matchMask = matchMask | 1 << j;
                      }
                      lastIndex = index;
                    }
                  }
                }
                item.matchMask = matchMask;
                item.exactMatch = penalty ? 0 : 1;
                item.$score = (item.score || 0) - penalty;
                results.push(item);
              }
            return results;
          };
        }).call(FilteredList.prototype);
        exports2.Autocomplete = Autocomplete;
        exports2.FilteredList = FilteredList;
      });
      ace.define("ace/autocomplete/text_completer", ["require", "exports", "module", "ace/range"], function(require3, exports2, module2) {
        var Range = require3("../range").Range;
        var splitRegex = /[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;
        function getWordIndex(doc, pos) {
          var textBefore = doc.getTextRange(Range.fromPoints({ row: 0, column: 0 }, pos));
          return textBefore.split(splitRegex).length - 1;
        }
        function wordDistance(doc, pos) {
          var prefixPos = getWordIndex(doc, pos);
          var words = doc.getValue().split(splitRegex);
          var wordScores = /* @__PURE__ */ Object.create(null);
          var currentWord = words[prefixPos];
          words.forEach(function(word, idx) {
            if (!word || word === currentWord)
              return;
            var distance = Math.abs(prefixPos - idx);
            var score = words.length - distance;
            if (wordScores[word]) {
              wordScores[word] = Math.max(score, wordScores[word]);
            } else {
              wordScores[word] = score;
            }
          });
          return wordScores;
        }
        exports2.getCompletions = function(editor, session, pos, prefix, callback) {
          var wordScore = wordDistance(session, pos);
          var wordList = Object.keys(wordScore);
          callback(null, wordList.map(function(word) {
            return {
              caption: word,
              value: word,
              score: wordScore[word],
              meta: "local"
            };
          }));
        };
      });
      ace.define("ace/ext/language_tools", ["require", "exports", "module", "ace/snippets", "ace/autocomplete", "ace/config", "ace/lib/lang", "ace/autocomplete/util", "ace/autocomplete/text_completer", "ace/editor", "ace/config"], function(require3, exports2, module2) {
        "use strict";
        var snippetManager = require3("../snippets").snippetManager;
        var Autocomplete = require3("../autocomplete").Autocomplete;
        var config2 = require3("../config");
        var lang = require3("../lib/lang");
        var util = require3("../autocomplete/util");
        var textCompleter = require3("../autocomplete/text_completer");
        var keyWordCompleter = {
          getCompletions: function(editor, session, pos, prefix, callback) {
            if (session.$mode.completer) {
              return session.$mode.completer.getCompletions(editor, session, pos, prefix, callback);
            }
            var state = editor.session.getState(pos.row);
            var completions = session.$mode.getCompletions(state, session, pos, prefix);
            callback(null, completions);
          }
        };
        var transformSnippetTooltip = function(str) {
          var record = {};
          return str.replace(/\${(\d+)(:(.*?))?}/g, function(_2, p1, p2, p3) {
            return record[p1] = p3 || "";
          }).replace(/\$(\d+?)/g, function(_2, p1) {
            return record[p1];
          });
        };
        var snippetCompleter = {
          getCompletions: function(editor, session, pos, prefix, callback) {
            var scopes = [];
            var token = session.getTokenAt(pos.row, pos.column);
            if (token && token.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/))
              scopes.push("html-tag");
            else
              scopes = snippetManager.getActiveScopes(editor);
            var snippetMap = snippetManager.snippetMap;
            var completions = [];
            scopes.forEach(function(scope) {
              var snippets = snippetMap[scope] || [];
              for (var i6 = snippets.length; i6--; ) {
                var s5 = snippets[i6];
                var caption = s5.name || s5.tabTrigger;
                if (!caption)
                  continue;
                completions.push({
                  caption,
                  snippet: s5.content,
                  meta: s5.tabTrigger && !s5.name ? s5.tabTrigger + "\u21E5 " : "snippet",
                  type: "snippet"
                });
              }
            }, this);
            callback(null, completions);
          },
          getDocTooltip: function(item) {
            if (item.type == "snippet" && !item.docHTML) {
              item.docHTML = [
                "<b>",
                lang.escapeHTML(item.caption),
                "</b>",
                "<hr></hr>",
                lang.escapeHTML(transformSnippetTooltip(item.snippet))
              ].join("");
            }
          }
        };
        var completers = [snippetCompleter, textCompleter, keyWordCompleter];
        exports2.setCompleters = function(val) {
          completers.length = 0;
          if (val)
            completers.push.apply(completers, val);
        };
        exports2.addCompleter = function(completer) {
          completers.push(completer);
        };
        exports2.textCompleter = textCompleter;
        exports2.keyWordCompleter = keyWordCompleter;
        exports2.snippetCompleter = snippetCompleter;
        var expandSnippet = {
          name: "expandSnippet",
          exec: function(editor) {
            return snippetManager.expandWithTab(editor);
          },
          bindKey: "Tab"
        };
        var onChangeMode = function(e10, editor) {
          loadSnippetsForMode(editor.session.$mode);
        };
        var loadSnippetsForMode = function(mode) {
          if (typeof mode == "string")
            mode = config2.$modes[mode];
          if (!mode)
            return;
          if (!snippetManager.files)
            snippetManager.files = {};
          loadSnippetFile(mode.$id, mode.snippetFileId);
          if (mode.modes)
            mode.modes.forEach(loadSnippetsForMode);
        };
        var loadSnippetFile = function(id, snippetFilePath) {
          if (!snippetFilePath || !id || snippetManager.files[id])
            return;
          snippetManager.files[id] = {};
          config2.loadModule(snippetFilePath, function(m2) {
            if (!m2)
              return;
            snippetManager.files[id] = m2;
            if (!m2.snippets && m2.snippetText)
              m2.snippets = snippetManager.parseSnippetFile(m2.snippetText);
            snippetManager.register(m2.snippets || [], m2.scope);
            if (m2.includeScopes) {
              snippetManager.snippetMap[m2.scope].includeScopes = m2.includeScopes;
              m2.includeScopes.forEach(function(x2) {
                loadSnippetsForMode("ace/mode/" + x2);
              });
            }
          });
        };
        var doLiveAutocomplete = function(e10) {
          var editor = e10.editor;
          var hasCompleter = editor.completer && editor.completer.activated;
          if (e10.command.name === "backspace") {
            if (hasCompleter && !util.getCompletionPrefix(editor))
              editor.completer.detach();
          } else if (e10.command.name === "insertstring") {
            var prefix = util.getCompletionPrefix(editor);
            if (prefix && !hasCompleter) {
              var completer = Autocomplete.for(editor);
              completer.autoInsert = false;
              completer.showPopup(editor);
            }
          }
        };
        var Editor = require3("../editor").Editor;
        require3("../config").defineOptions(Editor.prototype, "editor", {
          enableBasicAutocompletion: {
            set: function(val) {
              if (val) {
                if (!this.completers)
                  this.completers = Array.isArray(val) ? val : completers;
                this.commands.addCommand(Autocomplete.startCommand);
              } else {
                this.commands.removeCommand(Autocomplete.startCommand);
              }
            },
            value: false
          },
          enableLiveAutocompletion: {
            set: function(val) {
              if (val) {
                if (!this.completers)
                  this.completers = Array.isArray(val) ? val : completers;
                this.commands.on("afterExec", doLiveAutocomplete);
              } else {
                this.commands.removeListener("afterExec", doLiveAutocomplete);
              }
            },
            value: false
          },
          enableSnippets: {
            set: function(val) {
              if (val) {
                this.commands.addCommand(expandSnippet);
                this.on("changeMode", onChangeMode);
                onChangeMode(null, this);
              } else {
                this.commands.removeCommand(expandSnippet);
                this.off("changeMode", onChangeMode);
              }
            },
            value: false
          }
        });
      });
      (function() {
        ace.require(["ace/ext/language_tools"], function(m2) {
          if (typeof module == "object" && typeof exports == "object" && module) {
            module.exports = m2;
          }
        });
      })();
    }
  });

  // node_modules/@creativebulma/bulma-collapsible/dist/js/bulma-collapsible.min.js
  var require_bulma_collapsible_min = __commonJS({
    "node_modules/@creativebulma/bulma-collapsible/dist/js/bulma-collapsible.min.js"(exports, module) {
      !function webpackUniversalModuleDefinition(e10, t5) {
        "object" == typeof exports && "object" == typeof module ? module.exports = t5() : "function" == typeof define && define.amd ? define([], t5) : "object" == typeof exports ? exports.bulmaCollapsible = t5() : e10.bulmaCollapsible = t5();
      }(window, function() {
        return function(e10) {
          var t5 = {};
          function __webpack_require__(n9) {
            if (t5[n9])
              return t5[n9].exports;
            var r5 = t5[n9] = { i: n9, l: false, exports: {} };
            return e10[n9].call(r5.exports, r5, r5.exports, __webpack_require__), r5.l = true, r5.exports;
          }
          return __webpack_require__.m = e10, __webpack_require__.c = t5, __webpack_require__.d = function(e11, t6, n9) {
            __webpack_require__.o(e11, t6) || Object.defineProperty(e11, t6, { enumerable: true, get: n9 });
          }, __webpack_require__.r = function(e11) {
            "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e11, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e11, "__esModule", { value: true });
          }, __webpack_require__.t = function(e11, t6) {
            if (1 & t6 && (e11 = __webpack_require__(e11)), 8 & t6)
              return e11;
            if (4 & t6 && "object" == typeof e11 && e11 && e11.__esModule)
              return e11;
            var n9 = /* @__PURE__ */ Object.create(null);
            if (__webpack_require__.r(n9), Object.defineProperty(n9, "default", { enumerable: true, value: e11 }), 2 & t6 && "string" != typeof e11)
              for (var r5 in e11)
                __webpack_require__.d(n9, r5, function(t7) {
                  return e11[t7];
                }.bind(null, r5));
            return n9;
          }, __webpack_require__.n = function(e11) {
            var t6 = e11 && e11.__esModule ? function getDefault() {
              return e11.default;
            } : function getModuleExports() {
              return e11;
            };
            return __webpack_require__.d(t6, "a", t6), t6;
          }, __webpack_require__.o = function(e11, t6) {
            return Object.prototype.hasOwnProperty.call(e11, t6);
          }, __webpack_require__.p = "", __webpack_require__(__webpack_require__.s = 12);
        }([function(e10, t5) {
          function _getPrototypeOf(t6) {
            return e10.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf2(e11) {
              return e11.__proto__ || Object.getPrototypeOf(e11);
            }, _getPrototypeOf(t6);
          }
          e10.exports = _getPrototypeOf;
        }, function(e10, t5) {
          e10.exports = function _classCallCheck(e11, t6) {
            if (!(e11 instanceof t6))
              throw new TypeError("Cannot call a class as a function");
          };
        }, function(e10, t5) {
          function _defineProperties(e11, t6) {
            for (var n9 = 0; n9 < t6.length; n9++) {
              var r5 = t6[n9];
              r5.enumerable = r5.enumerable || false, r5.configurable = true, "value" in r5 && (r5.writable = true), Object.defineProperty(e11, r5.key, r5);
            }
          }
          e10.exports = function _createClass(e11, t6, n9) {
            return t6 && _defineProperties(e11.prototype, t6), n9 && _defineProperties(e11, n9), e11;
          };
        }, function(e10, t5) {
          e10.exports = function _assertThisInitialized(e11) {
            if (void 0 === e11)
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return e11;
          };
        }, function(e10, t5, n9) {
          var r5 = n9(8);
          e10.exports = function _objectSpread(e11) {
            for (var t6 = 1; t6 < arguments.length; t6++) {
              var n10 = null != arguments[t6] ? arguments[t6] : {}, o8 = Object.keys(n10);
              "function" == typeof Object.getOwnPropertySymbols && (o8 = o8.concat(Object.getOwnPropertySymbols(n10).filter(function(e12) {
                return Object.getOwnPropertyDescriptor(n10, e12).enumerable;
              }))), o8.forEach(function(t7) {
                r5(e11, t7, n10[t7]);
              });
            }
            return e11;
          };
        }, function(e10, t5, n9) {
          var r5 = n9(6), o8 = n9(3);
          e10.exports = function _possibleConstructorReturn(e11, t6) {
            return !t6 || "object" !== r5(t6) && "function" != typeof t6 ? o8(e11) : t6;
          };
        }, function(e10, t5) {
          function _typeof2(e11) {
            return (_typeof2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function _typeof22(e12) {
              return typeof e12;
            } : function _typeof22(e12) {
              return e12 && "function" == typeof Symbol && e12.constructor === Symbol && e12 !== Symbol.prototype ? "symbol" : typeof e12;
            })(e11);
          }
          function _typeof(t6) {
            return "function" == typeof Symbol && "symbol" === _typeof2(Symbol.iterator) ? e10.exports = _typeof = function _typeof3(e11) {
              return _typeof2(e11);
            } : e10.exports = _typeof = function _typeof3(e11) {
              return e11 && "function" == typeof Symbol && e11.constructor === Symbol && e11 !== Symbol.prototype ? "symbol" : _typeof2(e11);
            }, _typeof(t6);
          }
          e10.exports = _typeof;
        }, function(e10, t5, n9) {
          var r5 = n9(11);
          e10.exports = function _inherits(e11, t6) {
            if ("function" != typeof t6 && null !== t6)
              throw new TypeError("Super expression must either be null or a function");
            e11.prototype = Object.create(t6 && t6.prototype, { constructor: { value: e11, writable: true, configurable: true } }), t6 && r5(e11, t6);
          };
        }, function(e10, t5) {
          e10.exports = function _defineProperty(e11, t6, n9) {
            return t6 in e11 ? Object.defineProperty(e11, t6, { value: n9, enumerable: true, configurable: true, writable: true }) : e11[t6] = n9, e11;
          };
        }, function(e10, t5, n9) {
          n9(0);
          var r5 = n9(10);
          function _get(t6, n10, o8) {
            return "undefined" != typeof Reflect && Reflect.get ? e10.exports = _get = Reflect.get : e10.exports = _get = function _get2(e11, t7, n11) {
              var o9 = r5(e11, t7);
              if (o9) {
                var i6 = Object.getOwnPropertyDescriptor(o9, t7);
                return i6.get ? i6.get.call(n11) : i6.value;
              }
            }, _get(t6, n10, o8 || t6);
          }
          e10.exports = _get;
        }, function(e10, t5, n9) {
          var r5 = n9(0);
          e10.exports = function _superPropBase(e11, t6) {
            for (; !Object.prototype.hasOwnProperty.call(e11, t6) && null !== (e11 = r5(e11)); )
              ;
            return e11;
          };
        }, function(e10, t5) {
          function _setPrototypeOf(t6, n9) {
            return e10.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf2(e11, t7) {
              return e11.__proto__ = t7, e11;
            }, _setPrototypeOf(t6, n9);
          }
          e10.exports = _setPrototypeOf;
        }, function(e10, t5, n9) {
          "use strict";
          n9.r(t5);
          var r5 = n9(1), o8 = n9.n(r5), i6 = n9(2), s5 = n9.n(i6), l7 = n9(5), a3 = n9.n(l7), c2 = n9(3), u2 = n9.n(c2), f2 = n9(0), p2 = n9.n(f2), d3 = n9(9), h5 = n9.n(d3), _2 = n9(7), y2 = n9.n(_2), v2 = n9(4), m2 = n9.n(v2), b2 = function() {
            function EventEmitter() {
              var e11 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
              o8()(this, EventEmitter), this._listeners = new Map(e11), this._middlewares = /* @__PURE__ */ new Map();
            }
            return s5()(EventEmitter, [{ key: "listenerCount", value: function listenerCount(e11) {
              return this._listeners.has(e11) ? this._listeners.get(e11).length : 0;
            } }, { key: "removeListeners", value: function removeListeners() {
              var e11 = this, t6 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null, n10 = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
              null !== t6 ? Array.isArray(t6) ? name.forEach(function(t7) {
                return e11.removeListeners(t7, n10);
              }) : (this._listeners.delete(t6), n10 && this.removeMiddleware(t6)) : this._listeners = /* @__PURE__ */ new Map();
            } }, { key: "middleware", value: function middleware(e11, t6) {
              var n10 = this;
              Array.isArray(e11) ? name.forEach(function(e12) {
                return n10.middleware(e12, t6);
              }) : (Array.isArray(this._middlewares.get(e11)) || this._middlewares.set(e11, []), this._middlewares.get(e11).push(t6));
            } }, { key: "removeMiddleware", value: function removeMiddleware() {
              var e11 = this, t6 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
              null !== t6 ? Array.isArray(t6) ? name.forEach(function(t7) {
                return e11.removeMiddleware(t7);
              }) : this._middlewares.delete(t6) : this._middlewares = /* @__PURE__ */ new Map();
            } }, { key: "on", value: function on(e11, t6) {
              var n10 = this, r6 = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
              if (Array.isArray(e11))
                e11.forEach(function(e12) {
                  return n10.on(e12, t6);
                });
              else {
                var o9 = (e11 = e11.toString()).split(/,|, | /);
                o9.length > 1 ? o9.forEach(function(e12) {
                  return n10.on(e12, t6);
                }) : (Array.isArray(this._listeners.get(e11)) || this._listeners.set(e11, []), this._listeners.get(e11).push({ once: r6, callback: t6 }));
              }
            } }, { key: "once", value: function once(e11, t6) {
              this.on(e11, t6, true);
            } }, { key: "emit", value: function emit(e11, t6) {
              var n10 = this, r6 = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
              e11 = e11.toString();
              var o9 = this._listeners.get(e11), i7 = null, s6 = 0, l8 = r6;
              if (Array.isArray(o9))
                for (o9.forEach(function(a4, c3) {
                  r6 || (i7 = n10._middlewares.get(e11), Array.isArray(i7) ? (i7.forEach(function(n11) {
                    n11(t6, function() {
                      var e12 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
                      null !== e12 && (t6 = e12), s6++;
                    }, e11);
                  }), s6 >= i7.length && (l8 = true)) : l8 = true), l8 && (a4.once && (o9[c3] = null), a4.callback(t6));
                }); -1 !== o9.indexOf(null); )
                  o9.splice(o9.indexOf(null), 1);
            } }]), EventEmitter;
          }(), g2 = n9(8), w2 = n9.n(g2), k2 = n9(6), O = n9.n(k2), E2 = function isFunction(e11) {
            return "function" == typeof e11;
          }, x2 = function isString(e11) {
            return "string" == typeof e11 || !!e11 && "object" === O()(e11) && "[object String]" === Object.prototype.toString.call(e11);
          }, P2 = function isNode(e11) {
            try {
              return Node.prototype.cloneNode.call(e11, false), true;
            } catch (e12) {
              return false;
            }
          }, S3 = function isNodeList(e11) {
            return NodeList.prototype.isPrototypeOf(e11);
          }, j = /^(?:f(?:alse)?|no?|0+)$/i, C2 = function uuid() {
            return (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "") + ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, function(e11) {
              return (e11 ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> e11 / 4).toString(16);
            });
          }, A2 = function detectSupportsPassive() {
            var e11 = false;
            if ("undefined" != typeof window && "function" == typeof window.addEventListener) {
              var t6 = Object.defineProperty({}, "passive", { get: function get2() {
                return e11 = true, true;
              } }), n10 = function noop() {
              };
              window.addEventListener("testPassive", n10, t6), window.removeEventListener("testPassive", n10, t6);
            }
            return e11;
          }, T2 = function querySelectorAll(e11, t6) {
            return E2(e11) ? e11(t6 || ("undefined" != typeof document ? document : null)) : x2(e11) ? t6 && P2(t6) ? t6.querySelectorAll(e11) : "undefined" != typeof document ? document.querySelectorAll(e11) : null : P2(e11) ? [e11] : S3(e11) ? e11 : null;
          }, q = function optionsFromDataset(e11) {
            var t6 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            return P2(e11) && e11.dataset ? Object.keys(e11.dataset).filter(function(e12) {
              return Object.keys(t6).includes(e12);
            }).reduce(function(t7, n10) {
              return m2()({}, t7, w2()({}, n10, e11.dataset[n10]));
            }, {}) : {};
          };
          "undefined" == typeof Node || Node.prototype.on || (Node.prototype.on = function(e11, t6) {
            var n10 = this;
            return Array.isArray(e11) || (e11 = e11.split(" ")), e11.forEach(function(e12) {
              n10.addEventListener(e12.trim(), t6, !!A2() && { passive: false });
            }), this;
          }), "undefined" == typeof NodeList || NodeList.prototype.on || (NodeList.prototype.on = function(e11, t6) {
            return this.forEach(function(n10) {
              n10.on(e11, t6);
            }), this;
          }), "undefined" == typeof Node || Node.prototype.off || (Node.prototype.off = function(e11, t6) {
            var n10 = this;
            return Array.isArray(e11) || (e11 = e11.split(" ")), e11.forEach(function(e12) {
              n10.removeEventListener(e12.trim(), t6, !!A2() && { passive: false });
            }), this;
          }), "undefined" == typeof NodeList || NodeList.prototype.off || (NodeList.prototype.off = function(e11, t6) {
            return this.forEach(function(n10) {
              n10.off(e11, t6);
            }), this;
          });
          var L2 = function(e11) {
            function Component(e12) {
              var t6, n10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r6 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
              if (o8()(this, Component), (t6 = a3()(this, p2()(Component).call(this))).element = x2(e12) ? t6.options.container.querySelector(e12) : e12, !t6.element)
                throw new Error("An invalid selector or non-DOM node has been provided for ".concat(t6.constructor.name, "."));
              return t6.element[t6.constructor.name] = t6.constructor._interface.bind(u2()(t6)), t6.element[t6.constructor.name].Constructor = t6.constructor.name, t6.id = C2(t6.constructor.name + "-"), t6.options = m2()({}, r6, n10, q(t6.element, r6)), t6;
            }
            return y2()(Component, e11), s5()(Component, null, [{ key: "attach", value: function attach() {
              var e12 = this, t6 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null, n10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r6 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, o9 = new Array();
              return null === t6 ? o9 : (n10 = m2()({}, r6, n10, q(this.element, r6)), (T2(t6, n10.container) || []).forEach(function(r7) {
                void 0 === r7[e12.constructor.name] ? o9.push(new e12(r7, m2()({ selector: t6 }, n10))) : o9.push(r7[e12.constructor.name]);
              }), o9);
            } }, { key: "_interface", value: function _interface() {
              var e12 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
              if ("string" == typeof e12) {
                if (void 0 === this[e12])
                  throw new TypeError('No method named "'.concat(e12, '"'));
                return this[e12](e12);
              }
              return this;
            } }]), Component;
          }(b2), N2 = { allowMultiple: false, container: "undefined" != typeof document ? document : null };
          n9.d(t5, "default", function() {
            return M2;
          });
          var M2 = function(e11) {
            function bulmaCollapsible2(e12) {
              var t6, n10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
              return o8()(this, bulmaCollapsible2), (t6 = a3()(this, p2()(bulmaCollapsible2).call(this, e12, n10, N2))).onTriggerClick = t6.onTriggerClick.bind(u2()(t6)), t6.onTransitionEnd = t6.onTransitionEnd.bind(u2()(t6)), t6._init(), t6;
            }
            return y2()(bulmaCollapsible2, e11), s5()(bulmaCollapsible2, [{ key: "_init", value: function _init() {
              if (this._originalHeight = this.element.style.height, this._parent = this.element.dataset.parent, this._parent) {
                var e12 = this.options.container.querySelector("#".concat(this._parent));
                this._siblings = T2(this.options.selector, e12) || [];
              }
              this._triggers = this.options.container.querySelectorAll('[data-action="collapse"][href="#'.concat(this.element.id, '"], [data-action="collapse"][data-target="').concat(this.element.id, '"]')) || null, this._triggers && this._triggers.on("click touch", this.onTriggerClick), this._transitionEvent = function whichTransitionEvent() {
                var e13 = document.createElement("fakeelement"), t6 = { transition: "transitionend", OTransition: "oTransitionEnd", MozTransition: "transitionend", WebkitTransition: "webkitTransitionEnd" };
                for (var n10 in t6)
                  if (void 0 !== e13.style[n10])
                    return t6[n10];
              }(), this._transitionEvent && this.element.on(this._transitionEvent, this.onTransitionEnd), this.element.classList.contains("is-active") ? this.expand() : this.collapse();
            } }, { key: "destroy", value: function destroy() {
              this._triggers && this._triggers.off("click touch", this.onTriggerClick, false);
            } }, { key: "collapsed", value: function collapsed() {
              return this._collapsed;
            } }, { key: "expand", value: function expand() {
              var e12 = this;
              (void 0 === this._collapsed || this._collapsed) && (this.emit("before:expand", this), this._collapsed = false, this._parent && !function BooleanParse(e13) {
                return !j.test(e13) && !!e13;
              }(this.options.allowMultiple) && this._siblings.forEach(function(t6) {
                t6.isSameNode(e12.element) || t6.bulmaCollapsible && t6.bulmaCollapsible("close");
              }), this.element.style.height = this.element.scrollHeight + "px", this.element.classList.add("is-active"), this.element.setAttribute("aria-expanded", true), this._triggers && this._triggers.forEach(function(e13) {
                e13.classList.add("is-active");
              }), this.emit("after:expand", this));
            } }, { key: "open", value: function open() {
              this.expand();
            } }, { key: "collapse", value: function collapse() {
              void 0 !== this._collapsed && this._collapsed || (this.emit("before:collapse", this), this._collapsed = true, this.element.style.height = 0, this.element.classList.remove("is-active"), this.element.setAttribute("aria-expanded", false), this._triggers && this._triggers.forEach(function(e12) {
                e12.classList.remove("is-active");
              }), this.emit("after:collapse", this));
            } }, { key: "close", value: function close() {
              this.collapse();
            } }, { key: "onTriggerClick", value: function onTriggerClick(e12) {
              e12.preventDefault(), this.collapsed() ? (e12.currentTarget.classList.add("is-active"), this.expand()) : (e12.currentTarget.classList.remove("is-active"), this.collapse());
            } }, { key: "onTransitionEnd", value: function onTransitionEnd(e12) {
              this._collapsed || (this.element.style.height = this._originalHeight);
            } }], [{ key: "attach", value: function attach() {
              var e12 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ".is-collapsible", t6 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
              return h5()(p2()(bulmaCollapsible2), "attach", this).call(this, e12, t6, N2);
            } }]), bulmaCollapsible2;
          }(L2);
        }]).default;
      });
    }
  });

  // ui/utils/bind.ts
  function bind(target, propertyKey, descriptor) {
    if (!descriptor || typeof descriptor.value !== "function") {
      throw new TypeError(`Only methods can be decorated with @bind. <${propertyKey}> is not a method!`);
    }
    return {
      configurable: true,
      get() {
        const bound = descriptor.value.bind(this);
        Object.defineProperty(this, propertyKey, {
          value: bound,
          configurable: true,
          writable: true
        });
        return bound;
      }
    };
  }
  var bind_default = bind;

  // node_modules/@lit/reactive-element/css-tag.js
  var t = window.ShadowRoot && (void 0 === window.ShadyCSS || window.ShadyCSS.nativeShadow) && "adoptedStyleSheets" in Document.prototype && "replace" in CSSStyleSheet.prototype;
  var e = Symbol();
  var n = /* @__PURE__ */ new WeakMap();
  var s = class {
    constructor(t5, n9, s5) {
      if (this._$cssResult$ = true, s5 !== e)
        throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");
      this.cssText = t5, this.t = n9;
    }
    get styleSheet() {
      let e10 = this.o;
      const s5 = this.t;
      if (t && void 0 === e10) {
        const t5 = void 0 !== s5 && 1 === s5.length;
        t5 && (e10 = n.get(s5)), void 0 === e10 && ((this.o = e10 = new CSSStyleSheet()).replaceSync(this.cssText), t5 && n.set(s5, e10));
      }
      return e10;
    }
    toString() {
      return this.cssText;
    }
  };
  var o = (t5) => new s("string" == typeof t5 ? t5 : t5 + "", void 0, e);
  var i = (e10, n9) => {
    t ? e10.adoptedStyleSheets = n9.map((t5) => t5 instanceof CSSStyleSheet ? t5 : t5.styleSheet) : n9.forEach((t5) => {
      const n10 = document.createElement("style"), s5 = window.litNonce;
      void 0 !== s5 && n10.setAttribute("nonce", s5), n10.textContent = t5.cssText, e10.appendChild(n10);
    });
  };
  var S = t ? (t5) => t5 : (t5) => t5 instanceof CSSStyleSheet ? ((t6) => {
    let e10 = "";
    for (const n9 of t6.cssRules)
      e10 += n9.cssText;
    return o(e10);
  })(t5) : t5;

  // node_modules/@lit/reactive-element/reactive-element.js
  var s2;
  var e2 = window.trustedTypes;
  var r2 = e2 ? e2.emptyScript : "";
  var h = window.reactiveElementPolyfillSupport;
  var o2 = { toAttribute(t5, i6) {
    switch (i6) {
      case Boolean:
        t5 = t5 ? r2 : null;
        break;
      case Object:
      case Array:
        t5 = null == t5 ? t5 : JSON.stringify(t5);
    }
    return t5;
  }, fromAttribute(t5, i6) {
    let s5 = t5;
    switch (i6) {
      case Boolean:
        s5 = null !== t5;
        break;
      case Number:
        s5 = null === t5 ? null : Number(t5);
        break;
      case Object:
      case Array:
        try {
          s5 = JSON.parse(t5);
        } catch (t6) {
          s5 = null;
        }
    }
    return s5;
  } };
  var n2 = (t5, i6) => i6 !== t5 && (i6 == i6 || t5 == t5);
  var l = { attribute: true, type: String, converter: o2, reflect: false, hasChanged: n2 };
  var a = class extends HTMLElement {
    constructor() {
      super(), this._$Ei = /* @__PURE__ */ new Map(), this.isUpdatePending = false, this.hasUpdated = false, this._$El = null, this.u();
    }
    static addInitializer(t5) {
      var i6;
      null !== (i6 = this.h) && void 0 !== i6 || (this.h = []), this.h.push(t5);
    }
    static get observedAttributes() {
      this.finalize();
      const t5 = [];
      return this.elementProperties.forEach((i6, s5) => {
        const e10 = this._$Ep(s5, i6);
        void 0 !== e10 && (this._$Ev.set(e10, s5), t5.push(e10));
      }), t5;
    }
    static createProperty(t5, i6 = l) {
      if (i6.state && (i6.attribute = false), this.finalize(), this.elementProperties.set(t5, i6), !i6.noAccessor && !this.prototype.hasOwnProperty(t5)) {
        const s5 = "symbol" == typeof t5 ? Symbol() : "__" + t5, e10 = this.getPropertyDescriptor(t5, s5, i6);
        void 0 !== e10 && Object.defineProperty(this.prototype, t5, e10);
      }
    }
    static getPropertyDescriptor(t5, i6, s5) {
      return { get() {
        return this[i6];
      }, set(e10) {
        const r5 = this[t5];
        this[i6] = e10, this.requestUpdate(t5, r5, s5);
      }, configurable: true, enumerable: true };
    }
    static getPropertyOptions(t5) {
      return this.elementProperties.get(t5) || l;
    }
    static finalize() {
      if (this.hasOwnProperty("finalized"))
        return false;
      this.finalized = true;
      const t5 = Object.getPrototypeOf(this);
      if (t5.finalize(), this.elementProperties = new Map(t5.elementProperties), this._$Ev = /* @__PURE__ */ new Map(), this.hasOwnProperty("properties")) {
        const t6 = this.properties, i6 = [...Object.getOwnPropertyNames(t6), ...Object.getOwnPropertySymbols(t6)];
        for (const s5 of i6)
          this.createProperty(s5, t6[s5]);
      }
      return this.elementStyles = this.finalizeStyles(this.styles), true;
    }
    static finalizeStyles(i6) {
      const s5 = [];
      if (Array.isArray(i6)) {
        const e10 = new Set(i6.flat(1 / 0).reverse());
        for (const i7 of e10)
          s5.unshift(S(i7));
      } else
        void 0 !== i6 && s5.push(S(i6));
      return s5;
    }
    static _$Ep(t5, i6) {
      const s5 = i6.attribute;
      return false === s5 ? void 0 : "string" == typeof s5 ? s5 : "string" == typeof t5 ? t5.toLowerCase() : void 0;
    }
    u() {
      var t5;
      this._$E_ = new Promise((t6) => this.enableUpdating = t6), this._$AL = /* @__PURE__ */ new Map(), this._$Eg(), this.requestUpdate(), null === (t5 = this.constructor.h) || void 0 === t5 || t5.forEach((t6) => t6(this));
    }
    addController(t5) {
      var i6, s5;
      (null !== (i6 = this._$ES) && void 0 !== i6 ? i6 : this._$ES = []).push(t5), void 0 !== this.renderRoot && this.isConnected && (null === (s5 = t5.hostConnected) || void 0 === s5 || s5.call(t5));
    }
    removeController(t5) {
      var i6;
      null === (i6 = this._$ES) || void 0 === i6 || i6.splice(this._$ES.indexOf(t5) >>> 0, 1);
    }
    _$Eg() {
      this.constructor.elementProperties.forEach((t5, i6) => {
        this.hasOwnProperty(i6) && (this._$Ei.set(i6, this[i6]), delete this[i6]);
      });
    }
    createRenderRoot() {
      var t5;
      const s5 = null !== (t5 = this.shadowRoot) && void 0 !== t5 ? t5 : this.attachShadow(this.constructor.shadowRootOptions);
      return i(s5, this.constructor.elementStyles), s5;
    }
    connectedCallback() {
      var t5;
      void 0 === this.renderRoot && (this.renderRoot = this.createRenderRoot()), this.enableUpdating(true), null === (t5 = this._$ES) || void 0 === t5 || t5.forEach((t6) => {
        var i6;
        return null === (i6 = t6.hostConnected) || void 0 === i6 ? void 0 : i6.call(t6);
      });
    }
    enableUpdating(t5) {
    }
    disconnectedCallback() {
      var t5;
      null === (t5 = this._$ES) || void 0 === t5 || t5.forEach((t6) => {
        var i6;
        return null === (i6 = t6.hostDisconnected) || void 0 === i6 ? void 0 : i6.call(t6);
      });
    }
    attributeChangedCallback(t5, i6, s5) {
      this._$AK(t5, s5);
    }
    _$EO(t5, i6, s5 = l) {
      var e10, r5;
      const h5 = this.constructor._$Ep(t5, s5);
      if (void 0 !== h5 && true === s5.reflect) {
        const n9 = (null !== (r5 = null === (e10 = s5.converter) || void 0 === e10 ? void 0 : e10.toAttribute) && void 0 !== r5 ? r5 : o2.toAttribute)(i6, s5.type);
        this._$El = t5, null == n9 ? this.removeAttribute(h5) : this.setAttribute(h5, n9), this._$El = null;
      }
    }
    _$AK(t5, i6) {
      var s5, e10;
      const r5 = this.constructor, h5 = r5._$Ev.get(t5);
      if (void 0 !== h5 && this._$El !== h5) {
        const t6 = r5.getPropertyOptions(h5), n9 = t6.converter, l7 = null !== (e10 = null !== (s5 = null == n9 ? void 0 : n9.fromAttribute) && void 0 !== s5 ? s5 : "function" == typeof n9 ? n9 : null) && void 0 !== e10 ? e10 : o2.fromAttribute;
        this._$El = h5, this[h5] = l7(i6, t6.type), this._$El = null;
      }
    }
    requestUpdate(t5, i6, s5) {
      let e10 = true;
      void 0 !== t5 && (((s5 = s5 || this.constructor.getPropertyOptions(t5)).hasChanged || n2)(this[t5], i6) ? (this._$AL.has(t5) || this._$AL.set(t5, i6), true === s5.reflect && this._$El !== t5 && (void 0 === this._$EC && (this._$EC = /* @__PURE__ */ new Map()), this._$EC.set(t5, s5))) : e10 = false), !this.isUpdatePending && e10 && (this._$E_ = this._$Ej());
    }
    _$Ej() {
      return __async(this, null, function* () {
        this.isUpdatePending = true;
        try {
          yield this._$E_;
        } catch (t6) {
          Promise.reject(t6);
        }
        const t5 = this.scheduleUpdate();
        return null != t5 && (yield t5), !this.isUpdatePending;
      });
    }
    scheduleUpdate() {
      return this.performUpdate();
    }
    performUpdate() {
      var t5;
      if (!this.isUpdatePending)
        return;
      this.hasUpdated, this._$Ei && (this._$Ei.forEach((t6, i7) => this[i7] = t6), this._$Ei = void 0);
      let i6 = false;
      const s5 = this._$AL;
      try {
        i6 = this.shouldUpdate(s5), i6 ? (this.willUpdate(s5), null === (t5 = this._$ES) || void 0 === t5 || t5.forEach((t6) => {
          var i7;
          return null === (i7 = t6.hostUpdate) || void 0 === i7 ? void 0 : i7.call(t6);
        }), this.update(s5)) : this._$Ek();
      } catch (t6) {
        throw i6 = false, this._$Ek(), t6;
      }
      i6 && this._$AE(s5);
    }
    willUpdate(t5) {
    }
    _$AE(t5) {
      var i6;
      null === (i6 = this._$ES) || void 0 === i6 || i6.forEach((t6) => {
        var i7;
        return null === (i7 = t6.hostUpdated) || void 0 === i7 ? void 0 : i7.call(t6);
      }), this.hasUpdated || (this.hasUpdated = true, this.firstUpdated(t5)), this.updated(t5);
    }
    _$Ek() {
      this._$AL = /* @__PURE__ */ new Map(), this.isUpdatePending = false;
    }
    get updateComplete() {
      return this.getUpdateComplete();
    }
    getUpdateComplete() {
      return this._$E_;
    }
    shouldUpdate(t5) {
      return true;
    }
    update(t5) {
      void 0 !== this._$EC && (this._$EC.forEach((t6, i6) => this._$EO(i6, this[i6], t6)), this._$EC = void 0), this._$Ek();
    }
    updated(t5) {
    }
    firstUpdated(t5) {
    }
  };
  a.finalized = true, a.elementProperties = /* @__PURE__ */ new Map(), a.elementStyles = [], a.shadowRootOptions = { mode: "open" }, null == h || h({ ReactiveElement: a }), (null !== (s2 = globalThis.reactiveElementVersions) && void 0 !== s2 ? s2 : globalThis.reactiveElementVersions = []).push("1.3.4");

  // node_modules/lit-html/lit-html.js
  var t2;
  var i2 = globalThis.trustedTypes;
  var s3 = i2 ? i2.createPolicy("lit-html", { createHTML: (t5) => t5 }) : void 0;
  var e3 = `lit$${(Math.random() + "").slice(9)}$`;
  var o3 = "?" + e3;
  var n3 = `<${o3}>`;
  var l2 = document;
  var h2 = (t5 = "") => l2.createComment(t5);
  var r3 = (t5) => null === t5 || "object" != typeof t5 && "function" != typeof t5;
  var d = Array.isArray;
  var u = (t5) => d(t5) || "function" == typeof (null == t5 ? void 0 : t5[Symbol.iterator]);
  var c = /<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g;
  var v = /-->/g;
  var a2 = />/g;
  var f = RegExp(`>|[ 	
\f\r](?:([^\\s"'>=/]+)([ 	
\f\r]*=[ 	
\f\r]*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`, "g");
  var _ = /'/g;
  var g = /"/g;
  var m = /^(?:script|style|textarea|title)$/i;
  var p = (t5) => (i6, ...s5) => ({ _$litType$: t5, strings: i6, values: s5 });
  var $ = p(1);
  var y = p(2);
  var b = Symbol.for("lit-noChange");
  var w = Symbol.for("lit-nothing");
  var x = /* @__PURE__ */ new WeakMap();
  var T = (t5, i6, s5) => {
    var e10, o8;
    const n9 = null !== (e10 = null == s5 ? void 0 : s5.renderBefore) && void 0 !== e10 ? e10 : i6;
    let l7 = n9._$litPart$;
    if (void 0 === l7) {
      const t6 = null !== (o8 = null == s5 ? void 0 : s5.renderBefore) && void 0 !== o8 ? o8 : null;
      n9._$litPart$ = l7 = new N(i6.insertBefore(h2(), t6), t6, void 0, null != s5 ? s5 : {});
    }
    return l7._$AI(t5), l7;
  };
  var A = l2.createTreeWalker(l2, 129, null, false);
  var E = (t5, i6) => {
    const o8 = t5.length - 1, l7 = [];
    let h5, r5 = 2 === i6 ? "<svg>" : "", d3 = c;
    for (let i7 = 0; i7 < o8; i7++) {
      const s5 = t5[i7];
      let o9, u3, p2 = -1, $2 = 0;
      for (; $2 < s5.length && (d3.lastIndex = $2, u3 = d3.exec(s5), null !== u3); )
        $2 = d3.lastIndex, d3 === c ? "!--" === u3[1] ? d3 = v : void 0 !== u3[1] ? d3 = a2 : void 0 !== u3[2] ? (m.test(u3[2]) && (h5 = RegExp("</" + u3[2], "g")), d3 = f) : void 0 !== u3[3] && (d3 = f) : d3 === f ? ">" === u3[0] ? (d3 = null != h5 ? h5 : c, p2 = -1) : void 0 === u3[1] ? p2 = -2 : (p2 = d3.lastIndex - u3[2].length, o9 = u3[1], d3 = void 0 === u3[3] ? f : '"' === u3[3] ? g : _) : d3 === g || d3 === _ ? d3 = f : d3 === v || d3 === a2 ? d3 = c : (d3 = f, h5 = void 0);
      const y2 = d3 === f && t5[i7 + 1].startsWith("/>") ? " " : "";
      r5 += d3 === c ? s5 + n3 : p2 >= 0 ? (l7.push(o9), s5.slice(0, p2) + "$lit$" + s5.slice(p2) + e3 + y2) : s5 + e3 + (-2 === p2 ? (l7.push(void 0), i7) : y2);
    }
    const u2 = r5 + (t5[o8] || "<?>") + (2 === i6 ? "</svg>" : "");
    if (!Array.isArray(t5) || !t5.hasOwnProperty("raw"))
      throw Error("invalid template strings array");
    return [void 0 !== s3 ? s3.createHTML(u2) : u2, l7];
  };
  var C = class {
    constructor({ strings: t5, _$litType$: s5 }, n9) {
      let l7;
      this.parts = [];
      let r5 = 0, d3 = 0;
      const u2 = t5.length - 1, c2 = this.parts, [v2, a3] = E(t5, s5);
      if (this.el = C.createElement(v2, n9), A.currentNode = this.el.content, 2 === s5) {
        const t6 = this.el.content, i6 = t6.firstChild;
        i6.remove(), t6.append(...i6.childNodes);
      }
      for (; null !== (l7 = A.nextNode()) && c2.length < u2; ) {
        if (1 === l7.nodeType) {
          if (l7.hasAttributes()) {
            const t6 = [];
            for (const i6 of l7.getAttributeNames())
              if (i6.endsWith("$lit$") || i6.startsWith(e3)) {
                const s6 = a3[d3++];
                if (t6.push(i6), void 0 !== s6) {
                  const t7 = l7.getAttribute(s6.toLowerCase() + "$lit$").split(e3), i7 = /([.?@])?(.*)/.exec(s6);
                  c2.push({ type: 1, index: r5, name: i7[2], strings: t7, ctor: "." === i7[1] ? M : "?" === i7[1] ? k : "@" === i7[1] ? H : S2 });
                } else
                  c2.push({ type: 6, index: r5 });
              }
            for (const i6 of t6)
              l7.removeAttribute(i6);
          }
          if (m.test(l7.tagName)) {
            const t6 = l7.textContent.split(e3), s6 = t6.length - 1;
            if (s6 > 0) {
              l7.textContent = i2 ? i2.emptyScript : "";
              for (let i6 = 0; i6 < s6; i6++)
                l7.append(t6[i6], h2()), A.nextNode(), c2.push({ type: 2, index: ++r5 });
              l7.append(t6[s6], h2());
            }
          }
        } else if (8 === l7.nodeType)
          if (l7.data === o3)
            c2.push({ type: 2, index: r5 });
          else {
            let t6 = -1;
            for (; -1 !== (t6 = l7.data.indexOf(e3, t6 + 1)); )
              c2.push({ type: 7, index: r5 }), t6 += e3.length - 1;
          }
        r5++;
      }
    }
    static createElement(t5, i6) {
      const s5 = l2.createElement("template");
      return s5.innerHTML = t5, s5;
    }
  };
  function P(t5, i6, s5 = t5, e10) {
    var o8, n9, l7, h5;
    if (i6 === b)
      return i6;
    let d3 = void 0 !== e10 ? null === (o8 = s5._$Cl) || void 0 === o8 ? void 0 : o8[e10] : s5._$Cu;
    const u2 = r3(i6) ? void 0 : i6._$litDirective$;
    return (null == d3 ? void 0 : d3.constructor) !== u2 && (null === (n9 = null == d3 ? void 0 : d3._$AO) || void 0 === n9 || n9.call(d3, false), void 0 === u2 ? d3 = void 0 : (d3 = new u2(t5), d3._$AT(t5, s5, e10)), void 0 !== e10 ? (null !== (l7 = (h5 = s5)._$Cl) && void 0 !== l7 ? l7 : h5._$Cl = [])[e10] = d3 : s5._$Cu = d3), void 0 !== d3 && (i6 = P(t5, d3._$AS(t5, i6.values), d3, e10)), i6;
  }
  var V = class {
    constructor(t5, i6) {
      this.v = [], this._$AN = void 0, this._$AD = t5, this._$AM = i6;
    }
    get parentNode() {
      return this._$AM.parentNode;
    }
    get _$AU() {
      return this._$AM._$AU;
    }
    p(t5) {
      var i6;
      const { el: { content: s5 }, parts: e10 } = this._$AD, o8 = (null !== (i6 = null == t5 ? void 0 : t5.creationScope) && void 0 !== i6 ? i6 : l2).importNode(s5, true);
      A.currentNode = o8;
      let n9 = A.nextNode(), h5 = 0, r5 = 0, d3 = e10[0];
      for (; void 0 !== d3; ) {
        if (h5 === d3.index) {
          let i7;
          2 === d3.type ? i7 = new N(n9, n9.nextSibling, this, t5) : 1 === d3.type ? i7 = new d3.ctor(n9, d3.name, d3.strings, this, t5) : 6 === d3.type && (i7 = new I(n9, this, t5)), this.v.push(i7), d3 = e10[++r5];
        }
        h5 !== (null == d3 ? void 0 : d3.index) && (n9 = A.nextNode(), h5++);
      }
      return o8;
    }
    m(t5) {
      let i6 = 0;
      for (const s5 of this.v)
        void 0 !== s5 && (void 0 !== s5.strings ? (s5._$AI(t5, s5, i6), i6 += s5.strings.length - 2) : s5._$AI(t5[i6])), i6++;
    }
  };
  var N = class {
    constructor(t5, i6, s5, e10) {
      var o8;
      this.type = 2, this._$AH = w, this._$AN = void 0, this._$AA = t5, this._$AB = i6, this._$AM = s5, this.options = e10, this._$C_ = null === (o8 = null == e10 ? void 0 : e10.isConnected) || void 0 === o8 || o8;
    }
    get _$AU() {
      var t5, i6;
      return null !== (i6 = null === (t5 = this._$AM) || void 0 === t5 ? void 0 : t5._$AU) && void 0 !== i6 ? i6 : this._$C_;
    }
    get parentNode() {
      let t5 = this._$AA.parentNode;
      const i6 = this._$AM;
      return void 0 !== i6 && 11 === t5.nodeType && (t5 = i6.parentNode), t5;
    }
    get startNode() {
      return this._$AA;
    }
    get endNode() {
      return this._$AB;
    }
    _$AI(t5, i6 = this) {
      t5 = P(this, t5, i6), r3(t5) ? t5 === w || null == t5 || "" === t5 ? (this._$AH !== w && this._$AR(), this._$AH = w) : t5 !== this._$AH && t5 !== b && this.T(t5) : void 0 !== t5._$litType$ ? this.$(t5) : void 0 !== t5.nodeType ? this.k(t5) : u(t5) ? this.S(t5) : this.T(t5);
    }
    j(t5, i6 = this._$AB) {
      return this._$AA.parentNode.insertBefore(t5, i6);
    }
    k(t5) {
      this._$AH !== t5 && (this._$AR(), this._$AH = this.j(t5));
    }
    T(t5) {
      this._$AH !== w && r3(this._$AH) ? this._$AA.nextSibling.data = t5 : this.k(l2.createTextNode(t5)), this._$AH = t5;
    }
    $(t5) {
      var i6;
      const { values: s5, _$litType$: e10 } = t5, o8 = "number" == typeof e10 ? this._$AC(t5) : (void 0 === e10.el && (e10.el = C.createElement(e10.h, this.options)), e10);
      if ((null === (i6 = this._$AH) || void 0 === i6 ? void 0 : i6._$AD) === o8)
        this._$AH.m(s5);
      else {
        const t6 = new V(o8, this), i7 = t6.p(this.options);
        t6.m(s5), this.k(i7), this._$AH = t6;
      }
    }
    _$AC(t5) {
      let i6 = x.get(t5.strings);
      return void 0 === i6 && x.set(t5.strings, i6 = new C(t5)), i6;
    }
    S(t5) {
      d(this._$AH) || (this._$AH = [], this._$AR());
      const i6 = this._$AH;
      let s5, e10 = 0;
      for (const o8 of t5)
        e10 === i6.length ? i6.push(s5 = new N(this.j(h2()), this.j(h2()), this, this.options)) : s5 = i6[e10], s5._$AI(o8), e10++;
      e10 < i6.length && (this._$AR(s5 && s5._$AB.nextSibling, e10), i6.length = e10);
    }
    _$AR(t5 = this._$AA.nextSibling, i6) {
      var s5;
      for (null === (s5 = this._$AP) || void 0 === s5 || s5.call(this, false, true, i6); t5 && t5 !== this._$AB; ) {
        const i7 = t5.nextSibling;
        t5.remove(), t5 = i7;
      }
    }
    setConnected(t5) {
      var i6;
      void 0 === this._$AM && (this._$C_ = t5, null === (i6 = this._$AP) || void 0 === i6 || i6.call(this, t5));
    }
  };
  var S2 = class {
    constructor(t5, i6, s5, e10, o8) {
      this.type = 1, this._$AH = w, this._$AN = void 0, this.element = t5, this.name = i6, this._$AM = e10, this.options = o8, s5.length > 2 || "" !== s5[0] || "" !== s5[1] ? (this._$AH = Array(s5.length - 1).fill(new String()), this.strings = s5) : this._$AH = w;
    }
    get tagName() {
      return this.element.tagName;
    }
    get _$AU() {
      return this._$AM._$AU;
    }
    _$AI(t5, i6 = this, s5, e10) {
      const o8 = this.strings;
      let n9 = false;
      if (void 0 === o8)
        t5 = P(this, t5, i6, 0), n9 = !r3(t5) || t5 !== this._$AH && t5 !== b, n9 && (this._$AH = t5);
      else {
        const e11 = t5;
        let l7, h5;
        for (t5 = o8[0], l7 = 0; l7 < o8.length - 1; l7++)
          h5 = P(this, e11[s5 + l7], i6, l7), h5 === b && (h5 = this._$AH[l7]), n9 || (n9 = !r3(h5) || h5 !== this._$AH[l7]), h5 === w ? t5 = w : t5 !== w && (t5 += (null != h5 ? h5 : "") + o8[l7 + 1]), this._$AH[l7] = h5;
      }
      n9 && !e10 && this.P(t5);
    }
    P(t5) {
      t5 === w ? this.element.removeAttribute(this.name) : this.element.setAttribute(this.name, null != t5 ? t5 : "");
    }
  };
  var M = class extends S2 {
    constructor() {
      super(...arguments), this.type = 3;
    }
    P(t5) {
      this.element[this.name] = t5 === w ? void 0 : t5;
    }
  };
  var R = i2 ? i2.emptyScript : "";
  var k = class extends S2 {
    constructor() {
      super(...arguments), this.type = 4;
    }
    P(t5) {
      t5 && t5 !== w ? this.element.setAttribute(this.name, R) : this.element.removeAttribute(this.name);
    }
  };
  var H = class extends S2 {
    constructor(t5, i6, s5, e10, o8) {
      super(t5, i6, s5, e10, o8), this.type = 5;
    }
    _$AI(t5, i6 = this) {
      var s5;
      if ((t5 = null !== (s5 = P(this, t5, i6, 0)) && void 0 !== s5 ? s5 : w) === b)
        return;
      const e10 = this._$AH, o8 = t5 === w && e10 !== w || t5.capture !== e10.capture || t5.once !== e10.once || t5.passive !== e10.passive, n9 = t5 !== w && (e10 === w || o8);
      o8 && this.element.removeEventListener(this.name, this, e10), n9 && this.element.addEventListener(this.name, this, t5), this._$AH = t5;
    }
    handleEvent(t5) {
      var i6, s5;
      "function" == typeof this._$AH ? this._$AH.call(null !== (s5 = null === (i6 = this.options) || void 0 === i6 ? void 0 : i6.host) && void 0 !== s5 ? s5 : this.element, t5) : this._$AH.handleEvent(t5);
    }
  };
  var I = class {
    constructor(t5, i6, s5) {
      this.element = t5, this.type = 6, this._$AN = void 0, this._$AM = i6, this.options = s5;
    }
    get _$AU() {
      return this._$AM._$AU;
    }
    _$AI(t5) {
      P(this, t5);
    }
  };
  var L = { A: "$lit$", C: e3, M: o3, L: 1, R: E, V, D: u, I: P, H: N, N: S2, U: k, B: H, F: M, W: I };
  var z = window.litHtmlPolyfillSupport;
  null == z || z(C, N), (null !== (t2 = globalThis.litHtmlVersions) && void 0 !== t2 ? t2 : globalThis.litHtmlVersions = []).push("2.2.7");

  // node_modules/lit-element/lit-element.js
  var l3;
  var o4;
  var s4 = class extends a {
    constructor() {
      super(...arguments), this.renderOptions = { host: this }, this._$Do = void 0;
    }
    createRenderRoot() {
      var t5, e10;
      const i6 = super.createRenderRoot();
      return null !== (t5 = (e10 = this.renderOptions).renderBefore) && void 0 !== t5 || (e10.renderBefore = i6.firstChild), i6;
    }
    update(t5) {
      const i6 = this.render();
      this.hasUpdated || (this.renderOptions.isConnected = this.isConnected), super.update(t5), this._$Do = T(i6, this.renderRoot, this.renderOptions);
    }
    connectedCallback() {
      var t5;
      super.connectedCallback(), null === (t5 = this._$Do) || void 0 === t5 || t5.setConnected(true);
    }
    disconnectedCallback() {
      var t5;
      super.disconnectedCallback(), null === (t5 = this._$Do) || void 0 === t5 || t5.setConnected(false);
    }
    render() {
      return b;
    }
  };
  s4.finalized = true, s4._$litElement$ = true, null === (l3 = globalThis.litElementHydrateSupport) || void 0 === l3 || l3.call(globalThis, { LitElement: s4 });
  var n4 = globalThis.litElementPolyfillSupport;
  null == n4 || n4({ LitElement: s4 });
  (null !== (o4 = globalThis.litElementVersions) && void 0 !== o4 ? o4 : globalThis.litElementVersions = []).push("3.2.2");

  // node_modules/@lit/reactive-element/decorators/custom-element.js
  var n5 = (n9) => (e10) => "function" == typeof e10 ? ((n10, e11) => (window.customElements.define(n10, e11), e11))(n9, e10) : ((n10, e11) => {
    const { kind: t5, elements: i6 } = e11;
    return { kind: t5, elements: i6, finisher(e12) {
      window.customElements.define(n10, e12);
    } };
  })(n9, e10);

  // node_modules/@lit/reactive-element/decorators/property.js
  var i3 = (i6, e10) => "method" === e10.kind && e10.descriptor && !("value" in e10.descriptor) ? __spreadProps(__spreadValues({}, e10), { finisher(n9) {
    n9.createProperty(e10.key, i6);
  } }) : { kind: "field", key: Symbol(), placement: "own", descriptor: {}, originalKey: e10.key, initializer() {
    "function" == typeof e10.initializer && (this[e10.key] = e10.initializer.call(this));
  }, finisher(n9) {
    n9.createProperty(e10.key, i6);
  } };
  function e4(e10) {
    return (n9, t5) => void 0 !== t5 ? ((i6, e11, n10) => {
      e11.constructor.createProperty(n10, i6);
    })(e10, n9, t5) : i3(e10, n9);
  }

  // node_modules/@lit/reactive-element/decorators/state.js
  function t3(t5) {
    return e4(__spreadProps(__spreadValues({}, t5), { state: true }));
  }

  // node_modules/@lit/reactive-element/decorators/base.js
  var o5 = ({ finisher: e10, descriptor: t5 }) => (o8, n9) => {
    var r5;
    if (void 0 === n9) {
      const n10 = null !== (r5 = o8.originalKey) && void 0 !== r5 ? r5 : o8.key, i6 = null != t5 ? { kind: "method", placement: "prototype", key: n10, descriptor: t5(o8.key) } : __spreadProps(__spreadValues({}, o8), { key: n10 });
      return null != e10 && (i6.finisher = function(t6) {
        e10(t6, n10);
      }), i6;
    }
    {
      const r6 = o8.constructor;
      void 0 !== t5 && Object.defineProperty(o8, n9, t5(n9)), null == e10 || e10(r6, n9);
    }
  };

  // node_modules/@lit/reactive-element/decorators/query.js
  function i4(i6, n9) {
    return o5({ descriptor: (o8) => {
      const t5 = { get() {
        var o9, n10;
        return null !== (n10 = null === (o9 = this.renderRoot) || void 0 === o9 ? void 0 : o9.querySelector(i6)) && void 0 !== n10 ? n10 : null;
      }, enumerable: true, configurable: true };
      if (n9) {
        const n10 = "symbol" == typeof o8 ? Symbol() : "__" + o8;
        t5.get = function() {
          var o9, t6;
          return void 0 === this[n10] && (this[n10] = null !== (t6 = null === (o9 = this.renderRoot) || void 0 === o9 ? void 0 : o9.querySelector(i6)) && void 0 !== t6 ? t6 : null), this[n10];
        };
      }
      return t5;
    } });
  }

  // node_modules/@lit/reactive-element/decorators/query-assigned-elements.js
  var n6;
  var e5 = null != (null === (n6 = window.HTMLSlotElement) || void 0 === n6 ? void 0 : n6.prototype.assignedElements) ? (o8, n9) => o8.assignedElements(n9) : (o8, n9) => o8.assignedNodes(n9).filter((o9) => o9.nodeType === Node.ELEMENT_NODE);

  // ui/components/CodeEditor.ts
  var ace2 = __toESM(require_ace());
  var import_ext_language_tools = __toESM(require_ext_language_tools());
  ace2.config.set("basePath", "/static/ace");
  var { user_info, exercise_details } = window.templateData;
  var UndoManager = ace2.require("ace/undomanager").UndoManager;
  var CodeEditor = class extends s4 {
    constructor() {
      super(...arguments);
      this.resizeObserver = new ResizeObserver(this.resize);
    }
    firstUpdated() {
      this.editor = ace2.edit(this.renderRoot.querySelector(".editor"), {
        theme: `ace/theme/${user_info.ace_theme}`,
        fontSize: "12pt",
        wrap: true
      });
      if (user_info["enable_vim"]) {
        this.editor.setKeyboardHandler("ace/keyboard/vim");
      }
      if (user_info["use_auto_complete"] && exercise_details["back_end"] != "not_code") {
        this.editor.setOptions({
          enableBasicAutocompletion: false,
          enableSnippets: true,
          enableLiveAutocompletion: true
        });
      }
      this.editor.commands.addCommands([
        {
          name: "undo",
          bindKey: { win: "Ctrl-Z", mac: "Command-Z" },
          exec: function(editor) {
            editor.session.getUndoManager().undo(editor.session);
          }
        },
        {
          name: "redo1",
          bindKey: { win: "Ctrl-Shift-Z", mac: "Command-Shift-Z" },
          exec: function(editor) {
            editor.session.getUndoManager().redo(editor.session);
          }
        },
        {
          name: "redo2",
          bindKey: { win: "Ctrl-Y", mac: "Command-Y" },
          exec: function(editor) {
            editor.session.getUndoManager().redo(editor.session);
          }
        }
      ]);
      this.resizeObserver.observe(this);
      this.editor.focus();
    }
    disconnectedCallback() {
      this.resizeObserver.disconnect();
    }
    resize() {
      var _a3;
      (_a3 = this.editor) == null ? void 0 : _a3.resize();
    }
    render() {
      return $`
			<div class="editor-container">
				<div class="editor"></div>
			</div>
		`;
    }
    setSession(session) {
      return __async(this, null, function* () {
        var _a3;
        if (!this.editor) {
          yield this.updateComplete;
        }
        if (exercise_details["back_end"] === "not_code") {
          session.setUseWrapMode(true);
        }
        (_a3 = this.editor) == null ? void 0 : _a3.setSession(session);
      });
    }
    setReadOnly(readOnly) {
      return __async(this, null, function* () {
        var _a3;
        if (!this.editor) {
          yield this.updateComplete;
        }
        (_a3 = this.editor) == null ? void 0 : _a3.setReadOnly(readOnly);
      });
    }
  };
  __decorateClass([
    bind_default
  ], CodeEditor.prototype, "resize", 1);
  CodeEditor = __decorateClass([
    n5("code-editor")
  ], CodeEditor);

  // ui/utils/monaco.ts
  var monacoPromise;
  function getMonaco() {
    return __async(this, null, function* () {
      if (!monacoPromise) {
        monacoPromise = new Promise((resolve) => {
          const script = document.createElement("script");
          script.src = `/static/monaco/min/vs/loader.js`;
          script.onload = () => {
            const w2 = window;
            w2.require.config({ paths: { "vs": `/static/monaco/min/vs` } });
            w2.require(["vs/editor/editor.main"], function() {
              resolve(window.monaco);
            });
          };
          document.head.appendChild(script);
        });
      }
      return monacoPromise;
    });
  }

  // ui/components/DiffViewer.ts
  var DiffViewer = class extends s4 {
    constructor() {
      super();
      this.resizeObserver = new ResizeObserver(this.resize);
    }
    render() {
      return $`<div></div>`;
    }
    firstUpdated() {
      return __async(this, null, function* () {
        var _a3, _b2;
        const monaco = yield getMonaco();
        const left = monaco.editor.createModel((_a3 = this.left) != null ? _a3 : "", "text/plain");
        const right = monaco.editor.createModel((_b2 = this.right) != null ? _b2 : "", "text/plain");
        this.editor = monaco.editor.createDiffEditor(this.renderRoot.querySelector("div"), {
          fontSize: 14,
          domReadOnly: true,
          readOnly: true,
          minimap: { enabled: false },
          scrollbar: {
            alwaysConsumeMouseWheel: true
          },
          scrollBeyondLastLine: false,
          ignoreTrimWhitespace: false,
          renderWhitespace: "all"
        });
        this.editor.setModel({
          original: left,
          modified: right
        });
        this.resizeObserver.observe(this);
      });
    }
    resize() {
      var _a3;
      (_a3 = this.editor) == null ? void 0 : _a3.layout();
    }
  };
  __decorateClass([
    e4()
  ], DiffViewer.prototype, "left", 2);
  __decorateClass([
    e4()
  ], DiffViewer.prototype, "right", 2);
  __decorateClass([
    bind_default
  ], DiffViewer.prototype, "resize", 1);
  DiffViewer = __decorateClass([
    n5("diff-viewer")
  ], DiffViewer);

  // ui/components/SplitPane.ts
  var GUTTER_SIZE = 12;
  var SplitPane = class extends s4 {
    constructor() {
      super(...arguments);
      this.direction = "vertical";
      this.fixedSide = "first";
      this.minSizes = [0, 0];
      this.defaultSplit = 0.5;
      this._currentSplit = 0;
      this.resizeObserver = new ResizeObserver(this.onResize);
    }
    get currentSplit() {
      return this._currentSplit;
    }
    set currentSplit(val) {
      this._currentSplit = val;
      if (this.cacheID) {
        window.localStorage.setItem(`split-${this.cacheID}`, val.toString());
      }
    }
    firstUpdated() {
      let defaultSplit = this.defaultSplit;
      if (this.cacheID) {
        const cachedVal = window.localStorage.getItem(`split-${this.cacheID}`);
        if (cachedVal == null ? void 0 : cachedVal.length) {
          const cachedNum = Number(cachedVal);
          if (cachedNum >= 0 && cachedNum <= 1) {
            defaultSplit = cachedNum;
          }
        }
      }
      this.currentSplit = defaultSplit;
      this.resizeObserver.observe(this.parent);
      this.setSizes();
    }
    disconnectedCallback() {
      this.resizeObserver.disconnect();
    }
    onResize() {
      const parentRect = this.parent.getBoundingClientRect();
      const fullSize = this.direction === "horizontal" ? parentRect.height : parentRect.width;
      const property = this.direction === "horizontal" ? "height" : "width";
      if (this.fixedSide === "first") {
        const firstSize = Number(this.firstContainer.style[property].replace("px", ""));
        this.currentSplit = (firstSize + GUTTER_SIZE / 2) / fullSize;
      } else {
        const secondtSize = Number(this.secondContainer.style[property].replace("px", ""));
        this.currentSplit = 1 - (secondtSize + GUTTER_SIZE / 2) / fullSize;
      }
      this.setSizes();
    }
    setSizes() {
      if (this.currentSplit < 0) {
        this.currentSplit = 0;
      } else if (this.currentSplit > 1) {
        this.currentSplit = 1;
      }
      const minTotalSize = this.minSizes[0] + this.minSizes[1] + GUTTER_SIZE;
      const property = this.direction === "horizontal" ? "height" : "width";
      const parentRect = this.parent.getBoundingClientRect();
      const fullSize = this.direction === "horizontal" ? parentRect.height : parentRect.width;
      let firstSize = fullSize * this.currentSplit - GUTTER_SIZE / 2;
      let secondSize = fullSize * (1 - this.currentSplit) - GUTTER_SIZE / 2;
      if (minTotalSize <= fullSize) {
        if (firstSize < this.minSizes[0]) {
          firstSize = this.minSizes[0];
          secondSize = fullSize - firstSize - GUTTER_SIZE;
        } else if (secondSize < this.minSizes[1]) {
          secondSize = this.minSizes[1];
          firstSize = fullSize - secondSize - GUTTER_SIZE;
        }
        this.currentSplit = (firstSize + GUTTER_SIZE / 2) / fullSize;
      } else {
        this.currentSplit = (this.minSizes[0] + GUTTER_SIZE / 1) / minTotalSize;
        firstSize = fullSize * this.currentSplit - GUTTER_SIZE / 2;
        secondSize = fullSize * (1 - this.currentSplit) - GUTTER_SIZE / 2;
      }
      this.firstContainer.style[property] = `${firstSize}px`;
      this.secondContainer.style[property] = `${secondSize}px`;
      if (this.resizeCallback) {
        this.resizeCallback();
      }
    }
    onDown() {
      document.body.style.cursor = this.direction === "horizontal" ? "row-resize" : "col-resize";
      this.firstContainer.style.userSelect = "none";
      this.firstContainer.style.pointerEvents = "none";
      this.secondContainer.style.userSelect = "none";
      this.secondContainer.style.pointerEvents = "none";
      const handlePointerMove = (e10) => {
        const pos = this.direction === "horizontal" ? e10.clientY : e10.clientX;
        const parentRect = this.parent.getBoundingClientRect();
        const fullSize = this.direction === "horizontal" ? parentRect.height : parentRect.width;
        const relativeDistance = this.direction === "horizontal" ? pos - parentRect.top : pos - parentRect.left;
        this.currentSplit = relativeDistance / fullSize;
        this.setSizes();
      };
      const handlePointerUp = () => {
        document.body.style.cursor = "";
        this.firstContainer.style.userSelect = "";
        this.firstContainer.style.pointerEvents = "";
        this.secondContainer.style.userSelect = "";
        this.secondContainer.style.pointerEvents = "";
        window.removeEventListener("pointermove", handlePointerMove);
        window.removeEventListener("pointerup", handlePointerUp);
      };
      window.addEventListener("pointermove", handlePointerMove, { passive: true });
      window.addEventListener("pointerup", handlePointerUp, { passive: true });
    }
    onDoubleClick() {
      if (this.currentSplit === this.defaultSplit) {
        this.currentSplit = 1 - this.defaultSplit;
      } else {
        this.currentSplit = this.defaultSplit;
      }
      this.setSizes();
    }
    render() {
      return $`
		  	<div  class="split ${this.direction}">
				<div class="split-first">
					${this.first}
				</div>
				<div class="gutter" @pointerdown=${this.onDown} @dblclick=${this.onDoubleClick}>
					<i class="fas fa-ellipsis-v"></i>
				</div>
				<div class="split-second">
					${this.second}
				</div>
			</div>
		`;
    }
  };
  __decorateClass([
    e4()
  ], SplitPane.prototype, "direction", 2);
  __decorateClass([
    e4()
  ], SplitPane.prototype, "fixedSide", 2);
  __decorateClass([
    e4({ attribute: false })
  ], SplitPane.prototype, "minSizes", 2);
  __decorateClass([
    e4()
  ], SplitPane.prototype, "cacheID", 2);
  __decorateClass([
    e4()
  ], SplitPane.prototype, "first", 2);
  __decorateClass([
    e4()
  ], SplitPane.prototype, "second", 2);
  __decorateClass([
    e4({ type: Number })
  ], SplitPane.prototype, "defaultSplit", 2);
  __decorateClass([
    t3()
  ], SplitPane.prototype, "_currentSplit", 2);
  __decorateClass([
    i4(".split")
  ], SplitPane.prototype, "parent", 2);
  __decorateClass([
    i4(".split-first")
  ], SplitPane.prototype, "firstContainer", 2);
  __decorateClass([
    i4(".split-second")
  ], SplitPane.prototype, "secondContainer", 2);
  __decorateClass([
    bind_default
  ], SplitPane.prototype, "onResize", 1);
  __decorateClass([
    bind_default
  ], SplitPane.prototype, "setSizes", 1);
  __decorateClass([
    bind_default
  ], SplitPane.prototype, "onDown", 1);
  __decorateClass([
    bind_default
  ], SplitPane.prototype, "onDoubleClick", 1);
  SplitPane = __decorateClass([
    n5("split-pane")
  ], SplitPane);

  // ui/utils/request.ts
  function postFormData(url, data, parseResponse = true) {
    return __async(this, null, function* () {
      const formData = new FormData();
      for (const key in data) {
        formData.append(key, data[key]);
      }
      const response = yield fetch(url, {
        method: "POST",
        body: formData
      });
      if (!parseResponse) {
        return null;
      }
      try {
        return yield response.json();
      } catch (e10) {
        console.error(e10);
        return null;
      }
    });
  }
  function get(url) {
    return __async(this, null, function* () {
      const response = yield fetch(url, {
        method: "GET"
      });
      try {
        return yield response.json();
      } catch (e10) {
        console.error(e10);
        return null;
      }
    });
  }

  // ui/utils/exercise-service.ts
  function copyExercise(courseID2, assignmentID2, exerciseID2, newTitle) {
    return __async(this, null, function* () {
      const response = yield postFormData(`/copy_exercise/${courseID2}/${assignmentID2}/${exerciseID2}`, { "new_title": newTitle });
      if (response.result != "") {
        return response.result;
      } else {
        location.reload();
        return;
      }
    });
  }
  function runCode(courseID2, assignmentID2, exerciseID2, userCode, test) {
    return __async(this, null, function* () {
      let url = `/run_code/${courseID2}/${assignmentID2}/${exerciseID2}`;
      if (test) {
        url += `?test=${encodeURIComponent(test)}`;
      }
      return yield postFormData(url, { "user_code": userCode });
    });
  }
  function submitCode(courseID2, assignmentID2, exerciseID2, userCode, partnerID = "") {
    return __async(this, null, function* () {
      let url = `/submit/${courseID2}/${assignmentID2}/${exerciseID2}`;
      const data = { "code": userCode, "date": new Date().toLocaleString("en-US", { timeZone: "UTC" }), partner_id: partnerID };
      return yield postFormData(url, data);
    });
  }
  function savePresubmission(courseID2, assignmentID2, exerciseID2, userCode) {
    return __async(this, null, function* () {
      let url = `/save_presubmission/${courseID2}/${assignmentID2}/${exerciseID2}`;
      yield postFormData(url, { "user_code": userCode }, false);
    });
  }
  function getPartnerID(courseID2, name2) {
    return __async(this, null, function* () {
      return yield get(`/get_partner_id/${courseID2}/${encodeURIComponent(name2)}`);
    });
  }
  function isTakingRestrictedAssignment(userID, assignmentID2) {
    return __async(this, null, function* () {
      return yield get(`/is_taking_restricted_assignment/${userID}/${assignmentID2}`);
    });
  }

  // ui/pages/exercise/components/Timer.ts
  var { user_id, timer_deadline, assignment_details, course_basics, assignment_basics, check_for_restrict_other_assignments } = window.templateData;
  var Timer = class extends s4 {
    constructor() {
      super();
      this.is_admin = false;
      this.has_shown_timer_warning = false;
      this.is_admin = window.templateData.is_administrator || window.templateData.is_instructor || window.templateData.is_assistant;
    }
    updated(changedProperties) {
      super.updated(changedProperties);
      if (!this.is_admin) {
        if (assignment_details.has_timer || assignment_details.due_date) {
          this.checkEverySecond();
          setInterval(this.checkEverySecond, 1e3);
        }
        if (check_for_restrict_other_assignments) {
          this.checkEveryMinute();
          setInterval(this.checkEveryMinute, 6e4);
        }
      }
    }
    render() {
      if (!assignment_details.has_timer || this.is_admin) {
        return $``;
      }
      return $`<a id="timer_button" class="button is-medium is-hidden is-warning mb-4" style="cursor: auto;"></a>`;
    }
    checkEverySecond() {
      return __async(this, null, function* () {
        var reload = false;
        if (assignment_details.has_timer) {
          let deadline = new Date(timer_deadline);
          deadline.setMinutes(deadline.getMinutes() - deadline.getTimezoneOffset());
          const total = deadline.getTime() - Date.now();
          const hours = Math.floor(total / (1e3 * 60 * 60) % 24);
          const minutes = Math.floor(total / 1e3 / 60 % 60);
          const seconds = Math.floor(total / 1e3 % 60);
          if (total < 12e4 && !this.has_shown_timer_warning) {
            alert("Less than 2 minutes remaining.");
            this.has_shown_timer_warning = true;
          }
          if (hours <= 0 && minutes <= 0 && seconds <= 0) {
            reload = true;
          } else {
            let timer_button = document.getElementById("timer_button");
            if (timer_button) {
              timer_button.classList.remove("is-hidden");
              timer_button.innerHTML = `<strong>Time remaining: ${hours}h ${minutes}m ${seconds}s</strong>`;
            }
          }
        }
        if (!reload && assignment_details.due_date && !assignment_details.allow_late && !assignment_details.view_answer_late) {
          let due_date = new Date(assignment_details.due_date);
          due_date.setMinutes(due_date.getMinutes() - due_date.getTimezoneOffset());
          if (Date.now() > due_date.getTime()) {
            reload = true;
          }
        }
        if (reload) {
          setTimeout(() => {
            window.location.replace(`/assignment/${course_basics["id"]}/${assignment_basics["id"]}`);
          }, 1e3);
        }
      });
    }
    checkEveryMinute() {
      return __async(this, null, function* () {
        if (check_for_restrict_other_assignments) {
          if (yield isTakingRestrictedAssignment(user_id, assignment_basics.id)) {
            setTimeout(() => {
              window.location.replace(`/assignment/${course_basics["id"]}/${assignment_basics["id"]}`);
            }, 1e3);
          }
        }
      });
    }
  };
  Timer = __decorateClass([
    n5("exercise-timer")
  ], Timer);

  // node_modules/lit-html/directive.js
  var t4 = { ATTRIBUTE: 1, CHILD: 2, PROPERTY: 3, BOOLEAN_ATTRIBUTE: 4, EVENT: 5, ELEMENT: 6 };
  var e6 = (t5) => (...e10) => ({ _$litDirective$: t5, values: e10 });
  var i5 = class {
    constructor(t5) {
    }
    get _$AU() {
      return this._$AM._$AU;
    }
    _$AT(t5, e10, i6) {
      this._$Ct = t5, this._$AM = e10, this._$Ci = i6;
    }
    _$AS(t5, e10) {
      return this.update(t5, e10);
    }
    update(t5, e10) {
      return this.render(...e10);
    }
  };

  // node_modules/lit-html/directives/unsafe-html.js
  var e7 = class extends i5 {
    constructor(i6) {
      if (super(i6), this.it = w, i6.type !== t4.CHILD)
        throw Error(this.constructor.directiveName + "() can only be used in child bindings");
    }
    render(r5) {
      if (r5 === w || null == r5)
        return this._t = void 0, this.it = r5;
      if (r5 === b)
        return r5;
      if ("string" != typeof r5)
        throw Error(this.constructor.directiveName + "() called with a non-string value");
      if (r5 === this.it)
        return this._t;
      this.it = r5;
      const s5 = [r5];
      return s5.raw = s5, this._t = { _$litType$: this.constructor.resultType, strings: s5, values: [] };
    }
  };
  e7.directiveName = "unsafeHTML", e7.resultType = 1;
  var o6 = e6(e7);

  // ui/pages/exercise/components/TestsPane.ts
  var import_bulma_collapsible = __toESM(require_bulma_collapsible_min());
  var { exercise_details: exercise_details2, exercise_basics, course_basics: course_basics2, assignment_basics: assignment_basics2, users } = window.templateData;
  users == null ? void 0 : users.sort();
  var TestsPane = class extends s4 {
    constructor() {
      super();
      this.numSubmissions = 0;
      this.hasPassingSubmission = false;
      this.testOutputs = {};
      this.errorMessage = "";
      this.peerProgrammingModalOpen = false;
      this.tests = [];
      const testMap = exercise_details2.tests;
      for (const testName in testMap) {
        if (testMap.hasOwnProperty(testName)) {
          const test = testMap[testName];
          test.name = testName;
          test.status = "unknown" /* Unknown */;
          this.tests.push(test);
        }
      }
      this.tests.sort((a3, b2) => a3.test_id - b2.test_id);
    }
    render() {
      var _a3;
      let testsRunning = this.tests.some((test) => test.status === "running" /* Running */);
      const madeAllSubmissions = exercise_details2.max_submissions > 0 && exercise_details2.max_submissions === this.numSubmissions;
      return $`
			<div class="tests-pane">
				<div class="tests-header">
					<p>Tests</p>
					<div style="display: flex; flex-direction: column;">
						<div class="field is-grouped" style="justify-content: flex-end;">
							<div class="control">
								<button ?disabled=${testsRunning || this.activeSubmission} class="button is-primary is-outlined ${window.templateData.assignment_details.show_run_button ? "" : "is-hidden"}" @click=${() => this.runCode()}>Run all</button>
							</div>
							<div class="field has-addons">
								<!-- <p class="control">
									<button class="button">
										<i class="fab fa-product-hunt"></i>
										<span style="margin: 0 6px;">Select partner</span>
										<i class="fas fa-caret-down"></i>
									</button>
								</p> -->
								<p class="control">
									<button ?disabled=${testsRunning || this.activeSubmission || madeAllSubmissions} class="button is-dark" @click=${() => this.handleSubmit()}>Submit</button>
								</p>
							</div>
						</div>
						${exercise_details2.max_submissions > 0 ? $`
							<span>You have made ${this.numSubmissions} of ${exercise_details2.max_submissions} allowed submission(s).</span>
						` : null}
					</div>
				</div>
				${this.activeSubmission ? $`
					<article class="message ${this.activeSubmission.passed ? "is-primary" : "is-warning"}">
						<div class="message-header">
							<p>
								${this.activeSubmission.passed ? "This submission passed all tests!" : "This submission did not pass all tests."}	
							</p>
						</div>
					</article>					
				` : $`
					${((_a3 = this.errorMessage) == null ? void 0 : _a3.length) > 0 ? $`
						<article class="message is-danger">
							<div class="message-header">
								<p>An error occurred while your code was being processed.</p>
								<button class="delete" aria-label="delete" @click=${() => this.errorMessage = ""}></button>
							</div>
							<div class="message-body">
								${o6(this.errorMessage)}
							</div>
						</article>
					` : null}
					${this.hasPassingSubmission || this.allPassing ? $`
						<article class="message is-primary">
							<div class="message-header">
								${this.hasPassingSubmission ? $`<p>Exercise complete</p>` : $`<p>All test passed!</p>`}
							</div>
							<div class="message-body">
								${this.hasPassingSubmission ? $`
									<p>One or more of your submissions has passed all of the tests.</p>
									<p>You may continue to modify and submit your code if you wish to change your solution.</p>
									<br>
								` : $`
									<p>Be sure to click on Submit so your solution and score will be saved.</p>
								`}
								${this.hasPassingSubmission && this.selectPassingSubmission ? $`
									<p><a href="javascript:void(0);" @click=${this.selectPassingSubmission}>View</a> your latest passing solution.</p>
								` : null}
								${this.hasPassingSubmission && exercise_details2.show_instructor_solution ? $`
									<p><a href="/view_instructor_solution/${course_basics2.id}/${assignment_basics2.id}/${exercise_basics.id}">View</a> the instructor's solution.</p>
								` : null}
								${this.hasPassingSubmission && exercise_details2.show_peer_solution ? $`
								<p><a href="/view_peer_solution/${course_basics2.id}/${assignment_basics2.id}/${exercise_basics.id}">View</a> a solution from one of your peers.</p>
							` : null}
							</div>
						</article>
					` : null}
				`}
				${!this.activeSubmission || Object.keys(this.activeSubmission.test_outputs).length > 0 ? $`
					<table class="table is-fullwidth is-hoverable" style="margin-bottom: 20px;">
						<thead>
							<tr>
								<th>Status</th>
								<th style="width: 100%;">Test</th>
								<th></th>
							</tr>
						</thead>
						<tbody>
							${this.renderTestTable()}
						</tbody>
					</table>
				` : null}
			</div>
			<peer-programming-modal
				.open=${this.peerProgrammingModalOpen}
				.onClose=${() => this.peerProgrammingModalOpen = false}
				.onSubmit=${this.submitCode}
			></peer-programming-modal>
		`;
    }
    renderTestTable() {
      return this.tests.map((test) => {
        var _a3, _b2, _c, _d, _e, _f, _g, _h;
        let txt_output = (_b2 = (_a3 = this.testOutputs[test.name]) == null ? void 0 : _a3.txt_output) != null ? _b2 : "";
        let jpg_output = (_d = (_c = this.testOutputs[test.name]) == null ? void 0 : _c.jpg_output) != null ? _d : "";
        let image_diff = (_f = (_e = this.testOutputs[test.name]) == null ? void 0 : _e.diff_output) != null ? _f : "";
        let status = test.status;
        if ((_g = this.activeSubmission) == null ? void 0 : _g.test_outputs[test.name]) {
          const output = (_h = this.activeSubmission) == null ? void 0 : _h.test_outputs[test.name];
          txt_output = output.txt_output;
          jpg_output = output.jpg_output;
          status = output.passed ? "passed" /* Passed */ : "failed" /* Failed */;
          image_diff = "";
        }
        return $`
				<tr class=${test.status} @click=${this.clickRow}>
					<td class="test-status">${this.getStatusIcon(status)}</td>
					<td>${test.name}</td>
					<td>
						<test-results-modal
							.test=${test}
							.runTest=${!this.activeSubmission && window.templateData.assignment_details.show_run_button ? this.runCode : null}
							.testStatus=${status}
							.expectedOutput=${test.txt_output}
							.expectedImageOutput=${test.jpg_output}
							.imageDiff=${image_diff}
							.userOutput=${txt_output}
							.userImageOutput=${jpg_output}
						></test-results-modal>
					</td>
				</tr>
			`;
      });
    }
    clickRow(e10) {
      var _a3, _b2;
      if (e10.target instanceof Element) {
        if (e10.target.nodeName === "BUTTON") {
          return;
        }
        const modal = (_b2 = (_a3 = e10.target.closest("tr")) == null ? void 0 : _a3.querySelector("test-results-modal")) != null ? _b2 : null;
        if (modal) {
          modal.openModal();
        }
      }
    }
    getStatusIcon(status) {
      switch (status) {
        case "passed" /* Passed */:
          return $`<i class="fas fa-check passed has-tooltip-right" data-tooltip="Passed"></i>`;
        case "failed" /* Failed */:
          return $`<i class="fas fa-times failed has-tooltip-right" data-tooltip="Failed"></i>`;
        case "running" /* Running */:
          return $`<i class="fas fa-spinner fa-spin running has-tooltip-right" data-tooltip="Running"></i>`;
        default:
          return $``;
      }
    }
    runCode(testName) {
      return __async(this, null, function* () {
        for (const test of this.tests) {
          if (!testName || testName === test.name) {
            test.status = "running" /* Running */;
          }
        }
        this.requestUpdate();
        const code = this.getCode();
        if (!code.trim().length) {
          return;
        }
        const result = yield runCode(course_basics2.id, assignment_basics2.id, exercise_basics.id, code, testName);
        this.processResult(result);
        this.requestUpdate();
      });
    }
    handleSubmit() {
      return __async(this, null, function* () {
        if (exercise_details2.enable_pair_programming) {
          this.peerProgrammingModalOpen = true;
        } else {
          yield this.submitCode();
        }
      });
    }
    submitCode(partnerID = "") {
      return __async(this, null, function* () {
        var _a3;
        if (this.peerProgrammingModalOpen) {
          this.peerProgrammingModalOpen = false;
        }
        for (const test of this.tests) {
          test.status = "running" /* Running */;
        }
        this.requestUpdate();
        const code = this.getCode();
        if (!code.trim().length) {
          return;
        }
        const result = yield submitCode(course_basics2.id, assignment_basics2.id, exercise_basics.id, code, partnerID);
        this.processResult(result);
        this.requestUpdate();
        if (result.submission_id) {
          (_a3 = this.addSubmission) == null ? void 0 : _a3.call(this, {
            id: result.submission_id,
            date: new Date(),
            code,
            passed: !!result.all_passed,
            test_outputs: JSON.parse(JSON.stringify(result.test_outputs))
          });
        }
      });
    }
    processResult(result) {
      var _a3, _b2;
      if (((_a3 = result.message) == null ? void 0 : _a3.length) > 0) {
        for (const test of this.tests) {
          test.status = "failed" /* Failed */;
        }
        this.errorMessage = result.message;
      } else {
        for (const test of this.tests) {
          if (result.test_outputs[test.name]) {
            test.status = ((_b2 = result.test_outputs[test.name]) == null ? void 0 : _b2.passed) ? "passed" /* Passed */ : "failed" /* Failed */;
          }
        }
        Object.assign(this.testOutputs, result.test_outputs);
      }
    }
    get allPassing() {
      var _a3;
      if (!((_a3 = this.tests) == null ? void 0 : _a3.length)) {
        return false;
      }
      for (const test of this.tests) {
        if (test.status !== "passed" /* Passed */) {
          return false;
        }
      }
      return true;
    }
  };
  __decorateClass([
    e4()
  ], TestsPane.prototype, "activeSubmission", 2);
  __decorateClass([
    e4()
  ], TestsPane.prototype, "numSubmissions", 2);
  __decorateClass([
    e4()
  ], TestsPane.prototype, "addSubmission", 2);
  __decorateClass([
    e4()
  ], TestsPane.prototype, "hasPassingSubmission", 2);
  __decorateClass([
    e4()
  ], TestsPane.prototype, "selectPassingSubmission", 2);
  __decorateClass([
    t3()
  ], TestsPane.prototype, "tests", 2);
  __decorateClass([
    t3()
  ], TestsPane.prototype, "testOutputs", 2);
  __decorateClass([
    t3()
  ], TestsPane.prototype, "errorMessage", 2);
  __decorateClass([
    t3()
  ], TestsPane.prototype, "peerProgrammingModalOpen", 2);
  __decorateClass([
    bind_default
  ], TestsPane.prototype, "clickRow", 1);
  __decorateClass([
    bind_default
  ], TestsPane.prototype, "runCode", 1);
  __decorateClass([
    bind_default
  ], TestsPane.prototype, "handleSubmit", 1);
  __decorateClass([
    bind_default
  ], TestsPane.prototype, "submitCode", 1);
  TestsPane = __decorateClass([
    n5("tests-pane")
  ], TestsPane);
  var PeerProgrammingModal = class extends s4 {
    constructor() {
      super(...arguments);
      this.open = false;
      this.partner = "";
    }
    render() {
      return $`
			<div class="modal${this.open ? " is-active" : ""}">
				<div class="modal-background" @click=${this.onClose}></div>
					<div class="modal-card">
						<header class="modal-card-head">
							<p class="modal-card-title">Pair programming</p>
							<button class="delete" aria-label="close" @click=${this.onClose}></button>
						</header>
						<section class="modal-card-body">
							<p>Select your pair programming partner here. If you are working on the exercise without a partner, leave this field blank.</p>
							<div class="select" style="margin: 16px 0px;">
								<select value=${this.partner} @change=${this.handleChange}>
									<option value="">Select partner...</option>
									${users == null ? void 0 : users.map((user) => $`<option value=${user}>${user}</option>`)}
								</select>
							</div>

							<div class="field is-grouped">
								<p class="control">
									<button class="button is-primary is-outlined" @click=${this.submit}>Submit</button>
								</p>
							</div>
						</section>
					</div>
				</div>
			</div>
		`;
    }
    handleChange(e10) {
      console.log(e10);
      if (e10.target instanceof HTMLSelectElement) {
        this.partner = e10.target.value;
      }
    }
    submit() {
      return __async(this, null, function* () {
        var _a3;
        let partnerID = "";
        if (this.partner) {
          partnerID = yield getPartnerID(course_basics2.id, this.partner);
          if (typeof partnerID !== "string") {
            partnerID = "";
          }
        }
        (_a3 = this.onSubmit) == null ? void 0 : _a3.call(this, partnerID);
      });
    }
  };
  __decorateClass([
    e4()
  ], PeerProgrammingModal.prototype, "open", 2);
  __decorateClass([
    e4()
  ], PeerProgrammingModal.prototype, "onClose", 2);
  __decorateClass([
    e4()
  ], PeerProgrammingModal.prototype, "onSubmit", 2);
  __decorateClass([
    t3()
  ], PeerProgrammingModal.prototype, "partner", 2);
  __decorateClass([
    bind_default
  ], PeerProgrammingModal.prototype, "handleChange", 1);
  __decorateClass([
    bind_default
  ], PeerProgrammingModal.prototype, "submit", 1);
  PeerProgrammingModal = __decorateClass([
    n5("peer-programming-modal")
  ], PeerProgrammingModal);
  var TestResultsModal = class extends s4 {
    constructor() {
      super(...arguments);
      this.instanceID = TestResultsModal.nextID++;
      this.opened = false;
      this.collapsibles = [];
      this.open = false;
      this.currentTab = "Plain Output" /* Plain */;
      this.tabOutputs = {
        ["Plain Output" /* Plain */]: () => $`
			<div class="plain-output-section">
				<div>
					${this.testStatus === "passed" /* Passed */ ? $`<h2>Test passed !!!</h2>` : null}
					${this.getUserOutput()}
				</div>
			</div>
		`,
        ["Text Diff" /* TextDiff */]: () => $`
			<div class="diff-section">
				<div class="diff-section-header">
					<span style="flex: 1;">Correct text output:</span>
					<span style="flex: 1;">Your text output:</span>
				</div>
				<diff-viewer .left=${this.expectedOutput} .right=${this.userOutput}></diff-viewer>
			</div>
		`,
        ["Image Diff" /* ImageDiff */]: () => {
          var _a3;
          return ((_a3 = this.imageDiff) == null ? void 0 : _a3.length) < 15 ? $`` : $`
			<div class="image-diff-section">
				<img src='data:image/jpg;base64,${this.imageDiff}' width='600' height='600' alt='Visual differences between the actual output and the expected output.' />
			</div>
		`;
        }
      };
    }
    firstUpdated(_changedProperties) {
      this.collapsibles = import_bulma_collapsible.default.attach(this.querySelectorAll(".is-collapsible"));
    }
    render() {
      var _a3, _b2, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l;
      const hasTestCode = ((_a3 = this.test) == null ? void 0 : _a3.before_code) || ((_b2 = this.test) == null ? void 0 : _b2.after_code);
      return $`
			${this.runTest ? $`
				<button class="button is-small" ?disabled=${this.testStatus === "running" /* Running */} @click=${() => {
        var _a4;
        return (_a4 = this.runTest) == null ? void 0 : _a4.call(this, this.test.name);
      }}>${this.getRunButtonText()}</button>
			` : null}
			<button class="button is-small" @click=${this.openModal}>View details</button>
			
			<div class="modal${this.open ? " is-active" : ""}">
				<div class="modal-background" @click=${this.closeModal}></div>
				<div class="modal-card">
					<header class="modal-card-head">
						<p class="modal-card-title">Test results: ${(_c = this.test) == null ? void 0 : _c.name}</p>
						<button class="delete" aria-label="close" @click=${this.closeModal}></button>
					</header>
					<section class="modal-card-body">

						<div class='collapsible-section'>
							${((_d = this.test) == null ? void 0 : _d.instructions) ? $`
								<article class="message">
									<div class="message-header">
										<a href="#instruction-section-${this.instanceID}" data-action="collapse">Instructions</a>
									</div>
									<div id="instruction-section-${this.instanceID}" class="message-body is-collapsible">
										<div class="message-body-content">
											${o6((_e = this.test) == null ? void 0 : _e.instructions)}
										</div>
									</div>
								</article>
							` : null}
							
							${hasTestCode ? $`							
								<article class="message">
									<div class="message-header">
										<a href="#test-code-section-${this.instanceID}" data-action="collapse">Test code</a>
									</div>
									<div id="test-code-section-${this.instanceID}" class="message-body is-collapsible">
										<div class="message-body-content">
											${((_f = this.test) == null ? void 0 : _f.can_see_test_code) ? $`

												${((_g = this.test) == null ? void 0 : _g.before_code) ? $`
													<p>Code run before your code:</p>
													<pre>${(_h = this.test) == null ? void 0 : _h.before_code}</pre>
												` : null}

												${((_i = this.test) == null ? void 0 : _i.after_code) ? $`
													<p>Code run after your code:</p>
													<pre>${(_j = this.test) == null ? void 0 : _j.after_code}</pre>
													` : null}

												${!!((_k = this.test) == null ? void 0 : _k.before_code) && !!((_l = this.test) == null ? void 0 : _l.after_code) ? $`
													<p>No additional code is run before or after your code.</p>
												` : null}

											` : $`
												<p disabled>The test code will not be shown for this test.</p>
											`}
										</div>
									</div>
								</article>
							` : null}
							<article class="message">
								<div class="message-header">
									<a href="#expected-output-section-${this.instanceID}" data-action="collapse">Expected output</a>
								</div>
								<div id="expected-output-section-${this.instanceID}" class="message-body is-collapsible">
									<div class="message-body-content">
										${this.getExpectedOutput()}
									</div>
								</div>
							</article>
							<!-- <article class="message"> -->
							<article class="message grow">
								<div class="message-header">
									<a href="#user-output-section-${this.instanceID}" data-action="collapse">Your output</a>
								</div>
								<div id="user-output-section-${this.instanceID}" class="message-body is-collapsible">
									<div class="message-body-content">
										${this.getTestOutput()}
									</div>
								</div>
							</article>
						</div>
					</section>
				</div>
			</div>
		`;
    }
    openModal() {
      return __async(this, null, function* () {
        this.open = true;
        yield this.updateComplete;
        yield new Promise(() => {
          if (!this.opened) {
            this.opened = true;
            for (const collapsible of this.collapsibles) {
              collapsible.expand();
            }
          }
        });
      });
    }
    closeModal(e10) {
      e10.stopPropagation();
      this.open = false;
    }
    getRunButtonText() {
      switch (this.testStatus) {
        case "running" /* Running */:
          return $`Run test <i class="fas fa-spinner fa-spin running"></i>`;
        case "passed" /* Passed */:
        case "failed" /* Failed */:
        case "unknown" /* Unknown */:
          return $`Run test <i class="fas fa-play"></i>`;
        default:
          return "";
      }
    }
    getTestOutput() {
      var _a3, _b2;
      const tabs = ["Plain Output" /* Plain */];
      if (((_a3 = this.test) == null ? void 0 : _a3.can_see_code_output) && ((_b2 = this.test) == null ? void 0 : _b2.can_see_expected_output)) {
        switch (this.testStatus) {
          case "failed" /* Failed */:
            tabs.push("Text Diff" /* TextDiff */);
            if (this.imageDiff) {
              tabs.push("Image Diff" /* ImageDiff */);
            }
            break;
          case "running" /* Running */:
            return $`<h3>Currently running.</h3>`;
          default:
            break;
        }
      }
      if (tabs.length === 1) {
        return this.tabOutputs[tabs[0]]();
      }
      if (!tabs.includes(this.currentTab)) {
        this.currentTab = tabs[0];
      }
      return $`
			<div>
				<div class="tabs">
					<ul>
						${tabs.map((tab) => $`
							<li class=${tab === this.currentTab ? "is-active" : ""} @click=${() => this.currentTab = tab}><a>${tab}</a></li>
						`)}
					</ul>
				</div>
			</div>
			${this.tabOutputs[this.currentTab]()}				
		`;
    }
    getUserOutput() {
      var _a3;
      if (!((_a3 = this.test) == null ? void 0 : _a3.can_see_code_output)) {
        return $`<h3>Your output will not be shown for this test.</h3>`;
      }
      if (this.testStatus === "unknown" /* Unknown */) {
        return $`<h3>This test has not been run yet, so you have no output.</h3>`;
      }
      return $`
			${this.userOutput ? $`
				<pre>${this.userOutput}</pre>
			` : null}
			${this.userImageOutput ? $`
				<img src='data:image/jpg;base64,${this.userImageOutput}' width='600' height='600' alt='Image-based output of the code.' />
			` : null}		
		`;
    }
    getExpectedOutput() {
      var _a3;
      if (!((_a3 = this.test) == null ? void 0 : _a3.can_see_expected_output)) {
        return $`<h3>The expected output will not be shown for this test.</h3>`;
      }
      return $`
			${this.expectedOutput ? $`
				<pre>${this.expectedOutput}</pre>
			` : null}
			${this.expectedImageOutput ? $`
				<img src='data:image/jpg;base64,${this.expectedImageOutput}' width='600' height='600' alt='Image-based expected output.' />
			` : null}		
		`;
    }
  };
  TestResultsModal.nextID = 0;
  __decorateClass([
    t3()
  ], TestResultsModal.prototype, "open", 2);
  __decorateClass([
    e4()
  ], TestResultsModal.prototype, "testStatus", 2);
  __decorateClass([
    e4()
  ], TestResultsModal.prototype, "test", 2);
  __decorateClass([
    e4()
  ], TestResultsModal.prototype, "userOutput", 2);
  __decorateClass([
    e4()
  ], TestResultsModal.prototype, "expectedOutput", 2);
  __decorateClass([
    e4()
  ], TestResultsModal.prototype, "userImageOutput", 2);
  __decorateClass([
    e4()
  ], TestResultsModal.prototype, "expectedImageOutput", 2);
  __decorateClass([
    e4()
  ], TestResultsModal.prototype, "imageDiff", 2);
  __decorateClass([
    e4()
  ], TestResultsModal.prototype, "runTest", 2);
  __decorateClass([
    t3()
  ], TestResultsModal.prototype, "currentTab", 2);
  __decorateClass([
    bind_default
  ], TestResultsModal.prototype, "openModal", 1);
  __decorateClass([
    bind_default
  ], TestResultsModal.prototype, "closeModal", 1);
  __decorateClass([
    bind_default
  ], TestResultsModal.prototype, "getRunButtonText", 1);
  __decorateClass([
    bind_default
  ], TestResultsModal.prototype, "getTestOutput", 1);
  TestResultsModal = __decorateClass([
    n5("test-results-modal")
  ], TestResultsModal);

  // node_modules/lit-html/directive-helpers.js
  var { H: l5 } = L;
  var e8 = (o8) => void 0 === o8.strings;

  // node_modules/lit-html/async-directive.js
  var e9 = (i6, t5) => {
    var s5, o8;
    const n9 = i6._$AN;
    if (void 0 === n9)
      return false;
    for (const i7 of n9)
      null === (o8 = (s5 = i7)._$AO) || void 0 === o8 || o8.call(s5, t5, false), e9(i7, t5);
    return true;
  };
  var o7 = (i6) => {
    let t5, s5;
    do {
      if (void 0 === (t5 = i6._$AM))
        break;
      s5 = t5._$AN, s5.delete(i6), i6 = t5;
    } while (0 === (null == s5 ? void 0 : s5.size));
  };
  var n7 = (i6) => {
    for (let t5; t5 = i6._$AM; i6 = t5) {
      let s5 = t5._$AN;
      if (void 0 === s5)
        t5._$AN = s5 = /* @__PURE__ */ new Set();
      else if (s5.has(i6))
        break;
      s5.add(i6), l6(t5);
    }
  };
  function r4(i6) {
    void 0 !== this._$AN ? (o7(this), this._$AM = i6, n7(this)) : this._$AM = i6;
  }
  function h3(i6, t5 = false, s5 = 0) {
    const n9 = this._$AH, r5 = this._$AN;
    if (void 0 !== r5 && 0 !== r5.size)
      if (t5)
        if (Array.isArray(n9))
          for (let i7 = s5; i7 < n9.length; i7++)
            e9(n9[i7], false), o7(n9[i7]);
        else
          null != n9 && (e9(n9, false), o7(n9));
      else
        e9(this, i6);
  }
  var l6 = (i6) => {
    var t5, e10, o8, n9;
    i6.type == t4.CHILD && (null !== (t5 = (o8 = i6)._$AP) && void 0 !== t5 || (o8._$AP = h3), null !== (e10 = (n9 = i6)._$AQ) && void 0 !== e10 || (n9._$AQ = r4));
  };
  var d2 = class extends i5 {
    constructor() {
      super(...arguments), this._$AN = void 0;
    }
    _$AT(i6, t5, s5) {
      super._$AT(i6, t5, s5), n7(this), this.isConnected = i6._$AU;
    }
    _$AO(i6, t5 = true) {
      var s5, n9;
      i6 !== this.isConnected && (this.isConnected = i6, i6 ? null === (s5 = this.reconnected) || void 0 === s5 || s5.call(this) : null === (n9 = this.disconnected) || void 0 === n9 || n9.call(this)), t5 && (e9(this, i6), o7(this));
    }
    setValue(t5) {
      if (e8(this._$Ct))
        this._$Ct._$AI(t5, this);
      else {
        const i6 = [...this._$Ct._$AH];
        i6[this._$Ci] = t5, this._$Ct._$AI(i6, this, 0);
      }
    }
    disconnected() {
    }
    reconnected() {
    }
  };

  // node_modules/lit-html/directives/ref.js
  var h4 = /* @__PURE__ */ new WeakMap();
  var n8 = e6(class extends d2 {
    render(t5) {
      return w;
    }
    update(t5, [s5]) {
      var e10;
      const o8 = s5 !== this.Y;
      return o8 && void 0 !== this.Y && this.rt(void 0), (o8 || this.lt !== this.ct) && (this.Y = s5, this.dt = null === (e10 = t5.options) || void 0 === e10 ? void 0 : e10.host, this.rt(this.ct = t5.element)), w;
    }
    rt(i6) {
      var t5;
      if ("function" == typeof this.Y) {
        const s5 = null !== (t5 = this.dt) && void 0 !== t5 ? t5 : globalThis;
        let e10 = h4.get(s5);
        void 0 === e10 && (e10 = /* @__PURE__ */ new WeakMap(), h4.set(s5, e10)), void 0 !== e10.get(this.Y) && this.Y.call(this.dt, void 0), e10.set(this.Y, i6), void 0 !== i6 && this.Y.call(this.dt, i6);
      } else
        this.Y.value = i6;
    }
    get lt() {
      var i6, t5, s5;
      return "function" == typeof this.Y ? null === (t5 = h4.get(null !== (i6 = this.dt) && void 0 !== i6 ? i6 : globalThis)) || void 0 === t5 ? void 0 : t5.get(this.Y) : null === (s5 = this.Y) || void 0 === s5 ? void 0 : s5.value;
    }
    disconnected() {
      this.lt === this.ct && this.rt(void 0);
    }
    reconnected() {
      this.rt(this.ct);
    }
  });

  // ui/pages/exercise/ExerciseApp.ts
  var ace3 = __toESM(require_ace());

  // ui/utils/debounce.ts
  function debounce(func, waitFor) {
    let timeout = 0;
    const debounced = (...args) => {
      clearTimeout(timeout);
      timeout = setTimeout(() => func(...args), waitFor);
    };
    return debounced;
  }

  // ui/utils/oneAtATime.ts
  function oneAtATime(func) {
    let currentPromise = null;
    return (...args) => __async(this, null, function* () {
      while (currentPromise !== null) {
        try {
          yield currentPromise;
        } finally {
        }
      }
      try {
        currentPromise = func(...args);
        return yield currentPromise;
      } finally {
        currentPromise = null;
      }
    });
  }

  // ui/pages/exercise/ExerciseApp.ts
  var { code_completion_path, submissions, exercise_details: exercise_details3, presubmission } = window.templateData;
  var courseID = window.templateData.course_basics.id;
  var assignmentID = window.templateData.assignment_basics.id;
  var exerciseID = window.templateData.exercise_basics.id;
  var SAVE_DEBOUNCE_TIME = 2e3;
  var _a, _b;
  var ExerciseApp = class extends s4 {
    constructor() {
      super(...arguments);
      this.saved = true;
      this.submissions = (_b = (_a = submissions == null ? void 0 : submissions.map) == null ? void 0 : _a.call(submissions, (s5) => ({
        id: s5.id,
        date: new Date(s5.date),
        code: s5.code,
        passed: !!s5.passed,
        test_outputs: s5.test_outputs
      }))) != null ? _b : [];
      this.sessions = {};
      this.userCodeFileName = "code";
    }
    render() {
      const activeSubmission = this.activeSubmission;
      return $`
			<div style="height: 100%;">
				<split-pane
					direction="vertical"
					cacheID="exercise-vertical"
					.defaultSplit=${0.3}
					.minSizes=${[200, 380]}
					.first=${$`
						<information-pane
							.files=${this.files}
							.submissions=${this.submissions}
							.selectedFile=${this.selectedFile}
							.onFileSelected=${this.onFileSelected}
						></information-pane>
					`}
					.second=${$`
						<split-pane
							direction="horizontal"
							cacheID="exercise-horizontal"
							.defaultSplit=${0.7}
							.minSizes=${[100, 100]}
							.fixedSide='second'
							.first=${$`
								<div class="edit-section">
									<code-editor ${n8(this.setEditor)}></code-editor>
									${activeSubmission ? $`
									<article class="message is-warning" style="margin-bottom: 0px;">
										<div class="message-header">
											<p>You are viewing submission ${activeSubmission.id + 1} from ${activeSubmission.date.toLocaleString()}</p>
											<span style="flex: 1;"></span>
											<button class="button is-small outlined" @click=${this.copySubmissionCode}>Restore this version</button>
											<button
												style="margin-left: 8px;"
												class="button is-small outlined"
												@click=${() => this.onFileSelected(this.userCodeFileName)}
											>Return to latest version</button>
										</div>
									</article>
									` : null}
									${this.selectedFile === this.userCodeFileName ? $`
											<div class="save-indicator">
												${this.saved ? $`
													<i class="fas fa-check has-tooltip-left" data-tooltip="Saved"></i>
												` : $`
													<i class="fas fa-spinner fa-spin running has-tooltip-left" data-tooltip="Saving"></i>
												`}
											</div>
										` : null}
								</div>
							`}
							.second=${$`
								<tests-pane 
									.getCode=${this.getUserCode}
									.activeSubmission=${this.activeSubmission}
									.addSubmission=${this.addSubmission}
									.numSubmissions=${this.submissions.length}
									.hasPassingSubmission=${this.hasPassingSubmission}
									.selectPassingSubmission=${() => {
        for (let i6 = this.submissions.length - 1; i6 >= 0; i6--) {
          const submission = this.submissions[i6];
          if (submission.passed) {
            this.onFileSelected(`submission-${submission.id}`);
            break;
          }
        }
      }}
								></tests-pane>
							`}
						>
						</split-pane>
					`}
				></split-pane>
			</div>
		`;
    }
    setEditor(editor) {
      if (editor instanceof CodeEditor) {
        const firstTime = !this.editor;
        this.editor = editor;
        if (firstTime) {
          let value = "";
          if (presubmission) {
            value = presubmission;
          } else if ((submissions == null ? void 0 : submissions.length) > 0) {
            value = submissions[submissions.length - 1].code;
          } else if (exercise_details3 == null ? void 0 : exercise_details3.starter_code) {
            value = exercise_details3.starter_code;
          }
          const session = new ace3.EditSession(value);
          session.setUndoManager(new UndoManager());
          session.setMode(code_completion_path);
          const saveCode = debounce(oneAtATime(() => __async(this, null, function* () {
            yield savePresubmission(courseID, assignmentID, exerciseID, session.getValue());
            this.saved = true;
          })), SAVE_DEBOUNCE_TIME);
          session.on("change", () => {
            this.saved = false;
            saveCode();
          });
          this.editor.setSession(session);
          switch (exercise_details3.back_end) {
            case "python_script":
              this.userCodeFileName = "code.py";
              break;
          }
          this.sessions[this.userCodeFileName] = session;
          const files = [{ name: this.userCodeFileName, type: "user-code" }];
          for (const fileName in exercise_details3.data_files) {
            const fileContents = exercise_details3.data_files[fileName];
            const session2 = new ace3.EditSession(fileContents);
            session2.setUndoManager(new UndoManager());
            const match = fileName.match(/.*\.(.*)$/);
            if (match && match[1]) {
              const ext = match[1];
              switch (ext) {
                case "py":
                  session2.setMode("ace/mode/python");
                  break;
              }
            }
            this.sessions[fileName] = session2;
            files.push({ name: fileName, type: "data-file" });
          }
          for (const submission of this.submissions) {
            const session2 = new ace3.EditSession(submission.code);
            session2.setMode(code_completion_path);
            this.sessions[`submission-${submission.id}`] = session2;
          }
          this.files = files;
          this.selectedFile = this.userCodeFileName;
        }
      }
    }
    getUserCode() {
      var _a3;
      return (_a3 = this.sessions[this.userCodeFileName]) == null ? void 0 : _a3.getValue();
    }
    onFileSelected(name2) {
      var _a3, _b2;
      const session = this.sessions[name2];
      if (session) {
        (_a3 = this.editor) == null ? void 0 : _a3.setSession(session);
        (_b2 = this.editor) == null ? void 0 : _b2.setReadOnly(name2 !== this.userCodeFileName);
        this.selectedFile = name2;
      }
    }
    addSubmission(submission) {
      this.submissions = [...this.submissions, submission];
      const session = new ace3.EditSession(submission.code);
      session.setMode(code_completion_path);
      this.sessions[`submission-${submission.id}`] = session;
    }
    copySubmissionCode() {
      if (!confirm("Do you want to overwrite your existing code?")) {
        return;
      }
      ;
      const oldSession = this.sessions[this.selectedFile];
      const newSession = this.sessions[this.userCodeFileName];
      newSession.setValue(oldSession.getValue());
      this.onFileSelected(this.userCodeFileName);
    }
    get hasPassingSubmission() {
      var _a3;
      return !!((_a3 = this.submissions) == null ? void 0 : _a3.find((submission) => !!submission.passed));
    }
    get activeSubmission() {
      var _a3;
      if ((_a3 = this.selectedFile) == null ? void 0 : _a3.startsWith("submission-")) {
        const id = Number(this.selectedFile.replace("submission-", ""));
        return this.submissions.find((s5) => s5.id === id);
      }
      return void 0;
    }
  };
  __decorateClass([
    t3()
  ], ExerciseApp.prototype, "saved", 2);
  __decorateClass([
    t3()
  ], ExerciseApp.prototype, "files", 2);
  __decorateClass([
    t3()
  ], ExerciseApp.prototype, "selectedFile", 2);
  __decorateClass([
    t3()
  ], ExerciseApp.prototype, "submissions", 2);
  __decorateClass([
    bind_default
  ], ExerciseApp.prototype, "setEditor", 1);
  __decorateClass([
    bind_default
  ], ExerciseApp.prototype, "getUserCode", 1);
  __decorateClass([
    bind_default
  ], ExerciseApp.prototype, "onFileSelected", 1);
  __decorateClass([
    bind_default
  ], ExerciseApp.prototype, "addSubmission", 1);
  __decorateClass([
    bind_default
  ], ExerciseApp.prototype, "copySubmissionCode", 1);
  ExerciseApp = __decorateClass([
    n5("exercise-app")
  ], ExerciseApp);
  var _a2;
  var InformationPane = class extends s4 {
    constructor() {
      super(...arguments);
      this.showHint = false;
      this.copyModalOpen = false;
      this.deleteModalOpen = false;
      this.selectedTab = (_a2 = window.localStorage.getItem(`selected-tab-${exerciseID}`)) != null ? _a2 : "Information" /* Information */;
      this.tabPanels = {
        ["Information" /* Information */]: () => $`
			<div class="content is-medium">
				<h6>${o6(window.templateData.exercise_basics.title)}</h6>
				${exercise_details3.enable_pair_programming ? $`
					<div style="margin-bottom: 16px;">
						<i class="fab fa-product-hunt"></i>
						<em>Pair programming is enabled for this exercise.</em>
					</div>
				` : null}
				${o6(window.templateData.exercise_details.instructions)}
			</div>
			${exercise_details3.hint ? $`
				<div>
					<button class="button is-warning" @click=${() => this.showHint = !this.showHint}>
						${this.showHint ? "Hide hint" : "Show hint"}
					</button>
				</div>
				${this.showHint ? $`
					<div class="content is-medium" style="margin-top: 8px;">
						${o6(exercise_details3.hint)}
					</div>
				` : null}
			` : null}
		`,
        ["Code" /* Code */]: () => {
          var _a3, _b2;
          return $`
			<div class="file-list content is-medium">
				<h6>Files</h6>
				<strong>User code:</strong>
				${(_a3 = this.files) == null ? void 0 : _a3.filter((file) => file.type === "user-code").map((file) => $`
					<span
						class="file-list-item${this.selectedFile === file.name ? " active" : ""}"
						@click=${() => {
            var _a4;
            return (_a4 = this.onFileSelected) == null ? void 0 : _a4.call(this, file.name);
          }}
					>${file.name}</span>
				`)}
				${this.hasDataFiles ? $`
					<strong class="file-header">Data files:</strong>
					${(_b2 = this.files) == null ? void 0 : _b2.filter((file) => file.type === "data-file").map((file) => $`
						<span
							class="file-list-item${this.selectedFile === file.name ? " active" : ""}"
							@click=${() => {
            var _a4;
            return (_a4 = this.onFileSelected) == null ? void 0 : _a4.call(this, file.name);
          }}
						>${file.name}</span>
					`)}
				` : null}
			</div>
		`;
        },
        ["Submissions" /* Submissions */]: () => {
          var _a3;
          return $`
			<div class="submission-list content is-medium">
				<h6>Submissions</h6>
				${(_a3 = this.submissions) == null ? void 0 : _a3.map((submission, i6) => $`
					<span
						class="submission ${submission.passed ? "passed" : "failed"}${this.selectedFile === `submission-${submission.id}` ? " selected" : ""}"
						@click=${() => {
            var _a4;
            return (_a4 = this.onFileSelected) == null ? void 0 : _a4.call(this, `submission-${submission.id}`);
          }}
					>
						${i6 + 1}. ${submission.date.toLocaleString()}
					</span>
				`)}
			</div>
		`;
        }
      };
      this.tabIcons = {
        ["Information" /* Information */]: "fas fa-info-circle",
        ["Code" /* Code */]: "fas fa-folder",
        ["Submissions" /* Submissions */]: "fas fa-history"
      };
      this.tabTitles = {
        ["Information" /* Information */]: "Instructions",
        ["Code" /* Code */]: "Files",
        ["Submissions" /* Submissions */]: "Submissions"
      };
      this.panelOrder = ["Information" /* Information */, "Code" /* Code */, "Submissions" /* Submissions */];
    }
    render() {
      var _a3, _b2;
      return $`
			<div class="left-panel">
				<div class="tab-bar">
					${this.panelOrder.map((tab) => $`
						<button
							class="icon-button${this.selectedTab === tab ? " active" : ""} has-tooltip-right"
							data-tooltip="${this.tabTitles[tab]}"
							@click=${() => this.selectTab(tab)}
						>
							<i class="${this.tabIcons[tab]}"></i>
						</button>
					`)}

					${window.templateData.is_administrator || window.templateData.is_instructor || window.templateData.is_assistant ? $`

						<span class="spacer"></span>
						<button class="icon-button">
							<a href="/edit_exercise/${courseID}/${assignmentID}/${exerciseID}">
								<i class="fas fa-cog"></i>
							</a>
						</button>

						${this.copyModalOpen ? $`<copy-exercise-modal .onClose=${() => this.copyModalOpen = false}></copy-exercise-modal>` : null}
						<!-- TODO: create the delete modal -->

					` : null}
				</div>
				<div class="info-panel">
					<exercise-timer></exercise-timer>
					${(_b2 = (_a3 = this.tabPanels)[this.selectedTab]) == null ? void 0 : _b2.call(_a3)}
				</div>
			</div>
		`;
    }
    selectTab(tab) {
      this.selectedTab = tab;
      localStorage.setItem(`selected-tab-${exerciseID}`, tab);
    }
    get hasDataFiles() {
      var _a3, _b2;
      return ((_b2 = (_a3 = this.files) == null ? void 0 : _a3.filter((file) => file.type === "data-file")) == null ? void 0 : _b2.length) > 0;
    }
  };
  __decorateClass([
    e4()
  ], InformationPane.prototype, "submissions", 2);
  __decorateClass([
    e4()
  ], InformationPane.prototype, "onFileSelected", 2);
  __decorateClass([
    e4()
  ], InformationPane.prototype, "selectedFile", 2);
  __decorateClass([
    e4()
  ], InformationPane.prototype, "files", 2);
  __decorateClass([
    t3()
  ], InformationPane.prototype, "showHint", 2);
  __decorateClass([
    t3()
  ], InformationPane.prototype, "copyModalOpen", 2);
  __decorateClass([
    t3()
  ], InformationPane.prototype, "deleteModalOpen", 2);
  __decorateClass([
    t3()
  ], InformationPane.prototype, "selectedTab", 2);
  __decorateClass([
    bind_default
  ], InformationPane.prototype, "selectTab", 1);
  InformationPane = __decorateClass([
    n5("information-pane")
  ], InformationPane);
  var CopyExerciseModal = class extends s4 {
    constructor() {
      super(...arguments);
      this.errorMessage = "";
    }
    render() {
      const title = window.templateData.exercise_basics.title;
      return $`
			<div class="modal is-active">
				<div class="modal-background" @click=${this.onClose}></div>
				<div class="modal-card">
					<header class="modal-card-head">
						<p class="modal-card-title">Copy exercise within the same assignment:</p>
						<button class="delete" aria-label="close" @click=${this.onClose}></button>
					</header>
					<section class="modal-card-body">
						<div class="field">
							<label class="label">New title</label>
							<input class="input is-medium is-primary" type="text" id="new_title" name="new_title" placeholder=${title} value=${title}>
							${this.errorMessage ? $`<p class="help is-danger">${this.errorMessage}</p>` : null}
						</div>
					</section>
					<footer class="modal-card-foot">
						<button class="button is-primary" @click=${this.onSave}>Save changes</button>
					</footer>
				</div>
			</div>
		`;
    }
    onSave() {
      return __async(this, null, function* () {
        const input = this.renderRoot.querySelector("#new_title");
        if (!input.value) {
          this.errorMessage = "New title is required";
          return;
        }
        if (input.value === window.templateData.exercise_basics.title) {
          this.errorMessage = "New title is the same as the old title";
          return;
        }
        const error = yield copyExercise(courseID, assignmentID, exerciseID, input.value);
        if (error) {
          this.errorMessage = error;
        }
      });
    }
  };
  __decorateClass([
    e4({ type: Boolean })
  ], CopyExerciseModal.prototype, "onClose", 2);
  __decorateClass([
    t3()
  ], CopyExerciseModal.prototype, "errorMessage", 2);
  __decorateClass([
    bind_default
  ], CopyExerciseModal.prototype, "onSave", 1);
  CopyExerciseModal = __decorateClass([
    n5("copy-exercise-modal")
  ], CopyExerciseModal);

  // ui/pages/exercise/index.ts
  s4.prototype.createRenderRoot = function() {
    return this;
  };
  var initialized = false;
  function init() {
    return __async(this, null, function* () {
      if (initialized)
        return;
      const container = document.getElementById("app");
      if (container) {
        initialized = true;
        const app = new ExerciseApp();
        container.appendChild(app);
      }
    });
  }
  if (document.readyState === "complete") {
    init();
  } else {
    document.addEventListener("readystatechange", () => {
      if (document.readyState === "interactive" || document.readyState === "complete") {
        init();
      }
    });
  }
})();
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vbm9kZV9tb2R1bGVzL2FjZS1idWlsZHMvc3JjLW5vY29uZmxpY3QvYWNlLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9hY2UtYnVpbGRzL3NyYy1ub2NvbmZsaWN0L2V4dC1sYW5ndWFnZV90b29scy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGNyZWF0aXZlYnVsbWEvYnVsbWEtY29sbGFwc2libGUvZGlzdC9qcy9idWxtYS1jb2xsYXBzaWJsZS5taW4uanMiLCAiLi4vdWkvdXRpbHMvYmluZC50cyIsICIuLi9ub2RlX21vZHVsZXMvQGxpdC9yZWFjdGl2ZS1lbGVtZW50L3NyYy9jc3MtdGFnLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AbGl0L3JlYWN0aXZlLWVsZW1lbnQvc3JjL3JlYWN0aXZlLWVsZW1lbnQudHMiLCAiLi4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL3NyYy9saXQtaHRtbC50cyIsICIuLi9ub2RlX21vZHVsZXMvbGl0LWVsZW1lbnQvc3JjL2xpdC1lbGVtZW50LnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AbGl0L3JlYWN0aXZlLWVsZW1lbnQvc3JjL2RlY29yYXRvcnMvY3VzdG9tLWVsZW1lbnQudHMiLCAiLi4vbm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9zcmMvZGVjb3JhdG9ycy9wcm9wZXJ0eS50cyIsICIuLi9ub2RlX21vZHVsZXMvQGxpdC9yZWFjdGl2ZS1lbGVtZW50L3NyYy9kZWNvcmF0b3JzL3N0YXRlLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AbGl0L3JlYWN0aXZlLWVsZW1lbnQvc3JjL2RlY29yYXRvcnMvYmFzZS50cyIsICIuLi9ub2RlX21vZHVsZXMvQGxpdC9yZWFjdGl2ZS1lbGVtZW50L3NyYy9kZWNvcmF0b3JzL3F1ZXJ5LnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AbGl0L3JlYWN0aXZlLWVsZW1lbnQvc3JjL2RlY29yYXRvcnMvcXVlcnktYXNzaWduZWQtZWxlbWVudHMudHMiLCAiLi4vdWkvY29tcG9uZW50cy9Db2RlRWRpdG9yLnRzIiwgIi4uL3VpL3V0aWxzL21vbmFjby50cyIsICIuLi91aS9jb21wb25lbnRzL0RpZmZWaWV3ZXIudHMiLCAiLi4vdWkvY29tcG9uZW50cy9TcGxpdFBhbmUudHMiLCAiLi4vdWkvdXRpbHMvcmVxdWVzdC50cyIsICIuLi91aS91dGlscy9leGVyY2lzZS1zZXJ2aWNlLnRzIiwgIi4uL3VpL3BhZ2VzL2V4ZXJjaXNlL2NvbXBvbmVudHMvVGltZXIudHMiLCAiLi4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL3NyYy9kaXJlY3RpdmUudHMiLCAiLi4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL3NyYy9kaXJlY3RpdmVzL3Vuc2FmZS1odG1sLnRzIiwgIi4uL3VpL3BhZ2VzL2V4ZXJjaXNlL2NvbXBvbmVudHMvVGVzdHNQYW5lLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9zcmMvZGlyZWN0aXZlLWhlbHBlcnMudHMiLCAiLi4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL3NyYy9hc3luYy1kaXJlY3RpdmUudHMiLCAiLi4vbm9kZV9tb2R1bGVzL2xpdC1odG1sL3NyYy9kaXJlY3RpdmVzL3JlZi50cyIsICIuLi91aS9wYWdlcy9leGVyY2lzZS9FeGVyY2lzZUFwcC50cyIsICIuLi91aS91dGlscy9kZWJvdW5jZS50cyIsICIuLi91aS91dGlscy9vbmVBdEFUaW1lLnRzIiwgIi4uL3VpL3BhZ2VzL2V4ZXJjaXNlL2luZGV4LnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyIvKiAqKioqKiBCRUdJTiBMSUNFTlNFIEJMT0NLICoqKioqXG4gKiBEaXN0cmlidXRlZCB1bmRlciB0aGUgQlNEIGxpY2Vuc2U6XG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDEwLCBBamF4Lm9yZyBCLlYuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuICogbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZSBtZXQ6XG4gKiAgICAgKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodFxuICogICAgICAgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuICogICAgICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHRcbiAqICAgICAgIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGVcbiAqICAgICAgIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG4gKiAgICAgKiBOZWl0aGVyIHRoZSBuYW1lIG9mIEFqYXgub3JnIEIuVi4gbm9yIHRoZVxuICogICAgICAgbmFtZXMgb2YgaXRzIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHNcbiAqICAgICAgIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxuICpcbiAqIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgXCJBUyBJU1wiIEFORFxuICogQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFIElNUExJRURcbiAqIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkVcbiAqIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIEFKQVguT1JHIEIuVi4gQkUgTElBQkxFIEZPUiBBTllcbiAqIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTXG4gKiAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7XG4gKiBMT1NTIE9GIFVTRSwgREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkRcbiAqIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUXG4gKiAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJU1xuICogU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4gKlxuICogKioqKiogRU5EIExJQ0VOU0UgQkxPQ0sgKioqKiogKi9cblxuLyoqXG4gKiBEZWZpbmUgYSBtb2R1bGUgYWxvbmcgd2l0aCBhIHBheWxvYWRcbiAqIEBwYXJhbSBtb2R1bGUgYSBuYW1lIGZvciB0aGUgcGF5bG9hZFxuICogQHBhcmFtIHBheWxvYWQgYSBmdW5jdGlvbiB0byBjYWxsIHdpdGggKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkgcGFyYW1zXG4gKi9cblxuKGZ1bmN0aW9uKCkge1xuXG52YXIgQUNFX05BTUVTUEFDRSA9IFwiYWNlXCI7XG5cbnZhciBnbG9iYWwgPSAoZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSgpO1xuaWYgKCFnbG9iYWwgJiYgdHlwZW9mIHdpbmRvdyAhPSBcInVuZGVmaW5lZFwiKSBnbG9iYWwgPSB3aW5kb3c7IC8vIHN0cmljdCBtb2RlXG5cblxuaWYgKCFBQ0VfTkFNRVNQQUNFICYmIHR5cGVvZiByZXF1aXJlanMgIT09IFwidW5kZWZpbmVkXCIpXG4gICAgcmV0dXJuO1xuXG5cbnZhciBkZWZpbmUgPSBmdW5jdGlvbihtb2R1bGUsIGRlcHMsIHBheWxvYWQpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICBpZiAoZGVmaW5lLm9yaWdpbmFsKVxuICAgICAgICAgICAgZGVmaW5lLm9yaWdpbmFsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcImRyb3BwaW5nIG1vZHVsZSBiZWNhdXNlIGRlZmluZSB3YXNuXFwndCBhIHN0cmluZy5cIik7XG4gICAgICAgICAgICBjb25zb2xlLnRyYWNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAyKVxuICAgICAgICBwYXlsb2FkID0gZGVwcztcbiAgICBpZiAoIWRlZmluZS5tb2R1bGVzW21vZHVsZV0pIHtcbiAgICAgICAgZGVmaW5lLnBheWxvYWRzW21vZHVsZV0gPSBwYXlsb2FkO1xuICAgICAgICBkZWZpbmUubW9kdWxlc1ttb2R1bGVdID0gbnVsbDtcbiAgICB9XG59O1xuXG5kZWZpbmUubW9kdWxlcyA9IHt9O1xuZGVmaW5lLnBheWxvYWRzID0ge307XG5cbi8qKlxuICogR2V0IGF0IGZ1bmN0aW9uYWxpdHkgZGVmaW5lKCllZCB1c2luZyB0aGUgZnVuY3Rpb24gYWJvdmVcbiAqL1xudmFyIF9yZXF1aXJlID0gZnVuY3Rpb24ocGFyZW50SWQsIG1vZHVsZSwgY2FsbGJhY2spIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICB2YXIgcGF5bG9hZCA9IGxvb2t1cChwYXJlbnRJZCwgbW9kdWxlKTtcbiAgICAgICAgaWYgKHBheWxvYWQgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpO1xuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChtb2R1bGUpID09PSBcIltvYmplY3QgQXJyYXldXCIpIHtcbiAgICAgICAgdmFyIHBhcmFtcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IG1vZHVsZS5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBkZXAgPSBsb29rdXAocGFyZW50SWQsIG1vZHVsZVtpXSk7XG4gICAgICAgICAgICBpZiAoZGVwID09IHVuZGVmaW5lZCAmJiByZXF1aXJlLm9yaWdpbmFsKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHBhcmFtcy5wdXNoKGRlcCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrICYmIGNhbGxiYWNrLmFwcGx5KG51bGwsIHBhcmFtcykgfHwgdHJ1ZTtcbiAgICB9XG59O1xuXG52YXIgcmVxdWlyZSA9IGZ1bmN0aW9uKG1vZHVsZSwgY2FsbGJhY2spIHtcbiAgICB2YXIgcGFja2FnZWRNb2R1bGUgPSBfcmVxdWlyZShcIlwiLCBtb2R1bGUsIGNhbGxiYWNrKTtcbiAgICBpZiAocGFja2FnZWRNb2R1bGUgPT0gdW5kZWZpbmVkICYmIHJlcXVpcmUub3JpZ2luYWwpXG4gICAgICAgIHJldHVybiByZXF1aXJlLm9yaWdpbmFsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgcmV0dXJuIHBhY2thZ2VkTW9kdWxlO1xufTtcblxudmFyIG5vcm1hbGl6ZU1vZHVsZSA9IGZ1bmN0aW9uKHBhcmVudElkLCBtb2R1bGVOYW1lKSB7XG4gICAgLy8gbm9ybWFsaXplIHBsdWdpbiByZXF1aXJlc1xuICAgIGlmIChtb2R1bGVOYW1lLmluZGV4T2YoXCIhXCIpICE9PSAtMSkge1xuICAgICAgICB2YXIgY2h1bmtzID0gbW9kdWxlTmFtZS5zcGxpdChcIiFcIik7XG4gICAgICAgIHJldHVybiBub3JtYWxpemVNb2R1bGUocGFyZW50SWQsIGNodW5rc1swXSkgKyBcIiFcIiArIG5vcm1hbGl6ZU1vZHVsZShwYXJlbnRJZCwgY2h1bmtzWzFdKTtcbiAgICB9XG4gICAgLy8gbm9ybWFsaXplIHJlbGF0aXZlIHJlcXVpcmVzXG4gICAgaWYgKG1vZHVsZU5hbWUuY2hhckF0KDApID09IFwiLlwiKSB7XG4gICAgICAgIHZhciBiYXNlID0gcGFyZW50SWQuc3BsaXQoXCIvXCIpLnNsaWNlKDAsIC0xKS5qb2luKFwiL1wiKTtcbiAgICAgICAgbW9kdWxlTmFtZSA9IGJhc2UgKyBcIi9cIiArIG1vZHVsZU5hbWU7XG5cbiAgICAgICAgd2hpbGUobW9kdWxlTmFtZS5pbmRleE9mKFwiLlwiKSAhPT0gLTEgJiYgcHJldmlvdXMgIT0gbW9kdWxlTmFtZSkge1xuICAgICAgICAgICAgdmFyIHByZXZpb3VzID0gbW9kdWxlTmFtZTtcbiAgICAgICAgICAgIG1vZHVsZU5hbWUgPSBtb2R1bGVOYW1lLnJlcGxhY2UoL1xcL1xcLlxcLy8sIFwiL1wiKS5yZXBsYWNlKC9bXlxcL10rXFwvXFwuXFwuXFwvLywgXCJcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1vZHVsZU5hbWU7XG59O1xuXG4vKipcbiAqIEludGVybmFsIGZ1bmN0aW9uIHRvIGxvb2t1cCBtb2R1bGVOYW1lcyBhbmQgcmVzb2x2ZSB0aGVtIGJ5IGNhbGxpbmcgdGhlXG4gKiBkZWZpbml0aW9uIGZ1bmN0aW9uIGlmIG5lZWRlZC5cbiAqL1xudmFyIGxvb2t1cCA9IGZ1bmN0aW9uKHBhcmVudElkLCBtb2R1bGVOYW1lKSB7XG4gICAgbW9kdWxlTmFtZSA9IG5vcm1hbGl6ZU1vZHVsZShwYXJlbnRJZCwgbW9kdWxlTmFtZSk7XG5cbiAgICB2YXIgbW9kdWxlID0gZGVmaW5lLm1vZHVsZXNbbW9kdWxlTmFtZV07XG4gICAgaWYgKCFtb2R1bGUpIHtcbiAgICAgICAgbW9kdWxlID0gZGVmaW5lLnBheWxvYWRzW21vZHVsZU5hbWVdO1xuICAgICAgICBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdmFyIGV4cG9ydHMgPSB7fTtcbiAgICAgICAgICAgIHZhciBtb2QgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IG1vZHVsZU5hbWUsXG4gICAgICAgICAgICAgICAgdXJpOiAnJyxcbiAgICAgICAgICAgICAgICBleHBvcnRzOiBleHBvcnRzLFxuICAgICAgICAgICAgICAgIHBhY2thZ2VkOiB0cnVlXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgcmVxID0gZnVuY3Rpb24obW9kdWxlLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHJldHVybiBfcmVxdWlyZShtb2R1bGVOYW1lLCBtb2R1bGUsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciByZXR1cm5WYWx1ZSA9IG1vZHVsZShyZXEsIGV4cG9ydHMsIG1vZCk7XG4gICAgICAgICAgICBleHBvcnRzID0gcmV0dXJuVmFsdWUgfHwgbW9kLmV4cG9ydHM7XG4gICAgICAgICAgICBkZWZpbmUubW9kdWxlc1ttb2R1bGVOYW1lXSA9IGV4cG9ydHM7XG4gICAgICAgICAgICBkZWxldGUgZGVmaW5lLnBheWxvYWRzW21vZHVsZU5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIG1vZHVsZSA9IGRlZmluZS5tb2R1bGVzW21vZHVsZU5hbWVdID0gZXhwb3J0cyB8fCBtb2R1bGU7XG4gICAgfVxuICAgIHJldHVybiBtb2R1bGU7XG59O1xuXG5mdW5jdGlvbiBleHBvcnRBY2UobnMpIHtcbiAgICB2YXIgcm9vdCA9IGdsb2JhbDtcbiAgICBpZiAobnMpIHtcbiAgICAgICAgaWYgKCFnbG9iYWxbbnNdKVxuICAgICAgICAgICAgZ2xvYmFsW25zXSA9IHt9O1xuICAgICAgICByb290ID0gZ2xvYmFsW25zXTtcbiAgICB9XG5cbiAgICBpZiAoIXJvb3QuZGVmaW5lIHx8ICFyb290LmRlZmluZS5wYWNrYWdlZCkge1xuICAgICAgICBkZWZpbmUub3JpZ2luYWwgPSByb290LmRlZmluZTtcbiAgICAgICAgcm9vdC5kZWZpbmUgPSBkZWZpbmU7XG4gICAgICAgIHJvb3QuZGVmaW5lLnBhY2thZ2VkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoIXJvb3QucmVxdWlyZSB8fCAhcm9vdC5yZXF1aXJlLnBhY2thZ2VkKSB7XG4gICAgICAgIHJlcXVpcmUub3JpZ2luYWwgPSByb290LnJlcXVpcmU7XG4gICAgICAgIHJvb3QucmVxdWlyZSA9IHJlcXVpcmU7XG4gICAgICAgIHJvb3QucmVxdWlyZS5wYWNrYWdlZCA9IHRydWU7XG4gICAgfVxufVxuXG5leHBvcnRBY2UoQUNFX05BTUVTUEFDRSk7XG5cbn0pKCk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvbGliL2VzNi1zaGltXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCJdLCBmdW5jdGlvbiAocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG4gIGZ1bmN0aW9uIGRlZmluZVByb3Aob2JqLCBuYW1lLCB2YWwpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBuYW1lLCB7XG4gICAgICB2YWx1ZTogdmFsLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9XG4gIGlmICghU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoKSB7XG4gICAgZGVmaW5lUHJvcChcbiAgICAgIFN0cmluZy5wcm90b3R5cGUsXG4gICAgICBcInN0YXJ0c1dpdGhcIixcbiAgICAgIGZ1bmN0aW9uIChzZWFyY2hTdHJpbmcsIHBvc2l0aW9uKSB7XG4gICAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24gfHwgMDtcbiAgICAgICAgcmV0dXJuIHRoaXMubGFzdEluZGV4T2Yoc2VhcmNoU3RyaW5nLCBwb3NpdGlvbikgPT09IHBvc2l0aW9uO1xuICAgICAgfVxuICAgICk7XG4gIH1cbiAgaWYgKCFTdHJpbmcucHJvdG90eXBlLmVuZHNXaXRoKSB7XG4gICAgZGVmaW5lUHJvcChTdHJpbmcucHJvdG90eXBlLCBcImVuZHNXaXRoXCIsIGZ1bmN0aW9uIChzZWFyY2hTdHJpbmcsIHBvc2l0aW9uKSB7XG4gICAgICB2YXIgc3ViamVjdFN0cmluZyA9IHRoaXM7XG4gICAgICBpZiAocG9zaXRpb24gPT09IHVuZGVmaW5lZCB8fCBwb3NpdGlvbiA+IHN1YmplY3RTdHJpbmcubGVuZ3RoKSB7XG4gICAgICAgIHBvc2l0aW9uID0gc3ViamVjdFN0cmluZy5sZW5ndGg7XG4gICAgICB9XG4gICAgICBwb3NpdGlvbiAtPSBzZWFyY2hTdHJpbmcubGVuZ3RoO1xuICAgICAgdmFyIGxhc3RJbmRleCA9IHN1YmplY3RTdHJpbmcuaW5kZXhPZihzZWFyY2hTdHJpbmcsIHBvc2l0aW9uKTtcbiAgICAgIHJldHVybiBsYXN0SW5kZXggIT09IC0xICYmIGxhc3RJbmRleCA9PT0gcG9zaXRpb247XG4gICAgfSk7XG4gIH1cbiAgaWYgKCFTdHJpbmcucHJvdG90eXBlLnJlcGVhdCkge1xuICAgIGRlZmluZVByb3AoU3RyaW5nLnByb3RvdHlwZSwgXCJyZXBlYXRcIiwgZnVuY3Rpb24gKGNvdW50KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gXCJcIjtcbiAgICAgIHZhciBzdHJpbmcgPSB0aGlzO1xuICAgICAgd2hpbGUgKGNvdW50ID4gMCkge1xuICAgICAgICBpZiAoY291bnQgJiAxKSByZXN1bHQgKz0gc3RyaW5nO1xuXG4gICAgICAgIGlmICgoY291bnQgPj49IDEpKSBzdHJpbmcgKz0gc3RyaW5nO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcbiAgfVxuICBpZiAoIVN0cmluZy5wcm90b3R5cGUuaW5jbHVkZXMpIHtcbiAgICBkZWZpbmVQcm9wKFN0cmluZy5wcm90b3R5cGUsIFwiaW5jbHVkZXNcIiwgZnVuY3Rpb24gKHN0ciwgcG9zaXRpb24pIHtcbiAgICAgIHJldHVybiB0aGlzLmluZGV4T2Yoc3RyLCBwb3NpdGlvbikgIT0gLTE7XG4gICAgfSk7XG4gIH1cbiAgaWYgKCFPYmplY3QuYXNzaWduKSB7XG4gICAgT2JqZWN0LmFzc2lnbiA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgIGlmICh0YXJnZXQgPT09IHVuZGVmaW5lZCB8fCB0YXJnZXQgPT09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjb252ZXJ0IHVuZGVmaW5lZCBvciBudWxsIHRvIG9iamVjdFwiKTtcbiAgICAgIH1cblxuICAgICAgdmFyIG91dHB1dCA9IE9iamVjdCh0YXJnZXQpO1xuICAgICAgZm9yICh2YXIgaW5kZXggPSAxOyBpbmRleCA8IGFyZ3VtZW50cy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpbmRleF07XG4gICAgICAgIGlmIChzb3VyY2UgIT09IHVuZGVmaW5lZCAmJiBzb3VyY2UgIT09IG51bGwpIHtcbiAgICAgICAgICBPYmplY3Qua2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgb3V0cHV0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9O1xuICB9XG4gIGlmICghT2JqZWN0LnZhbHVlcykge1xuICAgIE9iamVjdC52YWx1ZXMgPSBmdW5jdGlvbiAobykge1xuICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKG8pLm1hcChmdW5jdGlvbiAoaykge1xuICAgICAgICByZXR1cm4gb1trXTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH1cbiAgaWYgKCFBcnJheS5wcm90b3R5cGUuZmluZCkge1xuICAgIGRlZmluZVByb3AoQXJyYXkucHJvdG90eXBlLCBcImZpbmRcIiwgZnVuY3Rpb24gKHByZWRpY2F0ZSkge1xuICAgICAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoO1xuICAgICAgdmFyIHRoaXNBcmcgPSBhcmd1bWVudHNbMV07XG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IGxlbjsgaysrKSB7XG4gICAgICAgIHZhciBrVmFsdWUgPSB0aGlzW2tdO1xuICAgICAgICBpZiAocHJlZGljYXRlLmNhbGwodGhpc0FyZywga1ZhbHVlLCBrLCB0aGlzKSkge1xuICAgICAgICAgIHJldHVybiBrVmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBpZiAoIUFycmF5LnByb3RvdHlwZS5maW5kSW5kZXgpIHtcbiAgICBkZWZpbmVQcm9wKEFycmF5LnByb3RvdHlwZSwgXCJmaW5kSW5kZXhcIiwgZnVuY3Rpb24gKHByZWRpY2F0ZSkge1xuICAgICAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoO1xuICAgICAgdmFyIHRoaXNBcmcgPSBhcmd1bWVudHNbMV07XG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IGxlbjsgaysrKSB7XG4gICAgICAgIHZhciBrVmFsdWUgPSB0aGlzW2tdO1xuICAgICAgICBpZiAocHJlZGljYXRlLmNhbGwodGhpc0FyZywga1ZhbHVlLCBrLCB0aGlzKSkge1xuICAgICAgICAgIHJldHVybiBrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgaWYgKCFBcnJheS5wcm90b3R5cGUuaW5jbHVkZXMpIHtcbiAgICBkZWZpbmVQcm9wKEFycmF5LnByb3RvdHlwZSwgXCJpbmNsdWRlc1wiLCBmdW5jdGlvbiAoaXRlbSwgcG9zaXRpb24pIHtcbiAgICAgIHJldHVybiB0aGlzLmluZGV4T2YoaXRlbSwgcG9zaXRpb24pICE9IC0xO1xuICAgIH0pO1xuICB9XG4gIGlmICghQXJyYXkucHJvdG90eXBlLmZpbGwpIHtcbiAgICBkZWZpbmVQcm9wKEFycmF5LnByb3RvdHlwZSwgXCJmaWxsXCIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgdmFyIE8gPSB0aGlzO1xuICAgICAgdmFyIGxlbiA9IE8ubGVuZ3RoID4+PiAwO1xuICAgICAgdmFyIHN0YXJ0ID0gYXJndW1lbnRzWzFdO1xuICAgICAgdmFyIHJlbGF0aXZlU3RhcnQgPSBzdGFydCA+PiAwO1xuICAgICAgdmFyIGsgPVxuICAgICAgICByZWxhdGl2ZVN0YXJ0IDwgMFxuICAgICAgICAgID8gTWF0aC5tYXgobGVuICsgcmVsYXRpdmVTdGFydCwgMClcbiAgICAgICAgICA6IE1hdGgubWluKHJlbGF0aXZlU3RhcnQsIGxlbik7XG4gICAgICB2YXIgZW5kID0gYXJndW1lbnRzWzJdO1xuICAgICAgdmFyIHJlbGF0aXZlRW5kID0gZW5kID09PSB1bmRlZmluZWQgPyBsZW4gOiBlbmQgPj4gMDtcbiAgICAgIHZhciBmaW5hbCA9XG4gICAgICAgIHJlbGF0aXZlRW5kIDwgMFxuICAgICAgICAgID8gTWF0aC5tYXgobGVuICsgcmVsYXRpdmVFbmQsIDApXG4gICAgICAgICAgOiBNYXRoLm1pbihyZWxhdGl2ZUVuZCwgbGVuKTtcbiAgICAgIHdoaWxlIChrIDwgZmluYWwpIHtcbiAgICAgICAgT1trXSA9IHZhbHVlO1xuICAgICAgICBrKys7XG4gICAgICB9XG4gICAgICByZXR1cm4gTztcbiAgICB9KTtcbiAgfVxuICBpZiAoIUFycmF5Lm9mKSB7XG4gICAgZGVmaW5lUHJvcChBcnJheSwgXCJvZlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICB9KTtcbiAgfVxufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvbGliL2ZpeG9sZGJyb3dzZXJzXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL2VzNi1zaGltXCJdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuXG5yZXF1aXJlKFwiLi9lczYtc2hpbVwiKTtcblxufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvbGliL2xhbmdcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIl0sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMubGFzdCA9IGZ1bmN0aW9uKGEpIHtcbiAgICByZXR1cm4gYVthLmxlbmd0aCAtIDFdO1xufTtcblxuZXhwb3J0cy5zdHJpbmdSZXZlcnNlID0gZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5zcGxpdChcIlwiKS5yZXZlcnNlKCkuam9pbihcIlwiKTtcbn07XG5cbmV4cG9ydHMuc3RyaW5nUmVwZWF0ID0gZnVuY3Rpb24gKHN0cmluZywgY291bnQpIHtcbiAgICB2YXIgcmVzdWx0ID0gJyc7XG4gICAgd2hpbGUgKGNvdW50ID4gMCkge1xuICAgICAgICBpZiAoY291bnQgJiAxKVxuICAgICAgICAgICAgcmVzdWx0ICs9IHN0cmluZztcblxuICAgICAgICBpZiAoY291bnQgPj49IDEpXG4gICAgICAgICAgICBzdHJpbmcgKz0gc3RyaW5nO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxudmFyIHRyaW1CZWdpblJlZ2V4cCA9IC9eXFxzXFxzKi87XG52YXIgdHJpbUVuZFJlZ2V4cCA9IC9cXHNcXHMqJC87XG5cbmV4cG9ydHMuc3RyaW5nVHJpbUxlZnQgPSBmdW5jdGlvbiAoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKHRyaW1CZWdpblJlZ2V4cCwgJycpO1xufTtcblxuZXhwb3J0cy5zdHJpbmdUcmltUmlnaHQgPSBmdW5jdGlvbiAoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKHRyaW1FbmRSZWdleHAsICcnKTtcbn07XG5cbmV4cG9ydHMuY29weU9iamVjdCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBjb3B5ID0ge307XG4gICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgICBjb3B5W2tleV0gPSBvYmpba2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIGNvcHk7XG59O1xuXG5leHBvcnRzLmNvcHlBcnJheSA9IGZ1bmN0aW9uKGFycmF5KXtcbiAgICB2YXIgY29weSA9IFtdO1xuICAgIGZvciAodmFyIGk9MCwgbD1hcnJheS5sZW5ndGg7IGk8bDsgaSsrKSB7XG4gICAgICAgIGlmIChhcnJheVtpXSAmJiB0eXBlb2YgYXJyYXlbaV0gPT0gXCJvYmplY3RcIilcbiAgICAgICAgICAgIGNvcHlbaV0gPSB0aGlzLmNvcHlPYmplY3QoYXJyYXlbaV0pO1xuICAgICAgICBlbHNlIFxuICAgICAgICAgICAgY29weVtpXSA9IGFycmF5W2ldO1xuICAgIH1cbiAgICByZXR1cm4gY29weTtcbn07XG5cbmV4cG9ydHMuZGVlcENvcHkgPSBmdW5jdGlvbiBkZWVwQ29weShvYmopIHtcbiAgICBpZiAodHlwZW9mIG9iaiAhPT0gXCJvYmplY3RcIiB8fCAhb2JqKVxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIHZhciBjb3B5O1xuICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgICAgY29weSA9IFtdO1xuICAgICAgICBmb3IgKHZhciBrZXkgPSAwOyBrZXkgPCBvYmoubGVuZ3RoOyBrZXkrKykge1xuICAgICAgICAgICAgY29weVtrZXldID0gZGVlcENvcHkob2JqW2tleV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb3B5O1xuICAgIH1cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgIT09IFwiW29iamVjdCBPYmplY3RdXCIpXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgXG4gICAgY29weSA9IHt9O1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopXG4gICAgICAgIGNvcHlba2V5XSA9IGRlZXBDb3B5KG9ialtrZXldKTtcbiAgICByZXR1cm4gY29weTtcbn07XG5cbmV4cG9ydHMuYXJyYXlUb01hcCA9IGZ1bmN0aW9uKGFycikge1xuICAgIHZhciBtYXAgPSB7fTtcbiAgICBmb3IgKHZhciBpPTA7IGk8YXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG1hcFthcnJbaV1dID0gMTtcbiAgICB9XG4gICAgcmV0dXJuIG1hcDtcblxufTtcblxuZXhwb3J0cy5jcmVhdGVNYXAgPSBmdW5jdGlvbihwcm9wcykge1xuICAgIHZhciBtYXAgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGZvciAodmFyIGkgaW4gcHJvcHMpIHtcbiAgICAgICAgbWFwW2ldID0gcHJvcHNbaV07XG4gICAgfVxuICAgIHJldHVybiBtYXA7XG59O1xuZXhwb3J0cy5hcnJheVJlbW92ZSA9IGZ1bmN0aW9uKGFycmF5LCB2YWx1ZSkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8PSBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgIGlmICh2YWx1ZSA9PT0gYXJyYXlbaV0pIHtcbiAgICAgIGFycmF5LnNwbGljZShpLCAxKTtcbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydHMuZXNjYXBlUmVnRXhwID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oWy4qKz9eJHt9KCl8W1xcXVxcL1xcXFxdKS9nLCAnXFxcXCQxJyk7XG59O1xuXG5leHBvcnRzLmVzY2FwZUhUTUwgPSBmdW5jdGlvbihzdHIpIHtcbiAgICByZXR1cm4gKFwiXCIgKyBzdHIpLnJlcGxhY2UoLyYvZywgXCImIzM4O1wiKS5yZXBsYWNlKC9cIi9nLCBcIiYjMzQ7XCIpLnJlcGxhY2UoLycvZywgXCImIzM5O1wiKS5yZXBsYWNlKC88L2csIFwiJiM2MDtcIik7XG59O1xuXG5leHBvcnRzLmdldE1hdGNoT2Zmc2V0cyA9IGZ1bmN0aW9uKHN0cmluZywgcmVnRXhwKSB7XG4gICAgdmFyIG1hdGNoZXMgPSBbXTtcblxuICAgIHN0cmluZy5yZXBsYWNlKHJlZ0V4cCwgZnVuY3Rpb24oc3RyKSB7XG4gICAgICAgIG1hdGNoZXMucHVzaCh7XG4gICAgICAgICAgICBvZmZzZXQ6IGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoLTJdLFxuICAgICAgICAgICAgbGVuZ3RoOiBzdHIubGVuZ3RoXG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIG1hdGNoZXM7XG59O1xuZXhwb3J0cy5kZWZlcnJlZENhbGwgPSBmdW5jdGlvbihmY24pIHtcbiAgICB2YXIgdGltZXIgPSBudWxsO1xuICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aW1lciA9IG51bGw7XG4gICAgICAgIGZjbigpO1xuICAgIH07XG5cbiAgICB2YXIgZGVmZXJyZWQgPSBmdW5jdGlvbih0aW1lb3V0KSB7XG4gICAgICAgIGRlZmVycmVkLmNhbmNlbCgpO1xuICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIHRpbWVvdXQgfHwgMCk7XG4gICAgICAgIHJldHVybiBkZWZlcnJlZDtcbiAgICB9O1xuXG4gICAgZGVmZXJyZWQuc2NoZWR1bGUgPSBkZWZlcnJlZDtcblxuICAgIGRlZmVycmVkLmNhbGwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5jYW5jZWwoKTtcbiAgICAgICAgZmNuKCk7XG4gICAgICAgIHJldHVybiBkZWZlcnJlZDtcbiAgICB9O1xuXG4gICAgZGVmZXJyZWQuY2FuY2VsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICAgIHRpbWVyID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIGRlZmVycmVkO1xuICAgIH07XG4gICAgXG4gICAgZGVmZXJyZWQuaXNQZW5kaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aW1lcjtcbiAgICB9O1xuXG4gICAgcmV0dXJuIGRlZmVycmVkO1xufTtcblxuXG5leHBvcnRzLmRlbGF5ZWRDYWxsID0gZnVuY3Rpb24oZmNuLCBkZWZhdWx0VGltZW91dCkge1xuICAgIHZhciB0aW1lciA9IG51bGw7XG4gICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRpbWVyID0gbnVsbDtcbiAgICAgICAgZmNuKCk7XG4gICAgfTtcblxuICAgIHZhciBfc2VsZiA9IGZ1bmN0aW9uKHRpbWVvdXQpIHtcbiAgICAgICAgaWYgKHRpbWVyID09IG51bGwpXG4gICAgICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIHRpbWVvdXQgfHwgZGVmYXVsdFRpbWVvdXQpO1xuICAgIH07XG5cbiAgICBfc2VsZi5kZWxheSA9IGZ1bmN0aW9uKHRpbWVvdXQpIHtcbiAgICAgICAgdGltZXIgJiYgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGNhbGxiYWNrLCB0aW1lb3V0IHx8IGRlZmF1bHRUaW1lb3V0KTtcbiAgICB9O1xuICAgIF9zZWxmLnNjaGVkdWxlID0gX3NlbGY7XG5cbiAgICBfc2VsZi5jYWxsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuY2FuY2VsKCk7XG4gICAgICAgIGZjbigpO1xuICAgIH07XG5cbiAgICBfc2VsZi5jYW5jZWwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGltZXIgJiYgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgdGltZXIgPSBudWxsO1xuICAgIH07XG5cbiAgICBfc2VsZi5pc1BlbmRpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRpbWVyO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3NlbGY7XG59O1xufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvbGliL29vcFwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5pbmhlcml0cyA9IGZ1bmN0aW9uKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yO1xuICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7XG4gICAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgICAgICB2YWx1ZTogY3RvcixcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuZXhwb3J0cy5taXhpbiA9IGZ1bmN0aW9uKG9iaiwgbWl4aW4pIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gbWl4aW4pIHtcbiAgICAgICAgb2JqW2tleV0gPSBtaXhpbltrZXldO1xuICAgIH1cbiAgICByZXR1cm4gb2JqO1xufTtcblxuZXhwb3J0cy5pbXBsZW1lbnQgPSBmdW5jdGlvbihwcm90bywgbWl4aW4pIHtcbiAgICBleHBvcnRzLm1peGluKHByb3RvLCBtaXhpbik7XG59O1xuXG59KTtcblxuYWNlLmRlZmluZShcImFjZS9saWIvdXNlcmFnZW50XCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCJdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuZXhwb3J0cy5PUyA9IHtcbiAgICBMSU5VWDogXCJMSU5VWFwiLFxuICAgIE1BQzogXCJNQUNcIixcbiAgICBXSU5ET1dTOiBcIldJTkRPV1NcIlxufTtcbmV4cG9ydHMuZ2V0T1MgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoZXhwb3J0cy5pc01hYykge1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5PUy5NQUM7XG4gICAgfSBlbHNlIGlmIChleHBvcnRzLmlzTGludXgpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuT1MuTElOVVg7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuT1MuV0lORE9XUztcbiAgICB9XG59O1xudmFyIF9uYXZpZ2F0b3IgPSB0eXBlb2YgbmF2aWdhdG9yID09IFwib2JqZWN0XCIgPyBuYXZpZ2F0b3IgOiB7fTtcblxudmFyIG9zID0gKC9tYWN8d2lufGxpbnV4L2kuZXhlYyhfbmF2aWdhdG9yLnBsYXRmb3JtKSB8fCBbXCJvdGhlclwiXSlbMF0udG9Mb3dlckNhc2UoKTtcbnZhciB1YSA9IF9uYXZpZ2F0b3IudXNlckFnZW50IHx8IFwiXCI7XG52YXIgYXBwTmFtZSA9IF9uYXZpZ2F0b3IuYXBwTmFtZSB8fCBcIlwiO1xuZXhwb3J0cy5pc1dpbiA9IChvcyA9PSBcIndpblwiKTtcbmV4cG9ydHMuaXNNYWMgPSAob3MgPT0gXCJtYWNcIik7XG5leHBvcnRzLmlzTGludXggPSAob3MgPT0gXCJsaW51eFwiKTtcbmV4cG9ydHMuaXNJRSA9IFxuICAgIChhcHBOYW1lID09IFwiTWljcm9zb2Z0IEludGVybmV0IEV4cGxvcmVyXCIgfHwgYXBwTmFtZS5pbmRleE9mKFwiTVNBcHBIb3N0XCIpID49IDApXG4gICAgPyBwYXJzZUZsb2F0KCh1YS5tYXRjaCgvKD86TVNJRSB8VHJpZGVudFxcL1swLTldK1tcXC4wLTldKzsuKnJ2OikoWzAtOV0rW1xcLjAtOV0rKS8pfHxbXSlbMV0pXG4gICAgOiBwYXJzZUZsb2F0KCh1YS5tYXRjaCgvKD86VHJpZGVudFxcL1swLTldK1tcXC4wLTldKzsuKnJ2OikoWzAtOV0rW1xcLjAtOV0rKS8pfHxbXSlbMV0pOyAvLyBmb3IgaWVcbiAgICBcbmV4cG9ydHMuaXNPbGRJRSA9IGV4cG9ydHMuaXNJRSAmJiBleHBvcnRzLmlzSUUgPCA5O1xuZXhwb3J0cy5pc0dlY2tvID0gZXhwb3J0cy5pc01vemlsbGEgPSB1YS5tYXRjaCgvIEdlY2tvXFwvXFxkKy8pO1xuZXhwb3J0cy5pc09wZXJhID0gdHlwZW9mIG9wZXJhID09IFwib2JqZWN0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHdpbmRvdy5vcGVyYSkgPT0gXCJbb2JqZWN0IE9wZXJhXVwiO1xuZXhwb3J0cy5pc1dlYktpdCA9IHBhcnNlRmxvYXQodWEuc3BsaXQoXCJXZWJLaXQvXCIpWzFdKSB8fCB1bmRlZmluZWQ7XG5cbmV4cG9ydHMuaXNDaHJvbWUgPSBwYXJzZUZsb2F0KHVhLnNwbGl0KFwiIENocm9tZS9cIilbMV0pIHx8IHVuZGVmaW5lZDtcblxuZXhwb3J0cy5pc0VkZ2UgPSBwYXJzZUZsb2F0KHVhLnNwbGl0KFwiIEVkZ2UvXCIpWzFdKSB8fCB1bmRlZmluZWQ7XG5cbmV4cG9ydHMuaXNBSVIgPSB1YS5pbmRleE9mKFwiQWRvYmVBSVJcIikgPj0gMDtcblxuZXhwb3J0cy5pc0FuZHJvaWQgPSB1YS5pbmRleE9mKFwiQW5kcm9pZFwiKSA+PSAwO1xuXG5leHBvcnRzLmlzQ2hyb21lT1MgPSB1YS5pbmRleE9mKFwiIENyT1MgXCIpID49IDA7XG5cbmV4cG9ydHMuaXNJT1MgPSAvaVBhZHxpUGhvbmV8aVBvZC8udGVzdCh1YSkgJiYgIXdpbmRvdy5NU1N0cmVhbTtcblxuaWYgKGV4cG9ydHMuaXNJT1MpIGV4cG9ydHMuaXNNYWMgPSB0cnVlO1xuXG5leHBvcnRzLmlzTW9iaWxlID0gZXhwb3J0cy5pc0lPUyB8fCBleHBvcnRzLmlzQW5kcm9pZDtcblxufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvbGliL2RvbVwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi91c2VyYWdlbnRcIl0sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciB1c2VyYWdlbnQgPSByZXF1aXJlKFwiLi91c2VyYWdlbnRcIik7IFxudmFyIFhIVE1MX05TID0gXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCI7XG5cbmV4cG9ydHMuYnVpbGREb20gPSBmdW5jdGlvbiBidWlsZERvbShhcnIsIHBhcmVudCwgcmVmcykge1xuICAgIGlmICh0eXBlb2YgYXJyID09IFwic3RyaW5nXCIgJiYgYXJyKSB7XG4gICAgICAgIHZhciB0eHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShhcnIpO1xuICAgICAgICBpZiAocGFyZW50KVxuICAgICAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKHR4dCk7XG4gICAgICAgIHJldHVybiB0eHQ7XG4gICAgfVxuICAgIFxuICAgIGlmICghQXJyYXkuaXNBcnJheShhcnIpKSB7XG4gICAgICAgIGlmIChhcnIgJiYgYXJyLmFwcGVuZENoaWxkICYmIHBhcmVudClcbiAgICAgICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChhcnIpO1xuICAgICAgICByZXR1cm4gYXJyO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGFyclswXSAhPSBcInN0cmluZ1wiIHx8ICFhcnJbMF0pIHtcbiAgICAgICAgdmFyIGVscyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNoID0gYnVpbGREb20oYXJyW2ldLCBwYXJlbnQsIHJlZnMpO1xuICAgICAgICAgICAgY2ggJiYgZWxzLnB1c2goY2gpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbHM7XG4gICAgfVxuICAgIFxuICAgIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYXJyWzBdKTtcbiAgICB2YXIgb3B0aW9ucyA9IGFyclsxXTtcbiAgICB2YXIgY2hpbGRJbmRleCA9IDE7XG4gICAgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMgPT0gXCJvYmplY3RcIiAmJiAhQXJyYXkuaXNBcnJheShvcHRpb25zKSlcbiAgICAgICAgY2hpbGRJbmRleCA9IDI7XG4gICAgZm9yICh2YXIgaSA9IGNoaWxkSW5kZXg7IGkgPCBhcnIubGVuZ3RoOyBpKyspXG4gICAgICAgIGJ1aWxkRG9tKGFycltpXSwgZWwsIHJlZnMpO1xuICAgIGlmIChjaGlsZEluZGV4ID09IDIpIHtcbiAgICAgICAgT2JqZWN0LmtleXMob3B0aW9ucykuZm9yRWFjaChmdW5jdGlvbihuKSB7XG4gICAgICAgICAgICB2YXIgdmFsID0gb3B0aW9uc1tuXTtcbiAgICAgICAgICAgIGlmIChuID09PSBcImNsYXNzXCIpIHtcbiAgICAgICAgICAgICAgICBlbC5jbGFzc05hbWUgPSBBcnJheS5pc0FycmF5KHZhbCkgPyB2YWwuam9pbihcIiBcIikgOiB2YWw7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT0gXCJmdW5jdGlvblwiIHx8IG4gPT0gXCJ2YWx1ZVwiIHx8IG5bMF0gPT0gXCIkXCIpIHtcbiAgICAgICAgICAgICAgICBlbFtuXSA9IHZhbDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobiA9PT0gXCJyZWZcIikge1xuICAgICAgICAgICAgICAgIGlmIChyZWZzKSByZWZzW3ZhbF0gPSBlbDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobiA9PT0gXCJzdHlsZVwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT0gXCJzdHJpbmdcIikgZWwuc3R5bGUuY3NzVGV4dCA9IHZhbDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUobiwgdmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChwYXJlbnQpXG4gICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChlbCk7XG4gICAgcmV0dXJuIGVsO1xufTtcblxuZXhwb3J0cy5nZXREb2N1bWVudEhlYWQgPSBmdW5jdGlvbihkb2MpIHtcbiAgICBpZiAoIWRvYylcbiAgICAgICAgZG9jID0gZG9jdW1lbnQ7XG4gICAgcmV0dXJuIGRvYy5oZWFkIHx8IGRvYy5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF0gfHwgZG9jLmRvY3VtZW50RWxlbWVudDtcbn07XG5cbmV4cG9ydHMuY3JlYXRlRWxlbWVudCA9IGZ1bmN0aW9uKHRhZywgbnMpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TID9cbiAgICAgICAgICAgIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhucyB8fCBYSFRNTF9OUywgdGFnKSA6XG4gICAgICAgICAgICBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7XG59O1xuXG5leHBvcnRzLnJlbW92ZUNoaWxkcmVuID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gXCJcIjtcbn07XG5cbmV4cG9ydHMuY3JlYXRlVGV4dE5vZGUgPSBmdW5jdGlvbih0ZXh0Q29udGVudCwgZWxlbWVudCkge1xuICAgIHZhciBkb2MgPSBlbGVtZW50ID8gZWxlbWVudC5vd25lckRvY3VtZW50IDogZG9jdW1lbnQ7XG4gICAgcmV0dXJuIGRvYy5jcmVhdGVUZXh0Tm9kZSh0ZXh0Q29udGVudCk7XG59O1xuXG5leHBvcnRzLmNyZWF0ZUZyYWdtZW50ID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHZhciBkb2MgPSBlbGVtZW50ID8gZWxlbWVudC5vd25lckRvY3VtZW50IDogZG9jdW1lbnQ7XG4gICAgcmV0dXJuIGRvYy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG59O1xuXG5leHBvcnRzLmhhc0Nzc0NsYXNzID0gZnVuY3Rpb24oZWwsIG5hbWUpIHtcbiAgICB2YXIgY2xhc3NlcyA9IChlbC5jbGFzc05hbWUgKyBcIlwiKS5zcGxpdCgvXFxzKy9nKTtcbiAgICByZXR1cm4gY2xhc3Nlcy5pbmRleE9mKG5hbWUpICE9PSAtMTtcbn07XG5leHBvcnRzLmFkZENzc0NsYXNzID0gZnVuY3Rpb24oZWwsIG5hbWUpIHtcbiAgICBpZiAoIWV4cG9ydHMuaGFzQ3NzQ2xhc3MoZWwsIG5hbWUpKSB7XG4gICAgICAgIGVsLmNsYXNzTmFtZSArPSBcIiBcIiArIG5hbWU7XG4gICAgfVxufTtcbmV4cG9ydHMucmVtb3ZlQ3NzQ2xhc3MgPSBmdW5jdGlvbihlbCwgbmFtZSkge1xuICAgIHZhciBjbGFzc2VzID0gZWwuY2xhc3NOYW1lLnNwbGl0KC9cXHMrL2cpO1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGNsYXNzZXMuaW5kZXhPZihuYW1lKTtcbiAgICAgICAgaWYgKGluZGV4ID09IC0xKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjbGFzc2VzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICAgIGVsLmNsYXNzTmFtZSA9IGNsYXNzZXMuam9pbihcIiBcIik7XG59O1xuXG5leHBvcnRzLnRvZ2dsZUNzc0NsYXNzID0gZnVuY3Rpb24oZWwsIG5hbWUpIHtcbiAgICB2YXIgY2xhc3NlcyA9IGVsLmNsYXNzTmFtZS5zcGxpdCgvXFxzKy9nKSwgYWRkID0gdHJ1ZTtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB2YXIgaW5kZXggPSBjbGFzc2VzLmluZGV4T2YobmFtZSk7XG4gICAgICAgIGlmIChpbmRleCA9PSAtMSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgYWRkID0gZmFsc2U7XG4gICAgICAgIGNsYXNzZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gICAgaWYgKGFkZClcbiAgICAgICAgY2xhc3Nlcy5wdXNoKG5hbWUpO1xuXG4gICAgZWwuY2xhc3NOYW1lID0gY2xhc3Nlcy5qb2luKFwiIFwiKTtcbiAgICByZXR1cm4gYWRkO1xufTtcbmV4cG9ydHMuc2V0Q3NzQ2xhc3MgPSBmdW5jdGlvbihub2RlLCBjbGFzc05hbWUsIGluY2x1ZGUpIHtcbiAgICBpZiAoaW5jbHVkZSkge1xuICAgICAgICBleHBvcnRzLmFkZENzc0NsYXNzKG5vZGUsIGNsYXNzTmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZXhwb3J0cy5yZW1vdmVDc3NDbGFzcyhub2RlLCBjbGFzc05hbWUpO1xuICAgIH1cbn07XG5cbmV4cG9ydHMuaGFzQ3NzU3RyaW5nID0gZnVuY3Rpb24oaWQsIGRvYykge1xuICAgIHZhciBpbmRleCA9IDAsIHNoZWV0cztcbiAgICBkb2MgPSBkb2MgfHwgZG9jdW1lbnQ7XG4gICAgaWYgKChzaGVldHMgPSBkb2MucXVlcnlTZWxlY3RvckFsbChcInN0eWxlXCIpKSkge1xuICAgICAgICB3aGlsZSAoaW5kZXggPCBzaGVldHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoc2hlZXRzW2luZGV4KytdLmlkID09PSBpZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufTtcblxuZXhwb3J0cy5yZW1vdmVFbGVtZW50QnlJZCA9IGZ1bmN0aW9uKGlkLCBkb2MpIHtcbiAgICBkb2MgPSBkb2MgfHwgZG9jdW1lbnQ7XG4gICAgaWYoZG9jLmdldEVsZW1lbnRCeUlkKGlkKSkge1xuICAgICAgICBkb2MuZ2V0RWxlbWVudEJ5SWQoaWQpLnJlbW92ZSgpO1xuICAgIH1cbn07XG5cbnZhciBzdHJpY3RDU1A7XG52YXIgY3NzQ2FjaGUgPSBbXTtcbmV4cG9ydHMudXNlU3RyaWN0Q1NQID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBzdHJpY3RDU1AgPSB2YWx1ZTtcbiAgICBpZiAodmFsdWUgPT0gZmFsc2UpIGluc2VydFBlbmRpbmdTdHlsZXMoKTtcbiAgICBlbHNlIGlmICghY3NzQ2FjaGUpIGNzc0NhY2hlID0gW107XG59O1xuXG5mdW5jdGlvbiBpbnNlcnRQZW5kaW5nU3R5bGVzKCkge1xuICAgIHZhciBjYWNoZSA9IGNzc0NhY2hlO1xuICAgIGNzc0NhY2hlID0gbnVsbDtcbiAgICBjYWNoZSAmJiBjYWNoZS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgaW1wb3J0Q3NzU3RyaW5nKGl0ZW1bMF0sIGl0ZW1bMV0pO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBpbXBvcnRDc3NTdHJpbmcoY3NzVGV4dCwgaWQsIHRhcmdldCkge1xuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgPT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgcmV0dXJuO1xuICAgIGlmIChjc3NDYWNoZSkge1xuICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICBpbnNlcnRQZW5kaW5nU3R5bGVzKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGFyZ2V0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuIGNzc0NhY2hlLnB1c2goW2Nzc1RleHQsIGlkXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHN0cmljdENTUCkgcmV0dXJuO1xuXG4gICAgdmFyIGNvbnRhaW5lciA9IHRhcmdldDtcbiAgICBpZiAoIXRhcmdldCB8fCAhdGFyZ2V0LmdldFJvb3ROb2RlKSB7XG4gICAgICAgIGNvbnRhaW5lciA9IGRvY3VtZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRhaW5lciA9IHRhcmdldC5nZXRSb290Tm9kZSgpO1xuICAgICAgICBpZiAoIWNvbnRhaW5lciB8fCBjb250YWluZXIgPT0gdGFyZ2V0KVxuICAgICAgICAgICAgY29udGFpbmVyID0gZG9jdW1lbnQ7XG4gICAgfVxuICAgIFxuICAgIHZhciBkb2MgPSBjb250YWluZXIub3duZXJEb2N1bWVudCB8fCBjb250YWluZXI7XG4gICAgaWYgKGlkICYmIGV4cG9ydHMuaGFzQ3NzU3RyaW5nKGlkLCBjb250YWluZXIpKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBcbiAgICBpZiAoaWQpXG4gICAgICAgIGNzc1RleHQgKz0gXCJcXG4vKiMgc291cmNlVVJMPWFjZS9jc3MvXCIgKyBpZCArIFwiICovXCI7XG4gICAgXG4gICAgdmFyIHN0eWxlID0gZXhwb3J0cy5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jLmNyZWF0ZVRleHROb2RlKGNzc1RleHQpKTtcbiAgICBpZiAoaWQpXG4gICAgICAgIHN0eWxlLmlkID0gaWQ7XG5cbiAgICBpZiAoY29udGFpbmVyID09IGRvYylcbiAgICAgICAgY29udGFpbmVyID0gZXhwb3J0cy5nZXREb2N1bWVudEhlYWQoZG9jKTtcbiAgICBjb250YWluZXIuaW5zZXJ0QmVmb3JlKHN0eWxlLCBjb250YWluZXIuZmlyc3RDaGlsZCk7XG59XG5leHBvcnRzLmltcG9ydENzc1N0cmluZyA9IGltcG9ydENzc1N0cmluZztcblxuZXhwb3J0cy5pbXBvcnRDc3NTdHlsc2hlZXQgPSBmdW5jdGlvbih1cmksIGRvYykge1xuICAgIGV4cG9ydHMuYnVpbGREb20oW1wibGlua1wiLCB7cmVsOiBcInN0eWxlc2hlZXRcIiwgaHJlZjogdXJpfV0sIGV4cG9ydHMuZ2V0RG9jdW1lbnRIZWFkKGRvYykpO1xufTtcbmV4cG9ydHMuc2Nyb2xsYmFyV2lkdGggPSBmdW5jdGlvbihkb2N1bWVudCkge1xuICAgIHZhciBpbm5lciA9IGV4cG9ydHMuY3JlYXRlRWxlbWVudChcImFjZV9pbm5lclwiKTtcbiAgICBpbm5lci5zdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xuICAgIGlubmVyLnN0eWxlLm1pbldpZHRoID0gXCIwcHhcIjtcbiAgICBpbm5lci5zdHlsZS5oZWlnaHQgPSBcIjIwMHB4XCI7XG4gICAgaW5uZXIuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcblxuICAgIHZhciBvdXRlciA9IGV4cG9ydHMuY3JlYXRlRWxlbWVudChcImFjZV9vdXRlclwiKTtcbiAgICB2YXIgc3R5bGUgPSBvdXRlci5zdHlsZTtcblxuICAgIHN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgIHN0eWxlLmxlZnQgPSBcIi0xMDAwMHB4XCI7XG4gICAgc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xuICAgIHN0eWxlLndpZHRoID0gXCIyMDBweFwiO1xuICAgIHN0eWxlLm1pbldpZHRoID0gXCIwcHhcIjtcbiAgICBzdHlsZS5oZWlnaHQgPSBcIjE1MHB4XCI7XG4gICAgc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcblxuICAgIG91dGVyLmFwcGVuZENoaWxkKGlubmVyKTtcblxuICAgIHZhciBib2R5ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgIGJvZHkuYXBwZW5kQ2hpbGQob3V0ZXIpO1xuXG4gICAgdmFyIG5vU2Nyb2xsYmFyID0gaW5uZXIub2Zmc2V0V2lkdGg7XG5cbiAgICBzdHlsZS5vdmVyZmxvdyA9IFwic2Nyb2xsXCI7XG4gICAgdmFyIHdpdGhTY3JvbGxiYXIgPSBpbm5lci5vZmZzZXRXaWR0aDtcblxuICAgIGlmIChub1Njcm9sbGJhciA9PSB3aXRoU2Nyb2xsYmFyKSB7XG4gICAgICAgIHdpdGhTY3JvbGxiYXIgPSBvdXRlci5jbGllbnRXaWR0aDtcbiAgICB9XG5cbiAgICBib2R5LnJlbW92ZUNoaWxkKG91dGVyKTtcblxuICAgIHJldHVybiBub1Njcm9sbGJhci13aXRoU2Nyb2xsYmFyO1xufTtcblxuZXhwb3J0cy5jb21wdXRlZFN0eWxlID0gZnVuY3Rpb24oZWxlbWVudCwgc3R5bGUpIHtcbiAgICByZXR1cm4gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgXCJcIikgfHwge307XG59O1xuXG5leHBvcnRzLnNldFN0eWxlID0gZnVuY3Rpb24oc3R5bGVzLCBwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICBpZiAoc3R5bGVzW3Byb3BlcnR5XSAhPT0gdmFsdWUpIHtcbiAgICAgICAgc3R5bGVzW3Byb3BlcnR5XSA9IHZhbHVlO1xuICAgIH1cbn07XG5cbmV4cG9ydHMuSEFTX0NTU19BTklNQVRJT04gPSBmYWxzZTtcbmV4cG9ydHMuSEFTX0NTU19UUkFOU0ZPUk1TID0gZmFsc2U7XG5leHBvcnRzLkhJX0RQSSA9IHVzZXJhZ2VudC5pc1dpblxuICAgID8gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyA+PSAxLjVcbiAgICA6IHRydWU7XG5cbmlmICh1c2VyYWdlbnQuaXNDaHJvbWVPUykgZXhwb3J0cy5ISV9EUEkgPSBmYWxzZTtcblxuaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGlmIChleHBvcnRzLkhJX0RQSSAmJiBkaXYuc3R5bGUudHJhbnNmb3JtICAhPT0gdW5kZWZpbmVkKVxuICAgICAgICBleHBvcnRzLkhBU19DU1NfVFJBTlNGT1JNUyA9IHRydWU7XG4gICAgaWYgKCF1c2VyYWdlbnQuaXNFZGdlICYmIHR5cGVvZiBkaXYuc3R5bGUuYW5pbWF0aW9uTmFtZSAhPT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgZXhwb3J0cy5IQVNfQ1NTX0FOSU1BVElPTiA9IHRydWU7XG4gICAgZGl2ID0gbnVsbDtcbn1cblxuaWYgKGV4cG9ydHMuSEFTX0NTU19UUkFOU0ZPUk1TKSB7XG4gICAgZXhwb3J0cy50cmFuc2xhdGUgPSBmdW5jdGlvbihlbGVtZW50LCB0eCwgdHkpIHtcbiAgICAgICAgZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZShcIiArIE1hdGgucm91bmQodHgpICsgXCJweCwgXCIgKyBNYXRoLnJvdW5kKHR5KSArXCJweClcIjtcbiAgICB9O1xufSBlbHNlIHtcbiAgICBleHBvcnRzLnRyYW5zbGF0ZSA9IGZ1bmN0aW9uKGVsZW1lbnQsIHR4LCB0eSkge1xuICAgICAgICBlbGVtZW50LnN0eWxlLnRvcCA9IE1hdGgucm91bmQodHkpICsgXCJweFwiO1xuICAgICAgICBlbGVtZW50LnN0eWxlLmxlZnQgPSBNYXRoLnJvdW5kKHR4KSArIFwicHhcIjtcbiAgICB9O1xufVxuXG59KTtcblxuYWNlLmRlZmluZShcImFjZS9saWIvbmV0XCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL2RvbVwiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcbnZhciBkb20gPSByZXF1aXJlKFwiLi9kb21cIik7XG5cbmV4cG9ydHMuZ2V0ID0gZnVuY3Rpb24gKHVybCwgY2FsbGJhY2spIHtcbiAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgeGhyLm9wZW4oJ0dFVCcsIHVybCwgdHJ1ZSk7XG4gICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7XG4gICAgICAgICAgICBjYWxsYmFjayh4aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgeGhyLnNlbmQobnVsbCk7XG59O1xuXG5leHBvcnRzLmxvYWRTY3JpcHQgPSBmdW5jdGlvbihwYXRoLCBjYWxsYmFjaykge1xuICAgIHZhciBoZWFkID0gZG9tLmdldERvY3VtZW50SGVhZCgpO1xuICAgIHZhciBzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG5cbiAgICBzLnNyYyA9IHBhdGg7XG4gICAgaGVhZC5hcHBlbmRDaGlsZChzKTtcblxuICAgIHMub25sb2FkID0gcy5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbihfLCBpc0Fib3J0KSB7XG4gICAgICAgIGlmIChpc0Fib3J0IHx8ICFzLnJlYWR5U3RhdGUgfHwgcy5yZWFkeVN0YXRlID09IFwibG9hZGVkXCIgfHwgcy5yZWFkeVN0YXRlID09IFwiY29tcGxldGVcIikge1xuICAgICAgICAgICAgcyA9IHMub25sb2FkID0gcy5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsO1xuICAgICAgICAgICAgaWYgKCFpc0Fib3J0KVxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydHMucXVhbGlmeVVSTCA9IGZ1bmN0aW9uKHVybCkge1xuICAgIHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIGEuaHJlZiA9IHVybDtcbiAgICByZXR1cm4gYS5ocmVmO1xufTtcblxufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvbGliL2V2ZW50X2VtaXR0ZXJcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIl0sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBFdmVudEVtaXR0ZXIgPSB7fTtcbnZhciBzdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbigpIHsgdGhpcy5wcm9wYWdhdGlvblN0b3BwZWQgPSB0cnVlOyB9O1xudmFyIHByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24oKSB7IHRoaXMuZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7IH07XG5cbkV2ZW50RW1pdHRlci5fZW1pdCA9XG5FdmVudEVtaXR0ZXIuX2Rpc3BhdGNoRXZlbnQgPSBmdW5jdGlvbihldmVudE5hbWUsIGUpIHtcbiAgICB0aGlzLl9ldmVudFJlZ2lzdHJ5IHx8ICh0aGlzLl9ldmVudFJlZ2lzdHJ5ID0ge30pO1xuICAgIHRoaXMuX2RlZmF1bHRIYW5kbGVycyB8fCAodGhpcy5fZGVmYXVsdEhhbmRsZXJzID0ge30pO1xuXG4gICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXSB8fCBbXTtcbiAgICB2YXIgZGVmYXVsdEhhbmRsZXIgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnNbZXZlbnROYW1lXTtcbiAgICBpZiAoIWxpc3RlbmVycy5sZW5ndGggJiYgIWRlZmF1bHRIYW5kbGVyKVxuICAgICAgICByZXR1cm47XG5cbiAgICBpZiAodHlwZW9mIGUgIT0gXCJvYmplY3RcIiB8fCAhZSlcbiAgICAgICAgZSA9IHt9O1xuXG4gICAgaWYgKCFlLnR5cGUpXG4gICAgICAgIGUudHlwZSA9IGV2ZW50TmFtZTtcbiAgICBpZiAoIWUuc3RvcFByb3BhZ2F0aW9uKVxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbiA9IHN0b3BQcm9wYWdhdGlvbjtcbiAgICBpZiAoIWUucHJldmVudERlZmF1bHQpXG4gICAgICAgIGUucHJldmVudERlZmF1bHQgPSBwcmV2ZW50RGVmYXVsdDtcblxuICAgIGxpc3RlbmVycyA9IGxpc3RlbmVycy5zbGljZSgpO1xuICAgIGZvciAodmFyIGk9MDsgaTxsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGlzdGVuZXJzW2ldKGUsIHRoaXMpO1xuICAgICAgICBpZiAoZS5wcm9wYWdhdGlvblN0b3BwZWQpXG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgXG4gICAgaWYgKGRlZmF1bHRIYW5kbGVyICYmICFlLmRlZmF1bHRQcmV2ZW50ZWQpXG4gICAgICAgIHJldHVybiBkZWZhdWx0SGFuZGxlcihlLCB0aGlzKTtcbn07XG5cblxuRXZlbnRFbWl0dGVyLl9zaWduYWwgPSBmdW5jdGlvbihldmVudE5hbWUsIGUpIHtcbiAgICB2YXIgbGlzdGVuZXJzID0gKHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwge30pW2V2ZW50TmFtZV07XG4gICAgaWYgKCFsaXN0ZW5lcnMpXG4gICAgICAgIHJldHVybjtcbiAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuc2xpY2UoKTtcbiAgICBmb3IgKHZhciBpPTA7IGk8bGlzdGVuZXJzLmxlbmd0aDsgaSsrKVxuICAgICAgICBsaXN0ZW5lcnNbaV0oZSwgdGhpcyk7XG59O1xuXG5FdmVudEVtaXR0ZXIub25jZSA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICB2YXIgX3NlbGYgPSB0aGlzO1xuICAgIHRoaXMub24oZXZlbnROYW1lLCBmdW5jdGlvbiBuZXdDYWxsYmFjaygpIHtcbiAgICAgICAgX3NlbGYub2ZmKGV2ZW50TmFtZSwgbmV3Q2FsbGJhY2spO1xuICAgICAgICBjYWxsYmFjay5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgIH0pO1xuICAgIGlmICghY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gcmVzb2x2ZTtcbiAgICAgICAgfSk7XG4gICAgfVxufTtcblxuXG5FdmVudEVtaXR0ZXIuc2V0RGVmYXVsdEhhbmRsZXIgPSBmdW5jdGlvbihldmVudE5hbWUsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGhhbmRsZXJzID0gdGhpcy5fZGVmYXVsdEhhbmRsZXJzO1xuICAgIGlmICghaGFuZGxlcnMpXG4gICAgICAgIGhhbmRsZXJzID0gdGhpcy5fZGVmYXVsdEhhbmRsZXJzID0ge19kaXNhYmxlZF86IHt9fTtcbiAgICBcbiAgICBpZiAoaGFuZGxlcnNbZXZlbnROYW1lXSkge1xuICAgICAgICB2YXIgb2xkID0gaGFuZGxlcnNbZXZlbnROYW1lXTtcbiAgICAgICAgdmFyIGRpc2FibGVkID0gaGFuZGxlcnMuX2Rpc2FibGVkX1tldmVudE5hbWVdO1xuICAgICAgICBpZiAoIWRpc2FibGVkKVxuICAgICAgICAgICAgaGFuZGxlcnMuX2Rpc2FibGVkX1tldmVudE5hbWVdID0gZGlzYWJsZWQgPSBbXTtcbiAgICAgICAgZGlzYWJsZWQucHVzaChvbGQpO1xuICAgICAgICB2YXIgaSA9IGRpc2FibGVkLmluZGV4T2YoY2FsbGJhY2spO1xuICAgICAgICBpZiAoaSAhPSAtMSkgXG4gICAgICAgICAgICBkaXNhYmxlZC5zcGxpY2UoaSwgMSk7XG4gICAgfVxuICAgIGhhbmRsZXJzW2V2ZW50TmFtZV0gPSBjYWxsYmFjaztcbn07XG5FdmVudEVtaXR0ZXIucmVtb3ZlRGVmYXVsdEhhbmRsZXIgPSBmdW5jdGlvbihldmVudE5hbWUsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGhhbmRsZXJzID0gdGhpcy5fZGVmYXVsdEhhbmRsZXJzO1xuICAgIGlmICghaGFuZGxlcnMpXG4gICAgICAgIHJldHVybjtcbiAgICB2YXIgZGlzYWJsZWQgPSBoYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV07XG4gICAgXG4gICAgaWYgKGhhbmRsZXJzW2V2ZW50TmFtZV0gPT0gY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKGRpc2FibGVkKVxuICAgICAgICAgICAgdGhpcy5zZXREZWZhdWx0SGFuZGxlcihldmVudE5hbWUsIGRpc2FibGVkLnBvcCgpKTtcbiAgICB9IGVsc2UgaWYgKGRpc2FibGVkKSB7XG4gICAgICAgIHZhciBpID0gZGlzYWJsZWQuaW5kZXhPZihjYWxsYmFjayk7XG4gICAgICAgIGlmIChpICE9IC0xKVxuICAgICAgICAgICAgZGlzYWJsZWQuc3BsaWNlKGksIDEpO1xuICAgIH1cbn07XG5cbkV2ZW50RW1pdHRlci5vbiA9XG5FdmVudEVtaXR0ZXIuYWRkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgY2FsbGJhY2ssIGNhcHR1cmluZykge1xuICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB0aGlzLl9ldmVudFJlZ2lzdHJ5IHx8IHt9O1xuXG4gICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXTtcbiAgICBpZiAoIWxpc3RlbmVycylcbiAgICAgICAgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdID0gW107XG5cbiAgICBpZiAobGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spID09IC0xKVxuICAgICAgICBsaXN0ZW5lcnNbY2FwdHVyaW5nID8gXCJ1bnNoaWZ0XCIgOiBcInB1c2hcIl0oY2FsbGJhY2spO1xuICAgIHJldHVybiBjYWxsYmFjaztcbn07XG5cbkV2ZW50RW1pdHRlci5vZmYgPVxuRXZlbnRFbWl0dGVyLnJlbW92ZUxpc3RlbmVyID1cbkV2ZW50RW1pdHRlci5yZW1vdmVFdmVudExpc3RlbmVyID0gZnVuY3Rpb24oZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB0aGlzLl9ldmVudFJlZ2lzdHJ5IHx8IHt9O1xuXG4gICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXTtcbiAgICBpZiAoIWxpc3RlbmVycylcbiAgICAgICAgcmV0dXJuO1xuXG4gICAgdmFyIGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spO1xuICAgIGlmIChpbmRleCAhPT0gLTEpXG4gICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xufTtcblxuRXZlbnRFbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uKGV2ZW50TmFtZSkge1xuICAgIGlmICghZXZlbnROYW1lKSB0aGlzLl9ldmVudFJlZ2lzdHJ5ID0gdGhpcy5fZGVmYXVsdEhhbmRsZXJzID0gdW5kZWZpbmVkO1xuICAgIGlmICh0aGlzLl9ldmVudFJlZ2lzdHJ5KSB0aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgaWYgKHRoaXMuX2RlZmF1bHRIYW5kbGVycykgdGhpcy5fZGVmYXVsdEhhbmRsZXJzW2V2ZW50TmFtZV0gPSB1bmRlZmluZWQ7XG59O1xuXG5leHBvcnRzLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvbGliL2FwcF9jb25maWdcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvb29wXCIsXCJhY2UvbGliL2V2ZW50X2VtaXR0ZXJcIl0sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJubyB1c2Ugc3RyaWN0XCI7XG5cbnZhciBvb3AgPSByZXF1aXJlKFwiLi9vb3BcIik7XG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZShcIi4vZXZlbnRfZW1pdHRlclwiKS5FdmVudEVtaXR0ZXI7XG5cbnZhciBvcHRpb25zUHJvdmlkZXIgPSB7XG4gICAgc2V0T3B0aW9uczogZnVuY3Rpb24ob3B0TGlzdCkge1xuICAgICAgICBPYmplY3Qua2V5cyhvcHRMaXN0KS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgdGhpcy5zZXRPcHRpb24oa2V5LCBvcHRMaXN0W2tleV0pO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICB9LFxuICAgIGdldE9wdGlvbnM6IGZ1bmN0aW9uKG9wdGlvbk5hbWVzKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgICAgaWYgKCFvcHRpb25OYW1lcykge1xuICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLiRvcHRpb25zO1xuICAgICAgICAgICAgb3B0aW9uTmFtZXMgPSBPYmplY3Qua2V5cyhvcHRpb25zKS5maWx0ZXIoZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICFvcHRpb25zW2tleV0uaGlkZGVuO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkob3B0aW9uTmFtZXMpKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBvcHRpb25OYW1lcztcbiAgICAgICAgICAgIG9wdGlvbk5hbWVzID0gT2JqZWN0LmtleXMocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICBvcHRpb25OYW1lcy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgcmVzdWx0W2tleV0gPSB0aGlzLmdldE9wdGlvbihrZXkpO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxuICAgIHNldE9wdGlvbjogZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXNbXCIkXCIgKyBuYW1lXSA9PT0gdmFsdWUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciBvcHQgPSB0aGlzLiRvcHRpb25zW25hbWVdO1xuICAgICAgICBpZiAoIW9wdCkge1xuICAgICAgICAgICAgcmV0dXJuIHdhcm4oJ21pc3NwZWxsZWQgb3B0aW9uIFwiJyArIG5hbWUgKyAnXCInKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0LmZvcndhcmRUbylcbiAgICAgICAgICAgIHJldHVybiB0aGlzW29wdC5mb3J3YXJkVG9dICYmIHRoaXNbb3B0LmZvcndhcmRUb10uc2V0T3B0aW9uKG5hbWUsIHZhbHVlKTtcblxuICAgICAgICBpZiAoIW9wdC5oYW5kbGVzU2V0KVxuICAgICAgICAgICAgdGhpc1tcIiRcIiArIG5hbWVdID0gdmFsdWU7XG4gICAgICAgIGlmIChvcHQgJiYgb3B0LnNldClcbiAgICAgICAgICAgIG9wdC5zZXQuY2FsbCh0aGlzLCB2YWx1ZSk7XG4gICAgfSxcbiAgICBnZXRPcHRpb246IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgdmFyIG9wdCA9IHRoaXMuJG9wdGlvbnNbbmFtZV07XG4gICAgICAgIGlmICghb3B0KSB7XG4gICAgICAgICAgICByZXR1cm4gd2FybignbWlzc3BlbGxlZCBvcHRpb24gXCInICsgbmFtZSArICdcIicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHQuZm9yd2FyZFRvKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXNbb3B0LmZvcndhcmRUb10gJiYgdGhpc1tvcHQuZm9yd2FyZFRvXS5nZXRPcHRpb24obmFtZSk7XG4gICAgICAgIHJldHVybiBvcHQgJiYgb3B0LmdldCA/IG9wdC5nZXQuY2FsbCh0aGlzKSA6IHRoaXNbXCIkXCIgKyBuYW1lXTtcbiAgICB9XG59O1xuXG5mdW5jdGlvbiB3YXJuKG1lc3NhZ2UpIHtcbiAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT0gXCJ1bmRlZmluZWRcIiAmJiBjb25zb2xlLndhcm4pXG4gICAgICAgIGNvbnNvbGUud2Fybi5hcHBseShjb25zb2xlLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiByZXBvcnRFcnJvcihtc2csIGRhdGEpIHtcbiAgICB2YXIgZSA9IG5ldyBFcnJvcihtc2cpO1xuICAgIGUuZGF0YSA9IGRhdGE7XG4gICAgaWYgKHR5cGVvZiBjb25zb2xlID09IFwib2JqZWN0XCIgJiYgY29uc29sZS5lcnJvcilcbiAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyB0aHJvdyBlOyB9KTtcbn1cblxudmFyIEFwcENvbmZpZyA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuJGRlZmF1bHRPcHRpb25zID0ge307XG59O1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgb29wLmltcGxlbWVudCh0aGlzLCBFdmVudEVtaXR0ZXIpO1xuICAgIHRoaXMuZGVmaW5lT3B0aW9ucyA9IGZ1bmN0aW9uKG9iaiwgcGF0aCwgb3B0aW9ucykge1xuICAgICAgICBpZiAoIW9iai4kb3B0aW9ucylcbiAgICAgICAgICAgIHRoaXMuJGRlZmF1bHRPcHRpb25zW3BhdGhdID0gb2JqLiRvcHRpb25zID0ge307XG5cbiAgICAgICAgT2JqZWN0LmtleXMob3B0aW9ucykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgIHZhciBvcHQgPSBvcHRpb25zW2tleV07XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9wdCA9PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgICAgIG9wdCA9IHtmb3J3YXJkVG86IG9wdH07XG5cbiAgICAgICAgICAgIG9wdC5uYW1lIHx8IChvcHQubmFtZSA9IGtleSk7XG4gICAgICAgICAgICBvYmouJG9wdGlvbnNbb3B0Lm5hbWVdID0gb3B0O1xuICAgICAgICAgICAgaWYgKFwiaW5pdGlhbFZhbHVlXCIgaW4gb3B0KVxuICAgICAgICAgICAgICAgIG9ialtcIiRcIiArIG9wdC5uYW1lXSA9IG9wdC5pbml0aWFsVmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICBvb3AuaW1wbGVtZW50KG9iaiwgb3B0aW9uc1Byb3ZpZGVyKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgdGhpcy5yZXNldE9wdGlvbnMgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgT2JqZWN0LmtleXMob2JqLiRvcHRpb25zKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgdmFyIG9wdCA9IG9iai4kb3B0aW9uc1trZXldO1xuICAgICAgICAgICAgaWYgKFwidmFsdWVcIiBpbiBvcHQpXG4gICAgICAgICAgICAgICAgb2JqLnNldE9wdGlvbihrZXksIG9wdC52YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLnNldERlZmF1bHRWYWx1ZSA9IGZ1bmN0aW9uKHBhdGgsIG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIGlmICghcGF0aCkge1xuICAgICAgICAgICAgZm9yIChwYXRoIGluIHRoaXMuJGRlZmF1bHRPcHRpb25zKVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLiRkZWZhdWx0T3B0aW9uc1twYXRoXVtuYW1lXSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBpZiAoIXRoaXMuJGRlZmF1bHRPcHRpb25zW3BhdGhdW25hbWVdKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb3B0cyA9IHRoaXMuJGRlZmF1bHRPcHRpb25zW3BhdGhdIHx8ICh0aGlzLiRkZWZhdWx0T3B0aW9uc1twYXRoXSA9IHt9KTtcbiAgICAgICAgaWYgKG9wdHNbbmFtZV0pIHtcbiAgICAgICAgICAgIGlmIChvcHRzLmZvcndhcmRUbylcbiAgICAgICAgICAgICAgICB0aGlzLnNldERlZmF1bHRWYWx1ZShvcHRzLmZvcndhcmRUbywgbmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIG9wdHNbbmFtZV0udmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLnNldERlZmF1bHRWYWx1ZXMgPSBmdW5jdGlvbihwYXRoLCBvcHRpb25IYXNoKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKG9wdGlvbkhhc2gpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICB0aGlzLnNldERlZmF1bHRWYWx1ZShwYXRoLCBrZXksIG9wdGlvbkhhc2hba2V5XSk7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy53YXJuID0gd2FybjtcbiAgICB0aGlzLnJlcG9ydEVycm9yID0gcmVwb3J0RXJyb3I7XG4gICAgXG59KS5jYWxsKEFwcENvbmZpZy5wcm90b3R5cGUpO1xuXG5leHBvcnRzLkFwcENvbmZpZyA9IEFwcENvbmZpZztcblxufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvdGhlbWUvdGV4dG1hdGVcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvZG9tXCJdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLmlzRGFyayA9IGZhbHNlO1xuZXhwb3J0cy5jc3NDbGFzcyA9IFwiYWNlLXRtXCI7XG5leHBvcnRzLmNzc1RleHQgPSBcIi5hY2UtdG0gLmFjZV9ndXR0ZXIge1xcXG5iYWNrZ3JvdW5kOiAjZjBmMGYwO1xcXG5jb2xvcjogIzMzMztcXFxufVxcXG4uYWNlLXRtIC5hY2VfcHJpbnQtbWFyZ2luIHtcXFxud2lkdGg6IDFweDtcXFxuYmFja2dyb3VuZDogI2U4ZThlODtcXFxufVxcXG4uYWNlLXRtIC5hY2VfZm9sZCB7XFxcbmJhY2tncm91bmQtY29sb3I6ICM2QjcyRTY7XFxcbn1cXFxuLmFjZS10bSB7XFxcbmJhY2tncm91bmQtY29sb3I6ICNGRkZGRkY7XFxcbmNvbG9yOiBibGFjaztcXFxufVxcXG4uYWNlLXRtIC5hY2VfY3Vyc29yIHtcXFxuY29sb3I6IGJsYWNrO1xcXG59XFxcbi5hY2UtdG0gLmFjZV9pbnZpc2libGUge1xcXG5jb2xvcjogcmdiKDE5MSwgMTkxLCAxOTEpO1xcXG59XFxcbi5hY2UtdG0gLmFjZV9zdG9yYWdlLFxcXG4uYWNlLXRtIC5hY2Vfa2V5d29yZCB7XFxcbmNvbG9yOiBibHVlO1xcXG59XFxcbi5hY2UtdG0gLmFjZV9jb25zdGFudCB7XFxcbmNvbG9yOiByZ2IoMTk3LCA2LCAxMSk7XFxcbn1cXFxuLmFjZS10bSAuYWNlX2NvbnN0YW50LmFjZV9idWlsZGluIHtcXFxuY29sb3I6IHJnYig4OCwgNzIsIDI0Nik7XFxcbn1cXFxuLmFjZS10bSAuYWNlX2NvbnN0YW50LmFjZV9sYW5ndWFnZSB7XFxcbmNvbG9yOiByZ2IoODgsIDkyLCAyNDYpO1xcXG59XFxcbi5hY2UtdG0gLmFjZV9jb25zdGFudC5hY2VfbGlicmFyeSB7XFxcbmNvbG9yOiByZ2IoNiwgMTUwLCAxNCk7XFxcbn1cXFxuLmFjZS10bSAuYWNlX2ludmFsaWQge1xcXG5iYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMCwgMCwgMC4xKTtcXFxuY29sb3I6IHJlZDtcXFxufVxcXG4uYWNlLXRtIC5hY2Vfc3VwcG9ydC5hY2VfZnVuY3Rpb24ge1xcXG5jb2xvcjogcmdiKDYwLCA3NiwgMTE0KTtcXFxufVxcXG4uYWNlLXRtIC5hY2Vfc3VwcG9ydC5hY2VfY29uc3RhbnQge1xcXG5jb2xvcjogcmdiKDYsIDE1MCwgMTQpO1xcXG59XFxcbi5hY2UtdG0gLmFjZV9zdXBwb3J0LmFjZV90eXBlLFxcXG4uYWNlLXRtIC5hY2Vfc3VwcG9ydC5hY2VfY2xhc3Mge1xcXG5jb2xvcjogcmdiKDEwOSwgMTIxLCAyMjIpO1xcXG59XFxcbi5hY2UtdG0gLmFjZV9rZXl3b3JkLmFjZV9vcGVyYXRvciB7XFxcbmNvbG9yOiByZ2IoMTA0LCAxMTgsIDEzNSk7XFxcbn1cXFxuLmFjZS10bSAuYWNlX3N0cmluZyB7XFxcbmNvbG9yOiByZ2IoMywgMTA2LCA3KTtcXFxufVxcXG4uYWNlLXRtIC5hY2VfY29tbWVudCB7XFxcbmNvbG9yOiByZ2IoNzYsIDEzNiwgMTA3KTtcXFxufVxcXG4uYWNlLXRtIC5hY2VfY29tbWVudC5hY2VfZG9jIHtcXFxuY29sb3I6IHJnYigwLCAxMDIsIDI1NSk7XFxcbn1cXFxuLmFjZS10bSAuYWNlX2NvbW1lbnQuYWNlX2RvYy5hY2VfdGFnIHtcXFxuY29sb3I6IHJnYigxMjgsIDE1OSwgMTkxKTtcXFxufVxcXG4uYWNlLXRtIC5hY2VfY29uc3RhbnQuYWNlX251bWVyaWMge1xcXG5jb2xvcjogcmdiKDAsIDAsIDIwNSk7XFxcbn1cXFxuLmFjZS10bSAuYWNlX3ZhcmlhYmxlIHtcXFxuY29sb3I6IHJnYig0OSwgMTMyLCAxNDkpO1xcXG59XFxcbi5hY2UtdG0gLmFjZV94bWwtcGUge1xcXG5jb2xvcjogcmdiKDEwNCwgMTA0LCA5MSk7XFxcbn1cXFxuLmFjZS10bSAuYWNlX2VudGl0eS5hY2VfbmFtZS5hY2VfZnVuY3Rpb24ge1xcXG5jb2xvcjogIzAwMDBBMjtcXFxufVxcXG4uYWNlLXRtIC5hY2VfaGVhZGluZyB7XFxcbmNvbG9yOiByZ2IoMTIsIDcsIDI1NSk7XFxcbn1cXFxuLmFjZS10bSAuYWNlX2xpc3Qge1xcXG5jb2xvcjpyZ2IoMTg1LCA2LCAxNDQpO1xcXG59XFxcbi5hY2UtdG0gLmFjZV9tZXRhLmFjZV90YWcge1xcXG5jb2xvcjpyZ2IoMCwgMjIsIDE0Mik7XFxcbn1cXFxuLmFjZS10bSAuYWNlX3N0cmluZy5hY2VfcmVnZXgge1xcXG5jb2xvcjogcmdiKDI1NSwgMCwgMClcXFxufVxcXG4uYWNlLXRtIC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc2VsZWN0aW9uIHtcXFxuYmFja2dyb3VuZDogcmdiKDE4MSwgMjEzLCAyNTUpO1xcXG59XFxcbi5hY2UtdG0uYWNlX211bHRpc2VsZWN0IC5hY2Vfc2VsZWN0aW9uLmFjZV9zdGFydCB7XFxcbmJveC1zaGFkb3c6IDAgMCAzcHggMHB4IHdoaXRlO1xcXG59XFxcbi5hY2UtdG0gLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9zdGVwIHtcXFxuYmFja2dyb3VuZDogcmdiKDI1MiwgMjU1LCAwKTtcXFxufVxcXG4uYWNlLXRtIC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc3RhY2sge1xcXG5iYWNrZ3JvdW5kOiByZ2IoMTY0LCAyMjksIDEwMSk7XFxcbn1cXFxuLmFjZS10bSAuYWNlX21hcmtlci1sYXllciAuYWNlX2JyYWNrZXQge1xcXG5tYXJnaW46IC0xcHggMCAwIC0xcHg7XFxcbmJvcmRlcjogMXB4IHNvbGlkIHJnYigxOTIsIDE5MiwgMTkyKTtcXFxufVxcXG4uYWNlLXRtIC5hY2VfbWFya2VyLWxheWVyIC5hY2VfYWN0aXZlLWxpbmUge1xcXG5iYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuMDcpO1xcXG59XFxcbi5hY2UtdG0gLmFjZV9ndXR0ZXItYWN0aXZlLWxpbmUge1xcXG5iYWNrZ3JvdW5kLWNvbG9yIDogI2RjZGNkYztcXFxufVxcXG4uYWNlLXRtIC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc2VsZWN0ZWQtd29yZCB7XFxcbmJhY2tncm91bmQ6IHJnYigyNTAsIDI1MCwgMjU1KTtcXFxuYm9yZGVyOiAxcHggc29saWQgcmdiKDIwMCwgMjAwLCAyNTApO1xcXG59XFxcbi5hY2UtdG0gLmFjZV9pbmRlbnQtZ3VpZGUge1xcXG5iYWNrZ3JvdW5kOiB1cmwoXFxcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFBQ0NBWUFBQUNaZ2JZbkFBQUFFMGxFUVZRSW1XUDQvLy8vZjRiTGx5Ly9Cd0FtVmdkMS93MTEvZ0FBQUFCSlJVNUVya0pnZ2c9PVxcXCIpIHJpZ2h0IHJlcGVhdC15O1xcXG59XFxcblwiO1xuZXhwb3J0cy4kaWQgPSBcImFjZS90aGVtZS90ZXh0bWF0ZVwiO1xuXG52YXIgZG9tID0gcmVxdWlyZShcIi4uL2xpYi9kb21cIik7XG5kb20uaW1wb3J0Q3NzU3RyaW5nKGV4cG9ydHMuY3NzVGV4dCwgZXhwb3J0cy5jc3NDbGFzcywgZmFsc2UpO1xufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvY29uZmlnXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL2xhbmdcIixcImFjZS9saWIvb29wXCIsXCJhY2UvbGliL25ldFwiLFwiYWNlL2xpYi9kb21cIixcImFjZS9saWIvYXBwX2NvbmZpZ1wiLFwiYWNlL3RoZW1lL3RleHRtYXRlXCJdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwibm8gdXNlIHN0cmljdFwiO1xuXG52YXIgbGFuZyA9IHJlcXVpcmUoXCIuL2xpYi9sYW5nXCIpO1xudmFyIG9vcCA9IHJlcXVpcmUoXCIuL2xpYi9vb3BcIik7XG52YXIgbmV0ID0gcmVxdWlyZShcIi4vbGliL25ldFwiKTtcbnZhciBkb20gPSByZXF1aXJlKFwiLi9saWIvZG9tXCIpO1xudmFyIEFwcENvbmZpZyA9IHJlcXVpcmUoXCIuL2xpYi9hcHBfY29uZmlnXCIpLkFwcENvbmZpZztcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzID0gbmV3IEFwcENvbmZpZygpO1xuXG52YXIgb3B0aW9ucyA9IHtcbiAgICBwYWNrYWdlZDogZmFsc2UsXG4gICAgd29ya2VyUGF0aDogbnVsbCxcbiAgICBtb2RlUGF0aDogbnVsbCxcbiAgICB0aGVtZVBhdGg6IG51bGwsXG4gICAgYmFzZVBhdGg6IFwiXCIsXG4gICAgc3VmZml4OiBcIi5qc1wiLFxuICAgICRtb2R1bGVVcmxzOiB7fSxcbiAgICBsb2FkV29ya2VyRnJvbUJsb2I6IHRydWUsXG4gICAgc2hhcmVkUG9wdXBzOiBmYWxzZSxcbiAgICB1c2VTdHJpY3RDU1A6IG51bGxcbn07XG5cbmV4cG9ydHMuZ2V0ID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgaWYgKCFvcHRpb25zLmhhc093blByb3BlcnR5KGtleSkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gY29uZmlnIGtleTogXCIgKyBrZXkpO1xuICAgIHJldHVybiBvcHRpb25zW2tleV07XG59O1xuXG5leHBvcnRzLnNldCA9IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShrZXkpKVxuICAgICAgICBvcHRpb25zW2tleV0gPSB2YWx1ZTtcbiAgICBlbHNlIGlmICh0aGlzLnNldERlZmF1bHRWYWx1ZShcIlwiLCBrZXksIHZhbHVlKSA9PSBmYWxzZSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBjb25maWcga2V5OiBcIiArIGtleSk7XG4gICAgaWYgKGtleSA9PSBcInVzZVN0cmljdENTUFwiKVxuICAgICAgICBkb20udXNlU3RyaWN0Q1NQKHZhbHVlKTtcbn07XG5cbmV4cG9ydHMuYWxsID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGxhbmcuY29weU9iamVjdChvcHRpb25zKTtcbn07XG5cbmV4cG9ydHMuJG1vZGVzID0ge307XG5leHBvcnRzLm1vZHVsZVVybCA9IGZ1bmN0aW9uKG5hbWUsIGNvbXBvbmVudCkge1xuICAgIGlmIChvcHRpb25zLiRtb2R1bGVVcmxzW25hbWVdKVxuICAgICAgICByZXR1cm4gb3B0aW9ucy4kbW9kdWxlVXJsc1tuYW1lXTtcblxuICAgIHZhciBwYXJ0cyA9IG5hbWUuc3BsaXQoXCIvXCIpO1xuICAgIGNvbXBvbmVudCA9IGNvbXBvbmVudCB8fCBwYXJ0c1twYXJ0cy5sZW5ndGggLSAyXSB8fCBcIlwiO1xuICAgIHZhciBzZXAgPSBjb21wb25lbnQgPT0gXCJzbmlwcGV0c1wiID8gXCIvXCIgOiBcIi1cIjtcbiAgICB2YXIgYmFzZSA9IHBhcnRzW3BhcnRzLmxlbmd0aCAtIDFdO1xuICAgIGlmIChjb21wb25lbnQgPT0gXCJ3b3JrZXJcIiAmJiBzZXAgPT0gXCItXCIpIHtcbiAgICAgICAgdmFyIHJlID0gbmV3IFJlZ0V4cChcIl5cIiArIGNvbXBvbmVudCArIFwiW1xcXFwtX118W1xcXFwtX11cIiArIGNvbXBvbmVudCArIFwiJFwiLCBcImdcIik7XG4gICAgICAgIGJhc2UgPSBiYXNlLnJlcGxhY2UocmUsIFwiXCIpO1xuICAgIH1cblxuICAgIGlmICgoIWJhc2UgfHwgYmFzZSA9PSBjb21wb25lbnQpICYmIHBhcnRzLmxlbmd0aCA+IDEpXG4gICAgICAgIGJhc2UgPSBwYXJ0c1twYXJ0cy5sZW5ndGggLSAyXTtcbiAgICB2YXIgcGF0aCA9IG9wdGlvbnNbY29tcG9uZW50ICsgXCJQYXRoXCJdO1xuICAgIGlmIChwYXRoID09IG51bGwpIHtcbiAgICAgICAgcGF0aCA9IG9wdGlvbnMuYmFzZVBhdGg7XG4gICAgfSBlbHNlIGlmIChzZXAgPT0gXCIvXCIpIHtcbiAgICAgICAgY29tcG9uZW50ID0gc2VwID0gXCJcIjtcbiAgICB9XG4gICAgaWYgKHBhdGggJiYgcGF0aC5zbGljZSgtMSkgIT0gXCIvXCIpXG4gICAgICAgIHBhdGggKz0gXCIvXCI7XG4gICAgcmV0dXJuIHBhdGggKyBjb21wb25lbnQgKyBzZXAgKyBiYXNlICsgdGhpcy5nZXQoXCJzdWZmaXhcIik7XG59O1xuXG5leHBvcnRzLnNldE1vZHVsZVVybCA9IGZ1bmN0aW9uKG5hbWUsIHN1YnN0KSB7XG4gICAgcmV0dXJuIG9wdGlvbnMuJG1vZHVsZVVybHNbbmFtZV0gPSBzdWJzdDtcbn07XG5cbnZhciBsb2FkZXIgPSBmdW5jdGlvbihtb2R1bGVOYW1lLCBjYikge1xuICAgIGlmIChtb2R1bGVOYW1lID09IFwiYWNlL3RoZW1lL3RleHRtYXRlXCIpXG4gICAgICAgIHJldHVybiBjYihudWxsLCByZXF1aXJlKFwiLi90aGVtZS90ZXh0bWF0ZVwiKSk7XG4gICAgcmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJsb2FkZXIgaXMgbm90IGNvbmZpZ3VyZWRcIik7XG59O1xuXG5leHBvcnRzLnNldExvYWRlciA9IGZ1bmN0aW9uKGNiKSB7XG4gICAgbG9hZGVyID0gY2I7XG59O1xuXG5leHBvcnRzLiRsb2FkaW5nID0ge307XG5leHBvcnRzLmxvYWRNb2R1bGUgPSBmdW5jdGlvbihtb2R1bGVOYW1lLCBvbkxvYWQpIHtcbiAgICB2YXIgbW9kdWxlLCBtb2R1bGVUeXBlO1xuICAgIGlmIChBcnJheS5pc0FycmF5KG1vZHVsZU5hbWUpKSB7XG4gICAgICAgIG1vZHVsZVR5cGUgPSBtb2R1bGVOYW1lWzBdO1xuICAgICAgICBtb2R1bGVOYW1lID0gbW9kdWxlTmFtZVsxXTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICBtb2R1bGUgPSByZXF1aXJlKG1vZHVsZU5hbWUpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgaWYgKG1vZHVsZSAmJiAhZXhwb3J0cy4kbG9hZGluZ1ttb2R1bGVOYW1lXSlcbiAgICAgICAgcmV0dXJuIG9uTG9hZCAmJiBvbkxvYWQobW9kdWxlKTtcblxuICAgIGlmICghZXhwb3J0cy4kbG9hZGluZ1ttb2R1bGVOYW1lXSlcbiAgICAgICAgZXhwb3J0cy4kbG9hZGluZ1ttb2R1bGVOYW1lXSA9IFtdO1xuXG4gICAgZXhwb3J0cy4kbG9hZGluZ1ttb2R1bGVOYW1lXS5wdXNoKG9uTG9hZCk7XG5cbiAgICBpZiAoZXhwb3J0cy4kbG9hZGluZ1ttb2R1bGVOYW1lXS5sZW5ndGggPiAxKVxuICAgICAgICByZXR1cm47XG5cbiAgICB2YXIgYWZ0ZXJMb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlcXVpcmUoW21vZHVsZU5hbWVdLCBmdW5jdGlvbihtb2R1bGUpIHtcbiAgICAgICAgICAgIGV4cG9ydHMuX2VtaXQoXCJsb2FkLm1vZHVsZVwiLCB7bmFtZTogbW9kdWxlTmFtZSwgbW9kdWxlOiBtb2R1bGV9KTtcbiAgICAgICAgICAgIHZhciBsaXN0ZW5lcnMgPSBleHBvcnRzLiRsb2FkaW5nW21vZHVsZU5hbWVdO1xuICAgICAgICAgICAgZXhwb3J0cy4kbG9hZGluZ1ttb2R1bGVOYW1lXSA9IG51bGw7XG4gICAgICAgICAgICBsaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbihvbkxvYWQpIHtcbiAgICAgICAgICAgICAgICBvbkxvYWQgJiYgb25Mb2FkKG1vZHVsZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGlmICghZXhwb3J0cy5nZXQoXCJwYWNrYWdlZFwiKSlcbiAgICAgICAgcmV0dXJuIGFmdGVyTG9hZCgpO1xuICAgIFxuICAgIG5ldC5sb2FkU2NyaXB0KGV4cG9ydHMubW9kdWxlVXJsKG1vZHVsZU5hbWUsIG1vZHVsZVR5cGUpLCBhZnRlckxvYWQpO1xuICAgIHJlcG9ydEVycm9ySWZQYXRoSXNOb3RDb25maWd1cmVkKCk7XG59O1xuXG52YXIgcmVwb3J0RXJyb3JJZlBhdGhJc05vdENvbmZpZ3VyZWQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoXG4gICAgICAgICFvcHRpb25zLmJhc2VQYXRoICYmICFvcHRpb25zLndvcmtlclBhdGggXG4gICAgICAgICYmICFvcHRpb25zLm1vZGVQYXRoICYmICFvcHRpb25zLnRoZW1lUGF0aFxuICAgICAgICAmJiAhT2JqZWN0LmtleXMob3B0aW9ucy4kbW9kdWxlVXJscykubGVuZ3RoXG4gICAgKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIlVuYWJsZSB0byBpbmZlciBwYXRoIHRvIGFjZSBmcm9tIHNjcmlwdCBzcmMsXCIsXG4gICAgICAgICAgICBcInVzZSBhY2UuY29uZmlnLnNldCgnYmFzZVBhdGgnLCAncGF0aCcpIHRvIGVuYWJsZSBkeW5hbWljIGxvYWRpbmcgb2YgbW9kZXMgYW5kIHRoZW1lc1wiLFxuICAgICAgICAgICAgXCJvciB3aXRoIHdlYnBhY2sgdXNlIGFjZS93ZWJwYWNrLXJlc29sdmVyXCJcbiAgICAgICAgKTtcbiAgICAgICAgcmVwb3J0RXJyb3JJZlBhdGhJc05vdENvbmZpZ3VyZWQgPSBmdW5jdGlvbigpIHt9O1xuICAgIH1cbn07XG5cbmV4cG9ydHMudmVyc2lvbiA9IFwiMS44LjFcIjtcblxufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvbG9hZGVyX2J1aWxkXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL2ZpeG9sZGJyb3dzZXJzXCIsXCJhY2UvY29uZmlnXCJdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuXG5yZXF1aXJlKFwiLi9saWIvZml4b2xkYnJvd3NlcnNcIik7XG52YXIgY29uZmlnID0gcmVxdWlyZShcIi4vY29uZmlnXCIpO1xuXG52YXIgZ2xvYmFsID0gKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzIHx8IHR5cGVvZiB3aW5kb3cgIT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3c7XG59KSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGFjZSkge1xuICAgIGNvbmZpZy5pbml0ID0gaW5pdDtcbiAgICBhY2UucmVxdWlyZSA9IHJlcXVpcmU7XG5cbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgICBhY2UuZGVmaW5lID0gZGVmaW5lO1xufTtcbmluaXQodHJ1ZSk7ZnVuY3Rpb24gaW5pdChwYWNrYWdlZCkge1xuXG4gICAgaWYgKCFnbG9iYWwgfHwgIWdsb2JhbC5kb2N1bWVudClcbiAgICAgICAgcmV0dXJuO1xuICAgIFxuICAgIGNvbmZpZy5zZXQoXCJwYWNrYWdlZFwiLCBwYWNrYWdlZCB8fCByZXF1aXJlLnBhY2thZ2VkIHx8IG1vZHVsZS5wYWNrYWdlZCB8fCAoZ2xvYmFsLmRlZmluZSAmJiBkZWZpbmUucGFja2FnZWQpKTtcblxuICAgIHZhciBzY3JpcHRPcHRpb25zID0ge307XG4gICAgdmFyIHNjcmlwdFVybCA9IFwiXCI7XG4gICAgdmFyIGN1cnJlbnRTY3JpcHQgPSAoZG9jdW1lbnQuY3VycmVudFNjcmlwdCB8fCBkb2N1bWVudC5fY3VycmVudFNjcmlwdCApOyAvLyBuYXRpdmUgb3IgcG9seWZpbGxcbiAgICB2YXIgY3VycmVudERvY3VtZW50ID0gY3VycmVudFNjcmlwdCAmJiBjdXJyZW50U2NyaXB0Lm93bmVyRG9jdW1lbnQgfHwgZG9jdW1lbnQ7XG4gICAgXG4gICAgdmFyIHNjcmlwdHMgPSBjdXJyZW50RG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG4gICAgZm9yICh2YXIgaT0wOyBpPHNjcmlwdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHNjcmlwdCA9IHNjcmlwdHNbaV07XG5cbiAgICAgICAgdmFyIHNyYyA9IHNjcmlwdC5zcmMgfHwgc2NyaXB0LmdldEF0dHJpYnV0ZShcInNyY1wiKTtcbiAgICAgICAgaWYgKCFzcmMpXG4gICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICB2YXIgYXR0cmlidXRlcyA9IHNjcmlwdC5hdHRyaWJ1dGVzO1xuICAgICAgICBmb3IgKHZhciBqPTAsIGw9YXR0cmlidXRlcy5sZW5ndGg7IGogPCBsOyBqKyspIHtcbiAgICAgICAgICAgIHZhciBhdHRyID0gYXR0cmlidXRlc1tqXTtcbiAgICAgICAgICAgIGlmIChhdHRyLm5hbWUuaW5kZXhPZihcImRhdGEtYWNlLVwiKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHNjcmlwdE9wdGlvbnNbZGVIeXBoZW5hdGUoYXR0ci5uYW1lLnJlcGxhY2UoL15kYXRhLWFjZS0vLCBcIlwiKSldID0gYXR0ci52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtID0gc3JjLm1hdGNoKC9eKC4qKVxcL2FjZShcXC1cXHcrKT9cXC5qcyhcXD98JCkvKTtcbiAgICAgICAgaWYgKG0pXG4gICAgICAgICAgICBzY3JpcHRVcmwgPSBtWzFdO1xuICAgIH1cblxuICAgIGlmIChzY3JpcHRVcmwpIHtcbiAgICAgICAgc2NyaXB0T3B0aW9ucy5iYXNlID0gc2NyaXB0T3B0aW9ucy5iYXNlIHx8IHNjcmlwdFVybDtcbiAgICAgICAgc2NyaXB0T3B0aW9ucy5wYWNrYWdlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgc2NyaXB0T3B0aW9ucy5iYXNlUGF0aCA9IHNjcmlwdE9wdGlvbnMuYmFzZTtcbiAgICBzY3JpcHRPcHRpb25zLndvcmtlclBhdGggPSBzY3JpcHRPcHRpb25zLndvcmtlclBhdGggfHwgc2NyaXB0T3B0aW9ucy5iYXNlO1xuICAgIHNjcmlwdE9wdGlvbnMubW9kZVBhdGggPSBzY3JpcHRPcHRpb25zLm1vZGVQYXRoIHx8IHNjcmlwdE9wdGlvbnMuYmFzZTtcbiAgICBzY3JpcHRPcHRpb25zLnRoZW1lUGF0aCA9IHNjcmlwdE9wdGlvbnMudGhlbWVQYXRoIHx8IHNjcmlwdE9wdGlvbnMuYmFzZTtcbiAgICBkZWxldGUgc2NyaXB0T3B0aW9ucy5iYXNlO1xuXG4gICAgZm9yICh2YXIga2V5IGluIHNjcmlwdE9wdGlvbnMpXG4gICAgICAgIGlmICh0eXBlb2Ygc2NyaXB0T3B0aW9uc1trZXldICE9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgICAgY29uZmlnLnNldChrZXksIHNjcmlwdE9wdGlvbnNba2V5XSk7XG59XG5cbmZ1bmN0aW9uIGRlSHlwaGVuYXRlKHN0cikge1xuICAgIHJldHVybiBzdHIucmVwbGFjZSgvLSguKS9nLCBmdW5jdGlvbihtLCBtMSkgeyByZXR1cm4gbTEudG9VcHBlckNhc2UoKTsgfSk7XG59XG5cbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL2xpYi9rZXlzXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL29vcFwiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIG9vcCA9IHJlcXVpcmUoXCIuL29vcFwiKTtcbnZhciBLZXlzID0gKGZ1bmN0aW9uKCkge1xuICAgIHZhciByZXQgPSB7XG4gICAgICAgIE1PRElGSUVSX0tFWVM6IHtcbiAgICAgICAgICAgIDE2OiAnU2hpZnQnLCAxNzogJ0N0cmwnLCAxODogJ0FsdCcsIDIyNDogJ01ldGEnLFxuICAgICAgICAgICAgOTE6ICdNZXRhTGVmdCcsIDkyOiAnTWV0YVJpZ2h0JywgOTM6ICdDb250ZXh0TWVudSdcbiAgICAgICAgfSxcblxuICAgICAgICBLRVlfTU9EUzoge1xuICAgICAgICAgICAgXCJjdHJsXCI6IDEsIFwiYWx0XCI6IDIsIFwib3B0aW9uXCIgOiAyLCBcInNoaWZ0XCI6IDQsXG4gICAgICAgICAgICBcInN1cGVyXCI6IDgsIFwibWV0YVwiOiA4LCBcImNvbW1hbmRcIjogOCwgXCJjbWRcIjogOCwgXG4gICAgICAgICAgICBcImNvbnRyb2xcIjogMVxuICAgICAgICB9LFxuXG4gICAgICAgIEZVTkNUSU9OX0tFWVMgOiB7XG4gICAgICAgICAgICA4ICA6IFwiQmFja3NwYWNlXCIsXG4gICAgICAgICAgICA5ICA6IFwiVGFiXCIsXG4gICAgICAgICAgICAxMyA6IFwiUmV0dXJuXCIsXG4gICAgICAgICAgICAxOSA6IFwiUGF1c2VcIixcbiAgICAgICAgICAgIDI3IDogXCJFc2NcIixcbiAgICAgICAgICAgIDMyIDogXCJTcGFjZVwiLFxuICAgICAgICAgICAgMzMgOiBcIlBhZ2VVcFwiLFxuICAgICAgICAgICAgMzQgOiBcIlBhZ2VEb3duXCIsXG4gICAgICAgICAgICAzNSA6IFwiRW5kXCIsXG4gICAgICAgICAgICAzNiA6IFwiSG9tZVwiLFxuICAgICAgICAgICAgMzcgOiBcIkxlZnRcIixcbiAgICAgICAgICAgIDM4IDogXCJVcFwiLFxuICAgICAgICAgICAgMzkgOiBcIlJpZ2h0XCIsXG4gICAgICAgICAgICA0MCA6IFwiRG93blwiLFxuICAgICAgICAgICAgNDQgOiBcIlByaW50XCIsXG4gICAgICAgICAgICA0NSA6IFwiSW5zZXJ0XCIsXG4gICAgICAgICAgICA0NiA6IFwiRGVsZXRlXCIsXG4gICAgICAgICAgICA5NiA6IFwiTnVtcGFkMFwiLFxuICAgICAgICAgICAgOTcgOiBcIk51bXBhZDFcIixcbiAgICAgICAgICAgIDk4IDogXCJOdW1wYWQyXCIsXG4gICAgICAgICAgICA5OSA6IFwiTnVtcGFkM1wiLFxuICAgICAgICAgICAgMTAwOiBcIk51bXBhZDRcIixcbiAgICAgICAgICAgIDEwMTogXCJOdW1wYWQ1XCIsXG4gICAgICAgICAgICAxMDI6IFwiTnVtcGFkNlwiLFxuICAgICAgICAgICAgMTAzOiBcIk51bXBhZDdcIixcbiAgICAgICAgICAgIDEwNDogXCJOdW1wYWQ4XCIsXG4gICAgICAgICAgICAxMDU6IFwiTnVtcGFkOVwiLFxuICAgICAgICAgICAgJy0xMyc6IFwiTnVtcGFkRW50ZXJcIixcbiAgICAgICAgICAgIDExMjogXCJGMVwiLFxuICAgICAgICAgICAgMTEzOiBcIkYyXCIsXG4gICAgICAgICAgICAxMTQ6IFwiRjNcIixcbiAgICAgICAgICAgIDExNTogXCJGNFwiLFxuICAgICAgICAgICAgMTE2OiBcIkY1XCIsXG4gICAgICAgICAgICAxMTc6IFwiRjZcIixcbiAgICAgICAgICAgIDExODogXCJGN1wiLFxuICAgICAgICAgICAgMTE5OiBcIkY4XCIsXG4gICAgICAgICAgICAxMjA6IFwiRjlcIixcbiAgICAgICAgICAgIDEyMTogXCJGMTBcIixcbiAgICAgICAgICAgIDEyMjogXCJGMTFcIixcbiAgICAgICAgICAgIDEyMzogXCJGMTJcIixcbiAgICAgICAgICAgIDE0NDogXCJOdW1sb2NrXCIsXG4gICAgICAgICAgICAxNDU6IFwiU2Nyb2xsbG9ja1wiXG4gICAgICAgIH0sXG5cbiAgICAgICAgUFJJTlRBQkxFX0tFWVM6IHtcbiAgICAgICAgICAgMzI6ICcgJywgIDQ4OiAnMCcsICA0OTogJzEnLCAgNTA6ICcyJywgIDUxOiAnMycsICA1MjogJzQnLCA1MzogICc1JyxcbiAgICAgICAgICAgNTQ6ICc2JywgIDU1OiAnNycsICA1NjogJzgnLCAgNTc6ICc5JywgIDU5OiAnOycsICA2MTogJz0nLCA2NTogICdhJyxcbiAgICAgICAgICAgNjY6ICdiJywgIDY3OiAnYycsICA2ODogJ2QnLCAgNjk6ICdlJywgIDcwOiAnZicsICA3MTogJ2cnLCA3MjogICdoJyxcbiAgICAgICAgICAgNzM6ICdpJywgIDc0OiAnaicsICA3NTogJ2snLCAgNzY6ICdsJywgIDc3OiAnbScsICA3ODogJ24nLCA3OTogICdvJyxcbiAgICAgICAgICAgODA6ICdwJywgIDgxOiAncScsICA4MjogJ3InLCAgODM6ICdzJywgIDg0OiAndCcsICA4NTogJ3UnLCA4NjogICd2JyxcbiAgICAgICAgICAgODc6ICd3JywgIDg4OiAneCcsICA4OTogJ3knLCAgOTA6ICd6JywgMTA3OiAnKycsIDEwOTogJy0nLCAxMTA6ICcuJyxcbiAgICAgICAgICAxODY6ICc7JywgMTg3OiAnPScsIDE4ODogJywnLCAxODk6ICctJywgMTkwOiAnLicsIDE5MTogJy8nLCAxOTI6ICdgJyxcbiAgICAgICAgICAyMTk6ICdbJywgMjIwOiAnXFxcXCcsMjIxOiAnXScsIDIyMjogXCInXCIsIDExMTogJy8nLCAxMDY6ICcqJ1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgbmFtZSwgaTtcbiAgICBmb3IgKGkgaW4gcmV0LkZVTkNUSU9OX0tFWVMpIHtcbiAgICAgICAgbmFtZSA9IHJldC5GVU5DVElPTl9LRVlTW2ldLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHJldFtuYW1lXSA9IHBhcnNlSW50KGksIDEwKTtcbiAgICB9XG4gICAgZm9yIChpIGluIHJldC5QUklOVEFCTEVfS0VZUykge1xuICAgICAgICBuYW1lID0gcmV0LlBSSU5UQUJMRV9LRVlTW2ldLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHJldFtuYW1lXSA9IHBhcnNlSW50KGksIDEwKTtcbiAgICB9XG4gICAgb29wLm1peGluKHJldCwgcmV0Lk1PRElGSUVSX0tFWVMpO1xuICAgIG9vcC5taXhpbihyZXQsIHJldC5QUklOVEFCTEVfS0VZUyk7XG4gICAgb29wLm1peGluKHJldCwgcmV0LkZVTkNUSU9OX0tFWVMpO1xuICAgIHJldC5lbnRlciA9IHJldFtcInJldHVyblwiXTtcbiAgICByZXQuZXNjYXBlID0gcmV0LmVzYztcbiAgICByZXQuZGVsID0gcmV0W1wiZGVsZXRlXCJdO1xuICAgIHJldFsxNzNdID0gJy0nO1xuICAgIFxuICAgIChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG1vZHMgPSBbXCJjbWRcIiwgXCJjdHJsXCIsIFwiYWx0XCIsIFwic2hpZnRcIl07XG4gICAgICAgIGZvciAodmFyIGkgPSBNYXRoLnBvdygyLCBtb2RzLmxlbmd0aCk7IGktLTspIHsgICAgICAgICAgICBcbiAgICAgICAgICAgIHJldC5LRVlfTU9EU1tpXSA9IG1vZHMuZmlsdGVyKGZ1bmN0aW9uKHgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaSAmIHJldC5LRVlfTU9EU1t4XTtcbiAgICAgICAgICAgIH0pLmpvaW4oXCItXCIpICsgXCItXCI7XG4gICAgICAgIH1cbiAgICB9KSgpO1xuXG4gICAgcmV0LktFWV9NT0RTWzBdID0gXCJcIjtcbiAgICByZXQuS0VZX01PRFNbLTFdID0gXCJpbnB1dC1cIjtcblxuICAgIHJldHVybiByZXQ7XG59KSgpO1xub29wLm1peGluKGV4cG9ydHMsIEtleXMpO1xuXG5leHBvcnRzLmtleUNvZGVUb1N0cmluZyA9IGZ1bmN0aW9uKGtleUNvZGUpIHtcbiAgICB2YXIga2V5U3RyaW5nID0gS2V5c1trZXlDb2RlXTtcbiAgICBpZiAodHlwZW9mIGtleVN0cmluZyAhPSBcInN0cmluZ1wiKVxuICAgICAgICBrZXlTdHJpbmcgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGtleUNvZGUpO1xuICAgIHJldHVybiBrZXlTdHJpbmcudG9Mb3dlckNhc2UoKTtcbn07XG5cbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL2xpYi9ldmVudFwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9rZXlzXCIsXCJhY2UvbGliL3VzZXJhZ2VudFwiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIGtleXMgPSByZXF1aXJlKFwiLi9rZXlzXCIpO1xudmFyIHVzZXJhZ2VudCA9IHJlcXVpcmUoXCIuL3VzZXJhZ2VudFwiKTtcblxudmFyIHByZXNzZWRLZXlzID0gbnVsbDtcbnZhciB0cyA9IDA7XG5cbnZhciBhY3RpdmVMaXN0ZW5lck9wdGlvbnM7XG5mdW5jdGlvbiBkZXRlY3RMaXN0ZW5lck9wdGlvbnNTdXBwb3J0KCkge1xuICAgIGFjdGl2ZUxpc3RlbmVyT3B0aW9ucyA9IGZhbHNlO1xuICAgIHRyeSB7XG4gICAgICAgIGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoXCJcIikuYWRkRXZlbnRMaXN0ZW5lcihcInRlc3RcIiwgZnVuY3Rpb24oKSB7fSwgeyBcbiAgICAgICAgICAgIGdldCBwYXNzaXZlKCkgeyBcbiAgICAgICAgICAgICAgICBhY3RpdmVMaXN0ZW5lck9wdGlvbnMgPSB7cGFzc2l2ZTogZmFsc2V9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9IGNhdGNoKGUpIHt9XG59XG5cbmZ1bmN0aW9uIGdldExpc3RlbmVyT3B0aW9ucygpIHtcbiAgICBpZiAoYWN0aXZlTGlzdGVuZXJPcHRpb25zID09IHVuZGVmaW5lZClcbiAgICAgICAgZGV0ZWN0TGlzdGVuZXJPcHRpb25zU3VwcG9ydCgpO1xuICAgIHJldHVybiBhY3RpdmVMaXN0ZW5lck9wdGlvbnM7XG59XG5cbmZ1bmN0aW9uIEV2ZW50TGlzdGVuZXIoZWxlbSwgdHlwZSwgY2FsbGJhY2spIHtcbiAgICB0aGlzLmVsZW0gPSBlbGVtO1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xufVxuRXZlbnRMaXN0ZW5lci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICAgIHJlbW92ZUxpc3RlbmVyKHRoaXMuZWxlbSwgdGhpcy50eXBlLCB0aGlzLmNhbGxiYWNrKTtcbiAgICB0aGlzLmVsZW0gPSB0aGlzLnR5cGUgPSB0aGlzLmNhbGxiYWNrID0gdW5kZWZpbmVkO1xufTtcblxudmFyIGFkZExpc3RlbmVyID0gZXhwb3J0cy5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uKGVsZW0sIHR5cGUsIGNhbGxiYWNrLCBkZXN0cm95ZXIpIHtcbiAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2ssIGdldExpc3RlbmVyT3B0aW9ucygpKTtcbiAgICBpZiAoZGVzdHJveWVyKVxuICAgICAgICBkZXN0cm95ZXIuJHRvRGVzdHJveS5wdXNoKG5ldyBFdmVudExpc3RlbmVyKGVsZW0sIHR5cGUsIGNhbGxiYWNrKSk7XG59O1xuXG52YXIgcmVtb3ZlTGlzdGVuZXIgPSBleHBvcnRzLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24oZWxlbSwgdHlwZSwgY2FsbGJhY2spIHtcbiAgICBlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2ssIGdldExpc3RlbmVyT3B0aW9ucygpKTtcbn07XG5leHBvcnRzLnN0b3BFdmVudCA9IGZ1bmN0aW9uKGUpIHtcbiAgICBleHBvcnRzLnN0b3BQcm9wYWdhdGlvbihlKTtcbiAgICBleHBvcnRzLnByZXZlbnREZWZhdWx0KGUpO1xuICAgIHJldHVybiBmYWxzZTtcbn07XG5cbmV4cG9ydHMuc3RvcFByb3BhZ2F0aW9uID0gZnVuY3Rpb24oZSkge1xuICAgIGlmIChlLnN0b3BQcm9wYWdhdGlvbilcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbn07XG5cbmV4cG9ydHMucHJldmVudERlZmF1bHQgPSBmdW5jdGlvbihlKSB7XG4gICAgaWYgKGUucHJldmVudERlZmF1bHQpXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbn07XG5leHBvcnRzLmdldEJ1dHRvbiA9IGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAoZS50eXBlID09IFwiZGJsY2xpY2tcIilcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgaWYgKGUudHlwZSA9PSBcImNvbnRleHRtZW51XCIgfHwgKHVzZXJhZ2VudC5pc01hYyAmJiAoZS5jdHJsS2V5ICYmICFlLmFsdEtleSAmJiAhZS5zaGlmdEtleSkpKVxuICAgICAgICByZXR1cm4gMjtcbiAgICByZXR1cm4gZS5idXR0b247XG59O1xuXG5leHBvcnRzLmNhcHR1cmUgPSBmdW5jdGlvbihlbCwgZXZlbnRIYW5kbGVyLCByZWxlYXNlQ2FwdHVyZUhhbmRsZXIpIHtcbiAgICB2YXIgb3duZXJEb2N1bWVudCA9IGVsICYmIGVsLm93bmVyRG9jdW1lbnQgfHwgZG9jdW1lbnQ7XG4gICAgZnVuY3Rpb24gb25Nb3VzZVVwKGUpIHtcbiAgICAgICAgZXZlbnRIYW5kbGVyICYmIGV2ZW50SGFuZGxlcihlKTtcbiAgICAgICAgcmVsZWFzZUNhcHR1cmVIYW5kbGVyICYmIHJlbGVhc2VDYXB0dXJlSGFuZGxlcihlKTtcblxuICAgICAgICByZW1vdmVMaXN0ZW5lcihvd25lckRvY3VtZW50LCBcIm1vdXNlbW92ZVwiLCBldmVudEhhbmRsZXIpO1xuICAgICAgICByZW1vdmVMaXN0ZW5lcihvd25lckRvY3VtZW50LCBcIm1vdXNldXBcIiwgb25Nb3VzZVVwKTtcbiAgICAgICAgcmVtb3ZlTGlzdGVuZXIob3duZXJEb2N1bWVudCwgXCJkcmFnc3RhcnRcIiwgb25Nb3VzZVVwKTtcbiAgICB9XG5cbiAgICBhZGRMaXN0ZW5lcihvd25lckRvY3VtZW50LCBcIm1vdXNlbW92ZVwiLCBldmVudEhhbmRsZXIpO1xuICAgIGFkZExpc3RlbmVyKG93bmVyRG9jdW1lbnQsIFwibW91c2V1cFwiLCBvbk1vdXNlVXApO1xuICAgIGFkZExpc3RlbmVyKG93bmVyRG9jdW1lbnQsIFwiZHJhZ3N0YXJ0XCIsIG9uTW91c2VVcCk7XG4gICAgXG4gICAgcmV0dXJuIG9uTW91c2VVcDtcbn07XG5cbmV4cG9ydHMuYWRkTW91c2VXaGVlbExpc3RlbmVyID0gZnVuY3Rpb24oZWwsIGNhbGxiYWNrLCBkZXN0cm95ZXIpIHtcbiAgICBhZGRMaXN0ZW5lcihlbCwgXCJ3aGVlbFwiLCAgZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgZmFjdG9yID0gMC4xNTtcbiAgICAgICAgdmFyIGRlbHRhWCA9IGUuZGVsdGFYIHx8IDA7XG4gICAgICAgIHZhciBkZWx0YVkgPSBlLmRlbHRhWSB8fCAwO1xuICAgICAgICBzd2l0Y2ggKGUuZGVsdGFNb2RlKSB7XG4gICAgICAgICAgICBjYXNlIGUuRE9NX0RFTFRBX1BJWEVMOlxuICAgICAgICAgICAgICAgIGUud2hlZWxYID0gZGVsdGFYICogZmFjdG9yO1xuICAgICAgICAgICAgICAgIGUud2hlZWxZID0gZGVsdGFZICogZmFjdG9yO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBlLkRPTV9ERUxUQV9MSU5FOlxuICAgICAgICAgICAgICAgIHZhciBsaW5lUGl4ZWxzID0gMTU7XG4gICAgICAgICAgICAgICAgZS53aGVlbFggPSBkZWx0YVggKiBsaW5lUGl4ZWxzO1xuICAgICAgICAgICAgICAgIGUud2hlZWxZID0gZGVsdGFZICogbGluZVBpeGVscztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgZS5ET01fREVMVEFfUEFHRTpcbiAgICAgICAgICAgICAgICB2YXIgcGFnZVBpeGVscyA9IDE1MDtcbiAgICAgICAgICAgICAgICBlLndoZWVsWCA9IGRlbHRhWCAqIHBhZ2VQaXhlbHM7XG4gICAgICAgICAgICAgICAgZS53aGVlbFkgPSBkZWx0YVkgKiBwYWdlUGl4ZWxzO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhbGxiYWNrKGUpO1xuICAgIH0sIGRlc3Ryb3llcik7XG59O1xuXG5leHBvcnRzLmFkZE11bHRpTW91c2VEb3duTGlzdGVuZXIgPSBmdW5jdGlvbihlbGVtZW50cywgdGltZW91dHMsIGV2ZW50SGFuZGxlciwgY2FsbGJhY2tOYW1lLCBkZXN0cm95ZXIpIHtcbiAgICB2YXIgY2xpY2tzID0gMDtcbiAgICB2YXIgc3RhcnRYLCBzdGFydFksIHRpbWVyOyBcbiAgICB2YXIgZXZlbnROYW1lcyA9IHtcbiAgICAgICAgMjogXCJkYmxjbGlja1wiLFxuICAgICAgICAzOiBcInRyaXBsZWNsaWNrXCIsXG4gICAgICAgIDQ6IFwicXVhZGNsaWNrXCJcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gb25Nb3VzZWRvd24oZSkge1xuICAgICAgICBpZiAoZXhwb3J0cy5nZXRCdXR0b24oZSkgIT09IDApIHtcbiAgICAgICAgICAgIGNsaWNrcyA9IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoZS5kZXRhaWwgPiAxKSB7XG4gICAgICAgICAgICBjbGlja3MrKztcbiAgICAgICAgICAgIGlmIChjbGlja3MgPiA0KVxuICAgICAgICAgICAgICAgIGNsaWNrcyA9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjbGlja3MgPSAxO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1c2VyYWdlbnQuaXNJRSkge1xuICAgICAgICAgICAgdmFyIGlzTmV3Q2xpY2sgPSBNYXRoLmFicyhlLmNsaWVudFggLSBzdGFydFgpID4gNSB8fCBNYXRoLmFicyhlLmNsaWVudFkgLSBzdGFydFkpID4gNTtcbiAgICAgICAgICAgIGlmICghdGltZXIgfHwgaXNOZXdDbGljaylcbiAgICAgICAgICAgICAgICBjbGlja3MgPSAxO1xuICAgICAgICAgICAgaWYgKHRpbWVyKVxuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7dGltZXIgPSBudWxsO30sIHRpbWVvdXRzW2NsaWNrcyAtIDFdIHx8IDYwMCk7XG5cbiAgICAgICAgICAgIGlmIChjbGlja3MgPT0gMSkge1xuICAgICAgICAgICAgICAgIHN0YXJ0WCA9IGUuY2xpZW50WDtcbiAgICAgICAgICAgICAgICBzdGFydFkgPSBlLmNsaWVudFk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGUuX2NsaWNrcyA9IGNsaWNrcztcblxuICAgICAgICBldmVudEhhbmRsZXJbY2FsbGJhY2tOYW1lXShcIm1vdXNlZG93blwiLCBlKTtcblxuICAgICAgICBpZiAoY2xpY2tzID4gNClcbiAgICAgICAgICAgIGNsaWNrcyA9IDA7XG4gICAgICAgIGVsc2UgaWYgKGNsaWNrcyA+IDEpXG4gICAgICAgICAgICByZXR1cm4gZXZlbnRIYW5kbGVyW2NhbGxiYWNrTmFtZV0oZXZlbnROYW1lc1tjbGlja3NdLCBlKTtcbiAgICB9XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGVsZW1lbnRzKSlcbiAgICAgICAgZWxlbWVudHMgPSBbZWxlbWVudHNdO1xuICAgIGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgYWRkTGlzdGVuZXIoZWwsIFwibW91c2Vkb3duXCIsIG9uTW91c2Vkb3duLCBkZXN0cm95ZXIpO1xuICAgIH0pO1xufTtcblxudmFyIGdldE1vZGlmaWVySGFzaCA9IGZ1bmN0aW9uKGUpIHtcbiAgICByZXR1cm4gMCB8IChlLmN0cmxLZXkgPyAxIDogMCkgfCAoZS5hbHRLZXkgPyAyIDogMCkgfCAoZS5zaGlmdEtleSA/IDQgOiAwKSB8IChlLm1ldGFLZXkgPyA4IDogMCk7XG59O1xuXG5leHBvcnRzLmdldE1vZGlmaWVyU3RyaW5nID0gZnVuY3Rpb24oZSkge1xuICAgIHJldHVybiBrZXlzLktFWV9NT0RTW2dldE1vZGlmaWVySGFzaChlKV07XG59O1xuXG5mdW5jdGlvbiBub3JtYWxpemVDb21tYW5kS2V5cyhjYWxsYmFjaywgZSwga2V5Q29kZSkge1xuICAgIHZhciBoYXNoSWQgPSBnZXRNb2RpZmllckhhc2goZSk7XG5cbiAgICBpZiAoIXVzZXJhZ2VudC5pc01hYyAmJiBwcmVzc2VkS2V5cykge1xuICAgICAgICBpZiAoZS5nZXRNb2RpZmllclN0YXRlICYmIChlLmdldE1vZGlmaWVyU3RhdGUoXCJPU1wiKSB8fCBlLmdldE1vZGlmaWVyU3RhdGUoXCJXaW5cIikpKVxuICAgICAgICAgICAgaGFzaElkIHw9IDg7XG4gICAgICAgIGlmIChwcmVzc2VkS2V5cy5hbHRHcikge1xuICAgICAgICAgICAgaWYgKCgzICYgaGFzaElkKSAhPSAzKVxuICAgICAgICAgICAgICAgIHByZXNzZWRLZXlzLmFsdEdyID0gMDtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGtleUNvZGUgPT09IDE4IHx8IGtleUNvZGUgPT09IDE3KSB7XG4gICAgICAgICAgICB2YXIgbG9jYXRpb24gPSBcImxvY2F0aW9uXCIgaW4gZSA/IGUubG9jYXRpb24gOiBlLmtleUxvY2F0aW9uO1xuICAgICAgICAgICAgaWYgKGtleUNvZGUgPT09IDE3ICYmIGxvY2F0aW9uID09PSAxKSB7XG4gICAgICAgICAgICAgICAgaWYgKHByZXNzZWRLZXlzW2tleUNvZGVdID09IDEpXG4gICAgICAgICAgICAgICAgICAgIHRzID0gZS50aW1lU3RhbXA7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGtleUNvZGUgPT09IDE4ICYmIGhhc2hJZCA9PT0gMyAmJiBsb2NhdGlvbiA9PT0gMikge1xuICAgICAgICAgICAgICAgIHZhciBkdCA9IGUudGltZVN0YW1wIC0gdHM7XG4gICAgICAgICAgICAgICAgaWYgKGR0IDwgNTApXG4gICAgICAgICAgICAgICAgICAgIHByZXNzZWRLZXlzLmFsdEdyID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBpZiAoa2V5Q29kZSBpbiBrZXlzLk1PRElGSUVSX0tFWVMpIHtcbiAgICAgICAga2V5Q29kZSA9IC0xO1xuICAgIH1cbiAgICBcbiAgICBpZiAoIWhhc2hJZCAmJiBrZXlDb2RlID09PSAxMykge1xuICAgICAgICB2YXIgbG9jYXRpb24gPSBcImxvY2F0aW9uXCIgaW4gZSA/IGUubG9jYXRpb24gOiBlLmtleUxvY2F0aW9uO1xuICAgICAgICBpZiAobG9jYXRpb24gPT09IDMpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGUsIGhhc2hJZCwgLWtleUNvZGUpO1xuICAgICAgICAgICAgaWYgKGUuZGVmYXVsdFByZXZlbnRlZClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgaWYgKHVzZXJhZ2VudC5pc0Nocm9tZU9TICYmIGhhc2hJZCAmIDgpIHtcbiAgICAgICAgY2FsbGJhY2soZSwgaGFzaElkLCBrZXlDb2RlKTtcbiAgICAgICAgaWYgKGUuZGVmYXVsdFByZXZlbnRlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgaGFzaElkICY9IH44O1xuICAgIH1cbiAgICBpZiAoIWhhc2hJZCAmJiAhKGtleUNvZGUgaW4ga2V5cy5GVU5DVElPTl9LRVlTKSAmJiAhKGtleUNvZGUgaW4ga2V5cy5QUklOVEFCTEVfS0VZUykpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gY2FsbGJhY2soZSwgaGFzaElkLCBrZXlDb2RlKTtcbn1cblxuXG5leHBvcnRzLmFkZENvbW1hbmRLZXlMaXN0ZW5lciA9IGZ1bmN0aW9uKGVsLCBjYWxsYmFjaywgZGVzdHJveWVyKSB7XG4gICAgaWYgKHVzZXJhZ2VudC5pc09sZEdlY2tvIHx8ICh1c2VyYWdlbnQuaXNPcGVyYSAmJiAhKFwiS2V5Ym9hcmRFdmVudFwiIGluIHdpbmRvdykpKSB7XG4gICAgICAgIHZhciBsYXN0S2V5RG93bktleUNvZGUgPSBudWxsO1xuICAgICAgICBhZGRMaXN0ZW5lcihlbCwgXCJrZXlkb3duXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGxhc3RLZXlEb3duS2V5Q29kZSA9IGUua2V5Q29kZTtcbiAgICAgICAgfSwgZGVzdHJveWVyKTtcbiAgICAgICAgYWRkTGlzdGVuZXIoZWwsIFwia2V5cHJlc3NcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZUNvbW1hbmRLZXlzKGNhbGxiYWNrLCBlLCBsYXN0S2V5RG93bktleUNvZGUpO1xuICAgICAgICB9LCBkZXN0cm95ZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBsYXN0RGVmYXVsdFByZXZlbnRlZCA9IG51bGw7XG5cbiAgICAgICAgYWRkTGlzdGVuZXIoZWwsIFwia2V5ZG93blwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBwcmVzc2VkS2V5c1tlLmtleUNvZGVdID0gKHByZXNzZWRLZXlzW2Uua2V5Q29kZV0gfHwgMCkgKyAxO1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG5vcm1hbGl6ZUNvbW1hbmRLZXlzKGNhbGxiYWNrLCBlLCBlLmtleUNvZGUpO1xuICAgICAgICAgICAgbGFzdERlZmF1bHRQcmV2ZW50ZWQgPSBlLmRlZmF1bHRQcmV2ZW50ZWQ7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9LCBkZXN0cm95ZXIpO1xuXG4gICAgICAgIGFkZExpc3RlbmVyKGVsLCBcImtleXByZXNzXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGlmIChsYXN0RGVmYXVsdFByZXZlbnRlZCAmJiAoZS5jdHJsS2V5IHx8IGUuYWx0S2V5IHx8IGUuc2hpZnRLZXkgfHwgZS5tZXRhS2V5KSkge1xuICAgICAgICAgICAgICAgIGV4cG9ydHMuc3RvcEV2ZW50KGUpO1xuICAgICAgICAgICAgICAgIGxhc3REZWZhdWx0UHJldmVudGVkID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZGVzdHJveWVyKTtcblxuICAgICAgICBhZGRMaXN0ZW5lcihlbCwgXCJrZXl1cFwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBwcmVzc2VkS2V5c1tlLmtleUNvZGVdID0gbnVsbDtcbiAgICAgICAgfSwgZGVzdHJveWVyKTtcblxuICAgICAgICBpZiAoIXByZXNzZWRLZXlzKSB7XG4gICAgICAgICAgICByZXNldFByZXNzZWRLZXlzKCk7XG4gICAgICAgICAgICBhZGRMaXN0ZW5lcih3aW5kb3csIFwiZm9jdXNcIiwgcmVzZXRQcmVzc2VkS2V5cyk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuZnVuY3Rpb24gcmVzZXRQcmVzc2VkS2V5cygpIHtcbiAgICBwcmVzc2VkS2V5cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG59XG5cbmlmICh0eXBlb2Ygd2luZG93ID09IFwib2JqZWN0XCIgJiYgd2luZG93LnBvc3RNZXNzYWdlICYmICF1c2VyYWdlbnQuaXNPbGRJRSkge1xuICAgIHZhciBwb3N0TWVzc2FnZUlkID0gMTtcbiAgICBleHBvcnRzLm5leHRUaWNrID0gZnVuY3Rpb24oY2FsbGJhY2ssIHdpbikge1xuICAgICAgICB3aW4gPSB3aW4gfHwgd2luZG93O1xuICAgICAgICB2YXIgbWVzc2FnZU5hbWUgPSBcInplcm8tdGltZW91dC1tZXNzYWdlLVwiICsgKHBvc3RNZXNzYWdlSWQrKyk7XG4gICAgICAgIFxuICAgICAgICB2YXIgbGlzdGVuZXIgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZiAoZS5kYXRhID09IG1lc3NhZ2VOYW1lKSB7XG4gICAgICAgICAgICAgICAgZXhwb3J0cy5zdG9wUHJvcGFnYXRpb24oZSk7XG4gICAgICAgICAgICAgICAgcmVtb3ZlTGlzdGVuZXIod2luLCBcIm1lc3NhZ2VcIiwgbGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICBhZGRMaXN0ZW5lcih3aW4sIFwibWVzc2FnZVwiLCBsaXN0ZW5lcik7XG4gICAgICAgIHdpbi5wb3N0TWVzc2FnZShtZXNzYWdlTmFtZSwgXCIqXCIpO1xuICAgIH07XG59XG5cbmV4cG9ydHMuJGlkbGVCbG9ja2VkID0gZmFsc2U7XG5leHBvcnRzLm9uSWRsZSA9IGZ1bmN0aW9uKGNiLCB0aW1lb3V0KSB7XG4gICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24gaGFuZGxlcigpIHtcbiAgICAgICAgaWYgKCFleHBvcnRzLiRpZGxlQmxvY2tlZCkge1xuICAgICAgICAgICAgY2IoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoaGFuZGxlciwgMTAwKTtcbiAgICAgICAgfVxuICAgIH0sIHRpbWVvdXQpO1xufTtcblxuZXhwb3J0cy4kaWRsZUJsb2NrSWQgPSBudWxsO1xuZXhwb3J0cy5ibG9ja0lkbGUgPSBmdW5jdGlvbihkZWxheSkge1xuICAgIGlmIChleHBvcnRzLiRpZGxlQmxvY2tJZClcbiAgICAgICAgY2xlYXJUaW1lb3V0KGV4cG9ydHMuJGlkbGVCbG9ja0lkKTtcbiAgICAgICAgXG4gICAgZXhwb3J0cy4kaWRsZUJsb2NrZWQgPSB0cnVlO1xuICAgIGV4cG9ydHMuJGlkbGVCbG9ja0lkID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgZXhwb3J0cy4kaWRsZUJsb2NrZWQgPSBmYWxzZTtcbiAgICB9LCBkZWxheSB8fCAxMDApO1xufTtcblxuZXhwb3J0cy5uZXh0RnJhbWUgPSB0eXBlb2Ygd2luZG93ID09IFwib2JqZWN0XCIgJiYgKHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbiAgICB8fCB3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lXG4gICAgfHwgd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZVxuICAgIHx8IHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZVxuICAgIHx8IHdpbmRvdy5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lKTtcblxuaWYgKGV4cG9ydHMubmV4dEZyYW1lKVxuICAgIGV4cG9ydHMubmV4dEZyYW1lID0gZXhwb3J0cy5uZXh0RnJhbWUuYmluZCh3aW5kb3cpO1xuZWxzZVxuICAgIGV4cG9ydHMubmV4dEZyYW1lID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgICAgc2V0VGltZW91dChjYWxsYmFjaywgMTcpO1xuICAgIH07XG59KTtcblxuYWNlLmRlZmluZShcImFjZS9yYW5nZVwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcbnZhciBjb21wYXJlUG9pbnRzID0gZnVuY3Rpb24ocDEsIHAyKSB7XG4gICAgcmV0dXJuIHAxLnJvdyAtIHAyLnJvdyB8fCBwMS5jb2x1bW4gLSBwMi5jb2x1bW47XG59O1xudmFyIFJhbmdlID0gZnVuY3Rpb24oc3RhcnRSb3csIHN0YXJ0Q29sdW1uLCBlbmRSb3csIGVuZENvbHVtbikge1xuICAgIHRoaXMuc3RhcnQgPSB7XG4gICAgICAgIHJvdzogc3RhcnRSb3csXG4gICAgICAgIGNvbHVtbjogc3RhcnRDb2x1bW5cbiAgICB9O1xuXG4gICAgdGhpcy5lbmQgPSB7XG4gICAgICAgIHJvdzogZW5kUm93LFxuICAgICAgICBjb2x1bW46IGVuZENvbHVtblxuICAgIH07XG59O1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5pc0VxdWFsID0gZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnQucm93ID09PSByYW5nZS5zdGFydC5yb3cgJiZcbiAgICAgICAgICAgIHRoaXMuZW5kLnJvdyA9PT0gcmFuZ2UuZW5kLnJvdyAmJlxuICAgICAgICAgICAgdGhpcy5zdGFydC5jb2x1bW4gPT09IHJhbmdlLnN0YXJ0LmNvbHVtbiAmJlxuICAgICAgICAgICAgdGhpcy5lbmQuY29sdW1uID09PSByYW5nZS5lbmQuY29sdW1uO1xuICAgIH07XG4gICAgdGhpcy50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gKFwiUmFuZ2U6IFtcIiArIHRoaXMuc3RhcnQucm93ICsgXCIvXCIgKyB0aGlzLnN0YXJ0LmNvbHVtbiArXG4gICAgICAgICAgICBcIl0gLT4gW1wiICsgdGhpcy5lbmQucm93ICsgXCIvXCIgKyB0aGlzLmVuZC5jb2x1bW4gKyBcIl1cIik7XG4gICAgfTtcblxuICAgIHRoaXMuY29udGFpbnMgPSBmdW5jdGlvbihyb3csIGNvbHVtbikge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlKHJvdywgY29sdW1uKSA9PSAwO1xuICAgIH07XG4gICAgdGhpcy5jb21wYXJlUmFuZ2UgPSBmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICB2YXIgY21wLFxuICAgICAgICAgICAgZW5kID0gcmFuZ2UuZW5kLFxuICAgICAgICAgICAgc3RhcnQgPSByYW5nZS5zdGFydDtcblxuICAgICAgICBjbXAgPSB0aGlzLmNvbXBhcmUoZW5kLnJvdywgZW5kLmNvbHVtbik7XG4gICAgICAgIGlmIChjbXAgPT0gMSkge1xuICAgICAgICAgICAgY21wID0gdGhpcy5jb21wYXJlKHN0YXJ0LnJvdywgc3RhcnQuY29sdW1uKTtcbiAgICAgICAgICAgIGlmIChjbXAgPT0gMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAyO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjbXAgPT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjbXAgPT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiAtMjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNtcCA9IHRoaXMuY29tcGFyZShzdGFydC5yb3csIHN0YXJ0LmNvbHVtbik7XG4gICAgICAgICAgICBpZiAoY21wID09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjbXAgPT0gMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiA0MjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuY29tcGFyZVBvaW50ID0gZnVuY3Rpb24ocCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlKHAucm93LCBwLmNvbHVtbik7XG4gICAgfTtcbiAgICB0aGlzLmNvbnRhaW5zUmFuZ2UgPSBmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlUG9pbnQocmFuZ2Uuc3RhcnQpID09IDAgJiYgdGhpcy5jb21wYXJlUG9pbnQocmFuZ2UuZW5kKSA9PSAwO1xuICAgIH07XG4gICAgdGhpcy5pbnRlcnNlY3RzID0gZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgICAgdmFyIGNtcCA9IHRoaXMuY29tcGFyZVJhbmdlKHJhbmdlKTtcbiAgICAgICAgcmV0dXJuIChjbXAgPT0gLTEgfHwgY21wID09IDAgfHwgY21wID09IDEpO1xuICAgIH07XG4gICAgdGhpcy5pc0VuZCA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVuZC5yb3cgPT0gcm93ICYmIHRoaXMuZW5kLmNvbHVtbiA9PSBjb2x1bW47XG4gICAgfTtcbiAgICB0aGlzLmlzU3RhcnQgPSBmdW5jdGlvbihyb3csIGNvbHVtbikge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGFydC5yb3cgPT0gcm93ICYmIHRoaXMuc3RhcnQuY29sdW1uID09IGNvbHVtbjtcbiAgICB9O1xuICAgIHRoaXMuc2V0U3RhcnQgPSBmdW5jdGlvbihyb3csIGNvbHVtbikge1xuICAgICAgICBpZiAodHlwZW9mIHJvdyA9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0LmNvbHVtbiA9IHJvdy5jb2x1bW47XG4gICAgICAgICAgICB0aGlzLnN0YXJ0LnJvdyA9IHJvdy5yb3c7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0LnJvdyA9IHJvdztcbiAgICAgICAgICAgIHRoaXMuc3RhcnQuY29sdW1uID0gY29sdW1uO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLnNldEVuZCA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygcm93ID09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIHRoaXMuZW5kLmNvbHVtbiA9IHJvdy5jb2x1bW47XG4gICAgICAgICAgICB0aGlzLmVuZC5yb3cgPSByb3cucm93O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5lbmQucm93ID0gcm93O1xuICAgICAgICAgICAgdGhpcy5lbmQuY29sdW1uID0gY29sdW1uO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmluc2lkZSA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pID09IDApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzRW5kKHJvdywgY29sdW1uKSB8fCB0aGlzLmlzU3RhcnQocm93LCBjb2x1bW4pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICB0aGlzLmluc2lkZVN0YXJ0ID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHtcbiAgICAgICAgaWYgKHRoaXMuY29tcGFyZShyb3csIGNvbHVtbikgPT0gMCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNFbmQocm93LCBjb2x1bW4pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICB0aGlzLmluc2lkZUVuZCA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pID09IDApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzU3RhcnQocm93LCBjb2x1bW4pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICB0aGlzLmNvbXBhcmUgPSBmdW5jdGlvbihyb3csIGNvbHVtbikge1xuICAgICAgICBpZiAoIXRoaXMuaXNNdWx0aUxpbmUoKSkge1xuICAgICAgICAgICAgaWYgKHJvdyA9PT0gdGhpcy5zdGFydC5yb3cpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sdW1uIDwgdGhpcy5zdGFydC5jb2x1bW4gPyAtMSA6IChjb2x1bW4gPiB0aGlzLmVuZC5jb2x1bW4gPyAxIDogMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocm93IDwgdGhpcy5zdGFydC5yb3cpXG4gICAgICAgICAgICByZXR1cm4gLTE7XG5cbiAgICAgICAgaWYgKHJvdyA+IHRoaXMuZW5kLnJvdylcbiAgICAgICAgICAgIHJldHVybiAxO1xuXG4gICAgICAgIGlmICh0aGlzLnN0YXJ0LnJvdyA9PT0gcm93KVxuICAgICAgICAgICAgcmV0dXJuIGNvbHVtbiA+PSB0aGlzLnN0YXJ0LmNvbHVtbiA/IDAgOiAtMTtcblxuICAgICAgICBpZiAodGhpcy5lbmQucm93ID09PSByb3cpXG4gICAgICAgICAgICByZXR1cm4gY29sdW1uIDw9IHRoaXMuZW5kLmNvbHVtbiA/IDAgOiAxO1xuXG4gICAgICAgIHJldHVybiAwO1xuICAgIH07XG4gICAgdGhpcy5jb21wYXJlU3RhcnQgPSBmdW5jdGlvbihyb3csIGNvbHVtbikge1xuICAgICAgICBpZiAodGhpcy5zdGFydC5yb3cgPT0gcm93ICYmIHRoaXMuc3RhcnQuY29sdW1uID09IGNvbHVtbikge1xuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShyb3csIGNvbHVtbik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuY29tcGFyZUVuZCA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7XG4gICAgICAgIGlmICh0aGlzLmVuZC5yb3cgPT0gcm93ICYmIHRoaXMuZW5kLmNvbHVtbiA9PSBjb2x1bW4pIHtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShyb3csIGNvbHVtbik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuY29tcGFyZUluc2lkZSA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7XG4gICAgICAgIGlmICh0aGlzLmVuZC5yb3cgPT0gcm93ICYmIHRoaXMuZW5kLmNvbHVtbiA9PSBjb2x1bW4pIHtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc3RhcnQucm93ID09IHJvdyAmJiB0aGlzLnN0YXJ0LmNvbHVtbiA9PSBjb2x1bW4pIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmNsaXBSb3dzID0gZnVuY3Rpb24oZmlyc3RSb3csIGxhc3RSb3cpIHtcbiAgICAgICAgaWYgKHRoaXMuZW5kLnJvdyA+IGxhc3RSb3cpXG4gICAgICAgICAgICB2YXIgZW5kID0ge3JvdzogbGFzdFJvdyArIDEsIGNvbHVtbjogMH07XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZW5kLnJvdyA8IGZpcnN0Um93KVxuICAgICAgICAgICAgdmFyIGVuZCA9IHtyb3c6IGZpcnN0Um93LCBjb2x1bW46IDB9O1xuXG4gICAgICAgIGlmICh0aGlzLnN0YXJ0LnJvdyA+IGxhc3RSb3cpXG4gICAgICAgICAgICB2YXIgc3RhcnQgPSB7cm93OiBsYXN0Um93ICsgMSwgY29sdW1uOiAwfTtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5zdGFydC5yb3cgPCBmaXJzdFJvdylcbiAgICAgICAgICAgIHZhciBzdGFydCA9IHtyb3c6IGZpcnN0Um93LCBjb2x1bW46IDB9O1xuXG4gICAgICAgIHJldHVybiBSYW5nZS5mcm9tUG9pbnRzKHN0YXJ0IHx8IHRoaXMuc3RhcnQsIGVuZCB8fCB0aGlzLmVuZCk7XG4gICAgfTtcbiAgICB0aGlzLmV4dGVuZCA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7XG4gICAgICAgIHZhciBjbXAgPSB0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pO1xuXG4gICAgICAgIGlmIChjbXAgPT0gMClcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICBlbHNlIGlmIChjbXAgPT0gLTEpXG4gICAgICAgICAgICB2YXIgc3RhcnQgPSB7cm93OiByb3csIGNvbHVtbjogY29sdW1ufTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdmFyIGVuZCA9IHtyb3c6IHJvdywgY29sdW1uOiBjb2x1bW59O1xuXG4gICAgICAgIHJldHVybiBSYW5nZS5mcm9tUG9pbnRzKHN0YXJ0IHx8IHRoaXMuc3RhcnQsIGVuZCB8fCB0aGlzLmVuZCk7XG4gICAgfTtcblxuICAgIHRoaXMuaXNFbXB0eSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuc3RhcnQucm93ID09PSB0aGlzLmVuZC5yb3cgJiYgdGhpcy5zdGFydC5jb2x1bW4gPT09IHRoaXMuZW5kLmNvbHVtbik7XG4gICAgfTtcbiAgICB0aGlzLmlzTXVsdGlMaW5lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5zdGFydC5yb3cgIT09IHRoaXMuZW5kLnJvdyk7XG4gICAgfTtcbiAgICB0aGlzLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBSYW5nZS5mcm9tUG9pbnRzKHRoaXMuc3RhcnQsIHRoaXMuZW5kKTtcbiAgICB9O1xuICAgIHRoaXMuY29sbGFwc2VSb3dzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLmVuZC5jb2x1bW4gPT0gMClcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmFuZ2UodGhpcy5zdGFydC5yb3csIDAsIE1hdGgubWF4KHRoaXMuc3RhcnQucm93LCB0aGlzLmVuZC5yb3ctMSksIDApO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHRoaXMuc3RhcnQucm93LCAwLCB0aGlzLmVuZC5yb3csIDApO1xuICAgIH07XG4gICAgdGhpcy50b1NjcmVlblJhbmdlID0gZnVuY3Rpb24oc2Vzc2lvbikge1xuICAgICAgICB2YXIgc2NyZWVuUG9zU3RhcnQgPSBzZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbih0aGlzLnN0YXJ0KTtcbiAgICAgICAgdmFyIHNjcmVlblBvc0VuZCA9IHNlc3Npb24uZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKHRoaXMuZW5kKTtcblxuICAgICAgICByZXR1cm4gbmV3IFJhbmdlKFxuICAgICAgICAgICAgc2NyZWVuUG9zU3RhcnQucm93LCBzY3JlZW5Qb3NTdGFydC5jb2x1bW4sXG4gICAgICAgICAgICBzY3JlZW5Qb3NFbmQucm93LCBzY3JlZW5Qb3NFbmQuY29sdW1uXG4gICAgICAgICk7XG4gICAgfTtcbiAgICB0aGlzLm1vdmVCeSA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7XG4gICAgICAgIHRoaXMuc3RhcnQucm93ICs9IHJvdztcbiAgICAgICAgdGhpcy5zdGFydC5jb2x1bW4gKz0gY29sdW1uO1xuICAgICAgICB0aGlzLmVuZC5yb3cgKz0gcm93O1xuICAgICAgICB0aGlzLmVuZC5jb2x1bW4gKz0gY29sdW1uO1xuICAgIH07XG5cbn0pLmNhbGwoUmFuZ2UucHJvdG90eXBlKTtcblJhbmdlLmZyb21Qb2ludHMgPSBmdW5jdGlvbihzdGFydCwgZW5kKSB7XG4gICAgcmV0dXJuIG5ldyBSYW5nZShzdGFydC5yb3csIHN0YXJ0LmNvbHVtbiwgZW5kLnJvdywgZW5kLmNvbHVtbik7XG59O1xuUmFuZ2UuY29tcGFyZVBvaW50cyA9IGNvbXBhcmVQb2ludHM7XG5cblJhbmdlLmNvbXBhcmVQb2ludHMgPSBmdW5jdGlvbihwMSwgcDIpIHtcbiAgICByZXR1cm4gcDEucm93IC0gcDIucm93IHx8IHAxLmNvbHVtbiAtIHAyLmNvbHVtbjtcbn07XG5cblxuZXhwb3J0cy5SYW5nZSA9IFJhbmdlO1xufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvY2xpcGJvYXJkXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCJdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgJGNhbmNlbFQ7XG5tb2R1bGUuZXhwb3J0cyA9IHsgXG4gICAgbGluZU1vZGU6IGZhbHNlLFxuICAgIHBhc3RlQ2FuY2VsbGVkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCRjYW5jZWxUICYmICRjYW5jZWxUID4gRGF0ZS5ub3coKSAtIDUwKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIHJldHVybiAkY2FuY2VsVCA9IGZhbHNlO1xuICAgIH0sXG4gICAgY2FuY2VsOiBmdW5jdGlvbigpIHtcbiAgICAgICAgJGNhbmNlbFQgPSBEYXRlLm5vdygpO1xuICAgIH1cbn07XG5cbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL2tleWJvYXJkL3RleHRpbnB1dFwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9ldmVudFwiLFwiYWNlL2xpYi91c2VyYWdlbnRcIixcImFjZS9saWIvZG9tXCIsXCJhY2UvbGliL2xhbmdcIixcImFjZS9jbGlwYm9hcmRcIixcImFjZS9saWIva2V5c1wiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIGV2ZW50ID0gcmVxdWlyZShcIi4uL2xpYi9ldmVudFwiKTtcbnZhciB1c2VyYWdlbnQgPSByZXF1aXJlKFwiLi4vbGliL3VzZXJhZ2VudFwiKTtcbnZhciBkb20gPSByZXF1aXJlKFwiLi4vbGliL2RvbVwiKTtcbnZhciBsYW5nID0gcmVxdWlyZShcIi4uL2xpYi9sYW5nXCIpO1xudmFyIGNsaXBib2FyZCA9IHJlcXVpcmUoXCIuLi9jbGlwYm9hcmRcIik7XG52YXIgQlJPS0VOX1NFVERBVEEgPSB1c2VyYWdlbnQuaXNDaHJvbWUgPCAxODtcbnZhciBVU0VfSUVfTUlNRV9UWVBFID0gIHVzZXJhZ2VudC5pc0lFO1xudmFyIEhBU19GT0NVU19BUkdTID0gdXNlcmFnZW50LmlzQ2hyb21lID4gNjM7XG52YXIgTUFYX0xJTkVfTEVOR1RIID0gNDAwO1xuXG52YXIgS0VZUyA9IHJlcXVpcmUoXCIuLi9saWIva2V5c1wiKTtcbnZhciBNT0RTID0gS0VZUy5LRVlfTU9EUztcbnZhciBpc0lPUyA9IHVzZXJhZ2VudC5pc0lPUztcbnZhciB2YWx1ZVJlc2V0UmVnZXggPSBpc0lPUyA/IC9cXHMvIDogL1xcbi87XG52YXIgaXNNb2JpbGUgPSB1c2VyYWdlbnQuaXNNb2JpbGU7XG5cbnZhciBUZXh0SW5wdXQgPSBmdW5jdGlvbihwYXJlbnROb2RlLCBob3N0KSB7XG4gICAgdmFyIHRleHQgPSBkb20uY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIpO1xuICAgIHRleHQuY2xhc3NOYW1lID0gXCJhY2VfdGV4dC1pbnB1dFwiO1xuXG4gICAgdGV4dC5zZXRBdHRyaWJ1dGUoXCJ3cmFwXCIsIFwib2ZmXCIpO1xuICAgIHRleHQuc2V0QXR0cmlidXRlKFwiYXV0b2NvcnJlY3RcIiwgXCJvZmZcIik7XG4gICAgdGV4dC5zZXRBdHRyaWJ1dGUoXCJhdXRvY2FwaXRhbGl6ZVwiLCBcIm9mZlwiKTtcbiAgICB0ZXh0LnNldEF0dHJpYnV0ZShcInNwZWxsY2hlY2tcIiwgZmFsc2UpO1xuXG4gICAgdGV4dC5zdHlsZS5vcGFjaXR5ID0gXCIwXCI7XG4gICAgcGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGV4dCwgcGFyZW50Tm9kZS5maXJzdENoaWxkKTtcblxuICAgIHZhciBjb3BpZWQgPSBmYWxzZTtcbiAgICB2YXIgcGFzdGVkID0gZmFsc2U7XG4gICAgdmFyIGluQ29tcG9zaXRpb24gPSBmYWxzZTtcbiAgICB2YXIgc2VuZGluZ1RleHQgPSBmYWxzZTtcbiAgICB2YXIgdGVtcFN0eWxlID0gJyc7XG4gICAgXG4gICAgaWYgKCFpc01vYmlsZSlcbiAgICAgICAgdGV4dC5zdHlsZS5mb250U2l6ZSA9IFwiMXB4XCI7XG5cbiAgICB2YXIgY29tbWFuZE1vZGUgPSBmYWxzZTtcbiAgICB2YXIgaWdub3JlRm9jdXNFdmVudHMgPSBmYWxzZTtcbiAgICBcbiAgICB2YXIgbGFzdFZhbHVlID0gXCJcIjtcbiAgICB2YXIgbGFzdFNlbGVjdGlvblN0YXJ0ID0gMDtcbiAgICB2YXIgbGFzdFNlbGVjdGlvbkVuZCA9IDA7XG4gICAgdmFyIGxhc3RSZXN0b3JlRW5kID0gMDtcbiAgICB0cnkgeyB2YXIgaXNGb2N1c2VkID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gdGV4dDsgfSBjYXRjaChlKSB7fVxuICAgIFxuICAgIGV2ZW50LmFkZExpc3RlbmVyKHRleHQsIFwiYmx1clwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmIChpZ25vcmVGb2N1c0V2ZW50cykgcmV0dXJuO1xuICAgICAgICBob3N0Lm9uQmx1cihlKTtcbiAgICAgICAgaXNGb2N1c2VkID0gZmFsc2U7XG4gICAgfSwgaG9zdCk7XG4gICAgZXZlbnQuYWRkTGlzdGVuZXIodGV4dCwgXCJmb2N1c1wiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmIChpZ25vcmVGb2N1c0V2ZW50cykgcmV0dXJuO1xuICAgICAgICBpc0ZvY3VzZWQgPSB0cnVlO1xuICAgICAgICBpZiAodXNlcmFnZW50LmlzRWRnZSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoIWRvY3VtZW50Lmhhc0ZvY3VzKCkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gY2F0Y2goZSkge31cbiAgICAgICAgfVxuICAgICAgICBob3N0Lm9uRm9jdXMoZSk7XG4gICAgICAgIGlmICh1c2VyYWdlbnQuaXNFZGdlKVxuICAgICAgICAgICAgc2V0VGltZW91dChyZXNldFNlbGVjdGlvbik7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJlc2V0U2VsZWN0aW9uKCk7XG4gICAgfSwgaG9zdCk7XG4gICAgdGhpcy4kZm9jdXNTY3JvbGwgPSBmYWxzZTtcbiAgICB0aGlzLmZvY3VzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0ZW1wU3R5bGUgfHwgSEFTX0ZPQ1VTX0FSR1MgfHwgdGhpcy4kZm9jdXNTY3JvbGwgPT0gXCJicm93c2VyXCIpXG4gICAgICAgICAgICByZXR1cm4gdGV4dC5mb2N1cyh7IHByZXZlbnRTY3JvbGw6IHRydWUgfSk7XG5cbiAgICAgICAgdmFyIHRvcCA9IHRleHQuc3R5bGUudG9wO1xuICAgICAgICB0ZXh0LnN0eWxlLnBvc2l0aW9uID0gXCJmaXhlZFwiO1xuICAgICAgICB0ZXh0LnN0eWxlLnRvcCA9IFwiMHB4XCI7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgaXNUcmFuc2Zvcm1lZCA9IHRleHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wICE9IDA7XG4gICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhbmNlc3RvcnMgPSBbXTtcbiAgICAgICAgaWYgKGlzVHJhbnNmb3JtZWQpIHtcbiAgICAgICAgICAgIHZhciB0ID0gdGV4dC5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgICAgd2hpbGUgKHQgJiYgdC5ub2RlVHlwZSA9PSAxKSB7XG4gICAgICAgICAgICAgICAgYW5jZXN0b3JzLnB1c2godCk7XG4gICAgICAgICAgICAgICAgdC5zZXRBdHRyaWJ1dGUoXCJhY2Vfbm9jb250ZXh0XCIsIHRydWUpO1xuICAgICAgICAgICAgICAgIGlmICghdC5wYXJlbnRFbGVtZW50ICYmIHQuZ2V0Um9vdE5vZGUpXG4gICAgICAgICAgICAgICAgICAgIHQgPSB0LmdldFJvb3ROb2RlKCkuaG9zdDtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHQgPSB0LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGV4dC5mb2N1cyh7IHByZXZlbnRTY3JvbGw6IHRydWUgfSk7XG4gICAgICAgIGlmIChpc1RyYW5zZm9ybWVkKSB7XG4gICAgICAgICAgICBhbmNlc3RvcnMuZm9yRWFjaChmdW5jdGlvbihwKSB7XG4gICAgICAgICAgICAgICAgcC5yZW1vdmVBdHRyaWJ1dGUoXCJhY2Vfbm9jb250ZXh0XCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRleHQuc3R5bGUucG9zaXRpb24gPSBcIlwiO1xuICAgICAgICAgICAgaWYgKHRleHQuc3R5bGUudG9wID09IFwiMHB4XCIpXG4gICAgICAgICAgICAgICAgdGV4dC5zdHlsZS50b3AgPSB0b3A7XG4gICAgICAgIH0sIDApO1xuICAgIH07XG4gICAgdGhpcy5ibHVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRleHQuYmx1cigpO1xuICAgIH07XG4gICAgdGhpcy5pc0ZvY3VzZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGlzRm9jdXNlZDtcbiAgICB9O1xuICAgIFxuICAgIGhvc3Qub24oXCJiZWZvcmVFbmRPcGVyYXRpb25cIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBjdXJPcCA9IGhvc3QuY3VyT3A7XG4gICAgICAgIHZhciBjb21tYW5kTmFtZSA9IGN1ck9wICYmIGN1ck9wLmNvbW1hbmQgJiYgY3VyT3AuY29tbWFuZC5uYW1lO1xuICAgICAgICBpZiAoY29tbWFuZE5hbWUgPT0gXCJpbnNlcnRzdHJpbmdcIilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyIGlzVXNlckFjdGlvbiA9IGNvbW1hbmROYW1lICYmIChjdXJPcC5kb2NDaGFuZ2VkIHx8IGN1ck9wLnNlbGVjdGlvbkNoYW5nZWQpO1xuICAgICAgICBpZiAoaW5Db21wb3NpdGlvbiAmJiBpc1VzZXJBY3Rpb24pIHtcbiAgICAgICAgICAgIGxhc3RWYWx1ZSA9IHRleHQudmFsdWUgPSBcIlwiO1xuICAgICAgICAgICAgb25Db21wb3NpdGlvbkVuZCgpO1xuICAgICAgICB9XG4gICAgICAgIHJlc2V0U2VsZWN0aW9uKCk7XG4gICAgfSk7XG4gICAgXG4gICAgdmFyIHJlc2V0U2VsZWN0aW9uID0gaXNJT1NcbiAgICA/IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGlmICghaXNGb2N1c2VkIHx8IChjb3BpZWQgJiYgIXZhbHVlKSB8fCBzZW5kaW5nVGV4dCkgcmV0dXJuO1xuICAgICAgICBpZiAoIXZhbHVlKSBcbiAgICAgICAgICAgIHZhbHVlID0gXCJcIjtcbiAgICAgICAgdmFyIG5ld1ZhbHVlID0gXCJcXG4gYWJcIiArIHZhbHVlICsgXCJjZGUgZmdcXG5cIjtcbiAgICAgICAgaWYgKG5ld1ZhbHVlICE9IHRleHQudmFsdWUpXG4gICAgICAgICAgICB0ZXh0LnZhbHVlID0gbGFzdFZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgIFxuICAgICAgICB2YXIgc2VsZWN0aW9uU3RhcnQgPSA0O1xuICAgICAgICB2YXIgc2VsZWN0aW9uRW5kID0gNCArICh2YWx1ZS5sZW5ndGggfHwgKGhvc3Quc2VsZWN0aW9uLmlzRW1wdHkoKSA/IDAgOiAxKSk7XG5cbiAgICAgICAgaWYgKGxhc3RTZWxlY3Rpb25TdGFydCAhPSBzZWxlY3Rpb25TdGFydCB8fCBsYXN0U2VsZWN0aW9uRW5kICE9IHNlbGVjdGlvbkVuZCkge1xuICAgICAgICAgICAgdGV4dC5zZXRTZWxlY3Rpb25SYW5nZShzZWxlY3Rpb25TdGFydCwgc2VsZWN0aW9uRW5kKTtcbiAgICAgICAgfVxuICAgICAgICBsYXN0U2VsZWN0aW9uU3RhcnQgPSBzZWxlY3Rpb25TdGFydDtcbiAgICAgICAgbGFzdFNlbGVjdGlvbkVuZCA9IHNlbGVjdGlvbkVuZDtcbiAgICB9XG4gICAgOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGluQ29tcG9zaXRpb24gfHwgc2VuZGluZ1RleHQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmICghaXNGb2N1c2VkICYmICFhZnRlckNvbnRleHRNZW51KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpbkNvbXBvc2l0aW9uID0gdHJ1ZTtcbiAgICAgICAgXG4gICAgICAgIHZhciBzZWxlY3Rpb25TdGFydCA9IDA7XG4gICAgICAgIHZhciBzZWxlY3Rpb25FbmQgPSAwO1xuICAgICAgICB2YXIgbGluZSA9IFwiXCI7XG5cbiAgICAgICAgaWYgKGhvc3Quc2Vzc2lvbikge1xuICAgICAgICAgICAgdmFyIHNlbGVjdGlvbiA9IGhvc3Quc2VsZWN0aW9uO1xuICAgICAgICAgICAgdmFyIHJhbmdlID0gc2VsZWN0aW9uLmdldFJhbmdlKCk7XG4gICAgICAgICAgICB2YXIgcm93ID0gc2VsZWN0aW9uLmN1cnNvci5yb3c7XG4gICAgICAgICAgICBzZWxlY3Rpb25TdGFydCA9IHJhbmdlLnN0YXJ0LmNvbHVtbjtcbiAgICAgICAgICAgIHNlbGVjdGlvbkVuZCA9IHJhbmdlLmVuZC5jb2x1bW47XG4gICAgICAgICAgICBsaW5lID0gaG9zdC5zZXNzaW9uLmdldExpbmUocm93KTtcblxuICAgICAgICAgICAgaWYgKHJhbmdlLnN0YXJ0LnJvdyAhPSByb3cpIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJldkxpbmUgPSBob3N0LnNlc3Npb24uZ2V0TGluZShyb3cgLSAxKTtcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb25TdGFydCA9IHJhbmdlLnN0YXJ0LnJvdyA8IHJvdyAtIDEgPyAwIDogc2VsZWN0aW9uU3RhcnQ7XG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uRW5kICs9IHByZXZMaW5lLmxlbmd0aCArIDE7XG4gICAgICAgICAgICAgICAgbGluZSA9IHByZXZMaW5lICsgXCJcXG5cIiArIGxpbmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChyYW5nZS5lbmQucm93ICE9IHJvdykge1xuICAgICAgICAgICAgICAgIHZhciBuZXh0TGluZSA9IGhvc3Quc2Vzc2lvbi5nZXRMaW5lKHJvdyArIDEpO1xuICAgICAgICAgICAgICAgIHNlbGVjdGlvbkVuZCA9IHJhbmdlLmVuZC5yb3cgPiByb3cgICsgMSA/IG5leHRMaW5lLmxlbmd0aCA6IHNlbGVjdGlvbkVuZDtcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb25FbmQgKz0gbGluZS5sZW5ndGggKyAxO1xuICAgICAgICAgICAgICAgIGxpbmUgPSBsaW5lICsgXCJcXG5cIiArIG5leHRMaW5lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNNb2JpbGUgJiYgcm93ID4gMCkge1xuICAgICAgICAgICAgICAgIGxpbmUgPSBcIlxcblwiICsgbGluZTtcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb25FbmQgKz0gMTtcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb25TdGFydCArPSAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobGluZS5sZW5ndGggPiBNQVhfTElORV9MRU5HVEgpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0aW9uU3RhcnQgPCBNQVhfTElORV9MRU5HVEggJiYgc2VsZWN0aW9uRW5kIDwgTUFYX0xJTkVfTEVOR1RIKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmUgPSBsaW5lLnNsaWNlKDAsIE1BWF9MSU5FX0xFTkdUSCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZSA9IFwiXFxuXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3Rpb25TdGFydCA9PSBzZWxlY3Rpb25FbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvblN0YXJ0ID0gc2VsZWN0aW9uRW5kID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvblN0YXJ0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbkVuZCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbmV3VmFsdWUgPSBsaW5lICsgXCJcXG5cXG5cIjtcbiAgICAgICAgaWYgKG5ld1ZhbHVlICE9IGxhc3RWYWx1ZSkge1xuICAgICAgICAgICAgdGV4dC52YWx1ZSA9IGxhc3RWYWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgbGFzdFNlbGVjdGlvblN0YXJ0ID0gbGFzdFNlbGVjdGlvbkVuZCA9IG5ld1ZhbHVlLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWZ0ZXJDb250ZXh0TWVudSkge1xuICAgICAgICAgICAgbGFzdFNlbGVjdGlvblN0YXJ0ID0gdGV4dC5zZWxlY3Rpb25TdGFydDtcbiAgICAgICAgICAgIGxhc3RTZWxlY3Rpb25FbmQgPSB0ZXh0LnNlbGVjdGlvbkVuZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBsYXN0U2VsZWN0aW9uRW5kICE9IHNlbGVjdGlvbkVuZCBcbiAgICAgICAgICAgIHx8IGxhc3RTZWxlY3Rpb25TdGFydCAhPSBzZWxlY3Rpb25TdGFydCBcbiAgICAgICAgICAgIHx8IHRleHQuc2VsZWN0aW9uRW5kICE9IGxhc3RTZWxlY3Rpb25FbmQgLy8gb24gaWUgZWRnZSBzZWxlY3Rpb25FbmQgY2hhbmdlcyBzaWxlbnRseSBhZnRlciB0aGUgaW5pdGlhbGl6YXRpb25cbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRleHQuc2V0U2VsZWN0aW9uUmFuZ2Uoc2VsZWN0aW9uU3RhcnQsIHNlbGVjdGlvbkVuZCk7XG4gICAgICAgICAgICAgICAgbGFzdFNlbGVjdGlvblN0YXJ0ID0gc2VsZWN0aW9uU3RhcnQ7XG4gICAgICAgICAgICAgICAgbGFzdFNlbGVjdGlvbkVuZCA9IHNlbGVjdGlvbkVuZDtcbiAgICAgICAgICAgIH0gY2F0Y2goZSl7fVxuICAgICAgICB9XG4gICAgICAgIGluQ29tcG9zaXRpb24gPSBmYWxzZTtcbiAgICB9O1xuICAgIHRoaXMucmVzZXRTZWxlY3Rpb24gPSByZXNldFNlbGVjdGlvbjtcblxuICAgIGlmIChpc0ZvY3VzZWQpXG4gICAgICAgIGhvc3Qub25Gb2N1cygpO1xuXG5cbiAgICB2YXIgaXNBbGxTZWxlY3RlZCA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgICAgcmV0dXJuIHRleHQuc2VsZWN0aW9uU3RhcnQgPT09IDAgJiYgdGV4dC5zZWxlY3Rpb25FbmQgPj0gbGFzdFZhbHVlLmxlbmd0aFxuICAgICAgICAgICAgJiYgdGV4dC52YWx1ZSA9PT0gbGFzdFZhbHVlICYmIGxhc3RWYWx1ZVxuICAgICAgICAgICAgJiYgdGV4dC5zZWxlY3Rpb25FbmQgIT09IGxhc3RTZWxlY3Rpb25FbmQ7XG4gICAgfTtcblxuICAgIHZhciBvblNlbGVjdCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKGluQ29tcG9zaXRpb24pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmIChjb3BpZWQpIHtcbiAgICAgICAgICAgIGNvcGllZCA9IGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKGlzQWxsU2VsZWN0ZWQodGV4dCkpIHtcbiAgICAgICAgICAgIGhvc3Quc2VsZWN0QWxsKCk7XG4gICAgICAgICAgICByZXNldFNlbGVjdGlvbigpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzTW9iaWxlICYmIHRleHQuc2VsZWN0aW9uU3RhcnQgIT0gbGFzdFNlbGVjdGlvblN0YXJ0KSB7XG4gICAgICAgICAgICByZXNldFNlbGVjdGlvbigpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBpbnB1dEhhbmRsZXIgPSBudWxsO1xuICAgIHRoaXMuc2V0SW5wdXRIYW5kbGVyID0gZnVuY3Rpb24oY2IpIHtpbnB1dEhhbmRsZXIgPSBjYjt9O1xuICAgIHRoaXMuZ2V0SW5wdXRIYW5kbGVyID0gZnVuY3Rpb24oKSB7cmV0dXJuIGlucHV0SGFuZGxlcjt9O1xuICAgIHZhciBhZnRlckNvbnRleHRNZW51ID0gZmFsc2U7XG4gICAgXG4gICAgdmFyIHNlbmRUZXh0ID0gZnVuY3Rpb24odmFsdWUsIGZyb21JbnB1dCkge1xuICAgICAgICBpZiAoYWZ0ZXJDb250ZXh0TWVudSlcbiAgICAgICAgICAgIGFmdGVyQ29udGV4dE1lbnUgPSBmYWxzZTtcbiAgICAgICAgaWYgKHBhc3RlZCkge1xuICAgICAgICAgICAgcmVzZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSlcbiAgICAgICAgICAgICAgICBob3N0Lm9uUGFzdGUodmFsdWUpO1xuICAgICAgICAgICAgcGFzdGVkID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb25TdGFydCA9IHRleHQuc2VsZWN0aW9uU3RhcnQ7XG4gICAgICAgICAgICB2YXIgc2VsZWN0aW9uRW5kID0gdGV4dC5zZWxlY3Rpb25FbmQ7XG4gICAgICAgIFxuICAgICAgICAgICAgdmFyIGV4dGVuZExlZnQgPSBsYXN0U2VsZWN0aW9uU3RhcnQ7XG4gICAgICAgICAgICB2YXIgZXh0ZW5kUmlnaHQgPSBsYXN0VmFsdWUubGVuZ3RoIC0gbGFzdFNlbGVjdGlvbkVuZDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIGluc2VydGVkID0gdmFsdWU7XG4gICAgICAgICAgICB2YXIgcmVzdG9yZVN0YXJ0ID0gdmFsdWUubGVuZ3RoIC0gc2VsZWN0aW9uU3RhcnQ7XG4gICAgICAgICAgICB2YXIgcmVzdG9yZUVuZCA9IHZhbHVlLmxlbmd0aCAtIHNlbGVjdGlvbkVuZDtcbiAgICAgICAgXG4gICAgICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgICAgICB3aGlsZSAoZXh0ZW5kTGVmdCA+IDAgJiYgbGFzdFZhbHVlW2ldID09IHZhbHVlW2ldKSB7XG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgIGV4dGVuZExlZnQtLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGluc2VydGVkID0gaW5zZXJ0ZWQuc2xpY2UoaSk7XG4gICAgICAgICAgICBpID0gMTtcbiAgICAgICAgICAgIHdoaWxlIChleHRlbmRSaWdodCA+IDAgJiYgbGFzdFZhbHVlLmxlbmd0aCAtIGkgPiBsYXN0U2VsZWN0aW9uU3RhcnQgLSAxICAmJiBsYXN0VmFsdWVbbGFzdFZhbHVlLmxlbmd0aCAtIGldID09IHZhbHVlW3ZhbHVlLmxlbmd0aCAtIGldKSB7XG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgIGV4dGVuZFJpZ2h0LS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN0b3JlU3RhcnQgLT0gaS0xO1xuICAgICAgICAgICAgcmVzdG9yZUVuZCAtPSBpLTE7XG4gICAgICAgICAgICB2YXIgZW5kSW5kZXggPSBpbnNlcnRlZC5sZW5ndGggLSBpICsgMTtcbiAgICAgICAgICAgIGlmIChlbmRJbmRleCA8IDApIHtcbiAgICAgICAgICAgICAgICBleHRlbmRMZWZ0ID0gLWVuZEluZGV4O1xuICAgICAgICAgICAgICAgIGVuZEluZGV4ID0gMDtcbiAgICAgICAgICAgIH0gXG4gICAgICAgICAgICBpbnNlcnRlZCA9IGluc2VydGVkLnNsaWNlKDAsIGVuZEluZGV4KTtcbiAgICAgICAgICAgIGlmICghZnJvbUlucHV0ICYmICFpbnNlcnRlZCAmJiAhcmVzdG9yZVN0YXJ0ICYmICFleHRlbmRMZWZ0ICYmICFleHRlbmRSaWdodCAmJiAhcmVzdG9yZUVuZClcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgICAgIHNlbmRpbmdUZXh0ID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBzaG91bGRSZXNldCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHVzZXJhZ2VudC5pc0FuZHJvaWQgJiYgaW5zZXJ0ZWQgPT0gXCIuIFwiKSB7XG4gICAgICAgICAgICAgICAgaW5zZXJ0ZWQgPSBcIiAgXCI7XG4gICAgICAgICAgICAgICAgc2hvdWxkUmVzZXQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoaW5zZXJ0ZWQgJiYgIWV4dGVuZExlZnQgJiYgIWV4dGVuZFJpZ2h0ICYmICFyZXN0b3JlU3RhcnQgJiYgIXJlc3RvcmVFbmQgfHwgY29tbWFuZE1vZGUpIHtcbiAgICAgICAgICAgICAgICBob3N0Lm9uVGV4dElucHV0KGluc2VydGVkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaG9zdC5vblRleHRJbnB1dChpbnNlcnRlZCwge1xuICAgICAgICAgICAgICAgICAgICBleHRlbmRMZWZ0OiBleHRlbmRMZWZ0LFxuICAgICAgICAgICAgICAgICAgICBleHRlbmRSaWdodDogZXh0ZW5kUmlnaHQsXG4gICAgICAgICAgICAgICAgICAgIHJlc3RvcmVTdGFydDogcmVzdG9yZVN0YXJ0LFxuICAgICAgICAgICAgICAgICAgICByZXN0b3JlRW5kOiByZXN0b3JlRW5kXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZW5kaW5nVGV4dCA9IGZhbHNlO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBsYXN0VmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIGxhc3RTZWxlY3Rpb25TdGFydCA9IHNlbGVjdGlvblN0YXJ0O1xuICAgICAgICAgICAgbGFzdFNlbGVjdGlvbkVuZCA9IHNlbGVjdGlvbkVuZDtcbiAgICAgICAgICAgIGxhc3RSZXN0b3JlRW5kID0gcmVzdG9yZUVuZDtcbiAgICAgICAgICAgIHJldHVybiBzaG91bGRSZXNldCA/IFwiXFxuXCIgOiBpbnNlcnRlZDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIG9uSW5wdXQgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmIChpbkNvbXBvc2l0aW9uKVxuICAgICAgICAgICAgcmV0dXJuIG9uQ29tcG9zaXRpb25VcGRhdGUoKTtcbiAgICAgICAgaWYgKGUgJiYgZS5pbnB1dFR5cGUpIHtcbiAgICAgICAgICAgIGlmIChlLmlucHV0VHlwZSA9PSBcImhpc3RvcnlVbmRvXCIpIHJldHVybiBob3N0LmV4ZWNDb21tYW5kKFwidW5kb1wiKTtcbiAgICAgICAgICAgIGlmIChlLmlucHV0VHlwZSA9PSBcImhpc3RvcnlSZWRvXCIpIHJldHVybiBob3N0LmV4ZWNDb21tYW5kKFwicmVkb1wiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGF0YSA9IHRleHQudmFsdWU7XG4gICAgICAgIHZhciBpbnNlcnRlZCA9IHNlbmRUZXh0KGRhdGEsIHRydWUpO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICBkYXRhLmxlbmd0aCA+IE1BWF9MSU5FX0xFTkdUSCArIDEwMCBcbiAgICAgICAgICAgIHx8IHZhbHVlUmVzZXRSZWdleC50ZXN0KGluc2VydGVkKVxuICAgICAgICAgICAgfHwgaXNNb2JpbGUgJiYgbGFzdFNlbGVjdGlvblN0YXJ0IDwgMSAmJiBsYXN0U2VsZWN0aW9uU3RhcnQgPT0gbGFzdFNlbGVjdGlvbkVuZFxuICAgICAgICApIHtcbiAgICAgICAgICAgIHJlc2V0U2VsZWN0aW9uKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIHZhciBoYW5kbGVDbGlwYm9hcmREYXRhID0gZnVuY3Rpb24oZSwgZGF0YSwgZm9yY2VJRU1pbWUpIHtcbiAgICAgICAgdmFyIGNsaXBib2FyZERhdGEgPSBlLmNsaXBib2FyZERhdGEgfHwgd2luZG93LmNsaXBib2FyZERhdGE7XG4gICAgICAgIGlmICghY2xpcGJvYXJkRGF0YSB8fCBCUk9LRU5fU0VUREFUQSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyIG1pbWUgPSBVU0VfSUVfTUlNRV9UWVBFIHx8IGZvcmNlSUVNaW1lID8gXCJUZXh0XCIgOiBcInRleHQvcGxhaW5cIjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNsaXBib2FyZERhdGEuc2V0RGF0YShtaW1lLCBkYXRhKSAhPT0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBjbGlwYm9hcmREYXRhLmdldERhdGEobWltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgICAgaWYgKCFmb3JjZUlFTWltZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlQ2xpcGJvYXJkRGF0YShlLCBkYXRhLCB0cnVlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgZG9Db3B5ID0gZnVuY3Rpb24oZSwgaXNDdXQpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBob3N0LmdldENvcHlUZXh0KCk7XG4gICAgICAgIGlmICghZGF0YSlcbiAgICAgICAgICAgIHJldHVybiBldmVudC5wcmV2ZW50RGVmYXVsdChlKTtcblxuICAgICAgICBpZiAoaGFuZGxlQ2xpcGJvYXJkRGF0YShlLCBkYXRhKSkge1xuICAgICAgICAgICAgaWYgKGlzSU9TKSB7XG4gICAgICAgICAgICAgICAgcmVzZXRTZWxlY3Rpb24oZGF0YSk7XG4gICAgICAgICAgICAgICAgY29waWVkID0gZGF0YTtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29waWVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSwgMTApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaXNDdXQgPyBob3N0Lm9uQ3V0KCkgOiBob3N0Lm9uQ29weSgpO1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb3BpZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGV4dC52YWx1ZSA9IGRhdGE7XG4gICAgICAgICAgICB0ZXh0LnNlbGVjdCgpO1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIGNvcGllZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJlc2V0U2VsZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgaXNDdXQgPyBob3N0Lm9uQ3V0KCkgOiBob3N0Lm9uQ29weSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIHZhciBvbkN1dCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZG9Db3B5KGUsIHRydWUpO1xuICAgIH07XG4gICAgXG4gICAgdmFyIG9uQ29weSA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZG9Db3B5KGUsIGZhbHNlKTtcbiAgICB9O1xuICAgIFxuICAgIHZhciBvblBhc3RlID0gZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgZGF0YSA9IGhhbmRsZUNsaXBib2FyZERhdGEoZSk7XG4gICAgICAgIGlmIChjbGlwYm9hcmQucGFzdGVDYW5jZWxsZWQoKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGlmIChkYXRhKVxuICAgICAgICAgICAgICAgIGhvc3Qub25QYXN0ZShkYXRhLCBlKTtcbiAgICAgICAgICAgIGlmICh1c2VyYWdlbnQuaXNJRSlcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHJlc2V0U2VsZWN0aW9uKTtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGV4dC52YWx1ZSA9IFwiXCI7XG4gICAgICAgICAgICBwYXN0ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGV2ZW50LmFkZENvbW1hbmRLZXlMaXN0ZW5lcih0ZXh0LCBob3N0Lm9uQ29tbWFuZEtleS5iaW5kKGhvc3QpLCBob3N0KTtcblxuICAgIGV2ZW50LmFkZExpc3RlbmVyKHRleHQsIFwic2VsZWN0XCIsIG9uU2VsZWN0LCBob3N0KTtcbiAgICBldmVudC5hZGRMaXN0ZW5lcih0ZXh0LCBcImlucHV0XCIsIG9uSW5wdXQsIGhvc3QpO1xuXG4gICAgZXZlbnQuYWRkTGlzdGVuZXIodGV4dCwgXCJjdXRcIiwgb25DdXQsIGhvc3QpO1xuICAgIGV2ZW50LmFkZExpc3RlbmVyKHRleHQsIFwiY29weVwiLCBvbkNvcHksIGhvc3QpO1xuICAgIGV2ZW50LmFkZExpc3RlbmVyKHRleHQsIFwicGFzdGVcIiwgb25QYXN0ZSwgaG9zdCk7XG4gICAgaWYgKCEoJ29uY3V0JyBpbiB0ZXh0KSB8fCAhKCdvbmNvcHknIGluIHRleHQpIHx8ICEoJ29ucGFzdGUnIGluIHRleHQpKSB7XG4gICAgICAgIGV2ZW50LmFkZExpc3RlbmVyKHBhcmVudE5vZGUsIFwia2V5ZG93blwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZiAoKHVzZXJhZ2VudC5pc01hYyAmJiAhZS5tZXRhS2V5KSB8fCAhZS5jdHJsS2V5KVxuICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgc3dpdGNoIChlLmtleUNvZGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDY3OlxuICAgICAgICAgICAgICAgICAgICBvbkNvcHkoZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgODY6XG4gICAgICAgICAgICAgICAgICAgIG9uUGFzdGUoZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgODg6XG4gICAgICAgICAgICAgICAgICAgIG9uQ3V0KGUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgaG9zdCk7XG4gICAgfVxuICAgIHZhciBvbkNvbXBvc2l0aW9uU3RhcnQgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmIChpbkNvbXBvc2l0aW9uIHx8ICFob3N0Lm9uQ29tcG9zaXRpb25TdGFydCB8fCBob3N0LiRyZWFkT25seSkgXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIFxuICAgICAgICBpbkNvbXBvc2l0aW9uID0ge307XG5cbiAgICAgICAgaWYgKGNvbW1hbmRNb2RlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBcbiAgICAgICAgaWYgKGUuZGF0YSlcbiAgICAgICAgICAgIGluQ29tcG9zaXRpb24udXNlVGV4dGFyZWFGb3JJTUUgPSBmYWxzZTtcbiAgICAgICAgXG4gICAgICAgIHNldFRpbWVvdXQob25Db21wb3NpdGlvblVwZGF0ZSwgMCk7XG4gICAgICAgIGhvc3QuX3NpZ25hbChcImNvbXBvc2l0aW9uU3RhcnRcIik7XG4gICAgICAgIGhvc3Qub24oXCJtb3VzZWRvd25cIiwgY2FuY2VsQ29tcG9zaXRpb24pO1xuICAgICAgICBcbiAgICAgICAgdmFyIHJhbmdlID0gaG9zdC5nZXRTZWxlY3Rpb25SYW5nZSgpO1xuICAgICAgICByYW5nZS5lbmQucm93ID0gcmFuZ2Uuc3RhcnQucm93O1xuICAgICAgICByYW5nZS5lbmQuY29sdW1uID0gcmFuZ2Uuc3RhcnQuY29sdW1uO1xuICAgICAgICBpbkNvbXBvc2l0aW9uLm1hcmtlclJhbmdlID0gcmFuZ2U7XG4gICAgICAgIGluQ29tcG9zaXRpb24uc2VsZWN0aW9uU3RhcnQgPSBsYXN0U2VsZWN0aW9uU3RhcnQ7XG4gICAgICAgIGhvc3Qub25Db21wb3NpdGlvblN0YXJ0KGluQ29tcG9zaXRpb24pO1xuICAgICAgICBcbiAgICAgICAgaWYgKGluQ29tcG9zaXRpb24udXNlVGV4dGFyZWFGb3JJTUUpIHtcbiAgICAgICAgICAgIGxhc3RWYWx1ZSA9IHRleHQudmFsdWUgPSBcIlwiO1xuICAgICAgICAgICAgbGFzdFNlbGVjdGlvblN0YXJ0ID0gMDtcbiAgICAgICAgICAgIGxhc3RTZWxlY3Rpb25FbmQgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRleHQubXNHZXRJbnB1dENvbnRleHQpXG4gICAgICAgICAgICAgICAgaW5Db21wb3NpdGlvbi5jb250ZXh0ID0gdGV4dC5tc0dldElucHV0Q29udGV4dCgpO1xuICAgICAgICAgICAgaWYgKHRleHQuZ2V0SW5wdXRDb250ZXh0KVxuICAgICAgICAgICAgICAgIGluQ29tcG9zaXRpb24uY29udGV4dCA9IHRleHQuZ2V0SW5wdXRDb250ZXh0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIG9uQ29tcG9zaXRpb25VcGRhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCFpbkNvbXBvc2l0aW9uIHx8ICFob3N0Lm9uQ29tcG9zaXRpb25VcGRhdGUgfHwgaG9zdC4kcmVhZE9ubHkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmIChjb21tYW5kTW9kZSlcbiAgICAgICAgICAgIHJldHVybiBjYW5jZWxDb21wb3NpdGlvbigpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGluQ29tcG9zaXRpb24udXNlVGV4dGFyZWFGb3JJTUUpIHtcbiAgICAgICAgICAgIGhvc3Qub25Db21wb3NpdGlvblVwZGF0ZSh0ZXh0LnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gdGV4dC52YWx1ZTtcbiAgICAgICAgICAgIHNlbmRUZXh0KGRhdGEpO1xuICAgICAgICAgICAgaWYgKGluQ29tcG9zaXRpb24ubWFya2VyUmFuZ2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5Db21wb3NpdGlvbi5jb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIGluQ29tcG9zaXRpb24ubWFya2VyUmFuZ2Uuc3RhcnQuY29sdW1uID0gaW5Db21wb3NpdGlvbi5zZWxlY3Rpb25TdGFydFxuICAgICAgICAgICAgICAgICAgICAgICAgPSBpbkNvbXBvc2l0aW9uLmNvbnRleHQuY29tcG9zaXRpb25TdGFydE9mZnNldDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5Db21wb3NpdGlvbi5tYXJrZXJSYW5nZS5lbmQuY29sdW1uID0gaW5Db21wb3NpdGlvbi5tYXJrZXJSYW5nZS5zdGFydC5jb2x1bW5cbiAgICAgICAgICAgICAgICAgICAgKyBsYXN0U2VsZWN0aW9uRW5kIC0gaW5Db21wb3NpdGlvbi5zZWxlY3Rpb25TdGFydCArIGxhc3RSZXN0b3JlRW5kO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBvbkNvbXBvc2l0aW9uRW5kID0gZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoIWhvc3Qub25Db21wb3NpdGlvbkVuZCB8fCBob3N0LiRyZWFkT25seSkgcmV0dXJuO1xuICAgICAgICBpbkNvbXBvc2l0aW9uID0gZmFsc2U7XG4gICAgICAgIGhvc3Qub25Db21wb3NpdGlvbkVuZCgpO1xuICAgICAgICBob3N0Lm9mZihcIm1vdXNlZG93blwiLCBjYW5jZWxDb21wb3NpdGlvbik7XG4gICAgICAgIGlmIChlKSBvbklucHV0KCk7XG4gICAgfTtcbiAgICBcblxuICAgIGZ1bmN0aW9uIGNhbmNlbENvbXBvc2l0aW9uKCkge1xuICAgICAgICBpZ25vcmVGb2N1c0V2ZW50cyA9IHRydWU7XG4gICAgICAgIHRleHQuYmx1cigpO1xuICAgICAgICB0ZXh0LmZvY3VzKCk7XG4gICAgICAgIGlnbm9yZUZvY3VzRXZlbnRzID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIHN5bmNDb21wb3NpdGlvbiA9IGxhbmcuZGVsYXllZENhbGwob25Db21wb3NpdGlvblVwZGF0ZSwgNTApLnNjaGVkdWxlLmJpbmQobnVsbCwgbnVsbCk7XG4gICAgXG4gICAgZnVuY3Rpb24gb25LZXl1cChlKSB7XG4gICAgICAgIGlmIChlLmtleUNvZGUgPT0gMjcgJiYgdGV4dC52YWx1ZS5sZW5ndGggPCB0ZXh0LnNlbGVjdGlvblN0YXJ0KSB7XG4gICAgICAgICAgICBpZiAoIWluQ29tcG9zaXRpb24pXG4gICAgICAgICAgICAgICAgbGFzdFZhbHVlID0gdGV4dC52YWx1ZTtcbiAgICAgICAgICAgIGxhc3RTZWxlY3Rpb25TdGFydCA9IGxhc3RTZWxlY3Rpb25FbmQgPSAtMTtcbiAgICAgICAgICAgIHJlc2V0U2VsZWN0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgc3luY0NvbXBvc2l0aW9uKCk7XG4gICAgfVxuXG4gICAgZXZlbnQuYWRkTGlzdGVuZXIodGV4dCwgXCJjb21wb3NpdGlvbnN0YXJ0XCIsIG9uQ29tcG9zaXRpb25TdGFydCwgaG9zdCk7XG4gICAgZXZlbnQuYWRkTGlzdGVuZXIodGV4dCwgXCJjb21wb3NpdGlvbnVwZGF0ZVwiLCBvbkNvbXBvc2l0aW9uVXBkYXRlLCBob3N0KTtcbiAgICBldmVudC5hZGRMaXN0ZW5lcih0ZXh0LCBcImtleXVwXCIsIG9uS2V5dXAsIGhvc3QpO1xuICAgIGV2ZW50LmFkZExpc3RlbmVyKHRleHQsIFwia2V5ZG93blwiLCBzeW5jQ29tcG9zaXRpb24sIGhvc3QpO1xuICAgIGV2ZW50LmFkZExpc3RlbmVyKHRleHQsIFwiY29tcG9zaXRpb25lbmRcIiwgb25Db21wb3NpdGlvbkVuZCwgaG9zdCk7XG5cbiAgICB0aGlzLmdldEVsZW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfTtcbiAgICB0aGlzLnNldENvbW1hbmRNb2RlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgY29tbWFuZE1vZGUgPSB2YWx1ZTtcbiAgICAgICAgdGV4dC5yZWFkT25seSA9IGZhbHNlO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5zZXRSZWFkT25seSA9IGZ1bmN0aW9uKHJlYWRPbmx5KSB7XG4gICAgICAgIGlmICghY29tbWFuZE1vZGUpXG4gICAgICAgICAgICB0ZXh0LnJlYWRPbmx5ID0gcmVhZE9ubHk7XG4gICAgfTtcblxuICAgIHRoaXMuc2V0Q29weVdpdGhFbXB0eVNlbGVjdGlvbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgfTtcblxuICAgIHRoaXMub25Db250ZXh0TWVudSA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgYWZ0ZXJDb250ZXh0TWVudSA9IHRydWU7XG4gICAgICAgIHJlc2V0U2VsZWN0aW9uKCk7XG4gICAgICAgIGhvc3QuX2VtaXQoXCJuYXRpdmVjb250ZXh0bWVudVwiLCB7dGFyZ2V0OiBob3N0LCBkb21FdmVudDogZX0pO1xuICAgICAgICB0aGlzLm1vdmVUb01vdXNlKGUsIHRydWUpO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5tb3ZlVG9Nb3VzZSA9IGZ1bmN0aW9uKGUsIGJyaW5nVG9Gcm9udCkge1xuICAgICAgICBpZiAoIXRlbXBTdHlsZSlcbiAgICAgICAgICAgIHRlbXBTdHlsZSA9IHRleHQuc3R5bGUuY3NzVGV4dDtcbiAgICAgICAgdGV4dC5zdHlsZS5jc3NUZXh0ID0gKGJyaW5nVG9Gcm9udCA/IFwiei1pbmRleDoxMDAwMDA7XCIgOiBcIlwiKVxuICAgICAgICAgICAgKyAodXNlcmFnZW50LmlzSUUgPyBcIm9wYWNpdHk6MC4xO1wiIDogXCJcIilcbiAgICAgICAgICAgICsgXCJ0ZXh0LWluZGVudDogLVwiICsgKGxhc3RTZWxlY3Rpb25TdGFydCArIGxhc3RTZWxlY3Rpb25FbmQpICogaG9zdC5yZW5kZXJlci5jaGFyYWN0ZXJXaWR0aCAqIDAuNSArIFwicHg7XCI7XG5cbiAgICAgICAgdmFyIHJlY3QgPSBob3N0LmNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdmFyIHN0eWxlID0gZG9tLmNvbXB1dGVkU3R5bGUoaG9zdC5jb250YWluZXIpO1xuICAgICAgICB2YXIgdG9wID0gcmVjdC50b3AgKyAocGFyc2VJbnQoc3R5bGUuYm9yZGVyVG9wV2lkdGgpIHx8IDApO1xuICAgICAgICB2YXIgbGVmdCA9IHJlY3QubGVmdCArIChwYXJzZUludChyZWN0LmJvcmRlckxlZnRXaWR0aCkgfHwgMCk7XG4gICAgICAgIHZhciBtYXhUb3AgPSByZWN0LmJvdHRvbSAtIHRvcCAtIHRleHQuY2xpZW50SGVpZ2h0IC0yO1xuICAgICAgICB2YXIgbW92ZSA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGRvbS50cmFuc2xhdGUodGV4dCwgZS5jbGllbnRYIC0gbGVmdCAtIDIsIE1hdGgubWluKGUuY2xpZW50WSAtIHRvcCAtIDIsIG1heFRvcCkpO1xuICAgICAgICB9OyBcbiAgICAgICAgbW92ZShlKTtcblxuICAgICAgICBpZiAoZS50eXBlICE9IFwibW91c2Vkb3duXCIpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgaG9zdC5yZW5kZXJlci4kaXNNb3VzZVByZXNzZWQgPSB0cnVlO1xuXG4gICAgICAgIGNsZWFyVGltZW91dChjbG9zZVRpbWVvdXQpO1xuICAgICAgICBpZiAodXNlcmFnZW50LmlzV2luKVxuICAgICAgICAgICAgZXZlbnQuY2FwdHVyZShob3N0LmNvbnRhaW5lciwgbW92ZSwgb25Db250ZXh0TWVudUNsb3NlKTtcbiAgICB9O1xuXG4gICAgdGhpcy5vbkNvbnRleHRNZW51Q2xvc2UgPSBvbkNvbnRleHRNZW51Q2xvc2U7XG4gICAgdmFyIGNsb3NlVGltZW91dDtcbiAgICBmdW5jdGlvbiBvbkNvbnRleHRNZW51Q2xvc2UoKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChjbG9zZVRpbWVvdXQpO1xuICAgICAgICBjbG9zZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0ZW1wU3R5bGUpIHtcbiAgICAgICAgICAgICAgICB0ZXh0LnN0eWxlLmNzc1RleHQgPSB0ZW1wU3R5bGU7XG4gICAgICAgICAgICAgICAgdGVtcFN0eWxlID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBob3N0LnJlbmRlcmVyLiRpc01vdXNlUHJlc3NlZCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKGhvc3QucmVuZGVyZXIuJGtlZXBUZXh0QXJlYUF0Q3Vyc29yKVxuICAgICAgICAgICAgICAgIGhvc3QucmVuZGVyZXIuJG1vdmVUZXh0QXJlYVRvQ3Vyc29yKCk7XG4gICAgICAgIH0sIDApO1xuICAgIH1cblxuICAgIHZhciBvbkNvbnRleHRNZW51ID0gZnVuY3Rpb24oZSkge1xuICAgICAgICBob3N0LnRleHRJbnB1dC5vbkNvbnRleHRNZW51KGUpO1xuICAgICAgICBvbkNvbnRleHRNZW51Q2xvc2UoKTtcbiAgICB9O1xuICAgIGV2ZW50LmFkZExpc3RlbmVyKHRleHQsIFwibW91c2V1cFwiLCBvbkNvbnRleHRNZW51LCBob3N0KTtcbiAgICBldmVudC5hZGRMaXN0ZW5lcih0ZXh0LCBcIm1vdXNlZG93blwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgb25Db250ZXh0TWVudUNsb3NlKCk7XG4gICAgfSwgaG9zdCk7XG4gICAgZXZlbnQuYWRkTGlzdGVuZXIoaG9zdC5yZW5kZXJlci5zY3JvbGxlciwgXCJjb250ZXh0bWVudVwiLCBvbkNvbnRleHRNZW51LCBob3N0KTtcbiAgICBldmVudC5hZGRMaXN0ZW5lcih0ZXh0LCBcImNvbnRleHRtZW51XCIsIG9uQ29udGV4dE1lbnUsIGhvc3QpO1xuICAgIFxuICAgIGlmIChpc0lPUylcbiAgICAgICAgYWRkSW9zU2VsZWN0aW9uSGFuZGxlcihwYXJlbnROb2RlLCBob3N0LCB0ZXh0KTtcblxuICAgIGZ1bmN0aW9uIGFkZElvc1NlbGVjdGlvbkhhbmRsZXIocGFyZW50Tm9kZSwgaG9zdCwgdGV4dCkge1xuICAgICAgICB2YXIgdHlwaW5nUmVzZXRUaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgdmFyIHR5cGluZyA9IGZhbHNlO1xuXG4gICAgICAgIHRleHQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGlmICh0eXBpbmdSZXNldFRpbWVvdXQpIGNsZWFyVGltZW91dCh0eXBpbmdSZXNldFRpbWVvdXQpO1xuICAgICAgICAgICAgdHlwaW5nID0gdHJ1ZTtcbiAgICAgICAgfSwgdHJ1ZSk7XG5cbiAgICAgICAgdGV4dC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHR5cGluZ1Jlc2V0VGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHR5cGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICAgIHZhciBkZXRlY3RBcnJvd0tleXMgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gdGV4dCkgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKHR5cGluZyB8fCBpbkNvbXBvc2l0aW9uIHx8IGhvc3QuJG1vdXNlSGFuZGxlci5pc01vdXNlUHJlc3NlZCkgcmV0dXJuO1xuXG4gICAgICAgICAgICBpZiAoY29waWVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHNlbGVjdGlvblN0YXJ0ID0gdGV4dC5zZWxlY3Rpb25TdGFydDtcbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb25FbmQgPSB0ZXh0LnNlbGVjdGlvbkVuZDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIGtleSA9IG51bGw7XG4gICAgICAgICAgICB2YXIgbW9kaWZpZXIgPSAwO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGlvblN0YXJ0ID09IDApIHtcbiAgICAgICAgICAgICAgICBrZXkgPSBLRVlTLnVwO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxlY3Rpb25TdGFydCA9PSAxKSB7XG4gICAgICAgICAgICAgICAga2V5ID0gS0VZUy5ob21lO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxlY3Rpb25FbmQgPiBsYXN0U2VsZWN0aW9uRW5kICYmIGxhc3RWYWx1ZVtzZWxlY3Rpb25FbmRdID09IFwiXFxuXCIpIHtcbiAgICAgICAgICAgICAgICBrZXkgPSBLRVlTLmVuZDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0aW9uU3RhcnQgPCBsYXN0U2VsZWN0aW9uU3RhcnQgJiYgbGFzdFZhbHVlW3NlbGVjdGlvblN0YXJ0IC0gMV0gPT0gXCIgXCIpIHtcbiAgICAgICAgICAgICAgICBrZXkgPSBLRVlTLmxlZnQ7XG4gICAgICAgICAgICAgICAgbW9kaWZpZXIgPSBNT0RTLm9wdGlvbjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uU3RhcnQgPCBsYXN0U2VsZWN0aW9uU3RhcnRcbiAgICAgICAgICAgICAgICB8fCAoXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvblN0YXJ0ID09IGxhc3RTZWxlY3Rpb25TdGFydCBcbiAgICAgICAgICAgICAgICAgICAgJiYgbGFzdFNlbGVjdGlvbkVuZCAhPSBsYXN0U2VsZWN0aW9uU3RhcnRcbiAgICAgICAgICAgICAgICAgICAgJiYgc2VsZWN0aW9uU3RhcnQgPT0gc2VsZWN0aW9uRW5kXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAga2V5ID0gS0VZUy5sZWZ0O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxlY3Rpb25FbmQgPiBsYXN0U2VsZWN0aW9uRW5kICYmIGxhc3RWYWx1ZS5zbGljZSgwLCBzZWxlY3Rpb25FbmQpLnNwbGl0KFwiXFxuXCIpLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgICAgICAgICBrZXkgPSBLRVlTLmRvd247XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNlbGVjdGlvbkVuZCA+IGxhc3RTZWxlY3Rpb25FbmQgJiYgbGFzdFZhbHVlW3NlbGVjdGlvbkVuZCAtIDFdID09IFwiIFwiKSB7XG4gICAgICAgICAgICAgICAga2V5ID0gS0VZUy5yaWdodDtcbiAgICAgICAgICAgICAgICBtb2RpZmllciA9IE1PRFMub3B0aW9uO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb25FbmQgPiBsYXN0U2VsZWN0aW9uRW5kXG4gICAgICAgICAgICAgICAgfHwgKFxuICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25FbmQgPT0gbGFzdFNlbGVjdGlvbkVuZCBcbiAgICAgICAgICAgICAgICAgICAgJiYgbGFzdFNlbGVjdGlvbkVuZCAhPSBsYXN0U2VsZWN0aW9uU3RhcnRcbiAgICAgICAgICAgICAgICAgICAgJiYgc2VsZWN0aW9uU3RhcnQgPT0gc2VsZWN0aW9uRW5kXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAga2V5ID0gS0VZUy5yaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHNlbGVjdGlvblN0YXJ0ICE9PSBzZWxlY3Rpb25FbmQpXG4gICAgICAgICAgICAgICAgbW9kaWZpZXIgfD0gTU9EUy5zaGlmdDtcblxuICAgICAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBob3N0Lm9uQ29tbWFuZEtleSh7fSwgbW9kaWZpZXIsIGtleSk7XG4gICAgICAgICAgICAgICAgaWYgKCFyZXN1bHQgJiYgaG9zdC5jb21tYW5kcykge1xuICAgICAgICAgICAgICAgICAgICBrZXkgPSBLRVlTLmtleUNvZGVUb1N0cmluZyhrZXkpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29tbWFuZCA9IGhvc3QuY29tbWFuZHMuZmluZEtleUNvbW1hbmQobW9kaWZpZXIsIGtleSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21tYW5kKVxuICAgICAgICAgICAgICAgICAgICAgICAgaG9zdC5leGVjQ29tbWFuZChjb21tYW5kKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGFzdFNlbGVjdGlvblN0YXJ0ID0gc2VsZWN0aW9uU3RhcnQ7XG4gICAgICAgICAgICAgICAgbGFzdFNlbGVjdGlvbkVuZCA9IHNlbGVjdGlvbkVuZDtcbiAgICAgICAgICAgICAgICByZXNldFNlbGVjdGlvbihcIlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInNlbGVjdGlvbmNoYW5nZVwiLCBkZXRlY3RBcnJvd0tleXMpO1xuICAgICAgICBob3N0Lm9uKFwiZGVzdHJveVwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzZWxlY3Rpb25jaGFuZ2VcIiwgZGV0ZWN0QXJyb3dLZXlzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0ZXh0LnBhcmVudEVsZW1lbnQpXG4gICAgICAgICAgICB0ZXh0LnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQodGV4dCk7XG4gICAgfTtcbn07XG5cbmV4cG9ydHMuVGV4dElucHV0ID0gVGV4dElucHV0O1xuZXhwb3J0cy4kc2V0VXNlckFnZW50Rm9yVGVzdHMgPSBmdW5jdGlvbihfaXNNb2JpbGUsIF9pc0lPUykge1xuICAgIGlzTW9iaWxlID0gX2lzTW9iaWxlO1xuICAgIGlzSU9TID0gX2lzSU9TO1xufTtcbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL21vdXNlL2RlZmF1bHRfaGFuZGxlcnNcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvdXNlcmFnZW50XCJdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgdXNlcmFnZW50ID0gcmVxdWlyZShcIi4uL2xpYi91c2VyYWdlbnRcIik7XG5cbnZhciBEUkFHX09GRlNFVCA9IDA7IC8vIHBpeGVsc1xudmFyIFNDUk9MTF9DT09MRE9XTl9UID0gNTUwOyAvLyBtaWxsaXNlY29uZHNcblxuZnVuY3Rpb24gRGVmYXVsdEhhbmRsZXJzKG1vdXNlSGFuZGxlcikge1xuICAgIG1vdXNlSGFuZGxlci4kY2xpY2tTZWxlY3Rpb24gPSBudWxsO1xuXG4gICAgdmFyIGVkaXRvciA9IG1vdXNlSGFuZGxlci5lZGl0b3I7XG4gICAgZWRpdG9yLnNldERlZmF1bHRIYW5kbGVyKFwibW91c2Vkb3duXCIsIHRoaXMub25Nb3VzZURvd24uYmluZChtb3VzZUhhbmRsZXIpKTtcbiAgICBlZGl0b3Iuc2V0RGVmYXVsdEhhbmRsZXIoXCJkYmxjbGlja1wiLCB0aGlzLm9uRG91YmxlQ2xpY2suYmluZChtb3VzZUhhbmRsZXIpKTtcbiAgICBlZGl0b3Iuc2V0RGVmYXVsdEhhbmRsZXIoXCJ0cmlwbGVjbGlja1wiLCB0aGlzLm9uVHJpcGxlQ2xpY2suYmluZChtb3VzZUhhbmRsZXIpKTtcbiAgICBlZGl0b3Iuc2V0RGVmYXVsdEhhbmRsZXIoXCJxdWFkY2xpY2tcIiwgdGhpcy5vblF1YWRDbGljay5iaW5kKG1vdXNlSGFuZGxlcikpO1xuICAgIGVkaXRvci5zZXREZWZhdWx0SGFuZGxlcihcIm1vdXNld2hlZWxcIiwgdGhpcy5vbk1vdXNlV2hlZWwuYmluZChtb3VzZUhhbmRsZXIpKTtcblxuICAgIHZhciBleHBvcnRzID0gW1wic2VsZWN0XCIsIFwic3RhcnRTZWxlY3RcIiwgXCJzZWxlY3RFbmRcIiwgXCJzZWxlY3RBbGxFbmRcIiwgXCJzZWxlY3RCeVdvcmRzRW5kXCIsXG4gICAgICAgIFwic2VsZWN0QnlMaW5lc0VuZFwiLCBcImRyYWdXYWl0XCIsIFwiZHJhZ1dhaXRFbmRcIiwgXCJmb2N1c1dhaXRcIl07XG5cbiAgICBleHBvcnRzLmZvckVhY2goZnVuY3Rpb24oeCkge1xuICAgICAgICBtb3VzZUhhbmRsZXJbeF0gPSB0aGlzW3hdO1xuICAgIH0sIHRoaXMpO1xuXG4gICAgbW91c2VIYW5kbGVyLnNlbGVjdEJ5TGluZXMgPSB0aGlzLmV4dGVuZFNlbGVjdGlvbkJ5LmJpbmQobW91c2VIYW5kbGVyLCBcImdldExpbmVSYW5nZVwiKTtcbiAgICBtb3VzZUhhbmRsZXIuc2VsZWN0QnlXb3JkcyA9IHRoaXMuZXh0ZW5kU2VsZWN0aW9uQnkuYmluZChtb3VzZUhhbmRsZXIsIFwiZ2V0V29yZFJhbmdlXCIpO1xufVxuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICB0aGlzLm9uTW91c2VEb3duID0gZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgdmFyIGluU2VsZWN0aW9uID0gZXYuaW5TZWxlY3Rpb24oKTtcbiAgICAgICAgdmFyIHBvcyA9IGV2LmdldERvY3VtZW50UG9zaXRpb24oKTtcbiAgICAgICAgdGhpcy5tb3VzZWRvd25FdmVudCA9IGV2O1xuICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG5cbiAgICAgICAgdmFyIGJ1dHRvbiA9IGV2LmdldEJ1dHRvbigpO1xuICAgICAgICBpZiAoYnV0dG9uICE9PSAwKSB7XG4gICAgICAgICAgICB2YXIgc2VsZWN0aW9uUmFuZ2UgPSBlZGl0b3IuZ2V0U2VsZWN0aW9uUmFuZ2UoKTtcbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb25FbXB0eSA9IHNlbGVjdGlvblJhbmdlLmlzRW1wdHkoKTtcbiAgICAgICAgICAgIGlmIChzZWxlY3Rpb25FbXB0eSB8fCBidXR0b24gPT0gMSlcbiAgICAgICAgICAgICAgICBlZGl0b3Iuc2VsZWN0aW9uLm1vdmVUb1Bvc2l0aW9uKHBvcyk7XG4gICAgICAgICAgICBpZiAoYnV0dG9uID09IDIpIHtcbiAgICAgICAgICAgICAgICBlZGl0b3IudGV4dElucHV0Lm9uQ29udGV4dE1lbnUoZXYuZG9tRXZlbnQpO1xuICAgICAgICAgICAgICAgIGlmICghdXNlcmFnZW50LmlzTW96aWxsYSlcbiAgICAgICAgICAgICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubW91c2Vkb3duRXZlbnQudGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIGlmIChpblNlbGVjdGlvbiAmJiAhZWRpdG9yLmlzRm9jdXNlZCgpKSB7XG4gICAgICAgICAgICBlZGl0b3IuZm9jdXMoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLiRmb2N1c1RpbWVvdXQgJiYgIXRoaXMuJGNsaWNrU2VsZWN0aW9uICYmICFlZGl0b3IuaW5NdWx0aVNlbGVjdE1vZGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKFwiZm9jdXNXYWl0XCIpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FwdHVyZU1vdXNlKGV2KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhcHR1cmVNb3VzZShldik7XG4gICAgICAgIHRoaXMuc3RhcnRTZWxlY3QocG9zLCBldi5kb21FdmVudC5fY2xpY2tzID4gMSk7XG4gICAgICAgIHJldHVybiBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH07XG5cbiAgICB0aGlzLnN0YXJ0U2VsZWN0ID0gZnVuY3Rpb24ocG9zLCB3YWl0Rm9yQ2xpY2tTZWxlY3Rpb24pIHtcbiAgICAgICAgcG9zID0gcG9zIHx8IHRoaXMuZWRpdG9yLnJlbmRlcmVyLnNjcmVlblRvVGV4dENvb3JkaW5hdGVzKHRoaXMueCwgdGhpcy55KTtcbiAgICAgICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuICAgICAgICBpZiAoIXRoaXMubW91c2Vkb3duRXZlbnQpIHJldHVybjtcbiAgICAgICAgaWYgKHRoaXMubW91c2Vkb3duRXZlbnQuZ2V0U2hpZnRLZXkoKSlcbiAgICAgICAgICAgIGVkaXRvci5zZWxlY3Rpb24uc2VsZWN0VG9Qb3NpdGlvbihwb3MpO1xuICAgICAgICBlbHNlIGlmICghd2FpdEZvckNsaWNrU2VsZWN0aW9uKVxuICAgICAgICAgICAgZWRpdG9yLnNlbGVjdGlvbi5tb3ZlVG9Qb3NpdGlvbihwb3MpO1xuICAgICAgICBpZiAoIXdhaXRGb3JDbGlja1NlbGVjdGlvbilcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0KCk7XG4gICAgICAgIGlmIChlZGl0b3IucmVuZGVyZXIuc2Nyb2xsZXIuc2V0Q2FwdHVyZSkge1xuICAgICAgICAgICAgZWRpdG9yLnJlbmRlcmVyLnNjcm9sbGVyLnNldENhcHR1cmUoKTtcbiAgICAgICAgfVxuICAgICAgICBlZGl0b3Iuc2V0U3R5bGUoXCJhY2Vfc2VsZWN0aW5nXCIpO1xuICAgICAgICB0aGlzLnNldFN0YXRlKFwic2VsZWN0XCIpO1xuICAgIH07XG5cbiAgICB0aGlzLnNlbGVjdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYW5jaG9yLCBlZGl0b3IgPSB0aGlzLmVkaXRvcjtcbiAgICAgICAgdmFyIGN1cnNvciA9IGVkaXRvci5yZW5kZXJlci5zY3JlZW5Ub1RleHRDb29yZGluYXRlcyh0aGlzLngsIHRoaXMueSk7XG4gICAgICAgIGlmICh0aGlzLiRjbGlja1NlbGVjdGlvbikge1xuICAgICAgICAgICAgdmFyIGNtcCA9IHRoaXMuJGNsaWNrU2VsZWN0aW9uLmNvbXBhcmVQb2ludChjdXJzb3IpO1xuXG4gICAgICAgICAgICBpZiAoY21wID09IC0xKSB7XG4gICAgICAgICAgICAgICAgYW5jaG9yID0gdGhpcy4kY2xpY2tTZWxlY3Rpb24uZW5kO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjbXAgPT0gMSkge1xuICAgICAgICAgICAgICAgIGFuY2hvciA9IHRoaXMuJGNsaWNrU2VsZWN0aW9uLnN0YXJ0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgb3JpZW50ZWRSYW5nZSA9IGNhbGNSYW5nZU9yaWVudGF0aW9uKHRoaXMuJGNsaWNrU2VsZWN0aW9uLCBjdXJzb3IpO1xuICAgICAgICAgICAgICAgIGN1cnNvciA9IG9yaWVudGVkUmFuZ2UuY3Vyc29yO1xuICAgICAgICAgICAgICAgIGFuY2hvciA9IG9yaWVudGVkUmFuZ2UuYW5jaG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWRpdG9yLnNlbGVjdGlvbi5zZXRTZWxlY3Rpb25BbmNob3IoYW5jaG9yLnJvdywgYW5jaG9yLmNvbHVtbik7XG4gICAgICAgIH1cbiAgICAgICAgZWRpdG9yLnNlbGVjdGlvbi5zZWxlY3RUb1Bvc2l0aW9uKGN1cnNvcik7XG4gICAgICAgIGVkaXRvci5yZW5kZXJlci5zY3JvbGxDdXJzb3JJbnRvVmlldygpO1xuICAgIH07XG5cbiAgICB0aGlzLmV4dGVuZFNlbGVjdGlvbkJ5ID0gZnVuY3Rpb24odW5pdE5hbWUpIHtcbiAgICAgICAgdmFyIGFuY2hvciwgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG4gICAgICAgIHZhciBjdXJzb3IgPSBlZGl0b3IucmVuZGVyZXIuc2NyZWVuVG9UZXh0Q29vcmRpbmF0ZXModGhpcy54LCB0aGlzLnkpO1xuICAgICAgICB2YXIgcmFuZ2UgPSBlZGl0b3Iuc2VsZWN0aW9uW3VuaXROYW1lXShjdXJzb3Iucm93LCBjdXJzb3IuY29sdW1uKTtcbiAgICAgICAgaWYgKHRoaXMuJGNsaWNrU2VsZWN0aW9uKSB7XG4gICAgICAgICAgICB2YXIgY21wU3RhcnQgPSB0aGlzLiRjbGlja1NlbGVjdGlvbi5jb21wYXJlUG9pbnQocmFuZ2Uuc3RhcnQpO1xuICAgICAgICAgICAgdmFyIGNtcEVuZCA9IHRoaXMuJGNsaWNrU2VsZWN0aW9uLmNvbXBhcmVQb2ludChyYW5nZS5lbmQpO1xuXG4gICAgICAgICAgICBpZiAoY21wU3RhcnQgPT0gLTEgJiYgY21wRW5kIDw9IDApIHtcbiAgICAgICAgICAgICAgICBhbmNob3IgPSB0aGlzLiRjbGlja1NlbGVjdGlvbi5lbmQ7XG4gICAgICAgICAgICAgICAgaWYgKHJhbmdlLmVuZC5yb3cgIT0gY3Vyc29yLnJvdyB8fCByYW5nZS5lbmQuY29sdW1uICE9IGN1cnNvci5jb2x1bW4pXG4gICAgICAgICAgICAgICAgICAgIGN1cnNvciA9IHJhbmdlLnN0YXJ0O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjbXBFbmQgPT0gMSAmJiBjbXBTdGFydCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgYW5jaG9yID0gdGhpcy4kY2xpY2tTZWxlY3Rpb24uc3RhcnQ7XG4gICAgICAgICAgICAgICAgaWYgKHJhbmdlLnN0YXJ0LnJvdyAhPSBjdXJzb3Iucm93IHx8IHJhbmdlLnN0YXJ0LmNvbHVtbiAhPSBjdXJzb3IuY29sdW1uKVxuICAgICAgICAgICAgICAgICAgICBjdXJzb3IgPSByYW5nZS5lbmQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNtcFN0YXJ0ID09IC0xICYmIGNtcEVuZCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgY3Vyc29yID0gcmFuZ2UuZW5kO1xuICAgICAgICAgICAgICAgIGFuY2hvciA9IHJhbmdlLnN0YXJ0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgb3JpZW50ZWRSYW5nZSA9IGNhbGNSYW5nZU9yaWVudGF0aW9uKHRoaXMuJGNsaWNrU2VsZWN0aW9uLCBjdXJzb3IpO1xuICAgICAgICAgICAgICAgIGN1cnNvciA9IG9yaWVudGVkUmFuZ2UuY3Vyc29yO1xuICAgICAgICAgICAgICAgIGFuY2hvciA9IG9yaWVudGVkUmFuZ2UuYW5jaG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWRpdG9yLnNlbGVjdGlvbi5zZXRTZWxlY3Rpb25BbmNob3IoYW5jaG9yLnJvdywgYW5jaG9yLmNvbHVtbik7XG4gICAgICAgIH1cbiAgICAgICAgZWRpdG9yLnNlbGVjdGlvbi5zZWxlY3RUb1Bvc2l0aW9uKGN1cnNvcik7XG4gICAgICAgIGVkaXRvci5yZW5kZXJlci5zY3JvbGxDdXJzb3JJbnRvVmlldygpO1xuICAgIH07XG5cbiAgICB0aGlzLnNlbGVjdEVuZCA9XG4gICAgdGhpcy5zZWxlY3RBbGxFbmQgPVxuICAgIHRoaXMuc2VsZWN0QnlXb3Jkc0VuZCA9XG4gICAgdGhpcy5zZWxlY3RCeUxpbmVzRW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJGNsaWNrU2VsZWN0aW9uID0gbnVsbDtcbiAgICAgICAgdGhpcy5lZGl0b3IudW5zZXRTdHlsZShcImFjZV9zZWxlY3RpbmdcIik7XG4gICAgICAgIGlmICh0aGlzLmVkaXRvci5yZW5kZXJlci5zY3JvbGxlci5yZWxlYXNlQ2FwdHVyZSkge1xuICAgICAgICAgICAgdGhpcy5lZGl0b3IucmVuZGVyZXIuc2Nyb2xsZXIucmVsZWFzZUNhcHR1cmUoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmZvY3VzV2FpdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZGlzdGFuY2UgPSBjYWxjRGlzdGFuY2UodGhpcy5tb3VzZWRvd25FdmVudC54LCB0aGlzLm1vdXNlZG93bkV2ZW50LnksIHRoaXMueCwgdGhpcy55KTtcbiAgICAgICAgdmFyIHRpbWUgPSBEYXRlLm5vdygpO1xuXG4gICAgICAgIGlmIChkaXN0YW5jZSA+IERSQUdfT0ZGU0VUIHx8IHRpbWUgLSB0aGlzLm1vdXNlZG93bkV2ZW50LnRpbWUgPiB0aGlzLiRmb2N1c1RpbWVvdXQpXG4gICAgICAgICAgICB0aGlzLnN0YXJ0U2VsZWN0KHRoaXMubW91c2Vkb3duRXZlbnQuZ2V0RG9jdW1lbnRQb3NpdGlvbigpKTtcbiAgICB9O1xuXG4gICAgdGhpcy5vbkRvdWJsZUNsaWNrID0gZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgdmFyIHBvcyA9IGV2LmdldERvY3VtZW50UG9zaXRpb24oKTtcbiAgICAgICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IGVkaXRvci5zZXNzaW9uO1xuXG4gICAgICAgIHZhciByYW5nZSA9IHNlc3Npb24uZ2V0QnJhY2tldFJhbmdlKHBvcyk7XG4gICAgICAgIGlmIChyYW5nZSkge1xuICAgICAgICAgICAgaWYgKHJhbmdlLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgICAgIHJhbmdlLnN0YXJ0LmNvbHVtbi0tO1xuICAgICAgICAgICAgICAgIHJhbmdlLmVuZC5jb2x1bW4rKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoXCJzZWxlY3RcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByYW5nZSA9IGVkaXRvci5zZWxlY3Rpb24uZ2V0V29yZFJhbmdlKHBvcy5yb3csIHBvcy5jb2x1bW4pO1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShcInNlbGVjdEJ5V29yZHNcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4kY2xpY2tTZWxlY3Rpb24gPSByYW5nZTtcbiAgICAgICAgdGhpcy5zZWxlY3QoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5vblRyaXBsZUNsaWNrID0gZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgdmFyIHBvcyA9IGV2LmdldERvY3VtZW50UG9zaXRpb24oKTtcbiAgICAgICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoXCJzZWxlY3RCeUxpbmVzXCIpO1xuICAgICAgICB2YXIgcmFuZ2UgPSBlZGl0b3IuZ2V0U2VsZWN0aW9uUmFuZ2UoKTtcbiAgICAgICAgaWYgKHJhbmdlLmlzTXVsdGlMaW5lKCkgJiYgcmFuZ2UuY29udGFpbnMocG9zLnJvdywgcG9zLmNvbHVtbikpIHtcbiAgICAgICAgICAgIHRoaXMuJGNsaWNrU2VsZWN0aW9uID0gZWRpdG9yLnNlbGVjdGlvbi5nZXRMaW5lUmFuZ2UocmFuZ2Uuc3RhcnQucm93KTtcbiAgICAgICAgICAgIHRoaXMuJGNsaWNrU2VsZWN0aW9uLmVuZCA9IGVkaXRvci5zZWxlY3Rpb24uZ2V0TGluZVJhbmdlKHJhbmdlLmVuZC5yb3cpLmVuZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuJGNsaWNrU2VsZWN0aW9uID0gZWRpdG9yLnNlbGVjdGlvbi5nZXRMaW5lUmFuZ2UocG9zLnJvdyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZWxlY3QoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5vblF1YWRDbGljayA9IGZ1bmN0aW9uKGV2KSB7XG4gICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLmVkaXRvcjtcblxuICAgICAgICBlZGl0b3Iuc2VsZWN0QWxsKCk7XG4gICAgICAgIHRoaXMuJGNsaWNrU2VsZWN0aW9uID0gZWRpdG9yLmdldFNlbGVjdGlvblJhbmdlKCk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoXCJzZWxlY3RBbGxcIik7XG4gICAgfTtcblxuICAgIHRoaXMub25Nb3VzZVdoZWVsID0gZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgaWYgKGV2LmdldEFjY2VsS2V5KCkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmIChldi5nZXRTaGlmdEtleSgpICYmIGV2LndoZWVsWSAmJiAhZXYud2hlZWxYKSB7XG4gICAgICAgICAgICBldi53aGVlbFggPSBldi53aGVlbFk7XG4gICAgICAgICAgICBldi53aGVlbFkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG4gICAgICAgIFxuICAgICAgICBpZiAoIXRoaXMuJGxhc3RTY3JvbGwpXG4gICAgICAgICAgICB0aGlzLiRsYXN0U2Nyb2xsID0geyB0OiAwLCB2eDogMCwgdnk6IDAsIGFsbG93ZWQ6IDAgfTtcbiAgICAgICAgXG4gICAgICAgIHZhciBwcmV2U2Nyb2xsID0gdGhpcy4kbGFzdFNjcm9sbDtcbiAgICAgICAgdmFyIHQgPSBldi5kb21FdmVudC50aW1lU3RhbXA7XG4gICAgICAgIHZhciBkdCA9IHQgLSBwcmV2U2Nyb2xsLnQ7XG4gICAgICAgIHZhciB2eCA9IGR0ID8gZXYud2hlZWxYIC8gZHQgOiBwcmV2U2Nyb2xsLnZ4O1xuICAgICAgICB2YXIgdnkgPSBkdCA/IGV2LndoZWVsWSAvIGR0IDogcHJldlNjcm9sbC52eTtcbiAgICAgICAgaWYgKGR0IDwgU0NST0xMX0NPT0xET1dOX1QpIHtcbiAgICAgICAgICAgIHZ4ID0gKHZ4ICsgcHJldlNjcm9sbC52eCkgLyAyO1xuICAgICAgICAgICAgdnkgPSAodnkgKyBwcmV2U2Nyb2xsLnZ5KSAvIDI7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBNYXRoLmFicyh2eCAvIHZ5KTtcbiAgICAgICAgXG4gICAgICAgIHZhciBjYW5TY3JvbGwgPSBmYWxzZTtcbiAgICAgICAgaWYgKGRpcmVjdGlvbiA+PSAxICYmIGVkaXRvci5yZW5kZXJlci5pc1Njcm9sbGFibGVCeShldi53aGVlbFggKiBldi5zcGVlZCwgMCkpXG4gICAgICAgICAgICBjYW5TY3JvbGwgPSB0cnVlO1xuICAgICAgICBpZiAoZGlyZWN0aW9uIDw9IDEgJiYgZWRpdG9yLnJlbmRlcmVyLmlzU2Nyb2xsYWJsZUJ5KDAsIGV2LndoZWVsWSAqIGV2LnNwZWVkKSlcbiAgICAgICAgICAgIGNhblNjcm9sbCA9IHRydWU7XG4gICAgICAgICAgICBcbiAgICAgICAgaWYgKGNhblNjcm9sbCkge1xuICAgICAgICAgICAgcHJldlNjcm9sbC5hbGxvd2VkID0gdDtcbiAgICAgICAgfSBlbHNlIGlmICh0IC0gcHJldlNjcm9sbC5hbGxvd2VkIDwgU0NST0xMX0NPT0xET1dOX1QpIHtcbiAgICAgICAgICAgIHZhciBpc1Nsb3dlciA9IE1hdGguYWJzKHZ4KSA8PSAxLjUgKiBNYXRoLmFicyhwcmV2U2Nyb2xsLnZ4KVxuICAgICAgICAgICAgICAgICYmIE1hdGguYWJzKHZ5KSA8PSAxLjUgKiBNYXRoLmFicyhwcmV2U2Nyb2xsLnZ5KTtcbiAgICAgICAgICAgIGlmIChpc1Nsb3dlcikge1xuICAgICAgICAgICAgICAgIGNhblNjcm9sbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgcHJldlNjcm9sbC5hbGxvd2VkID0gdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHByZXZTY3JvbGwuYWxsb3dlZCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHByZXZTY3JvbGwudCA9IHQ7XG4gICAgICAgIHByZXZTY3JvbGwudnggPSB2eDtcbiAgICAgICAgcHJldlNjcm9sbC52eSA9IHZ5O1xuXG4gICAgICAgIGlmIChjYW5TY3JvbGwpIHtcbiAgICAgICAgICAgIGVkaXRvci5yZW5kZXJlci5zY3JvbGxCeShldi53aGVlbFggKiBldi5zcGVlZCwgZXYud2hlZWxZICogZXYuc3BlZWQpO1xuICAgICAgICAgICAgcmV0dXJuIGV2LnN0b3AoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbn0pLmNhbGwoRGVmYXVsdEhhbmRsZXJzLnByb3RvdHlwZSk7XG5cbmV4cG9ydHMuRGVmYXVsdEhhbmRsZXJzID0gRGVmYXVsdEhhbmRsZXJzO1xuXG5mdW5jdGlvbiBjYWxjRGlzdGFuY2UoYXgsIGF5LCBieCwgYnkpIHtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KGJ4IC0gYXgsIDIpICsgTWF0aC5wb3coYnkgLSBheSwgMikpO1xufVxuXG5mdW5jdGlvbiBjYWxjUmFuZ2VPcmllbnRhdGlvbihyYW5nZSwgY3Vyc29yKSB7XG4gICAgaWYgKHJhbmdlLnN0YXJ0LnJvdyA9PSByYW5nZS5lbmQucm93KVxuICAgICAgICB2YXIgY21wID0gMiAqIGN1cnNvci5jb2x1bW4gLSByYW5nZS5zdGFydC5jb2x1bW4gLSByYW5nZS5lbmQuY29sdW1uO1xuICAgIGVsc2UgaWYgKHJhbmdlLnN0YXJ0LnJvdyA9PSByYW5nZS5lbmQucm93IC0gMSAmJiAhcmFuZ2Uuc3RhcnQuY29sdW1uICYmICFyYW5nZS5lbmQuY29sdW1uKVxuICAgICAgICB2YXIgY21wID0gY3Vyc29yLmNvbHVtbiAtIDQ7XG4gICAgZWxzZVxuICAgICAgICB2YXIgY21wID0gMiAqIGN1cnNvci5yb3cgLSByYW5nZS5zdGFydC5yb3cgLSByYW5nZS5lbmQucm93O1xuXG4gICAgaWYgKGNtcCA8IDApXG4gICAgICAgIHJldHVybiB7Y3Vyc29yOiByYW5nZS5zdGFydCwgYW5jaG9yOiByYW5nZS5lbmR9O1xuICAgIGVsc2VcbiAgICAgICAgcmV0dXJuIHtjdXJzb3I6IHJhbmdlLmVuZCwgYW5jaG9yOiByYW5nZS5zdGFydH07XG59XG5cbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL3Rvb2x0aXBcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvb29wXCIsXCJhY2UvbGliL2RvbVwiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIG9vcCA9IHJlcXVpcmUoXCIuL2xpYi9vb3BcIik7XG52YXIgZG9tID0gcmVxdWlyZShcIi4vbGliL2RvbVwiKTtcblxudmFyIENMQVNTTkFNRSA9IFwiYWNlX3Rvb2x0aXBcIjtcbmZ1bmN0aW9uIFRvb2x0aXAgKHBhcmVudE5vZGUpIHtcbiAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgIHRoaXMuJGVsZW1lbnQgPSBudWxsO1xuICAgIHRoaXMuJHBhcmVudE5vZGUgPSBwYXJlbnROb2RlO1xufVxuXG4oZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiRlbGVtZW50ID0gZG9tLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMuJGVsZW1lbnQuY2xhc3NOYW1lID0gQ0xBU1NOQU1FO1xuICAgICAgICB0aGlzLiRlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgdGhpcy4kcGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0aGlzLiRlbGVtZW50KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuJGVsZW1lbnQ7XG4gICAgfTtcbiAgICB0aGlzLmdldEVsZW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJGVsZW1lbnQgfHwgdGhpcy4kaW5pdCgpO1xuICAgIH07XG4gICAgdGhpcy5zZXRUZXh0ID0gZnVuY3Rpb24odGV4dCkge1xuICAgICAgICB0aGlzLmdldEVsZW1lbnQoKS50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgfTtcbiAgICB0aGlzLnNldEh0bWwgPSBmdW5jdGlvbihodG1sKSB7XG4gICAgICAgIHRoaXMuZ2V0RWxlbWVudCgpLmlubmVySFRNTCA9IGh0bWw7XG4gICAgfTtcbiAgICB0aGlzLnNldFBvc2l0aW9uID0gZnVuY3Rpb24oeCwgeSkge1xuICAgICAgICB0aGlzLmdldEVsZW1lbnQoKS5zdHlsZS5sZWZ0ID0geCArIFwicHhcIjtcbiAgICAgICAgdGhpcy5nZXRFbGVtZW50KCkuc3R5bGUudG9wID0geSArIFwicHhcIjtcbiAgICB9O1xuICAgIHRoaXMuc2V0Q2xhc3NOYW1lID0gZnVuY3Rpb24oY2xhc3NOYW1lKSB7XG4gICAgICAgIGRvbS5hZGRDc3NDbGFzcyh0aGlzLmdldEVsZW1lbnQoKSwgY2xhc3NOYW1lKTtcbiAgICB9O1xuICAgIHRoaXMuc2hvdyA9IGZ1bmN0aW9uKHRleHQsIHgsIHkpIHtcbiAgICAgICAgaWYgKHRleHQgIT0gbnVsbClcbiAgICAgICAgICAgIHRoaXMuc2V0VGV4dCh0ZXh0KTtcbiAgICAgICAgaWYgKHggIT0gbnVsbCAmJiB5ICE9IG51bGwpXG4gICAgICAgICAgICB0aGlzLnNldFBvc2l0aW9uKHgsIHkpO1xuICAgICAgICBpZiAoIXRoaXMuaXNPcGVuKSB7XG4gICAgICAgICAgICB0aGlzLmdldEVsZW1lbnQoKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgICAgdGhpcy5pc09wZW4gPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuaGlkZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5pc09wZW4pIHtcbiAgICAgICAgICAgIHRoaXMuZ2V0RWxlbWVudCgpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIHRoaXMuZ2V0RWxlbWVudCgpLmNsYXNzTmFtZSA9IENMQVNTTkFNRTtcbiAgICAgICAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuZ2V0SGVpZ2h0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEVsZW1lbnQoKS5vZmZzZXRIZWlnaHQ7XG4gICAgfTtcbiAgICB0aGlzLmdldFdpZHRoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEVsZW1lbnQoKS5vZmZzZXRXaWR0aDtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy4kZWxlbWVudCAmJiB0aGlzLiRlbGVtZW50LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuJGVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLiRlbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH07XG5cbn0pLmNhbGwoVG9vbHRpcC5wcm90b3R5cGUpO1xuXG5leHBvcnRzLlRvb2x0aXAgPSBUb29sdGlwO1xufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvbW91c2UvZGVmYXVsdF9ndXR0ZXJfaGFuZGxlclwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9kb21cIixcImFjZS9saWIvb29wXCIsXCJhY2UvbGliL2V2ZW50XCIsXCJhY2UvdG9vbHRpcFwiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcbnZhciBkb20gPSByZXF1aXJlKFwiLi4vbGliL2RvbVwiKTtcbnZhciBvb3AgPSByZXF1aXJlKFwiLi4vbGliL29vcFwiKTtcbnZhciBldmVudCA9IHJlcXVpcmUoXCIuLi9saWIvZXZlbnRcIik7XG52YXIgVG9vbHRpcCA9IHJlcXVpcmUoXCIuLi90b29sdGlwXCIpLlRvb2x0aXA7XG5cbmZ1bmN0aW9uIEd1dHRlckhhbmRsZXIobW91c2VIYW5kbGVyKSB7XG4gICAgdmFyIGVkaXRvciA9IG1vdXNlSGFuZGxlci5lZGl0b3I7XG4gICAgdmFyIGd1dHRlciA9IGVkaXRvci5yZW5kZXJlci4kZ3V0dGVyTGF5ZXI7XG4gICAgdmFyIHRvb2x0aXAgPSBuZXcgR3V0dGVyVG9vbHRpcChlZGl0b3IuY29udGFpbmVyKTtcblxuICAgIG1vdXNlSGFuZGxlci5lZGl0b3Iuc2V0RGVmYXVsdEhhbmRsZXIoXCJndXR0ZXJtb3VzZWRvd25cIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoIWVkaXRvci5pc0ZvY3VzZWQoKSB8fCBlLmdldEJ1dHRvbigpICE9IDApXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciBndXR0ZXJSZWdpb24gPSBndXR0ZXIuZ2V0UmVnaW9uKGUpO1xuXG4gICAgICAgIGlmIChndXR0ZXJSZWdpb24gPT0gXCJmb2xkV2lkZ2V0c1wiKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHZhciByb3cgPSBlLmdldERvY3VtZW50UG9zaXRpb24oKS5yb3c7XG4gICAgICAgIHZhciBzZWxlY3Rpb24gPSBlZGl0b3Iuc2Vzc2lvbi5zZWxlY3Rpb247XG5cbiAgICAgICAgaWYgKGUuZ2V0U2hpZnRLZXkoKSlcbiAgICAgICAgICAgIHNlbGVjdGlvbi5zZWxlY3RUbyhyb3csIDApO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChlLmRvbUV2ZW50LmRldGFpbCA9PSAyKSB7XG4gICAgICAgICAgICAgICAgZWRpdG9yLnNlbGVjdEFsbCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtb3VzZUhhbmRsZXIuJGNsaWNrU2VsZWN0aW9uID0gZWRpdG9yLnNlbGVjdGlvbi5nZXRMaW5lUmFuZ2Uocm93KTtcbiAgICAgICAgfVxuICAgICAgICBtb3VzZUhhbmRsZXIuc2V0U3RhdGUoXCJzZWxlY3RCeUxpbmVzXCIpO1xuICAgICAgICBtb3VzZUhhbmRsZXIuY2FwdHVyZU1vdXNlKGUpO1xuICAgICAgICByZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuXG5cbiAgICB2YXIgdG9vbHRpcFRpbWVvdXQsIG1vdXNlRXZlbnQsIHRvb2x0aXBBbm5vdGF0aW9uO1xuXG4gICAgZnVuY3Rpb24gc2hvd1Rvb2x0aXAoKSB7XG4gICAgICAgIHZhciByb3cgPSBtb3VzZUV2ZW50LmdldERvY3VtZW50UG9zaXRpb24oKS5yb3c7XG4gICAgICAgIHZhciBhbm5vdGF0aW9uID0gZ3V0dGVyLiRhbm5vdGF0aW9uc1tyb3ddO1xuICAgICAgICBpZiAoIWFubm90YXRpb24pXG4gICAgICAgICAgICByZXR1cm4gaGlkZVRvb2x0aXAoKTtcblxuICAgICAgICB2YXIgbWF4Um93ID0gZWRpdG9yLnNlc3Npb24uZ2V0TGVuZ3RoKCk7XG4gICAgICAgIGlmIChyb3cgPT0gbWF4Um93KSB7XG4gICAgICAgICAgICB2YXIgc2NyZWVuUm93ID0gZWRpdG9yLnJlbmRlcmVyLnBpeGVsVG9TY3JlZW5Db29yZGluYXRlcygwLCBtb3VzZUV2ZW50LnkpLnJvdztcbiAgICAgICAgICAgIHZhciBwb3MgPSBtb3VzZUV2ZW50LiRwb3M7XG4gICAgICAgICAgICBpZiAoc2NyZWVuUm93ID4gZWRpdG9yLnNlc3Npb24uZG9jdW1lbnRUb1NjcmVlblJvdyhwb3Mucm93LCBwb3MuY29sdW1uKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gaGlkZVRvb2x0aXAoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0b29sdGlwQW5ub3RhdGlvbiA9PSBhbm5vdGF0aW9uKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0b29sdGlwQW5ub3RhdGlvbiA9IGFubm90YXRpb24udGV4dC5qb2luKFwiPGJyLz5cIik7XG5cbiAgICAgICAgdG9vbHRpcC5zZXRIdG1sKHRvb2x0aXBBbm5vdGF0aW9uKTtcblxuICAgICAgICB2YXIgYW5ub3RhdGlvbkNsYXNzTmFtZSA9IGFubm90YXRpb24uY2xhc3NOYW1lO1xuICAgICAgICBpZiAoYW5ub3RhdGlvbkNsYXNzTmFtZSkge1xuICAgICAgICAgICAgdG9vbHRpcC5zZXRDbGFzc05hbWUoYW5ub3RhdGlvbkNsYXNzTmFtZS50cmltKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdG9vbHRpcC5zaG93KCk7XG4gICAgICAgIGVkaXRvci5fc2lnbmFsKFwic2hvd0d1dHRlclRvb2x0aXBcIiwgdG9vbHRpcCk7XG4gICAgICAgIGVkaXRvci5vbihcIm1vdXNld2hlZWxcIiwgaGlkZVRvb2x0aXApO1xuXG4gICAgICAgIGlmIChtb3VzZUhhbmRsZXIuJHRvb2x0aXBGb2xsb3dzTW91c2UpIHtcbiAgICAgICAgICAgIG1vdmVUb29sdGlwKG1vdXNlRXZlbnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGd1dHRlckVsZW1lbnQgPSBtb3VzZUV2ZW50LmRvbUV2ZW50LnRhcmdldDtcbiAgICAgICAgICAgIHZhciByZWN0ID0gZ3V0dGVyRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIHZhciBzdHlsZSA9IHRvb2x0aXAuZ2V0RWxlbWVudCgpLnN0eWxlO1xuICAgICAgICAgICAgc3R5bGUubGVmdCA9IHJlY3QucmlnaHQgKyBcInB4XCI7XG4gICAgICAgICAgICBzdHlsZS50b3AgPSByZWN0LmJvdHRvbSArIFwicHhcIjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhpZGVUb29sdGlwKCkge1xuICAgICAgICBpZiAodG9vbHRpcFRpbWVvdXQpXG4gICAgICAgICAgICB0b29sdGlwVGltZW91dCA9IGNsZWFyVGltZW91dCh0b29sdGlwVGltZW91dCk7XG4gICAgICAgIGlmICh0b29sdGlwQW5ub3RhdGlvbikge1xuICAgICAgICAgICAgdG9vbHRpcC5oaWRlKCk7XG4gICAgICAgICAgICB0b29sdGlwQW5ub3RhdGlvbiA9IG51bGw7XG4gICAgICAgICAgICBlZGl0b3IuX3NpZ25hbChcImhpZGVHdXR0ZXJUb29sdGlwXCIsIHRvb2x0aXApO1xuICAgICAgICAgICAgZWRpdG9yLm9mZihcIm1vdXNld2hlZWxcIiwgaGlkZVRvb2x0aXApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbW92ZVRvb2x0aXAoZSkge1xuICAgICAgICB0b29sdGlwLnNldFBvc2l0aW9uKGUueCwgZS55KTtcbiAgICB9XG5cbiAgICBtb3VzZUhhbmRsZXIuZWRpdG9yLnNldERlZmF1bHRIYW5kbGVyKFwiZ3V0dGVybW91c2Vtb3ZlXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIHRhcmdldCA9IGUuZG9tRXZlbnQudGFyZ2V0IHx8IGUuZG9tRXZlbnQuc3JjRWxlbWVudDtcbiAgICAgICAgaWYgKGRvbS5oYXNDc3NDbGFzcyh0YXJnZXQsIFwiYWNlX2ZvbGQtd2lkZ2V0XCIpKVxuICAgICAgICAgICAgcmV0dXJuIGhpZGVUb29sdGlwKCk7XG5cbiAgICAgICAgaWYgKHRvb2x0aXBBbm5vdGF0aW9uICYmIG1vdXNlSGFuZGxlci4kdG9vbHRpcEZvbGxvd3NNb3VzZSlcbiAgICAgICAgICAgIG1vdmVUb29sdGlwKGUpO1xuXG4gICAgICAgIG1vdXNlRXZlbnQgPSBlO1xuICAgICAgICBpZiAodG9vbHRpcFRpbWVvdXQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRvb2x0aXBUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRvb2x0aXBUaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChtb3VzZUV2ZW50ICYmICFtb3VzZUhhbmRsZXIuaXNNb3VzZVByZXNzZWQpXG4gICAgICAgICAgICAgICAgc2hvd1Rvb2x0aXAoKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBoaWRlVG9vbHRpcCgpO1xuICAgICAgICB9LCA1MCk7XG4gICAgfSk7XG5cbiAgICBldmVudC5hZGRMaXN0ZW5lcihlZGl0b3IucmVuZGVyZXIuJGd1dHRlciwgXCJtb3VzZW91dFwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIG1vdXNlRXZlbnQgPSBudWxsO1xuICAgICAgICBpZiAoIXRvb2x0aXBBbm5vdGF0aW9uIHx8IHRvb2x0aXBUaW1lb3V0KVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHRvb2x0aXBUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRvb2x0aXBUaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgIGhpZGVUb29sdGlwKCk7XG4gICAgICAgIH0sIDUwKTtcbiAgICB9LCBlZGl0b3IpO1xuICAgIFxuICAgIGVkaXRvci5vbihcImNoYW5nZVNlc3Npb25cIiwgaGlkZVRvb2x0aXApO1xufVxuXG5mdW5jdGlvbiBHdXR0ZXJUb29sdGlwKHBhcmVudE5vZGUpIHtcbiAgICBUb29sdGlwLmNhbGwodGhpcywgcGFyZW50Tm9kZSk7XG59XG5cbm9vcC5pbmhlcml0cyhHdXR0ZXJUb29sdGlwLCBUb29sdGlwKTtcblxuKGZ1bmN0aW9uKCl7XG4gICAgdGhpcy5zZXRQb3NpdGlvbiA9IGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgICAgdmFyIHdpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGggfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoO1xuICAgICAgICB2YXIgd2luZG93SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7XG4gICAgICAgIHZhciB3aWR0aCA9IHRoaXMuZ2V0V2lkdGgoKTtcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuZ2V0SGVpZ2h0KCk7XG4gICAgICAgIHggKz0gMTU7XG4gICAgICAgIHkgKz0gMTU7XG4gICAgICAgIGlmICh4ICsgd2lkdGggPiB3aW5kb3dXaWR0aCkge1xuICAgICAgICAgICAgeCAtPSAoeCArIHdpZHRoKSAtIHdpbmRvd1dpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGlmICh5ICsgaGVpZ2h0ID4gd2luZG93SGVpZ2h0KSB7XG4gICAgICAgICAgICB5IC09IDIwICsgaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIFRvb2x0aXAucHJvdG90eXBlLnNldFBvc2l0aW9uLmNhbGwodGhpcywgeCwgeSk7XG4gICAgfTtcblxufSkuY2FsbChHdXR0ZXJUb29sdGlwLnByb3RvdHlwZSk7XG5cblxuXG5leHBvcnRzLkd1dHRlckhhbmRsZXIgPSBHdXR0ZXJIYW5kbGVyO1xuXG59KTtcblxuYWNlLmRlZmluZShcImFjZS9tb3VzZS9tb3VzZV9ldmVudFwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9ldmVudFwiLFwiYWNlL2xpYi91c2VyYWdlbnRcIl0sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBldmVudCA9IHJlcXVpcmUoXCIuLi9saWIvZXZlbnRcIik7XG52YXIgdXNlcmFnZW50ID0gcmVxdWlyZShcIi4uL2xpYi91c2VyYWdlbnRcIik7XG52YXIgTW91c2VFdmVudCA9IGV4cG9ydHMuTW91c2VFdmVudCA9IGZ1bmN0aW9uKGRvbUV2ZW50LCBlZGl0b3IpIHtcbiAgICB0aGlzLmRvbUV2ZW50ID0gZG9tRXZlbnQ7XG4gICAgdGhpcy5lZGl0b3IgPSBlZGl0b3I7XG4gICAgXG4gICAgdGhpcy54ID0gdGhpcy5jbGllbnRYID0gZG9tRXZlbnQuY2xpZW50WDtcbiAgICB0aGlzLnkgPSB0aGlzLmNsaWVudFkgPSBkb21FdmVudC5jbGllbnRZO1xuXG4gICAgdGhpcy4kcG9zID0gbnVsbDtcbiAgICB0aGlzLiRpblNlbGVjdGlvbiA9IG51bGw7XG4gICAgXG4gICAgdGhpcy5wcm9wYWdhdGlvblN0b3BwZWQgPSBmYWxzZTtcbiAgICB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSBmYWxzZTtcbn07XG5cbihmdW5jdGlvbigpIHsgIFxuICAgIFxuICAgIHRoaXMuc3RvcFByb3BhZ2F0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbih0aGlzLmRvbUV2ZW50KTtcbiAgICAgICAgdGhpcy5wcm9wYWdhdGlvblN0b3BwZWQgPSB0cnVlO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5wcmV2ZW50RGVmYXVsdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCh0aGlzLmRvbUV2ZW50KTtcbiAgICAgICAgdGhpcy5kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuc3RvcCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB0aGlzLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfTtcbiAgICB0aGlzLmdldERvY3VtZW50UG9zaXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuJHBvcylcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiRwb3M7XG4gICAgICAgIFxuICAgICAgICB0aGlzLiRwb3MgPSB0aGlzLmVkaXRvci5yZW5kZXJlci5zY3JlZW5Ub1RleHRDb29yZGluYXRlcyh0aGlzLmNsaWVudFgsIHRoaXMuY2xpZW50WSk7XG4gICAgICAgIHJldHVybiB0aGlzLiRwb3M7XG4gICAgfTtcbiAgICB0aGlzLmluU2VsZWN0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLiRpblNlbGVjdGlvbiAhPT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiRpblNlbGVjdGlvbjtcbiAgICAgICAgICAgIFxuICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG4gICAgICAgIFxuXG4gICAgICAgIHZhciBzZWxlY3Rpb25SYW5nZSA9IGVkaXRvci5nZXRTZWxlY3Rpb25SYW5nZSgpO1xuICAgICAgICBpZiAoc2VsZWN0aW9uUmFuZ2UuaXNFbXB0eSgpKVxuICAgICAgICAgICAgdGhpcy4kaW5TZWxlY3Rpb24gPSBmYWxzZTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgcG9zID0gdGhpcy5nZXREb2N1bWVudFBvc2l0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLiRpblNlbGVjdGlvbiA9IHNlbGVjdGlvblJhbmdlLmNvbnRhaW5zKHBvcy5yb3csIHBvcy5jb2x1bW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuJGluU2VsZWN0aW9uO1xuICAgIH07XG4gICAgdGhpcy5nZXRCdXR0b24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50LmdldEJ1dHRvbih0aGlzLmRvbUV2ZW50KTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0U2hpZnRLZXkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9tRXZlbnQuc2hpZnRLZXk7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLmdldEFjY2VsS2V5ID0gdXNlcmFnZW50LmlzTWFjXG4gICAgICAgID8gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLmRvbUV2ZW50Lm1ldGFLZXk7IH1cbiAgICAgICAgOiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuZG9tRXZlbnQuY3RybEtleTsgfTtcbiAgICBcbn0pLmNhbGwoTW91c2VFdmVudC5wcm90b3R5cGUpO1xuXG59KTtcblxuYWNlLmRlZmluZShcImFjZS9tb3VzZS9kcmFnZHJvcF9oYW5kbGVyXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL2RvbVwiLFwiYWNlL2xpYi9ldmVudFwiLFwiYWNlL2xpYi91c2VyYWdlbnRcIl0sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBkb20gPSByZXF1aXJlKFwiLi4vbGliL2RvbVwiKTtcbnZhciBldmVudCA9IHJlcXVpcmUoXCIuLi9saWIvZXZlbnRcIik7XG52YXIgdXNlcmFnZW50ID0gcmVxdWlyZShcIi4uL2xpYi91c2VyYWdlbnRcIik7XG5cbnZhciBBVVRPU0NST0xMX0RFTEFZID0gMjAwO1xudmFyIFNDUk9MTF9DVVJTT1JfREVMQVkgPSAyMDA7XG52YXIgU0NST0xMX0NVUlNPUl9IWVNURVJFU0lTID0gNTtcblxuZnVuY3Rpb24gRHJhZ2Ryb3BIYW5kbGVyKG1vdXNlSGFuZGxlcikge1xuXG4gICAgdmFyIGVkaXRvciA9IG1vdXNlSGFuZGxlci5lZGl0b3I7XG5cbiAgICB2YXIgZHJhZ0ltYWdlID0gZG9tLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgZHJhZ0ltYWdlLnN0eWxlLmNzc1RleHQgPSBcInRvcDotMTAwcHg7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDoyMTQ3NDgzNjQ3O29wYWNpdHk6MC41XCI7XG4gICAgZHJhZ0ltYWdlLnRleHRDb250ZW50ID0gXCJcXHhhMFwiO1xuXG4gICAgdmFyIGV4cG9ydHMgPSBbXCJkcmFnV2FpdFwiLCBcImRyYWdXYWl0RW5kXCIsIFwic3RhcnREcmFnXCIsIFwiZHJhZ1JlYWR5RW5kXCIsIFwib25Nb3VzZURyYWdcIl07XG5cbiAgICBleHBvcnRzLmZvckVhY2goZnVuY3Rpb24oeCkge1xuICAgICAgICBtb3VzZUhhbmRsZXJbeF0gPSB0aGlzW3hdO1xuICAgIH0sIHRoaXMpO1xuICAgIGVkaXRvci5vbihcIm1vdXNlZG93blwiLCB0aGlzLm9uTW91c2VEb3duLmJpbmQobW91c2VIYW5kbGVyKSk7XG5cbiAgICB2YXIgbW91c2VUYXJnZXQgPSBlZGl0b3IuY29udGFpbmVyO1xuICAgIHZhciBkcmFnU2VsZWN0aW9uTWFya2VyLCB4LCB5O1xuICAgIHZhciB0aW1lcklkLCByYW5nZTtcbiAgICB2YXIgZHJhZ0N1cnNvciwgY291bnRlciA9IDA7XG4gICAgdmFyIGRyYWdPcGVyYXRpb247XG4gICAgdmFyIGlzSW50ZXJuYWw7XG4gICAgdmFyIGF1dG9TY3JvbGxTdGFydFRpbWU7XG4gICAgdmFyIGN1cnNvck1vdmVkVGltZTtcbiAgICB2YXIgY3Vyc29yUG9pbnRPbkNhcmV0TW92ZWQ7XG5cbiAgICB0aGlzLm9uRHJhZ1N0YXJ0ID0gZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAodGhpcy5jYW5jZWxEcmFnIHx8ICFtb3VzZVRhcmdldC5kcmFnZ2FibGUpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBzZWxmLnN0YXJ0U2VsZWN0KCk7XG4gICAgICAgICAgICAgICAgc2VsZi5jYXB0dXJlTW91c2UoZSk7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgIHJldHVybiBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmFuZ2UgPSBlZGl0b3IuZ2V0U2VsZWN0aW9uUmFuZ2UoKTtcblxuICAgICAgICB2YXIgZGF0YVRyYW5zZmVyID0gZS5kYXRhVHJhbnNmZXI7XG4gICAgICAgIGRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkID0gZWRpdG9yLmdldFJlYWRPbmx5KCkgPyBcImNvcHlcIiA6IFwiY29weU1vdmVcIjtcbiAgICAgICAgZWRpdG9yLmNvbnRhaW5lci5hcHBlbmRDaGlsZChkcmFnSW1hZ2UpO1xuXG4gICAgICAgIGRhdGFUcmFuc2Zlci5zZXREcmFnSW1hZ2UgJiYgZGF0YVRyYW5zZmVyLnNldERyYWdJbWFnZShkcmFnSW1hZ2UsIDAsIDApO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZWRpdG9yLmNvbnRhaW5lci5yZW1vdmVDaGlsZChkcmFnSW1hZ2UpO1xuICAgICAgICB9KTtcbiAgICAgICAgZGF0YVRyYW5zZmVyLmNsZWFyRGF0YSgpO1xuICAgICAgICBkYXRhVHJhbnNmZXIuc2V0RGF0YShcIlRleHRcIiwgZWRpdG9yLnNlc3Npb24uZ2V0VGV4dFJhbmdlKCkpO1xuXG4gICAgICAgIGlzSW50ZXJuYWwgPSB0cnVlO1xuICAgICAgICB0aGlzLnNldFN0YXRlKFwiZHJhZ1wiKTtcbiAgICB9O1xuXG4gICAgdGhpcy5vbkRyYWdFbmQgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIG1vdXNlVGFyZ2V0LmRyYWdnYWJsZSA9IGZhbHNlO1xuICAgICAgICBpc0ludGVybmFsID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUobnVsbCk7XG4gICAgICAgIGlmICghZWRpdG9yLmdldFJlYWRPbmx5KCkpIHtcbiAgICAgICAgICAgIHZhciBkcm9wRWZmZWN0ID0gZS5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdDtcbiAgICAgICAgICAgIGlmICghZHJhZ09wZXJhdGlvbiAmJiBkcm9wRWZmZWN0ID09IFwibW92ZVwiKVxuICAgICAgICAgICAgICAgIGVkaXRvci5zZXNzaW9uLnJlbW92ZShlZGl0b3IuZ2V0U2VsZWN0aW9uUmFuZ2UoKSk7XG4gICAgICAgICAgICBlZGl0b3IuJHJlc2V0Q3Vyc29yU3R5bGUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVkaXRvci51bnNldFN0eWxlKFwiYWNlX2RyYWdnaW5nXCIpO1xuICAgICAgICB0aGlzLmVkaXRvci5yZW5kZXJlci5zZXRDdXJzb3JTdHlsZShcIlwiKTtcbiAgICB9O1xuXG4gICAgdGhpcy5vbkRyYWdFbnRlciA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKGVkaXRvci5nZXRSZWFkT25seSgpIHx8ICFjYW5BY2NlcHQoZS5kYXRhVHJhbnNmZXIpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB4ID0gZS5jbGllbnRYO1xuICAgICAgICB5ID0gZS5jbGllbnRZO1xuICAgICAgICBpZiAoIWRyYWdTZWxlY3Rpb25NYXJrZXIpXG4gICAgICAgICAgICBhZGREcmFnTWFya2VyKCk7XG4gICAgICAgIGNvdW50ZXIrKztcbiAgICAgICAgZS5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9IGRyYWdPcGVyYXRpb24gPSBnZXREcm9wRWZmZWN0KGUpO1xuICAgICAgICByZXR1cm4gZXZlbnQucHJldmVudERlZmF1bHQoZSk7XG4gICAgfTtcblxuICAgIHRoaXMub25EcmFnT3ZlciA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKGVkaXRvci5nZXRSZWFkT25seSgpIHx8ICFjYW5BY2NlcHQoZS5kYXRhVHJhbnNmZXIpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB4ID0gZS5jbGllbnRYO1xuICAgICAgICB5ID0gZS5jbGllbnRZO1xuICAgICAgICBpZiAoIWRyYWdTZWxlY3Rpb25NYXJrZXIpIHtcbiAgICAgICAgICAgIGFkZERyYWdNYXJrZXIoKTtcbiAgICAgICAgICAgIGNvdW50ZXIrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAob25Nb3VzZU1vdmVUaW1lciAhPT0gbnVsbClcbiAgICAgICAgICAgIG9uTW91c2VNb3ZlVGltZXIgPSBudWxsO1xuXG4gICAgICAgIGUuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSBkcmFnT3BlcmF0aW9uID0gZ2V0RHJvcEVmZmVjdChlKTtcbiAgICAgICAgcmV0dXJuIGV2ZW50LnByZXZlbnREZWZhdWx0KGUpO1xuICAgIH07XG5cbiAgICB0aGlzLm9uRHJhZ0xlYXZlID0gZnVuY3Rpb24oZSkge1xuICAgICAgICBjb3VudGVyLS07XG4gICAgICAgIGlmIChjb3VudGVyIDw9IDAgJiYgZHJhZ1NlbGVjdGlvbk1hcmtlcikge1xuICAgICAgICAgICAgY2xlYXJEcmFnTWFya2VyKCk7XG4gICAgICAgICAgICBkcmFnT3BlcmF0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiBldmVudC5wcmV2ZW50RGVmYXVsdChlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLm9uRHJvcCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKCFkcmFnQ3Vyc29yKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB2YXIgZGF0YVRyYW5zZmVyID0gZS5kYXRhVHJhbnNmZXI7XG4gICAgICAgIGlmIChpc0ludGVybmFsKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGRyYWdPcGVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwibW92ZVwiOlxuICAgICAgICAgICAgICAgICAgICBpZiAocmFuZ2UuY29udGFpbnMoZHJhZ0N1cnNvci5yb3csIGRyYWdDdXJzb3IuY29sdW1uKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IGRyYWdDdXJzb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiBkcmFnQ3Vyc29yXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UgPSBlZGl0b3IubW92ZVRleHQocmFuZ2UsIGRyYWdDdXJzb3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjb3B5XCI6XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlID0gZWRpdG9yLm1vdmVUZXh0KHJhbmdlLCBkcmFnQ3Vyc29yLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgZHJvcERhdGEgPSBkYXRhVHJhbnNmZXIuZ2V0RGF0YSgnVGV4dCcpO1xuICAgICAgICAgICAgcmFuZ2UgPSB7XG4gICAgICAgICAgICAgICAgc3RhcnQ6IGRyYWdDdXJzb3IsXG4gICAgICAgICAgICAgICAgZW5kOiBlZGl0b3Iuc2Vzc2lvbi5pbnNlcnQoZHJhZ0N1cnNvciwgZHJvcERhdGEpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZWRpdG9yLmZvY3VzKCk7XG4gICAgICAgICAgICBkcmFnT3BlcmF0aW9uID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjbGVhckRyYWdNYXJrZXIoKTtcbiAgICAgICAgcmV0dXJuIGV2ZW50LnByZXZlbnREZWZhdWx0KGUpO1xuICAgIH07XG5cbiAgICBldmVudC5hZGRMaXN0ZW5lcihtb3VzZVRhcmdldCwgXCJkcmFnc3RhcnRcIiwgdGhpcy5vbkRyYWdTdGFydC5iaW5kKG1vdXNlSGFuZGxlciksIGVkaXRvcik7XG4gICAgZXZlbnQuYWRkTGlzdGVuZXIobW91c2VUYXJnZXQsIFwiZHJhZ2VuZFwiLCB0aGlzLm9uRHJhZ0VuZC5iaW5kKG1vdXNlSGFuZGxlciksIGVkaXRvcik7XG4gICAgZXZlbnQuYWRkTGlzdGVuZXIobW91c2VUYXJnZXQsIFwiZHJhZ2VudGVyXCIsIHRoaXMub25EcmFnRW50ZXIuYmluZChtb3VzZUhhbmRsZXIpLCBlZGl0b3IpO1xuICAgIGV2ZW50LmFkZExpc3RlbmVyKG1vdXNlVGFyZ2V0LCBcImRyYWdvdmVyXCIsIHRoaXMub25EcmFnT3Zlci5iaW5kKG1vdXNlSGFuZGxlciksIGVkaXRvcik7XG4gICAgZXZlbnQuYWRkTGlzdGVuZXIobW91c2VUYXJnZXQsIFwiZHJhZ2xlYXZlXCIsIHRoaXMub25EcmFnTGVhdmUuYmluZChtb3VzZUhhbmRsZXIpLCBlZGl0b3IpO1xuICAgIGV2ZW50LmFkZExpc3RlbmVyKG1vdXNlVGFyZ2V0LCBcImRyb3BcIiwgdGhpcy5vbkRyb3AuYmluZChtb3VzZUhhbmRsZXIpLCBlZGl0b3IpO1xuXG4gICAgZnVuY3Rpb24gc2Nyb2xsQ3Vyc29ySW50b1ZpZXcoY3Vyc29yLCBwcmV2Q3Vyc29yKSB7XG4gICAgICAgIHZhciBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICB2YXIgdk1vdmVtZW50ID0gIXByZXZDdXJzb3IgfHwgY3Vyc29yLnJvdyAhPSBwcmV2Q3Vyc29yLnJvdztcbiAgICAgICAgdmFyIGhNb3ZlbWVudCA9ICFwcmV2Q3Vyc29yIHx8IGN1cnNvci5jb2x1bW4gIT0gcHJldkN1cnNvci5jb2x1bW47XG4gICAgICAgIGlmICghY3Vyc29yTW92ZWRUaW1lIHx8IHZNb3ZlbWVudCB8fCBoTW92ZW1lbnQpIHtcbiAgICAgICAgICAgIGVkaXRvci5tb3ZlQ3Vyc29yVG9Qb3NpdGlvbihjdXJzb3IpO1xuICAgICAgICAgICAgY3Vyc29yTW92ZWRUaW1lID0gbm93O1xuICAgICAgICAgICAgY3Vyc29yUG9pbnRPbkNhcmV0TW92ZWQgPSB7eDogeCwgeTogeX07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgZGlzdGFuY2UgPSBjYWxjRGlzdGFuY2UoY3Vyc29yUG9pbnRPbkNhcmV0TW92ZWQueCwgY3Vyc29yUG9pbnRPbkNhcmV0TW92ZWQueSwgeCwgeSk7XG4gICAgICAgICAgICBpZiAoZGlzdGFuY2UgPiBTQ1JPTExfQ1VSU09SX0hZU1RFUkVTSVMpIHtcbiAgICAgICAgICAgICAgICBjdXJzb3JNb3ZlZFRpbWUgPSBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChub3cgLSBjdXJzb3JNb3ZlZFRpbWUgPj0gU0NST0xMX0NVUlNPUl9ERUxBWSkge1xuICAgICAgICAgICAgICAgIGVkaXRvci5yZW5kZXJlci5zY3JvbGxDdXJzb3JJbnRvVmlldygpO1xuICAgICAgICAgICAgICAgIGN1cnNvck1vdmVkVGltZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhdXRvU2Nyb2xsKGN1cnNvciwgcHJldkN1cnNvcikge1xuICAgICAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdmFyIGxpbmVIZWlnaHQgPSBlZGl0b3IucmVuZGVyZXIubGF5ZXJDb25maWcubGluZUhlaWdodDtcbiAgICAgICAgdmFyIGNoYXJhY3RlcldpZHRoID0gZWRpdG9yLnJlbmRlcmVyLmxheWVyQ29uZmlnLmNoYXJhY3RlcldpZHRoO1xuICAgICAgICB2YXIgZWRpdG9yUmVjdCA9IGVkaXRvci5yZW5kZXJlci5zY3JvbGxlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdmFyIG9mZnNldHMgPSB7XG4gICAgICAgICAgIHg6IHtcbiAgICAgICAgICAgICAgIGxlZnQ6IHggLSBlZGl0b3JSZWN0LmxlZnQsXG4gICAgICAgICAgICAgICByaWdodDogZWRpdG9yUmVjdC5yaWdodCAtIHhcbiAgICAgICAgICAgfSxcbiAgICAgICAgICAgeToge1xuICAgICAgICAgICAgICAgdG9wOiB5IC0gZWRpdG9yUmVjdC50b3AsXG4gICAgICAgICAgICAgICBib3R0b206IGVkaXRvclJlY3QuYm90dG9tIC0geVxuICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciBuZWFyZXN0WE9mZnNldCA9IE1hdGgubWluKG9mZnNldHMueC5sZWZ0LCBvZmZzZXRzLngucmlnaHQpO1xuICAgICAgICB2YXIgbmVhcmVzdFlPZmZzZXQgPSBNYXRoLm1pbihvZmZzZXRzLnkudG9wLCBvZmZzZXRzLnkuYm90dG9tKTtcbiAgICAgICAgdmFyIHNjcm9sbEN1cnNvciA9IHtyb3c6IGN1cnNvci5yb3csIGNvbHVtbjogY3Vyc29yLmNvbHVtbn07XG4gICAgICAgIGlmIChuZWFyZXN0WE9mZnNldCAvIGNoYXJhY3RlcldpZHRoIDw9IDIpIHtcbiAgICAgICAgICAgIHNjcm9sbEN1cnNvci5jb2x1bW4gKz0gKG9mZnNldHMueC5sZWZ0IDwgb2Zmc2V0cy54LnJpZ2h0ID8gLTMgOiArMik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5lYXJlc3RZT2Zmc2V0IC8gbGluZUhlaWdodCA8PSAxKSB7XG4gICAgICAgICAgICBzY3JvbGxDdXJzb3Iucm93ICs9IChvZmZzZXRzLnkudG9wIDwgb2Zmc2V0cy55LmJvdHRvbSA/IC0xIDogKzEpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB2U2Nyb2xsID0gY3Vyc29yLnJvdyAhPSBzY3JvbGxDdXJzb3Iucm93O1xuICAgICAgICB2YXIgaFNjcm9sbCA9IGN1cnNvci5jb2x1bW4gIT0gc2Nyb2xsQ3Vyc29yLmNvbHVtbjtcbiAgICAgICAgdmFyIHZNb3ZlbWVudCA9ICFwcmV2Q3Vyc29yIHx8IGN1cnNvci5yb3cgIT0gcHJldkN1cnNvci5yb3c7XG4gICAgICAgIGlmICh2U2Nyb2xsIHx8IChoU2Nyb2xsICYmICF2TW92ZW1lbnQpKSB7XG4gICAgICAgICAgICBpZiAoIWF1dG9TY3JvbGxTdGFydFRpbWUpXG4gICAgICAgICAgICAgICAgYXV0b1Njcm9sbFN0YXJ0VGltZSA9IG5vdztcbiAgICAgICAgICAgIGVsc2UgaWYgKG5vdyAtIGF1dG9TY3JvbGxTdGFydFRpbWUgPj0gQVVUT1NDUk9MTF9ERUxBWSlcbiAgICAgICAgICAgICAgICBlZGl0b3IucmVuZGVyZXIuc2Nyb2xsQ3Vyc29ySW50b1ZpZXcoc2Nyb2xsQ3Vyc29yKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF1dG9TY3JvbGxTdGFydFRpbWUgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25EcmFnSW50ZXJ2YWwoKSB7XG4gICAgICAgIHZhciBwcmV2Q3Vyc29yID0gZHJhZ0N1cnNvcjtcbiAgICAgICAgZHJhZ0N1cnNvciA9IGVkaXRvci5yZW5kZXJlci5zY3JlZW5Ub1RleHRDb29yZGluYXRlcyh4LCB5KTtcbiAgICAgICAgc2Nyb2xsQ3Vyc29ySW50b1ZpZXcoZHJhZ0N1cnNvciwgcHJldkN1cnNvcik7XG4gICAgICAgIGF1dG9TY3JvbGwoZHJhZ0N1cnNvciwgcHJldkN1cnNvcik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkRHJhZ01hcmtlcigpIHtcbiAgICAgICAgcmFuZ2UgPSBlZGl0b3Iuc2VsZWN0aW9uLnRvT3JpZW50ZWRSYW5nZSgpO1xuICAgICAgICBkcmFnU2VsZWN0aW9uTWFya2VyID0gZWRpdG9yLnNlc3Npb24uYWRkTWFya2VyKHJhbmdlLCBcImFjZV9zZWxlY3Rpb25cIiwgZWRpdG9yLmdldFNlbGVjdGlvblN0eWxlKCkpO1xuICAgICAgICBlZGl0b3IuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgICAgaWYgKGVkaXRvci5pc0ZvY3VzZWQoKSlcbiAgICAgICAgICAgIGVkaXRvci5yZW5kZXJlci4kY3Vyc29yTGF5ZXIuc2V0QmxpbmtpbmcoZmFsc2UpO1xuICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xuICAgICAgICBvbkRyYWdJbnRlcnZhbCgpO1xuICAgICAgICB0aW1lcklkID0gc2V0SW50ZXJ2YWwob25EcmFnSW50ZXJ2YWwsIDIwKTtcbiAgICAgICAgY291bnRlciA9IDA7XG4gICAgICAgIGV2ZW50LmFkZExpc3RlbmVyKGRvY3VtZW50LCBcIm1vdXNlbW92ZVwiLCBvbk1vdXNlTW92ZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xlYXJEcmFnTWFya2VyKCkge1xuICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xuICAgICAgICBlZGl0b3Iuc2Vzc2lvbi5yZW1vdmVNYXJrZXIoZHJhZ1NlbGVjdGlvbk1hcmtlcik7XG4gICAgICAgIGRyYWdTZWxlY3Rpb25NYXJrZXIgPSBudWxsO1xuICAgICAgICBlZGl0b3Iuc2VsZWN0aW9uLmZyb21PcmllbnRlZFJhbmdlKHJhbmdlKTtcbiAgICAgICAgaWYgKGVkaXRvci5pc0ZvY3VzZWQoKSAmJiAhaXNJbnRlcm5hbClcbiAgICAgICAgICAgIGVkaXRvci4kcmVzZXRDdXJzb3JTdHlsZSgpO1xuICAgICAgICByYW5nZSA9IG51bGw7XG4gICAgICAgIGRyYWdDdXJzb3IgPSBudWxsO1xuICAgICAgICBjb3VudGVyID0gMDtcbiAgICAgICAgYXV0b1Njcm9sbFN0YXJ0VGltZSA9IG51bGw7XG4gICAgICAgIGN1cnNvck1vdmVkVGltZSA9IG51bGw7XG4gICAgICAgIGV2ZW50LnJlbW92ZUxpc3RlbmVyKGRvY3VtZW50LCBcIm1vdXNlbW92ZVwiLCBvbk1vdXNlTW92ZSk7XG4gICAgfVxuICAgIHZhciBvbk1vdXNlTW92ZVRpbWVyID0gbnVsbDtcbiAgICBmdW5jdGlvbiBvbk1vdXNlTW92ZSgpIHtcbiAgICAgICAgaWYgKG9uTW91c2VNb3ZlVGltZXIgPT0gbnVsbCkge1xuICAgICAgICAgICAgb25Nb3VzZU1vdmVUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9uTW91c2VNb3ZlVGltZXIgIT0gbnVsbCAmJiBkcmFnU2VsZWN0aW9uTWFya2VyKVxuICAgICAgICAgICAgICAgICAgICBjbGVhckRyYWdNYXJrZXIoKTtcbiAgICAgICAgICAgIH0sIDIwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhbkFjY2VwdChkYXRhVHJhbnNmZXIpIHtcbiAgICAgICAgdmFyIHR5cGVzID0gZGF0YVRyYW5zZmVyLnR5cGVzO1xuICAgICAgICByZXR1cm4gIXR5cGVzIHx8IEFycmF5LnByb3RvdHlwZS5zb21lLmNhbGwodHlwZXMsIGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlID09ICd0ZXh0L3BsYWluJyB8fCB0eXBlID09ICdUZXh0JztcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0RHJvcEVmZmVjdChlKSB7XG4gICAgICAgIHZhciBjb3B5QWxsb3dlZCA9IFsnY29weScsICdjb3B5bW92ZScsICdhbGwnLCAndW5pbml0aWFsaXplZCddO1xuICAgICAgICB2YXIgbW92ZUFsbG93ZWQgPSBbJ21vdmUnLCAnY29weW1vdmUnLCAnbGlua21vdmUnLCAnYWxsJywgJ3VuaW5pdGlhbGl6ZWQnXTtcblxuICAgICAgICB2YXIgY29weU1vZGlmaWVyU3RhdGUgPSB1c2VyYWdlbnQuaXNNYWMgPyBlLmFsdEtleSA6IGUuY3RybEtleTtcbiAgICAgICAgdmFyIGVmZmVjdEFsbG93ZWQgPSBcInVuaW5pdGlhbGl6ZWRcIjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGVmZmVjdEFsbG93ZWQgPSBlLmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICAgIHZhciBkcm9wRWZmZWN0ID0gXCJub25lXCI7XG5cbiAgICAgICAgaWYgKGNvcHlNb2RpZmllclN0YXRlICYmIGNvcHlBbGxvd2VkLmluZGV4T2YoZWZmZWN0QWxsb3dlZCkgPj0gMClcbiAgICAgICAgICAgIGRyb3BFZmZlY3QgPSBcImNvcHlcIjtcbiAgICAgICAgZWxzZSBpZiAobW92ZUFsbG93ZWQuaW5kZXhPZihlZmZlY3RBbGxvd2VkKSA+PSAwKVxuICAgICAgICAgICAgZHJvcEVmZmVjdCA9IFwibW92ZVwiO1xuICAgICAgICBlbHNlIGlmIChjb3B5QWxsb3dlZC5pbmRleE9mKGVmZmVjdEFsbG93ZWQpID49IDApXG4gICAgICAgICAgICBkcm9wRWZmZWN0ID0gXCJjb3B5XCI7XG5cbiAgICAgICAgcmV0dXJuIGRyb3BFZmZlY3Q7XG4gICAgfVxufVxuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICB0aGlzLmRyYWdXYWl0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBpbnRlcnZhbCA9IERhdGUubm93KCkgLSB0aGlzLm1vdXNlZG93bkV2ZW50LnRpbWU7XG4gICAgICAgIGlmIChpbnRlcnZhbCA+IHRoaXMuZWRpdG9yLmdldERyYWdEZWxheSgpKVxuICAgICAgICAgICAgdGhpcy5zdGFydERyYWcoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5kcmFnV2FpdEVuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdGFyZ2V0ID0gdGhpcy5lZGl0b3IuY29udGFpbmVyO1xuICAgICAgICB0YXJnZXQuZHJhZ2dhYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc3RhcnRTZWxlY3QodGhpcy5tb3VzZWRvd25FdmVudC5nZXREb2N1bWVudFBvc2l0aW9uKCkpO1xuICAgICAgICB0aGlzLnNlbGVjdEVuZCgpO1xuICAgIH07XG5cbiAgICB0aGlzLmRyYWdSZWFkeUVuZCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdGhpcy5lZGl0b3IuJHJlc2V0Q3Vyc29yU3R5bGUoKTtcbiAgICAgICAgdGhpcy5lZGl0b3IudW5zZXRTdHlsZShcImFjZV9kcmFnZ2luZ1wiKTtcbiAgICAgICAgdGhpcy5lZGl0b3IucmVuZGVyZXIuc2V0Q3Vyc29yU3R5bGUoXCJcIik7XG4gICAgICAgIHRoaXMuZHJhZ1dhaXRFbmQoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5zdGFydERyYWcgPSBmdW5jdGlvbigpe1xuICAgICAgICB0aGlzLmNhbmNlbERyYWcgPSBmYWxzZTtcbiAgICAgICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuICAgICAgICB2YXIgdGFyZ2V0ID0gZWRpdG9yLmNvbnRhaW5lcjtcbiAgICAgICAgdGFyZ2V0LmRyYWdnYWJsZSA9IHRydWU7XG4gICAgICAgIGVkaXRvci5yZW5kZXJlci4kY3Vyc29yTGF5ZXIuc2V0QmxpbmtpbmcoZmFsc2UpO1xuICAgICAgICBlZGl0b3Iuc2V0U3R5bGUoXCJhY2VfZHJhZ2dpbmdcIik7XG4gICAgICAgIHZhciBjdXJzb3JTdHlsZSA9IHVzZXJhZ2VudC5pc1dpbiA/IFwiZGVmYXVsdFwiIDogXCJtb3ZlXCI7XG4gICAgICAgIGVkaXRvci5yZW5kZXJlci5zZXRDdXJzb3JTdHlsZShjdXJzb3JTdHlsZSk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoXCJkcmFnUmVhZHlcIik7XG4gICAgfTtcblxuICAgIHRoaXMub25Nb3VzZURyYWcgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciB0YXJnZXQgPSB0aGlzLmVkaXRvci5jb250YWluZXI7XG4gICAgICAgIGlmICh1c2VyYWdlbnQuaXNJRSAmJiB0aGlzLnN0YXRlID09IFwiZHJhZ1JlYWR5XCIpIHtcbiAgICAgICAgICAgIHZhciBkaXN0YW5jZSA9IGNhbGNEaXN0YW5jZSh0aGlzLm1vdXNlZG93bkV2ZW50LngsIHRoaXMubW91c2Vkb3duRXZlbnQueSwgdGhpcy54LCB0aGlzLnkpO1xuICAgICAgICAgICAgaWYgKGRpc3RhbmNlID4gMylcbiAgICAgICAgICAgICAgICB0YXJnZXQuZHJhZ0Ryb3AoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gXCJkcmFnV2FpdFwiKSB7XG4gICAgICAgICAgICB2YXIgZGlzdGFuY2UgPSBjYWxjRGlzdGFuY2UodGhpcy5tb3VzZWRvd25FdmVudC54LCB0aGlzLm1vdXNlZG93bkV2ZW50LnksIHRoaXMueCwgdGhpcy55KTtcbiAgICAgICAgICAgIGlmIChkaXN0YW5jZSA+IDApIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQuZHJhZ2dhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydFNlbGVjdCh0aGlzLm1vdXNlZG93bkV2ZW50LmdldERvY3VtZW50UG9zaXRpb24oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5vbk1vdXNlRG93biA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLiRkcmFnRW5hYmxlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5tb3VzZWRvd25FdmVudCA9IGU7XG4gICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLmVkaXRvcjtcblxuICAgICAgICB2YXIgaW5TZWxlY3Rpb24gPSBlLmluU2VsZWN0aW9uKCk7XG4gICAgICAgIHZhciBidXR0b24gPSBlLmdldEJ1dHRvbigpO1xuICAgICAgICB2YXIgY2xpY2tDb3VudCA9IGUuZG9tRXZlbnQuZGV0YWlsIHx8IDE7XG4gICAgICAgIGlmIChjbGlja0NvdW50ID09PSAxICYmIGJ1dHRvbiA9PT0gMCAmJiBpblNlbGVjdGlvbikge1xuICAgICAgICAgICAgaWYgKGUuZWRpdG9yLmluTXVsdGlTZWxlY3RNb2RlICYmIChlLmdldEFjY2VsS2V5KCkgfHwgZS5nZXRTaGlmdEtleSgpKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB0aGlzLm1vdXNlZG93bkV2ZW50LnRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgdmFyIGV2ZW50VGFyZ2V0ID0gZS5kb21FdmVudC50YXJnZXQgfHwgZS5kb21FdmVudC5zcmNFbGVtZW50O1xuICAgICAgICAgICAgaWYgKFwidW5zZWxlY3RhYmxlXCIgaW4gZXZlbnRUYXJnZXQpXG4gICAgICAgICAgICAgICAgZXZlbnRUYXJnZXQudW5zZWxlY3RhYmxlID0gXCJvblwiO1xuICAgICAgICAgICAgaWYgKGVkaXRvci5nZXREcmFnRGVsYXkoKSkge1xuICAgICAgICAgICAgICAgIGlmICh1c2VyYWdlbnQuaXNXZWJLaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW5jZWxEcmFnID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vdXNlVGFyZ2V0ID0gZWRpdG9yLmNvbnRhaW5lcjtcbiAgICAgICAgICAgICAgICAgICAgbW91c2VUYXJnZXQuZHJhZ2dhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShcImRyYWdXYWl0XCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0RHJhZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jYXB0dXJlTW91c2UoZSwgdGhpcy5vbk1vdXNlRHJhZy5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIGUuZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuXG59KS5jYWxsKERyYWdkcm9wSGFuZGxlci5wcm90b3R5cGUpO1xuXG5cbmZ1bmN0aW9uIGNhbGNEaXN0YW5jZShheCwgYXksIGJ4LCBieSkge1xuICAgIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3coYnggLSBheCwgMikgKyBNYXRoLnBvdyhieSAtIGF5LCAyKSk7XG59XG5cbmV4cG9ydHMuRHJhZ2Ryb3BIYW5kbGVyID0gRHJhZ2Ryb3BIYW5kbGVyO1xuXG59KTtcblxuYWNlLmRlZmluZShcImFjZS9tb3VzZS90b3VjaF9oYW5kbGVyXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbW91c2UvbW91c2VfZXZlbnRcIixcImFjZS9saWIvZXZlbnRcIixcImFjZS9saWIvZG9tXCJdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgTW91c2VFdmVudCA9IHJlcXVpcmUoXCIuL21vdXNlX2V2ZW50XCIpLk1vdXNlRXZlbnQ7XG52YXIgZXZlbnQgPSByZXF1aXJlKFwiLi4vbGliL2V2ZW50XCIpO1xudmFyIGRvbSA9IHJlcXVpcmUoXCIuLi9saWIvZG9tXCIpO1xuXG5leHBvcnRzLmFkZFRvdWNoTGlzdGVuZXJzID0gZnVuY3Rpb24oZWwsIGVkaXRvcikge1xuICAgIHZhciBtb2RlID0gXCJzY3JvbGxcIjtcbiAgICB2YXIgc3RhcnRYO1xuICAgIHZhciBzdGFydFk7XG4gICAgdmFyIHRvdWNoU3RhcnRUO1xuICAgIHZhciBsYXN0VDtcbiAgICB2YXIgbG9uZ1RvdWNoVGltZXI7XG4gICAgdmFyIGFuaW1hdGlvblRpbWVyO1xuICAgIHZhciBhbmltYXRpb25TdGVwcyA9IDA7XG4gICAgdmFyIHBvcztcbiAgICB2YXIgY2xpY2tDb3VudCA9IDA7XG4gICAgdmFyIHZYID0gMDtcbiAgICB2YXIgdlkgPSAwO1xuICAgIHZhciBwcmVzc2VkO1xuICAgIHZhciBjb250ZXh0TWVudTtcbiAgICBcbiAgICBmdW5jdGlvbiBjcmVhdGVDb250ZXh0TWVudSgpIHtcbiAgICAgICAgdmFyIGNsaXBib2FyZCA9IHdpbmRvdy5uYXZpZ2F0b3IgJiYgd2luZG93Lm5hdmlnYXRvci5jbGlwYm9hcmQ7XG4gICAgICAgIHZhciBpc09wZW4gPSBmYWxzZTtcbiAgICAgICAgdmFyIHVwZGF0ZU1lbnUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZCA9IGVkaXRvci5nZXRDb3B5VGV4dCgpO1xuICAgICAgICAgICAgdmFyIGhhc1VuZG8gPSBlZGl0b3Iuc2Vzc2lvbi5nZXRVbmRvTWFuYWdlcigpLmhhc1VuZG8oKTtcbiAgICAgICAgICAgIGNvbnRleHRNZW51LnJlcGxhY2VDaGlsZChcbiAgICAgICAgICAgICAgICBkb20uYnVpbGREb20oaXNPcGVuID8gW1wic3BhblwiLFxuICAgICAgICAgICAgICAgICAgICAhc2VsZWN0ZWQgJiYgW1wic3BhblwiLCB7IGNsYXNzOiBcImFjZV9tb2JpbGUtYnV0dG9uXCIsIGFjdGlvbjogXCJzZWxlY3RhbGxcIiB9LCBcIlNlbGVjdCBBbGxcIl0sXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkICYmIFtcInNwYW5cIiwgeyBjbGFzczogXCJhY2VfbW9iaWxlLWJ1dHRvblwiLCBhY3Rpb246IFwiY29weVwiIH0sIFwiQ29weVwiXSxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQgJiYgW1wic3BhblwiLCB7IGNsYXNzOiBcImFjZV9tb2JpbGUtYnV0dG9uXCIsIGFjdGlvbjogXCJjdXRcIiB9LCBcIkN1dFwiXSxcbiAgICAgICAgICAgICAgICAgICAgY2xpcGJvYXJkICYmIFtcInNwYW5cIiwgeyBjbGFzczogXCJhY2VfbW9iaWxlLWJ1dHRvblwiLCBhY3Rpb246IFwicGFzdGVcIiB9LCBcIlBhc3RlXCJdLFxuICAgICAgICAgICAgICAgICAgICBoYXNVbmRvICYmIFtcInNwYW5cIiwgeyBjbGFzczogXCJhY2VfbW9iaWxlLWJ1dHRvblwiLCBhY3Rpb246IFwidW5kb1wiIH0sIFwiVW5kb1wiXSxcbiAgICAgICAgICAgICAgICAgICAgW1wic3BhblwiLCB7IGNsYXNzOiBcImFjZV9tb2JpbGUtYnV0dG9uXCIsIGFjdGlvbjogXCJmaW5kXCIgfSwgXCJGaW5kXCJdLFxuICAgICAgICAgICAgICAgICAgICBbXCJzcGFuXCIsIHsgY2xhc3M6IFwiYWNlX21vYmlsZS1idXR0b25cIiwgYWN0aW9uOiBcIm9wZW5Db21tYW5kUGFsbGV0ZVwiIH0sIFwiUGFsbGV0ZVwiXVxuICAgICAgICAgICAgICAgIF0gOiBbXCJzcGFuXCJdKSxcbiAgICAgICAgICAgICAgICBjb250ZXh0TWVudS5maXJzdENoaWxkXG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgaGFuZGxlQ2xpY2sgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICB2YXIgYWN0aW9uID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKFwiYWN0aW9uXCIpO1xuXG4gICAgICAgICAgICBpZiAoYWN0aW9uID09IFwibW9yZVwiIHx8ICFpc09wZW4pIHtcbiAgICAgICAgICAgICAgICBpc09wZW4gPSAhaXNPcGVuO1xuICAgICAgICAgICAgICAgIHJldHVybiB1cGRhdGVNZW51KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYWN0aW9uID09IFwicGFzdGVcIikge1xuICAgICAgICAgICAgICAgIGNsaXBib2FyZC5yZWFkVGV4dCgpLnRoZW4oZnVuY3Rpb24gKHRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmV4ZWNDb21tYW5kKGFjdGlvbiwgdGV4dCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBpZiAoYWN0aW9uID09IFwiY3V0XCIgfHwgYWN0aW9uID09IFwiY29weVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjbGlwYm9hcmQpXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGlwYm9hcmQud3JpdGVUZXh0KGVkaXRvci5nZXRDb3B5VGV4dCgpKTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoXCJjb3B5XCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoYWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRleHRNZW51LmZpcnN0Q2hpbGQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgaXNPcGVuID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoYWN0aW9uICE9IFwib3BlbkNvbW1hbmRQYWxsZXRlXCIpXG4gICAgICAgICAgICAgICAgZWRpdG9yLmZvY3VzKCk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnRleHRNZW51ID0gZG9tLmJ1aWxkRG9tKFtcImRpdlwiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNsYXNzOiBcImFjZV9tb2JpbGUtbWVudVwiLFxuICAgICAgICAgICAgICAgIG9udG91Y2hzdGFydDogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICBtb2RlID0gXCJtZW51XCI7XG4gICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLnRleHRJbnB1dC5mb2N1cygpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb250b3VjaGVuZDogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZUNsaWNrKGUpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25jbGljazogaGFuZGxlQ2xpY2tcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBbXCJzcGFuXCJdLFxuICAgICAgICAgICAgW1wic3BhblwiLCB7IGNsYXNzOiBcImFjZV9tb2JpbGUtYnV0dG9uXCIsIGFjdGlvbjogXCJtb3JlXCIgfSwgXCIuLi5cIl1cbiAgICAgICAgXSwgZWRpdG9yLmNvbnRhaW5lcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNob3dDb250ZXh0TWVudSgpIHtcbiAgICAgICAgaWYgKCFjb250ZXh0TWVudSkgY3JlYXRlQ29udGV4dE1lbnUoKTtcbiAgICAgICAgdmFyIGN1cnNvciA9IGVkaXRvci5zZWxlY3Rpb24uY3Vyc29yO1xuICAgICAgICB2YXIgcGFnZVBvcyA9IGVkaXRvci5yZW5kZXJlci50ZXh0VG9TY3JlZW5Db29yZGluYXRlcyhjdXJzb3Iucm93LCBjdXJzb3IuY29sdW1uKTtcbiAgICAgICAgdmFyIGxlZnRPZmZzZXQgPSBlZGl0b3IucmVuZGVyZXIudGV4dFRvU2NyZWVuQ29vcmRpbmF0ZXMoMCwgMCkucGFnZVg7XG4gICAgICAgIHZhciBzY3JvbGxMZWZ0ID0gZWRpdG9yLnJlbmRlcmVyLnNjcm9sbExlZnQ7XG4gICAgICAgIHZhciByZWN0ID0gZWRpdG9yLmNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29udGV4dE1lbnUuc3R5bGUudG9wID0gcGFnZVBvcy5wYWdlWSAtIHJlY3QudG9wIC0gMyArIFwicHhcIjtcbiAgICAgICAgaWYgKHBhZ2VQb3MucGFnZVggLSByZWN0LmxlZnQgPCByZWN0LndpZHRoIC0gNzApIHtcbiAgICAgICAgICAgIGNvbnRleHRNZW51LnN0eWxlLmxlZnQgPSBcIlwiO1xuICAgICAgICAgICAgY29udGV4dE1lbnUuc3R5bGUucmlnaHQgPSBcIjEwcHhcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRleHRNZW51LnN0eWxlLnJpZ2h0ID0gXCJcIjtcbiAgICAgICAgICAgIGNvbnRleHRNZW51LnN0eWxlLmxlZnQgPSBsZWZ0T2Zmc2V0ICsgc2Nyb2xsTGVmdCAtIHJlY3QubGVmdCArIFwicHhcIjtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0TWVudS5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcbiAgICAgICAgY29udGV4dE1lbnUuZmlyc3RDaGlsZC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIGVkaXRvci5vbihcImlucHV0XCIsIGhpZGVDb250ZXh0TWVudSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhpZGVDb250ZXh0TWVudShlKSB7XG4gICAgICAgIGlmIChjb250ZXh0TWVudSlcbiAgICAgICAgICAgIGNvbnRleHRNZW51LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgZWRpdG9yLm9mZihcImlucHV0XCIsIGhpZGVDb250ZXh0TWVudSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlTG9uZ1RhcCgpIHtcbiAgICAgICAgbG9uZ1RvdWNoVGltZXIgPSBudWxsO1xuICAgICAgICBjbGVhclRpbWVvdXQobG9uZ1RvdWNoVGltZXIpO1xuICAgICAgICB2YXIgcmFuZ2UgPSBlZGl0b3Iuc2VsZWN0aW9uLmdldFJhbmdlKCk7XG4gICAgICAgIHZhciBpblNlbGVjdGlvbiA9IHJhbmdlLmNvbnRhaW5zKHBvcy5yb3csIHBvcy5jb2x1bW4pO1xuICAgICAgICBpZiAocmFuZ2UuaXNFbXB0eSgpIHx8ICFpblNlbGVjdGlvbikge1xuICAgICAgICAgICAgZWRpdG9yLnNlbGVjdGlvbi5tb3ZlVG9Qb3NpdGlvbihwb3MpO1xuICAgICAgICAgICAgZWRpdG9yLnNlbGVjdGlvbi5zZWxlY3RXb3JkKCk7XG4gICAgICAgIH1cbiAgICAgICAgbW9kZSA9IFwid2FpdFwiO1xuICAgICAgICBzaG93Q29udGV4dE1lbnUoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc3dpdGNoVG9TZWxlY3Rpb25Nb2RlKCkge1xuICAgICAgICBsb25nVG91Y2hUaW1lciA9IG51bGw7XG4gICAgICAgIGNsZWFyVGltZW91dChsb25nVG91Y2hUaW1lcik7XG4gICAgICAgIGVkaXRvci5zZWxlY3Rpb24ubW92ZVRvUG9zaXRpb24ocG9zKTtcbiAgICAgICAgdmFyIHJhbmdlID0gY2xpY2tDb3VudCA+PSAyXG4gICAgICAgICAgICA/IGVkaXRvci5zZWxlY3Rpb24uZ2V0TGluZVJhbmdlKHBvcy5yb3cpXG4gICAgICAgICAgICA6IGVkaXRvci5zZXNzaW9uLmdldEJyYWNrZXRSYW5nZShwb3MpO1xuICAgICAgICBpZiAocmFuZ2UgJiYgIXJhbmdlLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgZWRpdG9yLnNlbGVjdGlvbi5zZXRSYW5nZShyYW5nZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlZGl0b3Iuc2VsZWN0aW9uLnNlbGVjdFdvcmQoKTtcbiAgICAgICAgfVxuICAgICAgICBtb2RlID0gXCJ3YWl0XCI7XG4gICAgfVxuICAgIGV2ZW50LmFkZExpc3RlbmVyKGVsLCBcImNvbnRleHRtZW51XCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKCFwcmVzc2VkKSByZXR1cm47XG4gICAgICAgIHZhciB0ZXh0YXJlYSA9IGVkaXRvci50ZXh0SW5wdXQuZ2V0RWxlbWVudCgpO1xuICAgICAgICB0ZXh0YXJlYS5mb2N1cygpO1xuICAgIH0sIGVkaXRvcik7XG4gICAgZXZlbnQuYWRkTGlzdGVuZXIoZWwsIFwidG91Y2hzdGFydFwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgdG91Y2hlcyA9IGUudG91Y2hlcztcbiAgICAgICAgaWYgKGxvbmdUb3VjaFRpbWVyIHx8IHRvdWNoZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGxvbmdUb3VjaFRpbWVyKTtcbiAgICAgICAgICAgIGxvbmdUb3VjaFRpbWVyID0gbnVsbDtcbiAgICAgICAgICAgIHRvdWNoU3RhcnRUID0gLTE7XG4gICAgICAgICAgICBtb2RlID0gXCJ6b29tXCI7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHByZXNzZWQgPSBlZGl0b3IuJG1vdXNlSGFuZGxlci5pc01vdXNlUHJlc3NlZCA9IHRydWU7XG4gICAgICAgIHZhciBoID0gZWRpdG9yLnJlbmRlcmVyLmxheWVyQ29uZmlnLmxpbmVIZWlnaHQ7XG4gICAgICAgIHZhciB3ID0gZWRpdG9yLnJlbmRlcmVyLmxheWVyQ29uZmlnLmxpbmVIZWlnaHQ7XG4gICAgICAgIHZhciB0ID0gZS50aW1lU3RhbXA7XG4gICAgICAgIGxhc3RUID0gdDtcbiAgICAgICAgdmFyIHRvdWNoT2JqID0gdG91Y2hlc1swXTtcbiAgICAgICAgdmFyIHggPSB0b3VjaE9iai5jbGllbnRYO1xuICAgICAgICB2YXIgeSA9IHRvdWNoT2JqLmNsaWVudFk7XG4gICAgICAgIGlmIChNYXRoLmFicyhzdGFydFggLSB4KSArIE1hdGguYWJzKHN0YXJ0WSAtIHkpID4gaClcbiAgICAgICAgICAgIHRvdWNoU3RhcnRUID0gLTE7XG4gICAgICAgIFxuICAgICAgICBzdGFydFggPSBlLmNsaWVudFggPSB4O1xuICAgICAgICBzdGFydFkgPSBlLmNsaWVudFkgPSB5O1xuICAgICAgICB2WCA9IHZZID0gMDtcbiAgICAgICAgXG4gICAgICAgIHZhciBldiA9IG5ldyBNb3VzZUV2ZW50KGUsIGVkaXRvcik7XG4gICAgICAgIHBvcyA9IGV2LmdldERvY3VtZW50UG9zaXRpb24oKTtcblxuICAgICAgICBpZiAodCAtIHRvdWNoU3RhcnRUIDwgNTAwICYmIHRvdWNoZXMubGVuZ3RoID09IDEgJiYgIWFuaW1hdGlvblN0ZXBzKSB7XG4gICAgICAgICAgICBjbGlja0NvdW50Kys7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBlLmJ1dHRvbiA9IDA7XG4gICAgICAgICAgICBzd2l0Y2hUb1NlbGVjdGlvbk1vZGUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNsaWNrQ291bnQgPSAwO1xuICAgICAgICAgICAgdmFyIGN1cnNvciA9IGVkaXRvci5zZWxlY3Rpb24uY3Vyc29yO1xuICAgICAgICAgICAgdmFyIGFuY2hvciA9IGVkaXRvci5zZWxlY3Rpb24uaXNFbXB0eSgpID8gY3Vyc29yIDogZWRpdG9yLnNlbGVjdGlvbi5hbmNob3I7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHZhciBjdXJzb3JQb3MgPSBlZGl0b3IucmVuZGVyZXIuJGN1cnNvckxheWVyLmdldFBpeGVsUG9zaXRpb24oY3Vyc29yLCB0cnVlKTtcbiAgICAgICAgICAgIHZhciBhbmNob3JQb3MgPSBlZGl0b3IucmVuZGVyZXIuJGN1cnNvckxheWVyLmdldFBpeGVsUG9zaXRpb24oYW5jaG9yLCB0cnVlKTtcbiAgICAgICAgICAgIHZhciByZWN0ID0gZWRpdG9yLnJlbmRlcmVyLnNjcm9sbGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgdmFyIG9mZnNldFRvcCA9IGVkaXRvci5yZW5kZXJlci5sYXllckNvbmZpZy5vZmZzZXQ7XG4gICAgICAgICAgICB2YXIgb2Zmc2V0TGVmdCA9IGVkaXRvci5yZW5kZXJlci5zY3JvbGxMZWZ0O1xuICAgICAgICAgICAgdmFyIHdlaWdodGVkRGlzdGFuY2UgPSBmdW5jdGlvbih4LCB5KSB7XG4gICAgICAgICAgICAgICAgeCA9IHggLyB3O1xuICAgICAgICAgICAgICAgIHkgPSB5IC8gaCAtIDAuNzU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHggKiB4ICsgeSAqIHk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoZS5jbGllbnRYIDwgcmVjdC5sZWZ0KSB7XG4gICAgICAgICAgICAgICAgbW9kZSA9IFwiem9vbVwiO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIGRpZmYxID0gd2VpZ2h0ZWREaXN0YW5jZShcbiAgICAgICAgICAgICAgICBlLmNsaWVudFggLSByZWN0LmxlZnQgLSBjdXJzb3JQb3MubGVmdCArIG9mZnNldExlZnQsXG4gICAgICAgICAgICAgICAgZS5jbGllbnRZIC0gcmVjdC50b3AgLSBjdXJzb3JQb3MudG9wICsgb2Zmc2V0VG9wXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdmFyIGRpZmYyID0gd2VpZ2h0ZWREaXN0YW5jZShcbiAgICAgICAgICAgICAgICBlLmNsaWVudFggLSByZWN0LmxlZnQgLSBhbmNob3JQb3MubGVmdCArIG9mZnNldExlZnQsXG4gICAgICAgICAgICAgICAgZS5jbGllbnRZIC0gcmVjdC50b3AgLSBhbmNob3JQb3MudG9wICsgb2Zmc2V0VG9wXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKGRpZmYxIDwgMy41ICYmIGRpZmYyIDwgMy41KVxuICAgICAgICAgICAgICAgIG1vZGUgPSBkaWZmMSA+IGRpZmYyID8gXCJjdXJzb3JcIiA6IFwiYW5jaG9yXCI7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoZGlmZjIgPCAzLjUpXG4gICAgICAgICAgICAgICAgbW9kZSA9IFwiYW5jaG9yXCI7XG4gICAgICAgICAgICBlbHNlIGlmIChkaWZmMSA8IDMuNSlcbiAgICAgICAgICAgICAgICBtb2RlID0gXCJjdXJzb3JcIjtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBtb2RlID0gXCJzY3JvbGxcIjtcbiAgICAgICAgICAgIGxvbmdUb3VjaFRpbWVyID0gc2V0VGltZW91dChoYW5kbGVMb25nVGFwLCA0NTApO1xuICAgICAgICB9XG4gICAgICAgIHRvdWNoU3RhcnRUID0gdDtcbiAgICB9LCBlZGl0b3IpO1xuXG4gICAgZXZlbnQuYWRkTGlzdGVuZXIoZWwsIFwidG91Y2hlbmRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgcHJlc3NlZCA9IGVkaXRvci4kbW91c2VIYW5kbGVyLmlzTW91c2VQcmVzc2VkID0gZmFsc2U7XG4gICAgICAgIGlmIChhbmltYXRpb25UaW1lcikgY2xlYXJJbnRlcnZhbChhbmltYXRpb25UaW1lcik7XG4gICAgICAgIGlmIChtb2RlID09IFwiem9vbVwiKSB7XG4gICAgICAgICAgICBtb2RlID0gXCJcIjtcbiAgICAgICAgICAgIGFuaW1hdGlvblN0ZXBzID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChsb25nVG91Y2hUaW1lcikge1xuICAgICAgICAgICAgZWRpdG9yLnNlbGVjdGlvbi5tb3ZlVG9Qb3NpdGlvbihwb3MpO1xuICAgICAgICAgICAgYW5pbWF0aW9uU3RlcHMgPSAwO1xuICAgICAgICAgICAgc2hvd0NvbnRleHRNZW51KCk7XG4gICAgICAgIH0gZWxzZSBpZiAobW9kZSA9PSBcInNjcm9sbFwiKSB7XG4gICAgICAgICAgICBhbmltYXRlKCk7XG4gICAgICAgICAgICBoaWRlQ29udGV4dE1lbnUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNob3dDb250ZXh0TWVudSgpO1xuICAgICAgICB9XG4gICAgICAgIGNsZWFyVGltZW91dChsb25nVG91Y2hUaW1lcik7XG4gICAgICAgIGxvbmdUb3VjaFRpbWVyID0gbnVsbDtcbiAgICB9LCBlZGl0b3IpO1xuICAgIGV2ZW50LmFkZExpc3RlbmVyKGVsLCBcInRvdWNobW92ZVwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAobG9uZ1RvdWNoVGltZXIpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChsb25nVG91Y2hUaW1lcik7XG4gICAgICAgICAgICBsb25nVG91Y2hUaW1lciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRvdWNoZXMgPSBlLnRvdWNoZXM7XG4gICAgICAgIGlmICh0b3VjaGVzLmxlbmd0aCA+IDEgfHwgbW9kZSA9PSBcInpvb21cIikgcmV0dXJuO1xuXG4gICAgICAgIHZhciB0b3VjaE9iaiA9IHRvdWNoZXNbMF07XG5cbiAgICAgICAgdmFyIHdoZWVsWCA9IHN0YXJ0WCAtIHRvdWNoT2JqLmNsaWVudFg7XG4gICAgICAgIHZhciB3aGVlbFkgPSBzdGFydFkgLSB0b3VjaE9iai5jbGllbnRZO1xuXG4gICAgICAgIGlmIChtb2RlID09IFwid2FpdFwiKSB7XG4gICAgICAgICAgICBpZiAod2hlZWxYICogd2hlZWxYICsgd2hlZWxZICogd2hlZWxZID4gNClcbiAgICAgICAgICAgICAgICBtb2RlID0gXCJjdXJzb3JcIjtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICByZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhcnRYID0gdG91Y2hPYmouY2xpZW50WDtcbiAgICAgICAgc3RhcnRZID0gdG91Y2hPYmouY2xpZW50WTtcblxuICAgICAgICBlLmNsaWVudFggPSB0b3VjaE9iai5jbGllbnRYO1xuICAgICAgICBlLmNsaWVudFkgPSB0b3VjaE9iai5jbGllbnRZO1xuXG4gICAgICAgIHZhciB0ID0gZS50aW1lU3RhbXA7XG4gICAgICAgIHZhciBkdCA9IHQgLSBsYXN0VDtcbiAgICAgICAgbGFzdFQgPSB0O1xuICAgICAgICBpZiAobW9kZSA9PSBcInNjcm9sbFwiKSB7XG4gICAgICAgICAgICB2YXIgbW91c2VFdmVudCA9IG5ldyBNb3VzZUV2ZW50KGUsIGVkaXRvcik7XG4gICAgICAgICAgICBtb3VzZUV2ZW50LnNwZWVkID0gMTtcbiAgICAgICAgICAgIG1vdXNlRXZlbnQud2hlZWxYID0gd2hlZWxYO1xuICAgICAgICAgICAgbW91c2VFdmVudC53aGVlbFkgPSB3aGVlbFk7XG4gICAgICAgICAgICBpZiAoMTAgKiBNYXRoLmFicyh3aGVlbFgpIDwgTWF0aC5hYnMod2hlZWxZKSkgd2hlZWxYID0gMDtcbiAgICAgICAgICAgIGlmICgxMCAqIE1hdGguYWJzKHdoZWVsWSkgPCBNYXRoLmFicyh3aGVlbFgpKSB3aGVlbFkgPSAwO1xuICAgICAgICAgICAgaWYgKGR0ICE9IDApIHtcbiAgICAgICAgICAgICAgICB2WCA9IHdoZWVsWCAvIGR0O1xuICAgICAgICAgICAgICAgIHZZID0gd2hlZWxZIC8gZHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlZGl0b3IuX2VtaXQoXCJtb3VzZXdoZWVsXCIsIG1vdXNlRXZlbnQpO1xuICAgICAgICAgICAgaWYgKCFtb3VzZUV2ZW50LnByb3BhZ2F0aW9uU3RvcHBlZCkge1xuICAgICAgICAgICAgICAgIHZYID0gdlkgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGV2ID0gbmV3IE1vdXNlRXZlbnQoZSwgZWRpdG9yKTtcbiAgICAgICAgICAgIHZhciBwb3MgPSBldi5nZXREb2N1bWVudFBvc2l0aW9uKCk7XG4gICAgICAgICAgICBpZiAobW9kZSA9PSBcImN1cnNvclwiKVxuICAgICAgICAgICAgICAgIGVkaXRvci5zZWxlY3Rpb24ubW92ZUN1cnNvclRvUG9zaXRpb24ocG9zKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKG1vZGUgPT0gXCJhbmNob3JcIilcbiAgICAgICAgICAgICAgICBlZGl0b3Iuc2VsZWN0aW9uLnNldFNlbGVjdGlvbkFuY2hvcihwb3Mucm93LCBwb3MuY29sdW1uKTtcbiAgICAgICAgICAgIGVkaXRvci5yZW5kZXJlci5zY3JvbGxDdXJzb3JJbnRvVmlldyhwb3MpO1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgfSwgZWRpdG9yKTtcblxuICAgIGZ1bmN0aW9uIGFuaW1hdGUoKSB7XG4gICAgICAgIGFuaW1hdGlvblN0ZXBzICs9IDYwO1xuICAgICAgICBhbmltYXRpb25UaW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKGFuaW1hdGlvblN0ZXBzLS0gPD0gMCkge1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoYW5pbWF0aW9uVGltZXIpO1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvblRpbWVyID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChNYXRoLmFicyh2WCkgPCAwLjAxKSB2WCA9IDA7XG4gICAgICAgICAgICBpZiAoTWF0aC5hYnModlkpIDwgMC4wMSkgdlkgPSAwO1xuICAgICAgICAgICAgaWYgKGFuaW1hdGlvblN0ZXBzIDwgMjApIHZYID0gMC45ICogdlg7XG4gICAgICAgICAgICBpZiAoYW5pbWF0aW9uU3RlcHMgPCAyMCkgdlkgPSAwLjkgKiB2WTtcbiAgICAgICAgICAgIHZhciBvbGRTY3JvbGxUb3AgPSBlZGl0b3Iuc2Vzc2lvbi5nZXRTY3JvbGxUb3AoKTtcbiAgICAgICAgICAgIGVkaXRvci5yZW5kZXJlci5zY3JvbGxCeSgxMCAqIHZYLCAxMCAqIHZZKTtcbiAgICAgICAgICAgIGlmIChvbGRTY3JvbGxUb3AgPT0gZWRpdG9yLnNlc3Npb24uZ2V0U2Nyb2xsVG9wKCkpXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uU3RlcHMgPSAwO1xuICAgICAgICB9LCAxMCk7XG4gICAgfVxufTtcblxufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvbW91c2UvbW91c2VfaGFuZGxlclwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9ldmVudFwiLFwiYWNlL2xpYi91c2VyYWdlbnRcIixcImFjZS9tb3VzZS9kZWZhdWx0X2hhbmRsZXJzXCIsXCJhY2UvbW91c2UvZGVmYXVsdF9ndXR0ZXJfaGFuZGxlclwiLFwiYWNlL21vdXNlL21vdXNlX2V2ZW50XCIsXCJhY2UvbW91c2UvZHJhZ2Ryb3BfaGFuZGxlclwiLFwiYWNlL21vdXNlL3RvdWNoX2hhbmRsZXJcIixcImFjZS9jb25maWdcIl0sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBldmVudCA9IHJlcXVpcmUoXCIuLi9saWIvZXZlbnRcIik7XG52YXIgdXNlcmFnZW50ID0gcmVxdWlyZShcIi4uL2xpYi91c2VyYWdlbnRcIik7XG52YXIgRGVmYXVsdEhhbmRsZXJzID0gcmVxdWlyZShcIi4vZGVmYXVsdF9oYW5kbGVyc1wiKS5EZWZhdWx0SGFuZGxlcnM7XG52YXIgRGVmYXVsdEd1dHRlckhhbmRsZXIgPSByZXF1aXJlKFwiLi9kZWZhdWx0X2d1dHRlcl9oYW5kbGVyXCIpLkd1dHRlckhhbmRsZXI7XG52YXIgTW91c2VFdmVudCA9IHJlcXVpcmUoXCIuL21vdXNlX2V2ZW50XCIpLk1vdXNlRXZlbnQ7XG52YXIgRHJhZ2Ryb3BIYW5kbGVyID0gcmVxdWlyZShcIi4vZHJhZ2Ryb3BfaGFuZGxlclwiKS5EcmFnZHJvcEhhbmRsZXI7XG52YXIgYWRkVG91Y2hMaXN0ZW5lcnMgPSByZXF1aXJlKFwiLi90b3VjaF9oYW5kbGVyXCIpLmFkZFRvdWNoTGlzdGVuZXJzO1xudmFyIGNvbmZpZyA9IHJlcXVpcmUoXCIuLi9jb25maWdcIik7XG5cbnZhciBNb3VzZUhhbmRsZXIgPSBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICB2YXIgX3NlbGYgPSB0aGlzO1xuICAgIHRoaXMuZWRpdG9yID0gZWRpdG9yO1xuXG4gICAgbmV3IERlZmF1bHRIYW5kbGVycyh0aGlzKTtcbiAgICBuZXcgRGVmYXVsdEd1dHRlckhhbmRsZXIodGhpcyk7XG4gICAgbmV3IERyYWdkcm9wSGFuZGxlcih0aGlzKTtcblxuICAgIHZhciBmb2N1c0VkaXRvciA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIHdpbmRvd0JsdXJyZWQgPSAhZG9jdW1lbnQuaGFzRm9jdXMgfHwgIWRvY3VtZW50Lmhhc0ZvY3VzKClcbiAgICAgICAgICAgIHx8ICFlZGl0b3IuaXNGb2N1c2VkKCkgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PSAoZWRpdG9yLnRleHRJbnB1dCAmJiBlZGl0b3IudGV4dElucHV0LmdldEVsZW1lbnQoKSk7XG4gICAgICAgIGlmICh3aW5kb3dCbHVycmVkKVxuICAgICAgICAgICAgd2luZG93LmZvY3VzKCk7XG4gICAgICAgIGVkaXRvci5mb2N1cygpO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghZWRpdG9yLmlzRm9jdXNlZCgpKSBlZGl0b3IuZm9jdXMoKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBtb3VzZVRhcmdldCA9IGVkaXRvci5yZW5kZXJlci5nZXRNb3VzZUV2ZW50VGFyZ2V0KCk7XG4gICAgZXZlbnQuYWRkTGlzdGVuZXIobW91c2VUYXJnZXQsIFwiY2xpY2tcIiwgdGhpcy5vbk1vdXNlRXZlbnQuYmluZCh0aGlzLCBcImNsaWNrXCIpLCBlZGl0b3IpO1xuICAgIGV2ZW50LmFkZExpc3RlbmVyKG1vdXNlVGFyZ2V0LCBcIm1vdXNlbW92ZVwiLCB0aGlzLm9uTW91c2VNb3ZlLmJpbmQodGhpcywgXCJtb3VzZW1vdmVcIiksIGVkaXRvcik7XG4gICAgZXZlbnQuYWRkTXVsdGlNb3VzZURvd25MaXN0ZW5lcihbXG4gICAgICAgIG1vdXNlVGFyZ2V0LFxuICAgICAgICBlZGl0b3IucmVuZGVyZXIuc2Nyb2xsQmFyViAmJiBlZGl0b3IucmVuZGVyZXIuc2Nyb2xsQmFyVi5pbm5lcixcbiAgICAgICAgZWRpdG9yLnJlbmRlcmVyLnNjcm9sbEJhckggJiYgZWRpdG9yLnJlbmRlcmVyLnNjcm9sbEJhckguaW5uZXIsXG4gICAgICAgIGVkaXRvci50ZXh0SW5wdXQgJiYgZWRpdG9yLnRleHRJbnB1dC5nZXRFbGVtZW50KClcbiAgICBdLmZpbHRlcihCb29sZWFuKSwgWzQwMCwgMzAwLCAyNTBdLCB0aGlzLCBcIm9uTW91c2VFdmVudFwiLCBlZGl0b3IpO1xuICAgIGV2ZW50LmFkZE1vdXNlV2hlZWxMaXN0ZW5lcihlZGl0b3IuY29udGFpbmVyLCB0aGlzLm9uTW91c2VXaGVlbC5iaW5kKHRoaXMsIFwibW91c2V3aGVlbFwiKSwgZWRpdG9yKTtcbiAgICBhZGRUb3VjaExpc3RlbmVycyhlZGl0b3IuY29udGFpbmVyLCBlZGl0b3IpO1xuXG4gICAgdmFyIGd1dHRlckVsID0gZWRpdG9yLnJlbmRlcmVyLiRndXR0ZXI7XG4gICAgZXZlbnQuYWRkTGlzdGVuZXIoZ3V0dGVyRWwsIFwibW91c2Vkb3duXCIsIHRoaXMub25Nb3VzZUV2ZW50LmJpbmQodGhpcywgXCJndXR0ZXJtb3VzZWRvd25cIiksIGVkaXRvcik7XG4gICAgZXZlbnQuYWRkTGlzdGVuZXIoZ3V0dGVyRWwsIFwiY2xpY2tcIiwgdGhpcy5vbk1vdXNlRXZlbnQuYmluZCh0aGlzLCBcImd1dHRlcmNsaWNrXCIpLCBlZGl0b3IpO1xuICAgIGV2ZW50LmFkZExpc3RlbmVyKGd1dHRlckVsLCBcImRibGNsaWNrXCIsIHRoaXMub25Nb3VzZUV2ZW50LmJpbmQodGhpcywgXCJndXR0ZXJkYmxjbGlja1wiKSwgZWRpdG9yKTtcbiAgICBldmVudC5hZGRMaXN0ZW5lcihndXR0ZXJFbCwgXCJtb3VzZW1vdmVcIiwgdGhpcy5vbk1vdXNlRXZlbnQuYmluZCh0aGlzLCBcImd1dHRlcm1vdXNlbW92ZVwiKSwgZWRpdG9yKTtcblxuICAgIGV2ZW50LmFkZExpc3RlbmVyKG1vdXNlVGFyZ2V0LCBcIm1vdXNlZG93blwiLCBmb2N1c0VkaXRvciwgZWRpdG9yKTtcbiAgICBldmVudC5hZGRMaXN0ZW5lcihndXR0ZXJFbCwgXCJtb3VzZWRvd25cIiwgZm9jdXNFZGl0b3IsIGVkaXRvcik7XG4gICAgaWYgKHVzZXJhZ2VudC5pc0lFICYmIGVkaXRvci5yZW5kZXJlci5zY3JvbGxCYXJWKSB7XG4gICAgICAgIGV2ZW50LmFkZExpc3RlbmVyKGVkaXRvci5yZW5kZXJlci5zY3JvbGxCYXJWLmVsZW1lbnQsIFwibW91c2Vkb3duXCIsIGZvY3VzRWRpdG9yLCBlZGl0b3IpO1xuICAgICAgICBldmVudC5hZGRMaXN0ZW5lcihlZGl0b3IucmVuZGVyZXIuc2Nyb2xsQmFySC5lbGVtZW50LCBcIm1vdXNlZG93blwiLCBmb2N1c0VkaXRvciwgZWRpdG9yKTtcbiAgICB9XG5cbiAgICBlZGl0b3Iub24oXCJtb3VzZW1vdmVcIiwgZnVuY3Rpb24oZSl7XG4gICAgICAgIGlmIChfc2VsZi5zdGF0ZSB8fCBfc2VsZi4kZHJhZ0RlbGF5IHx8ICFfc2VsZi4kZHJhZ0VuYWJsZWQpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdmFyIGNoYXJhY3RlciA9IGVkaXRvci5yZW5kZXJlci5zY3JlZW5Ub1RleHRDb29yZGluYXRlcyhlLngsIGUueSk7XG4gICAgICAgIHZhciByYW5nZSA9IGVkaXRvci5zZXNzaW9uLnNlbGVjdGlvbi5nZXRSYW5nZSgpO1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSBlZGl0b3IucmVuZGVyZXI7XG5cbiAgICAgICAgaWYgKCFyYW5nZS5pc0VtcHR5KCkgJiYgcmFuZ2UuaW5zaWRlU3RhcnQoY2hhcmFjdGVyLnJvdywgY2hhcmFjdGVyLmNvbHVtbikpIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLnNldEN1cnNvclN0eWxlKFwiZGVmYXVsdFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLnNldEN1cnNvclN0eWxlKFwiXCIpO1xuICAgICAgICB9XG4gICAgfSwgZWRpdG9yKTtcbn07XG5cbihmdW5jdGlvbigpIHtcbiAgICB0aGlzLm9uTW91c2VFdmVudCA9IGZ1bmN0aW9uKG5hbWUsIGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVkaXRvci5zZXNzaW9uKSByZXR1cm47XG4gICAgICAgIHRoaXMuZWRpdG9yLl9lbWl0KG5hbWUsIG5ldyBNb3VzZUV2ZW50KGUsIHRoaXMuZWRpdG9yKSk7XG4gICAgfTtcblxuICAgIHRoaXMub25Nb3VzZU1vdmUgPSBmdW5jdGlvbihuYW1lLCBlKSB7XG4gICAgICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLmVkaXRvci5fZXZlbnRSZWdpc3RyeSAmJiB0aGlzLmVkaXRvci5fZXZlbnRSZWdpc3RyeS5tb3VzZW1vdmU7XG4gICAgICAgIGlmICghbGlzdGVuZXJzIHx8ICFsaXN0ZW5lcnMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuZWRpdG9yLl9lbWl0KG5hbWUsIG5ldyBNb3VzZUV2ZW50KGUsIHRoaXMuZWRpdG9yKSk7XG4gICAgfTtcblxuICAgIHRoaXMub25Nb3VzZVdoZWVsID0gZnVuY3Rpb24obmFtZSwgZSkge1xuICAgICAgICB2YXIgbW91c2VFdmVudCA9IG5ldyBNb3VzZUV2ZW50KGUsIHRoaXMuZWRpdG9yKTtcbiAgICAgICAgbW91c2VFdmVudC5zcGVlZCA9IHRoaXMuJHNjcm9sbFNwZWVkICogMjtcbiAgICAgICAgbW91c2VFdmVudC53aGVlbFggPSBlLndoZWVsWDtcbiAgICAgICAgbW91c2VFdmVudC53aGVlbFkgPSBlLndoZWVsWTtcblxuICAgICAgICB0aGlzLmVkaXRvci5fZW1pdChuYW1lLCBtb3VzZUV2ZW50KTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuc2V0U3RhdGUgPSBmdW5jdGlvbihzdGF0ZSkge1xuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgfTtcblxuICAgIHRoaXMuY2FwdHVyZU1vdXNlID0gZnVuY3Rpb24oZXYsIG1vdXNlTW92ZUhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy54ID0gZXYueDtcbiAgICAgICAgdGhpcy55ID0gZXYueTtcblxuICAgICAgICB0aGlzLmlzTW91c2VQcmVzc2VkID0gdHJ1ZTtcbiAgICAgICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yO1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLmVkaXRvci5yZW5kZXJlcjtcbiAgICAgICAgcmVuZGVyZXIuJGlzTW91c2VQcmVzc2VkID0gdHJ1ZTtcblxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBvbk1vdXNlTW92ZSA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGlmICghZSkgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKHVzZXJhZ2VudC5pc1dlYktpdCAmJiAhZS53aGljaCAmJiBzZWxmLnJlbGVhc2VNb3VzZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5yZWxlYXNlTW91c2UoKTtcblxuICAgICAgICAgICAgc2VsZi54ID0gZS5jbGllbnRYO1xuICAgICAgICAgICAgc2VsZi55ID0gZS5jbGllbnRZO1xuICAgICAgICAgICAgbW91c2VNb3ZlSGFuZGxlciAmJiBtb3VzZU1vdmVIYW5kbGVyKGUpO1xuICAgICAgICAgICAgc2VsZi5tb3VzZUV2ZW50ID0gbmV3IE1vdXNlRXZlbnQoZSwgc2VsZi5lZGl0b3IpO1xuICAgICAgICAgICAgc2VsZi4kbW91c2VNb3ZlZCA9IHRydWU7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIG9uQ2FwdHVyZUVuZCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGVkaXRvci5vZmYoXCJiZWZvcmVFbmRPcGVyYXRpb25cIiwgb25PcGVyYXRpb25FbmQpO1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcbiAgICAgICAgICAgIGlmIChlZGl0b3Iuc2Vzc2lvbikgb25DYXB0dXJlSW50ZXJ2YWwoKTtcbiAgICAgICAgICAgIHNlbGZbc2VsZi5zdGF0ZSArIFwiRW5kXCJdICYmIHNlbGZbc2VsZi5zdGF0ZSArIFwiRW5kXCJdKGUpO1xuICAgICAgICAgICAgc2VsZi5zdGF0ZSA9IFwiXCI7XG4gICAgICAgICAgICBzZWxmLmlzTW91c2VQcmVzc2VkID0gcmVuZGVyZXIuJGlzTW91c2VQcmVzc2VkID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAocmVuZGVyZXIuJGtlZXBUZXh0QXJlYUF0Q3Vyc29yKVxuICAgICAgICAgICAgICAgIHJlbmRlcmVyLiRtb3ZlVGV4dEFyZWFUb0N1cnNvcigpO1xuICAgICAgICAgICAgc2VsZi4kb25DYXB0dXJlTW91c2VNb3ZlID0gc2VsZi5yZWxlYXNlTW91c2UgPSBudWxsO1xuICAgICAgICAgICAgZSAmJiBzZWxmLm9uTW91c2VFdmVudChcIm1vdXNldXBcIiwgZSk7XG4gICAgICAgICAgICBlZGl0b3IuZW5kT3BlcmF0aW9uKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIG9uQ2FwdHVyZUludGVydmFsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmW3NlbGYuc3RhdGVdICYmIHNlbGZbc2VsZi5zdGF0ZV0oKTtcbiAgICAgICAgICAgIHNlbGYuJG1vdXNlTW92ZWQgPSBmYWxzZTtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodXNlcmFnZW50LmlzT2xkSUUgJiYgZXYuZG9tRXZlbnQudHlwZSA9PSBcImRibGNsaWNrXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge29uQ2FwdHVyZUVuZChldik7fSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgb25PcGVyYXRpb25FbmQgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZiAoIXNlbGYucmVsZWFzZU1vdXNlKSByZXR1cm47XG4gICAgICAgICAgICBpZiAoZWRpdG9yLmN1ck9wLmNvbW1hbmQubmFtZSAmJiBlZGl0b3IuY3VyT3Auc2VsZWN0aW9uQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIHNlbGZbc2VsZi5zdGF0ZSArIFwiRW5kXCJdICYmIHNlbGZbc2VsZi5zdGF0ZSArIFwiRW5kXCJdKCk7XG4gICAgICAgICAgICAgICAgc2VsZi5zdGF0ZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgc2VsZi5yZWxlYXNlTW91c2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBlZGl0b3Iub24oXCJiZWZvcmVFbmRPcGVyYXRpb25cIiwgb25PcGVyYXRpb25FbmQpO1xuICAgICAgICBlZGl0b3Iuc3RhcnRPcGVyYXRpb24oe2NvbW1hbmQ6IHtuYW1lOiBcIm1vdXNlXCJ9fSk7XG5cbiAgICAgICAgc2VsZi4kb25DYXB0dXJlTW91c2VNb3ZlID0gb25Nb3VzZU1vdmU7XG4gICAgICAgIHNlbGYucmVsZWFzZU1vdXNlID0gZXZlbnQuY2FwdHVyZSh0aGlzLmVkaXRvci5jb250YWluZXIsIG9uTW91c2VNb3ZlLCBvbkNhcHR1cmVFbmQpO1xuICAgICAgICB2YXIgdGltZXJJZCA9IHNldEludGVydmFsKG9uQ2FwdHVyZUludGVydmFsLCAyMCk7XG4gICAgfTtcbiAgICB0aGlzLnJlbGVhc2VNb3VzZSA9IG51bGw7XG4gICAgdGhpcy5jYW5jZWxDb250ZXh0TWVudSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc3RvcCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGlmIChlICYmIGUuZG9tRXZlbnQgJiYgZS5kb21FdmVudC50eXBlICE9IFwiY29udGV4dG1lbnVcIilcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB0aGlzLmVkaXRvci5vZmYoXCJuYXRpdmVjb250ZXh0bWVudVwiLCBzdG9wKTtcbiAgICAgICAgICAgIGlmIChlICYmIGUuZG9tRXZlbnQpXG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcEV2ZW50KGUuZG9tRXZlbnQpO1xuICAgICAgICB9LmJpbmQodGhpcyk7XG4gICAgICAgIHNldFRpbWVvdXQoc3RvcCwgMTApO1xuICAgICAgICB0aGlzLmVkaXRvci5vbihcIm5hdGl2ZWNvbnRleHRtZW51XCIsIHN0b3ApO1xuICAgIH07XG4gICAgdGhpcy5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLnJlbGVhc2VNb3VzZSkgdGhpcy5yZWxlYXNlTW91c2UoKTtcbiAgICB9O1xufSkuY2FsbChNb3VzZUhhbmRsZXIucHJvdG90eXBlKTtcblxuY29uZmlnLmRlZmluZU9wdGlvbnMoTW91c2VIYW5kbGVyLnByb3RvdHlwZSwgXCJtb3VzZUhhbmRsZXJcIiwge1xuICAgIHNjcm9sbFNwZWVkOiB7aW5pdGlhbFZhbHVlOiAyfSxcbiAgICBkcmFnRGVsYXk6IHtpbml0aWFsVmFsdWU6ICh1c2VyYWdlbnQuaXNNYWMgPyAxNTAgOiAwKX0sXG4gICAgZHJhZ0VuYWJsZWQ6IHtpbml0aWFsVmFsdWU6IHRydWV9LFxuICAgIGZvY3VzVGltZW91dDoge2luaXRpYWxWYWx1ZTogMH0sXG4gICAgdG9vbHRpcEZvbGxvd3NNb3VzZToge2luaXRpYWxWYWx1ZTogdHJ1ZX1cbn0pO1xuXG5cbmV4cG9ydHMuTW91c2VIYW5kbGVyID0gTW91c2VIYW5kbGVyO1xufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvbW91c2UvZm9sZF9oYW5kbGVyXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL2RvbVwiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcbnZhciBkb20gPSByZXF1aXJlKFwiLi4vbGliL2RvbVwiKTtcblxuZnVuY3Rpb24gRm9sZEhhbmRsZXIoZWRpdG9yKSB7XG5cbiAgICBlZGl0b3Iub24oXCJjbGlja1wiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBwb3NpdGlvbiA9IGUuZ2V0RG9jdW1lbnRQb3NpdGlvbigpO1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IGVkaXRvci5zZXNzaW9uO1xuICAgICAgICB2YXIgZm9sZCA9IHNlc3Npb24uZ2V0Rm9sZEF0KHBvc2l0aW9uLnJvdywgcG9zaXRpb24uY29sdW1uLCAxKTtcbiAgICAgICAgaWYgKGZvbGQpIHtcbiAgICAgICAgICAgIGlmIChlLmdldEFjY2VsS2V5KCkpXG4gICAgICAgICAgICAgICAgc2Vzc2lvbi5yZW1vdmVGb2xkKGZvbGQpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHNlc3Npb24uZXhwYW5kRm9sZChmb2xkKTtcblxuICAgICAgICAgICAgZS5zdG9wKCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHZhciB0YXJnZXQgPSBlLmRvbUV2ZW50ICYmIGUuZG9tRXZlbnQudGFyZ2V0O1xuICAgICAgICBpZiAodGFyZ2V0ICYmIGRvbS5oYXNDc3NDbGFzcyh0YXJnZXQsIFwiYWNlX2lubGluZV9idXR0b25cIikpIHtcbiAgICAgICAgICAgIGlmIChkb20uaGFzQ3NzQ2xhc3ModGFyZ2V0LCBcImFjZV90b2dnbGVfd3JhcFwiKSkge1xuICAgICAgICAgICAgICAgIHNlc3Npb24uc2V0T3B0aW9uKFwid3JhcFwiLCAhc2Vzc2lvbi5nZXRVc2VXcmFwTW9kZSgpKTtcbiAgICAgICAgICAgICAgICBlZGl0b3IucmVuZGVyZXIuc2Nyb2xsQ3Vyc29ySW50b1ZpZXcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgZWRpdG9yLm9uKFwiZ3V0dGVyY2xpY2tcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgZ3V0dGVyUmVnaW9uID0gZWRpdG9yLnJlbmRlcmVyLiRndXR0ZXJMYXllci5nZXRSZWdpb24oZSk7XG5cbiAgICAgICAgaWYgKGd1dHRlclJlZ2lvbiA9PSBcImZvbGRXaWRnZXRzXCIpIHtcbiAgICAgICAgICAgIHZhciByb3cgPSBlLmdldERvY3VtZW50UG9zaXRpb24oKS5yb3c7XG4gICAgICAgICAgICB2YXIgc2Vzc2lvbiA9IGVkaXRvci5zZXNzaW9uO1xuICAgICAgICAgICAgaWYgKHNlc3Npb24uZm9sZFdpZGdldHMgJiYgc2Vzc2lvbi5mb2xkV2lkZ2V0c1tyb3ddKVxuICAgICAgICAgICAgICAgIGVkaXRvci5zZXNzaW9uLm9uRm9sZFdpZGdldENsaWNrKHJvdywgZSk7XG4gICAgICAgICAgICBpZiAoIWVkaXRvci5pc0ZvY3VzZWQoKSlcbiAgICAgICAgICAgICAgICBlZGl0b3IuZm9jdXMoKTtcbiAgICAgICAgICAgIGUuc3RvcCgpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBlZGl0b3Iub24oXCJndXR0ZXJkYmxjbGlja1wiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBndXR0ZXJSZWdpb24gPSBlZGl0b3IucmVuZGVyZXIuJGd1dHRlckxheWVyLmdldFJlZ2lvbihlKTtcblxuICAgICAgICBpZiAoZ3V0dGVyUmVnaW9uID09IFwiZm9sZFdpZGdldHNcIikge1xuICAgICAgICAgICAgdmFyIHJvdyA9IGUuZ2V0RG9jdW1lbnRQb3NpdGlvbigpLnJvdztcbiAgICAgICAgICAgIHZhciBzZXNzaW9uID0gZWRpdG9yLnNlc3Npb247XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHNlc3Npb24uZ2V0UGFyZW50Rm9sZFJhbmdlRGF0YShyb3csIHRydWUpO1xuICAgICAgICAgICAgdmFyIHJhbmdlID0gZGF0YS5yYW5nZSB8fCBkYXRhLmZpcnN0UmFuZ2U7XG5cbiAgICAgICAgICAgIGlmIChyYW5nZSkge1xuICAgICAgICAgICAgICAgIHJvdyA9IHJhbmdlLnN0YXJ0LnJvdztcbiAgICAgICAgICAgICAgICB2YXIgZm9sZCA9IHNlc3Npb24uZ2V0Rm9sZEF0KHJvdywgc2Vzc2lvbi5nZXRMaW5lKHJvdykubGVuZ3RoLCAxKTtcblxuICAgICAgICAgICAgICAgIGlmIChmb2xkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb24ucmVtb3ZlRm9sZChmb2xkKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uLmFkZEZvbGQoXCIuLi5cIiwgcmFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICBlZGl0b3IucmVuZGVyZXIuc2Nyb2xsQ3Vyc29ySW50b1ZpZXcoe3JvdzogcmFuZ2Uuc3RhcnQucm93LCBjb2x1bW46IDB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlLnN0b3AoKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5leHBvcnRzLkZvbGRIYW5kbGVyID0gRm9sZEhhbmRsZXI7XG5cbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL2tleWJvYXJkL2tleWJpbmRpbmdcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIva2V5c1wiLFwiYWNlL2xpYi9ldmVudFwiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIGtleVV0aWwgID0gcmVxdWlyZShcIi4uL2xpYi9rZXlzXCIpO1xudmFyIGV2ZW50ID0gcmVxdWlyZShcIi4uL2xpYi9ldmVudFwiKTtcblxudmFyIEtleUJpbmRpbmcgPSBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICB0aGlzLiRlZGl0b3IgPSBlZGl0b3I7XG4gICAgdGhpcy4kZGF0YSA9IHtlZGl0b3I6IGVkaXRvcn07XG4gICAgdGhpcy4kaGFuZGxlcnMgPSBbXTtcbiAgICB0aGlzLnNldERlZmF1bHRIYW5kbGVyKGVkaXRvci5jb21tYW5kcyk7XG59O1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5zZXREZWZhdWx0SGFuZGxlciA9IGZ1bmN0aW9uKGtiKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlS2V5Ym9hcmRIYW5kbGVyKHRoaXMuJGRlZmF1bHRIYW5kbGVyKTtcbiAgICAgICAgdGhpcy4kZGVmYXVsdEhhbmRsZXIgPSBrYjtcbiAgICAgICAgdGhpcy5hZGRLZXlib2FyZEhhbmRsZXIoa2IsIDApO1xuICAgIH07XG5cbiAgICB0aGlzLnNldEtleWJvYXJkSGFuZGxlciA9IGZ1bmN0aW9uKGtiKSB7XG4gICAgICAgIHZhciBoID0gdGhpcy4kaGFuZGxlcnM7XG4gICAgICAgIGlmIChoW2gubGVuZ3RoIC0gMV0gPT0ga2IpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgd2hpbGUgKGhbaC5sZW5ndGggLSAxXSAmJiBoW2gubGVuZ3RoIC0gMV0gIT0gdGhpcy4kZGVmYXVsdEhhbmRsZXIpXG4gICAgICAgICAgICB0aGlzLnJlbW92ZUtleWJvYXJkSGFuZGxlcihoW2gubGVuZ3RoIC0gMV0pO1xuXG4gICAgICAgIHRoaXMuYWRkS2V5Ym9hcmRIYW5kbGVyKGtiLCAxKTtcbiAgICB9O1xuXG4gICAgdGhpcy5hZGRLZXlib2FyZEhhbmRsZXIgPSBmdW5jdGlvbihrYiwgcG9zKSB7XG4gICAgICAgIGlmICgha2IpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmICh0eXBlb2Yga2IgPT0gXCJmdW5jdGlvblwiICYmICFrYi5oYW5kbGVLZXlib2FyZClcbiAgICAgICAgICAgIGtiLmhhbmRsZUtleWJvYXJkID0ga2I7XG4gICAgICAgIHZhciBpID0gdGhpcy4kaGFuZGxlcnMuaW5kZXhPZihrYik7XG4gICAgICAgIGlmIChpICE9IC0xKVxuICAgICAgICAgICAgdGhpcy4kaGFuZGxlcnMuc3BsaWNlKGksIDEpO1xuXG4gICAgICAgIGlmIChwb3MgPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgdGhpcy4kaGFuZGxlcnMucHVzaChrYik7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuJGhhbmRsZXJzLnNwbGljZShwb3MsIDAsIGtiKTtcblxuICAgICAgICBpZiAoaSA9PSAtMSAmJiBrYi5hdHRhY2gpXG4gICAgICAgICAgICBrYi5hdHRhY2godGhpcy4kZWRpdG9yKTtcbiAgICB9O1xuXG4gICAgdGhpcy5yZW1vdmVLZXlib2FyZEhhbmRsZXIgPSBmdW5jdGlvbihrYikge1xuICAgICAgICB2YXIgaSA9IHRoaXMuJGhhbmRsZXJzLmluZGV4T2Yoa2IpO1xuICAgICAgICBpZiAoaSA9PSAtMSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgdGhpcy4kaGFuZGxlcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICBrYi5kZXRhY2ggJiYga2IuZGV0YWNoKHRoaXMuJGVkaXRvcik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICB0aGlzLmdldEtleWJvYXJkSGFuZGxlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kaGFuZGxlcnNbdGhpcy4kaGFuZGxlcnMubGVuZ3RoIC0gMV07XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLmdldFN0YXR1c1RleHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGRhdGEgPSB0aGlzLiRkYXRhO1xuICAgICAgICB2YXIgZWRpdG9yID0gZGF0YS5lZGl0b3I7XG4gICAgICAgIHJldHVybiB0aGlzLiRoYW5kbGVycy5tYXAoZnVuY3Rpb24oaCkge1xuICAgICAgICAgICAgcmV0dXJuIGguZ2V0U3RhdHVzVGV4dCAmJiBoLmdldFN0YXR1c1RleHQoZWRpdG9yLCBkYXRhKSB8fCBcIlwiO1xuICAgICAgICB9KS5maWx0ZXIoQm9vbGVhbikuam9pbihcIiBcIik7XG4gICAgfTtcblxuICAgIHRoaXMuJGNhbGxLZXlib2FyZEhhbmRsZXJzID0gZnVuY3Rpb24oaGFzaElkLCBrZXlTdHJpbmcsIGtleUNvZGUsIGUpIHtcbiAgICAgICAgdmFyIHRvRXhlY3V0ZTtcbiAgICAgICAgdmFyIHN1Y2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgdmFyIGNvbW1hbmRzID0gdGhpcy4kZWRpdG9yLmNvbW1hbmRzO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSB0aGlzLiRoYW5kbGVycy5sZW5ndGg7IGktLTspIHtcbiAgICAgICAgICAgIHRvRXhlY3V0ZSA9IHRoaXMuJGhhbmRsZXJzW2ldLmhhbmRsZUtleWJvYXJkKFxuICAgICAgICAgICAgICAgIHRoaXMuJGRhdGEsIGhhc2hJZCwga2V5U3RyaW5nLCBrZXlDb2RlLCBlXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKCF0b0V4ZWN1dGUgfHwgIXRvRXhlY3V0ZS5jb21tYW5kKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKHRvRXhlY3V0ZS5jb21tYW5kID09IFwibnVsbFwiKSB7XG4gICAgICAgICAgICAgICAgc3VjY2VzcyA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3MgPSBjb21tYW5kcy5leGVjKHRvRXhlY3V0ZS5jb21tYW5kLCB0aGlzLiRlZGl0b3IsIHRvRXhlY3V0ZS5hcmdzLCBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdWNjZXNzICYmIGUgJiYgaGFzaElkICE9IC0xICYmIFxuICAgICAgICAgICAgICAgIHRvRXhlY3V0ZS5wYXNzRXZlbnQgIT0gdHJ1ZSAmJiB0b0V4ZWN1dGUuY29tbWFuZC5wYXNzRXZlbnQgIT0gdHJ1ZVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcEV2ZW50KGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmICghc3VjY2VzcyAmJiBoYXNoSWQgPT0gLTEpIHtcbiAgICAgICAgICAgIHRvRXhlY3V0ZSA9IHtjb21tYW5kOiBcImluc2VydHN0cmluZ1wifTtcbiAgICAgICAgICAgIHN1Y2Nlc3MgPSBjb21tYW5kcy5leGVjKFwiaW5zZXJ0c3RyaW5nXCIsIHRoaXMuJGVkaXRvciwga2V5U3RyaW5nKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKHN1Y2Nlc3MgJiYgdGhpcy4kZWRpdG9yLl9zaWduYWwpXG4gICAgICAgICAgICB0aGlzLiRlZGl0b3IuX3NpZ25hbChcImtleWJvYXJkQWN0aXZpdHlcIiwgdG9FeGVjdXRlKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBzdWNjZXNzO1xuICAgIH07XG5cbiAgICB0aGlzLm9uQ29tbWFuZEtleSA9IGZ1bmN0aW9uKGUsIGhhc2hJZCwga2V5Q29kZSkge1xuICAgICAgICB2YXIga2V5U3RyaW5nID0ga2V5VXRpbC5rZXlDb2RlVG9TdHJpbmcoa2V5Q29kZSk7XG4gICAgICAgIHJldHVybiB0aGlzLiRjYWxsS2V5Ym9hcmRIYW5kbGVycyhoYXNoSWQsIGtleVN0cmluZywga2V5Q29kZSwgZSk7XG4gICAgfTtcblxuICAgIHRoaXMub25UZXh0SW5wdXQgPSBmdW5jdGlvbih0ZXh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRjYWxsS2V5Ym9hcmRIYW5kbGVycygtMSwgdGV4dCk7XG4gICAgfTtcblxufSkuY2FsbChLZXlCaW5kaW5nLnByb3RvdHlwZSk7XG5cbmV4cG9ydHMuS2V5QmluZGluZyA9IEtleUJpbmRpbmc7XG59KTtcblxuYWNlLmRlZmluZShcImFjZS9saWIvYmlkaXV0aWxcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIl0sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBBcmFiaWNBbGVmQmV0SW50ZXJ2YWxzQmVnaW5lID0gWydcXHUwNjIxJywgJ1xcdTA2NDEnXTtcbnZhciBBcmFiaWNBbGVmQmV0SW50ZXJ2YWxzRW5kID0gWydcXHUwNjNBJywgJ1xcdTA2NGEnXTtcbnZhciBkaXIgPSAwLCBoaUxldmVsID0gMDtcbnZhciBsYXN0QXJhYmljID0gZmFsc2UsIGhhc1VCQVRfQUwgPSBmYWxzZSwgIGhhc1VCQVRfQiA9IGZhbHNlLCAgaGFzVUJBVF9TID0gZmFsc2UsIGhhc0Jsb2NrU2VwID0gZmFsc2UsIGhhc1NlZ1NlcCA9IGZhbHNlO1xuXG52YXIgaW1wVGFiX0xUUiA9IFtcdFtcdDAsXHRcdDMsXHRcdDAsXHRcdDEsXHRcdDAsXHRcdDAsXHRcdDBcdF0sXHRbXHQwLFx0XHQzLFx0XHQwLFx0XHQxLFx0XHQyLFx0XHQyLFx0XHQwXHRdLFx0W1x0MCxcdFx0MyxcdFx0MCxcdFx0MHgxMSxcdFx0MixcdFx0MCxcdFx0MVx0XSxcdFtcdDAsXHRcdDMsXHRcdDUsXHRcdDUsXHRcdDQsXHRcdDEsXHRcdDBcdF0sXHRbXHQwLFx0XHQzLFx0XHQweDE1LFx0XHQweDE1LFx0XHQ0LFx0XHQwLFx0XHQxXHRdLFx0W1x0MCxcdFx0MyxcdFx0NSxcdFx0NSxcdFx0NCxcdFx0MixcdFx0MFx0XVxuXTtcblxudmFyIGltcFRhYl9SVEwgPSBbXHRbXHQyLFx0XHQwLFx0XHQxLFx0XHQxLFx0XHQwLFx0XHQxLFx0XHQwXHRdLFx0W1x0MixcdFx0MCxcdFx0MSxcdFx0MSxcdFx0MCxcdFx0MixcdFx0MFx0XSxcdFtcdDIsXHRcdDAsXHRcdDIsXHRcdDEsXHRcdDMsXHRcdDIsXHRcdDBcdF0sXHRbXHQyLFx0XHQwLFx0XHQyLFx0XHQweDIxLFx0XHQzLFx0XHQxLFx0XHQxXHRdXG5dO1xuXG52YXIgTFRSID0gMCwgUlRMID0gMTtcblxudmFyIEwgPSAwO1xudmFyIFIgPSAxO1xudmFyIEVOID0gMjtcbnZhciBBTiA9IDM7XG52YXIgT04gPSA0O1xudmFyIEIgPSA1O1xudmFyIFMgPSA2O1xudmFyIEFMID0gNztcbnZhciBXUyA9IDg7XG52YXIgQ1MgPSA5O1xudmFyIEVTID0gMTA7XG52YXIgRVQgPSAxMTtcbnZhciBOU00gPSAxMjtcbnZhciBMUkUgPSAxMztcbnZhciBSTEUgPSAxNDtcbnZhciBQREYgPSAxNTtcbnZhciBMUk8gPSAxNjtcbnZhciBSTE8gPSAxNztcbnZhciBCTiA9IDE4O1xuXG52YXIgVW5pY29kZVRCTDAwID0gW1xuQk4sQk4sQk4sQk4sQk4sQk4sQk4sQk4sQk4sUyxCLFMsV1MsQixCTixCTixcbkJOLEJOLEJOLEJOLEJOLEJOLEJOLEJOLEJOLEJOLEJOLEJOLEIsQixCLFMsXG5XUyxPTixPTixFVCxFVCxFVCxPTixPTixPTixPTixPTixFUyxDUyxFUyxDUyxDUyxcbkVOLEVOLEVOLEVOLEVOLEVOLEVOLEVOLEVOLEVOLENTLE9OLE9OLE9OLE9OLE9OLFxuT04sTCxMLEwsTCxMLEwsTCxMLEwsTCxMLEwsTCxMLEwsXG5MLEwsTCxMLEwsTCxMLEwsTCxMLEwsT04sT04sT04sT04sT04sXG5PTixMLEwsTCxMLEwsTCxMLEwsTCxMLEwsTCxMLEwsTCxcbkwsTCxMLEwsTCxMLEwsTCxMLEwsTCxPTixPTixPTixPTixCTixcbkJOLEJOLEJOLEJOLEJOLEIsQk4sQk4sQk4sQk4sQk4sQk4sQk4sQk4sQk4sQk4sXG5CTixCTixCTixCTixCTixCTixCTixCTixCTixCTixCTixCTixCTixCTixCTixCTixcbkNTLE9OLEVULEVULEVULEVULE9OLE9OLE9OLE9OLEwsT04sT04sQk4sT04sT04sXG5FVCxFVCxFTixFTixPTixMLE9OLE9OLE9OLEVOLEwsT04sT04sT04sT04sT05cbl07XG5cbnZhciBVbmljb2RlVEJMMjAgPSBbXG5XUyxXUyxXUyxXUyxXUyxXUyxXUyxXUyxXUyxXUyxXUyxCTixCTixCTixMLFJcdCxcbk9OLE9OLE9OLE9OLE9OLE9OLE9OLE9OLE9OLE9OLE9OLE9OLE9OLE9OLE9OLE9OLFxuT04sT04sT04sT04sT04sT04sT04sT04sV1MsQixMUkUsUkxFLFBERixMUk8sUkxPLENTLFxuRVQsRVQsRVQsRVQsRVQsT04sT04sT04sT04sT04sT04sT04sT04sT04sT04sT04sXG5PTixPTixPTixPTixDUyxPTixPTixPTixPTixPTixPTixPTixPTixPTixPTixPTixcbk9OLE9OLE9OLE9OLE9OLE9OLE9OLE9OLE9OLE9OLE9OLE9OLE9OLE9OLE9OLFdTXG5dO1xuXG5mdW5jdGlvbiBfY29tcHV0ZUxldmVscyhjaGFycywgbGV2ZWxzLCBsZW4sIGNoYXJUeXBlcykge1xuXHR2YXIgaW1wVGFiID0gZGlyID8gaW1wVGFiX1JUTCA6IGltcFRhYl9MVFJcblx0XHQsIHByZXZTdGF0ZSA9IG51bGwsIG5ld0NsYXNzID0gbnVsbCwgbmV3TGV2ZWwgPSBudWxsLCBuZXdTdGF0ZSA9IDBcblx0XHQsIGFjdGlvbiA9IG51bGwsIGNvbmQgPSBudWxsLCBjb25kUG9zID0gLTEsIGkgPSBudWxsLCBpeCA9IG51bGwsIGNsYXNzZXMgPSBbXTtcblxuXHRpZiAoIWNoYXJUeXBlcykge1xuXHRcdGZvciAoaSA9IDAsIGNoYXJUeXBlcyA9IFtdOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdGNoYXJUeXBlc1tpXSA9IF9nZXRDaGFyYWN0ZXJUeXBlKGNoYXJzW2ldKTtcblx0XHR9XG5cdH1cblx0aGlMZXZlbCA9IGRpcjtcblx0bGFzdEFyYWJpYyA9IGZhbHNlO1xuXHRoYXNVQkFUX0FMID0gZmFsc2U7XG5cdGhhc1VCQVRfQiA9IGZhbHNlO1xuXHRoYXNVQkFUX1MgPSBmYWxzZTtcblx0Zm9yIChpeCA9IDA7IGl4IDwgbGVuOyBpeCsrKXtcblx0XHRwcmV2U3RhdGUgPSBuZXdTdGF0ZTtcblx0XHRjbGFzc2VzW2l4XSA9IG5ld0NsYXNzID0gX2dldENoYXJDbGFzcyhjaGFycywgY2hhclR5cGVzLCBjbGFzc2VzLCBpeCk7XG5cdFx0bmV3U3RhdGUgPSBpbXBUYWJbcHJldlN0YXRlXVtuZXdDbGFzc107XG5cdFx0YWN0aW9uID0gbmV3U3RhdGUgJiAweEYwO1xuXHRcdG5ld1N0YXRlICY9IDB4MEY7XG5cdFx0bGV2ZWxzW2l4XSA9IG5ld0xldmVsID0gaW1wVGFiW25ld1N0YXRlXVs1XTtcblx0XHRpZiAoYWN0aW9uID4gMCl7XG5cdFx0XHRpZiAoYWN0aW9uID09IDB4MTApe1xuXHRcdFx0XHRmb3IoaSA9IGNvbmRQb3M7IGkgPCBpeDsgaSsrKXtcblx0XHRcdFx0XHRsZXZlbHNbaV0gPSAxO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbmRQb3MgPSAtMTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbmRQb3MgPSAtMTtcblx0XHRcdH1cblx0XHR9XG5cdFx0Y29uZCA9IGltcFRhYltuZXdTdGF0ZV1bNl07XG5cdFx0aWYgKGNvbmQpe1xuXHRcdFx0aWYoY29uZFBvcyA9PSAtMSl7XG5cdFx0XHRcdGNvbmRQb3MgPSBpeDtcblx0XHRcdH1cblx0XHR9ZWxzZXtcblx0XHRcdGlmIChjb25kUG9zID4gLTEpe1xuXHRcdFx0XHRmb3IoaSA9IGNvbmRQb3M7IGkgPCBpeDsgaSsrKXtcblx0XHRcdFx0XHRsZXZlbHNbaV0gPSBuZXdMZXZlbDtcblx0XHRcdFx0fVxuXHRcdFx0XHRjb25kUG9zID0gLTE7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmIChjaGFyVHlwZXNbaXhdID09IEIpe1xuXHRcdFx0bGV2ZWxzW2l4XSA9IDA7XG5cdFx0fVxuXHRcdGhpTGV2ZWwgfD0gbmV3TGV2ZWw7XG5cdH1cblx0aWYgKGhhc1VCQVRfUyl7XG5cdFx0Zm9yKGkgPSAwOyBpIDwgbGVuOyBpKyspe1xuXHRcdFx0aWYoY2hhclR5cGVzW2ldID09IFMpe1xuXHRcdFx0XHRsZXZlbHNbaV0gPSBkaXI7XG5cdFx0XHRcdGZvcih2YXIgaiA9IGkgLSAxOyBqID49IDA7IGotLSl7XG5cdFx0XHRcdFx0aWYoY2hhclR5cGVzW2pdID09IFdTKXtcblx0XHRcdFx0XHRcdGxldmVsc1tqXSA9IGRpcjtcblx0XHRcdFx0XHR9ZWxzZXtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBfaW52ZXJ0TGV2ZWwobGV2LCBsZXZlbHMsIF9hcnJheSkge1xuXHRpZiAoaGlMZXZlbCA8IGxldil7XG5cdFx0cmV0dXJuO1xuXHR9XG5cdGlmIChsZXYgPT0gMSAmJiBkaXIgPT0gUlRMICYmICFoYXNVQkFUX0Ipe1xuXHRcdF9hcnJheS5yZXZlcnNlKCk7XG5cdFx0cmV0dXJuO1xuXHR9XG5cdHZhciBsZW4gPSBfYXJyYXkubGVuZ3RoLCBzdGFydCA9IDAsIGVuZCwgbG8sIGhpLCB0bXA7XG5cdHdoaWxlKHN0YXJ0IDwgbGVuKXtcblx0XHRpZiAobGV2ZWxzW3N0YXJ0XSA+PSBsZXYpe1xuXHRcdFx0ZW5kID0gc3RhcnQgKyAxO1xuXHRcdHdoaWxlKGVuZCA8IGxlbiAmJiBsZXZlbHNbZW5kXSA+PSBsZXYpe1xuXHRcdFx0ZW5kKys7XG5cdFx0fVxuXHRcdGZvcihsbyA9IHN0YXJ0LCBoaSA9IGVuZCAtIDEgOyBsbyA8IGhpOyBsbysrLCBoaS0tKXtcblx0XHRcdHRtcCA9IF9hcnJheVtsb107XG5cdFx0XHRfYXJyYXlbbG9dID0gX2FycmF5W2hpXTtcblx0XHRcdF9hcnJheVtoaV0gPSB0bXA7XG5cdFx0fVxuXHRcdHN0YXJ0ID0gZW5kO1xuXHR9XG5cdHN0YXJ0Kys7XG5cdH1cbn1cblxuZnVuY3Rpb24gX2dldENoYXJDbGFzcyhjaGFycywgdHlwZXMsIGNsYXNzZXMsIGl4KSB7XHRcdFx0XG5cdHZhciBjVHlwZSA9IHR5cGVzW2l4XSwgd1R5cGUsIG5UeXBlLCBsZW4sIGk7XG5cdHN3aXRjaChjVHlwZSl7XG5cdFx0Y2FzZSBMOlxuXHRcdGNhc2UgUjpcblx0XHRcdGxhc3RBcmFiaWMgPSBmYWxzZTtcblx0XHRjYXNlIE9OOlxuXHRcdGNhc2UgQU46XG5cdFx0XHRyZXR1cm4gY1R5cGU7XG5cdFx0Y2FzZSBFTjpcblx0XHRcdHJldHVybiBsYXN0QXJhYmljID8gQU4gOiBFTjtcblx0XHRjYXNlIEFMOlxuXHRcdFx0bGFzdEFyYWJpYyA9IHRydWU7XG5cdFx0XHRoYXNVQkFUX0FMID0gdHJ1ZTtcblx0XHRcdHJldHVybiBSO1xuXHRcdGNhc2UgV1M6XG5cdFx0XHRyZXR1cm4gT047XG5cdFx0Y2FzZSBDUzpcblx0XHRcdGlmIChpeCA8IDEgfHwgKGl4ICsgMSkgPj0gdHlwZXMubGVuZ3RoIHx8XG5cdFx0XHRcdCgod1R5cGUgPSBjbGFzc2VzW2l4IC0gMV0pICE9IEVOICYmIHdUeXBlICE9IEFOKSB8fFxuXHRcdFx0XHQoKG5UeXBlID0gdHlwZXNbaXggKyAxXSkgIT0gRU4gJiYgblR5cGUgIT0gQU4pKXtcblx0XHRcdFx0cmV0dXJuIE9OO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGxhc3RBcmFiaWMpe25UeXBlID0gQU47fVxuXHRcdFx0cmV0dXJuIG5UeXBlID09IHdUeXBlID8gblR5cGUgOiBPTjtcblx0XHRjYXNlIEVTOlxuXHRcdFx0d1R5cGUgPSBpeCA+IDAgPyBjbGFzc2VzW2l4IC0gMV0gOiBCO1xuXHRcdFx0aWYgKHdUeXBlID09IEVOICYmIChpeCArIDEpIDwgdHlwZXMubGVuZ3RoICYmIHR5cGVzW2l4ICsgMV0gPT0gRU4pe1xuXHRcdFx0XHRyZXR1cm4gRU47XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gT047XG5cdFx0Y2FzZSBFVDpcblx0XHRcdGlmIChpeCA+IDAgJiYgY2xhc3Nlc1tpeCAtIDFdID09IEVOKXtcblx0XHRcdFx0cmV0dXJuIEVOO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGxhc3RBcmFiaWMpe1xuXHRcdFx0XHRyZXR1cm4gT047XG5cdFx0XHR9XG5cdFx0XHRpID0gaXggKyAxO1xuXHRcdFx0bGVuID0gdHlwZXMubGVuZ3RoO1xuXHRcdFx0d2hpbGUgKGkgPCBsZW4gJiYgdHlwZXNbaV0gPT0gRVQpe1xuXHRcdFx0XHRpKys7XG5cdFx0XHR9XG5cdFx0XHRpZiAoaSA8IGxlbiAmJiB0eXBlc1tpXSA9PSBFTil7XG5cdFx0XHRcdHJldHVybiBFTjtcblx0XHRcdH1cblx0XHRcdHJldHVybiBPTjtcblx0XHRjYXNlIE5TTTpcblx0XHRcdGxlbiA9IHR5cGVzLmxlbmd0aDtcblx0XHRcdGkgPSBpeCArIDE7XG5cdFx0XHR3aGlsZSAoaSA8IGxlbiAmJiB0eXBlc1tpXSA9PSBOU00pe1xuXHRcdFx0XHRpKys7XG5cdFx0XHR9XG5cdFx0XHRpZiAoaSA8IGxlbil7XG5cdFx0XHRcdHZhciBjID0gY2hhcnNbaXhdLCBydGxDYW5kaWRhdGUgPSAoYyA+PSAweDA1OTEgJiYgYyA8PSAweDA4RkYpIHx8IGMgPT0gMHhGQjFFO1xuXHRcdFx0XHRcblx0XHRcdFx0d1R5cGUgPSB0eXBlc1tpXTtcblx0XHRcdFx0aWYgKHJ0bENhbmRpZGF0ZSAmJiAod1R5cGUgPT0gUiB8fCB3VHlwZSA9PSBBTCkpe1xuXHRcdFx0XHRcdHJldHVybiBSO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmIChpeCA8IDEgfHwgKHdUeXBlID0gdHlwZXNbaXggLSAxXSkgPT0gQil7XG5cdFx0XHRcdHJldHVybiBPTjtcblx0XHRcdH1cblx0XHRcdHJldHVybiBjbGFzc2VzW2l4IC0gMV07XG5cdFx0Y2FzZSBCOlxuXHRcdFx0bGFzdEFyYWJpYyA9IGZhbHNlO1xuXHRcdFx0aGFzVUJBVF9CID0gdHJ1ZTtcblx0XHRcdHJldHVybiBkaXI7XG5cdFx0Y2FzZSBTOlxuXHRcdFx0aGFzVUJBVF9TID0gdHJ1ZTtcblx0XHRcdHJldHVybiBPTjtcblx0XHRjYXNlIExSRTpcblx0XHRjYXNlIFJMRTpcblx0XHRjYXNlIExSTzpcblx0XHRjYXNlIFJMTzpcblx0XHRjYXNlIFBERjpcblx0XHRcdGxhc3RBcmFiaWMgPSBmYWxzZTtcblx0XHRjYXNlIEJOOlxuXHRcdFx0cmV0dXJuIE9OO1xuXHR9XG59XG5cbmZ1bmN0aW9uIF9nZXRDaGFyYWN0ZXJUeXBlKCBjaCApIHtcdFx0XG5cdHZhciB1YyA9IGNoLmNoYXJDb2RlQXQoMCksIGhpID0gdWMgPj4gODtcblx0XG5cdGlmIChoaSA9PSAwKSB7XHRcdFxuXHRcdHJldHVybiAoKHVjID4gMHgwMEJGKSA/IEwgOiBVbmljb2RlVEJMMDBbdWNdKTtcblx0fSBlbHNlIGlmIChoaSA9PSA1KSB7XG5cdFx0cmV0dXJuICgvW1xcdTA1OTEtXFx1MDVmNF0vLnRlc3QoY2gpID8gUiA6IEwpO1xuXHR9IGVsc2UgaWYgKGhpID09IDYpIHtcblx0XHRpZiAoL1tcXHUwNjEwLVxcdTA2MWFcXHUwNjRiLVxcdTA2NWZcXHUwNmQ2LVxcdTA2ZTRcXHUwNmU3LVxcdTA2ZWRdLy50ZXN0KGNoKSlcblx0XHRcdHJldHVybiBOU007XG5cdFx0ZWxzZSBpZiAoL1tcXHUwNjYwLVxcdTA2NjlcXHUwNjZiLVxcdTA2NmNdLy50ZXN0KGNoKSlcblx0XHRcdHJldHVybiBBTjtcblx0XHRlbHNlIGlmICh1YyA9PSAweDA2NkEpXG5cdFx0XHRyZXR1cm4gRVQ7XG5cdFx0ZWxzZSBpZiAoL1tcXHUwNmYwLVxcdTA2ZjldLy50ZXN0KGNoKSlcblx0XHRcdHJldHVybiBFTjtcdFx0XHRcblx0XHRlbHNlXG5cdFx0XHRyZXR1cm4gQUw7XG5cdH0gZWxzZSBpZiAoaGkgPT0gMHgyMCAmJiB1YyA8PSAweDIwNUYpIHtcblx0XHRyZXR1cm4gVW5pY29kZVRCTDIwW3VjICYgMHhGRl07XG5cdH0gZWxzZSBpZiAoaGkgPT0gMHhGRSkge1xuXHRcdHJldHVybiAodWMgPj0gMHhGRTcwID8gQUwgOiBPTik7XG5cdH1cdFx0XG5cdHJldHVybiBPTjtcdFxufVxuXG5mdW5jdGlvbiBfaXNBcmFiaWNEaWFjcml0aWNzKCBjaCApIHtcblx0cmV0dXJuIChjaCA+PSAnXFx1MDY0YicgJiYgY2ggPD0gJ1xcdTA2NTUnKTtcbn1cbmV4cG9ydHMuTCA9IEw7XG5leHBvcnRzLlIgPSBSO1xuZXhwb3J0cy5FTiA9IEVOO1xuZXhwb3J0cy5PTl9SID0gMztcbmV4cG9ydHMuQU4gPSA0O1xuZXhwb3J0cy5SX0ggPSA1O1xuZXhwb3J0cy5CID0gNjtcbmV4cG9ydHMuUkxFID0gNztcblxuZXhwb3J0cy5ET1QgPSBcIlxceEI3XCI7XG5leHBvcnRzLmRvQmlkaVJlb3JkZXIgPSBmdW5jdGlvbih0ZXh0LCB0ZXh0Q2hhclR5cGVzLCBpc1J0bCkge1xuXHRpZiAodGV4dC5sZW5ndGggPCAyKVxuXHRcdHJldHVybiB7fTtcblx0XHRcblx0dmFyIGNoYXJzID0gdGV4dC5zcGxpdChcIlwiKSwgbG9naWNhbEZyb21WaXN1YWwgPSBuZXcgQXJyYXkoY2hhcnMubGVuZ3RoKSxcblx0XHRiaWRpTGV2ZWxzID0gbmV3IEFycmF5KGNoYXJzLmxlbmd0aCksIGxldmVscyA9IFtdOyBcblxuXHRkaXIgPSBpc1J0bCA/IFJUTCA6IExUUjtcblxuXHRfY29tcHV0ZUxldmVscyhjaGFycywgbGV2ZWxzLCBjaGFycy5sZW5ndGgsIHRleHRDaGFyVHlwZXMpO1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbG9naWNhbEZyb21WaXN1YWwubGVuZ3RoOyBsb2dpY2FsRnJvbVZpc3VhbFtpXSA9IGksIGkrKyk7XG5cblx0X2ludmVydExldmVsKDIsIGxldmVscywgbG9naWNhbEZyb21WaXN1YWwpO1xuXHRfaW52ZXJ0TGV2ZWwoMSwgbGV2ZWxzLCBsb2dpY2FsRnJvbVZpc3VhbCk7XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsb2dpY2FsRnJvbVZpc3VhbC5sZW5ndGggLSAxOyBpKyspIHsgLy9maXggbGV2ZWxzIHRvIHJlZmxlY3QgY2hhcmFjdGVyIHdpZHRoXG5cdFx0aWYgKHRleHRDaGFyVHlwZXNbaV0gPT09IEFOKSB7XG5cdFx0XHRsZXZlbHNbaV0gPSBleHBvcnRzLkFOO1xuXHRcdH0gZWxzZSBpZiAobGV2ZWxzW2ldID09PSBSICYmICgodGV4dENoYXJUeXBlc1tpXSA+IEFMICYmIHRleHRDaGFyVHlwZXNbaV0gPCBMUkUpIFxuXHRcdFx0fHwgdGV4dENoYXJUeXBlc1tpXSA9PT0gT04gfHwgdGV4dENoYXJUeXBlc1tpXSA9PT0gQk4pKSB7XG5cdFx0XHRsZXZlbHNbaV0gPSBleHBvcnRzLk9OX1I7XG5cdFx0fSBlbHNlIGlmICgoaSA+IDAgJiYgY2hhcnNbaSAtIDFdID09PSAnXFx1MDY0NCcpICYmIC9cXHUwNjIyfFxcdTA2MjN8XFx1MDYyNXxcXHUwNjI3Ly50ZXN0KGNoYXJzW2ldKSkge1xuXHRcdFx0bGV2ZWxzW2kgLSAxXSA9IGxldmVsc1tpXSA9IGV4cG9ydHMuUl9IO1xuXHRcdFx0aSsrO1xuXHRcdH1cblx0fVxuXHRpZiAoY2hhcnNbY2hhcnMubGVuZ3RoIC0gMV0gPT09IGV4cG9ydHMuRE9UKVxuXHRcdGxldmVsc1tjaGFycy5sZW5ndGggLSAxXSA9IGV4cG9ydHMuQjtcblx0XHRcdFx0XG5cdGlmIChjaGFyc1swXSA9PT0gJ1xcdTIwMkInKVxuXHRcdGxldmVsc1swXSA9IGV4cG9ydHMuUkxFO1xuXHRcdFx0XHRcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsb2dpY2FsRnJvbVZpc3VhbC5sZW5ndGg7IGkrKykge1xuXHRcdGJpZGlMZXZlbHNbaV0gPSBsZXZlbHNbbG9naWNhbEZyb21WaXN1YWxbaV1dO1xuXHR9XG5cblx0cmV0dXJuIHsnbG9naWNhbEZyb21WaXN1YWwnOiBsb2dpY2FsRnJvbVZpc3VhbCwgJ2JpZGlMZXZlbHMnOiBiaWRpTGV2ZWxzfTtcbn07XG5leHBvcnRzLmhhc0JpZGlDaGFyYWN0ZXJzID0gZnVuY3Rpb24odGV4dCwgdGV4dENoYXJUeXBlcyl7XG5cdHZhciByZXQgPSBmYWxzZTtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0Lmxlbmd0aDsgaSsrKXtcblx0XHR0ZXh0Q2hhclR5cGVzW2ldID0gX2dldENoYXJhY3RlclR5cGUodGV4dC5jaGFyQXQoaSkpO1xuXHRcdGlmICghcmV0ICYmICh0ZXh0Q2hhclR5cGVzW2ldID09IFIgfHwgdGV4dENoYXJUeXBlc1tpXSA9PSBBTCB8fCB0ZXh0Q2hhclR5cGVzW2ldID09IEFOKSlcblx0XHRcdHJldCA9IHRydWU7XG5cdH1cblx0cmV0dXJuIHJldDtcbn07XHRcbmV4cG9ydHMuZ2V0VmlzdWFsRnJvbUxvZ2ljYWxJZHggPSBmdW5jdGlvbihsb2dJZHgsIHJvd01hcCkge1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IHJvd01hcC5sb2dpY2FsRnJvbVZpc3VhbC5sZW5ndGg7IGkrKykge1xuXHRcdGlmIChyb3dNYXAubG9naWNhbEZyb21WaXN1YWxbaV0gPT0gbG9nSWR4KVxuXHRcdFx0cmV0dXJuIGk7XG5cdH1cblx0cmV0dXJuIDA7XG59O1xuXG59KTtcblxuYWNlLmRlZmluZShcImFjZS9iaWRpaGFuZGxlclwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9iaWRpdXRpbFwiLFwiYWNlL2xpYi9sYW5nXCJdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgYmlkaVV0aWwgPSByZXF1aXJlKFwiLi9saWIvYmlkaXV0aWxcIik7XG52YXIgbGFuZyA9IHJlcXVpcmUoXCIuL2xpYi9sYW5nXCIpO1xudmFyIGJpZGlSRSA9IC9bXFx1MDU5MC1cXHUwNWY0XFx1MDYwMC1cXHUwNmZmXFx1MDcwMC1cXHUwOGFjXFx1MjAyQl0vO1xudmFyIEJpZGlIYW5kbGVyID0gZnVuY3Rpb24oc2Vzc2lvbikge1xuICAgIHRoaXMuc2Vzc2lvbiA9IHNlc3Npb247XG4gICAgdGhpcy5iaWRpTWFwID0ge307XG4gICAgdGhpcy5jdXJyZW50Um93ID0gbnVsbDtcbiAgICB0aGlzLmJpZGlVdGlsID0gYmlkaVV0aWw7XG4gICAgdGhpcy5jaGFyV2lkdGhzID0gW107XG4gICAgdGhpcy5FT0wgPSBcIlxceEFDXCI7XG4gICAgdGhpcy5zaG93SW52aXNpYmxlcyA9IHRydWU7XG4gICAgdGhpcy5pc1J0bERpciA9IGZhbHNlO1xuICAgIHRoaXMuJGlzUnRsID0gZmFsc2U7XG4gICAgdGhpcy5saW5lID0gXCJcIjtcbiAgICB0aGlzLndyYXBJbmRlbnQgPSAwO1xuICAgIHRoaXMuRU9GID0gXCJcXHhCNlwiO1xuICAgIHRoaXMuUkxFID0gXCJcXHUyMDJCXCI7XG4gICAgdGhpcy5jb250ZW50V2lkdGggPSAwO1xuICAgIHRoaXMuZm9udE1ldHJpY3MgPSBudWxsO1xuICAgIHRoaXMucnRsTGluZU9mZnNldCA9IDA7XG4gICAgdGhpcy53cmFwT2Zmc2V0ID0gMDtcbiAgICB0aGlzLmlzTW92ZUxlZnRPcGVyYXRpb24gPSBmYWxzZTtcbiAgICB0aGlzLnNlZW5CaWRpID0gYmlkaVJFLnRlc3Qoc2Vzc2lvbi5nZXRWYWx1ZSgpKTtcbn07XG5cbihmdW5jdGlvbigpIHtcbiAgICB0aGlzLmlzQmlkaVJvdyA9IGZ1bmN0aW9uKHNjcmVlblJvdywgZG9jUm93LCBzcGxpdEluZGV4KSB7XG4gICAgICAgIGlmICghdGhpcy5zZWVuQmlkaSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKHNjcmVlblJvdyAhPT0gdGhpcy5jdXJyZW50Um93KSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRSb3cgPSBzY3JlZW5Sb3c7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVJvd0xpbmUoZG9jUm93LCBzcGxpdEluZGV4KTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQmlkaU1hcCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmJpZGlNYXAuYmlkaUxldmVscztcbiAgICB9O1xuXG4gICAgdGhpcy5vbkNoYW5nZSA9IGZ1bmN0aW9uKGRlbHRhKSB7XG4gICAgICAgIGlmICghdGhpcy5zZWVuQmlkaSkge1xuICAgICAgICAgICAgaWYgKGRlbHRhLmFjdGlvbiA9PSBcImluc2VydFwiICYmIGJpZGlSRS50ZXN0KGRlbHRhLmxpbmVzLmpvaW4oXCJcXG5cIikpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWVuQmlkaSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Um93ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRSb3cgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0RG9jdW1lbnRSb3cgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGRvY1JvdyA9IDA7XG4gICAgICAgIHZhciByb3dDYWNoZSA9IHRoaXMuc2Vzc2lvbi4kc2NyZWVuUm93Q2FjaGU7XG4gICAgICAgIGlmIChyb3dDYWNoZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuc2Vzc2lvbi4kZ2V0Um93Q2FjaGVJbmRleChyb3dDYWNoZSwgdGhpcy5jdXJyZW50Um93KTtcbiAgICAgICAgICAgIGlmIChpbmRleCA+PSAwKVxuICAgICAgICAgICAgICAgIGRvY1JvdyA9IHRoaXMuc2Vzc2lvbi4kZG9jUm93Q2FjaGVbaW5kZXhdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRvY1JvdztcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRTcGxpdEluZGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzcGxpdEluZGV4ID0gMDtcbiAgICAgICAgdmFyIHJvd0NhY2hlID0gdGhpcy5zZXNzaW9uLiRzY3JlZW5Sb3dDYWNoZTtcbiAgICAgICAgaWYgKHJvd0NhY2hlLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRJbmRleCwgcHJldkluZGV4ID0gdGhpcy5zZXNzaW9uLiRnZXRSb3dDYWNoZUluZGV4KHJvd0NhY2hlLCB0aGlzLmN1cnJlbnRSb3cpO1xuICAgICAgICAgICAgd2hpbGUgKHRoaXMuY3VycmVudFJvdyAtIHNwbGl0SW5kZXggPiAwKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudEluZGV4ID0gdGhpcy5zZXNzaW9uLiRnZXRSb3dDYWNoZUluZGV4KHJvd0NhY2hlLCB0aGlzLmN1cnJlbnRSb3cgLSBzcGxpdEluZGV4IC0gMSk7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRJbmRleCAhPT0gcHJldkluZGV4KVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIHByZXZJbmRleCA9IGN1cnJlbnRJbmRleDtcbiAgICAgICAgICAgICAgICBzcGxpdEluZGV4Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzcGxpdEluZGV4ID0gdGhpcy5jdXJyZW50Um93O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNwbGl0SW5kZXg7XG4gICAgfTtcblxuICAgIHRoaXMudXBkYXRlUm93TGluZSA9IGZ1bmN0aW9uKGRvY1Jvdywgc3BsaXRJbmRleCkge1xuICAgICAgICBpZiAoZG9jUm93ID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICBkb2NSb3cgPSB0aGlzLmdldERvY3VtZW50Um93KCk7XG4gICAgICAgICAgICBcbiAgICAgICAgdmFyIGlzTGFzdFJvdyA9IChkb2NSb3cgPT09IHRoaXMuc2Vzc2lvbi5nZXRMZW5ndGgoKSAtIDEpLFxuICAgICAgICAgICAgZW5kT2ZMaW5lID0gaXNMYXN0Um93ID8gdGhpcy5FT0YgOiB0aGlzLkVPTDtcblxuICAgICAgICB0aGlzLndyYXBJbmRlbnQgPSAwO1xuICAgICAgICB0aGlzLmxpbmUgPSB0aGlzLnNlc3Npb24uZ2V0TGluZShkb2NSb3cpO1xuICAgICAgICB0aGlzLmlzUnRsRGlyID0gdGhpcy4kaXNSdGwgfHwgdGhpcy5saW5lLmNoYXJBdCgwKSA9PT0gdGhpcy5STEU7XG4gICAgICAgIGlmICh0aGlzLnNlc3Npb24uJHVzZVdyYXBNb2RlKSB7XG4gICAgICAgICAgICB2YXIgc3BsaXRzID0gdGhpcy5zZXNzaW9uLiR3cmFwRGF0YVtkb2NSb3ddO1xuICAgICAgICAgICAgaWYgKHNwbGl0cykge1xuICAgICAgICAgICAgICAgIGlmIChzcGxpdEluZGV4ID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgIHNwbGl0SW5kZXggPSB0aGlzLmdldFNwbGl0SW5kZXgoKTtcblxuICAgICAgICAgICAgICAgIGlmKHNwbGl0SW5kZXggPiAwICYmIHNwbGl0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53cmFwSW5kZW50ID0gc3BsaXRzLmluZGVudDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53cmFwT2Zmc2V0ID0gdGhpcy53cmFwSW5kZW50ICogdGhpcy5jaGFyV2lkdGhzW2JpZGlVdGlsLkxdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpbmUgPSAoc3BsaXRJbmRleCA8IHNwbGl0cy5sZW5ndGgpID9cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGluZS5zdWJzdHJpbmcoc3BsaXRzW3NwbGl0SW5kZXggLSAxXSwgc3BsaXRzW3NwbGl0SW5kZXhdKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5saW5lLnN1YnN0cmluZyhzcGxpdHNbc3BsaXRzLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpbmUgPSB0aGlzLmxpbmUuc3Vic3RyaW5nKDAsIHNwbGl0c1tzcGxpdEluZGV4XSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHNwbGl0SW5kZXggPT0gc3BsaXRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpbmUgKz0gKHRoaXMuc2hvd0ludmlzaWJsZXMpID8gZW5kT2ZMaW5lIDogYmlkaVV0aWwuRE9UO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubGluZSArPSB0aGlzLnNob3dJbnZpc2libGVzID8gZW5kT2ZMaW5lIDogYmlkaVV0aWwuRE9UO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzZXNzaW9uID0gdGhpcy5zZXNzaW9uLCBzaGlmdCA9IDAsIHNpemU7XG4gICAgICAgIHRoaXMubGluZSA9IHRoaXMubGluZS5yZXBsYWNlKC9cXHR8W1xcdTExMDAtXFx1MjAyOSwgXFx1MjAyRi1cXHVGRkU2XS9nLCBmdW5jdGlvbihjaCwgaSl7XG4gICAgICAgICAgICBpZiAoY2ggPT09ICdcXHQnIHx8IHNlc3Npb24uaXNGdWxsV2lkdGgoY2guY2hhckNvZGVBdCgwKSkpIHtcbiAgICAgICAgICAgICAgICBzaXplID0gKGNoID09PSAnXFx0JykgPyBzZXNzaW9uLmdldFNjcmVlblRhYlNpemUoaSArIHNoaWZ0KSA6IDI7XG4gICAgICAgICAgICAgICAgc2hpZnQgKz0gc2l6ZSAtIDE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxhbmcuc3RyaW5nUmVwZWF0KGJpZGlVdGlsLkRPVCwgc2l6ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2g7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLmlzUnRsRGlyKSB7XG4gICAgICAgICAgICB0aGlzLmZvbnRNZXRyaWNzLiRtYWluLnRleHRDb250ZW50ID0gKHRoaXMubGluZS5jaGFyQXQodGhpcy5saW5lLmxlbmd0aCAtIDEpID09IGJpZGlVdGlsLkRPVCkgPyB0aGlzLmxpbmUuc3Vic3RyKDAsIHRoaXMubGluZS5sZW5ndGggLSAxKSA6IHRoaXMubGluZTtcbiAgICAgICAgICAgIHRoaXMucnRsTGluZU9mZnNldCA9IHRoaXMuY29udGVudFdpZHRoIC0gdGhpcy5mb250TWV0cmljcy4kbWFpbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgdGhpcy51cGRhdGVCaWRpTWFwID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB0ZXh0Q2hhclR5cGVzID0gW107XG4gICAgICAgIGlmIChiaWRpVXRpbC5oYXNCaWRpQ2hhcmFjdGVycyh0aGlzLmxpbmUsIHRleHRDaGFyVHlwZXMpIHx8IHRoaXMuaXNSdGxEaXIpIHtcbiAgICAgICAgICAgICB0aGlzLmJpZGlNYXAgPSBiaWRpVXRpbC5kb0JpZGlSZW9yZGVyKHRoaXMubGluZSwgdGV4dENoYXJUeXBlcywgdGhpcy5pc1J0bERpcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmJpZGlNYXAgPSB7fTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5tYXJrQXNEaXJ0eSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmN1cnJlbnRSb3cgPSBudWxsO1xuICAgIH07XG4gICAgdGhpcy51cGRhdGVDaGFyYWN0ZXJXaWR0aHMgPSBmdW5jdGlvbihmb250TWV0cmljcykge1xuICAgICAgICBpZiAodGhpcy5jaGFyYWN0ZXJXaWR0aCA9PT0gZm9udE1ldHJpY3MuJGNoYXJhY3RlclNpemUud2lkdGgpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdGhpcy5mb250TWV0cmljcyA9IGZvbnRNZXRyaWNzO1xuICAgICAgICB2YXIgY2hhcmFjdGVyV2lkdGggPSB0aGlzLmNoYXJhY3RlcldpZHRoID0gZm9udE1ldHJpY3MuJGNoYXJhY3RlclNpemUud2lkdGg7XG4gICAgICAgIHZhciBiaWRpQ2hhcldpZHRoID0gZm9udE1ldHJpY3MuJG1lYXN1cmVDaGFyV2lkdGgoXCJcXHUwNWQ0XCIpO1xuXG4gICAgICAgIHRoaXMuY2hhcldpZHRoc1tiaWRpVXRpbC5MXSA9IHRoaXMuY2hhcldpZHRoc1tiaWRpVXRpbC5FTl0gPSB0aGlzLmNoYXJXaWR0aHNbYmlkaVV0aWwuT05fUl0gPSBjaGFyYWN0ZXJXaWR0aDtcbiAgICAgICAgdGhpcy5jaGFyV2lkdGhzW2JpZGlVdGlsLlJdID0gdGhpcy5jaGFyV2lkdGhzW2JpZGlVdGlsLkFOXSA9IGJpZGlDaGFyV2lkdGg7XG4gICAgICAgIHRoaXMuY2hhcldpZHRoc1tiaWRpVXRpbC5SX0hdID0gYmlkaUNoYXJXaWR0aCAqIDAuNDU7XG4gICAgICAgIHRoaXMuY2hhcldpZHRoc1tiaWRpVXRpbC5CXSA9IHRoaXMuY2hhcldpZHRoc1tiaWRpVXRpbC5STEVdID0gMDtcblxuICAgICAgICB0aGlzLmN1cnJlbnRSb3cgPSBudWxsO1xuICAgIH07XG5cbiAgICB0aGlzLnNldFNob3dJbnZpc2libGVzID0gZnVuY3Rpb24oc2hvd0ludmlzaWJsZXMpIHtcbiAgICAgICAgdGhpcy5zaG93SW52aXNpYmxlcyA9IHNob3dJbnZpc2libGVzO1xuICAgICAgICB0aGlzLmN1cnJlbnRSb3cgPSBudWxsO1xuICAgIH07XG5cbiAgICB0aGlzLnNldEVvbENoYXIgPSBmdW5jdGlvbihlb2xDaGFyKSB7XG4gICAgICAgIHRoaXMuRU9MID0gZW9sQ2hhcjsgXG4gICAgfTtcblxuICAgIHRoaXMuc2V0Q29udGVudFdpZHRoID0gZnVuY3Rpb24od2lkdGgpIHtcbiAgICAgICAgdGhpcy5jb250ZW50V2lkdGggPSB3aWR0aDtcbiAgICB9O1xuXG4gICAgdGhpcy5pc1J0bExpbmUgPSBmdW5jdGlvbihyb3cpIHtcbiAgICAgICAgaWYgKHRoaXMuJGlzUnRsKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKHJvdyAhPSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuc2Vzc2lvbi5nZXRMaW5lKHJvdykuY2hhckF0KDApID09IHRoaXMuUkxFKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNSdGxEaXI7IFxuICAgIH07XG5cbiAgICB0aGlzLnNldFJ0bERpcmVjdGlvbiA9IGZ1bmN0aW9uKGVkaXRvciwgaXNSdGxEaXIpIHtcbiAgICAgICAgdmFyIGN1cnNvciA9IGVkaXRvci5nZXRDdXJzb3JQb3NpdGlvbigpOyBcbiAgICAgICAgZm9yICh2YXIgcm93ID0gZWRpdG9yLnNlbGVjdGlvbi5nZXRTZWxlY3Rpb25BbmNob3IoKS5yb3c7IHJvdyA8PSBjdXJzb3Iucm93OyByb3crKykge1xuICAgICAgICAgICAgaWYgKCFpc1J0bERpciAmJiBlZGl0b3Iuc2Vzc2lvbi5nZXRMaW5lKHJvdykuY2hhckF0KDApID09PSBlZGl0b3Iuc2Vzc2lvbi4kYmlkaUhhbmRsZXIuUkxFKVxuICAgICAgICAgICAgICAgIGVkaXRvci5zZXNzaW9uLmRvYy5yZW1vdmVJbkxpbmUocm93LCAwLCAxKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzUnRsRGlyICYmIGVkaXRvci5zZXNzaW9uLmdldExpbmUocm93KS5jaGFyQXQoMCkgIT09IGVkaXRvci5zZXNzaW9uLiRiaWRpSGFuZGxlci5STEUpXG4gICAgICAgICAgICAgICAgZWRpdG9yLnNlc3Npb24uZG9jLmluc2VydCh7Y29sdW1uOiAwLCByb3c6IHJvd30sIGVkaXRvci5zZXNzaW9uLiRiaWRpSGFuZGxlci5STEUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmdldFBvc0xlZnQgPSBmdW5jdGlvbihjb2wpIHtcbiAgICAgICAgY29sIC09IHRoaXMud3JhcEluZGVudDtcbiAgICAgICAgdmFyIGxlZnRCb3VuZGFyeSA9ICh0aGlzLmxpbmUuY2hhckF0KDApID09PSB0aGlzLlJMRSkgPyAxIDogMDtcbiAgICAgICAgdmFyIGxvZ2ljYWxJZHggPSAoY29sID4gbGVmdEJvdW5kYXJ5KSA/ICh0aGlzLnNlc3Npb24uZ2V0T3ZlcndyaXRlKCkgPyBjb2wgOiBjb2wgLSAxKSA6IGxlZnRCb3VuZGFyeTtcbiAgICAgICAgdmFyIHZpc3VhbElkeCA9IGJpZGlVdGlsLmdldFZpc3VhbEZyb21Mb2dpY2FsSWR4KGxvZ2ljYWxJZHgsIHRoaXMuYmlkaU1hcCksXG4gICAgICAgICAgICBsZXZlbHMgPSB0aGlzLmJpZGlNYXAuYmlkaUxldmVscywgbGVmdCA9IDA7XG5cbiAgICAgICAgaWYgKCF0aGlzLnNlc3Npb24uZ2V0T3ZlcndyaXRlKCkgJiYgY29sIDw9IGxlZnRCb3VuZGFyeSAmJiBsZXZlbHNbdmlzdWFsSWR4XSAlIDIgIT09IDApXG4gICAgICAgICAgICB2aXN1YWxJZHgrKztcbiAgICAgICAgICAgIFxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZpc3VhbElkeDsgaSsrKSB7XG4gICAgICAgICAgICBsZWZ0ICs9IHRoaXMuY2hhcldpZHRoc1tsZXZlbHNbaV1dO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnNlc3Npb24uZ2V0T3ZlcndyaXRlKCkgJiYgKGNvbCA+IGxlZnRCb3VuZGFyeSkgJiYgKGxldmVsc1t2aXN1YWxJZHhdICUgMiA9PT0gMCkpXG4gICAgICAgICAgICBsZWZ0ICs9IHRoaXMuY2hhcldpZHRoc1tsZXZlbHNbdmlzdWFsSWR4XV07XG5cbiAgICAgICAgaWYgKHRoaXMud3JhcEluZGVudClcbiAgICAgICAgICAgIGxlZnQgKz0gdGhpcy5pc1J0bERpciA/ICgtMSAqIHRoaXMud3JhcE9mZnNldCkgOiB0aGlzLndyYXBPZmZzZXQ7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNSdGxEaXIpXG4gICAgICAgICAgICBsZWZ0ICs9IHRoaXMucnRsTGluZU9mZnNldDtcblxuICAgICAgICByZXR1cm4gbGVmdDtcbiAgICB9O1xuICAgIHRoaXMuZ2V0U2VsZWN0aW9ucyA9IGZ1bmN0aW9uKHN0YXJ0Q29sLCBlbmRDb2wpIHtcbiAgICAgICAgdmFyIG1hcCA9IHRoaXMuYmlkaU1hcCwgbGV2ZWxzID0gbWFwLmJpZGlMZXZlbHMsIGxldmVsLCBzZWxlY3Rpb25zID0gW10sIG9mZnNldCA9IDAsXG4gICAgICAgICAgICBzZWxDb2xNaW4gPSBNYXRoLm1pbihzdGFydENvbCwgZW5kQ29sKSAtIHRoaXMud3JhcEluZGVudCwgc2VsQ29sTWF4ID0gTWF0aC5tYXgoc3RhcnRDb2wsIGVuZENvbCkgLSB0aGlzLndyYXBJbmRlbnQsXG4gICAgICAgICAgICAgICAgaXNTZWxlY3RlZCA9IGZhbHNlLCBpc1NlbGVjdGVkUHJldiA9IGZhbHNlLCBzZWxlY3Rpb25TdGFydCA9IDA7XG4gICAgICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMud3JhcEluZGVudClcbiAgICAgICAgICAgIG9mZnNldCArPSB0aGlzLmlzUnRsRGlyID8gKC0xICogdGhpcy53cmFwT2Zmc2V0KSA6IHRoaXMud3JhcE9mZnNldDtcblxuICAgICAgICBmb3IgKHZhciBsb2dJZHgsIHZpc0lkeCA9IDA7IHZpc0lkeCA8IGxldmVscy5sZW5ndGg7IHZpc0lkeCsrKSB7XG4gICAgICAgICAgICBsb2dJZHggPSBtYXAubG9naWNhbEZyb21WaXN1YWxbdmlzSWR4XTtcbiAgICAgICAgICAgIGxldmVsID0gbGV2ZWxzW3Zpc0lkeF07XG4gICAgICAgICAgICBpc1NlbGVjdGVkID0gKGxvZ0lkeCA+PSBzZWxDb2xNaW4pICYmIChsb2dJZHggPCBzZWxDb2xNYXgpO1xuICAgICAgICAgICAgaWYgKGlzU2VsZWN0ZWQgJiYgIWlzU2VsZWN0ZWRQcmV2KSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uU3RhcnQgPSBvZmZzZXQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFpc1NlbGVjdGVkICYmIGlzU2VsZWN0ZWRQcmV2KSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0aW9ucy5wdXNoKHtsZWZ0OiBzZWxlY3Rpb25TdGFydCwgd2lkdGg6IG9mZnNldCAtIHNlbGVjdGlvblN0YXJ0fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvZmZzZXQgKz0gdGhpcy5jaGFyV2lkdGhzW2xldmVsXTtcbiAgICAgICAgICAgIGlzU2VsZWN0ZWRQcmV2ID0gaXNTZWxlY3RlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc1NlbGVjdGVkICYmICh2aXNJZHggPT09IGxldmVscy5sZW5ndGgpKSB7XG4gICAgICAgICAgICBzZWxlY3Rpb25zLnB1c2goe2xlZnQ6IHNlbGVjdGlvblN0YXJ0LCB3aWR0aDogb2Zmc2V0IC0gc2VsZWN0aW9uU3RhcnR9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKHRoaXMuaXNSdGxEaXIpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHNlbGVjdGlvbnNbaV0ubGVmdCArPSB0aGlzLnJ0bExpbmVPZmZzZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlbGVjdGlvbnM7XG4gICAgfTtcbiAgICB0aGlzLm9mZnNldFRvQ29sID0gZnVuY3Rpb24ocG9zWCkge1xuICAgICAgICBpZih0aGlzLmlzUnRsRGlyKVxuICAgICAgICAgICAgcG9zWCAtPSB0aGlzLnJ0bExpbmVPZmZzZXQ7XG5cbiAgICAgICAgdmFyIGxvZ2ljYWxJZHggPSAwLCBwb3NYID0gTWF0aC5tYXgocG9zWCwgMCksXG4gICAgICAgICAgICBvZmZzZXQgPSAwLCB2aXN1YWxJZHggPSAwLCBsZXZlbHMgPSB0aGlzLmJpZGlNYXAuYmlkaUxldmVscyxcbiAgICAgICAgICAgICAgICBjaGFyV2lkdGggPSB0aGlzLmNoYXJXaWR0aHNbbGV2ZWxzW3Zpc3VhbElkeF1dO1xuXG4gICAgICAgIGlmICh0aGlzLndyYXBJbmRlbnQpXG4gICAgICAgICAgIHBvc1ggLT0gdGhpcy5pc1J0bERpciA/ICgtMSAqIHRoaXMud3JhcE9mZnNldCkgOiB0aGlzLndyYXBPZmZzZXQ7XG4gICAgXG4gICAgICAgIHdoaWxlKHBvc1ggPiBvZmZzZXQgKyBjaGFyV2lkdGgvMikge1xuICAgICAgICAgICAgb2Zmc2V0ICs9IGNoYXJXaWR0aDtcbiAgICAgICAgICAgIGlmKHZpc3VhbElkeCA9PT0gbGV2ZWxzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICBjaGFyV2lkdGggPSAwO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2hhcldpZHRoID0gdGhpcy5jaGFyV2lkdGhzW2xldmVsc1srK3Zpc3VhbElkeF1dO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIGlmICh2aXN1YWxJZHggPiAwICYmIChsZXZlbHNbdmlzdWFsSWR4IC0gMV0gJSAyICE9PSAwKSAmJiAobGV2ZWxzW3Zpc3VhbElkeF0gJSAyID09PSAwKSl7XG4gICAgICAgICAgICBpZihwb3NYIDwgb2Zmc2V0KVxuICAgICAgICAgICAgICAgIHZpc3VhbElkeC0tO1xuICAgICAgICAgICAgbG9naWNhbElkeCA9IHRoaXMuYmlkaU1hcC5sb2dpY2FsRnJvbVZpc3VhbFt2aXN1YWxJZHhdO1xuXG4gICAgICAgIH0gZWxzZSBpZiAodmlzdWFsSWR4ID4gMCAmJiAobGV2ZWxzW3Zpc3VhbElkeCAtIDFdICUgMiA9PT0gMCkgJiYgKGxldmVsc1t2aXN1YWxJZHhdICUgMiAhPT0gMCkpe1xuICAgICAgICAgICAgbG9naWNhbElkeCA9IDEgKyAoKHBvc1ggPiBvZmZzZXQpID8gdGhpcy5iaWRpTWFwLmxvZ2ljYWxGcm9tVmlzdWFsW3Zpc3VhbElkeF1cbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmJpZGlNYXAubG9naWNhbEZyb21WaXN1YWxbdmlzdWFsSWR4IC0gMV0pO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoKHRoaXMuaXNSdGxEaXIgJiYgdmlzdWFsSWR4ID09PSBsZXZlbHMubGVuZ3RoIC0gMSAmJiBjaGFyV2lkdGggPT09IDAgJiYgKGxldmVsc1t2aXN1YWxJZHggLSAxXSAlIDIgPT09IDApKVxuICAgICAgICAgICAgICAgIHx8ICghdGhpcy5pc1J0bERpciAmJiB2aXN1YWxJZHggPT09IDAgJiYgKGxldmVsc1t2aXN1YWxJZHhdICUgMiAhPT0gMCkpKXtcbiAgICAgICAgICAgIGxvZ2ljYWxJZHggPSAxICsgdGhpcy5iaWRpTWFwLmxvZ2ljYWxGcm9tVmlzdWFsW3Zpc3VhbElkeF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodmlzdWFsSWR4ID4gMCAmJiAobGV2ZWxzW3Zpc3VhbElkeCAtIDFdICUgMiAhPT0gMCkgJiYgY2hhcldpZHRoICE9PSAwKVxuICAgICAgICAgICAgICAgIHZpc3VhbElkeC0tO1xuICAgICAgICAgICAgbG9naWNhbElkeCA9IHRoaXMuYmlkaU1hcC5sb2dpY2FsRnJvbVZpc3VhbFt2aXN1YWxJZHhdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxvZ2ljYWxJZHggPT09IDAgJiYgdGhpcy5pc1J0bERpcilcbiAgICAgICAgICAgIGxvZ2ljYWxJZHgrKztcblxuICAgICAgICByZXR1cm4gKGxvZ2ljYWxJZHggKyB0aGlzLndyYXBJbmRlbnQpO1xuICAgIH07XG5cbn0pLmNhbGwoQmlkaUhhbmRsZXIucHJvdG90eXBlKTtcblxuZXhwb3J0cy5CaWRpSGFuZGxlciA9IEJpZGlIYW5kbGVyO1xufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2Uvc2VsZWN0aW9uXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL29vcFwiLFwiYWNlL2xpYi9sYW5nXCIsXCJhY2UvbGliL2V2ZW50X2VtaXR0ZXJcIixcImFjZS9yYW5nZVwiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIG9vcCA9IHJlcXVpcmUoXCIuL2xpYi9vb3BcIik7XG52YXIgbGFuZyA9IHJlcXVpcmUoXCIuL2xpYi9sYW5nXCIpO1xudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoXCIuL2xpYi9ldmVudF9lbWl0dGVyXCIpLkV2ZW50RW1pdHRlcjtcbnZhciBSYW5nZSA9IHJlcXVpcmUoXCIuL3JhbmdlXCIpLlJhbmdlO1xudmFyIFNlbGVjdGlvbiA9IGZ1bmN0aW9uKHNlc3Npb24pIHtcbiAgICB0aGlzLnNlc3Npb24gPSBzZXNzaW9uO1xuICAgIHRoaXMuZG9jID0gc2Vzc2lvbi5nZXREb2N1bWVudCgpO1xuXG4gICAgdGhpcy5jbGVhclNlbGVjdGlvbigpO1xuICAgIHRoaXMuY3Vyc29yID0gdGhpcy5sZWFkID0gdGhpcy5kb2MuY3JlYXRlQW5jaG9yKDAsIDApO1xuICAgIHRoaXMuYW5jaG9yID0gdGhpcy5kb2MuY3JlYXRlQW5jaG9yKDAsIDApO1xuICAgIHRoaXMuJHNpbGVudCA9IGZhbHNlO1xuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHRoaXMuY3Vyc29yLm9uKFwiY2hhbmdlXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgc2VsZi4kY3Vyc29yQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgIGlmICghc2VsZi4kc2lsZW50KVxuICAgICAgICAgICAgc2VsZi5fZW1pdChcImNoYW5nZUN1cnNvclwiKTtcbiAgICAgICAgaWYgKCFzZWxmLiRpc0VtcHR5ICYmICFzZWxmLiRzaWxlbnQpXG4gICAgICAgICAgICBzZWxmLl9lbWl0KFwiY2hhbmdlU2VsZWN0aW9uXCIpO1xuICAgICAgICBpZiAoIXNlbGYuJGtlZXBEZXNpcmVkQ29sdW1uT25DaGFuZ2UgJiYgZS5vbGQuY29sdW1uICE9IGUudmFsdWUuY29sdW1uKVxuICAgICAgICAgICAgc2VsZi4kZGVzaXJlZENvbHVtbiA9IG51bGw7XG4gICAgfSk7XG5cbiAgICB0aGlzLmFuY2hvci5vbihcImNoYW5nZVwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgc2VsZi4kYW5jaG9yQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgIGlmICghc2VsZi4kaXNFbXB0eSAmJiAhc2VsZi4kc2lsZW50KVxuICAgICAgICAgICAgc2VsZi5fZW1pdChcImNoYW5nZVNlbGVjdGlvblwiKTtcbiAgICB9KTtcbn07XG5cbihmdW5jdGlvbigpIHtcblxuICAgIG9vcC5pbXBsZW1lbnQodGhpcywgRXZlbnRFbWl0dGVyKTtcbiAgICB0aGlzLmlzRW1wdHkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJGlzRW1wdHkgfHwgKFxuICAgICAgICAgICAgdGhpcy5hbmNob3Iucm93ID09IHRoaXMubGVhZC5yb3cgJiZcbiAgICAgICAgICAgIHRoaXMuYW5jaG9yLmNvbHVtbiA9PSB0aGlzLmxlYWQuY29sdW1uXG4gICAgICAgICk7XG4gICAgfTtcbiAgICB0aGlzLmlzTXVsdGlMaW5lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy4kaXNFbXB0eSAmJiB0aGlzLmFuY2hvci5yb3cgIT0gdGhpcy5jdXJzb3Iucm93O1xuICAgIH07XG4gICAgdGhpcy5nZXRDdXJzb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGVhZC5nZXRQb3NpdGlvbigpO1xuICAgIH07XG4gICAgdGhpcy5zZXRTZWxlY3Rpb25BbmNob3IgPSBmdW5jdGlvbihyb3csIGNvbHVtbikge1xuICAgICAgICB0aGlzLiRpc0VtcHR5ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYW5jaG9yLnNldFBvc2l0aW9uKHJvdywgY29sdW1uKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0QW5jaG9yID0gXG4gICAgdGhpcy5nZXRTZWxlY3Rpb25BbmNob3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuJGlzRW1wdHkpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRTZWxlY3Rpb25MZWFkKCk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gdGhpcy5hbmNob3IuZ2V0UG9zaXRpb24oKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0U2VsZWN0aW9uTGVhZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sZWFkLmdldFBvc2l0aW9uKCk7XG4gICAgfTtcbiAgICB0aGlzLmlzQmFja3dhcmRzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhbmNob3IgPSB0aGlzLmFuY2hvcjtcbiAgICAgICAgdmFyIGxlYWQgPSB0aGlzLmxlYWQ7XG4gICAgICAgIHJldHVybiAoYW5jaG9yLnJvdyA+IGxlYWQucm93IHx8IChhbmNob3Iucm93ID09IGxlYWQucm93ICYmIGFuY2hvci5jb2x1bW4gPiBsZWFkLmNvbHVtbikpO1xuICAgIH07XG4gICAgdGhpcy5nZXRSYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYW5jaG9yID0gdGhpcy5hbmNob3I7XG4gICAgICAgIHZhciBsZWFkID0gdGhpcy5sZWFkO1xuXG4gICAgICAgIGlmICh0aGlzLiRpc0VtcHR5KVxuICAgICAgICAgICAgcmV0dXJuIFJhbmdlLmZyb21Qb2ludHMobGVhZCwgbGVhZCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaXNCYWNrd2FyZHMoKVxuICAgICAgICAgICAgPyBSYW5nZS5mcm9tUG9pbnRzKGxlYWQsIGFuY2hvcilcbiAgICAgICAgICAgIDogUmFuZ2UuZnJvbVBvaW50cyhhbmNob3IsIGxlYWQpO1xuICAgIH07XG4gICAgdGhpcy5jbGVhclNlbGVjdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXRoaXMuJGlzRW1wdHkpIHtcbiAgICAgICAgICAgIHRoaXMuJGlzRW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fZW1pdChcImNoYW5nZVNlbGVjdGlvblwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5zZWxlY3RBbGwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kc2V0U2VsZWN0aW9uKDAsIDAsIE51bWJlci5NQVhfVkFMVUUsIE51bWJlci5NQVhfVkFMVUUpO1xuICAgIH07XG4gICAgdGhpcy5zZXRSYW5nZSA9XG4gICAgdGhpcy5zZXRTZWxlY3Rpb25SYW5nZSA9IGZ1bmN0aW9uKHJhbmdlLCByZXZlcnNlKSB7XG4gICAgICAgIHZhciBzdGFydCA9IHJldmVyc2UgPyByYW5nZS5lbmQgOiByYW5nZS5zdGFydDtcbiAgICAgICAgdmFyIGVuZCA9IHJldmVyc2UgPyByYW5nZS5zdGFydCA6IHJhbmdlLmVuZDtcbiAgICAgICAgdGhpcy4kc2V0U2VsZWN0aW9uKHN0YXJ0LnJvdywgc3RhcnQuY29sdW1uLCBlbmQucm93LCBlbmQuY29sdW1uKTtcbiAgICB9O1xuXG4gICAgdGhpcy4kc2V0U2VsZWN0aW9uID0gZnVuY3Rpb24oYW5jaG9yUm93LCBhbmNob3JDb2x1bW4sIGN1cnNvclJvdywgY3Vyc29yQ29sdW1uKSB7XG4gICAgICAgIGlmICh0aGlzLiRzaWxlbnQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciB3YXNFbXB0eSA9IHRoaXMuJGlzRW1wdHk7XG4gICAgICAgIHZhciB3YXNNdWx0aXNlbGVjdCA9IHRoaXMuaW5NdWx0aVNlbGVjdE1vZGU7XG4gICAgICAgIHRoaXMuJHNpbGVudCA9IHRydWU7XG4gICAgICAgIHRoaXMuJGN1cnNvckNoYW5nZWQgPSB0aGlzLiRhbmNob3JDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYW5jaG9yLnNldFBvc2l0aW9uKGFuY2hvclJvdywgYW5jaG9yQ29sdW1uKTtcbiAgICAgICAgdGhpcy5jdXJzb3Iuc2V0UG9zaXRpb24oY3Vyc29yUm93LCBjdXJzb3JDb2x1bW4pO1xuICAgICAgICB0aGlzLiRpc0VtcHR5ID0gIVJhbmdlLmNvbXBhcmVQb2ludHModGhpcy5hbmNob3IsIHRoaXMuY3Vyc29yKTtcbiAgICAgICAgdGhpcy4kc2lsZW50ID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLiRjdXJzb3JDaGFuZ2VkKVxuICAgICAgICAgICAgdGhpcy5fZW1pdChcImNoYW5nZUN1cnNvclwiKTtcbiAgICAgICAgaWYgKHRoaXMuJGN1cnNvckNoYW5nZWQgfHwgdGhpcy4kYW5jaG9yQ2hhbmdlZCB8fCB3YXNFbXB0eSAhPSB0aGlzLiRpc0VtcHR5IHx8IHdhc011bHRpc2VsZWN0KVxuICAgICAgICAgICAgdGhpcy5fZW1pdChcImNoYW5nZVNlbGVjdGlvblwiKTtcbiAgICB9O1xuXG4gICAgdGhpcy4kbW92ZVNlbGVjdGlvbiA9IGZ1bmN0aW9uKG1vdmVyKSB7XG4gICAgICAgIHZhciBsZWFkID0gdGhpcy5sZWFkO1xuICAgICAgICBpZiAodGhpcy4kaXNFbXB0eSlcbiAgICAgICAgICAgIHRoaXMuc2V0U2VsZWN0aW9uQW5jaG9yKGxlYWQucm93LCBsZWFkLmNvbHVtbik7XG5cbiAgICAgICAgbW92ZXIuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIHRoaXMuc2VsZWN0VG8gPSBmdW5jdGlvbihyb3csIGNvbHVtbikge1xuICAgICAgICB0aGlzLiRtb3ZlU2VsZWN0aW9uKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG8ocm93LCBjb2x1bW4pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHRoaXMuc2VsZWN0VG9Qb3NpdGlvbiA9IGZ1bmN0aW9uKHBvcykge1xuICAgICAgICB0aGlzLiRtb3ZlU2VsZWN0aW9uKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG9Qb3NpdGlvbihwb3MpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHRoaXMubW92ZVRvID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHtcbiAgICAgICAgdGhpcy5jbGVhclNlbGVjdGlvbigpO1xuICAgICAgICB0aGlzLm1vdmVDdXJzb3JUbyhyb3csIGNvbHVtbik7XG4gICAgfTtcbiAgICB0aGlzLm1vdmVUb1Bvc2l0aW9uID0gZnVuY3Rpb24ocG9zKSB7XG4gICAgICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG9Qb3NpdGlvbihwb3MpO1xuICAgIH07XG4gICAgdGhpcy5zZWxlY3RVcCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiRtb3ZlU2VsZWN0aW9uKHRoaXMubW92ZUN1cnNvclVwKTtcbiAgICB9O1xuICAgIHRoaXMuc2VsZWN0RG93biA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiRtb3ZlU2VsZWN0aW9uKHRoaXMubW92ZUN1cnNvckRvd24pO1xuICAgIH07XG4gICAgdGhpcy5zZWxlY3RSaWdodCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiRtb3ZlU2VsZWN0aW9uKHRoaXMubW92ZUN1cnNvclJpZ2h0KTtcbiAgICB9O1xuICAgIHRoaXMuc2VsZWN0TGVmdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiRtb3ZlU2VsZWN0aW9uKHRoaXMubW92ZUN1cnNvckxlZnQpO1xuICAgIH07XG4gICAgdGhpcy5zZWxlY3RMaW5lU3RhcnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kbW92ZVNlbGVjdGlvbih0aGlzLm1vdmVDdXJzb3JMaW5lU3RhcnQpO1xuICAgIH07XG4gICAgdGhpcy5zZWxlY3RMaW5lRW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJG1vdmVTZWxlY3Rpb24odGhpcy5tb3ZlQ3Vyc29yTGluZUVuZCk7XG4gICAgfTtcbiAgICB0aGlzLnNlbGVjdEZpbGVFbmQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kbW92ZVNlbGVjdGlvbih0aGlzLm1vdmVDdXJzb3JGaWxlRW5kKTtcbiAgICB9O1xuICAgIHRoaXMuc2VsZWN0RmlsZVN0YXJ0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJG1vdmVTZWxlY3Rpb24odGhpcy5tb3ZlQ3Vyc29yRmlsZVN0YXJ0KTtcbiAgICB9O1xuICAgIHRoaXMuc2VsZWN0V29yZFJpZ2h0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJG1vdmVTZWxlY3Rpb24odGhpcy5tb3ZlQ3Vyc29yV29yZFJpZ2h0KTtcbiAgICB9O1xuICAgIHRoaXMuc2VsZWN0V29yZExlZnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kbW92ZVNlbGVjdGlvbih0aGlzLm1vdmVDdXJzb3JXb3JkTGVmdCk7XG4gICAgfTtcbiAgICB0aGlzLmdldFdvcmRSYW5nZSA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY29sdW1uID09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHZhciBjdXJzb3IgPSByb3cgfHwgdGhpcy5sZWFkO1xuICAgICAgICAgICAgcm93ID0gY3Vyc29yLnJvdztcbiAgICAgICAgICAgIGNvbHVtbiA9IGN1cnNvci5jb2x1bW47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5nZXRXb3JkUmFuZ2Uocm93LCBjb2x1bW4pO1xuICAgIH07XG4gICAgdGhpcy5zZWxlY3RXb3JkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuc2V0U2VsZWN0aW9uUmFuZ2UodGhpcy5nZXRXb3JkUmFuZ2UoKSk7XG4gICAgfTtcbiAgICB0aGlzLnNlbGVjdEFXb3JkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBjdXJzb3IgPSB0aGlzLmdldEN1cnNvcigpO1xuICAgICAgICB2YXIgcmFuZ2UgPSB0aGlzLnNlc3Npb24uZ2V0QVdvcmRSYW5nZShjdXJzb3Iucm93LCBjdXJzb3IuY29sdW1uKTtcbiAgICAgICAgdGhpcy5zZXRTZWxlY3Rpb25SYW5nZShyYW5nZSk7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0TGluZVJhbmdlID0gZnVuY3Rpb24ocm93LCBleGNsdWRlTGFzdENoYXIpIHtcbiAgICAgICAgdmFyIHJvd1N0YXJ0ID0gdHlwZW9mIHJvdyA9PSBcIm51bWJlclwiID8gcm93IDogdGhpcy5sZWFkLnJvdztcbiAgICAgICAgdmFyIHJvd0VuZDtcblxuICAgICAgICB2YXIgZm9sZExpbmUgPSB0aGlzLnNlc3Npb24uZ2V0Rm9sZExpbmUocm93U3RhcnQpO1xuICAgICAgICBpZiAoZm9sZExpbmUpIHtcbiAgICAgICAgICAgIHJvd1N0YXJ0ID0gZm9sZExpbmUuc3RhcnQucm93O1xuICAgICAgICAgICAgcm93RW5kID0gZm9sZExpbmUuZW5kLnJvdztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJvd0VuZCA9IHJvd1N0YXJ0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChleGNsdWRlTGFzdENoYXIgPT09IHRydWUpXG4gICAgICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHJvd1N0YXJ0LCAwLCByb3dFbmQsIHRoaXMuc2Vzc2lvbi5nZXRMaW5lKHJvd0VuZCkubGVuZ3RoKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShyb3dTdGFydCwgMCwgcm93RW5kICsgMSwgMCk7XG4gICAgfTtcbiAgICB0aGlzLnNlbGVjdExpbmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5zZXRTZWxlY3Rpb25SYW5nZSh0aGlzLmdldExpbmVSYW5nZSgpKTtcbiAgICB9O1xuICAgIHRoaXMubW92ZUN1cnNvclVwID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMubW92ZUN1cnNvckJ5KC0xLCAwKTtcbiAgICB9O1xuICAgIHRoaXMubW92ZUN1cnNvckRvd24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yQnkoMSwgMCk7XG4gICAgfTtcbiAgICB0aGlzLndvdWxkTW92ZUludG9Tb2Z0VGFiID0gZnVuY3Rpb24oY3Vyc29yLCB0YWJTaXplLCBkaXJlY3Rpb24pIHtcbiAgICAgICAgdmFyIHN0YXJ0ID0gY3Vyc29yLmNvbHVtbjtcbiAgICAgICAgdmFyIGVuZCA9IGN1cnNvci5jb2x1bW4gKyB0YWJTaXplO1xuXG4gICAgICAgIGlmIChkaXJlY3Rpb24gPCAwKSB7XG4gICAgICAgICAgICBzdGFydCA9IGN1cnNvci5jb2x1bW4gLSB0YWJTaXplO1xuICAgICAgICAgICAgZW5kID0gY3Vyc29yLmNvbHVtbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zZXNzaW9uLmlzVGFiU3RvcChjdXJzb3IpICYmIHRoaXMuZG9jLmdldExpbmUoY3Vyc29yLnJvdykuc2xpY2Uoc3RhcnQsIGVuZCkuc3BsaXQoXCIgXCIpLmxlbmd0aC0xID09IHRhYlNpemU7XG4gICAgfTtcbiAgICB0aGlzLm1vdmVDdXJzb3JMZWZ0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBjdXJzb3IgPSB0aGlzLmxlYWQuZ2V0UG9zaXRpb24oKSxcbiAgICAgICAgICAgIGZvbGQ7XG5cbiAgICAgICAgaWYgKGZvbGQgPSB0aGlzLnNlc3Npb24uZ2V0Rm9sZEF0KGN1cnNvci5yb3csIGN1cnNvci5jb2x1bW4sIC0xKSkge1xuICAgICAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG8oZm9sZC5zdGFydC5yb3csIGZvbGQuc3RhcnQuY29sdW1uKTtcbiAgICAgICAgfSBlbHNlIGlmIChjdXJzb3IuY29sdW1uID09PSAwKSB7XG4gICAgICAgICAgICBpZiAoY3Vyc29yLnJvdyA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVDdXJzb3JUbyhjdXJzb3Iucm93IC0gMSwgdGhpcy5kb2MuZ2V0TGluZShjdXJzb3Iucm93IC0gMSkubGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciB0YWJTaXplID0gdGhpcy5zZXNzaW9uLmdldFRhYlNpemUoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLndvdWxkTW92ZUludG9Tb2Z0VGFiKGN1cnNvciwgdGFiU2l6ZSwgLTEpICYmICF0aGlzLnNlc3Npb24uZ2V0TmF2aWdhdGVXaXRoaW5Tb2Z0VGFicygpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yQnkoMCwgLXRhYlNpemUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVDdXJzb3JCeSgwLCAtMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMubW92ZUN1cnNvclJpZ2h0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBjdXJzb3IgPSB0aGlzLmxlYWQuZ2V0UG9zaXRpb24oKSxcbiAgICAgICAgICAgIGZvbGQ7XG4gICAgICAgIGlmIChmb2xkID0gdGhpcy5zZXNzaW9uLmdldEZvbGRBdChjdXJzb3Iucm93LCBjdXJzb3IuY29sdW1uLCAxKSkge1xuICAgICAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG8oZm9sZC5lbmQucm93LCBmb2xkLmVuZC5jb2x1bW4pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMubGVhZC5jb2x1bW4gPT0gdGhpcy5kb2MuZ2V0TGluZSh0aGlzLmxlYWQucm93KS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmxlYWQucm93IDwgdGhpcy5kb2MuZ2V0TGVuZ3RoKCkgLSAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG8odGhpcy5sZWFkLnJvdyArIDEsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHRhYlNpemUgPSB0aGlzLnNlc3Npb24uZ2V0VGFiU2l6ZSgpO1xuICAgICAgICAgICAgdmFyIGN1cnNvciA9IHRoaXMubGVhZDtcbiAgICAgICAgICAgIGlmICh0aGlzLndvdWxkTW92ZUludG9Tb2Z0VGFiKGN1cnNvciwgdGFiU2l6ZSwgMSkgJiYgIXRoaXMuc2Vzc2lvbi5nZXROYXZpZ2F0ZVdpdGhpblNvZnRUYWJzKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVDdXJzb3JCeSgwLCB0YWJTaXplKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yQnkoMCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMubW92ZUN1cnNvckxpbmVTdGFydCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcm93ID0gdGhpcy5sZWFkLnJvdztcbiAgICAgICAgdmFyIGNvbHVtbiA9IHRoaXMubGVhZC5jb2x1bW47XG4gICAgICAgIHZhciBzY3JlZW5Sb3cgPSB0aGlzLnNlc3Npb24uZG9jdW1lbnRUb1NjcmVlblJvdyhyb3csIGNvbHVtbik7XG4gICAgICAgIHZhciBmaXJzdENvbHVtblBvc2l0aW9uID0gdGhpcy5zZXNzaW9uLnNjcmVlblRvRG9jdW1lbnRQb3NpdGlvbihzY3JlZW5Sb3csIDApO1xuICAgICAgICB2YXIgYmVmb3JlQ3Vyc29yID0gdGhpcy5zZXNzaW9uLmdldERpc3BsYXlMaW5lKFxuICAgICAgICAgICAgcm93LCBudWxsLCBmaXJzdENvbHVtblBvc2l0aW9uLnJvdyxcbiAgICAgICAgICAgIGZpcnN0Q29sdW1uUG9zaXRpb24uY29sdW1uXG4gICAgICAgICk7XG5cbiAgICAgICAgdmFyIGxlYWRpbmdTcGFjZSA9IGJlZm9yZUN1cnNvci5tYXRjaCgvXlxccyovKTtcbiAgICAgICAgaWYgKGxlYWRpbmdTcGFjZVswXS5sZW5ndGggIT0gY29sdW1uICYmICF0aGlzLnNlc3Npb24uJHVzZUVtYWNzU3R5bGVMaW5lU3RhcnQpXG4gICAgICAgICAgICBmaXJzdENvbHVtblBvc2l0aW9uLmNvbHVtbiArPSBsZWFkaW5nU3BhY2VbMF0ubGVuZ3RoO1xuICAgICAgICB0aGlzLm1vdmVDdXJzb3JUb1Bvc2l0aW9uKGZpcnN0Q29sdW1uUG9zaXRpb24pO1xuICAgIH07XG4gICAgdGhpcy5tb3ZlQ3Vyc29yTGluZUVuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbGVhZCA9IHRoaXMubGVhZDtcbiAgICAgICAgdmFyIGxpbmVFbmQgPSB0aGlzLnNlc3Npb24uZ2V0RG9jdW1lbnRMYXN0Um93Q29sdW1uUG9zaXRpb24obGVhZC5yb3csIGxlYWQuY29sdW1uKTtcbiAgICAgICAgaWYgKHRoaXMubGVhZC5jb2x1bW4gPT0gbGluZUVuZC5jb2x1bW4pIHtcbiAgICAgICAgICAgIHZhciBsaW5lID0gdGhpcy5zZXNzaW9uLmdldExpbmUobGluZUVuZC5yb3cpO1xuICAgICAgICAgICAgaWYgKGxpbmVFbmQuY29sdW1uID09IGxpbmUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRleHRFbmQgPSBsaW5lLnNlYXJjaCgvXFxzKyQvKTtcbiAgICAgICAgICAgICAgICBpZiAodGV4dEVuZCA+IDApXG4gICAgICAgICAgICAgICAgICAgIGxpbmVFbmQuY29sdW1uID0gdGV4dEVuZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubW92ZUN1cnNvclRvKGxpbmVFbmQucm93LCBsaW5lRW5kLmNvbHVtbik7XG4gICAgfTtcbiAgICB0aGlzLm1vdmVDdXJzb3JGaWxlRW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByb3cgPSB0aGlzLmRvYy5nZXRMZW5ndGgoKSAtIDE7XG4gICAgICAgIHZhciBjb2x1bW4gPSB0aGlzLmRvYy5nZXRMaW5lKHJvdykubGVuZ3RoO1xuICAgICAgICB0aGlzLm1vdmVDdXJzb3JUbyhyb3csIGNvbHVtbik7XG4gICAgfTtcbiAgICB0aGlzLm1vdmVDdXJzb3JGaWxlU3RhcnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG8oMCwgMCk7XG4gICAgfTtcbiAgICB0aGlzLm1vdmVDdXJzb3JMb25nV29yZFJpZ2h0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByb3cgPSB0aGlzLmxlYWQucm93O1xuICAgICAgICB2YXIgY29sdW1uID0gdGhpcy5sZWFkLmNvbHVtbjtcbiAgICAgICAgdmFyIGxpbmUgPSB0aGlzLmRvYy5nZXRMaW5lKHJvdyk7XG4gICAgICAgIHZhciByaWdodE9mQ3Vyc29yID0gbGluZS5zdWJzdHJpbmcoY29sdW1uKTtcblxuICAgICAgICB0aGlzLnNlc3Npb24ubm9uVG9rZW5SZS5sYXN0SW5kZXggPSAwO1xuICAgICAgICB0aGlzLnNlc3Npb24udG9rZW5SZS5sYXN0SW5kZXggPSAwO1xuICAgICAgICB2YXIgZm9sZCA9IHRoaXMuc2Vzc2lvbi5nZXRGb2xkQXQocm93LCBjb2x1bW4sIDEpO1xuICAgICAgICBpZiAoZm9sZCkge1xuICAgICAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG8oZm9sZC5lbmQucm93LCBmb2xkLmVuZC5jb2x1bW4pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNlc3Npb24ubm9uVG9rZW5SZS5leGVjKHJpZ2h0T2ZDdXJzb3IpKSB7XG4gICAgICAgICAgICBjb2x1bW4gKz0gdGhpcy5zZXNzaW9uLm5vblRva2VuUmUubGFzdEluZGV4O1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLm5vblRva2VuUmUubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICAgIHJpZ2h0T2ZDdXJzb3IgPSBsaW5lLnN1YnN0cmluZyhjb2x1bW4pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb2x1bW4gPj0gbGluZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMubW92ZUN1cnNvclRvKHJvdywgbGluZS5sZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yUmlnaHQoKTtcbiAgICAgICAgICAgIGlmIChyb3cgPCB0aGlzLmRvYy5nZXRMZW5ndGgoKSAtIDEpXG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yV29yZFJpZ2h0KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc2Vzc2lvbi50b2tlblJlLmV4ZWMocmlnaHRPZkN1cnNvcikpIHtcbiAgICAgICAgICAgIGNvbHVtbiArPSB0aGlzLnNlc3Npb24udG9rZW5SZS5sYXN0SW5kZXg7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24udG9rZW5SZS5sYXN0SW5kZXggPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG8ocm93LCBjb2x1bW4pO1xuICAgIH07XG4gICAgdGhpcy5tb3ZlQ3Vyc29yTG9uZ1dvcmRMZWZ0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByb3cgPSB0aGlzLmxlYWQucm93O1xuICAgICAgICB2YXIgY29sdW1uID0gdGhpcy5sZWFkLmNvbHVtbjtcbiAgICAgICAgdmFyIGZvbGQ7XG4gICAgICAgIGlmIChmb2xkID0gdGhpcy5zZXNzaW9uLmdldEZvbGRBdChyb3csIGNvbHVtbiwgLTEpKSB7XG4gICAgICAgICAgICB0aGlzLm1vdmVDdXJzb3JUbyhmb2xkLnN0YXJ0LnJvdywgZm9sZC5zdGFydC5jb2x1bW4pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN0ciA9IHRoaXMuc2Vzc2lvbi5nZXRGb2xkU3RyaW5nQXQocm93LCBjb2x1bW4sIC0xKTtcbiAgICAgICAgaWYgKHN0ciA9PSBudWxsKSB7XG4gICAgICAgICAgICBzdHIgPSB0aGlzLmRvYy5nZXRMaW5lKHJvdykuc3Vic3RyaW5nKDAsIGNvbHVtbik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbGVmdE9mQ3Vyc29yID0gbGFuZy5zdHJpbmdSZXZlcnNlKHN0cik7XG4gICAgICAgIHRoaXMuc2Vzc2lvbi5ub25Ub2tlblJlLmxhc3RJbmRleCA9IDA7XG4gICAgICAgIHRoaXMuc2Vzc2lvbi50b2tlblJlLmxhc3RJbmRleCA9IDA7XG4gICAgICAgIGlmICh0aGlzLnNlc3Npb24ubm9uVG9rZW5SZS5leGVjKGxlZnRPZkN1cnNvcikpIHtcbiAgICAgICAgICAgIGNvbHVtbiAtPSB0aGlzLnNlc3Npb24ubm9uVG9rZW5SZS5sYXN0SW5kZXg7XG4gICAgICAgICAgICBsZWZ0T2ZDdXJzb3IgPSBsZWZ0T2ZDdXJzb3Iuc2xpY2UodGhpcy5zZXNzaW9uLm5vblRva2VuUmUubGFzdEluZGV4KTtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5ub25Ub2tlblJlLmxhc3RJbmRleCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbHVtbiA8PSAwKSB7XG4gICAgICAgICAgICB0aGlzLm1vdmVDdXJzb3JUbyhyb3csIDApO1xuICAgICAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yTGVmdCgpO1xuICAgICAgICAgICAgaWYgKHJvdyA+IDApXG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yV29yZExlZnQoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zZXNzaW9uLnRva2VuUmUuZXhlYyhsZWZ0T2ZDdXJzb3IpKSB7XG4gICAgICAgICAgICBjb2x1bW4gLT0gdGhpcy5zZXNzaW9uLnRva2VuUmUubGFzdEluZGV4O1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLnRva2VuUmUubGFzdEluZGV4ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubW92ZUN1cnNvclRvKHJvdywgY29sdW1uKTtcbiAgICB9O1xuXG4gICAgdGhpcy4kc2hvcnRXb3JkRW5kSW5kZXggPSBmdW5jdGlvbihyaWdodE9mQ3Vyc29yKSB7XG4gICAgICAgIHZhciBpbmRleCA9IDAsIGNoO1xuICAgICAgICB2YXIgd2hpdGVzcGFjZVJlID0gL1xccy87XG4gICAgICAgIHZhciB0b2tlblJlID0gdGhpcy5zZXNzaW9uLnRva2VuUmU7XG5cbiAgICAgICAgdG9rZW5SZS5sYXN0SW5kZXggPSAwO1xuICAgICAgICBpZiAodGhpcy5zZXNzaW9uLnRva2VuUmUuZXhlYyhyaWdodE9mQ3Vyc29yKSkge1xuICAgICAgICAgICAgaW5kZXggPSB0aGlzLnNlc3Npb24udG9rZW5SZS5sYXN0SW5kZXg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3aGlsZSAoKGNoID0gcmlnaHRPZkN1cnNvcltpbmRleF0pICYmIHdoaXRlc3BhY2VSZS50ZXN0KGNoKSlcbiAgICAgICAgICAgICAgICBpbmRleCArKztcblxuICAgICAgICAgICAgaWYgKGluZGV4IDwgMSkge1xuICAgICAgICAgICAgICAgIHRva2VuUmUubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgd2hpbGUgKChjaCA9IHJpZ2h0T2ZDdXJzb3JbaW5kZXhdKSAmJiAhdG9rZW5SZS50ZXN0KGNoKSkge1xuICAgICAgICAgICAgICAgICAgICB0b2tlblJlLmxhc3RJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4ICsrO1xuICAgICAgICAgICAgICAgICAgICBpZiAod2hpdGVzcGFjZVJlLnRlc3QoY2gpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgtLTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKChjaCA9IHJpZ2h0T2ZDdXJzb3JbaW5kZXhdKSAmJiB3aGl0ZXNwYWNlUmUudGVzdChjaCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ICsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IDIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRva2VuUmUubGFzdEluZGV4ID0gMDtcblxuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgfTtcblxuICAgIHRoaXMubW92ZUN1cnNvclNob3J0V29yZFJpZ2h0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByb3cgPSB0aGlzLmxlYWQucm93O1xuICAgICAgICB2YXIgY29sdW1uID0gdGhpcy5sZWFkLmNvbHVtbjtcbiAgICAgICAgdmFyIGxpbmUgPSB0aGlzLmRvYy5nZXRMaW5lKHJvdyk7XG4gICAgICAgIHZhciByaWdodE9mQ3Vyc29yID0gbGluZS5zdWJzdHJpbmcoY29sdW1uKTtcblxuICAgICAgICB2YXIgZm9sZCA9IHRoaXMuc2Vzc2lvbi5nZXRGb2xkQXQocm93LCBjb2x1bW4sIDEpO1xuICAgICAgICBpZiAoZm9sZClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1vdmVDdXJzb3JUbyhmb2xkLmVuZC5yb3csIGZvbGQuZW5kLmNvbHVtbik7XG5cbiAgICAgICAgaWYgKGNvbHVtbiA9PSBsaW5lLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIGwgPSB0aGlzLmRvYy5nZXRMZW5ndGgoKTtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICByb3crKztcbiAgICAgICAgICAgICAgICByaWdodE9mQ3Vyc29yID0gdGhpcy5kb2MuZ2V0TGluZShyb3cpO1xuICAgICAgICAgICAgfSB3aGlsZSAocm93IDwgbCAmJiAvXlxccyokLy50ZXN0KHJpZ2h0T2ZDdXJzb3IpKTtcblxuICAgICAgICAgICAgaWYgKCEvXlxccysvLnRlc3QocmlnaHRPZkN1cnNvcikpXG4gICAgICAgICAgICAgICAgcmlnaHRPZkN1cnNvciA9IFwiXCI7XG4gICAgICAgICAgICBjb2x1bW4gPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy4kc2hvcnRXb3JkRW5kSW5kZXgocmlnaHRPZkN1cnNvcik7XG5cbiAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG8ocm93LCBjb2x1bW4gKyBpbmRleCk7XG4gICAgfTtcblxuICAgIHRoaXMubW92ZUN1cnNvclNob3J0V29yZExlZnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJvdyA9IHRoaXMubGVhZC5yb3c7XG4gICAgICAgIHZhciBjb2x1bW4gPSB0aGlzLmxlYWQuY29sdW1uO1xuXG4gICAgICAgIHZhciBmb2xkO1xuICAgICAgICBpZiAoZm9sZCA9IHRoaXMuc2Vzc2lvbi5nZXRGb2xkQXQocm93LCBjb2x1bW4sIC0xKSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1vdmVDdXJzb3JUbyhmb2xkLnN0YXJ0LnJvdywgZm9sZC5zdGFydC5jb2x1bW4pO1xuXG4gICAgICAgIHZhciBsaW5lID0gdGhpcy5zZXNzaW9uLmdldExpbmUocm93KS5zdWJzdHJpbmcoMCwgY29sdW1uKTtcbiAgICAgICAgaWYgKGNvbHVtbiA9PT0gMCkge1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIHJvdy0tO1xuICAgICAgICAgICAgICAgIGxpbmUgPSB0aGlzLmRvYy5nZXRMaW5lKHJvdyk7XG4gICAgICAgICAgICB9IHdoaWxlIChyb3cgPiAwICYmIC9eXFxzKiQvLnRlc3QobGluZSkpO1xuXG4gICAgICAgICAgICBjb2x1bW4gPSBsaW5lLmxlbmd0aDtcbiAgICAgICAgICAgIGlmICghL1xccyskLy50ZXN0KGxpbmUpKVxuICAgICAgICAgICAgICAgIGxpbmUgPSBcIlwiO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxlZnRPZkN1cnNvciA9IGxhbmcuc3RyaW5nUmV2ZXJzZShsaW5lKTtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy4kc2hvcnRXb3JkRW5kSW5kZXgobGVmdE9mQ3Vyc29yKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5tb3ZlQ3Vyc29yVG8ocm93LCBjb2x1bW4gLSBpbmRleCk7XG4gICAgfTtcblxuICAgIHRoaXMubW92ZUN1cnNvcldvcmRSaWdodCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5zZXNzaW9uLiRzZWxlY3RMb25nV29yZHMpXG4gICAgICAgICAgICB0aGlzLm1vdmVDdXJzb3JMb25nV29yZFJpZ2h0KCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMubW92ZUN1cnNvclNob3J0V29yZFJpZ2h0KCk7XG4gICAgfTtcblxuICAgIHRoaXMubW92ZUN1cnNvcldvcmRMZWZ0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLnNlc3Npb24uJHNlbGVjdExvbmdXb3JkcylcbiAgICAgICAgICAgIHRoaXMubW92ZUN1cnNvckxvbmdXb3JkTGVmdCgpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLm1vdmVDdXJzb3JTaG9ydFdvcmRMZWZ0KCk7XG4gICAgfTtcbiAgICB0aGlzLm1vdmVDdXJzb3JCeSA9IGZ1bmN0aW9uKHJvd3MsIGNoYXJzKSB7XG4gICAgICAgIHZhciBzY3JlZW5Qb3MgPSB0aGlzLnNlc3Npb24uZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKFxuICAgICAgICAgICAgdGhpcy5sZWFkLnJvdyxcbiAgICAgICAgICAgIHRoaXMubGVhZC5jb2x1bW5cbiAgICAgICAgKTtcblxuICAgICAgICB2YXIgb2Zmc2V0WDtcblxuICAgICAgICBpZiAoY2hhcnMgPT09IDApIHtcbiAgICAgICAgICAgIGlmIChyb3dzICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2Vzc2lvbi4kYmlkaUhhbmRsZXIuaXNCaWRpUm93KHNjcmVlblBvcy5yb3csIHRoaXMubGVhZC5yb3cpKSB7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldFggPSB0aGlzLnNlc3Npb24uJGJpZGlIYW5kbGVyLmdldFBvc0xlZnQoc2NyZWVuUG9zLmNvbHVtbik7XG4gICAgICAgICAgICAgICAgICAgIHNjcmVlblBvcy5jb2x1bW4gPSBNYXRoLnJvdW5kKG9mZnNldFggLyB0aGlzLnNlc3Npb24uJGJpZGlIYW5kbGVyLmNoYXJXaWR0aHNbMF0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldFggPSBzY3JlZW5Qb3MuY29sdW1uICogdGhpcy5zZXNzaW9uLiRiaWRpSGFuZGxlci5jaGFyV2lkdGhzWzBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuJGRlc2lyZWRDb2x1bW4pXG4gICAgICAgICAgICAgICAgc2NyZWVuUG9zLmNvbHVtbiA9IHRoaXMuJGRlc2lyZWRDb2x1bW47XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGhpcy4kZGVzaXJlZENvbHVtbiA9IHNjcmVlblBvcy5jb2x1bW47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmIChyb3dzICE9IDAgJiYgdGhpcy5zZXNzaW9uLmxpbmVXaWRnZXRzICYmIHRoaXMuc2Vzc2lvbi5saW5lV2lkZ2V0c1t0aGlzLmxlYWQucm93XSkge1xuICAgICAgICAgICAgdmFyIHdpZGdldCA9IHRoaXMuc2Vzc2lvbi5saW5lV2lkZ2V0c1t0aGlzLmxlYWQucm93XTtcbiAgICAgICAgICAgIGlmIChyb3dzIDwgMClcbiAgICAgICAgICAgICAgICByb3dzIC09IHdpZGdldC5yb3dzQWJvdmUgfHwgMDtcbiAgICAgICAgICAgIGVsc2UgaWYgKHJvd3MgPiAwKVxuICAgICAgICAgICAgICAgIHJvd3MgKz0gd2lkZ2V0LnJvd0NvdW50IC0gKHdpZGdldC5yb3dzQWJvdmUgfHwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHZhciBkb2NQb3MgPSB0aGlzLnNlc3Npb24uc2NyZWVuVG9Eb2N1bWVudFBvc2l0aW9uKHNjcmVlblBvcy5yb3cgKyByb3dzLCBzY3JlZW5Qb3MuY29sdW1uLCBvZmZzZXRYKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChyb3dzICE9PSAwICYmIGNoYXJzID09PSAwICYmIGRvY1Bvcy5yb3cgPT09IHRoaXMubGVhZC5yb3cgJiYgZG9jUG9zLmNvbHVtbiA9PT0gdGhpcy5sZWFkLmNvbHVtbikge1xuICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG8oZG9jUG9zLnJvdywgZG9jUG9zLmNvbHVtbiArIGNoYXJzLCBjaGFycyA9PT0gMCk7XG4gICAgfTtcbiAgICB0aGlzLm1vdmVDdXJzb3JUb1Bvc2l0aW9uID0gZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG8ocG9zaXRpb24ucm93LCBwb3NpdGlvbi5jb2x1bW4pO1xuICAgIH07XG4gICAgdGhpcy5tb3ZlQ3Vyc29yVG8gPSBmdW5jdGlvbihyb3csIGNvbHVtbiwga2VlcERlc2lyZWRDb2x1bW4pIHtcbiAgICAgICAgdmFyIGZvbGQgPSB0aGlzLnNlc3Npb24uZ2V0Rm9sZEF0KHJvdywgY29sdW1uLCAxKTtcbiAgICAgICAgaWYgKGZvbGQpIHtcbiAgICAgICAgICAgIHJvdyA9IGZvbGQuc3RhcnQucm93O1xuICAgICAgICAgICAgY29sdW1uID0gZm9sZC5zdGFydC5jb2x1bW47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLiRrZWVwRGVzaXJlZENvbHVtbk9uQ2hhbmdlID0gdHJ1ZTtcbiAgICAgICAgdmFyIGxpbmUgPSB0aGlzLnNlc3Npb24uZ2V0TGluZShyb3cpO1xuICAgICAgICBpZiAoL1tcXHVEQzAwLVxcdURGRkZdLy50ZXN0KGxpbmUuY2hhckF0KGNvbHVtbikpICYmIGxpbmUuY2hhckF0KGNvbHVtbiAtIDEpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5sZWFkLnJvdyA9PSByb3cgJiYgdGhpcy5sZWFkLmNvbHVtbiA9PSBjb2x1bW4gKyAxKVxuICAgICAgICAgICAgICAgIGNvbHVtbiA9IGNvbHVtbiAtIDE7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgY29sdW1uID0gY29sdW1uICsgMTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxlYWQuc2V0UG9zaXRpb24ocm93LCBjb2x1bW4pO1xuICAgICAgICB0aGlzLiRrZWVwRGVzaXJlZENvbHVtbk9uQ2hhbmdlID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCFrZWVwRGVzaXJlZENvbHVtbilcbiAgICAgICAgICAgIHRoaXMuJGRlc2lyZWRDb2x1bW4gPSBudWxsO1xuICAgIH07XG4gICAgdGhpcy5tb3ZlQ3Vyc29yVG9TY3JlZW4gPSBmdW5jdGlvbihyb3csIGNvbHVtbiwga2VlcERlc2lyZWRDb2x1bW4pIHtcbiAgICAgICAgdmFyIHBvcyA9IHRoaXMuc2Vzc2lvbi5zY3JlZW5Ub0RvY3VtZW50UG9zaXRpb24ocm93LCBjb2x1bW4pO1xuICAgICAgICB0aGlzLm1vdmVDdXJzb3JUbyhwb3Mucm93LCBwb3MuY29sdW1uLCBrZWVwRGVzaXJlZENvbHVtbik7XG4gICAgfTtcbiAgICB0aGlzLmRldGFjaCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmxlYWQuZGV0YWNoKCk7XG4gICAgICAgIHRoaXMuYW5jaG9yLmRldGFjaCgpO1xuICAgIH07XG5cbiAgICB0aGlzLmZyb21PcmllbnRlZFJhbmdlID0gZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgICAgdGhpcy5zZXRTZWxlY3Rpb25SYW5nZShyYW5nZSwgcmFuZ2UuY3Vyc29yID09IHJhbmdlLnN0YXJ0KTtcbiAgICAgICAgdGhpcy4kZGVzaXJlZENvbHVtbiA9IHJhbmdlLmRlc2lyZWRDb2x1bW4gfHwgdGhpcy4kZGVzaXJlZENvbHVtbjtcbiAgICB9O1xuXG4gICAgdGhpcy50b09yaWVudGVkUmFuZ2UgPSBmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICB2YXIgciA9IHRoaXMuZ2V0UmFuZ2UoKTtcbiAgICAgICAgaWYgKHJhbmdlKSB7XG4gICAgICAgICAgICByYW5nZS5zdGFydC5jb2x1bW4gPSByLnN0YXJ0LmNvbHVtbjtcbiAgICAgICAgICAgIHJhbmdlLnN0YXJ0LnJvdyA9IHIuc3RhcnQucm93O1xuICAgICAgICAgICAgcmFuZ2UuZW5kLmNvbHVtbiA9IHIuZW5kLmNvbHVtbjtcbiAgICAgICAgICAgIHJhbmdlLmVuZC5yb3cgPSByLmVuZC5yb3c7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByYW5nZSA9IHI7XG4gICAgICAgIH1cblxuICAgICAgICByYW5nZS5jdXJzb3IgPSB0aGlzLmlzQmFja3dhcmRzKCkgPyByYW5nZS5zdGFydCA6IHJhbmdlLmVuZDtcbiAgICAgICAgcmFuZ2UuZGVzaXJlZENvbHVtbiA9IHRoaXMuJGRlc2lyZWRDb2x1bW47XG4gICAgICAgIHJldHVybiByYW5nZTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0UmFuZ2VPZk1vdmVtZW50cyA9IGZ1bmN0aW9uKGZ1bmMpIHtcbiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5nZXRDdXJzb3IoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZ1bmModGhpcyk7XG4gICAgICAgICAgICB2YXIgZW5kID0gdGhpcy5nZXRDdXJzb3IoKTtcbiAgICAgICAgICAgIHJldHVybiBSYW5nZS5mcm9tUG9pbnRzKHN0YXJ0LCBlbmQpO1xuICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBSYW5nZS5mcm9tUG9pbnRzKHN0YXJ0LCBzdGFydCk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLm1vdmVDdXJzb3JUb1Bvc2l0aW9uKHN0YXJ0KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLnRvSlNPTiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5yYW5nZUNvdW50KSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMucmFuZ2VzLm1hcChmdW5jdGlvbihyKSB7XG4gICAgICAgICAgICAgICAgdmFyIHIxID0gci5jbG9uZSgpO1xuICAgICAgICAgICAgICAgIHIxLmlzQmFja3dhcmRzID0gci5jdXJzb3IgPT0gci5zdGFydDtcbiAgICAgICAgICAgICAgICByZXR1cm4gcjE7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcy5nZXRSYW5nZSgpO1xuICAgICAgICAgICAgZGF0YS5pc0JhY2t3YXJkcyA9IHRoaXMuaXNCYWNrd2FyZHMoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9O1xuXG4gICAgdGhpcy5mcm9tSlNPTiA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgaWYgKGRhdGEuc3RhcnQgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5yYW5nZUxpc3QgJiYgZGF0YS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50b1NpbmdsZVJhbmdlKGRhdGFbMF0pO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSBkYXRhLmxlbmd0aDsgaS0tOyApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHIgPSBSYW5nZS5mcm9tUG9pbnRzKGRhdGFbaV0uc3RhcnQsIGRhdGFbaV0uZW5kKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFbaV0uaXNCYWNrd2FyZHMpXG4gICAgICAgICAgICAgICAgICAgICAgICByLmN1cnNvciA9IHIuc3RhcnQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkUmFuZ2UociwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGF0YSA9IGRhdGFbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucmFuZ2VMaXN0KVxuICAgICAgICAgICAgdGhpcy50b1NpbmdsZVJhbmdlKGRhdGEpO1xuICAgICAgICB0aGlzLnNldFNlbGVjdGlvblJhbmdlKGRhdGEsIGRhdGEuaXNCYWNrd2FyZHMpO1xuICAgIH07XG5cbiAgICB0aGlzLmlzRXF1YWwgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIGlmICgoZGF0YS5sZW5ndGggfHwgdGhpcy5yYW5nZUNvdW50KSAmJiBkYXRhLmxlbmd0aCAhPSB0aGlzLnJhbmdlQ291bnQpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICghZGF0YS5sZW5ndGggfHwgIXRoaXMucmFuZ2VzKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UmFuZ2UoKS5pc0VxdWFsKGRhdGEpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSB0aGlzLnJhbmdlcy5sZW5ndGg7IGktLTsgKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMucmFuZ2VzW2ldLmlzRXF1YWwoZGF0YVtpXSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbn0pLmNhbGwoU2VsZWN0aW9uLnByb3RvdHlwZSk7XG5cbmV4cG9ydHMuU2VsZWN0aW9uID0gU2VsZWN0aW9uO1xufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvdG9rZW5pemVyXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvY29uZmlnXCJdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgY29uZmlnID0gcmVxdWlyZShcIi4vY29uZmlnXCIpO1xudmFyIE1BWF9UT0tFTl9DT1VOVCA9IDIwMDA7XG52YXIgVG9rZW5pemVyID0gZnVuY3Rpb24ocnVsZXMpIHtcbiAgICB0aGlzLnN0YXRlcyA9IHJ1bGVzO1xuXG4gICAgdGhpcy5yZWdFeHBzID0ge307XG4gICAgdGhpcy5tYXRjaE1hcHBpbmdzID0ge307XG4gICAgZm9yICh2YXIga2V5IGluIHRoaXMuc3RhdGVzKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGVzW2tleV07XG4gICAgICAgIHZhciBydWxlUmVnRXhwcyA9IFtdO1xuICAgICAgICB2YXIgbWF0Y2hUb3RhbCA9IDA7XG4gICAgICAgIHZhciBtYXBwaW5nID0gdGhpcy5tYXRjaE1hcHBpbmdzW2tleV0gPSB7ZGVmYXVsdFRva2VuOiBcInRleHRcIn07XG4gICAgICAgIHZhciBmbGFnID0gXCJnXCI7XG5cbiAgICAgICAgdmFyIHNwbGl0dGVyUnVybGVzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhdGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBydWxlID0gc3RhdGVbaV07XG4gICAgICAgICAgICBpZiAocnVsZS5kZWZhdWx0VG9rZW4pXG4gICAgICAgICAgICAgICAgbWFwcGluZy5kZWZhdWx0VG9rZW4gPSBydWxlLmRlZmF1bHRUb2tlbjtcbiAgICAgICAgICAgIGlmIChydWxlLmNhc2VJbnNlbnNpdGl2ZSAmJiBmbGFnLmluZGV4T2YoXCJpXCIpID09PSAtMSlcbiAgICAgICAgICAgICAgICBmbGFnICs9IFwiaVwiO1xuICAgICAgICAgICAgaWYgKHJ1bGUudW5pY29kZSAmJiBmbGFnLmluZGV4T2YoXCJ1XCIpID09PSAtMSlcbiAgICAgICAgICAgICAgICBmbGFnICs9IFwidVwiO1xuICAgICAgICAgICAgaWYgKHJ1bGUucmVnZXggPT0gbnVsbClcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgaWYgKHJ1bGUucmVnZXggaW5zdGFuY2VvZiBSZWdFeHApXG4gICAgICAgICAgICAgICAgcnVsZS5yZWdleCA9IHJ1bGUucmVnZXgudG9TdHJpbmcoKS5zbGljZSgxLCAtMSk7XG4gICAgICAgICAgICB2YXIgYWRqdXN0ZWRyZWdleCA9IHJ1bGUucmVnZXg7XG4gICAgICAgICAgICB2YXIgbWF0Y2hjb3VudCA9IG5ldyBSZWdFeHAoXCIoPzooXCIgKyBhZGp1c3RlZHJlZ2V4ICsgXCIpfCguKSlcIikuZXhlYyhcImFcIikubGVuZ3RoIC0gMjtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHJ1bGUudG9rZW4pKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJ1bGUudG9rZW4ubGVuZ3RoID09IDEgfHwgbWF0Y2hjb3VudCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJ1bGUudG9rZW4gPSBydWxlLnRva2VuWzBdO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWF0Y2hjb3VudCAtIDEgIT0gcnVsZS50b2tlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXBvcnRFcnJvcihcIm51bWJlciBvZiBjbGFzc2VzIGFuZCByZWdleHAgZ3JvdXBzIGRvZXNuJ3QgbWF0Y2hcIiwgeyBcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGU6IHJ1bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cENvdW50OiBtYXRjaGNvdW50IC0gMVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcnVsZS50b2tlbiA9IHJ1bGUudG9rZW5bMF07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcnVsZS50b2tlbkFycmF5ID0gcnVsZS50b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgcnVsZS50b2tlbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHJ1bGUub25NYXRjaCA9IHRoaXMuJGFycmF5VG9rZW5zO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHJ1bGUudG9rZW4gPT0gXCJmdW5jdGlvblwiICYmICFydWxlLm9uTWF0Y2gpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hjb3VudCA+IDEpXG4gICAgICAgICAgICAgICAgICAgIHJ1bGUub25NYXRjaCA9IHRoaXMuJGFwcGx5VG9rZW47XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBydWxlLm9uTWF0Y2ggPSBydWxlLnRva2VuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobWF0Y2hjb3VudCA+IDEpIHtcbiAgICAgICAgICAgICAgICBpZiAoL1xcXFxcXGQvLnRlc3QocnVsZS5yZWdleCkpIHtcbiAgICAgICAgICAgICAgICAgICAgYWRqdXN0ZWRyZWdleCA9IHJ1bGUucmVnZXgucmVwbGFjZSgvXFxcXChbMC05XSspL2csIGZ1bmN0aW9uKG1hdGNoLCBkaWdpdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXFxcXFwiICsgKHBhcnNlSW50KGRpZ2l0LCAxMCkgKyBtYXRjaFRvdGFsICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoY291bnQgPSAxO1xuICAgICAgICAgICAgICAgICAgICBhZGp1c3RlZHJlZ2V4ID0gdGhpcy5yZW1vdmVDYXB0dXJpbmdHcm91cHMocnVsZS5yZWdleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghcnVsZS5zcGxpdFJlZ2V4ICYmIHR5cGVvZiBydWxlLnRva2VuICE9IFwic3RyaW5nXCIpXG4gICAgICAgICAgICAgICAgICAgIHNwbGl0dGVyUnVybGVzLnB1c2gocnVsZSk7IC8vIGZsYWcgd2lsbCBiZSBrbm93biBvbmx5IGF0IHRoZSB2ZXJ5IGVuZFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtYXBwaW5nW21hdGNoVG90YWxdID0gaTtcbiAgICAgICAgICAgIG1hdGNoVG90YWwgKz0gbWF0Y2hjb3VudDtcblxuICAgICAgICAgICAgcnVsZVJlZ0V4cHMucHVzaChhZGp1c3RlZHJlZ2V4KTtcbiAgICAgICAgICAgIGlmICghcnVsZS5vbk1hdGNoKVxuICAgICAgICAgICAgICAgIHJ1bGUub25NYXRjaCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmICghcnVsZVJlZ0V4cHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBtYXBwaW5nWzBdID0gMDtcbiAgICAgICAgICAgIHJ1bGVSZWdFeHBzLnB1c2goXCIkXCIpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBzcGxpdHRlclJ1cmxlcy5mb3JFYWNoKGZ1bmN0aW9uKHJ1bGUpIHtcbiAgICAgICAgICAgIHJ1bGUuc3BsaXRSZWdleCA9IHRoaXMuY3JlYXRlU3BsaXR0ZXJSZWdleHAocnVsZS5yZWdleCwgZmxhZyk7XG4gICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgIHRoaXMucmVnRXhwc1trZXldID0gbmV3IFJlZ0V4cChcIihcIiArIHJ1bGVSZWdFeHBzLmpvaW4oXCIpfChcIikgKyBcIil8KCQpXCIsIGZsYWcpO1xuICAgIH1cbn07XG5cbihmdW5jdGlvbigpIHtcbiAgICB0aGlzLiRzZXRNYXhUb2tlbkNvdW50ID0gZnVuY3Rpb24obSkge1xuICAgICAgICBNQVhfVE9LRU5fQ09VTlQgPSBtIHwgMDtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuJGFwcGx5VG9rZW4gPSBmdW5jdGlvbihzdHIpIHtcbiAgICAgICAgdmFyIHZhbHVlcyA9IHRoaXMuc3BsaXRSZWdleC5leGVjKHN0cikuc2xpY2UoMSk7XG4gICAgICAgIHZhciB0eXBlcyA9IHRoaXMudG9rZW4uYXBwbHkodGhpcywgdmFsdWVzKTtcbiAgICAgICAgaWYgKHR5cGVvZiB0eXBlcyA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgIHJldHVybiBbe3R5cGU6IHR5cGVzLCB2YWx1ZTogc3RyfV07XG5cbiAgICAgICAgdmFyIHRva2VucyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHR5cGVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgaWYgKHZhbHVlc1tpXSlcbiAgICAgICAgICAgICAgICB0b2tlbnNbdG9rZW5zLmxlbmd0aF0gPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGVzW2ldLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVzW2ldXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9rZW5zO1xuICAgIH07XG5cbiAgICB0aGlzLiRhcnJheVRva2VucyA9IGZ1bmN0aW9uKHN0cikge1xuICAgICAgICBpZiAoIXN0cilcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgdmFyIHZhbHVlcyA9IHRoaXMuc3BsaXRSZWdleC5leGVjKHN0cik7XG4gICAgICAgIGlmICghdmFsdWVzKVxuICAgICAgICAgICAgcmV0dXJuIFwidGV4dFwiO1xuICAgICAgICB2YXIgdG9rZW5zID0gW107XG4gICAgICAgIHZhciB0eXBlcyA9IHRoaXMudG9rZW5BcnJheTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSB0eXBlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZXNbaSArIDFdKVxuICAgICAgICAgICAgICAgIHRva2Vuc1t0b2tlbnMubGVuZ3RoXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZXNbaV0sXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZXNbaSArIDFdXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9rZW5zO1xuICAgIH07XG5cbiAgICB0aGlzLnJlbW92ZUNhcHR1cmluZ0dyb3VwcyA9IGZ1bmN0aW9uKHNyYykge1xuICAgICAgICB2YXIgciA9IHNyYy5yZXBsYWNlKFxuICAgICAgICAgICAgL1xcXFwufFxcWyg/OlxcXFwufFteXFxcXFxcXV0pKnxcXChcXD9bOj0hPF18KFxcKCkvZyxcbiAgICAgICAgICAgIGZ1bmN0aW9uKHgsIHkpIHtyZXR1cm4geSA/IFwiKD86XCIgOiB4O31cbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfTtcblxuICAgIHRoaXMuY3JlYXRlU3BsaXR0ZXJSZWdleHAgPSBmdW5jdGlvbihzcmMsIGZsYWcpIHtcbiAgICAgICAgaWYgKHNyYy5pbmRleE9mKFwiKD89XCIpICE9IC0xKSB7XG4gICAgICAgICAgICB2YXIgc3RhY2sgPSAwO1xuICAgICAgICAgICAgdmFyIGluQ2hDbGFzcyA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIGxhc3RDYXB0dXJlID0ge307XG4gICAgICAgICAgICBzcmMucmVwbGFjZSgvKFxcXFwuKXwoXFwoKD86XFw/Wz0hXSk/KXwoXFwpKXwoW1xcW1xcXV0pL2csIGZ1bmN0aW9uKFxuICAgICAgICAgICAgICAgIG0sIGVzYywgcGFyZW5PcGVuLCBwYXJlbkNsb3NlLCBzcXVhcmUsIGluZGV4XG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5DaENsYXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIGluQ2hDbGFzcyA9IHNxdWFyZSAhPSBcIl1cIjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNxdWFyZSkge1xuICAgICAgICAgICAgICAgICAgICBpbkNoQ2xhc3MgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGFyZW5DbG9zZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhY2sgPT0gbGFzdENhcHR1cmUuc3RhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RDYXB0dXJlLmVuZCA9IGluZGV4KzE7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0Q2FwdHVyZS5zdGFjayA9IC0xO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN0YWNrLS07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJlbk9wZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhY2srKztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVuT3Blbi5sZW5ndGggIT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdENhcHR1cmUuc3RhY2sgPSBzdGFjaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RDYXB0dXJlLnN0YXJ0ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG07XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKGxhc3RDYXB0dXJlLmVuZCAhPSBudWxsICYmIC9eXFwpKiQvLnRlc3Qoc3JjLnN1YnN0cihsYXN0Q2FwdHVyZS5lbmQpKSlcbiAgICAgICAgICAgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKDAsIGxhc3RDYXB0dXJlLnN0YXJ0KSArIHNyYy5zdWJzdHIobGFzdENhcHR1cmUuZW5kKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3JjLmNoYXJBdCgwKSAhPSBcIl5cIikgc3JjID0gXCJeXCIgKyBzcmM7XG4gICAgICAgIGlmIChzcmMuY2hhckF0KHNyYy5sZW5ndGggLSAxKSAhPSBcIiRcIikgc3JjICs9IFwiJFwiO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoc3JjLCAoZmxhZ3x8XCJcIikucmVwbGFjZShcImdcIiwgXCJcIikpO1xuICAgIH07XG4gICAgdGhpcy5nZXRMaW5lVG9rZW5zID0gZnVuY3Rpb24obGluZSwgc3RhcnRTdGF0ZSkge1xuICAgICAgICBpZiAoc3RhcnRTdGF0ZSAmJiB0eXBlb2Ygc3RhcnRTdGF0ZSAhPSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICB2YXIgc3RhY2sgPSBzdGFydFN0YXRlLnNsaWNlKDApO1xuICAgICAgICAgICAgc3RhcnRTdGF0ZSA9IHN0YWNrWzBdO1xuICAgICAgICAgICAgaWYgKHN0YXJ0U3RhdGUgPT09IFwiI3RtcFwiKSB7XG4gICAgICAgICAgICAgICAgc3RhY2suc2hpZnQoKTtcbiAgICAgICAgICAgICAgICBzdGFydFN0YXRlID0gc3RhY2suc2hpZnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICB2YXIgc3RhY2sgPSBbXTtcblxuICAgICAgICB2YXIgY3VycmVudFN0YXRlID0gc3RhcnRTdGF0ZSB8fCBcInN0YXJ0XCI7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGVzW2N1cnJlbnRTdGF0ZV07XG4gICAgICAgIGlmICghc3RhdGUpIHtcbiAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSA9IFwic3RhcnRcIjtcbiAgICAgICAgICAgIHN0YXRlID0gdGhpcy5zdGF0ZXNbY3VycmVudFN0YXRlXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWFwcGluZyA9IHRoaXMubWF0Y2hNYXBwaW5nc1tjdXJyZW50U3RhdGVdO1xuICAgICAgICB2YXIgcmUgPSB0aGlzLnJlZ0V4cHNbY3VycmVudFN0YXRlXTtcbiAgICAgICAgcmUubGFzdEluZGV4ID0gMDtcblxuICAgICAgICB2YXIgbWF0Y2gsIHRva2VucyA9IFtdO1xuICAgICAgICB2YXIgbGFzdEluZGV4ID0gMDtcbiAgICAgICAgdmFyIG1hdGNoQXR0ZW1wdHMgPSAwO1xuXG4gICAgICAgIHZhciB0b2tlbiA9IHt0eXBlOiBudWxsLCB2YWx1ZTogXCJcIn07XG5cbiAgICAgICAgd2hpbGUgKG1hdGNoID0gcmUuZXhlYyhsaW5lKSkge1xuICAgICAgICAgICAgdmFyIHR5cGUgPSBtYXBwaW5nLmRlZmF1bHRUb2tlbjtcbiAgICAgICAgICAgIHZhciBydWxlID0gbnVsbDtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IG1hdGNoWzBdO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gcmUubGFzdEluZGV4O1xuXG4gICAgICAgICAgICBpZiAoaW5kZXggLSB2YWx1ZS5sZW5ndGggPiBsYXN0SW5kZXgpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2tpcHBlZCA9IGxpbmUuc3Vic3RyaW5nKGxhc3RJbmRleCwgaW5kZXggLSB2YWx1ZS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09IHR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW4udmFsdWUgKz0gc2tpcHBlZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4udHlwZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSB7dHlwZTogdHlwZSwgdmFsdWU6IHNraXBwZWR9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXRjaC5sZW5ndGgtMjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoW2kgKyAxXSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgIHJ1bGUgPSBzdGF0ZVttYXBwaW5nW2ldXTtcblxuICAgICAgICAgICAgICAgIGlmIChydWxlLm9uTWF0Y2gpXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSBydWxlLm9uTWF0Y2godmFsdWUsIGN1cnJlbnRTdGF0ZSwgc3RhY2ssIGxpbmUpO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9IHJ1bGUudG9rZW47XG5cbiAgICAgICAgICAgICAgICBpZiAocnVsZS5uZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcnVsZS5uZXh0ID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSA9IHJ1bGUubmV4dDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSA9IHJ1bGUubmV4dChjdXJyZW50U3RhdGUsIHN0YWNrKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSB0aGlzLnN0YXRlc1tjdXJyZW50U3RhdGVdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlcG9ydEVycm9yKFwic3RhdGUgZG9lc24ndCBleGlzdFwiLCBjdXJyZW50U3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0YXRlID0gXCJzdGFydFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSB0aGlzLnN0YXRlc1tjdXJyZW50U3RhdGVdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1hcHBpbmcgPSB0aGlzLm1hdGNoTWFwcGluZ3NbY3VycmVudFN0YXRlXTtcbiAgICAgICAgICAgICAgICAgICAgbGFzdEluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIHJlID0gdGhpcy5yZWdFeHBzW2N1cnJlbnRTdGF0ZV07XG4gICAgICAgICAgICAgICAgICAgIHJlLmxhc3RJbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocnVsZS5jb25zdW1lTGluZUVuZClcbiAgICAgICAgICAgICAgICAgICAgbGFzdEluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoKCFydWxlIHx8IHJ1bGUubWVyZ2UgIT09IGZhbHNlKSAmJiB0b2tlbi50eXBlID09PSB0eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbi52YWx1ZSArPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbi50eXBlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuID0ge3R5cGU6IHR5cGUsIHZhbHVlOiB2YWx1ZX07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUpXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuID0ge3R5cGU6IG51bGwsIHZhbHVlOiBcIlwifTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0eXBlLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godHlwZVtpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobGFzdEluZGV4ID09IGxpbmUubGVuZ3RoKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBsYXN0SW5kZXggPSBpbmRleDtcblxuICAgICAgICAgICAgaWYgKG1hdGNoQXR0ZW1wdHMrKyA+IE1BWF9UT0tFTl9DT1VOVCkge1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaEF0dGVtcHRzID4gMiAqIGxpbmUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVwb3J0RXJyb3IoXCJpbmZpbml0ZSBsb29wIHdpdGggaW4gYWNlIHRva2VuaXplclwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydFN0YXRlOiBzdGFydFN0YXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZTogbGluZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgd2hpbGUgKGxhc3RJbmRleCA8IGxpbmUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbi50eXBlKVxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBsaW5lLnN1YnN0cmluZyhsYXN0SW5kZXgsIGxhc3RJbmRleCArPSA1MDApLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJvdmVyZmxvd1wiXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSA9IFwic3RhcnRcIjtcbiAgICAgICAgICAgICAgICBzdGFjayA9IFtdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRva2VuLnR5cGUpXG4gICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgIFxuICAgICAgICBpZiAoc3RhY2subGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgaWYgKHN0YWNrWzBdICE9PSBjdXJyZW50U3RhdGUpXG4gICAgICAgICAgICAgICAgc3RhY2sudW5zaGlmdChcIiN0bXBcIiwgY3VycmVudFN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdG9rZW5zIDogdG9rZW5zLFxuICAgICAgICAgICAgc3RhdGUgOiBzdGFjay5sZW5ndGggPyBzdGFjayA6IGN1cnJlbnRTdGF0ZVxuICAgICAgICB9O1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5yZXBvcnRFcnJvciA9IGNvbmZpZy5yZXBvcnRFcnJvcjtcbiAgICBcbn0pLmNhbGwoVG9rZW5pemVyLnByb3RvdHlwZSk7XG5cbmV4cG9ydHMuVG9rZW5pemVyID0gVG9rZW5pemVyO1xufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvbW9kZS90ZXh0X2hpZ2hsaWdodF9ydWxlc1wiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9sYW5nXCJdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgbGFuZyA9IHJlcXVpcmUoXCIuLi9saWIvbGFuZ1wiKTtcblxudmFyIFRleHRIaWdobGlnaHRSdWxlcyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgdGhpcy4kcnVsZXMgPSB7XG4gICAgICAgIFwic3RhcnRcIiA6IFt7XG4gICAgICAgICAgICB0b2tlbiA6IFwiZW1wdHlfbGluZVwiLFxuICAgICAgICAgICAgcmVnZXggOiAnXiQnXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGRlZmF1bHRUb2tlbiA6IFwidGV4dFwiXG4gICAgICAgIH1dXG4gICAgfTtcbn07XG5cbihmdW5jdGlvbigpIHtcblxuICAgIHRoaXMuYWRkUnVsZXMgPSBmdW5jdGlvbihydWxlcywgcHJlZml4KSB7XG4gICAgICAgIGlmICghcHJlZml4KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gcnVsZXMpXG4gICAgICAgICAgICAgICAgdGhpcy4kcnVsZXNba2V5XSA9IHJ1bGVzW2tleV07XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIga2V5IGluIHJ1bGVzKSB7XG4gICAgICAgICAgICB2YXIgc3RhdGUgPSBydWxlc1trZXldO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGF0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBydWxlID0gc3RhdGVbaV07XG4gICAgICAgICAgICAgICAgaWYgKHJ1bGUubmV4dCB8fCBydWxlLm9uTWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBydWxlLm5leHQgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bGUubmV4dC5pbmRleE9mKHByZWZpeCkgIT09IDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZS5uZXh0ID0gcHJlZml4ICsgcnVsZS5uZXh0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChydWxlLm5leHRTdGF0ZSAmJiBydWxlLm5leHRTdGF0ZS5pbmRleE9mKHByZWZpeCkgIT09IDApXG4gICAgICAgICAgICAgICAgICAgICAgICBydWxlLm5leHRTdGF0ZSA9IHByZWZpeCArIHJ1bGUubmV4dFN0YXRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuJHJ1bGVzW3ByZWZpeCArIGtleV0gPSBzdGF0ZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmdldFJ1bGVzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRydWxlcztcbiAgICB9O1xuXG4gICAgdGhpcy5lbWJlZFJ1bGVzID0gZnVuY3Rpb24gKEhpZ2hsaWdodFJ1bGVzLCBwcmVmaXgsIGVzY2FwZVJ1bGVzLCBzdGF0ZXMsIGFwcGVuZCkge1xuICAgICAgICB2YXIgZW1iZWRSdWxlcyA9IHR5cGVvZiBIaWdobGlnaHRSdWxlcyA9PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICAgID8gbmV3IEhpZ2hsaWdodFJ1bGVzKCkuZ2V0UnVsZXMoKVxuICAgICAgICAgICAgOiBIaWdobGlnaHRSdWxlcztcbiAgICAgICAgaWYgKHN0YXRlcykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGF0ZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICAgICAgc3RhdGVzW2ldID0gcHJlZml4ICsgc3RhdGVzW2ldO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RhdGVzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gZW1iZWRSdWxlcylcbiAgICAgICAgICAgICAgICBzdGF0ZXMucHVzaChwcmVmaXggKyBrZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hZGRSdWxlcyhlbWJlZFJ1bGVzLCBwcmVmaXgpO1xuXG4gICAgICAgIGlmIChlc2NhcGVSdWxlcykge1xuICAgICAgICAgICAgdmFyIGFkZFJ1bGVzID0gQXJyYXkucHJvdG90eXBlW2FwcGVuZCA/IFwicHVzaFwiIDogXCJ1bnNoaWZ0XCJdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGF0ZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICAgICAgYWRkUnVsZXMuYXBwbHkodGhpcy4kcnVsZXNbc3RhdGVzW2ldXSwgbGFuZy5kZWVwQ29weShlc2NhcGVSdWxlcykpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLiRlbWJlZHMpXG4gICAgICAgICAgICB0aGlzLiRlbWJlZHMgPSBbXTtcbiAgICAgICAgdGhpcy4kZW1iZWRzLnB1c2gocHJlZml4KTtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRFbWJlZHMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJGVtYmVkcztcbiAgICB9O1xuXG4gICAgdmFyIHB1c2hTdGF0ZSA9IGZ1bmN0aW9uKGN1cnJlbnRTdGF0ZSwgc3RhY2spIHtcbiAgICAgICAgaWYgKGN1cnJlbnRTdGF0ZSAhPSBcInN0YXJ0XCIgfHwgc3RhY2subGVuZ3RoKVxuICAgICAgICAgICAgc3RhY2sudW5zaGlmdCh0aGlzLm5leHRTdGF0ZSwgY3VycmVudFN0YXRlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubmV4dFN0YXRlO1xuICAgIH07XG4gICAgdmFyIHBvcFN0YXRlID0gZnVuY3Rpb24oY3VycmVudFN0YXRlLCBzdGFjaykge1xuICAgICAgICBzdGFjay5zaGlmdCgpO1xuICAgICAgICByZXR1cm4gc3RhY2suc2hpZnQoKSB8fCBcInN0YXJ0XCI7XG4gICAgfTtcblxuICAgIHRoaXMubm9ybWFsaXplUnVsZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGlkID0gMDtcbiAgICAgICAgdmFyIHJ1bGVzID0gdGhpcy4kcnVsZXM7XG4gICAgICAgIGZ1bmN0aW9uIHByb2Nlc3NTdGF0ZShrZXkpIHtcbiAgICAgICAgICAgIHZhciBzdGF0ZSA9IHJ1bGVzW2tleV07XG4gICAgICAgICAgICBzdGF0ZS5wcm9jZXNzZWQgPSB0cnVlO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGF0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBydWxlID0gc3RhdGVbaV07XG4gICAgICAgICAgICAgICAgdmFyIHRvSW5zZXJ0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShydWxlKSkge1xuICAgICAgICAgICAgICAgICAgICB0b0luc2VydCA9IHJ1bGU7XG4gICAgICAgICAgICAgICAgICAgIHJ1bGUgPSB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFydWxlLnJlZ2V4ICYmIHJ1bGUuc3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcnVsZS5yZWdleCA9IHJ1bGUuc3RhcnQ7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcnVsZS5uZXh0KVxuICAgICAgICAgICAgICAgICAgICAgICAgcnVsZS5uZXh0ID0gW107XG4gICAgICAgICAgICAgICAgICAgIHJ1bGUubmV4dC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRUb2tlbjogcnVsZS50b2tlblxuICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbjogcnVsZS50b2tlbiArIFwiLmVuZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVnZXg6IHJ1bGUuZW5kIHx8IHJ1bGUuc3RhcnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0OiBcInBvcFwiXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBydWxlLnRva2VuID0gcnVsZS50b2tlbiArIFwiLnN0YXJ0XCI7XG4gICAgICAgICAgICAgICAgICAgIHJ1bGUucHVzaCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBuZXh0ID0gcnVsZS5uZXh0IHx8IHJ1bGUucHVzaDtcbiAgICAgICAgICAgICAgICBpZiAobmV4dCAmJiBBcnJheS5pc0FycmF5KG5leHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdGF0ZU5hbWUgPSBydWxlLnN0YXRlTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzdGF0ZU5hbWUpICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZU5hbWUgPSBydWxlLnRva2VuO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzdGF0ZU5hbWUgIT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZU5hbWUgPSBzdGF0ZU5hbWVbMF0gfHwgXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChydWxlc1tzdGF0ZU5hbWVdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlTmFtZSArPSBpZCsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJ1bGVzW3N0YXRlTmFtZV0gPSBuZXh0O1xuICAgICAgICAgICAgICAgICAgICBydWxlLm5leHQgPSBzdGF0ZU5hbWU7XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NTdGF0ZShzdGF0ZU5hbWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobmV4dCA9PSBcInBvcFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJ1bGUubmV4dCA9IHBvcFN0YXRlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChydWxlLnB1c2gpIHtcbiAgICAgICAgICAgICAgICAgICAgcnVsZS5uZXh0U3RhdGUgPSBydWxlLm5leHQgfHwgcnVsZS5wdXNoO1xuICAgICAgICAgICAgICAgICAgICBydWxlLm5leHQgPSBwdXNoU3RhdGU7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBydWxlLnB1c2g7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHJ1bGUucnVsZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgciBpbiBydWxlLnJ1bGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocnVsZXNbcl0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocnVsZXNbcl0ucHVzaClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXNbcl0ucHVzaC5hcHBseShydWxlc1tyXSwgcnVsZS5ydWxlc1tyXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzW3JdID0gcnVsZS5ydWxlc1tyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgaW5jbHVkZU5hbWUgPSB0eXBlb2YgcnVsZSA9PSBcInN0cmluZ1wiID8gcnVsZSA6IHJ1bGUuaW5jbHVkZTtcbiAgICAgICAgICAgICAgICBpZiAoaW5jbHVkZU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaW5jbHVkZU5hbWUpKVxuICAgICAgICAgICAgICAgICAgICAgICAgdG9JbnNlcnQgPSBpbmNsdWRlTmFtZS5tYXAoZnVuY3Rpb24oeCkgeyByZXR1cm4gcnVsZXNbeF07IH0pO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICB0b0luc2VydCA9IHJ1bGVzW2luY2x1ZGVOYW1lXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodG9JbnNlcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBbaSwgMV0uY29uY2F0KHRvSW5zZXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bGUubm9Fc2NhcGUpXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzID0gYXJncy5maWx0ZXIoZnVuY3Rpb24oeCkge3JldHVybiAheC5uZXh0O30pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5zcGxpY2UuYXBwbHkoc3RhdGUsIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChydWxlLmtleXdvcmRNYXApIHtcbiAgICAgICAgICAgICAgICAgICAgcnVsZS50b2tlbiA9IHRoaXMuY3JlYXRlS2V5d29yZE1hcHBlcihcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGUua2V5d29yZE1hcCwgcnVsZS5kZWZhdWx0VG9rZW4gfHwgXCJ0ZXh0XCIsIHJ1bGUuY2FzZUluc2Vuc2l0aXZlXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBydWxlLmRlZmF1bHRUb2tlbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmtleXMocnVsZXMpLmZvckVhY2gocHJvY2Vzc1N0YXRlLCB0aGlzKTtcbiAgICB9O1xuXG4gICAgdGhpcy5jcmVhdGVLZXl3b3JkTWFwcGVyID0gZnVuY3Rpb24obWFwLCBkZWZhdWx0VG9rZW4sIGlnbm9yZUNhc2UsIHNwbGl0Q2hhcikge1xuICAgICAgICB2YXIga2V5d29yZHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICB0aGlzLiRrZXl3b3JkTGlzdCA9IFtdO1xuICAgICAgICBPYmplY3Qua2V5cyhtYXApLmZvckVhY2goZnVuY3Rpb24oY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICB2YXIgYSA9IG1hcFtjbGFzc05hbWVdO1xuICAgICAgICAgICAgdmFyIGxpc3QgPSBhLnNwbGl0KHNwbGl0Q2hhciB8fCBcInxcIik7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gbGlzdC5sZW5ndGg7IGktLTsgKSB7XG4gICAgICAgICAgICAgICAgdmFyIHdvcmQgPSBsaXN0W2ldO1xuICAgICAgICAgICAgICAgIHRoaXMuJGtleXdvcmRMaXN0LnB1c2god29yZCk7XG4gICAgICAgICAgICAgICAgaWYgKGlnbm9yZUNhc2UpXG4gICAgICAgICAgICAgICAgICAgIHdvcmQgPSB3b3JkLnRvTG93ZXJDYXNlKCk7IFxuICAgICAgICAgICAgICAgIGtleXdvcmRzW3dvcmRdID0gY2xhc3NOYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgbWFwID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIGlnbm9yZUNhc2VcbiAgICAgICAgICAgID8gZnVuY3Rpb24odmFsdWUpIHtyZXR1cm4ga2V5d29yZHNbdmFsdWUudG9Mb3dlckNhc2UoKV0gfHwgZGVmYXVsdFRva2VuOyB9XG4gICAgICAgICAgICA6IGZ1bmN0aW9uKHZhbHVlKSB7cmV0dXJuIGtleXdvcmRzW3ZhbHVlXSB8fCBkZWZhdWx0VG9rZW47IH07XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0S2V5d29yZHMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJGtleXdvcmRzO1xuICAgIH07XG5cbn0pLmNhbGwoVGV4dEhpZ2hsaWdodFJ1bGVzLnByb3RvdHlwZSk7XG5cbmV4cG9ydHMuVGV4dEhpZ2hsaWdodFJ1bGVzID0gVGV4dEhpZ2hsaWdodFJ1bGVzO1xufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvbW9kZS9iZWhhdmlvdXJcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIl0sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBCZWhhdmlvdXIgPSBmdW5jdGlvbigpIHtcbiAgIHRoaXMuJGJlaGF2aW91cnMgPSB7fTtcbn07XG5cbihmdW5jdGlvbiAoKSB7XG5cbiAgICB0aGlzLmFkZCA9IGZ1bmN0aW9uIChuYW1lLCBhY3Rpb24sIGNhbGxiYWNrKSB7XG4gICAgICAgIHN3aXRjaCAodW5kZWZpbmVkKSB7XG4gICAgICAgICAgY2FzZSB0aGlzLiRiZWhhdmlvdXJzOlxuICAgICAgICAgICAgICB0aGlzLiRiZWhhdmlvdXJzID0ge307XG4gICAgICAgICAgY2FzZSB0aGlzLiRiZWhhdmlvdXJzW25hbWVdOlxuICAgICAgICAgICAgICB0aGlzLiRiZWhhdmlvdXJzW25hbWVdID0ge307XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4kYmVoYXZpb3Vyc1tuYW1lXVthY3Rpb25dID0gY2FsbGJhY2s7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLmFkZEJlaGF2aW91cnMgPSBmdW5jdGlvbiAoYmVoYXZpb3Vycykge1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gYmVoYXZpb3Vycykge1xuICAgICAgICAgICAgZm9yICh2YXIgYWN0aW9uIGluIGJlaGF2aW91cnNba2V5XSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkKGtleSwgYWN0aW9uLCBiZWhhdmlvdXJzW2tleV1bYWN0aW9uXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIHRoaXMucmVtb3ZlID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgaWYgKHRoaXMuJGJlaGF2aW91cnMgJiYgdGhpcy4kYmVoYXZpb3Vyc1tuYW1lXSkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuJGJlaGF2aW91cnNbbmFtZV07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIHRoaXMuaW5oZXJpdCA9IGZ1bmN0aW9uIChtb2RlLCBmaWx0ZXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBtb2RlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHZhciBiZWhhdmlvdXJzID0gbmV3IG1vZGUoKS5nZXRCZWhhdmlvdXJzKGZpbHRlcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgYmVoYXZpb3VycyA9IG1vZGUuZ2V0QmVoYXZpb3VycyhmaWx0ZXIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWRkQmVoYXZpb3VycyhiZWhhdmlvdXJzKTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuZ2V0QmVoYXZpb3VycyA9IGZ1bmN0aW9uIChmaWx0ZXIpIHtcbiAgICAgICAgaWYgKCFmaWx0ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiRiZWhhdmlvdXJzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHJldCA9IHt9O1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWx0ZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy4kYmVoYXZpb3Vyc1tmaWx0ZXJbaV1dKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldFtmaWx0ZXJbaV1dID0gdGhpcy4kYmVoYXZpb3Vyc1tmaWx0ZXJbaV1dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH1cbiAgICB9O1xuXG59KS5jYWxsKEJlaGF2aW91ci5wcm90b3R5cGUpO1xuXG5leHBvcnRzLkJlaGF2aW91ciA9IEJlaGF2aW91cjtcbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL3Rva2VuX2l0ZXJhdG9yXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvcmFuZ2VcIl0sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBSYW5nZSA9IHJlcXVpcmUoXCIuL3JhbmdlXCIpLlJhbmdlO1xudmFyIFRva2VuSXRlcmF0b3IgPSBmdW5jdGlvbihzZXNzaW9uLCBpbml0aWFsUm93LCBpbml0aWFsQ29sdW1uKSB7XG4gICAgdGhpcy4kc2Vzc2lvbiA9IHNlc3Npb247XG4gICAgdGhpcy4kcm93ID0gaW5pdGlhbFJvdztcbiAgICB0aGlzLiRyb3dUb2tlbnMgPSBzZXNzaW9uLmdldFRva2Vucyhpbml0aWFsUm93KTtcblxuICAgIHZhciB0b2tlbiA9IHNlc3Npb24uZ2V0VG9rZW5BdChpbml0aWFsUm93LCBpbml0aWFsQ29sdW1uKTtcbiAgICB0aGlzLiR0b2tlbkluZGV4ID0gdG9rZW4gPyB0b2tlbi5pbmRleCA6IC0xO1xufTtcblxuKGZ1bmN0aW9uKCkgeyBcbiAgICB0aGlzLnN0ZXBCYWNrd2FyZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiR0b2tlbkluZGV4IC09IDE7XG4gICAgICAgIFxuICAgICAgICB3aGlsZSAodGhpcy4kdG9rZW5JbmRleCA8IDApIHtcbiAgICAgICAgICAgIHRoaXMuJHJvdyAtPSAxO1xuICAgICAgICAgICAgaWYgKHRoaXMuJHJvdyA8IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRyb3cgPSAwO1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy4kcm93VG9rZW5zID0gdGhpcy4kc2Vzc2lvbi5nZXRUb2tlbnModGhpcy4kcm93KTtcbiAgICAgICAgICAgIHRoaXMuJHRva2VuSW5kZXggPSB0aGlzLiRyb3dUb2tlbnMubGVuZ3RoIC0gMTtcbiAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgIHJldHVybiB0aGlzLiRyb3dUb2tlbnNbdGhpcy4kdG9rZW5JbmRleF07XG4gICAgfTsgICBcbiAgICB0aGlzLnN0ZXBGb3J3YXJkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJHRva2VuSW5kZXggKz0gMTtcbiAgICAgICAgdmFyIHJvd0NvdW50O1xuICAgICAgICB3aGlsZSAodGhpcy4kdG9rZW5JbmRleCA+PSB0aGlzLiRyb3dUb2tlbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLiRyb3cgKz0gMTtcbiAgICAgICAgICAgIGlmICghcm93Q291bnQpXG4gICAgICAgICAgICAgICAgcm93Q291bnQgPSB0aGlzLiRzZXNzaW9uLmdldExlbmd0aCgpO1xuICAgICAgICAgICAgaWYgKHRoaXMuJHJvdyA+PSByb3dDb3VudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuJHJvdyA9IHJvd0NvdW50IC0gMTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy4kcm93VG9rZW5zID0gdGhpcy4kc2Vzc2lvbi5nZXRUb2tlbnModGhpcy4kcm93KTtcbiAgICAgICAgICAgIHRoaXMuJHRva2VuSW5kZXggPSAwO1xuICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgcmV0dXJuIHRoaXMuJHJvd1Rva2Vuc1t0aGlzLiR0b2tlbkluZGV4XTtcbiAgICB9OyAgICAgIFxuICAgIHRoaXMuZ2V0Q3VycmVudFRva2VuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kcm93VG9rZW5zW3RoaXMuJHRva2VuSW5kZXhdO1xuICAgIH07ICAgICAgXG4gICAgdGhpcy5nZXRDdXJyZW50VG9rZW5Sb3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRyb3c7XG4gICAgfTsgICAgIFxuICAgIHRoaXMuZ2V0Q3VycmVudFRva2VuQ29sdW1uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByb3dUb2tlbnMgPSB0aGlzLiRyb3dUb2tlbnM7XG4gICAgICAgIHZhciB0b2tlbkluZGV4ID0gdGhpcy4kdG9rZW5JbmRleDtcbiAgICAgICAgdmFyIGNvbHVtbiA9IHJvd1Rva2Vuc1t0b2tlbkluZGV4XS5zdGFydDtcbiAgICAgICAgaWYgKGNvbHVtbiAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIGNvbHVtbjtcbiAgICAgICAgICAgIFxuICAgICAgICBjb2x1bW4gPSAwO1xuICAgICAgICB3aGlsZSAodG9rZW5JbmRleCA+IDApIHtcbiAgICAgICAgICAgIHRva2VuSW5kZXggLT0gMTtcbiAgICAgICAgICAgIGNvbHVtbiArPSByb3dUb2tlbnNbdG9rZW5JbmRleF0udmFsdWUubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gY29sdW1uOyAgXG4gICAgfTtcbiAgICB0aGlzLmdldEN1cnJlbnRUb2tlblBvc2l0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7cm93OiB0aGlzLiRyb3csIGNvbHVtbjogdGhpcy5nZXRDdXJyZW50VG9rZW5Db2x1bW4oKX07XG4gICAgfTtcbiAgICB0aGlzLmdldEN1cnJlbnRUb2tlblJhbmdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB0b2tlbiA9IHRoaXMuJHJvd1Rva2Vuc1t0aGlzLiR0b2tlbkluZGV4XTtcbiAgICAgICAgdmFyIGNvbHVtbiA9IHRoaXMuZ2V0Q3VycmVudFRva2VuQ29sdW1uKCk7XG4gICAgICAgIHJldHVybiBuZXcgUmFuZ2UodGhpcy4kcm93LCBjb2x1bW4sIHRoaXMuJHJvdywgY29sdW1uICsgdG9rZW4udmFsdWUubGVuZ3RoKTtcbiAgICB9O1xuICAgIFxufSkuY2FsbChUb2tlbkl0ZXJhdG9yLnByb3RvdHlwZSk7XG5cbmV4cG9ydHMuVG9rZW5JdGVyYXRvciA9IFRva2VuSXRlcmF0b3I7XG59KTtcblxuYWNlLmRlZmluZShcImFjZS9tb2RlL2JlaGF2aW91ci9jc3R5bGVcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvb29wXCIsXCJhY2UvbW9kZS9iZWhhdmlvdXJcIixcImFjZS90b2tlbl9pdGVyYXRvclwiLFwiYWNlL2xpYi9sYW5nXCJdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgb29wID0gcmVxdWlyZShcIi4uLy4uL2xpYi9vb3BcIik7XG52YXIgQmVoYXZpb3VyID0gcmVxdWlyZShcIi4uL2JlaGF2aW91clwiKS5CZWhhdmlvdXI7XG52YXIgVG9rZW5JdGVyYXRvciA9IHJlcXVpcmUoXCIuLi8uLi90b2tlbl9pdGVyYXRvclwiKS5Ub2tlbkl0ZXJhdG9yO1xudmFyIGxhbmcgPSByZXF1aXJlKFwiLi4vLi4vbGliL2xhbmdcIik7XG5cbnZhciBTQUZFX0lOU0VSVF9JTl9UT0tFTlMgPVxuICAgIFtcInRleHRcIiwgXCJwYXJlbi5ycGFyZW5cIiwgXCJycGFyZW5cIiwgXCJwYXJlblwiLCBcInB1bmN0dWF0aW9uLm9wZXJhdG9yXCJdO1xudmFyIFNBRkVfSU5TRVJUX0JFRk9SRV9UT0tFTlMgPVxuICAgIFtcInRleHRcIiwgXCJwYXJlbi5ycGFyZW5cIiwgXCJycGFyZW5cIiwgXCJwYXJlblwiLCBcInB1bmN0dWF0aW9uLm9wZXJhdG9yXCIsIFwiY29tbWVudFwiXTtcblxudmFyIGNvbnRleHQ7XG52YXIgY29udGV4dENhY2hlID0ge307XG52YXIgZGVmYXVsdFF1b3RlcyA9IHsnXCInIDogJ1wiJywgXCInXCIgOiBcIidcIn07XG5cbnZhciBpbml0Q29udGV4dCA9IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgIHZhciBpZCA9IC0xO1xuICAgIGlmIChlZGl0b3IubXVsdGlTZWxlY3QpIHtcbiAgICAgICAgaWQgPSBlZGl0b3Iuc2VsZWN0aW9uLmluZGV4O1xuICAgICAgICBpZiAoY29udGV4dENhY2hlLnJhbmdlQ291bnQgIT0gZWRpdG9yLm11bHRpU2VsZWN0LnJhbmdlQ291bnQpXG4gICAgICAgICAgICBjb250ZXh0Q2FjaGUgPSB7cmFuZ2VDb3VudDogZWRpdG9yLm11bHRpU2VsZWN0LnJhbmdlQ291bnR9O1xuICAgIH1cbiAgICBpZiAoY29udGV4dENhY2hlW2lkXSlcbiAgICAgICAgcmV0dXJuIGNvbnRleHQgPSBjb250ZXh0Q2FjaGVbaWRdO1xuICAgIGNvbnRleHQgPSBjb250ZXh0Q2FjaGVbaWRdID0ge1xuICAgICAgICBhdXRvSW5zZXJ0ZWRCcmFja2V0czogMCxcbiAgICAgICAgYXV0b0luc2VydGVkUm93OiAtMSxcbiAgICAgICAgYXV0b0luc2VydGVkTGluZUVuZDogXCJcIixcbiAgICAgICAgbWF5YmVJbnNlcnRlZEJyYWNrZXRzOiAwLFxuICAgICAgICBtYXliZUluc2VydGVkUm93OiAtMSxcbiAgICAgICAgbWF5YmVJbnNlcnRlZExpbmVTdGFydDogXCJcIixcbiAgICAgICAgbWF5YmVJbnNlcnRlZExpbmVFbmQ6IFwiXCJcbiAgICB9O1xufTtcblxudmFyIGdldFdyYXBwZWQgPSBmdW5jdGlvbihzZWxlY3Rpb24sIHNlbGVjdGVkLCBvcGVuaW5nLCBjbG9zaW5nKSB7XG4gICAgdmFyIHJvd0RpZmYgPSBzZWxlY3Rpb24uZW5kLnJvdyAtIHNlbGVjdGlvbi5zdGFydC5yb3c7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdGV4dDogb3BlbmluZyArIHNlbGVjdGVkICsgY2xvc2luZyxcbiAgICAgICAgc2VsZWN0aW9uOiBbXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb24uc3RhcnQuY29sdW1uICsgMSxcbiAgICAgICAgICAgICAgICByb3dEaWZmLFxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbi5lbmQuY29sdW1uICsgKHJvd0RpZmYgPyAwIDogMSlcbiAgICAgICAgICAgIF1cbiAgICB9O1xufTtcblxudmFyIENzdHlsZUJlaGF2aW91ciA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICB0aGlzLmFkZChcImJyYWNlc1wiLCBcImluc2VydGlvblwiLCBmdW5jdGlvbihzdGF0ZSwgYWN0aW9uLCBlZGl0b3IsIHNlc3Npb24sIHRleHQpIHtcbiAgICAgICAgdmFyIGN1cnNvciA9IGVkaXRvci5nZXRDdXJzb3JQb3NpdGlvbigpO1xuICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZG9jLmdldExpbmUoY3Vyc29yLnJvdyk7XG4gICAgICAgIGlmICh0ZXh0ID09ICd7Jykge1xuICAgICAgICAgICAgaW5pdENvbnRleHQoZWRpdG9yKTtcbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb24gPSBlZGl0b3IuZ2V0U2VsZWN0aW9uUmFuZ2UoKTtcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZCA9IHNlc3Npb24uZG9jLmdldFRleHRSYW5nZShzZWxlY3Rpb24pO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkICE9PSBcIlwiICYmIHNlbGVjdGVkICE9PSBcIntcIiAmJiBlZGl0b3IuZ2V0V3JhcEJlaGF2aW91cnNFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0V3JhcHBlZChzZWxlY3Rpb24sIHNlbGVjdGVkLCAneycsICd9Jyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKENzdHlsZUJlaGF2aW91ci5pc1NhbmVJbnNlcnRpb24oZWRpdG9yLCBzZXNzaW9uKSkge1xuICAgICAgICAgICAgICAgIGlmICgvW1xcXVxcfVxcKV0vLnRlc3QobGluZVtjdXJzb3IuY29sdW1uXSkgfHwgZWRpdG9yLmluTXVsdGlTZWxlY3RNb2RlIHx8IG9wdGlvbnMgJiYgb3B0aW9ucy5icmFjZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgQ3N0eWxlQmVoYXZpb3VyLnJlY29yZEF1dG9JbnNlcnQoZWRpdG9yLCBzZXNzaW9uLCBcIn1cIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAne30nLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBbMSwgMV1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBDc3R5bGVCZWhhdmlvdXIucmVjb3JkTWF5YmVJbnNlcnQoZWRpdG9yLCBzZXNzaW9uLCBcIntcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAneycsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb246IFsxLCAxXVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0ZXh0ID09ICd9Jykge1xuICAgICAgICAgICAgaW5pdENvbnRleHQoZWRpdG9yKTtcbiAgICAgICAgICAgIHZhciByaWdodENoYXIgPSBsaW5lLnN1YnN0cmluZyhjdXJzb3IuY29sdW1uLCBjdXJzb3IuY29sdW1uICsgMSk7XG4gICAgICAgICAgICBpZiAocmlnaHRDaGFyID09ICd9Jykge1xuICAgICAgICAgICAgICAgIHZhciBtYXRjaGluZyA9IHNlc3Npb24uJGZpbmRPcGVuaW5nQnJhY2tldCgnfScsIHtjb2x1bW46IGN1cnNvci5jb2x1bW4gKyAxLCByb3c6IGN1cnNvci5yb3d9KTtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hpbmcgIT09IG51bGwgJiYgQ3N0eWxlQmVoYXZpb3VyLmlzQXV0b0luc2VydGVkQ2xvc2luZyhjdXJzb3IsIGxpbmUsIHRleHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIENzdHlsZUJlaGF2aW91ci5wb3BBdXRvSW5zZXJ0ZWRDbG9zaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbjogWzEsIDFdXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRleHQgPT0gXCJcXG5cIiB8fCB0ZXh0ID09IFwiXFxyXFxuXCIpIHtcbiAgICAgICAgICAgIGluaXRDb250ZXh0KGVkaXRvcik7XG4gICAgICAgICAgICB2YXIgY2xvc2luZyA9IFwiXCI7XG4gICAgICAgICAgICBpZiAoQ3N0eWxlQmVoYXZpb3VyLmlzTWF5YmVJbnNlcnRlZENsb3NpbmcoY3Vyc29yLCBsaW5lKSkge1xuICAgICAgICAgICAgICAgIGNsb3NpbmcgPSBsYW5nLnN0cmluZ1JlcGVhdChcIn1cIiwgY29udGV4dC5tYXliZUluc2VydGVkQnJhY2tldHMpO1xuICAgICAgICAgICAgICAgIENzdHlsZUJlaGF2aW91ci5jbGVhck1heWJlSW5zZXJ0ZWRDbG9zaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcmlnaHRDaGFyID0gbGluZS5zdWJzdHJpbmcoY3Vyc29yLmNvbHVtbiwgY3Vyc29yLmNvbHVtbiArIDEpO1xuICAgICAgICAgICAgaWYgKHJpZ2h0Q2hhciA9PT0gJ30nKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9wZW5CcmFjZVBvcyA9IHNlc3Npb24uZmluZE1hdGNoaW5nQnJhY2tldCh7cm93OiBjdXJzb3Iucm93LCBjb2x1bW46IGN1cnNvci5jb2x1bW4rMX0sICd9Jyk7XG4gICAgICAgICAgICAgICAgaWYgKCFvcGVuQnJhY2VQb3MpXG4gICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB2YXIgbmV4dF9pbmRlbnQgPSB0aGlzLiRnZXRJbmRlbnQoc2Vzc2lvbi5nZXRMaW5lKG9wZW5CcmFjZVBvcy5yb3cpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2xvc2luZykge1xuICAgICAgICAgICAgICAgIHZhciBuZXh0X2luZGVudCA9IHRoaXMuJGdldEluZGVudChsaW5lKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgQ3N0eWxlQmVoYXZpb3VyLmNsZWFyTWF5YmVJbnNlcnRlZENsb3NpbmcoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaW5kZW50ID0gbmV4dF9pbmRlbnQgKyBzZXNzaW9uLmdldFRhYlN0cmluZygpO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHRleHQ6ICdcXG4nICsgaW5kZW50ICsgJ1xcbicgKyBuZXh0X2luZGVudCArIGNsb3NpbmcsXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBbMSwgaW5kZW50Lmxlbmd0aCwgMSwgaW5kZW50Lmxlbmd0aF1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBDc3R5bGVCZWhhdmlvdXIuY2xlYXJNYXliZUluc2VydGVkQ2xvc2luZygpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZChcImJyYWNlc1wiLCBcImRlbGV0aW9uXCIsIGZ1bmN0aW9uKHN0YXRlLCBhY3Rpb24sIGVkaXRvciwgc2Vzc2lvbiwgcmFuZ2UpIHtcbiAgICAgICAgdmFyIHNlbGVjdGVkID0gc2Vzc2lvbi5kb2MuZ2V0VGV4dFJhbmdlKHJhbmdlKTtcbiAgICAgICAgaWYgKCFyYW5nZS5pc011bHRpTGluZSgpICYmIHNlbGVjdGVkID09ICd7Jykge1xuICAgICAgICAgICAgaW5pdENvbnRleHQoZWRpdG9yKTtcbiAgICAgICAgICAgIHZhciBsaW5lID0gc2Vzc2lvbi5kb2MuZ2V0TGluZShyYW5nZS5zdGFydC5yb3cpO1xuICAgICAgICAgICAgdmFyIHJpZ2h0Q2hhciA9IGxpbmUuc3Vic3RyaW5nKHJhbmdlLmVuZC5jb2x1bW4sIHJhbmdlLmVuZC5jb2x1bW4gKyAxKTtcbiAgICAgICAgICAgIGlmIChyaWdodENoYXIgPT0gJ30nKSB7XG4gICAgICAgICAgICAgICAgcmFuZ2UuZW5kLmNvbHVtbisrO1xuICAgICAgICAgICAgICAgIHJldHVybiByYW5nZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5tYXliZUluc2VydGVkQnJhY2tldHMtLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5hZGQoXCJwYXJlbnNcIiwgXCJpbnNlcnRpb25cIiwgZnVuY3Rpb24oc3RhdGUsIGFjdGlvbiwgZWRpdG9yLCBzZXNzaW9uLCB0ZXh0KSB7XG4gICAgICAgIGlmICh0ZXh0ID09ICcoJykge1xuICAgICAgICAgICAgaW5pdENvbnRleHQoZWRpdG9yKTtcbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb24gPSBlZGl0b3IuZ2V0U2VsZWN0aW9uUmFuZ2UoKTtcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZCA9IHNlc3Npb24uZG9jLmdldFRleHRSYW5nZShzZWxlY3Rpb24pO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkICE9PSBcIlwiICYmIGVkaXRvci5nZXRXcmFwQmVoYXZpb3Vyc0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRXcmFwcGVkKHNlbGVjdGlvbiwgc2VsZWN0ZWQsICcoJywgJyknKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoQ3N0eWxlQmVoYXZpb3VyLmlzU2FuZUluc2VydGlvbihlZGl0b3IsIHNlc3Npb24pKSB7XG4gICAgICAgICAgICAgICAgQ3N0eWxlQmVoYXZpb3VyLnJlY29yZEF1dG9JbnNlcnQoZWRpdG9yLCBzZXNzaW9uLCBcIilcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogJygpJyxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBbMSwgMV1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRleHQgPT0gJyknKSB7XG4gICAgICAgICAgICBpbml0Q29udGV4dChlZGl0b3IpO1xuICAgICAgICAgICAgdmFyIGN1cnNvciA9IGVkaXRvci5nZXRDdXJzb3JQb3NpdGlvbigpO1xuICAgICAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmRvYy5nZXRMaW5lKGN1cnNvci5yb3cpO1xuICAgICAgICAgICAgdmFyIHJpZ2h0Q2hhciA9IGxpbmUuc3Vic3RyaW5nKGN1cnNvci5jb2x1bW4sIGN1cnNvci5jb2x1bW4gKyAxKTtcbiAgICAgICAgICAgIGlmIChyaWdodENoYXIgPT0gJyknKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1hdGNoaW5nID0gc2Vzc2lvbi4kZmluZE9wZW5pbmdCcmFja2V0KCcpJywge2NvbHVtbjogY3Vyc29yLmNvbHVtbiArIDEsIHJvdzogY3Vyc29yLnJvd30pO1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaGluZyAhPT0gbnVsbCAmJiBDc3R5bGVCZWhhdmlvdXIuaXNBdXRvSW5zZXJ0ZWRDbG9zaW5nKGN1cnNvciwgbGluZSwgdGV4dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgQ3N0eWxlQmVoYXZpb3VyLnBvcEF1dG9JbnNlcnRlZENsb3NpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBbMSwgMV1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuYWRkKFwicGFyZW5zXCIsIFwiZGVsZXRpb25cIiwgZnVuY3Rpb24oc3RhdGUsIGFjdGlvbiwgZWRpdG9yLCBzZXNzaW9uLCByYW5nZSkge1xuICAgICAgICB2YXIgc2VsZWN0ZWQgPSBzZXNzaW9uLmRvYy5nZXRUZXh0UmFuZ2UocmFuZ2UpO1xuICAgICAgICBpZiAoIXJhbmdlLmlzTXVsdGlMaW5lKCkgJiYgc2VsZWN0ZWQgPT0gJygnKSB7XG4gICAgICAgICAgICBpbml0Q29udGV4dChlZGl0b3IpO1xuICAgICAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmRvYy5nZXRMaW5lKHJhbmdlLnN0YXJ0LnJvdyk7XG4gICAgICAgICAgICB2YXIgcmlnaHRDaGFyID0gbGluZS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uICsgMSwgcmFuZ2Uuc3RhcnQuY29sdW1uICsgMik7XG4gICAgICAgICAgICBpZiAocmlnaHRDaGFyID09ICcpJykge1xuICAgICAgICAgICAgICAgIHJhbmdlLmVuZC5jb2x1bW4rKztcbiAgICAgICAgICAgICAgICByZXR1cm4gcmFuZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuYWRkKFwiYnJhY2tldHNcIiwgXCJpbnNlcnRpb25cIiwgZnVuY3Rpb24oc3RhdGUsIGFjdGlvbiwgZWRpdG9yLCBzZXNzaW9uLCB0ZXh0KSB7XG4gICAgICAgIGlmICh0ZXh0ID09ICdbJykge1xuICAgICAgICAgICAgaW5pdENvbnRleHQoZWRpdG9yKTtcbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb24gPSBlZGl0b3IuZ2V0U2VsZWN0aW9uUmFuZ2UoKTtcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZCA9IHNlc3Npb24uZG9jLmdldFRleHRSYW5nZShzZWxlY3Rpb24pO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkICE9PSBcIlwiICYmIGVkaXRvci5nZXRXcmFwQmVoYXZpb3Vyc0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRXcmFwcGVkKHNlbGVjdGlvbiwgc2VsZWN0ZWQsICdbJywgJ10nKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoQ3N0eWxlQmVoYXZpb3VyLmlzU2FuZUluc2VydGlvbihlZGl0b3IsIHNlc3Npb24pKSB7XG4gICAgICAgICAgICAgICAgQ3N0eWxlQmVoYXZpb3VyLnJlY29yZEF1dG9JbnNlcnQoZWRpdG9yLCBzZXNzaW9uLCBcIl1cIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogJ1tdJyxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBbMSwgMV1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRleHQgPT0gJ10nKSB7XG4gICAgICAgICAgICBpbml0Q29udGV4dChlZGl0b3IpO1xuICAgICAgICAgICAgdmFyIGN1cnNvciA9IGVkaXRvci5nZXRDdXJzb3JQb3NpdGlvbigpO1xuICAgICAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmRvYy5nZXRMaW5lKGN1cnNvci5yb3cpO1xuICAgICAgICAgICAgdmFyIHJpZ2h0Q2hhciA9IGxpbmUuc3Vic3RyaW5nKGN1cnNvci5jb2x1bW4sIGN1cnNvci5jb2x1bW4gKyAxKTtcbiAgICAgICAgICAgIGlmIChyaWdodENoYXIgPT0gJ10nKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1hdGNoaW5nID0gc2Vzc2lvbi4kZmluZE9wZW5pbmdCcmFja2V0KCddJywge2NvbHVtbjogY3Vyc29yLmNvbHVtbiArIDEsIHJvdzogY3Vyc29yLnJvd30pO1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaGluZyAhPT0gbnVsbCAmJiBDc3R5bGVCZWhhdmlvdXIuaXNBdXRvSW5zZXJ0ZWRDbG9zaW5nKGN1cnNvciwgbGluZSwgdGV4dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgQ3N0eWxlQmVoYXZpb3VyLnBvcEF1dG9JbnNlcnRlZENsb3NpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBbMSwgMV1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuYWRkKFwiYnJhY2tldHNcIiwgXCJkZWxldGlvblwiLCBmdW5jdGlvbihzdGF0ZSwgYWN0aW9uLCBlZGl0b3IsIHNlc3Npb24sIHJhbmdlKSB7XG4gICAgICAgIHZhciBzZWxlY3RlZCA9IHNlc3Npb24uZG9jLmdldFRleHRSYW5nZShyYW5nZSk7XG4gICAgICAgIGlmICghcmFuZ2UuaXNNdWx0aUxpbmUoKSAmJiBzZWxlY3RlZCA9PSAnWycpIHtcbiAgICAgICAgICAgIGluaXRDb250ZXh0KGVkaXRvcik7XG4gICAgICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZG9jLmdldExpbmUocmFuZ2Uuc3RhcnQucm93KTtcbiAgICAgICAgICAgIHZhciByaWdodENoYXIgPSBsaW5lLnN1YnN0cmluZyhyYW5nZS5zdGFydC5jb2x1bW4gKyAxLCByYW5nZS5zdGFydC5jb2x1bW4gKyAyKTtcbiAgICAgICAgICAgIGlmIChyaWdodENoYXIgPT0gJ10nKSB7XG4gICAgICAgICAgICAgICAgcmFuZ2UuZW5kLmNvbHVtbisrO1xuICAgICAgICAgICAgICAgIHJldHVybiByYW5nZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5hZGQoXCJzdHJpbmdfZHF1b3Rlc1wiLCBcImluc2VydGlvblwiLCBmdW5jdGlvbihzdGF0ZSwgYWN0aW9uLCBlZGl0b3IsIHNlc3Npb24sIHRleHQpIHtcbiAgICAgICAgdmFyIHF1b3RlcyA9IHNlc3Npb24uJG1vZGUuJHF1b3RlcyB8fCBkZWZhdWx0UXVvdGVzO1xuICAgICAgICBpZiAodGV4dC5sZW5ndGggPT0gMSAmJiBxdW90ZXNbdGV4dF0pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmxpbmVDb21tZW50U3RhcnQgJiYgdGhpcy5saW5lQ29tbWVudFN0YXJ0LmluZGV4T2YodGV4dCkgIT0gLTEpIFxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGluaXRDb250ZXh0KGVkaXRvcik7XG4gICAgICAgICAgICB2YXIgcXVvdGUgPSB0ZXh0O1xuICAgICAgICAgICAgdmFyIHNlbGVjdGlvbiA9IGVkaXRvci5nZXRTZWxlY3Rpb25SYW5nZSgpO1xuICAgICAgICAgICAgdmFyIHNlbGVjdGVkID0gc2Vzc2lvbi5kb2MuZ2V0VGV4dFJhbmdlKHNlbGVjdGlvbik7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWQgIT09IFwiXCIgJiYgKHNlbGVjdGVkLmxlbmd0aCAhPSAxIHx8ICFxdW90ZXNbc2VsZWN0ZWRdKSAmJiBlZGl0b3IuZ2V0V3JhcEJlaGF2aW91cnNFbmFibGVkKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0V3JhcHBlZChzZWxlY3Rpb24sIHNlbGVjdGVkLCBxdW90ZSwgcXVvdGUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgY3Vyc29yID0gZWRpdG9yLmdldEN1cnNvclBvc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmRvYy5nZXRMaW5lKGN1cnNvci5yb3cpO1xuICAgICAgICAgICAgICAgIHZhciBsZWZ0Q2hhciA9IGxpbmUuc3Vic3RyaW5nKGN1cnNvci5jb2x1bW4tMSwgY3Vyc29yLmNvbHVtbik7XG4gICAgICAgICAgICAgICAgdmFyIHJpZ2h0Q2hhciA9IGxpbmUuc3Vic3RyaW5nKGN1cnNvci5jb2x1bW4sIGN1cnNvci5jb2x1bW4gKyAxKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB2YXIgdG9rZW4gPSBzZXNzaW9uLmdldFRva2VuQXQoY3Vyc29yLnJvdywgY3Vyc29yLmNvbHVtbik7XG4gICAgICAgICAgICAgICAgdmFyIHJpZ2h0VG9rZW4gPSBzZXNzaW9uLmdldFRva2VuQXQoY3Vyc29yLnJvdywgY3Vyc29yLmNvbHVtbiArIDEpO1xuICAgICAgICAgICAgICAgIGlmIChsZWZ0Q2hhciA9PSBcIlxcXFxcIiAmJiB0b2tlbiAmJiAvZXNjYXBlLy50ZXN0KHRva2VuLnR5cGUpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB2YXIgc3RyaW5nQmVmb3JlID0gdG9rZW4gJiYgL3N0cmluZ3xlc2NhcGUvLnRlc3QodG9rZW4udHlwZSk7XG4gICAgICAgICAgICAgICAgdmFyIHN0cmluZ0FmdGVyID0gIXJpZ2h0VG9rZW4gfHwgL3N0cmluZ3xlc2NhcGUvLnRlc3QocmlnaHRUb2tlbi50eXBlKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB2YXIgcGFpcjtcbiAgICAgICAgICAgICAgICBpZiAocmlnaHRDaGFyID09IHF1b3RlKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhaXIgPSBzdHJpbmdCZWZvcmUgIT09IHN0cmluZ0FmdGVyO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFpciAmJiAvc3RyaW5nXFwuZW5kLy50ZXN0KHJpZ2h0VG9rZW4udHlwZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWlyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cmluZ0JlZm9yZSAmJiAhc3RyaW5nQWZ0ZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsgLy8gd3JhcCBzdHJpbmcgd2l0aCBkaWZmZXJlbnQgcXVvdGVcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cmluZ0JlZm9yZSAmJiBzdHJpbmdBZnRlcilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsOyAvLyBkbyBub3QgcGFpciBxdW90ZXMgaW5zaWRlIHN0cmluZ3NcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdvcmRSZSA9IHNlc3Npb24uJG1vZGUudG9rZW5SZTtcbiAgICAgICAgICAgICAgICAgICAgd29yZFJlLmxhc3RJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpc1dvcmRCZWZvcmUgPSB3b3JkUmUudGVzdChsZWZ0Q2hhcik7XG4gICAgICAgICAgICAgICAgICAgIHdvcmRSZS5sYXN0SW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXNXb3JkQWZ0ZXIgPSB3b3JkUmUudGVzdChsZWZ0Q2hhcik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1dvcmRCZWZvcmUgfHwgaXNXb3JkQWZ0ZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsgLy8gYmVmb3JlIG9yIGFmdGVyIGFscGhhbnVtZXJpY1xuICAgICAgICAgICAgICAgICAgICBpZiAocmlnaHRDaGFyICYmICEvW1xcczssLn0pXFxdXFxcXF0vLnRlc3QocmlnaHRDaGFyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsOyAvLyB0aGVyZSBpcyByaWdodENoYXIgYW5kIGl0IGlzbid0IGNsb3NpbmdcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoYXJCZWZvcmUgPSBsaW5lW2N1cnNvci5jb2x1bW4gLSAyXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxlZnRDaGFyID09IHF1b3RlICYmICAoY2hhckJlZm9yZSA9PSBxdW90ZSB8fCB3b3JkUmUudGVzdChjaGFyQmVmb3JlKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgcGFpciA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IHBhaXIgPyBxdW90ZSArIHF1b3RlIDogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBbMSwxXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuYWRkKFwic3RyaW5nX2RxdW90ZXNcIiwgXCJkZWxldGlvblwiLCBmdW5jdGlvbihzdGF0ZSwgYWN0aW9uLCBlZGl0b3IsIHNlc3Npb24sIHJhbmdlKSB7XG4gICAgICAgIHZhciBxdW90ZXMgPSBzZXNzaW9uLiRtb2RlLiRxdW90ZXMgfHwgZGVmYXVsdFF1b3RlcztcblxuICAgICAgICB2YXIgc2VsZWN0ZWQgPSBzZXNzaW9uLmRvYy5nZXRUZXh0UmFuZ2UocmFuZ2UpO1xuICAgICAgICBpZiAoIXJhbmdlLmlzTXVsdGlMaW5lKCkgJiYgcXVvdGVzLmhhc093blByb3BlcnR5KHNlbGVjdGVkKSkge1xuICAgICAgICAgICAgaW5pdENvbnRleHQoZWRpdG9yKTtcbiAgICAgICAgICAgIHZhciBsaW5lID0gc2Vzc2lvbi5kb2MuZ2V0TGluZShyYW5nZS5zdGFydC5yb3cpO1xuICAgICAgICAgICAgdmFyIHJpZ2h0Q2hhciA9IGxpbmUuc3Vic3RyaW5nKHJhbmdlLnN0YXJ0LmNvbHVtbiArIDEsIHJhbmdlLnN0YXJ0LmNvbHVtbiArIDIpO1xuICAgICAgICAgICAgaWYgKHJpZ2h0Q2hhciA9PSBzZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgIHJhbmdlLmVuZC5jb2x1bW4rKztcbiAgICAgICAgICAgICAgICByZXR1cm4gcmFuZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxufTtcblxuICAgIFxuQ3N0eWxlQmVoYXZpb3VyLmlzU2FuZUluc2VydGlvbiA9IGZ1bmN0aW9uKGVkaXRvciwgc2Vzc2lvbikge1xuICAgIHZhciBjdXJzb3IgPSBlZGl0b3IuZ2V0Q3Vyc29yUG9zaXRpb24oKTtcbiAgICB2YXIgaXRlcmF0b3IgPSBuZXcgVG9rZW5JdGVyYXRvcihzZXNzaW9uLCBjdXJzb3Iucm93LCBjdXJzb3IuY29sdW1uKTtcbiAgICBpZiAoIXRoaXMuJG1hdGNoVG9rZW5UeXBlKGl0ZXJhdG9yLmdldEN1cnJlbnRUb2tlbigpIHx8IFwidGV4dFwiLCBTQUZFX0lOU0VSVF9JTl9UT0tFTlMpKSB7XG4gICAgICAgIGlmICgvWyl9XFxdXS8udGVzdChlZGl0b3Iuc2Vzc2lvbi5nZXRMaW5lKGN1cnNvci5yb3cpW2N1cnNvci5jb2x1bW5dKSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB2YXIgaXRlcmF0b3IyID0gbmV3IFRva2VuSXRlcmF0b3Ioc2Vzc2lvbiwgY3Vyc29yLnJvdywgY3Vyc29yLmNvbHVtbiArIDEpO1xuICAgICAgICBpZiAoIXRoaXMuJG1hdGNoVG9rZW5UeXBlKGl0ZXJhdG9yMi5nZXRDdXJyZW50VG9rZW4oKSB8fCBcInRleHRcIiwgU0FGRV9JTlNFUlRfSU5fVE9LRU5TKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaXRlcmF0b3Iuc3RlcEZvcndhcmQoKTtcbiAgICByZXR1cm4gaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuUm93KCkgIT09IGN1cnNvci5yb3cgfHxcbiAgICAgICAgdGhpcy4kbWF0Y2hUb2tlblR5cGUoaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuKCkgfHwgXCJ0ZXh0XCIsIFNBRkVfSU5TRVJUX0JFRk9SRV9UT0tFTlMpO1xufTtcblxuQ3N0eWxlQmVoYXZpb3VyLiRtYXRjaFRva2VuVHlwZSA9IGZ1bmN0aW9uKHRva2VuLCB0eXBlcykge1xuICAgIHJldHVybiB0eXBlcy5pbmRleE9mKHRva2VuLnR5cGUgfHwgdG9rZW4pID4gLTE7XG59O1xuXG5Dc3R5bGVCZWhhdmlvdXIucmVjb3JkQXV0b0luc2VydCA9IGZ1bmN0aW9uKGVkaXRvciwgc2Vzc2lvbiwgYnJhY2tldCkge1xuICAgIHZhciBjdXJzb3IgPSBlZGl0b3IuZ2V0Q3Vyc29yUG9zaXRpb24oKTtcbiAgICB2YXIgbGluZSA9IHNlc3Npb24uZG9jLmdldExpbmUoY3Vyc29yLnJvdyk7XG4gICAgaWYgKCF0aGlzLmlzQXV0b0luc2VydGVkQ2xvc2luZyhjdXJzb3IsIGxpbmUsIGNvbnRleHQuYXV0b0luc2VydGVkTGluZUVuZFswXSkpXG4gICAgICAgIGNvbnRleHQuYXV0b0luc2VydGVkQnJhY2tldHMgPSAwO1xuICAgIGNvbnRleHQuYXV0b0luc2VydGVkUm93ID0gY3Vyc29yLnJvdztcbiAgICBjb250ZXh0LmF1dG9JbnNlcnRlZExpbmVFbmQgPSBicmFja2V0ICsgbGluZS5zdWJzdHIoY3Vyc29yLmNvbHVtbik7XG4gICAgY29udGV4dC5hdXRvSW5zZXJ0ZWRCcmFja2V0cysrO1xufTtcblxuQ3N0eWxlQmVoYXZpb3VyLnJlY29yZE1heWJlSW5zZXJ0ID0gZnVuY3Rpb24oZWRpdG9yLCBzZXNzaW9uLCBicmFja2V0KSB7XG4gICAgdmFyIGN1cnNvciA9IGVkaXRvci5nZXRDdXJzb3JQb3NpdGlvbigpO1xuICAgIHZhciBsaW5lID0gc2Vzc2lvbi5kb2MuZ2V0TGluZShjdXJzb3Iucm93KTtcbiAgICBpZiAoIXRoaXMuaXNNYXliZUluc2VydGVkQ2xvc2luZyhjdXJzb3IsIGxpbmUpKVxuICAgICAgICBjb250ZXh0Lm1heWJlSW5zZXJ0ZWRCcmFja2V0cyA9IDA7XG4gICAgY29udGV4dC5tYXliZUluc2VydGVkUm93ID0gY3Vyc29yLnJvdztcbiAgICBjb250ZXh0Lm1heWJlSW5zZXJ0ZWRMaW5lU3RhcnQgPSBsaW5lLnN1YnN0cigwLCBjdXJzb3IuY29sdW1uKSArIGJyYWNrZXQ7XG4gICAgY29udGV4dC5tYXliZUluc2VydGVkTGluZUVuZCA9IGxpbmUuc3Vic3RyKGN1cnNvci5jb2x1bW4pO1xuICAgIGNvbnRleHQubWF5YmVJbnNlcnRlZEJyYWNrZXRzKys7XG59O1xuXG5Dc3R5bGVCZWhhdmlvdXIuaXNBdXRvSW5zZXJ0ZWRDbG9zaW5nID0gZnVuY3Rpb24oY3Vyc29yLCBsaW5lLCBicmFja2V0KSB7XG4gICAgcmV0dXJuIGNvbnRleHQuYXV0b0luc2VydGVkQnJhY2tldHMgPiAwICYmXG4gICAgICAgIGN1cnNvci5yb3cgPT09IGNvbnRleHQuYXV0b0luc2VydGVkUm93ICYmXG4gICAgICAgIGJyYWNrZXQgPT09IGNvbnRleHQuYXV0b0luc2VydGVkTGluZUVuZFswXSAmJlxuICAgICAgICBsaW5lLnN1YnN0cihjdXJzb3IuY29sdW1uKSA9PT0gY29udGV4dC5hdXRvSW5zZXJ0ZWRMaW5lRW5kO1xufTtcblxuQ3N0eWxlQmVoYXZpb3VyLmlzTWF5YmVJbnNlcnRlZENsb3NpbmcgPSBmdW5jdGlvbihjdXJzb3IsIGxpbmUpIHtcbiAgICByZXR1cm4gY29udGV4dC5tYXliZUluc2VydGVkQnJhY2tldHMgPiAwICYmXG4gICAgICAgIGN1cnNvci5yb3cgPT09IGNvbnRleHQubWF5YmVJbnNlcnRlZFJvdyAmJlxuICAgICAgICBsaW5lLnN1YnN0cihjdXJzb3IuY29sdW1uKSA9PT0gY29udGV4dC5tYXliZUluc2VydGVkTGluZUVuZCAmJlxuICAgICAgICBsaW5lLnN1YnN0cigwLCBjdXJzb3IuY29sdW1uKSA9PSBjb250ZXh0Lm1heWJlSW5zZXJ0ZWRMaW5lU3RhcnQ7XG59O1xuXG5Dc3R5bGVCZWhhdmlvdXIucG9wQXV0b0luc2VydGVkQ2xvc2luZyA9IGZ1bmN0aW9uKCkge1xuICAgIGNvbnRleHQuYXV0b0luc2VydGVkTGluZUVuZCA9IGNvbnRleHQuYXV0b0luc2VydGVkTGluZUVuZC5zdWJzdHIoMSk7XG4gICAgY29udGV4dC5hdXRvSW5zZXJ0ZWRCcmFja2V0cy0tO1xufTtcblxuQ3N0eWxlQmVoYXZpb3VyLmNsZWFyTWF5YmVJbnNlcnRlZENsb3NpbmcgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoY29udGV4dCkge1xuICAgICAgICBjb250ZXh0Lm1heWJlSW5zZXJ0ZWRCcmFja2V0cyA9IDA7XG4gICAgICAgIGNvbnRleHQubWF5YmVJbnNlcnRlZFJvdyA9IC0xO1xuICAgIH1cbn07XG5cblxuXG5vb3AuaW5oZXJpdHMoQ3N0eWxlQmVoYXZpb3VyLCBCZWhhdmlvdXIpO1xuXG5leHBvcnRzLkNzdHlsZUJlaGF2aW91ciA9IENzdHlsZUJlaGF2aW91cjtcbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL3VuaWNvZGVcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIl0sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG52YXIgd29yZENoYXJzID0gWzQ4LDksOCwyNSw1LDAsMiwyNSw0OCwwLDExLDAsNSwwLDYsMjIsMiwzMCwyLDQ1Nyw1LDExLDE1LDQsOCwwLDIsMCwxOCwxMTYsMiwxLDMsMyw5LDAsMiwyLDIsMCwyLDE5LDIsODIsMiwxMzgsMiw0LDMsMTU1LDEyLDM3LDMsMCw4LDM4LDEwLDQ0LDIsMCwyLDEsMiwxLDIsMCw5LDI2LDYsMiwzMCwxMCw3LDYxLDIsOSw1LDEwMSwyLDcsMyw5LDIsMTgsMywwLDE3LDU4LDMsMTAwLDE1LDUzLDUsMCw2LDQ1LDIxMSw1NywzLDE4LDIsNSwzLDExLDMsOSwyLDEsNyw2LDIsMiwyLDcsMywxLDMsMjEsMiw2LDIsMCw0LDMsMyw4LDMsMSwzLDMsOSwwLDUsMSwyLDQsMywxMSwxNiwyLDIsNSw1LDEsMywyMSwyLDYsMiwxLDIsMSwyLDEsMywwLDIsNCw1LDEsMywyLDQsMCw4LDMsMiwwLDgsMTUsMTIsMiwyLDgsMiwyLDIsMjEsMiw2LDIsMSwyLDQsMyw5LDIsMiwyLDIsMywwLDE2LDMsMyw5LDE4LDIsMiw3LDMsMSwzLDIxLDIsNiwyLDEsMiw0LDMsOCwzLDEsMywyLDksMSw1LDEsMiw0LDMsOSwyLDAsMTcsMSwyLDUsNCwyLDIsMyw0LDEsMiwwLDIsMSw0LDEsNCwyLDQsMTEsNSw0LDQsMiwyLDMsMywwLDcsMCwxNSw5LDE4LDIsMiw3LDIsMiwyLDIyLDIsOSwyLDQsNCw3LDIsMiwyLDMsOCwxLDIsMSw3LDMsMyw5LDE5LDEsMiw3LDIsMiwyLDIyLDIsOSwyLDQsMyw4LDIsMiwyLDMsOCwxLDgsMCwyLDMsMyw5LDE5LDEsMiw3LDIsMiwyLDIyLDIsMTUsNCw3LDIsMiwyLDMsMTAsMCw5LDMsMyw5LDExLDUsMywxLDIsMTcsNCwyMywyLDgsMiwwLDMsNiw0LDAsNSw1LDIsMCwyLDcsMTksMSwxNCw1Nyw2LDE0LDIsOSw0MCwxLDIsMCwzLDEsMiwwLDMsMCw3LDMsMiw2LDIsMiwyLDAsMiwwLDMsMSwyLDEyLDIsMiwzLDQsMiwwLDIsNSwzLDksMywxLDM1LDAsMjQsMSw3LDksMTIsMCwyLDAsMiwwLDUsOSwyLDM1LDUsMTksMiw1LDUsNywyLDM1LDEwLDAsNTgsNzMsNyw3NywzLDM3LDExLDQyLDIsMCw0LDMyOCwyLDMsMyw2LDIsMCwyLDMsMyw0MCwyLDMsMywzMiwyLDMsMyw2LDIsMCwyLDMsMywxNCwyLDU2LDIsMywzLDY2LDUsMCwzMywxNSwxNyw4NCwxMyw2MTksMywxNiwyLDI1LDYsNzQsMjIsMTIsMiw2LDEyLDIwLDEyLDE5LDEzLDEyLDIsMiwyLDEsMTMsNTEsMywyOSw0LDAsNSwxLDMsOSwzNCwyLDMsOSw3LDg3LDksNDIsNiw2OSwxMSwyOCw0LDExLDUsMTEsMTEsMzksMyw0LDEyLDQzLDUsMjUsNywxMCwzOCwyNyw1LDYyLDIsMjgsMywxMCw3LDksMTQsMCw4OSw3NSw1LDksMTgsOCwxMyw0Miw0LDExLDcxLDU1LDksOSw0LDQ4LDgzLDIsMiwzMCwxNCwyMzAsMjMsMjgwLDMsNSwzLDM3LDMsNSwzLDcsMiwwLDIsMCwyLDAsMiwzMCwzLDUyLDIsNiwyLDAsNCwyLDIsNiw0LDMsMyw1LDUsMTIsNiwyLDIsNiw2NywxLDIwLDAsMjksMCwxNCwwLDE3LDQsNjAsMTIsNSwwLDQsMTEsMTgsMCw1LDAsMyw5LDIsMCw0LDQsNywwLDIsMCwyLDAsMiwzLDIsMTAsMywzLDYsNCw1LDAsNTMsMSwyNjg0LDQ2LDIsNDYsMiwxMzIsNyw2LDE1LDM3LDExLDUzLDEwLDAsMTcsMjIsMTAsNiwyLDYsMiw2LDIsNiwyLDYsMiw2LDIsNiwyLDYsMiwzMSw0OCwwLDQ3MCwxLDM2LDUsMiw0LDYsMSw1LDg1LDMsMSwzLDIsMiw4OSwyLDMsNiw0MCw0LDkzLDE4LDIzLDU3LDE1LDUxMyw2NTgxLDc1LDIwOTM5LDUzLDExNjQsNjgsNDUsMywyNjgsNCwyNywyMSwzMSwzLDEzLDEzLDEsMiwyNCw5LDY5LDExLDEsMzgsOCwzLDEwMiwzLDEsMTExLDQ0LDI1LDUxLDEzLDY4LDEyLDksNywyMyw0LDAsNSw0NSwzLDM1LDEzLDI4LDQsNjQsMTUsMTAsMzksNTQsMTAsMTMsMyw5LDcsMjIsNCwxLDUsNjYsMjUsMiwyMjcsNDIsMiwxLDMsOSw3LDExMTcxLDEzLDIyLDUsNDgsODQ1MywzMDEsMyw2MSwzLDEwNSwzOSw2LDEzLDQsNiwxMSwyLDEyLDIsNCwyLDAsMiwxLDIsMSwyLDEwNywzNCwzNjIsMTksNjMsMyw1Myw0MSwxMSw1LDE1LDE3LDYsMTMsMSwyNSwyLDMzLDQsMiwxMzQsMjAsOSw4LDI1LDUsMCwyLDI1LDEyLDg4LDQsNSwzLDUsMyw1LDMsMl07XG5cbnZhciBjb2RlID0gMDtcbnZhciBzdHIgPSBbXTtcbmZvciAodmFyIGkgPSAwOyBpIDwgd29yZENoYXJzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgc3RyLnB1c2goY29kZSArPSB3b3JkQ2hhcnNbaV0pO1xuICAgIGlmICh3b3JkQ2hhcnNbaSArIDFdKVxuICAgICAgICBzdHIucHVzaCg0NSwgY29kZSArPSB3b3JkQ2hhcnNbaSArIDFdKTtcbn1cblxuZXhwb3J0cy53b3JkQ2hhcnMgPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIHN0cik7XG5cbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL21vZGUvdGV4dFwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2NvbmZpZ1wiLFwiYWNlL3Rva2VuaXplclwiLFwiYWNlL21vZGUvdGV4dF9oaWdobGlnaHRfcnVsZXNcIixcImFjZS9tb2RlL2JlaGF2aW91ci9jc3R5bGVcIixcImFjZS91bmljb2RlXCIsXCJhY2UvbGliL2xhbmdcIixcImFjZS90b2tlbl9pdGVyYXRvclwiLFwiYWNlL3JhbmdlXCJdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xudmFyIGNvbmZpZyA9IHJlcXVpcmUoXCIuLi9jb25maWdcIik7XG5cbnZhciBUb2tlbml6ZXIgPSByZXF1aXJlKFwiLi4vdG9rZW5pemVyXCIpLlRva2VuaXplcjtcbnZhciBUZXh0SGlnaGxpZ2h0UnVsZXMgPSByZXF1aXJlKFwiLi90ZXh0X2hpZ2hsaWdodF9ydWxlc1wiKS5UZXh0SGlnaGxpZ2h0UnVsZXM7XG52YXIgQ3N0eWxlQmVoYXZpb3VyID0gcmVxdWlyZShcIi4vYmVoYXZpb3VyL2NzdHlsZVwiKS5Dc3R5bGVCZWhhdmlvdXI7XG52YXIgdW5pY29kZSA9IHJlcXVpcmUoXCIuLi91bmljb2RlXCIpO1xudmFyIGxhbmcgPSByZXF1aXJlKFwiLi4vbGliL2xhbmdcIik7XG52YXIgVG9rZW5JdGVyYXRvciA9IHJlcXVpcmUoXCIuLi90b2tlbl9pdGVyYXRvclwiKS5Ub2tlbkl0ZXJhdG9yO1xudmFyIFJhbmdlID0gcmVxdWlyZShcIi4uL3JhbmdlXCIpLlJhbmdlO1xuXG52YXIgTW9kZSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuSGlnaGxpZ2h0UnVsZXMgPSBUZXh0SGlnaGxpZ2h0UnVsZXM7XG59O1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kZGVmYXVsdEJlaGF2aW91ciA9IG5ldyBDc3R5bGVCZWhhdmlvdXIoKTtcblxuICAgIHRoaXMudG9rZW5SZSA9IG5ldyBSZWdFeHAoXCJeW1wiICsgdW5pY29kZS53b3JkQ2hhcnMgKyBcIlxcXFwkX10rXCIsIFwiZ1wiKTtcblxuICAgIHRoaXMubm9uVG9rZW5SZSA9IG5ldyBSZWdFeHAoXCJeKD86W15cIiArIHVuaWNvZGUud29yZENoYXJzICsgXCJcXFxcJF9dfFxcXFxzXSkrXCIsIFwiZ1wiKTtcblxuICAgIHRoaXMuZ2V0VG9rZW5pemVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghdGhpcy4kdG9rZW5pemVyKSB7XG4gICAgICAgICAgICB0aGlzLiRoaWdobGlnaHRSdWxlcyA9IHRoaXMuJGhpZ2hsaWdodFJ1bGVzIHx8IG5ldyB0aGlzLkhpZ2hsaWdodFJ1bGVzKHRoaXMuJGhpZ2hsaWdodFJ1bGVDb25maWcpO1xuICAgICAgICAgICAgdGhpcy4kdG9rZW5pemVyID0gbmV3IFRva2VuaXplcih0aGlzLiRoaWdobGlnaHRSdWxlcy5nZXRSdWxlcygpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy4kdG9rZW5pemVyO1xuICAgIH07XG5cbiAgICB0aGlzLmxpbmVDb21tZW50U3RhcnQgPSBcIlwiO1xuICAgIHRoaXMuYmxvY2tDb21tZW50ID0gXCJcIjtcblxuICAgIHRoaXMudG9nZ2xlQ29tbWVudExpbmVzID0gZnVuY3Rpb24oc3RhdGUsIHNlc3Npb24sIHN0YXJ0Um93LCBlbmRSb3cpIHtcbiAgICAgICAgdmFyIGRvYyA9IHNlc3Npb24uZG9jO1xuXG4gICAgICAgIHZhciBpZ25vcmVCbGFua0xpbmVzID0gdHJ1ZTtcbiAgICAgICAgdmFyIHNob3VsZFJlbW92ZSA9IHRydWU7XG4gICAgICAgIHZhciBtaW5JbmRlbnQgPSBJbmZpbml0eTtcbiAgICAgICAgdmFyIHRhYlNpemUgPSBzZXNzaW9uLmdldFRhYlNpemUoKTtcbiAgICAgICAgdmFyIGluc2VydEF0VGFiU3RvcCA9IGZhbHNlO1xuXG4gICAgICAgIGlmICghdGhpcy5saW5lQ29tbWVudFN0YXJ0KSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYmxvY2tDb21tZW50KVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIHZhciBsaW5lQ29tbWVudFN0YXJ0ID0gdGhpcy5ibG9ja0NvbW1lbnQuc3RhcnQ7XG4gICAgICAgICAgICB2YXIgbGluZUNvbW1lbnRFbmQgPSB0aGlzLmJsb2NrQ29tbWVudC5lbmQ7XG4gICAgICAgICAgICB2YXIgcmVnZXhwU3RhcnQgPSBuZXcgUmVnRXhwKFwiXihcXFxccyopKD86XCIgKyBsYW5nLmVzY2FwZVJlZ0V4cChsaW5lQ29tbWVudFN0YXJ0KSArIFwiKVwiKTtcbiAgICAgICAgICAgIHZhciByZWdleHBFbmQgPSBuZXcgUmVnRXhwKFwiKD86XCIgKyBsYW5nLmVzY2FwZVJlZ0V4cChsaW5lQ29tbWVudEVuZCkgKyBcIilcXFxccyokXCIpO1xuXG4gICAgICAgICAgICB2YXIgY29tbWVudCA9IGZ1bmN0aW9uKGxpbmUsIGkpIHtcbiAgICAgICAgICAgICAgICBpZiAodGVzdFJlbW92ZShsaW5lLCBpKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGlmICghaWdub3JlQmxhbmtMaW5lcyB8fCAvXFxTLy50ZXN0KGxpbmUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvYy5pbnNlcnRJbkxpbmUoe3JvdzogaSwgY29sdW1uOiBsaW5lLmxlbmd0aH0sIGxpbmVDb21tZW50RW5kKTtcbiAgICAgICAgICAgICAgICAgICAgZG9jLmluc2VydEluTGluZSh7cm93OiBpLCBjb2x1bW46IG1pbkluZGVudH0sIGxpbmVDb21tZW50U3RhcnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciB1bmNvbW1lbnQgPSBmdW5jdGlvbihsaW5lLCBpKSB7XG4gICAgICAgICAgICAgICAgdmFyIG07XG4gICAgICAgICAgICAgICAgaWYgKG0gPSBsaW5lLm1hdGNoKHJlZ2V4cEVuZCkpXG4gICAgICAgICAgICAgICAgICAgIGRvYy5yZW1vdmVJbkxpbmUoaSwgbGluZS5sZW5ndGggLSBtWzBdLmxlbmd0aCwgbGluZS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIGlmIChtID0gbGluZS5tYXRjaChyZWdleHBTdGFydCkpXG4gICAgICAgICAgICAgICAgICAgIGRvYy5yZW1vdmVJbkxpbmUoaSwgbVsxXS5sZW5ndGgsIG1bMF0ubGVuZ3RoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciB0ZXN0UmVtb3ZlID0gZnVuY3Rpb24obGluZSwgcm93KSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlZ2V4cFN0YXJ0LnRlc3QobGluZSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciB0b2tlbnMgPSBzZXNzaW9uLmdldFRva2Vucyhyb3cpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbnNbaV0udHlwZSA9PT0gXCJjb21tZW50XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5saW5lQ29tbWVudFN0YXJ0KSkge1xuICAgICAgICAgICAgICAgIHZhciByZWdleHBTdGFydCA9IHRoaXMubGluZUNvbW1lbnRTdGFydC5tYXAobGFuZy5lc2NhcGVSZWdFeHApLmpvaW4oXCJ8XCIpO1xuICAgICAgICAgICAgICAgIHZhciBsaW5lQ29tbWVudFN0YXJ0ID0gdGhpcy5saW5lQ29tbWVudFN0YXJ0WzBdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVnZXhwU3RhcnQgPSBsYW5nLmVzY2FwZVJlZ0V4cCh0aGlzLmxpbmVDb21tZW50U3RhcnQpO1xuICAgICAgICAgICAgICAgIHZhciBsaW5lQ29tbWVudFN0YXJ0ID0gdGhpcy5saW5lQ29tbWVudFN0YXJ0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVnZXhwU3RhcnQgPSBuZXcgUmVnRXhwKFwiXihcXFxccyopKD86XCIgKyByZWdleHBTdGFydCArIFwiKSA/XCIpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpbnNlcnRBdFRhYlN0b3AgPSBzZXNzaW9uLmdldFVzZVNvZnRUYWJzKCk7XG5cbiAgICAgICAgICAgIHZhciB1bmNvbW1lbnQgPSBmdW5jdGlvbihsaW5lLCBpKSB7XG4gICAgICAgICAgICAgICAgdmFyIG0gPSBsaW5lLm1hdGNoKHJlZ2V4cFN0YXJ0KTtcbiAgICAgICAgICAgICAgICBpZiAoIW0pIHJldHVybjtcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnQgPSBtWzFdLmxlbmd0aCwgZW5kID0gbVswXS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgaWYgKCFzaG91bGRJbnNlcnRTcGFjZShsaW5lLCBzdGFydCwgZW5kKSAmJiBtWzBdW2VuZCAtIDFdID09IFwiIFwiKVxuICAgICAgICAgICAgICAgICAgICBlbmQtLTtcbiAgICAgICAgICAgICAgICBkb2MucmVtb3ZlSW5MaW5lKGksIHN0YXJ0LCBlbmQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBjb21tZW50V2l0aFNwYWNlID0gbGluZUNvbW1lbnRTdGFydCArIFwiIFwiO1xuICAgICAgICAgICAgdmFyIGNvbW1lbnQgPSBmdW5jdGlvbihsaW5lLCBpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpZ25vcmVCbGFua0xpbmVzIHx8IC9cXFMvLnRlc3QobGluZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNob3VsZEluc2VydFNwYWNlKGxpbmUsIG1pbkluZGVudCwgbWluSW5kZW50KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5pbnNlcnRJbkxpbmUoe3JvdzogaSwgY29sdW1uOiBtaW5JbmRlbnR9LCBjb21tZW50V2l0aFNwYWNlKTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmluc2VydEluTGluZSh7cm93OiBpLCBjb2x1bW46IG1pbkluZGVudH0sIGxpbmVDb21tZW50U3RhcnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgdGVzdFJlbW92ZSA9IGZ1bmN0aW9uKGxpbmUsIGkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVnZXhwU3RhcnQudGVzdChsaW5lKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHZhciBzaG91bGRJbnNlcnRTcGFjZSA9IGZ1bmN0aW9uKGxpbmUsIGJlZm9yZSwgYWZ0ZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3BhY2VzID0gMDtcbiAgICAgICAgICAgICAgICB3aGlsZSAoYmVmb3JlLS0gJiYgbGluZS5jaGFyQXQoYmVmb3JlKSA9PSBcIiBcIilcbiAgICAgICAgICAgICAgICAgICAgc3BhY2VzKys7XG4gICAgICAgICAgICAgICAgaWYgKHNwYWNlcyAlIHRhYlNpemUgIT0gMClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBzcGFjZXMgPSAwO1xuICAgICAgICAgICAgICAgIHdoaWxlIChsaW5lLmNoYXJBdChhZnRlcisrKSA9PSBcIiBcIilcbiAgICAgICAgICAgICAgICAgICAgc3BhY2VzKys7XG4gICAgICAgICAgICAgICAgaWYgKHRhYlNpemUgPiAyKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3BhY2VzICUgdGFiU2l6ZSAhPSB0YWJTaXplIC0gMTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzcGFjZXMgJSB0YWJTaXplID09IDA7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gaXRlcihmdW4pIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBzdGFydFJvdzsgaSA8PSBlbmRSb3c7IGkrKylcbiAgICAgICAgICAgICAgICBmdW4oZG9jLmdldExpbmUoaSksIGkpO1xuICAgICAgICB9XG5cblxuICAgICAgICB2YXIgbWluRW1wdHlMZW5ndGggPSBJbmZpbml0eTtcbiAgICAgICAgaXRlcihmdW5jdGlvbihsaW5lLCBpKSB7XG4gICAgICAgICAgICB2YXIgaW5kZW50ID0gbGluZS5zZWFyY2goL1xcUy8pO1xuICAgICAgICAgICAgaWYgKGluZGVudCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZW50IDwgbWluSW5kZW50KVxuICAgICAgICAgICAgICAgICAgICBtaW5JbmRlbnQgPSBpbmRlbnQ7XG4gICAgICAgICAgICAgICAgaWYgKHNob3VsZFJlbW92ZSAmJiAhdGVzdFJlbW92ZShsaW5lLCBpKSlcbiAgICAgICAgICAgICAgICAgICAgc2hvdWxkUmVtb3ZlID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1pbkVtcHR5TGVuZ3RoID4gbGluZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBtaW5FbXB0eUxlbmd0aCA9IGxpbmUubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAobWluSW5kZW50ID09IEluZmluaXR5KSB7XG4gICAgICAgICAgICBtaW5JbmRlbnQgPSBtaW5FbXB0eUxlbmd0aDtcbiAgICAgICAgICAgIGlnbm9yZUJsYW5rTGluZXMgPSBmYWxzZTtcbiAgICAgICAgICAgIHNob3VsZFJlbW92ZSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGluc2VydEF0VGFiU3RvcCAmJiBtaW5JbmRlbnQgJSB0YWJTaXplICE9IDApXG4gICAgICAgICAgICBtaW5JbmRlbnQgPSBNYXRoLmZsb29yKG1pbkluZGVudCAvIHRhYlNpemUpICogdGFiU2l6ZTtcblxuICAgICAgICBpdGVyKHNob3VsZFJlbW92ZSA/IHVuY29tbWVudCA6IGNvbW1lbnQpO1xuICAgIH07XG5cbiAgICB0aGlzLnRvZ2dsZUJsb2NrQ29tbWVudCA9IGZ1bmN0aW9uKHN0YXRlLCBzZXNzaW9uLCByYW5nZSwgY3Vyc29yKSB7XG4gICAgICAgIHZhciBjb21tZW50ID0gdGhpcy5ibG9ja0NvbW1lbnQ7XG4gICAgICAgIGlmICghY29tbWVudClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKCFjb21tZW50LnN0YXJ0ICYmIGNvbW1lbnRbMF0pXG4gICAgICAgICAgICBjb21tZW50ID0gY29tbWVudFswXTtcblxuICAgICAgICB2YXIgaXRlcmF0b3IgPSBuZXcgVG9rZW5JdGVyYXRvcihzZXNzaW9uLCBjdXJzb3Iucm93LCBjdXJzb3IuY29sdW1uKTtcbiAgICAgICAgdmFyIHRva2VuID0gaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuKCk7XG5cbiAgICAgICAgdmFyIHNlbCA9IHNlc3Npb24uc2VsZWN0aW9uO1xuICAgICAgICB2YXIgaW5pdGlhbFJhbmdlID0gc2Vzc2lvbi5zZWxlY3Rpb24udG9PcmllbnRlZFJhbmdlKCk7XG4gICAgICAgIHZhciBzdGFydFJvdywgY29sRGlmZjtcblxuICAgICAgICBpZiAodG9rZW4gJiYgL2NvbW1lbnQvLnRlc3QodG9rZW4udHlwZSkpIHtcbiAgICAgICAgICAgIHZhciBzdGFydFJhbmdlLCBlbmRSYW5nZTtcbiAgICAgICAgICAgIHdoaWxlICh0b2tlbiAmJiAvY29tbWVudC8udGVzdCh0b2tlbi50eXBlKSkge1xuICAgICAgICAgICAgICAgIHZhciBpID0gdG9rZW4udmFsdWUuaW5kZXhPZihjb21tZW50LnN0YXJ0KTtcbiAgICAgICAgICAgICAgICBpZiAoaSAhPSAtMSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcm93ID0gaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuUm93KCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb2x1bW4gPSBpdGVyYXRvci5nZXRDdXJyZW50VG9rZW5Db2x1bW4oKSArIGk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0UmFuZ2UgPSBuZXcgUmFuZ2Uocm93LCBjb2x1bW4sIHJvdywgY29sdW1uICsgY29tbWVudC5zdGFydC5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdG9rZW4gPSBpdGVyYXRvci5zdGVwQmFja3dhcmQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGl0ZXJhdG9yID0gbmV3IFRva2VuSXRlcmF0b3Ioc2Vzc2lvbiwgY3Vyc29yLnJvdywgY3Vyc29yLmNvbHVtbik7XG4gICAgICAgICAgICB2YXIgdG9rZW4gPSBpdGVyYXRvci5nZXRDdXJyZW50VG9rZW4oKTtcbiAgICAgICAgICAgIHdoaWxlICh0b2tlbiAmJiAvY29tbWVudC8udGVzdCh0b2tlbi50eXBlKSkge1xuICAgICAgICAgICAgICAgIHZhciBpID0gdG9rZW4udmFsdWUuaW5kZXhPZihjb21tZW50LmVuZCk7XG4gICAgICAgICAgICAgICAgaWYgKGkgIT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJvdyA9IGl0ZXJhdG9yLmdldEN1cnJlbnRUb2tlblJvdygpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29sdW1uID0gaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuQ29sdW1uKCkgKyBpO1xuICAgICAgICAgICAgICAgICAgICBlbmRSYW5nZSA9IG5ldyBSYW5nZShyb3csIGNvbHVtbiwgcm93LCBjb2x1bW4gKyBjb21tZW50LmVuZC5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdG9rZW4gPSBpdGVyYXRvci5zdGVwRm9yd2FyZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVuZFJhbmdlKVxuICAgICAgICAgICAgICAgIHNlc3Npb24ucmVtb3ZlKGVuZFJhbmdlKTtcbiAgICAgICAgICAgIGlmIChzdGFydFJhbmdlKSB7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbi5yZW1vdmUoc3RhcnRSYW5nZSk7XG4gICAgICAgICAgICAgICAgc3RhcnRSb3cgPSBzdGFydFJhbmdlLnN0YXJ0LnJvdztcbiAgICAgICAgICAgICAgICBjb2xEaWZmID0gLWNvbW1lbnQuc3RhcnQubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29sRGlmZiA9IGNvbW1lbnQuc3RhcnQubGVuZ3RoO1xuICAgICAgICAgICAgc3RhcnRSb3cgPSByYW5nZS5zdGFydC5yb3c7XG4gICAgICAgICAgICBzZXNzaW9uLmluc2VydChyYW5nZS5lbmQsIGNvbW1lbnQuZW5kKTtcbiAgICAgICAgICAgIHNlc3Npb24uaW5zZXJ0KHJhbmdlLnN0YXJ0LCBjb21tZW50LnN0YXJ0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5pdGlhbFJhbmdlLnN0YXJ0LnJvdyA9PSBzdGFydFJvdylcbiAgICAgICAgICAgIGluaXRpYWxSYW5nZS5zdGFydC5jb2x1bW4gKz0gY29sRGlmZjtcbiAgICAgICAgaWYgKGluaXRpYWxSYW5nZS5lbmQucm93ID09IHN0YXJ0Um93KVxuICAgICAgICAgICAgaW5pdGlhbFJhbmdlLmVuZC5jb2x1bW4gKz0gY29sRGlmZjtcbiAgICAgICAgc2Vzc2lvbi5zZWxlY3Rpb24uZnJvbU9yaWVudGVkUmFuZ2UoaW5pdGlhbFJhbmdlKTtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXROZXh0TGluZUluZGVudCA9IGZ1bmN0aW9uKHN0YXRlLCBsaW5lLCB0YWIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJGdldEluZGVudChsaW5lKTtcbiAgICB9O1xuXG4gICAgdGhpcy5jaGVja091dGRlbnQgPSBmdW5jdGlvbihzdGF0ZSwgbGluZSwgaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICB0aGlzLmF1dG9PdXRkZW50ID0gZnVuY3Rpb24oc3RhdGUsIGRvYywgcm93KSB7XG4gICAgfTtcblxuICAgIHRoaXMuJGdldEluZGVudCA9IGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgcmV0dXJuIGxpbmUubWF0Y2goL15cXHMqLylbMF07XG4gICAgfTtcblxuICAgIHRoaXMuY3JlYXRlV29ya2VyID0gZnVuY3Rpb24oc2Vzc2lvbikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuXG4gICAgdGhpcy5jcmVhdGVNb2RlRGVsZWdhdGVzID0gZnVuY3Rpb24gKG1hcHBpbmcpIHtcbiAgICAgICAgdGhpcy4kZW1iZWRzID0gW107XG4gICAgICAgIHRoaXMuJG1vZGVzID0ge307XG4gICAgICAgIGZvciAodmFyIGkgaW4gbWFwcGluZykge1xuICAgICAgICAgICAgaWYgKG1hcHBpbmdbaV0pIHtcbiAgICAgICAgICAgICAgICB2YXIgTW9kZSA9IG1hcHBpbmdbaV07XG4gICAgICAgICAgICAgICAgdmFyIGlkID0gTW9kZS5wcm90b3R5cGUuJGlkO1xuICAgICAgICAgICAgICAgIHZhciBtb2RlID0gY29uZmlnLiRtb2Rlc1tpZF07XG4gICAgICAgICAgICAgICAgaWYgKCFtb2RlKVxuICAgICAgICAgICAgICAgICAgICBjb25maWcuJG1vZGVzW2lkXSA9IG1vZGUgPSBuZXcgTW9kZSgpO1xuICAgICAgICAgICAgICAgIGlmICghY29uZmlnLiRtb2Rlc1tpXSlcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnLiRtb2Rlc1tpXSA9IG1vZGU7XG4gICAgICAgICAgICAgICAgdGhpcy4kZW1iZWRzLnB1c2goaSk7XG4gICAgICAgICAgICAgICAgdGhpcy4kbW9kZXNbaV0gPSBtb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRlbGVnYXRpb25zID0gW1widG9nZ2xlQmxvY2tDb21tZW50XCIsIFwidG9nZ2xlQ29tbWVudExpbmVzXCIsIFwiZ2V0TmV4dExpbmVJbmRlbnRcIiwgXG4gICAgICAgICAgICBcImNoZWNrT3V0ZGVudFwiLCBcImF1dG9PdXRkZW50XCIsIFwidHJhbnNmb3JtQWN0aW9uXCIsIFwiZ2V0Q29tcGxldGlvbnNcIl07XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZWxlZ2F0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgKGZ1bmN0aW9uKHNjb3BlKSB7XG4gICAgICAgICAgICAgIHZhciBmdW5jdGlvbk5hbWUgPSBkZWxlZ2F0aW9uc1tpXTtcbiAgICAgICAgICAgICAgdmFyIGRlZmF1bHRIYW5kbGVyID0gc2NvcGVbZnVuY3Rpb25OYW1lXTtcbiAgICAgICAgICAgICAgc2NvcGVbZGVsZWdhdGlvbnNbaV1dID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kZGVsZWdhdG9yKGZ1bmN0aW9uTmFtZSwgYXJndW1lbnRzLCBkZWZhdWx0SGFuZGxlcik7XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KHRoaXMpKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLiRkZWxlZ2F0b3IgPSBmdW5jdGlvbihtZXRob2QsIGFyZ3MsIGRlZmF1bHRIYW5kbGVyKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IGFyZ3NbMF0gfHwgXCJzdGFydFwiO1xuICAgICAgICBpZiAodHlwZW9mIHN0YXRlICE9IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHN0YXRlWzJdKSkge1xuICAgICAgICAgICAgICAgIHZhciBsYW5ndWFnZSA9IHN0YXRlWzJdW3N0YXRlWzJdLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgIHZhciBtb2RlID0gdGhpcy4kbW9kZXNbbGFuZ3VhZ2VdO1xuICAgICAgICAgICAgICAgIGlmIChtb2RlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbW9kZVttZXRob2RdLmFwcGx5KG1vZGUsIFtzdGF0ZVsxXV0uY29uY2F0KFtdLnNsaWNlLmNhbGwoYXJncywgMSkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXRlID0gc3RhdGVbMF0gfHwgXCJzdGFydFwiO1xuICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLiRlbWJlZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghdGhpcy4kbW9kZXNbdGhpcy4kZW1iZWRzW2ldXSkgY29udGludWU7XG5cbiAgICAgICAgICAgIHZhciBzcGxpdCA9IHN0YXRlLnNwbGl0KHRoaXMuJGVtYmVkc1tpXSk7XG4gICAgICAgICAgICBpZiAoIXNwbGl0WzBdICYmIHNwbGl0WzFdKSB7XG4gICAgICAgICAgICAgICAgYXJnc1swXSA9IHNwbGl0WzFdO1xuICAgICAgICAgICAgICAgIHZhciBtb2RlID0gdGhpcy4kbW9kZXNbdGhpcy4kZW1iZWRzW2ldXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9kZVttZXRob2RdLmFwcGx5KG1vZGUsIGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciByZXQgPSBkZWZhdWx0SGFuZGxlci5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRIYW5kbGVyID8gcmV0IDogdW5kZWZpbmVkO1xuICAgIH07XG5cbiAgICB0aGlzLnRyYW5zZm9ybUFjdGlvbiA9IGZ1bmN0aW9uKHN0YXRlLCBhY3Rpb24sIGVkaXRvciwgc2Vzc2lvbiwgcGFyYW0pIHtcbiAgICAgICAgaWYgKHRoaXMuJGJlaGF2aW91cikge1xuICAgICAgICAgICAgdmFyIGJlaGF2aW91cnMgPSB0aGlzLiRiZWhhdmlvdXIuZ2V0QmVoYXZpb3VycygpO1xuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGJlaGF2aW91cnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoYmVoYXZpb3Vyc1trZXldW2FjdGlvbl0pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldCA9IGJlaGF2aW91cnNba2V5XVthY3Rpb25dLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIHRoaXMuZ2V0S2V5d29yZHMgPSBmdW5jdGlvbihhcHBlbmQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbXBsZXRpb25LZXl3b3Jkcykge1xuICAgICAgICAgICAgdmFyIHJ1bGVzID0gdGhpcy4kdG9rZW5pemVyLnJ1bGVzO1xuICAgICAgICAgICAgdmFyIGNvbXBsZXRpb25LZXl3b3JkcyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgcnVsZSBpbiBydWxlcykge1xuICAgICAgICAgICAgICAgIHZhciBydWxlSXRyID0gcnVsZXNbcnVsZV07XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgciA9IDAsIGwgPSBydWxlSXRyLmxlbmd0aDsgciA8IGw7IHIrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJ1bGVJdHJbcl0udG9rZW4gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgva2V5d29yZHxzdXBwb3J0fHN0b3JhZ2UvLnRlc3QocnVsZUl0cltyXS50b2tlbikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGlvbktleXdvcmRzLnB1c2gocnVsZUl0cltyXS5yZWdleCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHJ1bGVJdHJbcl0udG9rZW4gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGEgPSAwLCBhTGVuZ3RoID0gcnVsZUl0cltyXS50b2tlbi5sZW5ndGg7IGEgPCBhTGVuZ3RoOyBhKyspIHsgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC9rZXl3b3JkfHN1cHBvcnR8c3RvcmFnZS8udGVzdChydWxlSXRyW3JdLnRva2VuW2FdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcnVsZSA9IHJ1bGVJdHJbcl0ucmVnZXgubWF0Y2goL1xcKC4rP1xcKS9nKVthXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGlvbktleXdvcmRzLnB1c2gocnVsZS5zdWJzdHIoMSwgcnVsZS5sZW5ndGggLSAyKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jb21wbGV0aW9uS2V5d29yZHMgPSBjb21wbGV0aW9uS2V5d29yZHM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhcHBlbmQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy4ka2V5d29yZExpc3Q7XG4gICAgICAgIHJldHVybiBjb21wbGV0aW9uS2V5d29yZHMuY29uY2F0KHRoaXMuJGtleXdvcmRMaXN0IHx8IFtdKTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuJGNyZWF0ZUtleXdvcmRMaXN0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghdGhpcy4kaGlnaGxpZ2h0UnVsZXMpXG4gICAgICAgICAgICB0aGlzLmdldFRva2VuaXplcigpO1xuICAgICAgICByZXR1cm4gdGhpcy4ka2V5d29yZExpc3QgPSB0aGlzLiRoaWdobGlnaHRSdWxlcy4ka2V5d29yZExpc3QgfHwgW107XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0Q29tcGxldGlvbnMgPSBmdW5jdGlvbihzdGF0ZSwgc2Vzc2lvbiwgcG9zLCBwcmVmaXgpIHtcbiAgICAgICAgdmFyIGtleXdvcmRzID0gdGhpcy4ka2V5d29yZExpc3QgfHwgdGhpcy4kY3JlYXRlS2V5d29yZExpc3QoKTtcbiAgICAgICAgcmV0dXJuIGtleXdvcmRzLm1hcChmdW5jdGlvbih3b3JkKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG5hbWU6IHdvcmQsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHdvcmQsXG4gICAgICAgICAgICAgICAgc2NvcmU6IDAsXG4gICAgICAgICAgICAgICAgbWV0YTogXCJrZXl3b3JkXCJcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLiRpZCA9IFwiYWNlL21vZGUvdGV4dFwiO1xufSkuY2FsbChNb2RlLnByb3RvdHlwZSk7XG5cbmV4cG9ydHMuTW9kZSA9IE1vZGU7XG59KTtcblxuYWNlLmRlZmluZShcImFjZS9hcHBseV9kZWx0YVwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gdGhyb3dEZWx0YUVycm9yKGRlbHRhLCBlcnJvclRleHQpe1xuICAgIGNvbnNvbGUubG9nKFwiSW52YWxpZCBEZWx0YTpcIiwgZGVsdGEpO1xuICAgIHRocm93IFwiSW52YWxpZCBEZWx0YTogXCIgKyBlcnJvclRleHQ7XG59XG5cbmZ1bmN0aW9uIHBvc2l0aW9uSW5Eb2N1bWVudChkb2NMaW5lcywgcG9zaXRpb24pIHtcbiAgICByZXR1cm4gcG9zaXRpb24ucm93ICAgID49IDAgJiYgcG9zaXRpb24ucm93ICAgIDwgIGRvY0xpbmVzLmxlbmd0aCAmJlxuICAgICAgICAgICBwb3NpdGlvbi5jb2x1bW4gPj0gMCAmJiBwb3NpdGlvbi5jb2x1bW4gPD0gZG9jTGluZXNbcG9zaXRpb24ucm93XS5sZW5ndGg7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlRGVsdGEoZG9jTGluZXMsIGRlbHRhKSB7XG4gICAgaWYgKGRlbHRhLmFjdGlvbiAhPSBcImluc2VydFwiICYmIGRlbHRhLmFjdGlvbiAhPSBcInJlbW92ZVwiKVxuICAgICAgICB0aHJvd0RlbHRhRXJyb3IoZGVsdGEsIFwiZGVsdGEuYWN0aW9uIG11c3QgYmUgJ2luc2VydCcgb3IgJ3JlbW92ZSdcIik7XG4gICAgaWYgKCEoZGVsdGEubGluZXMgaW5zdGFuY2VvZiBBcnJheSkpXG4gICAgICAgIHRocm93RGVsdGFFcnJvcihkZWx0YSwgXCJkZWx0YS5saW5lcyBtdXN0IGJlIGFuIEFycmF5XCIpO1xuICAgIGlmICghZGVsdGEuc3RhcnQgfHwgIWRlbHRhLmVuZClcbiAgICAgICB0aHJvd0RlbHRhRXJyb3IoZGVsdGEsIFwiZGVsdGEuc3RhcnQvZW5kIG11c3QgYmUgYW4gcHJlc2VudFwiKTtcbiAgICB2YXIgc3RhcnQgPSBkZWx0YS5zdGFydDtcbiAgICBpZiAoIXBvc2l0aW9uSW5Eb2N1bWVudChkb2NMaW5lcywgZGVsdGEuc3RhcnQpKVxuICAgICAgICB0aHJvd0RlbHRhRXJyb3IoZGVsdGEsIFwiZGVsdGEuc3RhcnQgbXVzdCBiZSBjb250YWluZWQgaW4gZG9jdW1lbnRcIik7XG4gICAgdmFyIGVuZCA9IGRlbHRhLmVuZDtcbiAgICBpZiAoZGVsdGEuYWN0aW9uID09IFwicmVtb3ZlXCIgJiYgIXBvc2l0aW9uSW5Eb2N1bWVudChkb2NMaW5lcywgZW5kKSlcbiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCBcImRlbHRhLmVuZCBtdXN0IGNvbnRhaW5lZCBpbiBkb2N1bWVudCBmb3IgJ3JlbW92ZScgYWN0aW9uc1wiKTtcbiAgICB2YXIgbnVtUmFuZ2VSb3dzID0gZW5kLnJvdyAtIHN0YXJ0LnJvdztcbiAgICB2YXIgbnVtUmFuZ2VMYXN0TGluZUNoYXJzID0gKGVuZC5jb2x1bW4gLSAobnVtUmFuZ2VSb3dzID09IDAgPyBzdGFydC5jb2x1bW4gOiAwKSk7XG4gICAgaWYgKG51bVJhbmdlUm93cyAhPSBkZWx0YS5saW5lcy5sZW5ndGggLSAxIHx8IGRlbHRhLmxpbmVzW251bVJhbmdlUm93c10ubGVuZ3RoICE9IG51bVJhbmdlTGFzdExpbmVDaGFycylcbiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCBcImRlbHRhLnJhbmdlIG11c3QgbWF0Y2ggZGVsdGEgbGluZXNcIik7XG59XG5cbmV4cG9ydHMuYXBwbHlEZWx0YSA9IGZ1bmN0aW9uKGRvY0xpbmVzLCBkZWx0YSwgZG9Ob3RWYWxpZGF0ZSkge1xuICAgIFxuICAgIHZhciByb3cgPSBkZWx0YS5zdGFydC5yb3c7XG4gICAgdmFyIHN0YXJ0Q29sdW1uID0gZGVsdGEuc3RhcnQuY29sdW1uO1xuICAgIHZhciBsaW5lID0gZG9jTGluZXNbcm93XSB8fCBcIlwiO1xuICAgIHN3aXRjaCAoZGVsdGEuYWN0aW9uKSB7XG4gICAgICAgIGNhc2UgXCJpbnNlcnRcIjpcbiAgICAgICAgICAgIHZhciBsaW5lcyA9IGRlbHRhLmxpbmVzO1xuICAgICAgICAgICAgaWYgKGxpbmVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIGRvY0xpbmVzW3Jvd10gPSBsaW5lLnN1YnN0cmluZygwLCBzdGFydENvbHVtbikgKyBkZWx0YS5saW5lc1swXSArIGxpbmUuc3Vic3RyaW5nKHN0YXJ0Q29sdW1uKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBbcm93LCAxXS5jb25jYXQoZGVsdGEubGluZXMpO1xuICAgICAgICAgICAgICAgIGRvY0xpbmVzLnNwbGljZS5hcHBseShkb2NMaW5lcywgYXJncyk7XG4gICAgICAgICAgICAgICAgZG9jTGluZXNbcm93XSA9IGxpbmUuc3Vic3RyaW5nKDAsIHN0YXJ0Q29sdW1uKSArIGRvY0xpbmVzW3Jvd107XG4gICAgICAgICAgICAgICAgZG9jTGluZXNbcm93ICsgZGVsdGEubGluZXMubGVuZ3RoIC0gMV0gKz0gbGluZS5zdWJzdHJpbmcoc3RhcnRDb2x1bW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJyZW1vdmVcIjpcbiAgICAgICAgICAgIHZhciBlbmRDb2x1bW4gPSBkZWx0YS5lbmQuY29sdW1uO1xuICAgICAgICAgICAgdmFyIGVuZFJvdyA9IGRlbHRhLmVuZC5yb3c7XG4gICAgICAgICAgICBpZiAocm93ID09PSBlbmRSb3cpIHtcbiAgICAgICAgICAgICAgICBkb2NMaW5lc1tyb3ddID0gbGluZS5zdWJzdHJpbmcoMCwgc3RhcnRDb2x1bW4pICsgbGluZS5zdWJzdHJpbmcoZW5kQ29sdW1uKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZG9jTGluZXMuc3BsaWNlKFxuICAgICAgICAgICAgICAgICAgICByb3csIGVuZFJvdyAtIHJvdyArIDEsXG4gICAgICAgICAgICAgICAgICAgIGxpbmUuc3Vic3RyaW5nKDAsIHN0YXJ0Q29sdW1uKSArIGRvY0xpbmVzW2VuZFJvd10uc3Vic3RyaW5nKGVuZENvbHVtbilcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxufTtcbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL2FuY2hvclwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9vb3BcIixcImFjZS9saWIvZXZlbnRfZW1pdHRlclwiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIG9vcCA9IHJlcXVpcmUoXCIuL2xpYi9vb3BcIik7XG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZShcIi4vbGliL2V2ZW50X2VtaXR0ZXJcIikuRXZlbnRFbWl0dGVyO1xuXG52YXIgQW5jaG9yID0gZXhwb3J0cy5BbmNob3IgPSBmdW5jdGlvbihkb2MsIHJvdywgY29sdW1uKSB7XG4gICAgdGhpcy4kb25DaGFuZ2UgPSB0aGlzLm9uQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5hdHRhY2goZG9jKTtcbiAgICBcbiAgICBpZiAodHlwZW9mIGNvbHVtbiA9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICB0aGlzLnNldFBvc2l0aW9uKHJvdy5yb3csIHJvdy5jb2x1bW4pO1xuICAgIGVsc2VcbiAgICAgICAgdGhpcy5zZXRQb3NpdGlvbihyb3csIGNvbHVtbik7XG59O1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICBvb3AuaW1wbGVtZW50KHRoaXMsIEV2ZW50RW1pdHRlcik7XG4gICAgdGhpcy5nZXRQb3NpdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudCh0aGlzLnJvdywgdGhpcy5jb2x1bW4pO1xuICAgIH07XG4gICAgdGhpcy5nZXREb2N1bWVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kb2N1bWVudDtcbiAgICB9O1xuICAgIHRoaXMuJGluc2VydFJpZ2h0ID0gZmFsc2U7XG4gICAgdGhpcy5vbkNoYW5nZSA9IGZ1bmN0aW9uKGRlbHRhKSB7XG4gICAgICAgIGlmIChkZWx0YS5zdGFydC5yb3cgPT0gZGVsdGEuZW5kLnJvdyAmJiBkZWx0YS5zdGFydC5yb3cgIT0gdGhpcy5yb3cpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgaWYgKGRlbHRhLnN0YXJ0LnJvdyA+IHRoaXMucm93KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgXG4gICAgICAgIHZhciBwb2ludCA9ICRnZXRUcmFuc2Zvcm1lZFBvaW50KGRlbHRhLCB7cm93OiB0aGlzLnJvdywgY29sdW1uOiB0aGlzLmNvbHVtbn0sIHRoaXMuJGluc2VydFJpZ2h0KTtcbiAgICAgICAgdGhpcy5zZXRQb3NpdGlvbihwb2ludC5yb3csIHBvaW50LmNvbHVtbiwgdHJ1ZSk7XG4gICAgfTtcbiAgICBcbiAgICBmdW5jdGlvbiAkcG9pbnRzSW5PcmRlcihwb2ludDEsIHBvaW50MiwgZXF1YWxQb2ludHNJbk9yZGVyKSB7XG4gICAgICAgIHZhciBiQ29sSXNBZnRlciA9IGVxdWFsUG9pbnRzSW5PcmRlciA/IHBvaW50MS5jb2x1bW4gPD0gcG9pbnQyLmNvbHVtbiA6IHBvaW50MS5jb2x1bW4gPCBwb2ludDIuY29sdW1uO1xuICAgICAgICByZXR1cm4gKHBvaW50MS5yb3cgPCBwb2ludDIucm93KSB8fCAocG9pbnQxLnJvdyA9PSBwb2ludDIucm93ICYmIGJDb2xJc0FmdGVyKTtcbiAgICB9XG4gICAgICAgICAgICBcbiAgICBmdW5jdGlvbiAkZ2V0VHJhbnNmb3JtZWRQb2ludChkZWx0YSwgcG9pbnQsIG1vdmVJZkVxdWFsKSB7XG4gICAgICAgIHZhciBkZWx0YUlzSW5zZXJ0ID0gZGVsdGEuYWN0aW9uID09IFwiaW5zZXJ0XCI7XG4gICAgICAgIHZhciBkZWx0YVJvd1NoaWZ0ID0gKGRlbHRhSXNJbnNlcnQgPyAxIDogLTEpICogKGRlbHRhLmVuZC5yb3cgICAgLSBkZWx0YS5zdGFydC5yb3cpO1xuICAgICAgICB2YXIgZGVsdGFDb2xTaGlmdCA9IChkZWx0YUlzSW5zZXJ0ID8gMSA6IC0xKSAqIChkZWx0YS5lbmQuY29sdW1uIC0gZGVsdGEuc3RhcnQuY29sdW1uKTtcbiAgICAgICAgdmFyIGRlbHRhU3RhcnQgPSBkZWx0YS5zdGFydDtcbiAgICAgICAgdmFyIGRlbHRhRW5kID0gZGVsdGFJc0luc2VydCA/IGRlbHRhU3RhcnQgOiBkZWx0YS5lbmQ7IC8vIENvbGxhcHNlIGluc2VydCByYW5nZS5cbiAgICAgICAgaWYgKCRwb2ludHNJbk9yZGVyKHBvaW50LCBkZWx0YVN0YXJ0LCBtb3ZlSWZFcXVhbCkpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcm93OiBwb2ludC5yb3csXG4gICAgICAgICAgICAgICAgY29sdW1uOiBwb2ludC5jb2x1bW5cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCRwb2ludHNJbk9yZGVyKGRlbHRhRW5kLCBwb2ludCwgIW1vdmVJZkVxdWFsKSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByb3c6IHBvaW50LnJvdyArIGRlbHRhUm93U2hpZnQsXG4gICAgICAgICAgICAgICAgY29sdW1uOiBwb2ludC5jb2x1bW4gKyAocG9pbnQucm93ID09IGRlbHRhRW5kLnJvdyA/IGRlbHRhQ29sU2hpZnQgOiAwKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJvdzogZGVsdGFTdGFydC5yb3csXG4gICAgICAgICAgICBjb2x1bW46IGRlbHRhU3RhcnQuY29sdW1uXG4gICAgICAgIH07XG4gICAgfVxuICAgIHRoaXMuc2V0UG9zaXRpb24gPSBmdW5jdGlvbihyb3csIGNvbHVtbiwgbm9DbGlwKSB7XG4gICAgICAgIHZhciBwb3M7XG4gICAgICAgIGlmIChub0NsaXApIHtcbiAgICAgICAgICAgIHBvcyA9IHtcbiAgICAgICAgICAgICAgICByb3c6IHJvdyxcbiAgICAgICAgICAgICAgICBjb2x1bW46IGNvbHVtblxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBvcyA9IHRoaXMuJGNsaXBQb3NpdGlvblRvRG9jdW1lbnQocm93LCBjb2x1bW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucm93ID09IHBvcy5yb3cgJiYgdGhpcy5jb2x1bW4gPT0gcG9zLmNvbHVtbilcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB2YXIgb2xkID0ge1xuICAgICAgICAgICAgcm93OiB0aGlzLnJvdyxcbiAgICAgICAgICAgIGNvbHVtbjogdGhpcy5jb2x1bW5cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnJvdyA9IHBvcy5yb3c7XG4gICAgICAgIHRoaXMuY29sdW1uID0gcG9zLmNvbHVtbjtcbiAgICAgICAgdGhpcy5fc2lnbmFsKFwiY2hhbmdlXCIsIHtcbiAgICAgICAgICAgIG9sZDogb2xkLFxuICAgICAgICAgICAgdmFsdWU6IHBvc1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHRoaXMuZGV0YWNoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuZG9jdW1lbnQub2ZmKFwiY2hhbmdlXCIsIHRoaXMuJG9uQ2hhbmdlKTtcbiAgICB9O1xuICAgIHRoaXMuYXR0YWNoID0gZnVuY3Rpb24oZG9jKSB7XG4gICAgICAgIHRoaXMuZG9jdW1lbnQgPSBkb2MgfHwgdGhpcy5kb2N1bWVudDtcbiAgICAgICAgdGhpcy5kb2N1bWVudC5vbihcImNoYW5nZVwiLCB0aGlzLiRvbkNoYW5nZSk7XG4gICAgfTtcbiAgICB0aGlzLiRjbGlwUG9zaXRpb25Ub0RvY3VtZW50ID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHtcbiAgICAgICAgdmFyIHBvcyA9IHt9O1xuXG4gICAgICAgIGlmIChyb3cgPj0gdGhpcy5kb2N1bWVudC5nZXRMZW5ndGgoKSkge1xuICAgICAgICAgICAgcG9zLnJvdyA9IE1hdGgubWF4KDAsIHRoaXMuZG9jdW1lbnQuZ2V0TGVuZ3RoKCkgLSAxKTtcbiAgICAgICAgICAgIHBvcy5jb2x1bW4gPSB0aGlzLmRvY3VtZW50LmdldExpbmUocG9zLnJvdykubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJvdyA8IDApIHtcbiAgICAgICAgICAgIHBvcy5yb3cgPSAwO1xuICAgICAgICAgICAgcG9zLmNvbHVtbiA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwb3Mucm93ID0gcm93O1xuICAgICAgICAgICAgcG9zLmNvbHVtbiA9IE1hdGgubWluKHRoaXMuZG9jdW1lbnQuZ2V0TGluZShwb3Mucm93KS5sZW5ndGgsIE1hdGgubWF4KDAsIGNvbHVtbikpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbHVtbiA8IDApXG4gICAgICAgICAgICBwb3MuY29sdW1uID0gMDtcblxuICAgICAgICByZXR1cm4gcG9zO1xuICAgIH07XG5cbn0pLmNhbGwoQW5jaG9yLnByb3RvdHlwZSk7XG5cbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL2RvY3VtZW50XCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL29vcFwiLFwiYWNlL2FwcGx5X2RlbHRhXCIsXCJhY2UvbGliL2V2ZW50X2VtaXR0ZXJcIixcImFjZS9yYW5nZVwiLFwiYWNlL2FuY2hvclwiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIG9vcCA9IHJlcXVpcmUoXCIuL2xpYi9vb3BcIik7XG52YXIgYXBwbHlEZWx0YSA9IHJlcXVpcmUoXCIuL2FwcGx5X2RlbHRhXCIpLmFwcGx5RGVsdGE7XG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZShcIi4vbGliL2V2ZW50X2VtaXR0ZXJcIikuRXZlbnRFbWl0dGVyO1xudmFyIFJhbmdlID0gcmVxdWlyZShcIi4vcmFuZ2VcIikuUmFuZ2U7XG52YXIgQW5jaG9yID0gcmVxdWlyZShcIi4vYW5jaG9yXCIpLkFuY2hvcjtcblxudmFyIERvY3VtZW50ID0gZnVuY3Rpb24odGV4dE9yTGluZXMpIHtcbiAgICB0aGlzLiRsaW5lcyA9IFtcIlwiXTtcbiAgICBpZiAodGV4dE9yTGluZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRoaXMuJGxpbmVzID0gW1wiXCJdO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh0ZXh0T3JMaW5lcykpIHtcbiAgICAgICAgdGhpcy5pbnNlcnRNZXJnZWRMaW5lcyh7cm93OiAwLCBjb2x1bW46IDB9LCB0ZXh0T3JMaW5lcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5pbnNlcnQoe3JvdzogMCwgY29sdW1uOjB9LCB0ZXh0T3JMaW5lcyk7XG4gICAgfVxufTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgb29wLmltcGxlbWVudCh0aGlzLCBFdmVudEVtaXR0ZXIpO1xuICAgIHRoaXMuc2V0VmFsdWUgPSBmdW5jdGlvbih0ZXh0KSB7XG4gICAgICAgIHZhciBsZW4gPSB0aGlzLmdldExlbmd0aCgpIC0gMTtcbiAgICAgICAgdGhpcy5yZW1vdmUobmV3IFJhbmdlKDAsIDAsIGxlbiwgdGhpcy5nZXRMaW5lKGxlbikubGVuZ3RoKSk7XG4gICAgICAgIHRoaXMuaW5zZXJ0KHtyb3c6IDAsIGNvbHVtbjogMH0sIHRleHQpO1xuICAgIH07XG4gICAgdGhpcy5nZXRWYWx1ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRBbGxMaW5lcygpLmpvaW4odGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkpO1xuICAgIH07XG4gICAgdGhpcy5jcmVhdGVBbmNob3IgPSBmdW5jdGlvbihyb3csIGNvbHVtbikge1xuICAgICAgICByZXR1cm4gbmV3IEFuY2hvcih0aGlzLCByb3csIGNvbHVtbik7XG4gICAgfTtcbiAgICBpZiAoXCJhYWFcIi5zcGxpdCgvYS8pLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aGlzLiRzcGxpdCA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiB0ZXh0LnJlcGxhY2UoL1xcclxcbnxcXHIvZywgXCJcXG5cIikuc3BsaXQoXCJcXG5cIik7XG4gICAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy4kc3BsaXQgPSBmdW5jdGlvbih0ZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGV4dC5zcGxpdCgvXFxyXFxufFxccnxcXG4vKTtcbiAgICAgICAgfTtcbiAgICB9XG5cblxuICAgIHRoaXMuJGRldGVjdE5ld0xpbmUgPSBmdW5jdGlvbih0ZXh0KSB7XG4gICAgICAgIHZhciBtYXRjaCA9IHRleHQubWF0Y2goL14uKj8oXFxyXFxufFxccnxcXG4pL20pO1xuICAgICAgICB0aGlzLiRhdXRvTmV3TGluZSA9IG1hdGNoID8gbWF0Y2hbMV0gOiBcIlxcblwiO1xuICAgICAgICB0aGlzLl9zaWduYWwoXCJjaGFuZ2VOZXdMaW5lTW9kZVwiKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMuJG5ld0xpbmVNb2RlKSB7XG4gICAgICAgICAgY2FzZSBcIndpbmRvd3NcIjpcbiAgICAgICAgICAgIHJldHVybiBcIlxcclxcblwiO1xuICAgICAgICAgIGNhc2UgXCJ1bml4XCI6XG4gICAgICAgICAgICByZXR1cm4gXCJcXG5cIjtcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGF1dG9OZXdMaW5lIHx8IFwiXFxuXCI7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy4kYXV0b05ld0xpbmUgPSBcIlwiO1xuICAgIHRoaXMuJG5ld0xpbmVNb2RlID0gXCJhdXRvXCI7XG4gICAgdGhpcy5zZXROZXdMaW5lTW9kZSA9IGZ1bmN0aW9uKG5ld0xpbmVNb2RlKSB7XG4gICAgICAgIGlmICh0aGlzLiRuZXdMaW5lTW9kZSA9PT0gbmV3TGluZU1vZGUpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdGhpcy4kbmV3TGluZU1vZGUgPSBuZXdMaW5lTW9kZTtcbiAgICAgICAgdGhpcy5fc2lnbmFsKFwiY2hhbmdlTmV3TGluZU1vZGVcIik7XG4gICAgfTtcbiAgICB0aGlzLmdldE5ld0xpbmVNb2RlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRuZXdMaW5lTW9kZTtcbiAgICB9O1xuICAgIHRoaXMuaXNOZXdMaW5lID0gZnVuY3Rpb24odGV4dCkge1xuICAgICAgICByZXR1cm4gKHRleHQgPT0gXCJcXHJcXG5cIiB8fCB0ZXh0ID09IFwiXFxyXCIgfHwgdGV4dCA9PSBcIlxcblwiKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0TGluZSA9IGZ1bmN0aW9uKHJvdykge1xuICAgICAgICByZXR1cm4gdGhpcy4kbGluZXNbcm93XSB8fCBcIlwiO1xuICAgIH07XG4gICAgdGhpcy5nZXRMaW5lcyA9IGZ1bmN0aW9uKGZpcnN0Um93LCBsYXN0Um93KSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRsaW5lcy5zbGljZShmaXJzdFJvdywgbGFzdFJvdyArIDEpO1xuICAgIH07XG4gICAgdGhpcy5nZXRBbGxMaW5lcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRMaW5lcygwLCB0aGlzLmdldExlbmd0aCgpKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0TGVuZ3RoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRsaW5lcy5sZW5ndGg7XG4gICAgfTtcbiAgICB0aGlzLmdldFRleHRSYW5nZSA9IGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldExpbmVzRm9yUmFuZ2UocmFuZ2UpLmpvaW4odGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkpO1xuICAgIH07XG4gICAgdGhpcy5nZXRMaW5lc0ZvclJhbmdlID0gZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgICAgdmFyIGxpbmVzO1xuICAgICAgICBpZiAocmFuZ2Uuc3RhcnQucm93ID09PSByYW5nZS5lbmQucm93KSB7XG4gICAgICAgICAgICBsaW5lcyA9IFt0aGlzLmdldExpbmUocmFuZ2Uuc3RhcnQucm93KS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uLCByYW5nZS5lbmQuY29sdW1uKV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsaW5lcyA9IHRoaXMuZ2V0TGluZXMocmFuZ2Uuc3RhcnQucm93LCByYW5nZS5lbmQucm93KTtcbiAgICAgICAgICAgIGxpbmVzWzBdID0gKGxpbmVzWzBdIHx8IFwiXCIpLnN1YnN0cmluZyhyYW5nZS5zdGFydC5jb2x1bW4pO1xuICAgICAgICAgICAgdmFyIGwgPSBsaW5lcy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgaWYgKHJhbmdlLmVuZC5yb3cgLSByYW5nZS5zdGFydC5yb3cgPT0gbClcbiAgICAgICAgICAgICAgICBsaW5lc1tsXSA9IGxpbmVzW2xdLnN1YnN0cmluZygwLCByYW5nZS5lbmQuY29sdW1uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGluZXM7XG4gICAgfTtcbiAgICB0aGlzLmluc2VydExpbmVzID0gZnVuY3Rpb24ocm93LCBsaW5lcykge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJVc2Ugb2YgZG9jdW1lbnQuaW5zZXJ0TGluZXMgaXMgZGVwcmVjYXRlZC4gVXNlIHRoZSBpbnNlcnRGdWxsTGluZXMgbWV0aG9kIGluc3RlYWQuXCIpO1xuICAgICAgICByZXR1cm4gdGhpcy5pbnNlcnRGdWxsTGluZXMocm93LCBsaW5lcyk7XG4gICAgfTtcbiAgICB0aGlzLnJlbW92ZUxpbmVzID0gZnVuY3Rpb24oZmlyc3RSb3csIGxhc3RSb3cpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiVXNlIG9mIGRvY3VtZW50LnJlbW92ZUxpbmVzIGlzIGRlcHJlY2F0ZWQuIFVzZSB0aGUgcmVtb3ZlRnVsbExpbmVzIG1ldGhvZCBpbnN0ZWFkLlwiKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlRnVsbExpbmVzKGZpcnN0Um93LCBsYXN0Um93KTtcbiAgICB9O1xuICAgIHRoaXMuaW5zZXJ0TmV3TGluZSA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIlVzZSBvZiBkb2N1bWVudC5pbnNlcnROZXdMaW5lIGlzIGRlcHJlY2F0ZWQuIFVzZSBpbnNlcnRNZXJnZWRMaW5lcyhwb3NpdGlvbiwgWycnLCAnJ10pIGluc3RlYWQuXCIpO1xuICAgICAgICByZXR1cm4gdGhpcy5pbnNlcnRNZXJnZWRMaW5lcyhwb3NpdGlvbiwgW1wiXCIsIFwiXCJdKTtcbiAgICB9O1xuICAgIHRoaXMuaW5zZXJ0ID0gZnVuY3Rpb24ocG9zaXRpb24sIHRleHQpIHtcbiAgICAgICAgaWYgKHRoaXMuZ2V0TGVuZ3RoKCkgPD0gMSlcbiAgICAgICAgICAgIHRoaXMuJGRldGVjdE5ld0xpbmUodGV4dCk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gdGhpcy5pbnNlcnRNZXJnZWRMaW5lcyhwb3NpdGlvbiwgdGhpcy4kc3BsaXQodGV4dCkpO1xuICAgIH07XG4gICAgdGhpcy5pbnNlcnRJbkxpbmUgPSBmdW5jdGlvbihwb3NpdGlvbiwgdGV4dCkge1xuICAgICAgICB2YXIgc3RhcnQgPSB0aGlzLmNsaXBwZWRQb3MocG9zaXRpb24ucm93LCBwb3NpdGlvbi5jb2x1bW4pO1xuICAgICAgICB2YXIgZW5kID0gdGhpcy5wb3MocG9zaXRpb24ucm93LCBwb3NpdGlvbi5jb2x1bW4gKyB0ZXh0Lmxlbmd0aCk7XG4gICAgICAgIFxuICAgICAgICB0aGlzLmFwcGx5RGVsdGEoe1xuICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0LFxuICAgICAgICAgICAgZW5kOiBlbmQsXG4gICAgICAgICAgICBhY3Rpb246IFwiaW5zZXJ0XCIsXG4gICAgICAgICAgICBsaW5lczogW3RleHRdXG4gICAgICAgIH0sIHRydWUpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmVQb3MoZW5kKTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuY2xpcHBlZFBvcyA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmdldExlbmd0aCgpO1xuICAgICAgICBpZiAocm93ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJvdyA9IGxlbmd0aDtcbiAgICAgICAgfSBlbHNlIGlmIChyb3cgPCAwKSB7XG4gICAgICAgICAgICByb3cgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKHJvdyA+PSBsZW5ndGgpIHtcbiAgICAgICAgICAgIHJvdyA9IGxlbmd0aCAtIDE7XG4gICAgICAgICAgICBjb2x1bW4gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxpbmUgPSB0aGlzLmdldExpbmUocm93KTtcbiAgICAgICAgaWYgKGNvbHVtbiA9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICBjb2x1bW4gPSBsaW5lLmxlbmd0aDtcbiAgICAgICAgY29sdW1uID0gTWF0aC5taW4oTWF0aC5tYXgoY29sdW1uLCAwKSwgbGluZS5sZW5ndGgpO1xuICAgICAgICByZXR1cm4ge3Jvdzogcm93LCBjb2x1bW46IGNvbHVtbn07XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLmNsb25lUG9zID0gZnVuY3Rpb24ocG9zKSB7XG4gICAgICAgIHJldHVybiB7cm93OiBwb3Mucm93LCBjb2x1bW46IHBvcy5jb2x1bW59O1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5wb3MgPSBmdW5jdGlvbihyb3csIGNvbHVtbikge1xuICAgICAgICByZXR1cm4ge3Jvdzogcm93LCBjb2x1bW46IGNvbHVtbn07XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLiRjbGlwUG9zaXRpb24gPSBmdW5jdGlvbihwb3NpdGlvbikge1xuICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5nZXRMZW5ndGgoKTtcbiAgICAgICAgaWYgKHBvc2l0aW9uLnJvdyA+PSBsZW5ndGgpIHtcbiAgICAgICAgICAgIHBvc2l0aW9uLnJvdyA9IE1hdGgubWF4KDAsIGxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgcG9zaXRpb24uY29sdW1uID0gdGhpcy5nZXRMaW5lKGxlbmd0aCAtIDEpLmxlbmd0aDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBvc2l0aW9uLnJvdyA9IE1hdGgubWF4KDAsIHBvc2l0aW9uLnJvdyk7XG4gICAgICAgICAgICBwb3NpdGlvbi5jb2x1bW4gPSBNYXRoLm1pbihNYXRoLm1heChwb3NpdGlvbi5jb2x1bW4sIDApLCB0aGlzLmdldExpbmUocG9zaXRpb24ucm93KS5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwb3NpdGlvbjtcbiAgICB9O1xuICAgIHRoaXMuaW5zZXJ0RnVsbExpbmVzID0gZnVuY3Rpb24ocm93LCBsaW5lcykge1xuICAgICAgICByb3cgPSBNYXRoLm1pbihNYXRoLm1heChyb3csIDApLCB0aGlzLmdldExlbmd0aCgpKTtcbiAgICAgICAgdmFyIGNvbHVtbiA9IDA7XG4gICAgICAgIGlmIChyb3cgPCB0aGlzLmdldExlbmd0aCgpKSB7XG4gICAgICAgICAgICBsaW5lcyA9IGxpbmVzLmNvbmNhdChbXCJcIl0pO1xuICAgICAgICAgICAgY29sdW1uID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxpbmVzID0gW1wiXCJdLmNvbmNhdChsaW5lcyk7XG4gICAgICAgICAgICByb3ctLTtcbiAgICAgICAgICAgIGNvbHVtbiA9IHRoaXMuJGxpbmVzW3Jvd10ubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMoe3Jvdzogcm93LCBjb2x1bW46IGNvbHVtbn0sIGxpbmVzKTtcbiAgICB9OyAgICBcbiAgICB0aGlzLmluc2VydE1lcmdlZExpbmVzID0gZnVuY3Rpb24ocG9zaXRpb24sIGxpbmVzKSB7XG4gICAgICAgIHZhciBzdGFydCA9IHRoaXMuY2xpcHBlZFBvcyhwb3NpdGlvbi5yb3csIHBvc2l0aW9uLmNvbHVtbik7XG4gICAgICAgIHZhciBlbmQgPSB7XG4gICAgICAgICAgICByb3c6IHN0YXJ0LnJvdyArIGxpbmVzLmxlbmd0aCAtIDEsXG4gICAgICAgICAgICBjb2x1bW46IChsaW5lcy5sZW5ndGggPT0gMSA/IHN0YXJ0LmNvbHVtbiA6IDApICsgbGluZXNbbGluZXMubGVuZ3RoIC0gMV0ubGVuZ3RoXG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICB0aGlzLmFwcGx5RGVsdGEoe1xuICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0LFxuICAgICAgICAgICAgZW5kOiBlbmQsXG4gICAgICAgICAgICBhY3Rpb246IFwiaW5zZXJ0XCIsXG4gICAgICAgICAgICBsaW5lczogbGluZXNcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gdGhpcy5jbG9uZVBvcyhlbmQpO1xuICAgIH07XG4gICAgdGhpcy5yZW1vdmUgPSBmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICB2YXIgc3RhcnQgPSB0aGlzLmNsaXBwZWRQb3MocmFuZ2Uuc3RhcnQucm93LCByYW5nZS5zdGFydC5jb2x1bW4pO1xuICAgICAgICB2YXIgZW5kID0gdGhpcy5jbGlwcGVkUG9zKHJhbmdlLmVuZC5yb3csIHJhbmdlLmVuZC5jb2x1bW4pO1xuICAgICAgICB0aGlzLmFwcGx5RGVsdGEoe1xuICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0LFxuICAgICAgICAgICAgZW5kOiBlbmQsXG4gICAgICAgICAgICBhY3Rpb246IFwicmVtb3ZlXCIsXG4gICAgICAgICAgICBsaW5lczogdGhpcy5nZXRMaW5lc0ZvclJhbmdlKHtzdGFydDogc3RhcnQsIGVuZDogZW5kfSlcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLmNsb25lUG9zKHN0YXJ0KTtcbiAgICB9O1xuICAgIHRoaXMucmVtb3ZlSW5MaW5lID0gZnVuY3Rpb24ocm93LCBzdGFydENvbHVtbiwgZW5kQ29sdW1uKSB7XG4gICAgICAgIHZhciBzdGFydCA9IHRoaXMuY2xpcHBlZFBvcyhyb3csIHN0YXJ0Q29sdW1uKTtcbiAgICAgICAgdmFyIGVuZCA9IHRoaXMuY2xpcHBlZFBvcyhyb3csIGVuZENvbHVtbik7XG4gICAgICAgIFxuICAgICAgICB0aGlzLmFwcGx5RGVsdGEoe1xuICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0LFxuICAgICAgICAgICAgZW5kOiBlbmQsXG4gICAgICAgICAgICBhY3Rpb246IFwicmVtb3ZlXCIsXG4gICAgICAgICAgICBsaW5lczogdGhpcy5nZXRMaW5lc0ZvclJhbmdlKHtzdGFydDogc3RhcnQsIGVuZDogZW5kfSlcbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gdGhpcy5jbG9uZVBvcyhzdGFydCk7XG4gICAgfTtcbiAgICB0aGlzLnJlbW92ZUZ1bGxMaW5lcyA9IGZ1bmN0aW9uKGZpcnN0Um93LCBsYXN0Um93KSB7XG4gICAgICAgIGZpcnN0Um93ID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgZmlyc3RSb3cpLCB0aGlzLmdldExlbmd0aCgpIC0gMSk7XG4gICAgICAgIGxhc3RSb3cgID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgbGFzdFJvdyApLCB0aGlzLmdldExlbmd0aCgpIC0gMSk7XG4gICAgICAgIHZhciBkZWxldGVGaXJzdE5ld0xpbmUgPSBsYXN0Um93ID09IHRoaXMuZ2V0TGVuZ3RoKCkgLSAxICYmIGZpcnN0Um93ID4gMDtcbiAgICAgICAgdmFyIGRlbGV0ZUxhc3ROZXdMaW5lICA9IGxhc3RSb3cgIDwgdGhpcy5nZXRMZW5ndGgoKSAtIDE7XG4gICAgICAgIHZhciBzdGFydFJvdyA9ICggZGVsZXRlRmlyc3ROZXdMaW5lID8gZmlyc3RSb3cgLSAxICAgICAgICAgICAgICAgICAgOiBmaXJzdFJvdyAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgdmFyIHN0YXJ0Q29sID0gKCBkZWxldGVGaXJzdE5ld0xpbmUgPyB0aGlzLmdldExpbmUoc3RhcnRSb3cpLmxlbmd0aCA6IDAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICB2YXIgZW5kUm93ICAgPSAoIGRlbGV0ZUxhc3ROZXdMaW5lICA/IGxhc3RSb3cgKyAxICAgICAgICAgICAgICAgICAgIDogbGFzdFJvdyAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgIHZhciBlbmRDb2wgICA9ICggZGVsZXRlTGFzdE5ld0xpbmUgID8gMCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmdldExpbmUoZW5kUm93KS5sZW5ndGggKTsgXG4gICAgICAgIHZhciByYW5nZSA9IG5ldyBSYW5nZShzdGFydFJvdywgc3RhcnRDb2wsIGVuZFJvdywgZW5kQ29sKTtcbiAgICAgICAgdmFyIGRlbGV0ZWRMaW5lcyA9IHRoaXMuJGxpbmVzLnNsaWNlKGZpcnN0Um93LCBsYXN0Um93ICsgMSk7XG4gICAgICAgIFxuICAgICAgICB0aGlzLmFwcGx5RGVsdGEoe1xuICAgICAgICAgICAgc3RhcnQ6IHJhbmdlLnN0YXJ0LFxuICAgICAgICAgICAgZW5kOiByYW5nZS5lbmQsXG4gICAgICAgICAgICBhY3Rpb246IFwicmVtb3ZlXCIsXG4gICAgICAgICAgICBsaW5lczogdGhpcy5nZXRMaW5lc0ZvclJhbmdlKHJhbmdlKVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRlbGV0ZWRMaW5lcztcbiAgICB9O1xuICAgIHRoaXMucmVtb3ZlTmV3TGluZSA9IGZ1bmN0aW9uKHJvdykge1xuICAgICAgICBpZiAocm93IDwgdGhpcy5nZXRMZW5ndGgoKSAtIDEgJiYgcm93ID49IDApIHtcbiAgICAgICAgICAgIHRoaXMuYXBwbHlEZWx0YSh7XG4gICAgICAgICAgICAgICAgc3RhcnQ6IHRoaXMucG9zKHJvdywgdGhpcy5nZXRMaW5lKHJvdykubGVuZ3RoKSxcbiAgICAgICAgICAgICAgICBlbmQ6IHRoaXMucG9zKHJvdyArIDEsIDApLFxuICAgICAgICAgICAgICAgIGFjdGlvbjogXCJyZW1vdmVcIixcbiAgICAgICAgICAgICAgICBsaW5lczogW1wiXCIsIFwiXCJdXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5yZXBsYWNlID0gZnVuY3Rpb24ocmFuZ2UsIHRleHQpIHtcbiAgICAgICAgaWYgKCEocmFuZ2UgaW5zdGFuY2VvZiBSYW5nZSkpXG4gICAgICAgICAgICByYW5nZSA9IFJhbmdlLmZyb21Qb2ludHMocmFuZ2Uuc3RhcnQsIHJhbmdlLmVuZCk7XG4gICAgICAgIGlmICh0ZXh0Lmxlbmd0aCA9PT0gMCAmJiByYW5nZS5pc0VtcHR5KCkpXG4gICAgICAgICAgICByZXR1cm4gcmFuZ2Uuc3RhcnQ7XG4gICAgICAgIGlmICh0ZXh0ID09IHRoaXMuZ2V0VGV4dFJhbmdlKHJhbmdlKSlcbiAgICAgICAgICAgIHJldHVybiByYW5nZS5lbmQ7XG5cbiAgICAgICAgdGhpcy5yZW1vdmUocmFuZ2UpO1xuICAgICAgICB2YXIgZW5kO1xuICAgICAgICBpZiAodGV4dCkge1xuICAgICAgICAgICAgZW5kID0gdGhpcy5pbnNlcnQocmFuZ2Uuc3RhcnQsIHRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZW5kID0gcmFuZ2Uuc3RhcnQ7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiBlbmQ7XG4gICAgfTtcbiAgICB0aGlzLmFwcGx5RGVsdGFzID0gZnVuY3Rpb24oZGVsdGFzKSB7XG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxkZWx0YXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuYXBwbHlEZWx0YShkZWx0YXNbaV0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLnJldmVydERlbHRhcyA9IGZ1bmN0aW9uKGRlbHRhcykge1xuICAgICAgICBmb3IgKHZhciBpPWRlbHRhcy5sZW5ndGgtMTsgaT49MDsgaS0tKSB7XG4gICAgICAgICAgICB0aGlzLnJldmVydERlbHRhKGRlbHRhc1tpXSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuYXBwbHlEZWx0YSA9IGZ1bmN0aW9uKGRlbHRhLCBkb05vdFZhbGlkYXRlKSB7XG4gICAgICAgIHZhciBpc0luc2VydCA9IGRlbHRhLmFjdGlvbiA9PSBcImluc2VydFwiO1xuICAgICAgICBpZiAoaXNJbnNlcnQgPyBkZWx0YS5saW5lcy5sZW5ndGggPD0gMSAmJiAhZGVsdGEubGluZXNbMF1cbiAgICAgICAgICAgIDogIVJhbmdlLmNvbXBhcmVQb2ludHMoZGVsdGEuc3RhcnQsIGRlbHRhLmVuZCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKGlzSW5zZXJ0ICYmIGRlbHRhLmxpbmVzLmxlbmd0aCA+IDIwMDAwKSB7XG4gICAgICAgICAgICB0aGlzLiRzcGxpdEFuZGFwcGx5TGFyZ2VEZWx0YShkZWx0YSwgMjAwMDApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXBwbHlEZWx0YSh0aGlzLiRsaW5lcywgZGVsdGEsIGRvTm90VmFsaWRhdGUpO1xuICAgICAgICAgICAgdGhpcy5fc2lnbmFsKFwiY2hhbmdlXCIsIGRlbHRhKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgdGhpcy4kc2FmZUFwcGx5RGVsdGEgPSBmdW5jdGlvbihkZWx0YSkge1xuICAgICAgICB2YXIgZG9jTGVuZ3RoID0gdGhpcy4kbGluZXMubGVuZ3RoO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICBkZWx0YS5hY3Rpb24gPT0gXCJyZW1vdmVcIiAmJiBkZWx0YS5zdGFydC5yb3cgPCBkb2NMZW5ndGggJiYgZGVsdGEuZW5kLnJvdyA8IGRvY0xlbmd0aFxuICAgICAgICAgICAgfHwgZGVsdGEuYWN0aW9uID09IFwiaW5zZXJ0XCIgJiYgZGVsdGEuc3RhcnQucm93IDw9IGRvY0xlbmd0aFxuICAgICAgICApIHtcbiAgICAgICAgICAgIHRoaXMuYXBwbHlEZWx0YShkZWx0YSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIHRoaXMuJHNwbGl0QW5kYXBwbHlMYXJnZURlbHRhID0gZnVuY3Rpb24oZGVsdGEsIE1BWCkge1xuICAgICAgICB2YXIgbGluZXMgPSBkZWx0YS5saW5lcztcbiAgICAgICAgdmFyIGwgPSBsaW5lcy5sZW5ndGggLSBNQVggKyAxO1xuICAgICAgICB2YXIgcm93ID0gZGVsdGEuc3RhcnQucm93OyBcbiAgICAgICAgdmFyIGNvbHVtbiA9IGRlbHRhLnN0YXJ0LmNvbHVtbjtcbiAgICAgICAgZm9yICh2YXIgZnJvbSA9IDAsIHRvID0gMDsgZnJvbSA8IGw7IGZyb20gPSB0bykge1xuICAgICAgICAgICAgdG8gKz0gTUFYIC0gMTtcbiAgICAgICAgICAgIHZhciBjaHVuayA9IGxpbmVzLnNsaWNlKGZyb20sIHRvKTtcbiAgICAgICAgICAgIGNodW5rLnB1c2goXCJcIik7XG4gICAgICAgICAgICB0aGlzLmFwcGx5RGVsdGEoe1xuICAgICAgICAgICAgICAgIHN0YXJ0OiB0aGlzLnBvcyhyb3cgKyBmcm9tLCBjb2x1bW4pLFxuICAgICAgICAgICAgICAgIGVuZDogdGhpcy5wb3Mocm93ICsgdG8sIGNvbHVtbiA9IDApLFxuICAgICAgICAgICAgICAgIGFjdGlvbjogZGVsdGEuYWN0aW9uLFxuICAgICAgICAgICAgICAgIGxpbmVzOiBjaHVua1xuICAgICAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZGVsdGEubGluZXMgPSBsaW5lcy5zbGljZShmcm9tKTtcbiAgICAgICAgZGVsdGEuc3RhcnQucm93ID0gcm93ICsgZnJvbTtcbiAgICAgICAgZGVsdGEuc3RhcnQuY29sdW1uID0gY29sdW1uO1xuICAgICAgICB0aGlzLmFwcGx5RGVsdGEoZGVsdGEsIHRydWUpO1xuICAgIH07XG4gICAgdGhpcy5yZXZlcnREZWx0YSA9IGZ1bmN0aW9uKGRlbHRhKSB7XG4gICAgICAgIHRoaXMuJHNhZmVBcHBseURlbHRhKHtcbiAgICAgICAgICAgIHN0YXJ0OiB0aGlzLmNsb25lUG9zKGRlbHRhLnN0YXJ0KSxcbiAgICAgICAgICAgIGVuZDogdGhpcy5jbG9uZVBvcyhkZWx0YS5lbmQpLFxuICAgICAgICAgICAgYWN0aW9uOiAoZGVsdGEuYWN0aW9uID09IFwiaW5zZXJ0XCIgPyBcInJlbW92ZVwiIDogXCJpbnNlcnRcIiksXG4gICAgICAgICAgICBsaW5lczogZGVsdGEubGluZXMuc2xpY2UoKVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHRoaXMuaW5kZXhUb1Bvc2l0aW9uID0gZnVuY3Rpb24oaW5kZXgsIHN0YXJ0Um93KSB7XG4gICAgICAgIHZhciBsaW5lcyA9IHRoaXMuJGxpbmVzIHx8IHRoaXMuZ2V0QWxsTGluZXMoKTtcbiAgICAgICAgdmFyIG5ld2xpbmVMZW5ndGggPSB0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKS5sZW5ndGg7XG4gICAgICAgIGZvciAodmFyIGkgPSBzdGFydFJvdyB8fCAwLCBsID0gbGluZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBpbmRleCAtPSBsaW5lc1tpXS5sZW5ndGggKyBuZXdsaW5lTGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGluZGV4IDwgMClcbiAgICAgICAgICAgICAgICByZXR1cm4ge3JvdzogaSwgY29sdW1uOiBpbmRleCArIGxpbmVzW2ldLmxlbmd0aCArIG5ld2xpbmVMZW5ndGh9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7cm93OiBsLTEsIGNvbHVtbjogaW5kZXggKyBsaW5lc1tsLTFdLmxlbmd0aCArIG5ld2xpbmVMZW5ndGh9O1xuICAgIH07XG4gICAgdGhpcy5wb3NpdGlvblRvSW5kZXggPSBmdW5jdGlvbihwb3MsIHN0YXJ0Um93KSB7XG4gICAgICAgIHZhciBsaW5lcyA9IHRoaXMuJGxpbmVzIHx8IHRoaXMuZ2V0QWxsTGluZXMoKTtcbiAgICAgICAgdmFyIG5ld2xpbmVMZW5ndGggPSB0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKS5sZW5ndGg7XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHZhciByb3cgPSBNYXRoLm1pbihwb3Mucm93LCBsaW5lcy5sZW5ndGgpO1xuICAgICAgICBmb3IgKHZhciBpID0gc3RhcnRSb3cgfHwgMDsgaSA8IHJvdzsgKytpKVxuICAgICAgICAgICAgaW5kZXggKz0gbGluZXNbaV0ubGVuZ3RoICsgbmV3bGluZUxlbmd0aDtcblxuICAgICAgICByZXR1cm4gaW5kZXggKyBwb3MuY29sdW1uO1xuICAgIH07XG5cbn0pLmNhbGwoRG9jdW1lbnQucHJvdG90eXBlKTtcblxuZXhwb3J0cy5Eb2N1bWVudCA9IERvY3VtZW50O1xufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvYmFja2dyb3VuZF90b2tlbml6ZXJcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvb29wXCIsXCJhY2UvbGliL2V2ZW50X2VtaXR0ZXJcIl0sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBvb3AgPSByZXF1aXJlKFwiLi9saWIvb29wXCIpO1xudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoXCIuL2xpYi9ldmVudF9lbWl0dGVyXCIpLkV2ZW50RW1pdHRlcjtcblxudmFyIEJhY2tncm91bmRUb2tlbml6ZXIgPSBmdW5jdGlvbih0b2tlbml6ZXIsIGVkaXRvcikge1xuICAgIHRoaXMucnVubmluZyA9IGZhbHNlO1xuICAgIHRoaXMubGluZXMgPSBbXTtcbiAgICB0aGlzLnN0YXRlcyA9IFtdO1xuICAgIHRoaXMuY3VycmVudExpbmUgPSAwO1xuICAgIHRoaXMudG9rZW5pemVyID0gdG9rZW5pemVyO1xuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdGhpcy4kd29ya2VyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghc2VsZi5ydW5uaW5nKSB7IHJldHVybjsgfVxuXG4gICAgICAgIHZhciB3b3JrZXJTdGFydCA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHZhciBjdXJyZW50TGluZSA9IHNlbGYuY3VycmVudExpbmU7XG4gICAgICAgIHZhciBlbmRMaW5lID0gLTE7XG4gICAgICAgIHZhciBkb2MgPSBzZWxmLmRvYztcblxuICAgICAgICB2YXIgc3RhcnRMaW5lID0gY3VycmVudExpbmU7XG4gICAgICAgIHdoaWxlIChzZWxmLmxpbmVzW2N1cnJlbnRMaW5lXSlcbiAgICAgICAgICAgIGN1cnJlbnRMaW5lKys7XG4gICAgICAgIFxuICAgICAgICB2YXIgbGVuID0gZG9jLmdldExlbmd0aCgpO1xuICAgICAgICB2YXIgcHJvY2Vzc2VkTGluZXMgPSAwO1xuICAgICAgICBzZWxmLnJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgd2hpbGUgKGN1cnJlbnRMaW5lIDwgbGVuKSB7XG4gICAgICAgICAgICBzZWxmLiR0b2tlbml6ZVJvdyhjdXJyZW50TGluZSk7XG4gICAgICAgICAgICBlbmRMaW5lID0gY3VycmVudExpbmU7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgY3VycmVudExpbmUrKztcbiAgICAgICAgICAgIH0gd2hpbGUgKHNlbGYubGluZXNbY3VycmVudExpbmVdKTtcbiAgICAgICAgICAgIHByb2Nlc3NlZExpbmVzICsrO1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzZWRMaW5lcyAlIDUgPT09IDApICYmIChuZXcgRGF0ZSgpIC0gd29ya2VyU3RhcnQpID4gMjApIHtcbiAgICAgICAgICAgICAgICBzZWxmLnJ1bm5pbmcgPSBzZXRUaW1lb3V0KHNlbGYuJHdvcmtlciwgMjApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNlbGYuY3VycmVudExpbmUgPSBjdXJyZW50TGluZTtcbiAgICAgICAgXG4gICAgICAgIGlmIChlbmRMaW5lID09IC0xKVxuICAgICAgICAgICAgZW5kTGluZSA9IGN1cnJlbnRMaW5lO1xuICAgICAgICBcbiAgICAgICAgaWYgKHN0YXJ0TGluZSA8PSBlbmRMaW5lKVxuICAgICAgICAgICAgc2VsZi5maXJlVXBkYXRlRXZlbnQoc3RhcnRMaW5lLCBlbmRMaW5lKTtcbiAgICB9O1xufTtcblxuKGZ1bmN0aW9uKCl7XG5cbiAgICBvb3AuaW1wbGVtZW50KHRoaXMsIEV2ZW50RW1pdHRlcik7XG4gICAgdGhpcy5zZXRUb2tlbml6ZXIgPSBmdW5jdGlvbih0b2tlbml6ZXIpIHtcbiAgICAgICAgdGhpcy50b2tlbml6ZXIgPSB0b2tlbml6ZXI7XG4gICAgICAgIHRoaXMubGluZXMgPSBbXTtcbiAgICAgICAgdGhpcy5zdGF0ZXMgPSBbXTtcblxuICAgICAgICB0aGlzLnN0YXJ0KDApO1xuICAgIH07XG4gICAgdGhpcy5zZXREb2N1bWVudCA9IGZ1bmN0aW9uKGRvYykge1xuICAgICAgICB0aGlzLmRvYyA9IGRvYztcbiAgICAgICAgdGhpcy5saW5lcyA9IFtdO1xuICAgICAgICB0aGlzLnN0YXRlcyA9IFtdO1xuXG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgIH07XG4gICAgdGhpcy5maXJlVXBkYXRlRXZlbnQgPSBmdW5jdGlvbihmaXJzdFJvdywgbGFzdFJvdykge1xuICAgICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgICAgIGZpcnN0OiBmaXJzdFJvdyxcbiAgICAgICAgICAgIGxhc3Q6IGxhc3RSb3dcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fc2lnbmFsKFwidXBkYXRlXCIsIHtkYXRhOiBkYXRhfSk7XG4gICAgfTtcbiAgICB0aGlzLnN0YXJ0ID0gZnVuY3Rpb24oc3RhcnRSb3cpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50TGluZSA9IE1hdGgubWluKHN0YXJ0Um93IHx8IDAsIHRoaXMuY3VycmVudExpbmUsIHRoaXMuZG9jLmdldExlbmd0aCgpKTtcbiAgICAgICAgdGhpcy5saW5lcy5zcGxpY2UodGhpcy5jdXJyZW50TGluZSwgdGhpcy5saW5lcy5sZW5ndGgpO1xuICAgICAgICB0aGlzLnN0YXRlcy5zcGxpY2UodGhpcy5jdXJyZW50TGluZSwgdGhpcy5zdGF0ZXMubGVuZ3RoKTtcblxuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgdGhpcy5ydW5uaW5nID0gc2V0VGltZW91dCh0aGlzLiR3b3JrZXIsIDcwMCk7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLnNjaGVkdWxlU3RhcnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLnJ1bm5pbmcpXG4gICAgICAgICAgICB0aGlzLnJ1bm5pbmcgPSBzZXRUaW1lb3V0KHRoaXMuJHdvcmtlciwgNzAwKTtcbiAgICB9O1xuXG4gICAgdGhpcy4kdXBkYXRlT25DaGFuZ2UgPSBmdW5jdGlvbihkZWx0YSkge1xuICAgICAgICB2YXIgc3RhcnRSb3cgPSBkZWx0YS5zdGFydC5yb3c7XG4gICAgICAgIHZhciBsZW4gPSBkZWx0YS5lbmQucm93IC0gc3RhcnRSb3c7XG5cbiAgICAgICAgaWYgKGxlbiA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5saW5lc1tzdGFydFJvd10gPSBudWxsO1xuICAgICAgICB9IGVsc2UgaWYgKGRlbHRhLmFjdGlvbiA9PSBcInJlbW92ZVwiKSB7XG4gICAgICAgICAgICB0aGlzLmxpbmVzLnNwbGljZShzdGFydFJvdywgbGVuICsgMSwgbnVsbCk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlcy5zcGxpY2Uoc3RhcnRSb3csIGxlbiArIDEsIG51bGwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBBcnJheShsZW4gKyAxKTtcbiAgICAgICAgICAgIGFyZ3MudW5zaGlmdChzdGFydFJvdywgMSk7XG4gICAgICAgICAgICB0aGlzLmxpbmVzLnNwbGljZS5hcHBseSh0aGlzLmxpbmVzLCBhcmdzKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGVzLnNwbGljZS5hcHBseSh0aGlzLnN0YXRlcywgYXJncyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmN1cnJlbnRMaW5lID0gTWF0aC5taW4oc3RhcnRSb3csIHRoaXMuY3VycmVudExpbmUsIHRoaXMuZG9jLmdldExlbmd0aCgpKTtcblxuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICB9O1xuICAgIHRoaXMuc3RvcCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5ydW5uaW5nKVxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucnVubmluZyk7XG4gICAgICAgIHRoaXMucnVubmluZyA9IGZhbHNlO1xuICAgIH07XG4gICAgdGhpcy5nZXRUb2tlbnMgPSBmdW5jdGlvbihyb3cpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGluZXNbcm93XSB8fCB0aGlzLiR0b2tlbml6ZVJvdyhyb3cpO1xuICAgIH07XG4gICAgdGhpcy5nZXRTdGF0ZSA9IGZ1bmN0aW9uKHJvdykge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50TGluZSA9PSByb3cpXG4gICAgICAgICAgICB0aGlzLiR0b2tlbml6ZVJvdyhyb3cpO1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZXNbcm93XSB8fCBcInN0YXJ0XCI7XG4gICAgfTtcblxuICAgIHRoaXMuJHRva2VuaXplUm93ID0gZnVuY3Rpb24ocm93KSB7XG4gICAgICAgIHZhciBsaW5lID0gdGhpcy5kb2MuZ2V0TGluZShyb3cpO1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlc1tyb3cgLSAxXTtcblxuICAgICAgICB2YXIgZGF0YSA9IHRoaXMudG9rZW5pemVyLmdldExpbmVUb2tlbnMobGluZSwgc3RhdGUsIHJvdyk7XG5cbiAgICAgICAgaWYgKHRoaXMuc3RhdGVzW3Jvd10gKyBcIlwiICE9PSBkYXRhLnN0YXRlICsgXCJcIikge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZXNbcm93XSA9IGRhdGEuc3RhdGU7XG4gICAgICAgICAgICB0aGlzLmxpbmVzW3JvdyArIDFdID0gbnVsbDtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRMaW5lID4gcm93ICsgMSlcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRMaW5lID0gcm93ICsgMTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmN1cnJlbnRMaW5lID09IHJvdykge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50TGluZSA9IHJvdyArIDE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5saW5lc1tyb3ddID0gZGF0YS50b2tlbnM7XG4gICAgfTtcblxuICAgIHRoaXMuY2xlYW51cCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5saW5lcyA9IFtdO1xuICAgICAgICB0aGlzLnN0YXRlcyA9IFtdO1xuICAgICAgICB0aGlzLmN1cnJlbnRMaW5lID0gMDtcbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICB9O1xuXG59KS5jYWxsKEJhY2tncm91bmRUb2tlbml6ZXIucHJvdG90eXBlKTtcblxuZXhwb3J0cy5CYWNrZ3JvdW5kVG9rZW5pemVyID0gQmFja2dyb3VuZFRva2VuaXplcjtcbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL3NlYXJjaF9oaWdobGlnaHRcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvbGFuZ1wiLFwiYWNlL2xpYi9vb3BcIixcImFjZS9yYW5nZVwiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIGxhbmcgPSByZXF1aXJlKFwiLi9saWIvbGFuZ1wiKTtcbnZhciBvb3AgPSByZXF1aXJlKFwiLi9saWIvb29wXCIpO1xudmFyIFJhbmdlID0gcmVxdWlyZShcIi4vcmFuZ2VcIikuUmFuZ2U7XG5cbnZhciBTZWFyY2hIaWdobGlnaHQgPSBmdW5jdGlvbihyZWdFeHAsIGNsYXp6LCB0eXBlKSB7XG4gICAgdGhpcy5zZXRSZWdleHAocmVnRXhwKTtcbiAgICB0aGlzLmNsYXp6ID0gY2xheno7XG4gICAgdGhpcy50eXBlID0gdHlwZSB8fCBcInRleHRcIjtcbn07XG5cbihmdW5jdGlvbigpIHtcbiAgICB0aGlzLk1BWF9SQU5HRVMgPSA1MDA7XG4gICAgXG4gICAgdGhpcy5zZXRSZWdleHAgPSBmdW5jdGlvbihyZWdFeHApIHtcbiAgICAgICAgaWYgKHRoaXMucmVnRXhwK1wiXCIgPT0gcmVnRXhwK1wiXCIpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMucmVnRXhwID0gcmVnRXhwO1xuICAgICAgICB0aGlzLmNhY2hlID0gW107XG4gICAgfTtcblxuICAgIHRoaXMudXBkYXRlID0gZnVuY3Rpb24oaHRtbCwgbWFya2VyTGF5ZXIsIHNlc3Npb24sIGNvbmZpZykge1xuICAgICAgICBpZiAoIXRoaXMucmVnRXhwKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB2YXIgc3RhcnQgPSBjb25maWcuZmlyc3RSb3csIGVuZCA9IGNvbmZpZy5sYXN0Um93O1xuICAgICAgICB2YXIgcmVuZGVyZWRNYXJrZXJSYW5nZXMgPSB7fTtcblxuICAgICAgICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPD0gZW5kOyBpKyspIHtcbiAgICAgICAgICAgIHZhciByYW5nZXMgPSB0aGlzLmNhY2hlW2ldO1xuICAgICAgICAgICAgaWYgKHJhbmdlcyA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmFuZ2VzID0gbGFuZy5nZXRNYXRjaE9mZnNldHMoc2Vzc2lvbi5nZXRMaW5lKGkpLCB0aGlzLnJlZ0V4cCk7XG4gICAgICAgICAgICAgICAgaWYgKHJhbmdlcy5sZW5ndGggPiB0aGlzLk1BWF9SQU5HRVMpXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlcyA9IHJhbmdlcy5zbGljZSgwLCB0aGlzLk1BWF9SQU5HRVMpO1xuICAgICAgICAgICAgICAgIHJhbmdlcyA9IHJhbmdlcy5tYXAoZnVuY3Rpb24obWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShpLCBtYXRjaC5vZmZzZXQsIGksIG1hdGNoLm9mZnNldCArIG1hdGNoLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWNoZVtpXSA9IHJhbmdlcy5sZW5ndGggPyByYW5nZXMgOiBcIlwiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gcmFuZ2VzLmxlbmd0aDsgaiAtLTsgKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJhbmdlVG9BZGRNYXJrZXJUbyA9IHJhbmdlc1tqXS50b1NjcmVlblJhbmdlKHNlc3Npb24pO1xuICAgICAgICAgICAgICAgIHZhciByYW5nZUFzU3RyaW5nID0gcmFuZ2VUb0FkZE1hcmtlclRvLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlbmRlcmVkTWFya2VyUmFuZ2VzW3JhbmdlQXNTdHJpbmddKSBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgIHJlbmRlcmVkTWFya2VyUmFuZ2VzW3JhbmdlQXNTdHJpbmddID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBtYXJrZXJMYXllci5kcmF3U2luZ2xlTGluZU1hcmtlcihcbiAgICAgICAgICAgICAgICAgICAgaHRtbCwgcmFuZ2VUb0FkZE1hcmtlclRvLCB0aGlzLmNsYXp6LCBjb25maWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxufSkuY2FsbChTZWFyY2hIaWdobGlnaHQucHJvdG90eXBlKTtcblxuZXhwb3J0cy5TZWFyY2hIaWdobGlnaHQgPSBTZWFyY2hIaWdobGlnaHQ7XG59KTtcblxuYWNlLmRlZmluZShcImFjZS9lZGl0X3Nlc3Npb24vZm9sZF9saW5lXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvcmFuZ2VcIl0sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBSYW5nZSA9IHJlcXVpcmUoXCIuLi9yYW5nZVwiKS5SYW5nZTtcbmZ1bmN0aW9uIEZvbGRMaW5lKGZvbGREYXRhLCBmb2xkcykge1xuICAgIHRoaXMuZm9sZERhdGEgPSBmb2xkRGF0YTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmb2xkcykpIHtcbiAgICAgICAgdGhpcy5mb2xkcyA9IGZvbGRzO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvbGRzID0gdGhpcy5mb2xkcyA9IFsgZm9sZHMgXTtcbiAgICB9XG5cbiAgICB2YXIgbGFzdCA9IGZvbGRzW2ZvbGRzLmxlbmd0aCAtIDFdO1xuICAgIHRoaXMucmFuZ2UgPSBuZXcgUmFuZ2UoZm9sZHNbMF0uc3RhcnQucm93LCBmb2xkc1swXS5zdGFydC5jb2x1bW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0LmVuZC5yb3csIGxhc3QuZW5kLmNvbHVtbik7XG4gICAgdGhpcy5zdGFydCA9IHRoaXMucmFuZ2Uuc3RhcnQ7XG4gICAgdGhpcy5lbmQgICA9IHRoaXMucmFuZ2UuZW5kO1xuXG4gICAgdGhpcy5mb2xkcy5mb3JFYWNoKGZ1bmN0aW9uKGZvbGQpIHtcbiAgICAgICAgZm9sZC5zZXRGb2xkTGluZSh0aGlzKTtcbiAgICB9LCB0aGlzKTtcbn1cblxuKGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc2hpZnRSb3cgPSBmdW5jdGlvbihzaGlmdCkge1xuICAgICAgICB0aGlzLnN0YXJ0LnJvdyArPSBzaGlmdDtcbiAgICAgICAgdGhpcy5lbmQucm93ICs9IHNoaWZ0O1xuICAgICAgICB0aGlzLmZvbGRzLmZvckVhY2goZnVuY3Rpb24oZm9sZCkge1xuICAgICAgICAgICAgZm9sZC5zdGFydC5yb3cgKz0gc2hpZnQ7XG4gICAgICAgICAgICBmb2xkLmVuZC5yb3cgKz0gc2hpZnQ7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmFkZEZvbGQgPSBmdW5jdGlvbihmb2xkKSB7XG4gICAgICAgIGlmIChmb2xkLnNhbWVSb3cpIHtcbiAgICAgICAgICAgIGlmIChmb2xkLnN0YXJ0LnJvdyA8IHRoaXMuc3RhcnRSb3cgfHwgZm9sZC5lbmRSb3cgPiB0aGlzLmVuZFJvdykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbid0IGFkZCBhIGZvbGQgdG8gdGhpcyBGb2xkTGluZSBhcyBpdCBoYXMgbm8gY29ubmVjdGlvblwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZm9sZHMucHVzaChmb2xkKTtcbiAgICAgICAgICAgIHRoaXMuZm9sZHMuc29ydChmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC1hLnJhbmdlLmNvbXBhcmVFbmQoYi5zdGFydC5yb3csIGIuc3RhcnQuY29sdW1uKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHRoaXMucmFuZ2UuY29tcGFyZUVuZChmb2xkLnN0YXJ0LnJvdywgZm9sZC5zdGFydC5jb2x1bW4pID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW5kLnJvdyA9IGZvbGQuZW5kLnJvdztcbiAgICAgICAgICAgICAgICB0aGlzLmVuZC5jb2x1bW4gPSAgZm9sZC5lbmQuY29sdW1uO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnJhbmdlLmNvbXBhcmVTdGFydChmb2xkLmVuZC5yb3csIGZvbGQuZW5kLmNvbHVtbikgPCAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydC5yb3cgPSBmb2xkLnN0YXJ0LnJvdztcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0LmNvbHVtbiA9IGZvbGQuc3RhcnQuY29sdW1uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGZvbGQuc3RhcnQucm93ID09IHRoaXMuZW5kLnJvdykge1xuICAgICAgICAgICAgdGhpcy5mb2xkcy5wdXNoKGZvbGQpO1xuICAgICAgICAgICAgdGhpcy5lbmQucm93ID0gZm9sZC5lbmQucm93O1xuICAgICAgICAgICAgdGhpcy5lbmQuY29sdW1uID0gZm9sZC5lbmQuY29sdW1uO1xuICAgICAgICB9IGVsc2UgaWYgKGZvbGQuZW5kLnJvdyA9PSB0aGlzLnN0YXJ0LnJvdykge1xuICAgICAgICAgICAgdGhpcy5mb2xkcy51bnNoaWZ0KGZvbGQpO1xuICAgICAgICAgICAgdGhpcy5zdGFydC5yb3cgPSBmb2xkLnN0YXJ0LnJvdztcbiAgICAgICAgICAgIHRoaXMuc3RhcnQuY29sdW1uID0gZm9sZC5zdGFydC5jb2x1bW47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUcnlpbmcgdG8gYWRkIGZvbGQgdG8gRm9sZFJvdyB0aGF0IGRvZXNuJ3QgaGF2ZSBhIG1hdGNoaW5nIHJvd1wiKTtcbiAgICAgICAgfVxuICAgICAgICBmb2xkLmZvbGRMaW5lID0gdGhpcztcbiAgICB9O1xuXG4gICAgdGhpcy5jb250YWluc1JvdyA9IGZ1bmN0aW9uKHJvdykge1xuICAgICAgICByZXR1cm4gcm93ID49IHRoaXMuc3RhcnQucm93ICYmIHJvdyA8PSB0aGlzLmVuZC5yb3c7XG4gICAgfTtcblxuICAgIHRoaXMud2FsayA9IGZ1bmN0aW9uKGNhbGxiYWNrLCBlbmRSb3csIGVuZENvbHVtbikge1xuICAgICAgICB2YXIgbGFzdEVuZCA9IDAsXG4gICAgICAgICAgICBmb2xkcyA9IHRoaXMuZm9sZHMsXG4gICAgICAgICAgICBmb2xkLFxuICAgICAgICAgICAgY21wLCBzdG9wLCBpc05ld1JvdyA9IHRydWU7XG5cbiAgICAgICAgaWYgKGVuZFJvdyA9PSBudWxsKSB7XG4gICAgICAgICAgICBlbmRSb3cgPSB0aGlzLmVuZC5yb3c7XG4gICAgICAgICAgICBlbmRDb2x1bW4gPSB0aGlzLmVuZC5jb2x1bW47XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZvbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBmb2xkID0gZm9sZHNbaV07XG5cbiAgICAgICAgICAgIGNtcCA9IGZvbGQucmFuZ2UuY29tcGFyZVN0YXJ0KGVuZFJvdywgZW5kQ29sdW1uKTtcbiAgICAgICAgICAgIGlmIChjbXAgPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCBlbmRSb3csIGVuZENvbHVtbiwgbGFzdEVuZCwgaXNOZXdSb3cpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3RvcCA9IGNhbGxiYWNrKG51bGwsIGZvbGQuc3RhcnQucm93LCBmb2xkLnN0YXJ0LmNvbHVtbiwgbGFzdEVuZCwgaXNOZXdSb3cpO1xuICAgICAgICAgICAgc3RvcCA9ICFzdG9wICYmIGNhbGxiYWNrKGZvbGQucGxhY2Vob2xkZXIsIGZvbGQuc3RhcnQucm93LCBmb2xkLnN0YXJ0LmNvbHVtbiwgbGFzdEVuZCk7XG4gICAgICAgICAgICBpZiAoc3RvcCB8fCBjbXAgPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpc05ld1JvdyA9ICFmb2xkLnNhbWVSb3c7XG4gICAgICAgICAgICBsYXN0RW5kID0gZm9sZC5lbmQuY29sdW1uO1xuICAgICAgICB9XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIGVuZFJvdywgZW5kQ29sdW1uLCBsYXN0RW5kLCBpc05ld1Jvdyk7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0TmV4dEZvbGRUbyA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7XG4gICAgICAgIHZhciBmb2xkLCBjbXA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5mb2xkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZm9sZCA9IHRoaXMuZm9sZHNbaV07XG4gICAgICAgICAgICBjbXAgPSBmb2xkLnJhbmdlLmNvbXBhcmVFbmQocm93LCBjb2x1bW4pO1xuICAgICAgICAgICAgaWYgKGNtcCA9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGZvbGQ6IGZvbGQsXG4gICAgICAgICAgICAgICAgICAgIGtpbmQ6IFwiYWZ0ZXJcIlxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNtcCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGZvbGQ6IGZvbGQsXG4gICAgICAgICAgICAgICAgICAgIGtpbmQ6IFwiaW5zaWRlXCJcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG5cbiAgICB0aGlzLmFkZFJlbW92ZUNoYXJzID0gZnVuY3Rpb24ocm93LCBjb2x1bW4sIGxlbikge1xuICAgICAgICB2YXIgcmV0ID0gdGhpcy5nZXROZXh0Rm9sZFRvKHJvdywgY29sdW1uKSxcbiAgICAgICAgICAgIGZvbGQsIGZvbGRzO1xuICAgICAgICBpZiAocmV0KSB7XG4gICAgICAgICAgICBmb2xkID0gcmV0LmZvbGQ7XG4gICAgICAgICAgICBpZiAocmV0LmtpbmQgPT0gXCJpbnNpZGVcIlxuICAgICAgICAgICAgICAgICYmIGZvbGQuc3RhcnQuY29sdW1uICE9IGNvbHVtblxuICAgICAgICAgICAgICAgICYmIGZvbGQuc3RhcnQucm93ICE9IHJvdylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZSAmJiB3aW5kb3cuY29uc29sZS5sb2cocm93LCBjb2x1bW4sIGZvbGQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChmb2xkLnN0YXJ0LnJvdyA9PSByb3cpIHtcbiAgICAgICAgICAgICAgICBmb2xkcyA9IHRoaXMuZm9sZHM7XG4gICAgICAgICAgICAgICAgdmFyIGkgPSBmb2xkcy5pbmRleE9mKGZvbGQpO1xuICAgICAgICAgICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnQuY29sdW1uICs9IGxlbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChpOyBpIDwgZm9sZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZm9sZCA9IGZvbGRzW2ldO1xuICAgICAgICAgICAgICAgICAgICBmb2xkLnN0YXJ0LmNvbHVtbiArPSBsZW47XG4gICAgICAgICAgICAgICAgICAgIGlmICghZm9sZC5zYW1lUm93KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZm9sZC5lbmQuY29sdW1uICs9IGxlbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5lbmQuY29sdW1uICs9IGxlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLnNwbGl0ID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHtcbiAgICAgICAgdmFyIHBvcyA9IHRoaXMuZ2V0TmV4dEZvbGRUbyhyb3csIGNvbHVtbik7XG4gICAgICAgIFxuICAgICAgICBpZiAoIXBvcyB8fCBwb3Mua2luZCA9PSBcImluc2lkZVwiKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBcbiAgICAgICAgdmFyIGZvbGQgPSBwb3MuZm9sZDtcbiAgICAgICAgdmFyIGZvbGRzID0gdGhpcy5mb2xkcztcbiAgICAgICAgdmFyIGZvbGREYXRhID0gdGhpcy5mb2xkRGF0YTtcbiAgICAgICAgXG4gICAgICAgIHZhciBpID0gZm9sZHMuaW5kZXhPZihmb2xkKTtcbiAgICAgICAgdmFyIGZvbGRCZWZvcmUgPSBmb2xkc1tpIC0gMV07XG4gICAgICAgIHRoaXMuZW5kLnJvdyA9IGZvbGRCZWZvcmUuZW5kLnJvdztcbiAgICAgICAgdGhpcy5lbmQuY29sdW1uID0gZm9sZEJlZm9yZS5lbmQuY29sdW1uO1xuICAgICAgICBmb2xkcyA9IGZvbGRzLnNwbGljZShpLCBmb2xkcy5sZW5ndGggLSBpKTtcblxuICAgICAgICB2YXIgbmV3Rm9sZExpbmUgPSBuZXcgRm9sZExpbmUoZm9sZERhdGEsIGZvbGRzKTtcbiAgICAgICAgZm9sZERhdGEuc3BsaWNlKGZvbGREYXRhLmluZGV4T2YodGhpcykgKyAxLCAwLCBuZXdGb2xkTGluZSk7XG4gICAgICAgIHJldHVybiBuZXdGb2xkTGluZTtcbiAgICB9O1xuXG4gICAgdGhpcy5tZXJnZSA9IGZ1bmN0aW9uKGZvbGRMaW5lTmV4dCkge1xuICAgICAgICB2YXIgZm9sZHMgPSBmb2xkTGluZU5leHQuZm9sZHM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm9sZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuYWRkRm9sZChmb2xkc1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZvbGREYXRhID0gdGhpcy5mb2xkRGF0YTtcbiAgICAgICAgZm9sZERhdGEuc3BsaWNlKGZvbGREYXRhLmluZGV4T2YoZm9sZExpbmVOZXh0KSwgMSk7XG4gICAgfTtcblxuICAgIHRoaXMudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJldCA9IFt0aGlzLnJhbmdlLnRvU3RyaW5nKCkgKyBcIjogW1wiIF07XG5cbiAgICAgICAgdGhpcy5mb2xkcy5mb3JFYWNoKGZ1bmN0aW9uKGZvbGQpIHtcbiAgICAgICAgICAgIHJldC5wdXNoKFwiICBcIiArIGZvbGQudG9TdHJpbmcoKSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXQucHVzaChcIl1cIik7XG4gICAgICAgIHJldHVybiByZXQuam9pbihcIlxcblwiKTtcbiAgICB9O1xuXG4gICAgdGhpcy5pZHhUb1Bvc2l0aW9uID0gZnVuY3Rpb24oaWR4KSB7XG4gICAgICAgIHZhciBsYXN0Rm9sZEVuZENvbHVtbiA9IDA7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmZvbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZm9sZCA9IHRoaXMuZm9sZHNbaV07XG5cbiAgICAgICAgICAgIGlkeCAtPSBmb2xkLnN0YXJ0LmNvbHVtbiAtIGxhc3RGb2xkRW5kQ29sdW1uO1xuICAgICAgICAgICAgaWYgKGlkeCA8IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICByb3c6IGZvbGQuc3RhcnQucm93LFxuICAgICAgICAgICAgICAgICAgICBjb2x1bW46IGZvbGQuc3RhcnQuY29sdW1uICsgaWR4XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWR4IC09IGZvbGQucGxhY2Vob2xkZXIubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGlkeCA8IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm9sZC5zdGFydDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGFzdEZvbGRFbmRDb2x1bW4gPSBmb2xkLmVuZC5jb2x1bW47XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcm93OiB0aGlzLmVuZC5yb3csXG4gICAgICAgICAgICBjb2x1bW46IHRoaXMuZW5kLmNvbHVtbiArIGlkeFxuICAgICAgICB9O1xuICAgIH07XG59KS5jYWxsKEZvbGRMaW5lLnByb3RvdHlwZSk7XG5cbmV4cG9ydHMuRm9sZExpbmUgPSBGb2xkTGluZTtcbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL3JhbmdlX2xpc3RcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9yYW5nZVwiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcbnZhciBSYW5nZSA9IHJlcXVpcmUoXCIuL3JhbmdlXCIpLlJhbmdlO1xudmFyIGNvbXBhcmVQb2ludHMgPSBSYW5nZS5jb21wYXJlUG9pbnRzO1xuXG52YXIgUmFuZ2VMaXN0ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5yYW5nZXMgPSBbXTtcbiAgICB0aGlzLiRiaWFzID0gMTtcbn07XG5cbihmdW5jdGlvbigpIHtcbiAgICB0aGlzLmNvbXBhcmVQb2ludHMgPSBjb21wYXJlUG9pbnRzO1xuXG4gICAgdGhpcy5wb2ludEluZGV4ID0gZnVuY3Rpb24ocG9zLCBleGNsdWRlRWRnZXMsIHN0YXJ0SW5kZXgpIHtcbiAgICAgICAgdmFyIGxpc3QgPSB0aGlzLnJhbmdlcztcblxuICAgICAgICBmb3IgKHZhciBpID0gc3RhcnRJbmRleCB8fCAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHJhbmdlID0gbGlzdFtpXTtcbiAgICAgICAgICAgIHZhciBjbXBFbmQgPSBjb21wYXJlUG9pbnRzKHBvcywgcmFuZ2UuZW5kKTtcbiAgICAgICAgICAgIGlmIChjbXBFbmQgPiAwKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgdmFyIGNtcFN0YXJ0ID0gY29tcGFyZVBvaW50cyhwb3MsIHJhbmdlLnN0YXJ0KTtcbiAgICAgICAgICAgIGlmIChjbXBFbmQgPT09IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIGV4Y2x1ZGVFZGdlcyAmJiBjbXBTdGFydCAhPT0gMCA/IC1pLTIgOiBpO1xuICAgICAgICAgICAgaWYgKGNtcFN0YXJ0ID4gMCB8fCAoY21wU3RhcnQgPT09IDAgJiYgIWV4Y2x1ZGVFZGdlcykpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG5cbiAgICAgICAgICAgIHJldHVybiAtaS0xO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAtaSAtIDE7XG4gICAgfTtcblxuICAgIHRoaXMuYWRkID0gZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgICAgdmFyIGV4Y2x1ZGVFZGdlcyA9ICFyYW5nZS5pc0VtcHR5KCk7XG4gICAgICAgIHZhciBzdGFydEluZGV4ID0gdGhpcy5wb2ludEluZGV4KHJhbmdlLnN0YXJ0LCBleGNsdWRlRWRnZXMpO1xuICAgICAgICBpZiAoc3RhcnRJbmRleCA8IDApXG4gICAgICAgICAgICBzdGFydEluZGV4ID0gLXN0YXJ0SW5kZXggLSAxO1xuXG4gICAgICAgIHZhciBlbmRJbmRleCA9IHRoaXMucG9pbnRJbmRleChyYW5nZS5lbmQsIGV4Y2x1ZGVFZGdlcywgc3RhcnRJbmRleCk7XG5cbiAgICAgICAgaWYgKGVuZEluZGV4IDwgMClcbiAgICAgICAgICAgIGVuZEluZGV4ID0gLWVuZEluZGV4IC0gMTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgZW5kSW5kZXgrKztcbiAgICAgICAgcmV0dXJuIHRoaXMucmFuZ2VzLnNwbGljZShzdGFydEluZGV4LCBlbmRJbmRleCAtIHN0YXJ0SW5kZXgsIHJhbmdlKTtcbiAgICB9O1xuXG4gICAgdGhpcy5hZGRMaXN0ID0gZnVuY3Rpb24obGlzdCkge1xuICAgICAgICB2YXIgcmVtb3ZlZCA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gbGlzdC5sZW5ndGg7IGktLTsgKSB7XG4gICAgICAgICAgICByZW1vdmVkLnB1c2guYXBwbHkocmVtb3ZlZCwgdGhpcy5hZGQobGlzdFtpXSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZW1vdmVkO1xuICAgIH07XG5cbiAgICB0aGlzLnN1YnN0cmFjdFBvaW50ID0gZnVuY3Rpb24ocG9zKSB7XG4gICAgICAgIHZhciBpID0gdGhpcy5wb2ludEluZGV4KHBvcyk7XG5cbiAgICAgICAgaWYgKGkgPj0gMClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJhbmdlcy5zcGxpY2UoaSwgMSk7XG4gICAgfTtcbiAgICB0aGlzLm1lcmdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByZW1vdmVkID0gW107XG4gICAgICAgIHZhciBsaXN0ID0gdGhpcy5yYW5nZXM7XG4gICAgICAgIFxuICAgICAgICBsaXN0ID0gbGlzdC5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBjb21wYXJlUG9pbnRzKGEuc3RhcnQsIGIuc3RhcnQpO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIHZhciBuZXh0ID0gbGlzdFswXSwgcmFuZ2U7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcmFuZ2UgPSBuZXh0O1xuICAgICAgICAgICAgbmV4dCA9IGxpc3RbaV07XG4gICAgICAgICAgICB2YXIgY21wID0gY29tcGFyZVBvaW50cyhyYW5nZS5lbmQsIG5leHQuc3RhcnQpO1xuICAgICAgICAgICAgaWYgKGNtcCA8IDApXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIGlmIChjbXAgPT0gMCAmJiAhcmFuZ2UuaXNFbXB0eSgpICYmICFuZXh0LmlzRW1wdHkoKSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgaWYgKGNvbXBhcmVQb2ludHMocmFuZ2UuZW5kLCBuZXh0LmVuZCkgPCAwKSB7XG4gICAgICAgICAgICAgICAgcmFuZ2UuZW5kLnJvdyA9IG5leHQuZW5kLnJvdztcbiAgICAgICAgICAgICAgICByYW5nZS5lbmQuY29sdW1uID0gbmV4dC5lbmQuY29sdW1uO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsaXN0LnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIHJlbW92ZWQucHVzaChuZXh0KTtcbiAgICAgICAgICAgIG5leHQgPSByYW5nZTtcbiAgICAgICAgICAgIGktLTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdGhpcy5yYW5nZXMgPSBsaXN0O1xuXG4gICAgICAgIHJldHVybiByZW1vdmVkO1xuICAgIH07XG5cbiAgICB0aGlzLmNvbnRhaW5zID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9pbnRJbmRleCh7cm93OiByb3csIGNvbHVtbjogY29sdW1ufSkgPj0gMDtcbiAgICB9O1xuXG4gICAgdGhpcy5jb250YWluc1BvaW50ID0gZnVuY3Rpb24ocG9zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBvaW50SW5kZXgocG9zKSA+PSAwO1xuICAgIH07XG5cbiAgICB0aGlzLnJhbmdlQXRQb2ludCA9IGZ1bmN0aW9uKHBvcykge1xuICAgICAgICB2YXIgaSA9IHRoaXMucG9pbnRJbmRleChwb3MpO1xuICAgICAgICBpZiAoaSA+PSAwKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmFuZ2VzW2ldO1xuICAgIH07XG5cblxuICAgIHRoaXMuY2xpcFJvd3MgPSBmdW5jdGlvbihzdGFydFJvdywgZW5kUm93KSB7XG4gICAgICAgIHZhciBsaXN0ID0gdGhpcy5yYW5nZXM7XG4gICAgICAgIGlmIChsaXN0WzBdLnN0YXJ0LnJvdyA+IGVuZFJvdyB8fCBsaXN0W2xpc3QubGVuZ3RoIC0gMV0uc3RhcnQucm93IDwgc3RhcnRSb3cpXG4gICAgICAgICAgICByZXR1cm4gW107XG5cbiAgICAgICAgdmFyIHN0YXJ0SW5kZXggPSB0aGlzLnBvaW50SW5kZXgoe3Jvdzogc3RhcnRSb3csIGNvbHVtbjogMH0pO1xuICAgICAgICBpZiAoc3RhcnRJbmRleCA8IDApXG4gICAgICAgICAgICBzdGFydEluZGV4ID0gLXN0YXJ0SW5kZXggLSAxO1xuICAgICAgICB2YXIgZW5kSW5kZXggPSB0aGlzLnBvaW50SW5kZXgoe3JvdzogZW5kUm93LCBjb2x1bW46IDB9LCBzdGFydEluZGV4KTtcbiAgICAgICAgaWYgKGVuZEluZGV4IDwgMClcbiAgICAgICAgICAgIGVuZEluZGV4ID0gLWVuZEluZGV4IC0gMTtcblxuICAgICAgICB2YXIgY2xpcHBlZCA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gc3RhcnRJbmRleDsgaSA8IGVuZEluZGV4OyBpKyspIHtcbiAgICAgICAgICAgIGNsaXBwZWQucHVzaChsaXN0W2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2xpcHBlZDtcbiAgICB9O1xuXG4gICAgdGhpcy5yZW1vdmVBbGwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmFuZ2VzLnNwbGljZSgwLCB0aGlzLnJhbmdlcy5sZW5ndGgpO1xuICAgIH07XG5cbiAgICB0aGlzLmF0dGFjaCA9IGZ1bmN0aW9uKHNlc3Npb24pIHtcbiAgICAgICAgaWYgKHRoaXMuc2Vzc2lvbilcbiAgICAgICAgICAgIHRoaXMuZGV0YWNoKCk7XG5cbiAgICAgICAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbiAgICAgICAgdGhpcy5vbkNoYW5nZSA9IHRoaXMuJG9uQ2hhbmdlLmJpbmQodGhpcyk7XG5cbiAgICAgICAgdGhpcy5zZXNzaW9uLm9uKCdjaGFuZ2UnLCB0aGlzLm9uQ2hhbmdlKTtcbiAgICB9O1xuXG4gICAgdGhpcy5kZXRhY2ggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNlc3Npb24pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMuc2Vzc2lvbi5yZW1vdmVMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5vbkNoYW5nZSk7XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IG51bGw7XG4gICAgfTtcblxuICAgIHRoaXMuJG9uQ2hhbmdlID0gZnVuY3Rpb24oZGVsdGEpIHtcbiAgICAgICAgdmFyIHN0YXJ0ID0gZGVsdGEuc3RhcnQ7XG4gICAgICAgIHZhciBlbmQgPSBkZWx0YS5lbmQ7XG4gICAgICAgIHZhciBzdGFydFJvdyA9IHN0YXJ0LnJvdztcbiAgICAgICAgdmFyIGVuZFJvdyA9IGVuZC5yb3c7XG4gICAgICAgIHZhciByYW5nZXMgPSB0aGlzLnJhbmdlcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIG4gPSByYW5nZXMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgciA9IHJhbmdlc1tpXTtcbiAgICAgICAgICAgIGlmIChyLmVuZC5yb3cgPj0gc3RhcnRSb3cpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmIChkZWx0YS5hY3Rpb24gPT0gXCJpbnNlcnRcIikge1xuICAgICAgICAgICAgdmFyIGxpbmVEaWYgPSBlbmRSb3cgLSBzdGFydFJvdztcbiAgICAgICAgICAgIHZhciBjb2xEaWZmID0gLXN0YXJ0LmNvbHVtbiArIGVuZC5jb2x1bW47XG4gICAgICAgICAgICBmb3IgKDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciByID0gcmFuZ2VzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChyLnN0YXJ0LnJvdyA+IHN0YXJ0Um93KVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICBcbiAgICAgICAgICAgICAgICBpZiAoci5zdGFydC5yb3cgPT0gc3RhcnRSb3cgJiYgci5zdGFydC5jb2x1bW4gPj0gc3RhcnQuY29sdW1uKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyLnN0YXJ0LmNvbHVtbiA9PSBzdGFydC5jb2x1bW4gJiYgdGhpcy4kYmlhcyA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByLnN0YXJ0LmNvbHVtbiArPSBjb2xEaWZmO1xuICAgICAgICAgICAgICAgICAgICAgICAgci5zdGFydC5yb3cgKz0gbGluZURpZjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoci5lbmQucm93ID09IHN0YXJ0Um93ICYmIHIuZW5kLmNvbHVtbiA+PSBzdGFydC5jb2x1bW4pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHIuZW5kLmNvbHVtbiA9PSBzdGFydC5jb2x1bW4gJiYgdGhpcy4kYmlhcyA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChyLmVuZC5jb2x1bW4gPT0gc3RhcnQuY29sdW1uICYmIGNvbERpZmYgPiAwICYmIGkgPCBuIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHIuZW5kLmNvbHVtbiA+IHIuc3RhcnQuY29sdW1uICYmIHIuZW5kLmNvbHVtbiA9PSByYW5nZXNbaSsxXS5zdGFydC5jb2x1bW4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgci5lbmQuY29sdW1uIC09IGNvbERpZmY7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgci5lbmQuY29sdW1uICs9IGNvbERpZmY7XG4gICAgICAgICAgICAgICAgICAgIHIuZW5kLnJvdyArPSBsaW5lRGlmO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBsaW5lRGlmID0gc3RhcnRSb3cgLSBlbmRSb3c7XG4gICAgICAgICAgICB2YXIgY29sRGlmZiA9IHN0YXJ0LmNvbHVtbiAtIGVuZC5jb2x1bW47XG4gICAgICAgICAgICBmb3IgKDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciByID0gcmFuZ2VzW2ldO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChyLnN0YXJ0LnJvdyA+IGVuZFJvdylcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChyLmVuZC5yb3cgPCBlbmRSb3dcbiAgICAgICAgICAgICAgICAgICAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRSb3cgPCByLmVuZC5yb3cgXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBzdGFydFJvdyA9PSByLmVuZC5yb3cgJiYgc3RhcnQuY29sdW1uIDwgci5lbmQuY29sdW1uXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgci5lbmQucm93ID0gc3RhcnRSb3c7XG4gICAgICAgICAgICAgICAgICAgIHIuZW5kLmNvbHVtbiA9IHN0YXJ0LmNvbHVtbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoci5lbmQucm93ID09IGVuZFJvdykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoci5lbmQuY29sdW1uIDw9IGVuZC5jb2x1bW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaW5lRGlmIHx8IHIuZW5kLmNvbHVtbiA+IHN0YXJ0LmNvbHVtbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIuZW5kLmNvbHVtbiA9IHN0YXJ0LmNvbHVtbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByLmVuZC5yb3cgPSBzdGFydC5yb3c7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByLmVuZC5jb2x1bW4gKz0gY29sRGlmZjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHIuZW5kLnJvdyArPSBsaW5lRGlmO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHIuZW5kLnJvdyA+IGVuZFJvdykge1xuICAgICAgICAgICAgICAgICAgICByLmVuZC5yb3cgKz0gbGluZURpZjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKHIuc3RhcnQucm93IDwgZW5kUm93XG4gICAgICAgICAgICAgICAgICAgICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0Um93IDwgci5zdGFydC5yb3cgXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBzdGFydFJvdyA9PSByLnN0YXJ0LnJvdyAmJiBzdGFydC5jb2x1bW4gPCByLnN0YXJ0LmNvbHVtblxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHIuc3RhcnQucm93ID0gc3RhcnRSb3c7XG4gICAgICAgICAgICAgICAgICAgIHIuc3RhcnQuY29sdW1uID0gc3RhcnQuY29sdW1uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChyLnN0YXJ0LnJvdyA9PSBlbmRSb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHIuc3RhcnQuY29sdW1uIDw9IGVuZC5jb2x1bW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaW5lRGlmIHx8IHIuc3RhcnQuY29sdW1uID4gc3RhcnQuY29sdW1uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgci5zdGFydC5jb2x1bW4gPSBzdGFydC5jb2x1bW47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgci5zdGFydC5yb3cgPSBzdGFydC5yb3c7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByLnN0YXJ0LmNvbHVtbiArPSBjb2xEaWZmO1xuICAgICAgICAgICAgICAgICAgICAgICAgci5zdGFydC5yb3cgKz0gbGluZURpZjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChyLnN0YXJ0LnJvdyA+IGVuZFJvdykge1xuICAgICAgICAgICAgICAgICAgICByLnN0YXJ0LnJvdyArPSBsaW5lRGlmO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsaW5lRGlmICE9IDAgJiYgaSA8IG4pIHtcbiAgICAgICAgICAgIGZvciAoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHIgPSByYW5nZXNbaV07XG4gICAgICAgICAgICAgICAgci5zdGFydC5yb3cgKz0gbGluZURpZjtcbiAgICAgICAgICAgICAgICByLmVuZC5yb3cgKz0gbGluZURpZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbn0pLmNhbGwoUmFuZ2VMaXN0LnByb3RvdHlwZSk7XG5cbmV4cG9ydHMuUmFuZ2VMaXN0ID0gUmFuZ2VMaXN0O1xufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvZWRpdF9zZXNzaW9uL2ZvbGRcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9yYW5nZV9saXN0XCIsXCJhY2UvbGliL29vcFwiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIFJhbmdlTGlzdCA9IHJlcXVpcmUoXCIuLi9yYW5nZV9saXN0XCIpLlJhbmdlTGlzdDtcbnZhciBvb3AgPSByZXF1aXJlKFwiLi4vbGliL29vcFwiKTtcbnZhciBGb2xkID0gZXhwb3J0cy5Gb2xkID0gZnVuY3Rpb24ocmFuZ2UsIHBsYWNlaG9sZGVyKSB7XG4gICAgdGhpcy5mb2xkTGluZSA9IG51bGw7XG4gICAgdGhpcy5wbGFjZWhvbGRlciA9IHBsYWNlaG9sZGVyO1xuICAgIHRoaXMucmFuZ2UgPSByYW5nZTtcbiAgICB0aGlzLnN0YXJ0ID0gcmFuZ2Uuc3RhcnQ7XG4gICAgdGhpcy5lbmQgPSByYW5nZS5lbmQ7XG5cbiAgICB0aGlzLnNhbWVSb3cgPSByYW5nZS5zdGFydC5yb3cgPT0gcmFuZ2UuZW5kLnJvdztcbiAgICB0aGlzLnN1YkZvbGRzID0gdGhpcy5yYW5nZXMgPSBbXTtcbn07XG5cbm9vcC5pbmhlcml0cyhGb2xkLCBSYW5nZUxpc3QpO1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICB0aGlzLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAnXCInICsgdGhpcy5wbGFjZWhvbGRlciArICdcIiAnICsgdGhpcy5yYW5nZS50b1N0cmluZygpO1xuICAgIH07XG5cbiAgICB0aGlzLnNldEZvbGRMaW5lID0gZnVuY3Rpb24oZm9sZExpbmUpIHtcbiAgICAgICAgdGhpcy5mb2xkTGluZSA9IGZvbGRMaW5lO1xuICAgICAgICB0aGlzLnN1YkZvbGRzLmZvckVhY2goZnVuY3Rpb24oZm9sZCkge1xuICAgICAgICAgICAgZm9sZC5zZXRGb2xkTGluZShmb2xkTGluZSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByYW5nZSA9IHRoaXMucmFuZ2UuY2xvbmUoKTtcbiAgICAgICAgdmFyIGZvbGQgPSBuZXcgRm9sZChyYW5nZSwgdGhpcy5wbGFjZWhvbGRlcik7XG4gICAgICAgIHRoaXMuc3ViRm9sZHMuZm9yRWFjaChmdW5jdGlvbihzdWJGb2xkKSB7XG4gICAgICAgICAgICBmb2xkLnN1YkZvbGRzLnB1c2goc3ViRm9sZC5jbG9uZSgpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGZvbGQuY29sbGFwc2VDaGlsZHJlbiA9IHRoaXMuY29sbGFwc2VDaGlsZHJlbjtcbiAgICAgICAgcmV0dXJuIGZvbGQ7XG4gICAgfTtcblxuICAgIHRoaXMuYWRkU3ViRm9sZCA9IGZ1bmN0aW9uKGZvbGQpIHtcbiAgICAgICAgaWYgKHRoaXMucmFuZ2UuaXNFcXVhbChmb2xkKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3VtZVJhbmdlKGZvbGQsIHRoaXMuc3RhcnQpO1xuXG4gICAgICAgIHZhciByb3cgPSBmb2xkLnN0YXJ0LnJvdywgY29sdW1uID0gZm9sZC5zdGFydC5jb2x1bW47XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBjbXAgPSAtMTsgaSA8IHRoaXMuc3ViRm9sZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNtcCA9IHRoaXMuc3ViRm9sZHNbaV0ucmFuZ2UuY29tcGFyZShyb3csIGNvbHVtbik7XG4gICAgICAgICAgICBpZiAoY21wICE9IDEpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFmdGVyU3RhcnQgPSB0aGlzLnN1YkZvbGRzW2ldO1xuICAgICAgICB2YXIgZmlyc3RDb25zdW1lZCA9IDA7XG5cbiAgICAgICAgaWYgKGNtcCA9PSAwKSB7XG4gICAgICAgICAgICBpZiAoYWZ0ZXJTdGFydC5yYW5nZS5jb250YWluc1JhbmdlKGZvbGQpKVxuICAgICAgICAgICAgICAgIHJldHVybiBhZnRlclN0YXJ0LmFkZFN1YkZvbGQoZm9sZCk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgZmlyc3RDb25zdW1lZCA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJvdyA9IGZvbGQucmFuZ2UuZW5kLnJvdywgY29sdW1uID0gZm9sZC5yYW5nZS5lbmQuY29sdW1uO1xuICAgICAgICBmb3IgKHZhciBqID0gaSwgY21wID0gLTE7IGogPCB0aGlzLnN1YkZvbGRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBjbXAgPSB0aGlzLnN1YkZvbGRzW2pdLnJhbmdlLmNvbXBhcmUocm93LCBjb2x1bW4pO1xuICAgICAgICAgICAgaWYgKGNtcCAhPSAxKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjbXAgPT0gMCkgIGorKztcbiAgICAgICAgdmFyIGNvbnN1bWVkRm9sZHMgPSB0aGlzLnN1YkZvbGRzLnNwbGljZShpLCBqIC0gaSwgZm9sZCk7XG4gICAgICAgIHZhciBsYXN0ID0gY21wID09IDAgPyBjb25zdW1lZEZvbGRzLmxlbmd0aCAtIDEgOiBjb25zdW1lZEZvbGRzLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgayA9IGZpcnN0Q29uc3VtZWQ7IGsgPCBsYXN0OyBrKyspIHtcbiAgICAgICAgICAgIGZvbGQuYWRkU3ViRm9sZChjb25zdW1lZEZvbGRzW2tdKTtcbiAgICAgICAgfVxuICAgICAgICBmb2xkLnNldEZvbGRMaW5lKHRoaXMuZm9sZExpbmUpO1xuXG4gICAgICAgIHJldHVybiBmb2xkO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5yZXN0b3JlUmFuZ2UgPSBmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICByZXR1cm4gcmVzdG9yZVJhbmdlKHJhbmdlLCB0aGlzLnN0YXJ0KTtcbiAgICB9O1xuXG59KS5jYWxsKEZvbGQucHJvdG90eXBlKTtcblxuZnVuY3Rpb24gY29uc3VtZVBvaW50KHBvaW50LCBhbmNob3IpIHtcbiAgICBwb2ludC5yb3cgLT0gYW5jaG9yLnJvdztcbiAgICBpZiAocG9pbnQucm93ID09IDApXG4gICAgICAgIHBvaW50LmNvbHVtbiAtPSBhbmNob3IuY29sdW1uO1xufVxuZnVuY3Rpb24gY29uc3VtZVJhbmdlKHJhbmdlLCBhbmNob3IpIHtcbiAgICBjb25zdW1lUG9pbnQocmFuZ2Uuc3RhcnQsIGFuY2hvcik7XG4gICAgY29uc3VtZVBvaW50KHJhbmdlLmVuZCwgYW5jaG9yKTtcbn1cbmZ1bmN0aW9uIHJlc3RvcmVQb2ludChwb2ludCwgYW5jaG9yKSB7XG4gICAgaWYgKHBvaW50LnJvdyA9PSAwKVxuICAgICAgICBwb2ludC5jb2x1bW4gKz0gYW5jaG9yLmNvbHVtbjtcbiAgICBwb2ludC5yb3cgKz0gYW5jaG9yLnJvdztcbn1cbmZ1bmN0aW9uIHJlc3RvcmVSYW5nZShyYW5nZSwgYW5jaG9yKSB7XG4gICAgcmVzdG9yZVBvaW50KHJhbmdlLnN0YXJ0LCBhbmNob3IpO1xuICAgIHJlc3RvcmVQb2ludChyYW5nZS5lbmQsIGFuY2hvcik7XG59XG5cbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL2VkaXRfc2Vzc2lvbi9mb2xkaW5nXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvcmFuZ2VcIixcImFjZS9lZGl0X3Nlc3Npb24vZm9sZF9saW5lXCIsXCJhY2UvZWRpdF9zZXNzaW9uL2ZvbGRcIixcImFjZS90b2tlbl9pdGVyYXRvclwiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIFJhbmdlID0gcmVxdWlyZShcIi4uL3JhbmdlXCIpLlJhbmdlO1xudmFyIEZvbGRMaW5lID0gcmVxdWlyZShcIi4vZm9sZF9saW5lXCIpLkZvbGRMaW5lO1xudmFyIEZvbGQgPSByZXF1aXJlKFwiLi9mb2xkXCIpLkZvbGQ7XG52YXIgVG9rZW5JdGVyYXRvciA9IHJlcXVpcmUoXCIuLi90b2tlbl9pdGVyYXRvclwiKS5Ub2tlbkl0ZXJhdG9yO1xuXG5mdW5jdGlvbiBGb2xkaW5nKCkge1xuICAgIHRoaXMuZ2V0Rm9sZEF0ID0gZnVuY3Rpb24ocm93LCBjb2x1bW4sIHNpZGUpIHtcbiAgICAgICAgdmFyIGZvbGRMaW5lID0gdGhpcy5nZXRGb2xkTGluZShyb3cpO1xuICAgICAgICBpZiAoIWZvbGRMaW5lKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgdmFyIGZvbGRzID0gZm9sZExpbmUuZm9sZHM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm9sZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciByYW5nZSA9IGZvbGRzW2ldLnJhbmdlO1xuICAgICAgICAgICAgaWYgKHJhbmdlLmNvbnRhaW5zKHJvdywgY29sdW1uKSkge1xuICAgICAgICAgICAgICAgIGlmIChzaWRlID09IDEgJiYgcmFuZ2UuaXNFbmQocm93LCBjb2x1bW4pICYmICFyYW5nZS5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzaWRlID09IC0xICYmIHJhbmdlLmlzU3RhcnQocm93LCBjb2x1bW4pICYmICFyYW5nZS5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBmb2xkc1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5nZXRGb2xkc0luUmFuZ2UgPSBmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICB2YXIgc3RhcnQgPSByYW5nZS5zdGFydDtcbiAgICAgICAgdmFyIGVuZCA9IHJhbmdlLmVuZDtcbiAgICAgICAgdmFyIGZvbGRMaW5lcyA9IHRoaXMuJGZvbGREYXRhO1xuICAgICAgICB2YXIgZm91bmRGb2xkcyA9IFtdO1xuXG4gICAgICAgIHN0YXJ0LmNvbHVtbiArPSAxO1xuICAgICAgICBlbmQuY29sdW1uIC09IDE7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmb2xkTGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjbXAgPSBmb2xkTGluZXNbaV0ucmFuZ2UuY29tcGFyZVJhbmdlKHJhbmdlKTtcbiAgICAgICAgICAgIGlmIChjbXAgPT0gMikge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY21wID09IC0yKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBmb2xkcyA9IGZvbGRMaW5lc1tpXS5mb2xkcztcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZm9sZHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZm9sZCA9IGZvbGRzW2pdO1xuICAgICAgICAgICAgICAgIGNtcCA9IGZvbGQucmFuZ2UuY29tcGFyZVJhbmdlKHJhbmdlKTtcbiAgICAgICAgICAgICAgICBpZiAoY21wID09IC0yKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY21wID09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgICAgaWYgKGNtcCA9PSA0Mikge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm91bmRGb2xkcy5wdXNoKGZvbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN0YXJ0LmNvbHVtbiAtPSAxO1xuICAgICAgICBlbmQuY29sdW1uICs9IDE7XG5cbiAgICAgICAgcmV0dXJuIGZvdW5kRm9sZHM7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0Rm9sZHNJblJhbmdlTGlzdCA9IGZ1bmN0aW9uKHJhbmdlcykge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShyYW5nZXMpKSB7XG4gICAgICAgICAgICB2YXIgZm9sZHMgPSBbXTtcbiAgICAgICAgICAgIHJhbmdlcy5mb3JFYWNoKGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgICAgICAgICAgZm9sZHMgPSBmb2xkcy5jb25jYXQodGhpcy5nZXRGb2xkc0luUmFuZ2UocmFuZ2UpKTtcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGZvbGRzID0gdGhpcy5nZXRGb2xkc0luUmFuZ2UocmFuZ2VzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm9sZHM7XG4gICAgfTtcbiAgICB0aGlzLmdldEFsbEZvbGRzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBmb2xkcyA9IFtdO1xuICAgICAgICB2YXIgZm9sZExpbmVzID0gdGhpcy4kZm9sZERhdGE7XG4gICAgICAgIFxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZvbGRMaW5lcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZm9sZExpbmVzW2ldLmZvbGRzLmxlbmd0aDsgaisrKVxuICAgICAgICAgICAgICAgIGZvbGRzLnB1c2goZm9sZExpbmVzW2ldLmZvbGRzW2pdKTtcblxuICAgICAgICByZXR1cm4gZm9sZHM7XG4gICAgfTtcbiAgICB0aGlzLmdldEZvbGRTdHJpbmdBdCA9IGZ1bmN0aW9uKHJvdywgY29sdW1uLCB0cmltLCBmb2xkTGluZSkge1xuICAgICAgICBmb2xkTGluZSA9IGZvbGRMaW5lIHx8IHRoaXMuZ2V0Rm9sZExpbmUocm93KTtcbiAgICAgICAgaWYgKCFmb2xkTGluZSlcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuXG4gICAgICAgIHZhciBsYXN0Rm9sZCA9IHtcbiAgICAgICAgICAgIGVuZDogeyBjb2x1bW46IDAgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgc3RyLCBmb2xkO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZvbGRMaW5lLmZvbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBmb2xkID0gZm9sZExpbmUuZm9sZHNbaV07XG4gICAgICAgICAgICB2YXIgY21wID0gZm9sZC5yYW5nZS5jb21wYXJlRW5kKHJvdywgY29sdW1uKTtcbiAgICAgICAgICAgIGlmIChjbXAgPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBzdHIgPSB0aGlzXG4gICAgICAgICAgICAgICAgICAgIC5nZXRMaW5lKGZvbGQuc3RhcnQucm93KVxuICAgICAgICAgICAgICAgICAgICAuc3Vic3RyaW5nKGxhc3RGb2xkLmVuZC5jb2x1bW4sIGZvbGQuc3RhcnQuY29sdW1uKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNtcCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGFzdEZvbGQgPSBmb2xkO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc3RyKVxuICAgICAgICAgICAgc3RyID0gdGhpcy5nZXRMaW5lKGZvbGQuc3RhcnQucm93KS5zdWJzdHJpbmcobGFzdEZvbGQuZW5kLmNvbHVtbik7XG5cbiAgICAgICAgaWYgKHRyaW0gPT0gLTEpXG4gICAgICAgICAgICByZXR1cm4gc3RyLnN1YnN0cmluZygwLCBjb2x1bW4gLSBsYXN0Rm9sZC5lbmQuY29sdW1uKTtcbiAgICAgICAgZWxzZSBpZiAodHJpbSA9PSAxKVxuICAgICAgICAgICAgcmV0dXJuIHN0ci5zdWJzdHJpbmcoY29sdW1uIC0gbGFzdEZvbGQuZW5kLmNvbHVtbik7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJldHVybiBzdHI7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0Rm9sZExpbmUgPSBmdW5jdGlvbihkb2NSb3csIHN0YXJ0Rm9sZExpbmUpIHtcbiAgICAgICAgdmFyIGZvbGREYXRhID0gdGhpcy4kZm9sZERhdGE7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgaWYgKHN0YXJ0Rm9sZExpbmUpXG4gICAgICAgICAgICBpID0gZm9sZERhdGEuaW5kZXhPZihzdGFydEZvbGRMaW5lKTtcbiAgICAgICAgaWYgKGkgPT0gLTEpXG4gICAgICAgICAgICBpID0gMDtcbiAgICAgICAgZm9yIChpOyBpIDwgZm9sZERhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBmb2xkTGluZSA9IGZvbGREYXRhW2ldO1xuICAgICAgICAgICAgaWYgKGZvbGRMaW5lLnN0YXJ0LnJvdyA8PSBkb2NSb3cgJiYgZm9sZExpbmUuZW5kLnJvdyA+PSBkb2NSb3cpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm9sZExpbmU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGZvbGRMaW5lLmVuZC5yb3cgPiBkb2NSb3cpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIHRoaXMuZ2V0TmV4dEZvbGRMaW5lID0gZnVuY3Rpb24oZG9jUm93LCBzdGFydEZvbGRMaW5lKSB7XG4gICAgICAgIHZhciBmb2xkRGF0YSA9IHRoaXMuJGZvbGREYXRhO1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIGlmIChzdGFydEZvbGRMaW5lKVxuICAgICAgICAgICAgaSA9IGZvbGREYXRhLmluZGV4T2Yoc3RhcnRGb2xkTGluZSk7XG4gICAgICAgIGlmIChpID09IC0xKVxuICAgICAgICAgICAgaSA9IDA7XG4gICAgICAgIGZvciAoaTsgaSA8IGZvbGREYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZm9sZExpbmUgPSBmb2xkRGF0YVtpXTtcbiAgICAgICAgICAgIGlmIChmb2xkTGluZS5lbmQucm93ID49IGRvY1Jvdykge1xuICAgICAgICAgICAgICAgIHJldHVybiBmb2xkTGluZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRGb2xkZWRSb3dDb3VudCA9IGZ1bmN0aW9uKGZpcnN0LCBsYXN0KSB7XG4gICAgICAgIHZhciBmb2xkRGF0YSA9IHRoaXMuJGZvbGREYXRhLCByb3dDb3VudCA9IGxhc3QtZmlyc3QrMTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmb2xkRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGZvbGRMaW5lID0gZm9sZERhdGFbaV0sXG4gICAgICAgICAgICAgICAgZW5kID0gZm9sZExpbmUuZW5kLnJvdyxcbiAgICAgICAgICAgICAgICBzdGFydCA9IGZvbGRMaW5lLnN0YXJ0LnJvdztcbiAgICAgICAgICAgIGlmIChlbmQgPj0gbGFzdCkge1xuICAgICAgICAgICAgICAgIGlmIChzdGFydCA8IGxhc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0ID49IGZpcnN0KVxuICAgICAgICAgICAgICAgICAgICAgICAgcm93Q291bnQgLT0gbGFzdC1zdGFydDtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgcm93Q291bnQgPSAwOyAvLyBpbiBvbmUgZm9sZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZW5kID49IGZpcnN0KXtcbiAgICAgICAgICAgICAgICBpZiAoc3RhcnQgPj0gZmlyc3QpIC8vIGZvbGQgaW5zaWRlIHJhbmdlXG4gICAgICAgICAgICAgICAgICAgIHJvd0NvdW50IC09ICBlbmQtc3RhcnQ7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICByb3dDb3VudCAtPSAgZW5kLWZpcnN0KzE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJvd0NvdW50O1xuICAgIH07XG5cbiAgICB0aGlzLiRhZGRGb2xkTGluZSA9IGZ1bmN0aW9uKGZvbGRMaW5lKSB7XG4gICAgICAgIHRoaXMuJGZvbGREYXRhLnB1c2goZm9sZExpbmUpO1xuICAgICAgICB0aGlzLiRmb2xkRGF0YS5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBhLnN0YXJ0LnJvdyAtIGIuc3RhcnQucm93O1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZvbGRMaW5lO1xuICAgIH07XG4gICAgdGhpcy5hZGRGb2xkID0gZnVuY3Rpb24ocGxhY2Vob2xkZXIsIHJhbmdlKSB7XG4gICAgICAgIHZhciBmb2xkRGF0YSA9IHRoaXMuJGZvbGREYXRhO1xuICAgICAgICB2YXIgYWRkZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGZvbGQ7XG4gICAgICAgIFxuICAgICAgICBpZiAocGxhY2Vob2xkZXIgaW5zdGFuY2VvZiBGb2xkKVxuICAgICAgICAgICAgZm9sZCA9IHBsYWNlaG9sZGVyO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvbGQgPSBuZXcgRm9sZChyYW5nZSwgcGxhY2Vob2xkZXIpO1xuICAgICAgICAgICAgZm9sZC5jb2xsYXBzZUNoaWxkcmVuID0gcmFuZ2UuY29sbGFwc2VDaGlsZHJlbjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiRjbGlwUmFuZ2VUb0RvY3VtZW50KGZvbGQucmFuZ2UpO1xuXG4gICAgICAgIHZhciBzdGFydFJvdyA9IGZvbGQuc3RhcnQucm93O1xuICAgICAgICB2YXIgc3RhcnRDb2x1bW4gPSBmb2xkLnN0YXJ0LmNvbHVtbjtcbiAgICAgICAgdmFyIGVuZFJvdyA9IGZvbGQuZW5kLnJvdztcbiAgICAgICAgdmFyIGVuZENvbHVtbiA9IGZvbGQuZW5kLmNvbHVtbjtcblxuICAgICAgICB2YXIgc3RhcnRGb2xkID0gdGhpcy5nZXRGb2xkQXQoc3RhcnRSb3csIHN0YXJ0Q29sdW1uLCAxKTtcbiAgICAgICAgdmFyIGVuZEZvbGQgPSB0aGlzLmdldEZvbGRBdChlbmRSb3csIGVuZENvbHVtbiwgLTEpO1xuICAgICAgICBpZiAoc3RhcnRGb2xkICYmIGVuZEZvbGQgPT0gc3RhcnRGb2xkKVxuICAgICAgICAgICAgcmV0dXJuIHN0YXJ0Rm9sZC5hZGRTdWJGb2xkKGZvbGQpO1xuXG4gICAgICAgIGlmIChzdGFydEZvbGQgJiYgIXN0YXJ0Rm9sZC5yYW5nZS5pc1N0YXJ0KHN0YXJ0Um93LCBzdGFydENvbHVtbikpXG4gICAgICAgICAgICB0aGlzLnJlbW92ZUZvbGQoc3RhcnRGb2xkKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChlbmRGb2xkICYmICFlbmRGb2xkLnJhbmdlLmlzRW5kKGVuZFJvdywgZW5kQ29sdW1uKSlcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlRm9sZChlbmRGb2xkKTtcbiAgICAgICAgdmFyIGZvbGRzID0gdGhpcy5nZXRGb2xkc0luUmFuZ2UoZm9sZC5yYW5nZSk7XG4gICAgICAgIGlmIChmb2xkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUZvbGRzKGZvbGRzKTtcbiAgICAgICAgICAgIGlmICghZm9sZC5jb2xsYXBzZUNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgZm9sZHMuZm9yRWFjaChmdW5jdGlvbihzdWJGb2xkKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvbGQuYWRkU3ViRm9sZChzdWJGb2xkKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm9sZERhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBmb2xkTGluZSA9IGZvbGREYXRhW2ldO1xuICAgICAgICAgICAgaWYgKGVuZFJvdyA9PSBmb2xkTGluZS5zdGFydC5yb3cpIHtcbiAgICAgICAgICAgICAgICBmb2xkTGluZS5hZGRGb2xkKGZvbGQpO1xuICAgICAgICAgICAgICAgIGFkZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RhcnRSb3cgPT0gZm9sZExpbmUuZW5kLnJvdykge1xuICAgICAgICAgICAgICAgIGZvbGRMaW5lLmFkZEZvbGQoZm9sZCk7XG4gICAgICAgICAgICAgICAgYWRkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmICghZm9sZC5zYW1lUm93KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmb2xkTGluZU5leHQgPSBmb2xkRGF0YVtpICsgMV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChmb2xkTGluZU5leHQgJiYgZm9sZExpbmVOZXh0LnN0YXJ0LnJvdyA9PSBlbmRSb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbGRMaW5lLm1lcmdlKGZvbGRMaW5lTmV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZW5kUm93IDw9IGZvbGRMaW5lLnN0YXJ0LnJvdykge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFhZGRlZClcbiAgICAgICAgICAgIGZvbGRMaW5lID0gdGhpcy4kYWRkRm9sZExpbmUobmV3IEZvbGRMaW5lKHRoaXMuJGZvbGREYXRhLCBmb2xkKSk7XG5cbiAgICAgICAgaWYgKHRoaXMuJHVzZVdyYXBNb2RlKVxuICAgICAgICAgICAgdGhpcy4kdXBkYXRlV3JhcERhdGEoZm9sZExpbmUuc3RhcnQucm93LCBmb2xkTGluZS5zdGFydC5yb3cpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLiR1cGRhdGVSb3dMZW5ndGhDYWNoZShmb2xkTGluZS5zdGFydC5yb3csIGZvbGRMaW5lLnN0YXJ0LnJvdyk7XG4gICAgICAgIHRoaXMuJG1vZGlmaWVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fc2lnbmFsKFwiY2hhbmdlRm9sZFwiLCB7IGRhdGE6IGZvbGQsIGFjdGlvbjogXCJhZGRcIiB9KTtcblxuICAgICAgICByZXR1cm4gZm9sZDtcbiAgICB9O1xuXG4gICAgdGhpcy5hZGRGb2xkcyA9IGZ1bmN0aW9uKGZvbGRzKSB7XG4gICAgICAgIGZvbGRzLmZvckVhY2goZnVuY3Rpb24oZm9sZCkge1xuICAgICAgICAgICAgdGhpcy5hZGRGb2xkKGZvbGQpO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICB9O1xuXG4gICAgdGhpcy5yZW1vdmVGb2xkID0gZnVuY3Rpb24oZm9sZCkge1xuICAgICAgICB2YXIgZm9sZExpbmUgPSBmb2xkLmZvbGRMaW5lO1xuICAgICAgICB2YXIgc3RhcnRSb3cgPSBmb2xkTGluZS5zdGFydC5yb3c7XG4gICAgICAgIHZhciBlbmRSb3cgPSBmb2xkTGluZS5lbmQucm93O1xuXG4gICAgICAgIHZhciBmb2xkTGluZXMgPSB0aGlzLiRmb2xkRGF0YTtcbiAgICAgICAgdmFyIGZvbGRzID0gZm9sZExpbmUuZm9sZHM7XG4gICAgICAgIGlmIChmb2xkcy5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgZm9sZExpbmVzLnNwbGljZShmb2xkTGluZXMuaW5kZXhPZihmb2xkTGluZSksIDEpO1xuICAgICAgICB9IGVsc2VcbiAgICAgICAgaWYgKGZvbGRMaW5lLnJhbmdlLmlzRW5kKGZvbGQuZW5kLnJvdywgZm9sZC5lbmQuY29sdW1uKSkge1xuICAgICAgICAgICAgZm9sZHMucG9wKCk7XG4gICAgICAgICAgICBmb2xkTGluZS5lbmQucm93ID0gZm9sZHNbZm9sZHMubGVuZ3RoIC0gMV0uZW5kLnJvdztcbiAgICAgICAgICAgIGZvbGRMaW5lLmVuZC5jb2x1bW4gPSBmb2xkc1tmb2xkcy5sZW5ndGggLSAxXS5lbmQuY29sdW1uO1xuICAgICAgICB9IGVsc2VcbiAgICAgICAgaWYgKGZvbGRMaW5lLnJhbmdlLmlzU3RhcnQoZm9sZC5zdGFydC5yb3csIGZvbGQuc3RhcnQuY29sdW1uKSkge1xuICAgICAgICAgICAgZm9sZHMuc2hpZnQoKTtcbiAgICAgICAgICAgIGZvbGRMaW5lLnN0YXJ0LnJvdyA9IGZvbGRzWzBdLnN0YXJ0LnJvdztcbiAgICAgICAgICAgIGZvbGRMaW5lLnN0YXJ0LmNvbHVtbiA9IGZvbGRzWzBdLnN0YXJ0LmNvbHVtbjtcbiAgICAgICAgfSBlbHNlXG4gICAgICAgIGlmIChmb2xkLnNhbWVSb3cpIHtcbiAgICAgICAgICAgIGZvbGRzLnNwbGljZShmb2xkcy5pbmRleE9mKGZvbGQpLCAxKTtcbiAgICAgICAgfSBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBuZXdGb2xkTGluZSA9IGZvbGRMaW5lLnNwbGl0KGZvbGQuc3RhcnQucm93LCBmb2xkLnN0YXJ0LmNvbHVtbik7XG4gICAgICAgICAgICBmb2xkcyA9IG5ld0ZvbGRMaW5lLmZvbGRzO1xuICAgICAgICAgICAgZm9sZHMuc2hpZnQoKTtcbiAgICAgICAgICAgIG5ld0ZvbGRMaW5lLnN0YXJ0LnJvdyA9IGZvbGRzWzBdLnN0YXJ0LnJvdztcbiAgICAgICAgICAgIG5ld0ZvbGRMaW5lLnN0YXJ0LmNvbHVtbiA9IGZvbGRzWzBdLnN0YXJ0LmNvbHVtbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy4kdXBkYXRpbmcpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLiR1c2VXcmFwTW9kZSlcbiAgICAgICAgICAgICAgICB0aGlzLiR1cGRhdGVXcmFwRGF0YShzdGFydFJvdywgZW5kUm93KTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aGlzLiR1cGRhdGVSb3dMZW5ndGhDYWNoZShzdGFydFJvdywgZW5kUm93KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiRtb2RpZmllZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX3NpZ25hbChcImNoYW5nZUZvbGRcIiwgeyBkYXRhOiBmb2xkLCBhY3Rpb246IFwicmVtb3ZlXCIgfSk7XG4gICAgfTtcblxuICAgIHRoaXMucmVtb3ZlRm9sZHMgPSBmdW5jdGlvbihmb2xkcykge1xuICAgICAgICB2YXIgY2xvbmVGb2xkcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZvbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjbG9uZUZvbGRzLnB1c2goZm9sZHNbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY2xvbmVGb2xkcy5mb3JFYWNoKGZ1bmN0aW9uKGZvbGQpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlRm9sZChmb2xkKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIHRoaXMuJG1vZGlmaWVkID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgdGhpcy5leHBhbmRGb2xkID0gZnVuY3Rpb24oZm9sZCkge1xuICAgICAgICB0aGlzLnJlbW92ZUZvbGQoZm9sZCk7XG4gICAgICAgIGZvbGQuc3ViRm9sZHMuZm9yRWFjaChmdW5jdGlvbihzdWJGb2xkKSB7XG4gICAgICAgICAgICBmb2xkLnJlc3RvcmVSYW5nZShzdWJGb2xkKTtcbiAgICAgICAgICAgIHRoaXMuYWRkRm9sZChzdWJGb2xkKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIGlmIChmb2xkLmNvbGxhcHNlQ2hpbGRyZW4gPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmZvbGRBbGwoZm9sZC5zdGFydC5yb3crMSwgZm9sZC5lbmQucm93LCBmb2xkLmNvbGxhcHNlQ2hpbGRyZW4tMSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9sZC5zdWJGb2xkcyA9IFtdO1xuICAgIH07XG5cbiAgICB0aGlzLmV4cGFuZEZvbGRzID0gZnVuY3Rpb24oZm9sZHMpIHtcbiAgICAgICAgZm9sZHMuZm9yRWFjaChmdW5jdGlvbihmb2xkKSB7XG4gICAgICAgICAgICB0aGlzLmV4cGFuZEZvbGQoZm9sZCk7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgIH07XG5cbiAgICB0aGlzLnVuZm9sZCA9IGZ1bmN0aW9uKGxvY2F0aW9uLCBleHBhbmRJbm5lcikge1xuICAgICAgICB2YXIgcmFuZ2UsIGZvbGRzO1xuICAgICAgICBpZiAobG9jYXRpb24gPT0gbnVsbCkge1xuICAgICAgICAgICAgcmFuZ2UgPSBuZXcgUmFuZ2UoMCwgMCwgdGhpcy5nZXRMZW5ndGgoKSwgMCk7XG4gICAgICAgICAgICBpZiAoZXhwYW5kSW5uZXIgPT0gbnVsbCkgZXhwYW5kSW5uZXIgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBsb2NhdGlvbiA9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICByYW5nZSA9IG5ldyBSYW5nZShsb2NhdGlvbiwgMCwgbG9jYXRpb24sIHRoaXMuZ2V0TGluZShsb2NhdGlvbikubGVuZ3RoKTtcbiAgICAgICAgfSBlbHNlIGlmIChcInJvd1wiIGluIGxvY2F0aW9uKSB7XG4gICAgICAgICAgICByYW5nZSA9IFJhbmdlLmZyb21Qb2ludHMobG9jYXRpb24sIGxvY2F0aW9uKTtcbiAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGxvY2F0aW9uKSkge1xuICAgICAgICAgICAgZm9sZHMgPSBbXTtcbiAgICAgICAgICAgIGxvY2F0aW9uLmZvckVhY2goZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgICAgICAgICAgICBmb2xkcyA9IGZvbGRzLmNvbmNhdCh0aGlzLnVuZm9sZChyYW5nZSkpO1xuICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgICAgICByZXR1cm4gZm9sZHM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByYW5nZSA9IGxvY2F0aW9uO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBmb2xkcyA9IHRoaXMuZ2V0Rm9sZHNJblJhbmdlTGlzdChyYW5nZSk7XG4gICAgICAgIHZhciBvdXRlcm1vc3RGb2xkcyA9IGZvbGRzO1xuICAgICAgICB3aGlsZSAoXG4gICAgICAgICAgICBmb2xkcy5sZW5ndGggPT0gMVxuICAgICAgICAgICAgJiYgUmFuZ2UuY29tcGFyZVBvaW50cyhmb2xkc1swXS5zdGFydCwgcmFuZ2Uuc3RhcnQpIDwgMCBcbiAgICAgICAgICAgICYmIFJhbmdlLmNvbXBhcmVQb2ludHMoZm9sZHNbMF0uZW5kLCByYW5nZS5lbmQpID4gMFxuICAgICAgICApIHtcbiAgICAgICAgICAgIHRoaXMuZXhwYW5kRm9sZHMoZm9sZHMpO1xuICAgICAgICAgICAgZm9sZHMgPSB0aGlzLmdldEZvbGRzSW5SYW5nZUxpc3QocmFuZ2UpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoZXhwYW5kSW5uZXIgIT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlRm9sZHMoZm9sZHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5leHBhbmRGb2xkcyhmb2xkcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG91dGVybW9zdEZvbGRzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBvdXRlcm1vc3RGb2xkcztcbiAgICB9O1xuICAgIHRoaXMuaXNSb3dGb2xkZWQgPSBmdW5jdGlvbihkb2NSb3csIHN0YXJ0Rm9sZFJvdykge1xuICAgICAgICByZXR1cm4gISF0aGlzLmdldEZvbGRMaW5lKGRvY1Jvdywgc3RhcnRGb2xkUm93KTtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRSb3dGb2xkRW5kID0gZnVuY3Rpb24oZG9jUm93LCBzdGFydEZvbGRSb3cpIHtcbiAgICAgICAgdmFyIGZvbGRMaW5lID0gdGhpcy5nZXRGb2xkTGluZShkb2NSb3csIHN0YXJ0Rm9sZFJvdyk7XG4gICAgICAgIHJldHVybiBmb2xkTGluZSA/IGZvbGRMaW5lLmVuZC5yb3cgOiBkb2NSb3c7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0Um93Rm9sZFN0YXJ0ID0gZnVuY3Rpb24oZG9jUm93LCBzdGFydEZvbGRSb3cpIHtcbiAgICAgICAgdmFyIGZvbGRMaW5lID0gdGhpcy5nZXRGb2xkTGluZShkb2NSb3csIHN0YXJ0Rm9sZFJvdyk7XG4gICAgICAgIHJldHVybiBmb2xkTGluZSA/IGZvbGRMaW5lLnN0YXJ0LnJvdyA6IGRvY1JvdztcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRGb2xkRGlzcGxheUxpbmUgPSBmdW5jdGlvbihmb2xkTGluZSwgZW5kUm93LCBlbmRDb2x1bW4sIHN0YXJ0Um93LCBzdGFydENvbHVtbikge1xuICAgICAgICBpZiAoc3RhcnRSb3cgPT0gbnVsbClcbiAgICAgICAgICAgIHN0YXJ0Um93ID0gZm9sZExpbmUuc3RhcnQucm93O1xuICAgICAgICBpZiAoc3RhcnRDb2x1bW4gPT0gbnVsbClcbiAgICAgICAgICAgIHN0YXJ0Q29sdW1uID0gMDtcbiAgICAgICAgaWYgKGVuZFJvdyA9PSBudWxsKVxuICAgICAgICAgICAgZW5kUm93ID0gZm9sZExpbmUuZW5kLnJvdztcbiAgICAgICAgaWYgKGVuZENvbHVtbiA9PSBudWxsKVxuICAgICAgICAgICAgZW5kQ29sdW1uID0gdGhpcy5nZXRMaW5lKGVuZFJvdykubGVuZ3RoO1xuICAgICAgICB2YXIgZG9jID0gdGhpcy5kb2M7XG4gICAgICAgIHZhciB0ZXh0TGluZSA9IFwiXCI7XG5cbiAgICAgICAgZm9sZExpbmUud2FsayhmdW5jdGlvbihwbGFjZWhvbGRlciwgcm93LCBjb2x1bW4sIGxhc3RDb2x1bW4pIHtcbiAgICAgICAgICAgIGlmIChyb3cgPCBzdGFydFJvdylcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBpZiAocm93ID09IHN0YXJ0Um93KSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbHVtbiA8IHN0YXJ0Q29sdW1uKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgbGFzdENvbHVtbiA9IE1hdGgubWF4KHN0YXJ0Q29sdW1uLCBsYXN0Q29sdW1uKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHBsYWNlaG9sZGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0ZXh0TGluZSArPSBwbGFjZWhvbGRlcjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGV4dExpbmUgKz0gZG9jLmdldExpbmUocm93KS5zdWJzdHJpbmcobGFzdENvbHVtbiwgY29sdW1uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZW5kUm93LCBlbmRDb2x1bW4pO1xuICAgICAgICByZXR1cm4gdGV4dExpbmU7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0RGlzcGxheUxpbmUgPSBmdW5jdGlvbihyb3csIGVuZENvbHVtbiwgc3RhcnRSb3csIHN0YXJ0Q29sdW1uKSB7XG4gICAgICAgIHZhciBmb2xkTGluZSA9IHRoaXMuZ2V0Rm9sZExpbmUocm93KTtcblxuICAgICAgICBpZiAoIWZvbGRMaW5lKSB7XG4gICAgICAgICAgICB2YXIgbGluZTtcbiAgICAgICAgICAgIGxpbmUgPSB0aGlzLmRvYy5nZXRMaW5lKHJvdyk7XG4gICAgICAgICAgICByZXR1cm4gbGluZS5zdWJzdHJpbmcoc3RhcnRDb2x1bW4gfHwgMCwgZW5kQ29sdW1uIHx8IGxpbmUubGVuZ3RoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEZvbGREaXNwbGF5TGluZShcbiAgICAgICAgICAgICAgICBmb2xkTGluZSwgcm93LCBlbmRDb2x1bW4sIHN0YXJ0Um93LCBzdGFydENvbHVtbik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy4kY2xvbmVGb2xkRGF0YSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZmQgPSBbXTtcbiAgICAgICAgZmQgPSB0aGlzLiRmb2xkRGF0YS5tYXAoZnVuY3Rpb24oZm9sZExpbmUpIHtcbiAgICAgICAgICAgIHZhciBmb2xkcyA9IGZvbGRMaW5lLmZvbGRzLm1hcChmdW5jdGlvbihmb2xkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvbGQuY2xvbmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBGb2xkTGluZShmZCwgZm9sZHMpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gZmQ7XG4gICAgfTtcblxuICAgIHRoaXMudG9nZ2xlRm9sZCA9IGZ1bmN0aW9uKHRyeVRvVW5mb2xkKSB7XG4gICAgICAgIHZhciBzZWxlY3Rpb24gPSB0aGlzLnNlbGVjdGlvbjtcbiAgICAgICAgdmFyIHJhbmdlID0gc2VsZWN0aW9uLmdldFJhbmdlKCk7XG4gICAgICAgIHZhciBmb2xkO1xuICAgICAgICB2YXIgYnJhY2tldFBvcztcblxuICAgICAgICBpZiAocmFuZ2UuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICB2YXIgY3Vyc29yID0gcmFuZ2Uuc3RhcnQ7XG4gICAgICAgICAgICBmb2xkID0gdGhpcy5nZXRGb2xkQXQoY3Vyc29yLnJvdywgY3Vyc29yLmNvbHVtbik7XG5cbiAgICAgICAgICAgIGlmIChmb2xkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5leHBhbmRGb2xkKGZvbGQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYnJhY2tldFBvcyA9IHRoaXMuZmluZE1hdGNoaW5nQnJhY2tldChjdXJzb3IpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJhbmdlLmNvbXBhcmVQb2ludChicmFja2V0UG9zKSA9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlLmVuZCA9IGJyYWNrZXRQb3M7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc3RhcnQgPSBicmFja2V0UG9zO1xuICAgICAgICAgICAgICAgICAgICByYW5nZS5zdGFydC5jb2x1bW4rKztcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2UuZW5kLmNvbHVtbi0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYnJhY2tldFBvcyA9IHRoaXMuZmluZE1hdGNoaW5nQnJhY2tldCh7cm93OiBjdXJzb3Iucm93LCBjb2x1bW46IGN1cnNvci5jb2x1bW4gKyAxfSkpIHtcbiAgICAgICAgICAgICAgICBpZiAocmFuZ2UuY29tcGFyZVBvaW50KGJyYWNrZXRQb3MpID09IDEpXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlLmVuZCA9IGJyYWNrZXRQb3M7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICByYW5nZS5zdGFydCA9IGJyYWNrZXRQb3M7XG5cbiAgICAgICAgICAgICAgICByYW5nZS5zdGFydC5jb2x1bW4rKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmFuZ2UgPSB0aGlzLmdldENvbW1lbnRGb2xkUmFuZ2UoY3Vyc29yLnJvdywgY3Vyc29yLmNvbHVtbikgfHwgcmFuZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgZm9sZHMgPSB0aGlzLmdldEZvbGRzSW5SYW5nZShyYW5nZSk7XG4gICAgICAgICAgICBpZiAodHJ5VG9VbmZvbGQgJiYgZm9sZHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5leHBhbmRGb2xkcyhmb2xkcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChmb2xkcy5sZW5ndGggPT0gMSApIHtcbiAgICAgICAgICAgICAgICBmb2xkID0gZm9sZHNbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWZvbGQpXG4gICAgICAgICAgICBmb2xkID0gdGhpcy5nZXRGb2xkQXQocmFuZ2Uuc3RhcnQucm93LCByYW5nZS5zdGFydC5jb2x1bW4pO1xuXG4gICAgICAgIGlmIChmb2xkICYmIGZvbGQucmFuZ2UudG9TdHJpbmcoKSA9PSByYW5nZS50b1N0cmluZygpKSB7XG4gICAgICAgICAgICB0aGlzLmV4cGFuZEZvbGQoZm9sZCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcGxhY2Vob2xkZXIgPSBcIi4uLlwiO1xuICAgICAgICBpZiAoIXJhbmdlLmlzTXVsdGlMaW5lKCkpIHtcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyID0gdGhpcy5nZXRUZXh0UmFuZ2UocmFuZ2UpO1xuICAgICAgICAgICAgaWYgKHBsYWNlaG9sZGVyLmxlbmd0aCA8IDQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgcGxhY2Vob2xkZXIgPSBwbGFjZWhvbGRlci50cmltKCkuc3Vic3RyaW5nKDAsIDIpICsgXCIuLlwiO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hZGRGb2xkKHBsYWNlaG9sZGVyLCByYW5nZSk7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0Q29tbWVudEZvbGRSYW5nZSA9IGZ1bmN0aW9uKHJvdywgY29sdW1uLCBkaXIpIHtcbiAgICAgICAgdmFyIGl0ZXJhdG9yID0gbmV3IFRva2VuSXRlcmF0b3IodGhpcywgcm93LCBjb2x1bW4pO1xuICAgICAgICB2YXIgdG9rZW4gPSBpdGVyYXRvci5nZXRDdXJyZW50VG9rZW4oKTtcbiAgICAgICAgdmFyIHR5cGUgPSB0b2tlbiAmJiB0b2tlbi50eXBlO1xuICAgICAgICBpZiAodG9rZW4gJiYgL15jb21tZW50fHN0cmluZy8udGVzdCh0eXBlKSkge1xuICAgICAgICAgICAgdHlwZSA9IHR5cGUubWF0Y2goL2NvbW1lbnR8c3RyaW5nLylbMF07XG4gICAgICAgICAgICBpZiAodHlwZSA9PSBcImNvbW1lbnRcIilcbiAgICAgICAgICAgICAgICB0eXBlICs9IFwifGRvYy1zdGFydFwiO1xuICAgICAgICAgICAgdmFyIHJlID0gbmV3IFJlZ0V4cCh0eXBlKTtcbiAgICAgICAgICAgIHZhciByYW5nZSA9IG5ldyBSYW5nZSgpO1xuICAgICAgICAgICAgaWYgKGRpciAhPSAxKSB7XG4gICAgICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IGl0ZXJhdG9yLnN0ZXBCYWNrd2FyZCgpO1xuICAgICAgICAgICAgICAgIH0gd2hpbGUgKHRva2VuICYmIHJlLnRlc3QodG9rZW4udHlwZSkpO1xuICAgICAgICAgICAgICAgIGl0ZXJhdG9yLnN0ZXBGb3J3YXJkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJhbmdlLnN0YXJ0LnJvdyA9IGl0ZXJhdG9yLmdldEN1cnJlbnRUb2tlblJvdygpO1xuICAgICAgICAgICAgcmFuZ2Uuc3RhcnQuY29sdW1uID0gaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuQ29sdW1uKCkgKyAyO1xuXG4gICAgICAgICAgICBpdGVyYXRvciA9IG5ldyBUb2tlbkl0ZXJhdG9yKHRoaXMsIHJvdywgY29sdW1uKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGRpciAhPSAtMSkge1xuICAgICAgICAgICAgICAgIHZhciBsYXN0Um93ID0gLTE7XG4gICAgICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IGl0ZXJhdG9yLnN0ZXBGb3J3YXJkKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsYXN0Um93ID09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLmdldFN0YXRlKGl0ZXJhdG9yLiRyb3cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZS50ZXN0KHN0YXRlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0Um93ID0gaXRlcmF0b3IuJHJvdztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpdGVyYXRvci4kcm93ID4gbGFzdFJvdykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IHdoaWxlICh0b2tlbiAmJiByZS50ZXN0KHRva2VuLnR5cGUpKTtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IGl0ZXJhdG9yLnN0ZXBCYWNrd2FyZCgpO1xuICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgICAgdG9rZW4gPSBpdGVyYXRvci5nZXRDdXJyZW50VG9rZW4oKTtcblxuICAgICAgICAgICAgcmFuZ2UuZW5kLnJvdyA9IGl0ZXJhdG9yLmdldEN1cnJlbnRUb2tlblJvdygpO1xuICAgICAgICAgICAgcmFuZ2UuZW5kLmNvbHVtbiA9IGl0ZXJhdG9yLmdldEN1cnJlbnRUb2tlbkNvbHVtbigpICsgdG9rZW4udmFsdWUubGVuZ3RoIC0gMjtcbiAgICAgICAgICAgIHJldHVybiByYW5nZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmZvbGRBbGwgPSBmdW5jdGlvbihzdGFydFJvdywgZW5kUm93LCBkZXB0aCwgdGVzdCkge1xuICAgICAgICBpZiAoZGVwdGggPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgZGVwdGggPSAxMDAwMDA7IC8vIEpTT04uc3RyaW5naWZ5IGRvZXNuJ3QgaGFubGUgSW5maW5pdHlcbiAgICAgICAgdmFyIGZvbGRXaWRnZXRzID0gdGhpcy5mb2xkV2lkZ2V0cztcbiAgICAgICAgaWYgKCFmb2xkV2lkZ2V0cylcbiAgICAgICAgICAgIHJldHVybjsgLy8gbW9kZSBkb2Vzbid0IHN1cHBvcnQgZm9sZGluZ1xuICAgICAgICBlbmRSb3cgPSBlbmRSb3cgfHwgdGhpcy5nZXRMZW5ndGgoKTtcbiAgICAgICAgc3RhcnRSb3cgPSBzdGFydFJvdyB8fCAwO1xuICAgICAgICBmb3IgKHZhciByb3cgPSBzdGFydFJvdzsgcm93IDwgZW5kUm93OyByb3crKykge1xuICAgICAgICAgICAgaWYgKGZvbGRXaWRnZXRzW3Jvd10gPT0gbnVsbClcbiAgICAgICAgICAgICAgICBmb2xkV2lkZ2V0c1tyb3ddID0gdGhpcy5nZXRGb2xkV2lkZ2V0KHJvdyk7XG4gICAgICAgICAgICBpZiAoZm9sZFdpZGdldHNbcm93XSAhPSBcInN0YXJ0XCIpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICh0ZXN0ICYmICF0ZXN0KHJvdykpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSB0aGlzLmdldEZvbGRXaWRnZXRSYW5nZShyb3cpO1xuICAgICAgICAgICAgaWYgKHJhbmdlICYmIHJhbmdlLmlzTXVsdGlMaW5lKClcbiAgICAgICAgICAgICAgICAmJiByYW5nZS5lbmQucm93IDw9IGVuZFJvd1xuICAgICAgICAgICAgICAgICYmIHJhbmdlLnN0YXJ0LnJvdyA+PSBzdGFydFJvd1xuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcm93ID0gcmFuZ2UuZW5kLnJvdztcbiAgICAgICAgICAgICAgICByYW5nZS5jb2xsYXBzZUNoaWxkcmVuID0gZGVwdGg7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRGb2xkKFwiLi4uXCIsIHJhbmdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgdGhpcy5mb2xkVG9MZXZlbCA9IGZ1bmN0aW9uKGxldmVsKSB7XG4gICAgICAgIHRoaXMuZm9sZEFsbCgpO1xuICAgICAgICB3aGlsZSAobGV2ZWwtLSA+IDApXG4gICAgICAgICAgICB0aGlzLnVuZm9sZChudWxsLCBmYWxzZSk7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLmZvbGRBbGxDb21tZW50cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXM7XG4gICAgICAgIHRoaXMuZm9sZEFsbChudWxsLCBudWxsLCBudWxsLCBmdW5jdGlvbihyb3cpIHtcbiAgICAgICAgICAgIHZhciB0b2tlbnMgPSBzZXNzaW9uLmdldFRva2Vucyhyb3cpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgdG9rZW4gPSB0b2tlbnNbaV07XG4gICAgICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT0gXCJ0ZXh0XCIgJiYgL15cXHMrJC8udGVzdCh0b2tlbi52YWx1ZSkpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGlmICgvY29tbWVudC8udGVzdCh0b2tlbi50eXBlKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHRoaXMuJGZvbGRTdHlsZXMgPSB7XG4gICAgICAgIFwibWFudWFsXCI6IDEsXG4gICAgICAgIFwibWFya2JlZ2luXCI6IDEsXG4gICAgICAgIFwibWFya2JlZ2luZW5kXCI6IDFcbiAgICB9O1xuICAgIHRoaXMuJGZvbGRTdHlsZSA9IFwibWFya2JlZ2luXCI7XG4gICAgdGhpcy5zZXRGb2xkU3R5bGUgPSBmdW5jdGlvbihzdHlsZSkge1xuICAgICAgICBpZiAoIXRoaXMuJGZvbGRTdHlsZXNbc3R5bGVdKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBmb2xkIHN0eWxlOiBcIiArIHN0eWxlICsgXCJbXCIgKyBPYmplY3Qua2V5cyh0aGlzLiRmb2xkU3R5bGVzKS5qb2luKFwiLCBcIikgKyBcIl1cIik7XG4gICAgICAgIFxuICAgICAgICBpZiAodGhpcy4kZm9sZFN0eWxlID09IHN0eWxlKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuJGZvbGRTdHlsZSA9IHN0eWxlO1xuICAgICAgICBcbiAgICAgICAgaWYgKHN0eWxlID09IFwibWFudWFsXCIpXG4gICAgICAgICAgICB0aGlzLnVuZm9sZCgpO1xuICAgICAgICB2YXIgbW9kZSA9IHRoaXMuJGZvbGRNb2RlO1xuICAgICAgICB0aGlzLiRzZXRGb2xkaW5nKG51bGwpO1xuICAgICAgICB0aGlzLiRzZXRGb2xkaW5nKG1vZGUpO1xuICAgIH07XG5cbiAgICB0aGlzLiRzZXRGb2xkaW5nID0gZnVuY3Rpb24oZm9sZE1vZGUpIHtcbiAgICAgICAgaWYgKHRoaXMuJGZvbGRNb2RlID09IGZvbGRNb2RlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgXG4gICAgICAgIHRoaXMuJGZvbGRNb2RlID0gZm9sZE1vZGU7XG4gICAgICAgIFxuICAgICAgICB0aGlzLm9mZignY2hhbmdlJywgdGhpcy4kdXBkYXRlRm9sZFdpZGdldHMpO1xuICAgICAgICB0aGlzLm9mZigndG9rZW5pemVyVXBkYXRlJywgdGhpcy4kdG9rZW5pemVyVXBkYXRlRm9sZFdpZGdldHMpO1xuICAgICAgICB0aGlzLl9zaWduYWwoXCJjaGFuZ2VBbm5vdGF0aW9uXCIpO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFmb2xkTW9kZSB8fCB0aGlzLiRmb2xkU3R5bGUgPT0gXCJtYW51YWxcIikge1xuICAgICAgICAgICAgdGhpcy5mb2xkV2lkZ2V0cyA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRoaXMuZm9sZFdpZGdldHMgPSBbXTtcbiAgICAgICAgdGhpcy5nZXRGb2xkV2lkZ2V0ID0gZm9sZE1vZGUuZ2V0Rm9sZFdpZGdldC5iaW5kKGZvbGRNb2RlLCB0aGlzLCB0aGlzLiRmb2xkU3R5bGUpO1xuICAgICAgICB0aGlzLmdldEZvbGRXaWRnZXRSYW5nZSA9IGZvbGRNb2RlLmdldEZvbGRXaWRnZXRSYW5nZS5iaW5kKGZvbGRNb2RlLCB0aGlzLCB0aGlzLiRmb2xkU3R5bGUpO1xuICAgICAgICBcbiAgICAgICAgdGhpcy4kdXBkYXRlRm9sZFdpZGdldHMgPSB0aGlzLnVwZGF0ZUZvbGRXaWRnZXRzLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuJHRva2VuaXplclVwZGF0ZUZvbGRXaWRnZXRzID0gdGhpcy50b2tlbml6ZXJVcGRhdGVGb2xkV2lkZ2V0cy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9uKCdjaGFuZ2UnLCB0aGlzLiR1cGRhdGVGb2xkV2lkZ2V0cyk7XG4gICAgICAgIHRoaXMub24oJ3Rva2VuaXplclVwZGF0ZScsIHRoaXMuJHRva2VuaXplclVwZGF0ZUZvbGRXaWRnZXRzKTtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRQYXJlbnRGb2xkUmFuZ2VEYXRhID0gZnVuY3Rpb24gKHJvdywgaWdub3JlQ3VycmVudCkge1xuICAgICAgICB2YXIgZncgPSB0aGlzLmZvbGRXaWRnZXRzO1xuICAgICAgICBpZiAoIWZ3IHx8IChpZ25vcmVDdXJyZW50ICYmIGZ3W3Jvd10pKVxuICAgICAgICAgICAgcmV0dXJuIHt9O1xuXG4gICAgICAgIHZhciBpID0gcm93IC0gMSwgZmlyc3RSYW5nZTtcbiAgICAgICAgd2hpbGUgKGkgPj0gMCkge1xuICAgICAgICAgICAgdmFyIGMgPSBmd1tpXTtcbiAgICAgICAgICAgIGlmIChjID09IG51bGwpXG4gICAgICAgICAgICAgICAgYyA9IGZ3W2ldID0gdGhpcy5nZXRGb2xkV2lkZ2V0KGkpO1xuXG4gICAgICAgICAgICBpZiAoYyA9PSBcInN0YXJ0XCIpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmFuZ2UgPSB0aGlzLmdldEZvbGRXaWRnZXRSYW5nZShpKTtcbiAgICAgICAgICAgICAgICBpZiAoIWZpcnN0UmFuZ2UpXG4gICAgICAgICAgICAgICAgICAgIGZpcnN0UmFuZ2UgPSByYW5nZTtcbiAgICAgICAgICAgICAgICBpZiAocmFuZ2UgJiYgcmFuZ2UuZW5kLnJvdyA+PSByb3cpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaS0tO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJhbmdlOiBpICE9PSAtMSAmJiByYW5nZSxcbiAgICAgICAgICAgIGZpcnN0UmFuZ2U6IGZpcnN0UmFuZ2VcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgdGhpcy5vbkZvbGRXaWRnZXRDbGljayA9IGZ1bmN0aW9uKHJvdywgZSkge1xuICAgICAgICBlID0gZS5kb21FdmVudDtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICBjaGlsZHJlbjogZS5zaGlmdEtleSxcbiAgICAgICAgICAgIGFsbDogZS5jdHJsS2V5IHx8IGUubWV0YUtleSxcbiAgICAgICAgICAgIHNpYmxpbmdzOiBlLmFsdEtleVxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgdmFyIHJhbmdlID0gdGhpcy4kdG9nZ2xlRm9sZFdpZGdldChyb3csIG9wdGlvbnMpO1xuICAgICAgICBpZiAoIXJhbmdlKSB7XG4gICAgICAgICAgICB2YXIgZWwgPSAoZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50KTtcbiAgICAgICAgICAgIGlmIChlbCAmJiAvYWNlX2ZvbGQtd2lkZ2V0Ly50ZXN0KGVsLmNsYXNzTmFtZSkpXG4gICAgICAgICAgICAgICAgZWwuY2xhc3NOYW1lICs9IFwiIGFjZV9pbnZhbGlkXCI7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIHRoaXMuJHRvZ2dsZUZvbGRXaWRnZXQgPSBmdW5jdGlvbihyb3csIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmdldEZvbGRXaWRnZXQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciB0eXBlID0gdGhpcy5nZXRGb2xkV2lkZ2V0KHJvdyk7XG4gICAgICAgIHZhciBsaW5lID0gdGhpcy5nZXRMaW5lKHJvdyk7XG5cbiAgICAgICAgdmFyIGRpciA9IHR5cGUgPT09IFwiZW5kXCIgPyAtMSA6IDE7XG4gICAgICAgIHZhciBmb2xkID0gdGhpcy5nZXRGb2xkQXQocm93LCBkaXIgPT09IC0xID8gMCA6IGxpbmUubGVuZ3RoLCBkaXIpO1xuXG4gICAgICAgIGlmIChmb2xkKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5jaGlsZHJlbiB8fCBvcHRpb25zLmFsbClcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUZvbGQoZm9sZCk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGhpcy5leHBhbmRGb2xkKGZvbGQpO1xuICAgICAgICAgICAgcmV0dXJuIGZvbGQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmFuZ2UgPSB0aGlzLmdldEZvbGRXaWRnZXRSYW5nZShyb3csIHRydWUpO1xuICAgICAgICBpZiAocmFuZ2UgJiYgIXJhbmdlLmlzTXVsdGlMaW5lKCkpIHtcbiAgICAgICAgICAgIGZvbGQgPSB0aGlzLmdldEZvbGRBdChyYW5nZS5zdGFydC5yb3csIHJhbmdlLnN0YXJ0LmNvbHVtbiwgMSk7XG4gICAgICAgICAgICBpZiAoZm9sZCAmJiByYW5nZS5pc0VxdWFsKGZvbGQucmFuZ2UpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVGb2xkKGZvbGQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmb2xkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAob3B0aW9ucy5zaWJsaW5ncykge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmdldFBhcmVudEZvbGRSYW5nZURhdGEocm93KTtcbiAgICAgICAgICAgIGlmIChkYXRhLnJhbmdlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0Um93ID0gZGF0YS5yYW5nZS5zdGFydC5yb3cgKyAxO1xuICAgICAgICAgICAgICAgIHZhciBlbmRSb3cgPSBkYXRhLnJhbmdlLmVuZC5yb3c7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmZvbGRBbGwoc3RhcnRSb3csIGVuZFJvdywgb3B0aW9ucy5hbGwgPyAxMDAwMCA6IDApO1xuICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGVuZFJvdyA9IHJhbmdlID8gcmFuZ2UuZW5kLnJvdyA6IHRoaXMuZ2V0TGVuZ3RoKCk7XG4gICAgICAgICAgICB0aGlzLmZvbGRBbGwocm93ICsgMSwgZW5kUm93LCBvcHRpb25zLmFsbCA/IDEwMDAwIDogMCk7XG4gICAgICAgIH0gZWxzZSBpZiAocmFuZ2UpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmFsbCkgXG4gICAgICAgICAgICAgICAgcmFuZ2UuY29sbGFwc2VDaGlsZHJlbiA9IDEwMDAwO1xuICAgICAgICAgICAgdGhpcy5hZGRGb2xkKFwiLi4uXCIsIHJhbmdlKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHJhbmdlO1xuICAgIH07XG4gICAgXG4gICAgXG4gICAgXG4gICAgdGhpcy50b2dnbGVGb2xkV2lkZ2V0ID0gZnVuY3Rpb24odG9nZ2xlUGFyZW50KSB7XG4gICAgICAgIHZhciByb3cgPSB0aGlzLnNlbGVjdGlvbi5nZXRDdXJzb3IoKS5yb3c7XG4gICAgICAgIHJvdyA9IHRoaXMuZ2V0Um93Rm9sZFN0YXJ0KHJvdyk7XG4gICAgICAgIHZhciByYW5nZSA9IHRoaXMuJHRvZ2dsZUZvbGRXaWRnZXQocm93LCB7fSk7XG4gICAgICAgIFxuICAgICAgICBpZiAocmFuZ2UpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5nZXRQYXJlbnRGb2xkUmFuZ2VEYXRhKHJvdywgdHJ1ZSk7XG4gICAgICAgIHJhbmdlID0gZGF0YS5yYW5nZSB8fCBkYXRhLmZpcnN0UmFuZ2U7XG4gICAgICAgIFxuICAgICAgICBpZiAocmFuZ2UpIHtcbiAgICAgICAgICAgIHJvdyA9IHJhbmdlLnN0YXJ0LnJvdztcbiAgICAgICAgICAgIHZhciBmb2xkID0gdGhpcy5nZXRGb2xkQXQocm93LCB0aGlzLmdldExpbmUocm93KS5sZW5ndGgsIDEpO1xuXG4gICAgICAgICAgICBpZiAoZm9sZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRm9sZChmb2xkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRGb2xkKFwiLi4uXCIsIHJhbmdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLnVwZGF0ZUZvbGRXaWRnZXRzID0gZnVuY3Rpb24oZGVsdGEpIHtcbiAgICAgICAgdmFyIGZpcnN0Um93ID0gZGVsdGEuc3RhcnQucm93O1xuICAgICAgICB2YXIgbGVuID0gZGVsdGEuZW5kLnJvdyAtIGZpcnN0Um93O1xuXG4gICAgICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZm9sZFdpZGdldHNbZmlyc3RSb3ddID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIGlmIChkZWx0YS5hY3Rpb24gPT0gJ3JlbW92ZScpIHtcbiAgICAgICAgICAgIHRoaXMuZm9sZFdpZGdldHMuc3BsaWNlKGZpcnN0Um93LCBsZW4gKyAxLCBudWxsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gQXJyYXkobGVuICsgMSk7XG4gICAgICAgICAgICBhcmdzLnVuc2hpZnQoZmlyc3RSb3csIDEpO1xuICAgICAgICAgICAgdGhpcy5mb2xkV2lkZ2V0cy5zcGxpY2UuYXBwbHkodGhpcy5mb2xkV2lkZ2V0cywgYXJncyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMudG9rZW5pemVyVXBkYXRlRm9sZFdpZGdldHMgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciByb3dzID0gZS5kYXRhO1xuICAgICAgICBpZiAocm93cy5maXJzdCAhPSByb3dzLmxhc3QpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmZvbGRXaWRnZXRzLmxlbmd0aCA+IHJvd3MuZmlyc3QpXG4gICAgICAgICAgICAgICAgdGhpcy5mb2xkV2lkZ2V0cy5zcGxpY2Uocm93cy5maXJzdCwgdGhpcy5mb2xkV2lkZ2V0cy5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuZXhwb3J0cy5Gb2xkaW5nID0gRm9sZGluZztcblxufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvZWRpdF9zZXNzaW9uL2JyYWNrZXRfbWF0Y2hcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS90b2tlbl9pdGVyYXRvclwiLFwiYWNlL3JhbmdlXCJdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgVG9rZW5JdGVyYXRvciA9IHJlcXVpcmUoXCIuLi90b2tlbl9pdGVyYXRvclwiKS5Ub2tlbkl0ZXJhdG9yO1xudmFyIFJhbmdlID0gcmVxdWlyZShcIi4uL3JhbmdlXCIpLlJhbmdlO1xuXG5cbmZ1bmN0aW9uIEJyYWNrZXRNYXRjaCgpIHtcblxuICAgIHRoaXMuZmluZE1hdGNoaW5nQnJhY2tldCA9IGZ1bmN0aW9uKHBvc2l0aW9uLCBjaHIpIHtcbiAgICAgICAgaWYgKHBvc2l0aW9uLmNvbHVtbiA9PSAwKSByZXR1cm4gbnVsbDtcblxuICAgICAgICB2YXIgY2hhckJlZm9yZUN1cnNvciA9IGNociB8fCB0aGlzLmdldExpbmUocG9zaXRpb24ucm93KS5jaGFyQXQocG9zaXRpb24uY29sdW1uLTEpO1xuICAgICAgICBpZiAoY2hhckJlZm9yZUN1cnNvciA9PSBcIlwiKSByZXR1cm4gbnVsbDtcblxuICAgICAgICB2YXIgbWF0Y2ggPSBjaGFyQmVmb3JlQ3Vyc29yLm1hdGNoKC8oW1xcKFxcW1xce10pfChbXFwpXFxdXFx9XSkvKTtcbiAgICAgICAgaWYgKCFtYXRjaClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuXG4gICAgICAgIGlmIChtYXRjaFsxXSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiRmaW5kQ2xvc2luZ0JyYWNrZXQobWF0Y2hbMV0sIHBvc2l0aW9uKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGZpbmRPcGVuaW5nQnJhY2tldChtYXRjaFsyXSwgcG9zaXRpb24pO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5nZXRCcmFja2V0UmFuZ2UgPSBmdW5jdGlvbihwb3MpIHtcbiAgICAgICAgdmFyIGxpbmUgPSB0aGlzLmdldExpbmUocG9zLnJvdyk7XG4gICAgICAgIHZhciBiZWZvcmUgPSB0cnVlLCByYW5nZTtcblxuICAgICAgICB2YXIgY2hyID0gbGluZS5jaGFyQXQocG9zLmNvbHVtbiAtIDEpO1xuICAgICAgICB2YXIgbWF0Y2ggPSBjaHIgJiYgY2hyLm1hdGNoKC8oW1xcKFxcW1xce10pfChbXFwpXFxdXFx9XSkvKTtcbiAgICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICAgICAgY2hyID0gbGluZS5jaGFyQXQocG9zLmNvbHVtbik7XG4gICAgICAgICAgICBwb3MgPSB7cm93OiBwb3Mucm93LCBjb2x1bW46IHBvcy5jb2x1bW4gKyAxfTtcbiAgICAgICAgICAgIG1hdGNoID0gY2hyICYmIGNoci5tYXRjaCgvKFtcXChcXFtcXHtdKXwoW1xcKVxcXVxcfV0pLyk7XG4gICAgICAgICAgICBiZWZvcmUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW1hdGNoKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgaWYgKG1hdGNoWzFdKSB7XG4gICAgICAgICAgICB2YXIgYnJhY2tldFBvcyA9IHRoaXMuJGZpbmRDbG9zaW5nQnJhY2tldChtYXRjaFsxXSwgcG9zKTtcbiAgICAgICAgICAgIGlmICghYnJhY2tldFBvcylcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIHJhbmdlID0gUmFuZ2UuZnJvbVBvaW50cyhwb3MsIGJyYWNrZXRQb3MpO1xuICAgICAgICAgICAgaWYgKCFiZWZvcmUpIHtcbiAgICAgICAgICAgICAgICByYW5nZS5lbmQuY29sdW1uKys7XG4gICAgICAgICAgICAgICAgcmFuZ2Uuc3RhcnQuY29sdW1uLS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByYW5nZS5jdXJzb3IgPSByYW5nZS5lbmQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgYnJhY2tldFBvcyA9IHRoaXMuJGZpbmRPcGVuaW5nQnJhY2tldChtYXRjaFsyXSwgcG9zKTtcbiAgICAgICAgICAgIGlmICghYnJhY2tldFBvcylcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIHJhbmdlID0gUmFuZ2UuZnJvbVBvaW50cyhicmFja2V0UG9zLCBwb3MpO1xuICAgICAgICAgICAgaWYgKCFiZWZvcmUpIHtcbiAgICAgICAgICAgICAgICByYW5nZS5zdGFydC5jb2x1bW4rKztcbiAgICAgICAgICAgICAgICByYW5nZS5lbmQuY29sdW1uLS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByYW5nZS5jdXJzb3IgPSByYW5nZS5zdGFydDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHJhbmdlO1xuICAgIH07XG4gICAgdGhpcy5nZXRNYXRjaGluZ0JyYWNrZXRSYW5nZXMgPSBmdW5jdGlvbihwb3MpIHtcbiAgICAgICAgdmFyIGxpbmUgPSB0aGlzLmdldExpbmUocG9zLnJvdyk7XG5cbiAgICAgICAgdmFyIGNociA9IGxpbmUuY2hhckF0KHBvcy5jb2x1bW4gLSAxKTtcbiAgICAgICAgdmFyIG1hdGNoID0gY2hyICYmIGNoci5tYXRjaCgvKFtcXChcXFtcXHtdKXwoW1xcKVxcXVxcfV0pLyk7XG4gICAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgICAgIGNociA9IGxpbmUuY2hhckF0KHBvcy5jb2x1bW4pO1xuICAgICAgICAgICAgcG9zID0ge3JvdzogcG9zLnJvdywgY29sdW1uOiBwb3MuY29sdW1uICsgMX07XG4gICAgICAgICAgICBtYXRjaCA9IGNociAmJiBjaHIubWF0Y2goLyhbXFwoXFxbXFx7XSl8KFtcXClcXF1cXH1dKS8pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFtYXRjaClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuXG4gICAgICAgIHZhciBzdGFydFJhbmdlID0gbmV3IFJhbmdlKHBvcy5yb3csIHBvcy5jb2x1bW4gLSAxLCBwb3Mucm93LCBwb3MuY29sdW1uKTtcbiAgICAgICAgdmFyIGJyYWNrZXRQb3MgPSBtYXRjaFsxXSA/IHRoaXMuJGZpbmRDbG9zaW5nQnJhY2tldChtYXRjaFsxXSwgcG9zKVxuICAgICAgICAgICAgOiB0aGlzLiRmaW5kT3BlbmluZ0JyYWNrZXQobWF0Y2hbMl0sIHBvcyk7XG4gICAgICAgIGlmICghYnJhY2tldFBvcylcbiAgICAgICAgICAgIHJldHVybiBbc3RhcnRSYW5nZV07XG4gICAgICAgIHZhciBlbmRSYW5nZSA9IG5ldyBSYW5nZShicmFja2V0UG9zLnJvdywgYnJhY2tldFBvcy5jb2x1bW4sIGJyYWNrZXRQb3Mucm93LCBicmFja2V0UG9zLmNvbHVtbiArIDEpO1xuXG4gICAgICAgIHJldHVybiBbc3RhcnRSYW5nZSwgZW5kUmFuZ2VdO1xuICAgIH07XG5cbiAgICB0aGlzLiRicmFja2V0cyA9IHtcbiAgICAgICAgXCIpXCI6IFwiKFwiLFxuICAgICAgICBcIihcIjogXCIpXCIsXG4gICAgICAgIFwiXVwiOiBcIltcIixcbiAgICAgICAgXCJbXCI6IFwiXVwiLFxuICAgICAgICBcIntcIjogXCJ9XCIsXG4gICAgICAgIFwifVwiOiBcIntcIixcbiAgICAgICAgXCI8XCI6IFwiPlwiLFxuICAgICAgICBcIj5cIjogXCI8XCJcbiAgICB9O1xuXG4gICAgdGhpcy4kZmluZE9wZW5pbmdCcmFja2V0ID0gZnVuY3Rpb24oYnJhY2tldCwgcG9zaXRpb24sIHR5cGVSZSkge1xuICAgICAgICB2YXIgb3BlbkJyYWNrZXQgPSB0aGlzLiRicmFja2V0c1ticmFja2V0XTtcbiAgICAgICAgdmFyIGRlcHRoID0gMTtcblxuICAgICAgICB2YXIgaXRlcmF0b3IgPSBuZXcgVG9rZW5JdGVyYXRvcih0aGlzLCBwb3NpdGlvbi5yb3csIHBvc2l0aW9uLmNvbHVtbik7XG4gICAgICAgIHZhciB0b2tlbiA9IGl0ZXJhdG9yLmdldEN1cnJlbnRUb2tlbigpO1xuICAgICAgICBpZiAoIXRva2VuKVxuICAgICAgICAgICAgdG9rZW4gPSBpdGVyYXRvci5zdGVwRm9yd2FyZCgpO1xuICAgICAgICBpZiAoIXRva2VuKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBcbiAgICAgICAgIGlmICghdHlwZVJlKXtcbiAgICAgICAgICAgIHR5cGVSZSA9IG5ldyBSZWdFeHAoXG4gICAgICAgICAgICAgICAgXCIoXFxcXC4/XCIgK1xuICAgICAgICAgICAgICAgIHRva2VuLnR5cGUucmVwbGFjZShcIi5cIiwgXCJcXFxcLlwiKS5yZXBsYWNlKFwicnBhcmVuXCIsIFwiLnBhcmVuXCIpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXGIoPzplbmQpXFxiLywgXCIoPzpzdGFydHxiZWdpbnxlbmQpXCIpXG4gICAgICAgICAgICAgICAgKyBcIikrXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZhbHVlSW5kZXggPSBwb3NpdGlvbi5jb2x1bW4gLSBpdGVyYXRvci5nZXRDdXJyZW50VG9rZW5Db2x1bW4oKSAtIDI7XG4gICAgICAgIHZhciB2YWx1ZSA9IHRva2VuLnZhbHVlO1xuICAgICAgICBcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgXG4gICAgICAgICAgICB3aGlsZSAodmFsdWVJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNociA9IHZhbHVlLmNoYXJBdCh2YWx1ZUluZGV4KTtcbiAgICAgICAgICAgICAgICBpZiAoY2hyID09IG9wZW5CcmFja2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGRlcHRoIC09IDE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXB0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge3JvdzogaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuUm93KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uOiB2YWx1ZUluZGV4ICsgaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuQ29sdW1uKCl9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNociA9PSBicmFja2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGRlcHRoICs9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhbHVlSW5kZXggLT0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IGl0ZXJhdG9yLnN0ZXBCYWNrd2FyZCgpO1xuICAgICAgICAgICAgfSB3aGlsZSAodG9rZW4gJiYgIXR5cGVSZS50ZXN0KHRva2VuLnR5cGUpKTtcblxuICAgICAgICAgICAgaWYgKHRva2VuID09IG51bGwpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB2YWx1ZSA9IHRva2VuLnZhbHVlO1xuICAgICAgICAgICAgdmFsdWVJbmRleCA9IHZhbHVlLmxlbmd0aCAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG5cbiAgICB0aGlzLiRmaW5kQ2xvc2luZ0JyYWNrZXQgPSBmdW5jdGlvbihicmFja2V0LCBwb3NpdGlvbiwgdHlwZVJlKSB7XG4gICAgICAgIHZhciBjbG9zaW5nQnJhY2tldCA9IHRoaXMuJGJyYWNrZXRzW2JyYWNrZXRdO1xuICAgICAgICB2YXIgZGVwdGggPSAxO1xuXG4gICAgICAgIHZhciBpdGVyYXRvciA9IG5ldyBUb2tlbkl0ZXJhdG9yKHRoaXMsIHBvc2l0aW9uLnJvdywgcG9zaXRpb24uY29sdW1uKTtcbiAgICAgICAgdmFyIHRva2VuID0gaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuKCk7XG4gICAgICAgIGlmICghdG9rZW4pXG4gICAgICAgICAgICB0b2tlbiA9IGl0ZXJhdG9yLnN0ZXBGb3J3YXJkKCk7XG4gICAgICAgIGlmICghdG9rZW4pXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgaWYgKCF0eXBlUmUpe1xuICAgICAgICAgICAgdHlwZVJlID0gbmV3IFJlZ0V4cChcbiAgICAgICAgICAgICAgICBcIihcXFxcLj9cIiArXG4gICAgICAgICAgICAgICAgdG9rZW4udHlwZS5yZXBsYWNlKFwiLlwiLCBcIlxcXFwuXCIpLnJlcGxhY2UoXCJscGFyZW5cIiwgXCIucGFyZW5cIilcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcYig/OnN0YXJ0fGJlZ2luKVxcYi8sIFwiKD86c3RhcnR8YmVnaW58ZW5kKVwiKVxuICAgICAgICAgICAgICAgICsgXCIpK1wiXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHZhciB2YWx1ZUluZGV4ID0gcG9zaXRpb24uY29sdW1uIC0gaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuQ29sdW1uKCk7XG5cbiAgICAgICAgd2hpbGUgKHRydWUpIHtcblxuICAgICAgICAgICAgdmFyIHZhbHVlID0gdG9rZW4udmFsdWU7XG4gICAgICAgICAgICB2YXIgdmFsdWVMZW5ndGggPSB2YWx1ZS5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAodmFsdWVJbmRleCA8IHZhbHVlTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNociA9IHZhbHVlLmNoYXJBdCh2YWx1ZUluZGV4KTtcbiAgICAgICAgICAgICAgICBpZiAoY2hyID09IGNsb3NpbmdCcmFja2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGRlcHRoIC09IDE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXB0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge3JvdzogaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuUm93KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uOiB2YWx1ZUluZGV4ICsgaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuQ29sdW1uKCl9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNociA9PSBicmFja2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGRlcHRoICs9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhbHVlSW5kZXggKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IGl0ZXJhdG9yLnN0ZXBGb3J3YXJkKCk7XG4gICAgICAgICAgICB9IHdoaWxlICh0b2tlbiAmJiAhdHlwZVJlLnRlc3QodG9rZW4udHlwZSkpO1xuXG4gICAgICAgICAgICBpZiAodG9rZW4gPT0gbnVsbClcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgdmFsdWVJbmRleCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG59XG5leHBvcnRzLkJyYWNrZXRNYXRjaCA9IEJyYWNrZXRNYXRjaDtcblxufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvZWRpdF9zZXNzaW9uXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL29vcFwiLFwiYWNlL2xpYi9sYW5nXCIsXCJhY2UvYmlkaWhhbmRsZXJcIixcImFjZS9jb25maWdcIixcImFjZS9saWIvZXZlbnRfZW1pdHRlclwiLFwiYWNlL3NlbGVjdGlvblwiLFwiYWNlL21vZGUvdGV4dFwiLFwiYWNlL3JhbmdlXCIsXCJhY2UvZG9jdW1lbnRcIixcImFjZS9iYWNrZ3JvdW5kX3Rva2VuaXplclwiLFwiYWNlL3NlYXJjaF9oaWdobGlnaHRcIixcImFjZS9lZGl0X3Nlc3Npb24vZm9sZGluZ1wiLFwiYWNlL2VkaXRfc2Vzc2lvbi9icmFja2V0X21hdGNoXCJdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgb29wID0gcmVxdWlyZShcIi4vbGliL29vcFwiKTtcbnZhciBsYW5nID0gcmVxdWlyZShcIi4vbGliL2xhbmdcIik7XG52YXIgQmlkaUhhbmRsZXIgPSByZXF1aXJlKFwiLi9iaWRpaGFuZGxlclwiKS5CaWRpSGFuZGxlcjtcbnZhciBjb25maWcgPSByZXF1aXJlKFwiLi9jb25maWdcIik7XG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZShcIi4vbGliL2V2ZW50X2VtaXR0ZXJcIikuRXZlbnRFbWl0dGVyO1xudmFyIFNlbGVjdGlvbiA9IHJlcXVpcmUoXCIuL3NlbGVjdGlvblwiKS5TZWxlY3Rpb247XG52YXIgVGV4dE1vZGUgPSByZXF1aXJlKFwiLi9tb2RlL3RleHRcIikuTW9kZTtcbnZhciBSYW5nZSA9IHJlcXVpcmUoXCIuL3JhbmdlXCIpLlJhbmdlO1xudmFyIERvY3VtZW50ID0gcmVxdWlyZShcIi4vZG9jdW1lbnRcIikuRG9jdW1lbnQ7XG52YXIgQmFja2dyb3VuZFRva2VuaXplciA9IHJlcXVpcmUoXCIuL2JhY2tncm91bmRfdG9rZW5pemVyXCIpLkJhY2tncm91bmRUb2tlbml6ZXI7XG52YXIgU2VhcmNoSGlnaGxpZ2h0ID0gcmVxdWlyZShcIi4vc2VhcmNoX2hpZ2hsaWdodFwiKS5TZWFyY2hIaWdobGlnaHQ7XG5cbnZhciBFZGl0U2Vzc2lvbiA9IGZ1bmN0aW9uKHRleHQsIG1vZGUpIHtcbiAgICB0aGlzLiRicmVha3BvaW50cyA9IFtdO1xuICAgIHRoaXMuJGRlY29yYXRpb25zID0gW107XG4gICAgdGhpcy4kZnJvbnRNYXJrZXJzID0ge307XG4gICAgdGhpcy4kYmFja01hcmtlcnMgPSB7fTtcbiAgICB0aGlzLiRtYXJrZXJJZCA9IDE7XG4gICAgdGhpcy4kdW5kb1NlbGVjdCA9IHRydWU7XG5cbiAgICB0aGlzLiRmb2xkRGF0YSA9IFtdO1xuICAgIHRoaXMuaWQgPSBcInNlc3Npb25cIiArICgrK0VkaXRTZXNzaW9uLiR1aWQpO1xuICAgIHRoaXMuJGZvbGREYXRhLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmpvaW4oXCJcXG5cIik7XG4gICAgfTtcbiAgICB0aGlzLmJnVG9rZW5pemVyID0gbmV3IEJhY2tncm91bmRUb2tlbml6ZXIoKG5ldyBUZXh0TW9kZSgpKS5nZXRUb2tlbml6ZXIoKSwgdGhpcyk7XG5cbiAgICB2YXIgX3NlbGYgPSB0aGlzO1xuICAgIHRoaXMuYmdUb2tlbml6ZXIub24oXCJ1cGRhdGVcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICBfc2VsZi5fc2lnbmFsKFwidG9rZW5pemVyVXBkYXRlXCIsIGUpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5vbihcImNoYW5nZUZvbGRcIiwgdGhpcy5vbkNoYW5nZUZvbGQuYmluZCh0aGlzKSk7XG4gICAgdGhpcy4kb25DaGFuZ2UgPSB0aGlzLm9uQ2hhbmdlLmJpbmQodGhpcyk7XG5cbiAgICBpZiAodHlwZW9mIHRleHQgIT0gXCJvYmplY3RcIiB8fCAhdGV4dC5nZXRMaW5lKVxuICAgICAgICB0ZXh0ID0gbmV3IERvY3VtZW50KHRleHQpO1xuXG4gICAgdGhpcy5zZXREb2N1bWVudCh0ZXh0KTtcbiAgICB0aGlzLnNlbGVjdGlvbiA9IG5ldyBTZWxlY3Rpb24odGhpcyk7XG4gICAgdGhpcy4kYmlkaUhhbmRsZXIgPSBuZXcgQmlkaUhhbmRsZXIodGhpcyk7XG5cbiAgICBjb25maWcucmVzZXRPcHRpb25zKHRoaXMpO1xuICAgIHRoaXMuc2V0TW9kZShtb2RlKTtcbiAgICBjb25maWcuX3NpZ25hbChcInNlc3Npb25cIiwgdGhpcyk7XG5cbiAgICB0aGlzLmRlc3Ryb3llZCA9IGZhbHNlO1xufTtcblxuXG5FZGl0U2Vzc2lvbi4kdWlkID0gMDtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgb29wLmltcGxlbWVudCh0aGlzLCBFdmVudEVtaXR0ZXIpO1xuICAgIHRoaXMuc2V0RG9jdW1lbnQgPSBmdW5jdGlvbihkb2MpIHtcbiAgICAgICAgaWYgKHRoaXMuZG9jKVxuICAgICAgICAgICAgdGhpcy5kb2Mub2ZmKFwiY2hhbmdlXCIsIHRoaXMuJG9uQ2hhbmdlKTtcblxuICAgICAgICB0aGlzLmRvYyA9IGRvYztcbiAgICAgICAgZG9jLm9uKFwiY2hhbmdlXCIsIHRoaXMuJG9uQ2hhbmdlLCB0cnVlKTtcblxuICAgICAgICB0aGlzLmJnVG9rZW5pemVyLnNldERvY3VtZW50KHRoaXMuZ2V0RG9jdW1lbnQoKSk7XG5cbiAgICAgICAgdGhpcy5yZXNldENhY2hlcygpO1xuICAgIH07XG4gICAgdGhpcy5nZXREb2N1bWVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kb2M7XG4gICAgfTtcbiAgICB0aGlzLiRyZXNldFJvd0NhY2hlID0gZnVuY3Rpb24oZG9jUm93KSB7XG4gICAgICAgIGlmICghZG9jUm93KSB7XG4gICAgICAgICAgICB0aGlzLiRkb2NSb3dDYWNoZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy4kc2NyZWVuUm93Q2FjaGUgPSBbXTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbCA9IHRoaXMuJGRvY1Jvd0NhY2hlLmxlbmd0aDtcbiAgICAgICAgdmFyIGkgPSB0aGlzLiRnZXRSb3dDYWNoZUluZGV4KHRoaXMuJGRvY1Jvd0NhY2hlLCBkb2NSb3cpICsgMTtcbiAgICAgICAgaWYgKGwgPiBpKSB7XG4gICAgICAgICAgICB0aGlzLiRkb2NSb3dDYWNoZS5zcGxpY2UoaSwgbCk7XG4gICAgICAgICAgICB0aGlzLiRzY3JlZW5Sb3dDYWNoZS5zcGxpY2UoaSwgbCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy4kZ2V0Um93Q2FjaGVJbmRleCA9IGZ1bmN0aW9uKGNhY2hlQXJyYXksIHZhbCkge1xuICAgICAgICB2YXIgbG93ID0gMDtcbiAgICAgICAgdmFyIGhpID0gY2FjaGVBcnJheS5sZW5ndGggLSAxO1xuXG4gICAgICAgIHdoaWxlIChsb3cgPD0gaGkpIHtcbiAgICAgICAgICAgIHZhciBtaWQgPSAobG93ICsgaGkpID4+IDE7XG4gICAgICAgICAgICB2YXIgYyA9IGNhY2hlQXJyYXlbbWlkXTtcblxuICAgICAgICAgICAgaWYgKHZhbCA+IGMpXG4gICAgICAgICAgICAgICAgbG93ID0gbWlkICsgMTtcbiAgICAgICAgICAgIGVsc2UgaWYgKHZhbCA8IGMpXG4gICAgICAgICAgICAgICAgaGkgPSBtaWQgLSAxO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHJldHVybiBtaWQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbG93IC0xO1xuICAgIH07XG5cbiAgICB0aGlzLnJlc2V0Q2FjaGVzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJG1vZGlmaWVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy4kd3JhcERhdGEgPSBbXTtcbiAgICAgICAgdGhpcy4kcm93TGVuZ3RoQ2FjaGUgPSBbXTtcbiAgICAgICAgdGhpcy4kcmVzZXRSb3dDYWNoZSgwKTtcbiAgICAgICAgaWYgKCF0aGlzLmRlc3Ryb3llZClcbiAgICAgICAgICAgIHRoaXMuYmdUb2tlbml6ZXIuc3RhcnQoMCk7XG4gICAgfTtcblxuICAgIHRoaXMub25DaGFuZ2VGb2xkID0gZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgZm9sZCA9IGUuZGF0YTtcbiAgICAgICAgdGhpcy4kcmVzZXRSb3dDYWNoZShmb2xkLnN0YXJ0LnJvdyk7XG4gICAgfTtcblxuICAgIHRoaXMub25DaGFuZ2UgPSBmdW5jdGlvbihkZWx0YSkge1xuICAgICAgICB0aGlzLiRtb2RpZmllZCA9IHRydWU7XG4gICAgICAgIHRoaXMuJGJpZGlIYW5kbGVyLm9uQ2hhbmdlKGRlbHRhKTtcbiAgICAgICAgdGhpcy4kcmVzZXRSb3dDYWNoZShkZWx0YS5zdGFydC5yb3cpO1xuXG4gICAgICAgIHZhciByZW1vdmVkRm9sZHMgPSB0aGlzLiR1cGRhdGVJbnRlcm5hbERhdGFPbkNoYW5nZShkZWx0YSk7XG4gICAgICAgIGlmICghdGhpcy4kZnJvbVVuZG8gJiYgdGhpcy4kdW5kb01hbmFnZXIpIHtcbiAgICAgICAgICAgIGlmIChyZW1vdmVkRm9sZHMgJiYgcmVtb3ZlZEZvbGRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuJHVuZG9NYW5hZ2VyLmFkZCh7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogXCJyZW1vdmVGb2xkc1wiLFxuICAgICAgICAgICAgICAgICAgICBmb2xkczogIHJlbW92ZWRGb2xkc1xuICAgICAgICAgICAgICAgIH0sIHRoaXMubWVyZ2VVbmRvRGVsdGFzKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1lcmdlVW5kb0RlbHRhcyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLiR1bmRvTWFuYWdlci5hZGQoZGVsdGEsIHRoaXMubWVyZ2VVbmRvRGVsdGFzKTtcbiAgICAgICAgICAgIHRoaXMubWVyZ2VVbmRvRGVsdGFzID0gdHJ1ZTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy4kaW5mb3JtVW5kb01hbmFnZXIuc2NoZWR1bGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYmdUb2tlbml6ZXIuJHVwZGF0ZU9uQ2hhbmdlKGRlbHRhKTtcbiAgICAgICAgdGhpcy5fc2lnbmFsKFwiY2hhbmdlXCIsIGRlbHRhKTtcbiAgICB9O1xuICAgIHRoaXMuc2V0VmFsdWUgPSBmdW5jdGlvbih0ZXh0KSB7XG4gICAgICAgIHRoaXMuZG9jLnNldFZhbHVlKHRleHQpO1xuICAgICAgICB0aGlzLnNlbGVjdGlvbi5tb3ZlVG8oMCwgMCk7XG5cbiAgICAgICAgdGhpcy4kcmVzZXRSb3dDYWNoZSgwKTtcbiAgICAgICAgdGhpcy5zZXRVbmRvTWFuYWdlcih0aGlzLiR1bmRvTWFuYWdlcik7XG4gICAgICAgIHRoaXMuZ2V0VW5kb01hbmFnZXIoKS5yZXNldCgpO1xuICAgIH07XG4gICAgdGhpcy5nZXRWYWx1ZSA9XG4gICAgdGhpcy50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kb2MuZ2V0VmFsdWUoKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0U2VsZWN0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGlvbjtcbiAgICB9O1xuICAgIHRoaXMuZ2V0U3RhdGUgPSBmdW5jdGlvbihyb3cpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmdUb2tlbml6ZXIuZ2V0U3RhdGUocm93KTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0VG9rZW5zID0gZnVuY3Rpb24ocm93KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJnVG9rZW5pemVyLmdldFRva2Vucyhyb3cpO1xuICAgIH07XG4gICAgdGhpcy5nZXRUb2tlbkF0ID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHtcbiAgICAgICAgdmFyIHRva2VucyA9IHRoaXMuYmdUb2tlbml6ZXIuZ2V0VG9rZW5zKHJvdyk7XG4gICAgICAgIHZhciB0b2tlbiwgYyA9IDA7XG4gICAgICAgIGlmIChjb2x1bW4gPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGkgPSB0b2tlbnMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIGMgPSB0aGlzLmdldExpbmUocm93KS5sZW5ndGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGMgKz0gdG9rZW5zW2ldLnZhbHVlLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBpZiAoYyA+PSBjb2x1bW4pXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRva2VuID0gdG9rZW5zW2ldO1xuICAgICAgICBpZiAoIXRva2VuKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHRva2VuLmluZGV4ID0gaTtcbiAgICAgICAgdG9rZW4uc3RhcnQgPSBjIC0gdG9rZW4udmFsdWUubGVuZ3RoO1xuICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgfTtcbiAgICB0aGlzLnNldFVuZG9NYW5hZ2VyID0gZnVuY3Rpb24odW5kb01hbmFnZXIpIHtcbiAgICAgICAgdGhpcy4kdW5kb01hbmFnZXIgPSB1bmRvTWFuYWdlcjtcbiAgICAgICAgXG4gICAgICAgIGlmICh0aGlzLiRpbmZvcm1VbmRvTWFuYWdlcilcbiAgICAgICAgICAgIHRoaXMuJGluZm9ybVVuZG9NYW5hZ2VyLmNhbmNlbCgpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHVuZG9NYW5hZ2VyKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICB1bmRvTWFuYWdlci5hZGRTZXNzaW9uKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy4kc3luY0luZm9ybVVuZG9NYW5hZ2VyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgc2VsZi4kaW5mb3JtVW5kb01hbmFnZXIuY2FuY2VsKCk7XG4gICAgICAgICAgICAgICAgc2VsZi5tZXJnZVVuZG9EZWx0YXMgPSBmYWxzZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLiRpbmZvcm1VbmRvTWFuYWdlciA9IGxhbmcuZGVsYXllZENhbGwodGhpcy4kc3luY0luZm9ybVVuZG9NYW5hZ2VyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuJHN5bmNJbmZvcm1VbmRvTWFuYWdlciA9IGZ1bmN0aW9uKCkge307XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMubWFya1VuZG9Hcm91cCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy4kc3luY0luZm9ybVVuZG9NYW5hZ2VyKVxuICAgICAgICAgICAgdGhpcy4kc3luY0luZm9ybVVuZG9NYW5hZ2VyKCk7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLiRkZWZhdWx0VW5kb01hbmFnZXIgPSB7XG4gICAgICAgIHVuZG86IGZ1bmN0aW9uKCkge30sXG4gICAgICAgIHJlZG86IGZ1bmN0aW9uKCkge30sXG4gICAgICAgIGhhc1VuZG86IGZ1bmN0aW9uKCkge30sXG4gICAgICAgIGhhc1JlZG86IGZ1bmN0aW9uKCkge30sXG4gICAgICAgIHJlc2V0OiBmdW5jdGlvbigpIHt9LFxuICAgICAgICBhZGQ6IGZ1bmN0aW9uKCkge30sXG4gICAgICAgIGFkZFNlbGVjdGlvbjogZnVuY3Rpb24oKSB7fSxcbiAgICAgICAgc3RhcnROZXdHcm91cDogZnVuY3Rpb24oKSB7fSxcbiAgICAgICAgYWRkU2Vzc2lvbjogZnVuY3Rpb24oKSB7fVxuICAgIH07XG4gICAgdGhpcy5nZXRVbmRvTWFuYWdlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kdW5kb01hbmFnZXIgfHwgdGhpcy4kZGVmYXVsdFVuZG9NYW5hZ2VyO1xuICAgIH07XG4gICAgdGhpcy5nZXRUYWJTdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuZ2V0VXNlU29mdFRhYnMoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGxhbmcuc3RyaW5nUmVwZWF0KFwiIFwiLCB0aGlzLmdldFRhYlNpemUoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gXCJcXHRcIjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5zZXRVc2VTb2Z0VGFicyA9IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICB0aGlzLnNldE9wdGlvbihcInVzZVNvZnRUYWJzXCIsIHZhbCk7XG4gICAgfTtcbiAgICB0aGlzLmdldFVzZVNvZnRUYWJzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiR1c2VTb2Z0VGFicyAmJiAhdGhpcy4kbW9kZS4kaW5kZW50V2l0aFRhYnM7XG4gICAgfTtcbiAgICB0aGlzLnNldFRhYlNpemUgPSBmdW5jdGlvbih0YWJTaXplKSB7XG4gICAgICAgIHRoaXMuc2V0T3B0aW9uKFwidGFiU2l6ZVwiLCB0YWJTaXplKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0VGFiU2l6ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kdGFiU2l6ZTtcbiAgICB9O1xuICAgIHRoaXMuaXNUYWJTdG9wID0gZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHVzZVNvZnRUYWJzICYmIChwb3NpdGlvbi5jb2x1bW4gJSB0aGlzLiR0YWJTaXplID09PSAwKTtcbiAgICB9O1xuICAgIHRoaXMuc2V0TmF2aWdhdGVXaXRoaW5Tb2Z0VGFicyA9IGZ1bmN0aW9uIChuYXZpZ2F0ZVdpdGhpblNvZnRUYWJzKSB7XG4gICAgICAgIHRoaXMuc2V0T3B0aW9uKFwibmF2aWdhdGVXaXRoaW5Tb2Z0VGFic1wiLCBuYXZpZ2F0ZVdpdGhpblNvZnRUYWJzKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0TmF2aWdhdGVXaXRoaW5Tb2Z0VGFicyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kbmF2aWdhdGVXaXRoaW5Tb2Z0VGFicztcbiAgICB9O1xuXG4gICAgdGhpcy4kb3ZlcndyaXRlID0gZmFsc2U7XG4gICAgdGhpcy5zZXRPdmVyd3JpdGUgPSBmdW5jdGlvbihvdmVyd3JpdGUpIHtcbiAgICAgICAgdGhpcy5zZXRPcHRpb24oXCJvdmVyd3JpdGVcIiwgb3ZlcndyaXRlKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0T3ZlcndyaXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRvdmVyd3JpdGU7XG4gICAgfTtcbiAgICB0aGlzLnRvZ2dsZU92ZXJ3cml0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnNldE92ZXJ3cml0ZSghdGhpcy4kb3ZlcndyaXRlKTtcbiAgICB9O1xuICAgIHRoaXMuYWRkR3V0dGVyRGVjb3JhdGlvbiA9IGZ1bmN0aW9uKHJvdywgY2xhc3NOYW1lKSB7XG4gICAgICAgIGlmICghdGhpcy4kZGVjb3JhdGlvbnNbcm93XSlcbiAgICAgICAgICAgIHRoaXMuJGRlY29yYXRpb25zW3Jvd10gPSBcIlwiO1xuICAgICAgICB0aGlzLiRkZWNvcmF0aW9uc1tyb3ddICs9IFwiIFwiICsgY2xhc3NOYW1lO1xuICAgICAgICB0aGlzLl9zaWduYWwoXCJjaGFuZ2VCcmVha3BvaW50XCIsIHt9KTtcbiAgICB9O1xuICAgIHRoaXMucmVtb3ZlR3V0dGVyRGVjb3JhdGlvbiA9IGZ1bmN0aW9uKHJvdywgY2xhc3NOYW1lKSB7XG4gICAgICAgIHRoaXMuJGRlY29yYXRpb25zW3Jvd10gPSAodGhpcy4kZGVjb3JhdGlvbnNbcm93XSB8fCBcIlwiKS5yZXBsYWNlKFwiIFwiICsgY2xhc3NOYW1lLCBcIlwiKTtcbiAgICAgICAgdGhpcy5fc2lnbmFsKFwiY2hhbmdlQnJlYWtwb2ludFwiLCB7fSk7XG4gICAgfTtcbiAgICB0aGlzLmdldEJyZWFrcG9pbnRzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRicmVha3BvaW50cztcbiAgICB9O1xuICAgIHRoaXMuc2V0QnJlYWtwb2ludHMgPSBmdW5jdGlvbihyb3dzKSB7XG4gICAgICAgIHRoaXMuJGJyZWFrcG9pbnRzID0gW107XG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxyb3dzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLiRicmVha3BvaW50c1tyb3dzW2ldXSA9IFwiYWNlX2JyZWFrcG9pbnRcIjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zaWduYWwoXCJjaGFuZ2VCcmVha3BvaW50XCIsIHt9KTtcbiAgICB9O1xuICAgIHRoaXMuY2xlYXJCcmVha3BvaW50cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiRicmVha3BvaW50cyA9IFtdO1xuICAgICAgICB0aGlzLl9zaWduYWwoXCJjaGFuZ2VCcmVha3BvaW50XCIsIHt9KTtcbiAgICB9O1xuICAgIHRoaXMuc2V0QnJlYWtwb2ludCA9IGZ1bmN0aW9uKHJvdywgY2xhc3NOYW1lKSB7XG4gICAgICAgIGlmIChjbGFzc05hbWUgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIGNsYXNzTmFtZSA9IFwiYWNlX2JyZWFrcG9pbnRcIjtcbiAgICAgICAgaWYgKGNsYXNzTmFtZSlcbiAgICAgICAgICAgIHRoaXMuJGJyZWFrcG9pbnRzW3Jvd10gPSBjbGFzc05hbWU7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLiRicmVha3BvaW50c1tyb3ddO1xuICAgICAgICB0aGlzLl9zaWduYWwoXCJjaGFuZ2VCcmVha3BvaW50XCIsIHt9KTtcbiAgICB9O1xuICAgIHRoaXMuY2xlYXJCcmVha3BvaW50ID0gZnVuY3Rpb24ocm93KSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLiRicmVha3BvaW50c1tyb3ddO1xuICAgICAgICB0aGlzLl9zaWduYWwoXCJjaGFuZ2VCcmVha3BvaW50XCIsIHt9KTtcbiAgICB9O1xuICAgIHRoaXMuYWRkTWFya2VyID0gZnVuY3Rpb24ocmFuZ2UsIGNsYXp6LCB0eXBlLCBpbkZyb250KSB7XG4gICAgICAgIHZhciBpZCA9IHRoaXMuJG1hcmtlcklkKys7XG5cbiAgICAgICAgdmFyIG1hcmtlciA9IHtcbiAgICAgICAgICAgIHJhbmdlIDogcmFuZ2UsXG4gICAgICAgICAgICB0eXBlIDogdHlwZSB8fCBcImxpbmVcIixcbiAgICAgICAgICAgIHJlbmRlcmVyOiB0eXBlb2YgdHlwZSA9PSBcImZ1bmN0aW9uXCIgPyB0eXBlIDogbnVsbCxcbiAgICAgICAgICAgIGNsYXp6IDogY2xhenosXG4gICAgICAgICAgICBpbkZyb250OiAhIWluRnJvbnQsXG4gICAgICAgICAgICBpZDogaWRcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoaW5Gcm9udCkge1xuICAgICAgICAgICAgdGhpcy4kZnJvbnRNYXJrZXJzW2lkXSA9IG1hcmtlcjtcbiAgICAgICAgICAgIHRoaXMuX3NpZ25hbChcImNoYW5nZUZyb250TWFya2VyXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy4kYmFja01hcmtlcnNbaWRdID0gbWFya2VyO1xuICAgICAgICAgICAgdGhpcy5fc2lnbmFsKFwiY2hhbmdlQmFja01hcmtlclwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpZDtcbiAgICB9O1xuICAgIHRoaXMuYWRkRHluYW1pY01hcmtlciA9IGZ1bmN0aW9uKG1hcmtlciwgaW5Gcm9udCkge1xuICAgICAgICBpZiAoIW1hcmtlci51cGRhdGUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciBpZCA9IHRoaXMuJG1hcmtlcklkKys7XG4gICAgICAgIG1hcmtlci5pZCA9IGlkO1xuICAgICAgICBtYXJrZXIuaW5Gcm9udCA9ICEhaW5Gcm9udDtcblxuICAgICAgICBpZiAoaW5Gcm9udCkge1xuICAgICAgICAgICAgdGhpcy4kZnJvbnRNYXJrZXJzW2lkXSA9IG1hcmtlcjtcbiAgICAgICAgICAgIHRoaXMuX3NpZ25hbChcImNoYW5nZUZyb250TWFya2VyXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy4kYmFja01hcmtlcnNbaWRdID0gbWFya2VyO1xuICAgICAgICAgICAgdGhpcy5fc2lnbmFsKFwiY2hhbmdlQmFja01hcmtlclwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtYXJrZXI7XG4gICAgfTtcbiAgICB0aGlzLnJlbW92ZU1hcmtlciA9IGZ1bmN0aW9uKG1hcmtlcklkKSB7XG4gICAgICAgIHZhciBtYXJrZXIgPSB0aGlzLiRmcm9udE1hcmtlcnNbbWFya2VySWRdIHx8IHRoaXMuJGJhY2tNYXJrZXJzW21hcmtlcklkXTtcbiAgICAgICAgaWYgKCFtYXJrZXIpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdmFyIG1hcmtlcnMgPSBtYXJrZXIuaW5Gcm9udCA/IHRoaXMuJGZyb250TWFya2VycyA6IHRoaXMuJGJhY2tNYXJrZXJzO1xuICAgICAgICBkZWxldGUgKG1hcmtlcnNbbWFya2VySWRdKTtcbiAgICAgICAgdGhpcy5fc2lnbmFsKG1hcmtlci5pbkZyb250ID8gXCJjaGFuZ2VGcm9udE1hcmtlclwiIDogXCJjaGFuZ2VCYWNrTWFya2VyXCIpO1xuICAgIH07XG4gICAgdGhpcy5nZXRNYXJrZXJzID0gZnVuY3Rpb24oaW5Gcm9udCkge1xuICAgICAgICByZXR1cm4gaW5Gcm9udCA/IHRoaXMuJGZyb250TWFya2VycyA6IHRoaXMuJGJhY2tNYXJrZXJzO1xuICAgIH07XG5cbiAgICB0aGlzLmhpZ2hsaWdodCA9IGZ1bmN0aW9uKHJlKSB7XG4gICAgICAgIGlmICghdGhpcy4kc2VhcmNoSGlnaGxpZ2h0KSB7XG4gICAgICAgICAgICB2YXIgaGlnaGxpZ2h0ID0gbmV3IFNlYXJjaEhpZ2hsaWdodChudWxsLCBcImFjZV9zZWxlY3RlZC13b3JkXCIsIFwidGV4dFwiKTtcbiAgICAgICAgICAgIHRoaXMuJHNlYXJjaEhpZ2hsaWdodCA9IHRoaXMuYWRkRHluYW1pY01hcmtlcihoaWdobGlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuJHNlYXJjaEhpZ2hsaWdodC5zZXRSZWdleHAocmUpO1xuICAgIH07XG4gICAgdGhpcy5oaWdobGlnaHRMaW5lcyA9IGZ1bmN0aW9uKHN0YXJ0Um93LCBlbmRSb3csIGNsYXp6LCBpbkZyb250KSB7XG4gICAgICAgIGlmICh0eXBlb2YgZW5kUm93ICE9IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIGNsYXp6ID0gZW5kUm93O1xuICAgICAgICAgICAgZW5kUm93ID0gc3RhcnRSb3c7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjbGF6eilcbiAgICAgICAgICAgIGNsYXp6ID0gXCJhY2Vfc3RlcFwiO1xuXG4gICAgICAgIHZhciByYW5nZSA9IG5ldyBSYW5nZShzdGFydFJvdywgMCwgZW5kUm93LCBJbmZpbml0eSk7XG4gICAgICAgIHJhbmdlLmlkID0gdGhpcy5hZGRNYXJrZXIocmFuZ2UsIGNsYXp6LCBcImZ1bGxMaW5lXCIsIGluRnJvbnQpO1xuICAgICAgICByZXR1cm4gcmFuZ2U7XG4gICAgfTtcbiAgICB0aGlzLnNldEFubm90YXRpb25zID0gZnVuY3Rpb24oYW5ub3RhdGlvbnMpIHtcbiAgICAgICAgdGhpcy4kYW5ub3RhdGlvbnMgPSBhbm5vdGF0aW9ucztcbiAgICAgICAgdGhpcy5fc2lnbmFsKFwiY2hhbmdlQW5ub3RhdGlvblwiLCB7fSk7XG4gICAgfTtcbiAgICB0aGlzLmdldEFubm90YXRpb25zID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRhbm5vdGF0aW9ucyB8fCBbXTtcbiAgICB9O1xuICAgIHRoaXMuY2xlYXJBbm5vdGF0aW9ucyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnNldEFubm90YXRpb25zKFtdKTtcbiAgICB9O1xuICAgIHRoaXMuJGRldGVjdE5ld0xpbmUgPSBmdW5jdGlvbih0ZXh0KSB7XG4gICAgICAgIHZhciBtYXRjaCA9IHRleHQubWF0Y2goL14uKj8oXFxyP1xcbikvbSk7XG4gICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgdGhpcy4kYXV0b05ld0xpbmUgPSBtYXRjaFsxXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuJGF1dG9OZXdMaW5lID0gXCJcXG5cIjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5nZXRXb3JkUmFuZ2UgPSBmdW5jdGlvbihyb3csIGNvbHVtbikge1xuICAgICAgICB2YXIgbGluZSA9IHRoaXMuZ2V0TGluZShyb3cpO1xuXG4gICAgICAgIHZhciBpblRva2VuID0gZmFsc2U7XG4gICAgICAgIGlmIChjb2x1bW4gPiAwKVxuICAgICAgICAgICAgaW5Ub2tlbiA9ICEhbGluZS5jaGFyQXQoY29sdW1uIC0gMSkubWF0Y2godGhpcy50b2tlblJlKTtcblxuICAgICAgICBpZiAoIWluVG9rZW4pXG4gICAgICAgICAgICBpblRva2VuID0gISFsaW5lLmNoYXJBdChjb2x1bW4pLm1hdGNoKHRoaXMudG9rZW5SZSk7XG5cbiAgICAgICAgaWYgKGluVG9rZW4pXG4gICAgICAgICAgICB2YXIgcmUgPSB0aGlzLnRva2VuUmU7XG4gICAgICAgIGVsc2UgaWYgKC9eXFxzKyQvLnRlc3QobGluZS5zbGljZShjb2x1bW4tMSwgY29sdW1uKzEpKSlcbiAgICAgICAgICAgIHZhciByZSA9IC9cXHMvO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB2YXIgcmUgPSB0aGlzLm5vblRva2VuUmU7XG5cbiAgICAgICAgdmFyIHN0YXJ0ID0gY29sdW1uO1xuICAgICAgICBpZiAoc3RhcnQgPiAwKSB7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgc3RhcnQtLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlIChzdGFydCA+PSAwICYmIGxpbmUuY2hhckF0KHN0YXJ0KS5tYXRjaChyZSkpO1xuICAgICAgICAgICAgc3RhcnQrKztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBlbmQgPSBjb2x1bW47XG4gICAgICAgIHdoaWxlIChlbmQgPCBsaW5lLmxlbmd0aCAmJiBsaW5lLmNoYXJBdChlbmQpLm1hdGNoKHJlKSkge1xuICAgICAgICAgICAgZW5kKys7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHJvdywgc3RhcnQsIHJvdywgZW5kKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0QVdvcmRSYW5nZSA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7XG4gICAgICAgIHZhciB3b3JkUmFuZ2UgPSB0aGlzLmdldFdvcmRSYW5nZShyb3csIGNvbHVtbik7XG4gICAgICAgIHZhciBsaW5lID0gdGhpcy5nZXRMaW5lKHdvcmRSYW5nZS5lbmQucm93KTtcblxuICAgICAgICB3aGlsZSAobGluZS5jaGFyQXQod29yZFJhbmdlLmVuZC5jb2x1bW4pLm1hdGNoKC9bIFxcdF0vKSkge1xuICAgICAgICAgICAgd29yZFJhbmdlLmVuZC5jb2x1bW4gKz0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd29yZFJhbmdlO1xuICAgIH07XG4gICAgdGhpcy5zZXROZXdMaW5lTW9kZSA9IGZ1bmN0aW9uKG5ld0xpbmVNb2RlKSB7XG4gICAgICAgIHRoaXMuZG9jLnNldE5ld0xpbmVNb2RlKG5ld0xpbmVNb2RlKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0TmV3TGluZU1vZGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9jLmdldE5ld0xpbmVNb2RlKCk7XG4gICAgfTtcbiAgICB0aGlzLnNldFVzZVdvcmtlciA9IGZ1bmN0aW9uKHVzZVdvcmtlcikgeyB0aGlzLnNldE9wdGlvbihcInVzZVdvcmtlclwiLCB1c2VXb3JrZXIpOyB9O1xuICAgIHRoaXMuZ2V0VXNlV29ya2VyID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLiR1c2VXb3JrZXI7IH07XG4gICAgdGhpcy5vblJlbG9hZFRva2VuaXplciA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIHJvd3MgPSBlLmRhdGE7XG4gICAgICAgIHRoaXMuYmdUb2tlbml6ZXIuc3RhcnQocm93cy5maXJzdCk7XG4gICAgICAgIHRoaXMuX3NpZ25hbChcInRva2VuaXplclVwZGF0ZVwiLCBlKTtcbiAgICB9O1xuXG4gICAgdGhpcy4kbW9kZXMgPSBjb25maWcuJG1vZGVzO1xuICAgIHRoaXMuJG1vZGUgPSBudWxsO1xuICAgIHRoaXMuJG1vZGVJZCA9IG51bGw7XG4gICAgdGhpcy5zZXRNb2RlID0gZnVuY3Rpb24obW9kZSwgY2IpIHtcbiAgICAgICAgaWYgKG1vZGUgJiYgdHlwZW9mIG1vZGUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIGlmIChtb2RlLmdldFRva2VuaXplcilcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kb25DaGFuZ2VNb2RlKG1vZGUpO1xuICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSBtb2RlO1xuICAgICAgICAgICAgdmFyIHBhdGggPSBvcHRpb25zLnBhdGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXRoID0gbW9kZSB8fCBcImFjZS9tb2RlL3RleHRcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuJG1vZGVzW1wiYWNlL21vZGUvdGV4dFwiXSlcbiAgICAgICAgICAgIHRoaXMuJG1vZGVzW1wiYWNlL21vZGUvdGV4dFwiXSA9IG5ldyBUZXh0TW9kZSgpO1xuXG4gICAgICAgIGlmICh0aGlzLiRtb2Rlc1twYXRoXSAmJiAhb3B0aW9ucykge1xuICAgICAgICAgICAgdGhpcy4kb25DaGFuZ2VNb2RlKHRoaXMuJG1vZGVzW3BhdGhdKTtcbiAgICAgICAgICAgIGNiICYmIGNiKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4kbW9kZUlkID0gcGF0aDtcbiAgICAgICAgY29uZmlnLmxvYWRNb2R1bGUoW1wibW9kZVwiLCBwYXRoXSwgZnVuY3Rpb24obSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuJG1vZGVJZCAhPT0gcGF0aClcbiAgICAgICAgICAgICAgICByZXR1cm4gY2IgJiYgY2IoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLiRtb2Rlc1twYXRoXSAmJiAhb3B0aW9ucykge1xuICAgICAgICAgICAgICAgIHRoaXMuJG9uQ2hhbmdlTW9kZSh0aGlzLiRtb2Rlc1twYXRoXSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG0gJiYgbS5Nb2RlKSB7XG4gICAgICAgICAgICAgICAgbSA9IG5ldyBtLk1vZGUob3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJG1vZGVzW3BhdGhdID0gbTtcbiAgICAgICAgICAgICAgICAgICAgbS4kaWQgPSBwYXRoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLiRvbkNoYW5nZU1vZGUobSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYiAmJiBjYigpO1xuICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICBpZiAoIXRoaXMuJG1vZGUpXG4gICAgICAgICAgICB0aGlzLiRvbkNoYW5nZU1vZGUodGhpcy4kbW9kZXNbXCJhY2UvbW9kZS90ZXh0XCJdLCB0cnVlKTtcbiAgICB9O1xuXG4gICAgdGhpcy4kb25DaGFuZ2VNb2RlID0gZnVuY3Rpb24obW9kZSwgJGlzUGxhY2Vob2xkZXIpIHtcbiAgICAgICAgaWYgKCEkaXNQbGFjZWhvbGRlcilcbiAgICAgICAgICAgIHRoaXMuJG1vZGVJZCA9IG1vZGUuJGlkO1xuICAgICAgICBpZiAodGhpcy4kbW9kZSA9PT0gbW9kZSkgXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBcbiAgICAgICAgdmFyIG9sZE1vZGUgPSB0aGlzLiRtb2RlO1xuICAgICAgICB0aGlzLiRtb2RlID0gbW9kZTtcblxuICAgICAgICB0aGlzLiRzdG9wV29ya2VyKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuJHVzZVdvcmtlcilcbiAgICAgICAgICAgIHRoaXMuJHN0YXJ0V29ya2VyKCk7XG5cbiAgICAgICAgdmFyIHRva2VuaXplciA9IG1vZGUuZ2V0VG9rZW5pemVyKCk7XG5cbiAgICAgICAgaWYodG9rZW5pemVyLm9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZhciBvblJlbG9hZFRva2VuaXplciA9IHRoaXMub25SZWxvYWRUb2tlbml6ZXIuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHRva2VuaXplci5vbihcInVwZGF0ZVwiLCBvblJlbG9hZFRva2VuaXplcik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJnVG9rZW5pemVyLnNldFRva2VuaXplcih0b2tlbml6ZXIpO1xuICAgICAgICB0aGlzLmJnVG9rZW5pemVyLnNldERvY3VtZW50KHRoaXMuZ2V0RG9jdW1lbnQoKSk7XG5cbiAgICAgICAgdGhpcy50b2tlblJlID0gbW9kZS50b2tlblJlO1xuICAgICAgICB0aGlzLm5vblRva2VuUmUgPSBtb2RlLm5vblRva2VuUmU7XG5cbiAgICAgICAgXG4gICAgICAgIGlmICghJGlzUGxhY2Vob2xkZXIpIHtcbiAgICAgICAgICAgIGlmIChtb2RlLmF0dGFjaFRvU2Vzc2lvbilcbiAgICAgICAgICAgICAgICBtb2RlLmF0dGFjaFRvU2Vzc2lvbih0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuJG9wdGlvbnMud3JhcE1ldGhvZC5zZXQuY2FsbCh0aGlzLCB0aGlzLiR3cmFwTWV0aG9kKTtcbiAgICAgICAgICAgIHRoaXMuJHNldEZvbGRpbmcobW9kZS5mb2xkaW5nUnVsZXMpO1xuICAgICAgICAgICAgdGhpcy5iZ1Rva2VuaXplci5zdGFydCgwKTtcbiAgICAgICAgICAgIHRoaXMuX2VtaXQoXCJjaGFuZ2VNb2RlXCIsIHtvbGRNb2RlOiBvbGRNb2RlLCBtb2RlOiBtb2RlfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy4kc3RvcFdvcmtlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy4kd29ya2VyKSB7XG4gICAgICAgICAgICB0aGlzLiR3b3JrZXIudGVybWluYXRlKCk7XG4gICAgICAgICAgICB0aGlzLiR3b3JrZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuJHN0YXJ0V29ya2VyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLiR3b3JrZXIgPSB0aGlzLiRtb2RlLmNyZWF0ZVdvcmtlcih0aGlzKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uZmlnLndhcm4oXCJDb3VsZCBub3QgbG9hZCB3b3JrZXJcIiwgZSk7XG4gICAgICAgICAgICB0aGlzLiR3b3JrZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmdldE1vZGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJG1vZGU7XG4gICAgfTtcblxuICAgIHRoaXMuJHNjcm9sbFRvcCA9IDA7XG4gICAgdGhpcy5zZXRTY3JvbGxUb3AgPSBmdW5jdGlvbihzY3JvbGxUb3ApIHtcbiAgICAgICAgaWYgKHRoaXMuJHNjcm9sbFRvcCA9PT0gc2Nyb2xsVG9wIHx8IGlzTmFOKHNjcm9sbFRvcCkpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdGhpcy4kc2Nyb2xsVG9wID0gc2Nyb2xsVG9wO1xuICAgICAgICB0aGlzLl9zaWduYWwoXCJjaGFuZ2VTY3JvbGxUb3BcIiwgc2Nyb2xsVG9wKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0U2Nyb2xsVG9wID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRzY3JvbGxUb3A7XG4gICAgfTtcblxuICAgIHRoaXMuJHNjcm9sbExlZnQgPSAwO1xuICAgIHRoaXMuc2V0U2Nyb2xsTGVmdCA9IGZ1bmN0aW9uKHNjcm9sbExlZnQpIHtcbiAgICAgICAgaWYgKHRoaXMuJHNjcm9sbExlZnQgPT09IHNjcm9sbExlZnQgfHwgaXNOYU4oc2Nyb2xsTGVmdCkpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdGhpcy4kc2Nyb2xsTGVmdCA9IHNjcm9sbExlZnQ7XG4gICAgICAgIHRoaXMuX3NpZ25hbChcImNoYW5nZVNjcm9sbExlZnRcIiwgc2Nyb2xsTGVmdCk7XG4gICAgfTtcbiAgICB0aGlzLmdldFNjcm9sbExlZnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHNjcm9sbExlZnQ7XG4gICAgfTtcbiAgICB0aGlzLmdldFNjcmVlbldpZHRoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJGNvbXB1dGVXaWR0aCgpO1xuICAgICAgICBpZiAodGhpcy5saW5lV2lkZ2V0cykgXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5tYXgodGhpcy5nZXRMaW5lV2lkZ2V0TWF4V2lkdGgoKSwgdGhpcy5zY3JlZW5XaWR0aCk7XG4gICAgICAgIHJldHVybiB0aGlzLnNjcmVlbldpZHRoO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5nZXRMaW5lV2lkZ2V0TWF4V2lkdGggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMubGluZVdpZGdldHNXaWR0aCAhPSBudWxsKSByZXR1cm4gdGhpcy5saW5lV2lkZ2V0c1dpZHRoO1xuICAgICAgICB2YXIgd2lkdGggPSAwO1xuICAgICAgICB0aGlzLmxpbmVXaWRnZXRzLmZvckVhY2goZnVuY3Rpb24odykge1xuICAgICAgICAgICAgaWYgKHcgJiYgdy5zY3JlZW5XaWR0aCA+IHdpZHRoKVxuICAgICAgICAgICAgICAgIHdpZHRoID0gdy5zY3JlZW5XaWR0aDtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLmxpbmVXaWRnZXRXaWR0aCA9IHdpZHRoO1xuICAgIH07XG5cbiAgICB0aGlzLiRjb21wdXRlV2lkdGggPSBmdW5jdGlvbihmb3JjZSkge1xuICAgICAgICBpZiAodGhpcy4kbW9kaWZpZWQgfHwgZm9yY2UpIHtcbiAgICAgICAgICAgIHRoaXMuJG1vZGlmaWVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLiR1c2VXcmFwTW9kZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zY3JlZW5XaWR0aCA9IHRoaXMuJHdyYXBMaW1pdDtcblxuICAgICAgICAgICAgdmFyIGxpbmVzID0gdGhpcy5kb2MuZ2V0QWxsTGluZXMoKTtcbiAgICAgICAgICAgIHZhciBjYWNoZSA9IHRoaXMuJHJvd0xlbmd0aENhY2hlO1xuICAgICAgICAgICAgdmFyIGxvbmdlc3RTY3JlZW5MaW5lID0gMDtcbiAgICAgICAgICAgIHZhciBmb2xkSW5kZXggPSAwO1xuICAgICAgICAgICAgdmFyIGZvbGRMaW5lID0gdGhpcy4kZm9sZERhdGFbZm9sZEluZGV4XTtcbiAgICAgICAgICAgIHZhciBmb2xkU3RhcnQgPSBmb2xkTGluZSA/IGZvbGRMaW5lLnN0YXJ0LnJvdyA6IEluZmluaXR5O1xuICAgICAgICAgICAgdmFyIGxlbiA9IGxpbmVzLmxlbmd0aDtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChpID4gZm9sZFN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIGkgPSBmb2xkTGluZS5lbmQucm93ICsgMTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPj0gbGVuKVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGZvbGRMaW5lID0gdGhpcy4kZm9sZERhdGFbZm9sZEluZGV4KytdO1xuICAgICAgICAgICAgICAgICAgICBmb2xkU3RhcnQgPSBmb2xkTGluZSA/IGZvbGRMaW5lLnN0YXJ0LnJvdyA6IEluZmluaXR5O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChjYWNoZVtpXSA9PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICBjYWNoZVtpXSA9IHRoaXMuJGdldFN0cmluZ1NjcmVlbldpZHRoKGxpbmVzW2ldKVswXTtcblxuICAgICAgICAgICAgICAgIGlmIChjYWNoZVtpXSA+IGxvbmdlc3RTY3JlZW5MaW5lKVxuICAgICAgICAgICAgICAgICAgICBsb25nZXN0U2NyZWVuTGluZSA9IGNhY2hlW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zY3JlZW5XaWR0aCA9IGxvbmdlc3RTY3JlZW5MaW5lO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmdldExpbmUgPSBmdW5jdGlvbihyb3cpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9jLmdldExpbmUocm93KTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0TGluZXMgPSBmdW5jdGlvbihmaXJzdFJvdywgbGFzdFJvdykge1xuICAgICAgICByZXR1cm4gdGhpcy5kb2MuZ2V0TGluZXMoZmlyc3RSb3csIGxhc3RSb3cpO1xuICAgIH07XG4gICAgdGhpcy5nZXRMZW5ndGggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9jLmdldExlbmd0aCgpO1xuICAgIH07XG4gICAgdGhpcy5nZXRUZXh0UmFuZ2UgPSBmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5kb2MuZ2V0VGV4dFJhbmdlKHJhbmdlIHx8IHRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCkpO1xuICAgIH07XG4gICAgdGhpcy5pbnNlcnQgPSBmdW5jdGlvbihwb3NpdGlvbiwgdGV4dCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kb2MuaW5zZXJ0KHBvc2l0aW9uLCB0ZXh0KTtcbiAgICB9O1xuICAgIHRoaXMucmVtb3ZlID0gZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9jLnJlbW92ZShyYW5nZSk7XG4gICAgfTtcbiAgICB0aGlzLnJlbW92ZUZ1bGxMaW5lcyA9IGZ1bmN0aW9uKGZpcnN0Um93LCBsYXN0Um93KXtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9jLnJlbW92ZUZ1bGxMaW5lcyhmaXJzdFJvdywgbGFzdFJvdyk7XG4gICAgfTtcbiAgICB0aGlzLnVuZG9DaGFuZ2VzID0gZnVuY3Rpb24oZGVsdGFzLCBkb250U2VsZWN0KSB7XG4gICAgICAgIGlmICghZGVsdGFzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB0aGlzLiRmcm9tVW5kbyA9IHRydWU7XG4gICAgICAgIGZvciAodmFyIGkgPSBkZWx0YXMubGVuZ3RoIC0gMTsgaSAhPSAtMTsgaS0tKSB7XG4gICAgICAgICAgICB2YXIgZGVsdGEgPSBkZWx0YXNbaV07XG4gICAgICAgICAgICBpZiAoZGVsdGEuYWN0aW9uID09IFwiaW5zZXJ0XCIgfHwgZGVsdGEuYWN0aW9uID09IFwicmVtb3ZlXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRvYy5yZXZlcnREZWx0YShkZWx0YSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRlbHRhLmZvbGRzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRGb2xkcyhkZWx0YS5mb2xkcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkb250U2VsZWN0ICYmIHRoaXMuJHVuZG9TZWxlY3QpIHtcbiAgICAgICAgICAgIGlmIChkZWx0YXMuc2VsZWN0aW9uQmVmb3JlKVxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLmZyb21KU09OKGRlbHRhcy5zZWxlY3Rpb25CZWZvcmUpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLnNldFJhbmdlKHRoaXMuJGdldFVuZG9TZWxlY3Rpb24oZGVsdGFzLCB0cnVlKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4kZnJvbVVuZG8gPSBmYWxzZTtcbiAgICB9O1xuICAgIHRoaXMucmVkb0NoYW5nZXMgPSBmdW5jdGlvbihkZWx0YXMsIGRvbnRTZWxlY3QpIHtcbiAgICAgICAgaWYgKCFkZWx0YXMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuJGZyb21VbmRvID0gdHJ1ZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZWx0YXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBkZWx0YSA9IGRlbHRhc1tpXTtcbiAgICAgICAgICAgIGlmIChkZWx0YS5hY3Rpb24gPT0gXCJpbnNlcnRcIiB8fCBkZWx0YS5hY3Rpb24gPT0gXCJyZW1vdmVcIikge1xuICAgICAgICAgICAgICAgIHRoaXMuZG9jLiRzYWZlQXBwbHlEZWx0YShkZWx0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWRvbnRTZWxlY3QgJiYgdGhpcy4kdW5kb1NlbGVjdCkge1xuICAgICAgICAgICAgaWYgKGRlbHRhcy5zZWxlY3Rpb25BZnRlcilcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5mcm9tSlNPTihkZWx0YXMuc2VsZWN0aW9uQWZ0ZXIpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLnNldFJhbmdlKHRoaXMuJGdldFVuZG9TZWxlY3Rpb24oZGVsdGFzLCBmYWxzZSkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuJGZyb21VbmRvID0gZmFsc2U7XG4gICAgfTtcbiAgICB0aGlzLnNldFVuZG9TZWxlY3QgPSBmdW5jdGlvbihlbmFibGUpIHtcbiAgICAgICAgdGhpcy4kdW5kb1NlbGVjdCA9IGVuYWJsZTtcbiAgICB9O1xuXG4gICAgdGhpcy4kZ2V0VW5kb1NlbGVjdGlvbiA9IGZ1bmN0aW9uKGRlbHRhcywgaXNVbmRvKSB7XG4gICAgICAgIGZ1bmN0aW9uIGlzSW5zZXJ0KGRlbHRhKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNVbmRvID8gZGVsdGEuYWN0aW9uICE9PSBcImluc2VydFwiIDogZGVsdGEuYWN0aW9uID09PSBcImluc2VydFwiO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJhbmdlLCBwb2ludDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRlbHRhcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGRlbHRhID0gZGVsdGFzW2ldO1xuICAgICAgICAgICAgaWYgKCFkZWx0YS5zdGFydCkgY29udGludWU7IC8vIHNraXAgZm9sZHNcbiAgICAgICAgICAgIGlmICghcmFuZ2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNJbnNlcnQoZGVsdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlID0gUmFuZ2UuZnJvbVBvaW50cyhkZWx0YS5zdGFydCwgZGVsdGEuZW5kKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByYW5nZSA9IFJhbmdlLmZyb21Qb2ludHMoZGVsdGEuc3RhcnQsIGRlbHRhLnN0YXJ0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChpc0luc2VydChkZWx0YSkpIHtcbiAgICAgICAgICAgICAgICBwb2ludCA9IGRlbHRhLnN0YXJ0O1xuICAgICAgICAgICAgICAgIGlmIChyYW5nZS5jb21wYXJlKHBvaW50LnJvdywgcG9pbnQuY29sdW1uKSA9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydChwb2ludCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBvaW50ID0gZGVsdGEuZW5kO1xuICAgICAgICAgICAgICAgIGlmIChyYW5nZS5jb21wYXJlKHBvaW50LnJvdywgcG9pbnQuY29sdW1uKSA9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldEVuZChwb2ludCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwb2ludCA9IGRlbHRhLnN0YXJ0O1xuICAgICAgICAgICAgICAgIGlmIChyYW5nZS5jb21wYXJlKHBvaW50LnJvdywgcG9pbnQuY29sdW1uKSA9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICByYW5nZSA9IFJhbmdlLmZyb21Qb2ludHMoZGVsdGEuc3RhcnQsIGRlbHRhLnN0YXJ0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJhbmdlO1xuICAgIH07XG4gICAgdGhpcy5yZXBsYWNlID0gZnVuY3Rpb24ocmFuZ2UsIHRleHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9jLnJlcGxhY2UocmFuZ2UsIHRleHQpO1xuICAgIH07XG4gICAgdGhpcy5tb3ZlVGV4dCA9IGZ1bmN0aW9uKGZyb21SYW5nZSwgdG9Qb3NpdGlvbiwgY29weSkge1xuICAgICAgICB2YXIgdGV4dCA9IHRoaXMuZ2V0VGV4dFJhbmdlKGZyb21SYW5nZSk7XG4gICAgICAgIHZhciBmb2xkcyA9IHRoaXMuZ2V0Rm9sZHNJblJhbmdlKGZyb21SYW5nZSk7XG5cbiAgICAgICAgdmFyIHRvUmFuZ2UgPSBSYW5nZS5mcm9tUG9pbnRzKHRvUG9zaXRpb24sIHRvUG9zaXRpb24pO1xuICAgICAgICBpZiAoIWNvcHkpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlKGZyb21SYW5nZSk7XG4gICAgICAgICAgICB2YXIgcm93RGlmZiA9IGZyb21SYW5nZS5zdGFydC5yb3cgLSBmcm9tUmFuZ2UuZW5kLnJvdztcbiAgICAgICAgICAgIHZhciBjb2xsRGlmZiA9IHJvd0RpZmYgPyAtZnJvbVJhbmdlLmVuZC5jb2x1bW4gOiBmcm9tUmFuZ2Uuc3RhcnQuY29sdW1uIC0gZnJvbVJhbmdlLmVuZC5jb2x1bW47XG4gICAgICAgICAgICBpZiAoY29sbERpZmYpIHtcbiAgICAgICAgICAgICAgICBpZiAodG9SYW5nZS5zdGFydC5yb3cgPT0gZnJvbVJhbmdlLmVuZC5yb3cgJiYgdG9SYW5nZS5zdGFydC5jb2x1bW4gPiBmcm9tUmFuZ2UuZW5kLmNvbHVtbilcbiAgICAgICAgICAgICAgICAgICAgdG9SYW5nZS5zdGFydC5jb2x1bW4gKz0gY29sbERpZmY7XG4gICAgICAgICAgICAgICAgaWYgKHRvUmFuZ2UuZW5kLnJvdyA9PSBmcm9tUmFuZ2UuZW5kLnJvdyAmJiB0b1JhbmdlLmVuZC5jb2x1bW4gPiBmcm9tUmFuZ2UuZW5kLmNvbHVtbilcbiAgICAgICAgICAgICAgICAgICAgdG9SYW5nZS5lbmQuY29sdW1uICs9IGNvbGxEaWZmO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJvd0RpZmYgJiYgdG9SYW5nZS5zdGFydC5yb3cgPj0gZnJvbVJhbmdlLmVuZC5yb3cpIHtcbiAgICAgICAgICAgICAgICB0b1JhbmdlLnN0YXJ0LnJvdyArPSByb3dEaWZmO1xuICAgICAgICAgICAgICAgIHRvUmFuZ2UuZW5kLnJvdyArPSByb3dEaWZmO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdG9SYW5nZS5lbmQgPSB0aGlzLmluc2VydCh0b1JhbmdlLnN0YXJ0LCB0ZXh0KTtcbiAgICAgICAgaWYgKGZvbGRzLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIG9sZFN0YXJ0ID0gZnJvbVJhbmdlLnN0YXJ0O1xuICAgICAgICAgICAgdmFyIG5ld1N0YXJ0ID0gdG9SYW5nZS5zdGFydDtcbiAgICAgICAgICAgIHZhciByb3dEaWZmID0gbmV3U3RhcnQucm93IC0gb2xkU3RhcnQucm93O1xuICAgICAgICAgICAgdmFyIGNvbGxEaWZmID0gbmV3U3RhcnQuY29sdW1uIC0gb2xkU3RhcnQuY29sdW1uO1xuICAgICAgICAgICAgdGhpcy5hZGRGb2xkcyhmb2xkcy5tYXAoZnVuY3Rpb24oeCkge1xuICAgICAgICAgICAgICAgIHggPSB4LmNsb25lKCk7XG4gICAgICAgICAgICAgICAgaWYgKHguc3RhcnQucm93ID09IG9sZFN0YXJ0LnJvdylcbiAgICAgICAgICAgICAgICAgICAgeC5zdGFydC5jb2x1bW4gKz0gY29sbERpZmY7XG4gICAgICAgICAgICAgICAgaWYgKHguZW5kLnJvdyA9PSBvbGRTdGFydC5yb3cpXG4gICAgICAgICAgICAgICAgICAgIHguZW5kLmNvbHVtbiArPSBjb2xsRGlmZjtcbiAgICAgICAgICAgICAgICB4LnN0YXJ0LnJvdyArPSByb3dEaWZmO1xuICAgICAgICAgICAgICAgIHguZW5kLnJvdyArPSByb3dEaWZmO1xuICAgICAgICAgICAgICAgIHJldHVybiB4O1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRvUmFuZ2U7XG4gICAgfTtcbiAgICB0aGlzLmluZGVudFJvd3MgPSBmdW5jdGlvbihzdGFydFJvdywgZW5kUm93LCBpbmRlbnRTdHJpbmcpIHtcbiAgICAgICAgaW5kZW50U3RyaW5nID0gaW5kZW50U3RyaW5nLnJlcGxhY2UoL1xcdC9nLCB0aGlzLmdldFRhYlN0cmluZygpKTtcbiAgICAgICAgZm9yICh2YXIgcm93PXN0YXJ0Um93OyByb3c8PWVuZFJvdzsgcm93KyspXG4gICAgICAgICAgICB0aGlzLmRvYy5pbnNlcnRJbkxpbmUoe3Jvdzogcm93LCBjb2x1bW46IDB9LCBpbmRlbnRTdHJpbmcpO1xuICAgIH07XG4gICAgdGhpcy5vdXRkZW50Um93cyA9IGZ1bmN0aW9uIChyYW5nZSkge1xuICAgICAgICB2YXIgcm93UmFuZ2UgPSByYW5nZS5jb2xsYXBzZVJvd3MoKTtcbiAgICAgICAgdmFyIGRlbGV0ZVJhbmdlID0gbmV3IFJhbmdlKDAsIDAsIDAsIDApO1xuICAgICAgICB2YXIgc2l6ZSA9IHRoaXMuZ2V0VGFiU2l6ZSgpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSByb3dSYW5nZS5zdGFydC5yb3c7IGkgPD0gcm93UmFuZ2UuZW5kLnJvdzsgKytpKSB7XG4gICAgICAgICAgICB2YXIgbGluZSA9IHRoaXMuZ2V0TGluZShpKTtcblxuICAgICAgICAgICAgZGVsZXRlUmFuZ2Uuc3RhcnQucm93ID0gaTtcbiAgICAgICAgICAgIGRlbGV0ZVJhbmdlLmVuZC5yb3cgPSBpO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzaXplOyArK2opXG4gICAgICAgICAgICAgICAgaWYgKGxpbmUuY2hhckF0KGopICE9ICcgJylcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBpZiAoaiA8IHNpemUgJiYgbGluZS5jaGFyQXQoaikgPT0gJ1xcdCcpIHtcbiAgICAgICAgICAgICAgICBkZWxldGVSYW5nZS5zdGFydC5jb2x1bW4gPSBqO1xuICAgICAgICAgICAgICAgIGRlbGV0ZVJhbmdlLmVuZC5jb2x1bW4gPSBqICsgMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlUmFuZ2Uuc3RhcnQuY29sdW1uID0gMDtcbiAgICAgICAgICAgICAgICBkZWxldGVSYW5nZS5lbmQuY29sdW1uID0gajtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVtb3ZlKGRlbGV0ZVJhbmdlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLiRtb3ZlTGluZXMgPSBmdW5jdGlvbihmaXJzdFJvdywgbGFzdFJvdywgZGlyKSB7XG4gICAgICAgIGZpcnN0Um93ID0gdGhpcy5nZXRSb3dGb2xkU3RhcnQoZmlyc3RSb3cpO1xuICAgICAgICBsYXN0Um93ID0gdGhpcy5nZXRSb3dGb2xkRW5kKGxhc3RSb3cpO1xuICAgICAgICBpZiAoZGlyIDwgMCkge1xuICAgICAgICAgICAgdmFyIHJvdyA9IHRoaXMuZ2V0Um93Rm9sZFN0YXJ0KGZpcnN0Um93ICsgZGlyKTtcbiAgICAgICAgICAgIGlmIChyb3cgPCAwKSByZXR1cm4gMDtcbiAgICAgICAgICAgIHZhciBkaWZmID0gcm93LWZpcnN0Um93O1xuICAgICAgICB9IGVsc2UgaWYgKGRpciA+IDApIHtcbiAgICAgICAgICAgIHZhciByb3cgPSB0aGlzLmdldFJvd0ZvbGRFbmQobGFzdFJvdyArIGRpcik7XG4gICAgICAgICAgICBpZiAocm93ID4gdGhpcy5kb2MuZ2V0TGVuZ3RoKCktMSkgcmV0dXJuIDA7XG4gICAgICAgICAgICB2YXIgZGlmZiA9IHJvdy1sYXN0Um93O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZmlyc3RSb3cgPSB0aGlzLiRjbGlwUm93VG9Eb2N1bWVudChmaXJzdFJvdyk7XG4gICAgICAgICAgICBsYXN0Um93ID0gdGhpcy4kY2xpcFJvd1RvRG9jdW1lbnQobGFzdFJvdyk7XG4gICAgICAgICAgICB2YXIgZGlmZiA9IGxhc3RSb3cgLSBmaXJzdFJvdyArIDE7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmFuZ2UgPSBuZXcgUmFuZ2UoZmlyc3RSb3csIDAsIGxhc3RSb3csIE51bWJlci5NQVhfVkFMVUUpO1xuICAgICAgICB2YXIgZm9sZHMgPSB0aGlzLmdldEZvbGRzSW5SYW5nZShyYW5nZSkubWFwKGZ1bmN0aW9uKHgpe1xuICAgICAgICAgICAgeCA9IHguY2xvbmUoKTtcbiAgICAgICAgICAgIHguc3RhcnQucm93ICs9IGRpZmY7XG4gICAgICAgICAgICB4LmVuZC5yb3cgKz0gZGlmZjtcbiAgICAgICAgICAgIHJldHVybiB4O1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIHZhciBsaW5lcyA9IGRpciA9PSAwXG4gICAgICAgICAgICA/IHRoaXMuZG9jLmdldExpbmVzKGZpcnN0Um93LCBsYXN0Um93KVxuICAgICAgICAgICAgOiB0aGlzLmRvYy5yZW1vdmVGdWxsTGluZXMoZmlyc3RSb3csIGxhc3RSb3cpO1xuICAgICAgICB0aGlzLmRvYy5pbnNlcnRGdWxsTGluZXMoZmlyc3RSb3crZGlmZiwgbGluZXMpO1xuICAgICAgICBmb2xkcy5sZW5ndGggJiYgdGhpcy5hZGRGb2xkcyhmb2xkcyk7XG4gICAgICAgIHJldHVybiBkaWZmO1xuICAgIH07XG4gICAgdGhpcy5tb3ZlTGluZXNVcCA9IGZ1bmN0aW9uKGZpcnN0Um93LCBsYXN0Um93KSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRtb3ZlTGluZXMoZmlyc3RSb3csIGxhc3RSb3csIC0xKTtcbiAgICB9O1xuICAgIHRoaXMubW92ZUxpbmVzRG93biA9IGZ1bmN0aW9uKGZpcnN0Um93LCBsYXN0Um93KSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRtb3ZlTGluZXMoZmlyc3RSb3csIGxhc3RSb3csIDEpO1xuICAgIH07XG4gICAgdGhpcy5kdXBsaWNhdGVMaW5lcyA9IGZ1bmN0aW9uKGZpcnN0Um93LCBsYXN0Um93KSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRtb3ZlTGluZXMoZmlyc3RSb3csIGxhc3RSb3csIDApO1xuICAgIH07XG5cblxuICAgIHRoaXMuJGNsaXBSb3dUb0RvY3VtZW50ID0gZnVuY3Rpb24ocm93KSB7XG4gICAgICAgIHJldHVybiBNYXRoLm1heCgwLCBNYXRoLm1pbihyb3csIHRoaXMuZG9jLmdldExlbmd0aCgpLTEpKTtcbiAgICB9O1xuXG4gICAgdGhpcy4kY2xpcENvbHVtblRvUm93ID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHtcbiAgICAgICAgaWYgKGNvbHVtbiA8IDApXG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgcmV0dXJuIE1hdGgubWluKHRoaXMuZG9jLmdldExpbmUocm93KS5sZW5ndGgsIGNvbHVtbik7XG4gICAgfTtcblxuXG4gICAgdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudCA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7XG4gICAgICAgIGNvbHVtbiA9IE1hdGgubWF4KDAsIGNvbHVtbik7XG5cbiAgICAgICAgaWYgKHJvdyA8IDApIHtcbiAgICAgICAgICAgIHJvdyA9IDA7XG4gICAgICAgICAgICBjb2x1bW4gPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGxlbiA9IHRoaXMuZG9jLmdldExlbmd0aCgpO1xuICAgICAgICAgICAgaWYgKHJvdyA+PSBsZW4pIHtcbiAgICAgICAgICAgICAgICByb3cgPSBsZW4gLSAxO1xuICAgICAgICAgICAgICAgIGNvbHVtbiA9IHRoaXMuZG9jLmdldExpbmUobGVuLTEpLmxlbmd0aDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29sdW1uID0gTWF0aC5taW4odGhpcy5kb2MuZ2V0TGluZShyb3cpLmxlbmd0aCwgY29sdW1uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByb3c6IHJvdyxcbiAgICAgICAgICAgIGNvbHVtbjogY29sdW1uXG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIHRoaXMuJGNsaXBSYW5nZVRvRG9jdW1lbnQgPSBmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICBpZiAocmFuZ2Uuc3RhcnQucm93IDwgMCkge1xuICAgICAgICAgICAgcmFuZ2Uuc3RhcnQucm93ID0gMDtcbiAgICAgICAgICAgIHJhbmdlLnN0YXJ0LmNvbHVtbiA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByYW5nZS5zdGFydC5jb2x1bW4gPSB0aGlzLiRjbGlwQ29sdW1uVG9Sb3coXG4gICAgICAgICAgICAgICAgcmFuZ2Uuc3RhcnQucm93LFxuICAgICAgICAgICAgICAgIHJhbmdlLnN0YXJ0LmNvbHVtblxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBsZW4gPSB0aGlzLmRvYy5nZXRMZW5ndGgoKSAtIDE7XG4gICAgICAgIGlmIChyYW5nZS5lbmQucm93ID4gbGVuKSB7XG4gICAgICAgICAgICByYW5nZS5lbmQucm93ID0gbGVuO1xuICAgICAgICAgICAgcmFuZ2UuZW5kLmNvbHVtbiA9IHRoaXMuZG9jLmdldExpbmUobGVuKS5sZW5ndGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByYW5nZS5lbmQuY29sdW1uID0gdGhpcy4kY2xpcENvbHVtblRvUm93KFxuICAgICAgICAgICAgICAgIHJhbmdlLmVuZC5yb3csXG4gICAgICAgICAgICAgICAgcmFuZ2UuZW5kLmNvbHVtblxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmFuZ2U7XG4gICAgfTtcbiAgICB0aGlzLiR3cmFwTGltaXQgPSA4MDtcbiAgICB0aGlzLiR1c2VXcmFwTW9kZSA9IGZhbHNlO1xuICAgIHRoaXMuJHdyYXBMaW1pdFJhbmdlID0ge1xuICAgICAgICBtaW4gOiBudWxsLFxuICAgICAgICBtYXggOiBudWxsXG4gICAgfTtcbiAgICB0aGlzLnNldFVzZVdyYXBNb2RlID0gZnVuY3Rpb24odXNlV3JhcE1vZGUpIHtcbiAgICAgICAgaWYgKHVzZVdyYXBNb2RlICE9IHRoaXMuJHVzZVdyYXBNb2RlKSB7XG4gICAgICAgICAgICB0aGlzLiR1c2VXcmFwTW9kZSA9IHVzZVdyYXBNb2RlO1xuICAgICAgICAgICAgdGhpcy4kbW9kaWZpZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy4kcmVzZXRSb3dDYWNoZSgwKTtcbiAgICAgICAgICAgIGlmICh1c2VXcmFwTW9kZSkge1xuICAgICAgICAgICAgICAgIHZhciBsZW4gPSB0aGlzLmdldExlbmd0aCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuJHdyYXBEYXRhID0gQXJyYXkobGVuKTtcbiAgICAgICAgICAgICAgICB0aGlzLiR1cGRhdGVXcmFwRGF0YSgwLCBsZW4gLSAxKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fc2lnbmFsKFwiY2hhbmdlV3JhcE1vZGVcIik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuZ2V0VXNlV3JhcE1vZGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHVzZVdyYXBNb2RlO1xuICAgIH07XG4gICAgdGhpcy5zZXRXcmFwTGltaXRSYW5nZSA9IGZ1bmN0aW9uKG1pbiwgbWF4KSB7XG4gICAgICAgIGlmICh0aGlzLiR3cmFwTGltaXRSYW5nZS5taW4gIT09IG1pbiB8fCB0aGlzLiR3cmFwTGltaXRSYW5nZS5tYXggIT09IG1heCkge1xuICAgICAgICAgICAgdGhpcy4kd3JhcExpbWl0UmFuZ2UgPSB7IG1pbjogbWluLCBtYXg6IG1heCB9O1xuICAgICAgICAgICAgdGhpcy4kbW9kaWZpZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy4kYmlkaUhhbmRsZXIubWFya0FzRGlydHkoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLiR1c2VXcmFwTW9kZSlcbiAgICAgICAgICAgICAgICB0aGlzLl9zaWduYWwoXCJjaGFuZ2VXcmFwTW9kZVwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5hZGp1c3RXcmFwTGltaXQgPSBmdW5jdGlvbihkZXNpcmVkTGltaXQsICRwcmludE1hcmdpbikge1xuICAgICAgICB2YXIgbGltaXRzID0gdGhpcy4kd3JhcExpbWl0UmFuZ2U7XG4gICAgICAgIGlmIChsaW1pdHMubWF4IDwgMClcbiAgICAgICAgICAgIGxpbWl0cyA9IHttaW46ICRwcmludE1hcmdpbiwgbWF4OiAkcHJpbnRNYXJnaW59O1xuICAgICAgICB2YXIgd3JhcExpbWl0ID0gdGhpcy4kY29uc3RyYWluV3JhcExpbWl0KGRlc2lyZWRMaW1pdCwgbGltaXRzLm1pbiwgbGltaXRzLm1heCk7XG4gICAgICAgIGlmICh3cmFwTGltaXQgIT0gdGhpcy4kd3JhcExpbWl0ICYmIHdyYXBMaW1pdCA+IDEpIHtcbiAgICAgICAgICAgIHRoaXMuJHdyYXBMaW1pdCA9IHdyYXBMaW1pdDtcbiAgICAgICAgICAgIHRoaXMuJG1vZGlmaWVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLiR1c2VXcmFwTW9kZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuJHVwZGF0ZVdyYXBEYXRhKDAsIHRoaXMuZ2V0TGVuZ3RoKCkgLSAxKTtcbiAgICAgICAgICAgICAgICB0aGlzLiRyZXNldFJvd0NhY2hlKDApO1xuICAgICAgICAgICAgICAgIHRoaXMuX3NpZ25hbChcImNoYW5nZVdyYXBMaW1pdFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgdGhpcy4kY29uc3RyYWluV3JhcExpbWl0ID0gZnVuY3Rpb24od3JhcExpbWl0LCBtaW4sIG1heCkge1xuICAgICAgICBpZiAobWluKVxuICAgICAgICAgICAgd3JhcExpbWl0ID0gTWF0aC5tYXgobWluLCB3cmFwTGltaXQpO1xuXG4gICAgICAgIGlmIChtYXgpXG4gICAgICAgICAgICB3cmFwTGltaXQgPSBNYXRoLm1pbihtYXgsIHdyYXBMaW1pdCk7XG5cbiAgICAgICAgcmV0dXJuIHdyYXBMaW1pdDtcbiAgICB9O1xuICAgIHRoaXMuZ2V0V3JhcExpbWl0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiR3cmFwTGltaXQ7XG4gICAgfTtcbiAgICB0aGlzLnNldFdyYXBMaW1pdCA9IGZ1bmN0aW9uIChsaW1pdCkge1xuICAgICAgICB0aGlzLnNldFdyYXBMaW1pdFJhbmdlKGxpbWl0LCBsaW1pdCk7XG4gICAgfTtcbiAgICB0aGlzLmdldFdyYXBMaW1pdFJhbmdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtaW4gOiB0aGlzLiR3cmFwTGltaXRSYW5nZS5taW4sXG4gICAgICAgICAgICBtYXggOiB0aGlzLiR3cmFwTGltaXRSYW5nZS5tYXhcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgdGhpcy4kdXBkYXRlSW50ZXJuYWxEYXRhT25DaGFuZ2UgPSBmdW5jdGlvbihkZWx0YSkge1xuICAgICAgICB2YXIgdXNlV3JhcE1vZGUgPSB0aGlzLiR1c2VXcmFwTW9kZTtcbiAgICAgICAgdmFyIGFjdGlvbiA9IGRlbHRhLmFjdGlvbjtcbiAgICAgICAgdmFyIHN0YXJ0ID0gZGVsdGEuc3RhcnQ7XG4gICAgICAgIHZhciBlbmQgPSBkZWx0YS5lbmQ7XG4gICAgICAgIHZhciBmaXJzdFJvdyA9IHN0YXJ0LnJvdztcbiAgICAgICAgdmFyIGxhc3RSb3cgPSBlbmQucm93O1xuICAgICAgICB2YXIgbGVuID0gbGFzdFJvdyAtIGZpcnN0Um93O1xuICAgICAgICB2YXIgcmVtb3ZlZEZvbGRzID0gbnVsbDtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuJHVwZGF0aW5nID0gdHJ1ZTtcbiAgICAgICAgaWYgKGxlbiAhPSAwKSB7XG4gICAgICAgICAgICBpZiAoYWN0aW9uID09PSBcInJlbW92ZVwiKSB7XG4gICAgICAgICAgICAgICAgdGhpc1t1c2VXcmFwTW9kZSA/IFwiJHdyYXBEYXRhXCIgOiBcIiRyb3dMZW5ndGhDYWNoZVwiXS5zcGxpY2UoZmlyc3RSb3csIGxlbik7XG5cbiAgICAgICAgICAgICAgICB2YXIgZm9sZExpbmVzID0gdGhpcy4kZm9sZERhdGE7XG4gICAgICAgICAgICAgICAgcmVtb3ZlZEZvbGRzID0gdGhpcy5nZXRGb2xkc0luUmFuZ2UoZGVsdGEpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRm9sZHMocmVtb3ZlZEZvbGRzKTtcblxuICAgICAgICAgICAgICAgIHZhciBmb2xkTGluZSA9IHRoaXMuZ2V0Rm9sZExpbmUoZW5kLnJvdyk7XG4gICAgICAgICAgICAgICAgdmFyIGlkeCA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKGZvbGRMaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvbGRMaW5lLmFkZFJlbW92ZUNoYXJzKGVuZC5yb3csIGVuZC5jb2x1bW4sIHN0YXJ0LmNvbHVtbiAtIGVuZC5jb2x1bW4pO1xuICAgICAgICAgICAgICAgICAgICBmb2xkTGluZS5zaGlmdFJvdygtbGVuKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgZm9sZExpbmVCZWZvcmUgPSB0aGlzLmdldEZvbGRMaW5lKGZpcnN0Um93KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvbGRMaW5lQmVmb3JlICYmIGZvbGRMaW5lQmVmb3JlICE9PSBmb2xkTGluZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9sZExpbmVCZWZvcmUubWVyZ2UoZm9sZExpbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9sZExpbmUgPSBmb2xkTGluZUJlZm9yZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZHggPSBmb2xkTGluZXMuaW5kZXhPZihmb2xkTGluZSkgKyAxO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZvciAoaWR4OyBpZHggPCBmb2xkTGluZXMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZm9sZExpbmUgPSBmb2xkTGluZXNbaWR4XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvbGRMaW5lLnN0YXJ0LnJvdyA+PSBlbmQucm93KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb2xkTGluZS5zaGlmdFJvdygtbGVuKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxhc3RSb3cgPSBmaXJzdFJvdztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBBcnJheShsZW4pO1xuICAgICAgICAgICAgICAgIGFyZ3MudW5zaGlmdChmaXJzdFJvdywgMCk7XG4gICAgICAgICAgICAgICAgdmFyIGFyciA9IHVzZVdyYXBNb2RlID8gdGhpcy4kd3JhcERhdGEgOiB0aGlzLiRyb3dMZW5ndGhDYWNoZTtcbiAgICAgICAgICAgICAgICBhcnIuc3BsaWNlLmFwcGx5KGFyciwgYXJncyk7XG4gICAgICAgICAgICAgICAgdmFyIGZvbGRMaW5lcyA9IHRoaXMuJGZvbGREYXRhO1xuICAgICAgICAgICAgICAgIHZhciBmb2xkTGluZSA9IHRoaXMuZ2V0Rm9sZExpbmUoZmlyc3RSb3cpO1xuICAgICAgICAgICAgICAgIHZhciBpZHggPSAwO1xuICAgICAgICAgICAgICAgIGlmIChmb2xkTGluZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY21wID0gZm9sZExpbmUucmFuZ2UuY29tcGFyZUluc2lkZShzdGFydC5yb3csIHN0YXJ0LmNvbHVtbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjbXAgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9sZExpbmUgPSBmb2xkTGluZS5zcGxpdChzdGFydC5yb3csIHN0YXJ0LmNvbHVtbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm9sZExpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb2xkTGluZS5zaGlmdFJvdyhsZW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbGRMaW5lLmFkZFJlbW92ZUNoYXJzKGxhc3RSb3csIDAsIGVuZC5jb2x1bW4gLSBzdGFydC5jb2x1bW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNtcCA9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9sZExpbmUuYWRkUmVtb3ZlQ2hhcnMoZmlyc3RSb3csIDAsIGVuZC5jb2x1bW4gLSBzdGFydC5jb2x1bW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9sZExpbmUuc2hpZnRSb3cobGVuKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZHggPSBmb2xkTGluZXMuaW5kZXhPZihmb2xkTGluZSkgKyAxO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZvciAoaWR4OyBpZHggPCBmb2xkTGluZXMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZm9sZExpbmUgPSBmb2xkTGluZXNbaWR4XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvbGRMaW5lLnN0YXJ0LnJvdyA+PSBmaXJzdFJvdykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9sZExpbmUuc2hpZnRSb3cobGVuKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxlbiA9IE1hdGguYWJzKGRlbHRhLnN0YXJ0LmNvbHVtbiAtIGRlbHRhLmVuZC5jb2x1bW4pO1xuICAgICAgICAgICAgaWYgKGFjdGlvbiA9PT0gXCJyZW1vdmVcIikge1xuICAgICAgICAgICAgICAgIHJlbW92ZWRGb2xkcyA9IHRoaXMuZ2V0Rm9sZHNJblJhbmdlKGRlbHRhKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUZvbGRzKHJlbW92ZWRGb2xkcyk7XG5cbiAgICAgICAgICAgICAgICBsZW4gPSAtbGVuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGZvbGRMaW5lID0gdGhpcy5nZXRGb2xkTGluZShmaXJzdFJvdyk7XG4gICAgICAgICAgICBpZiAoZm9sZExpbmUpIHtcbiAgICAgICAgICAgICAgICBmb2xkTGluZS5hZGRSZW1vdmVDaGFycyhmaXJzdFJvdywgc3RhcnQuY29sdW1uLCBsZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHVzZVdyYXBNb2RlICYmIHRoaXMuJHdyYXBEYXRhLmxlbmd0aCAhPSB0aGlzLmRvYy5nZXRMZW5ndGgoKSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcImRvYy5nZXRMZW5ndGgoKSBhbmQgJHdyYXBEYXRhLmxlbmd0aCBoYXZlIHRvIGJlIHRoZSBzYW1lIVwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiR1cGRhdGluZyA9IGZhbHNlO1xuXG4gICAgICAgIGlmICh1c2VXcmFwTW9kZSlcbiAgICAgICAgICAgIHRoaXMuJHVwZGF0ZVdyYXBEYXRhKGZpcnN0Um93LCBsYXN0Um93KTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy4kdXBkYXRlUm93TGVuZ3RoQ2FjaGUoZmlyc3RSb3csIGxhc3RSb3cpO1xuXG4gICAgICAgIHJldHVybiByZW1vdmVkRm9sZHM7XG4gICAgfTtcblxuICAgIHRoaXMuJHVwZGF0ZVJvd0xlbmd0aENhY2hlID0gZnVuY3Rpb24oZmlyc3RSb3csIGxhc3RSb3csIGIpIHtcbiAgICAgICAgdGhpcy4kcm93TGVuZ3RoQ2FjaGVbZmlyc3RSb3ddID0gbnVsbDtcbiAgICAgICAgdGhpcy4kcm93TGVuZ3RoQ2FjaGVbbGFzdFJvd10gPSBudWxsO1xuICAgIH07XG5cbiAgICB0aGlzLiR1cGRhdGVXcmFwRGF0YSA9IGZ1bmN0aW9uKGZpcnN0Um93LCBsYXN0Um93KSB7XG4gICAgICAgIHZhciBsaW5lcyA9IHRoaXMuZG9jLmdldEFsbExpbmVzKCk7XG4gICAgICAgIHZhciB0YWJTaXplID0gdGhpcy5nZXRUYWJTaXplKCk7XG4gICAgICAgIHZhciB3cmFwRGF0YSA9IHRoaXMuJHdyYXBEYXRhO1xuICAgICAgICB2YXIgd3JhcExpbWl0ID0gdGhpcy4kd3JhcExpbWl0O1xuICAgICAgICB2YXIgdG9rZW5zO1xuICAgICAgICB2YXIgZm9sZExpbmU7XG5cbiAgICAgICAgdmFyIHJvdyA9IGZpcnN0Um93O1xuICAgICAgICBsYXN0Um93ID0gTWF0aC5taW4obGFzdFJvdywgbGluZXMubGVuZ3RoIC0gMSk7XG4gICAgICAgIHdoaWxlIChyb3cgPD0gbGFzdFJvdykge1xuICAgICAgICAgICAgZm9sZExpbmUgPSB0aGlzLmdldEZvbGRMaW5lKHJvdywgZm9sZExpbmUpO1xuICAgICAgICAgICAgaWYgKCFmb2xkTGluZSkge1xuICAgICAgICAgICAgICAgIHRva2VucyA9IHRoaXMuJGdldERpc3BsYXlUb2tlbnMobGluZXNbcm93XSk7XG4gICAgICAgICAgICAgICAgd3JhcERhdGFbcm93XSA9IHRoaXMuJGNvbXB1dGVXcmFwU3BsaXRzKHRva2Vucywgd3JhcExpbWl0LCB0YWJTaXplKTtcbiAgICAgICAgICAgICAgICByb3cgKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRva2VucyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvbGRMaW5lLndhbGsoZnVuY3Rpb24ocGxhY2Vob2xkZXIsIHJvdywgY29sdW1uLCBsYXN0Q29sdW1uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgd2Fsa1Rva2VucztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwbGFjZWhvbGRlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2Fsa1Rva2VucyA9IHRoaXMuJGdldERpc3BsYXlUb2tlbnMoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyLCB0b2tlbnMubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YWxrVG9rZW5zWzBdID0gUExBQ0VIT0xERVJfU1RBUlQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCB3YWxrVG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhbGtUb2tlbnNbaV0gPSBQTEFDRUhPTERFUl9CT0RZO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2Fsa1Rva2VucyA9IHRoaXMuJGdldERpc3BsYXlUb2tlbnMoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzW3Jvd10uc3Vic3RyaW5nKGxhc3RDb2x1bW4sIGNvbHVtbiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2Vucy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5zID0gdG9rZW5zLmNvbmNhdCh3YWxrVG9rZW5zKTtcbiAgICAgICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICBmb2xkTGluZS5lbmQucm93LFxuICAgICAgICAgICAgICAgICAgICBsaW5lc1tmb2xkTGluZS5lbmQucm93XS5sZW5ndGggKyAxXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIHdyYXBEYXRhW2ZvbGRMaW5lLnN0YXJ0LnJvd10gPSB0aGlzLiRjb21wdXRlV3JhcFNwbGl0cyh0b2tlbnMsIHdyYXBMaW1pdCwgdGFiU2l6ZSk7XG4gICAgICAgICAgICAgICAgcm93ID0gZm9sZExpbmUuZW5kLnJvdyArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBDSEFSID0gMSxcbiAgICAgICAgQ0hBUl9FWFQgPSAyLFxuICAgICAgICBQTEFDRUhPTERFUl9TVEFSVCA9IDMsXG4gICAgICAgIFBMQUNFSE9MREVSX0JPRFkgPSAgNCxcbiAgICAgICAgUFVOQ1RVQVRJT04gPSA5LFxuICAgICAgICBTUEFDRSA9IDEwLFxuICAgICAgICBUQUIgPSAxMSxcbiAgICAgICAgVEFCX1NQQUNFID0gMTI7XG5cblxuICAgIHRoaXMuJGNvbXB1dGVXcmFwU3BsaXRzID0gZnVuY3Rpb24odG9rZW5zLCB3cmFwTGltaXQsIHRhYlNpemUpIHtcbiAgICAgICAgaWYgKHRva2Vucy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNwbGl0cyA9IFtdO1xuICAgICAgICB2YXIgZGlzcGxheUxlbmd0aCA9IHRva2Vucy5sZW5ndGg7XG4gICAgICAgIHZhciBsYXN0U3BsaXQgPSAwLCBsYXN0RG9jU3BsaXQgPSAwO1xuXG4gICAgICAgIHZhciBpc0NvZGUgPSB0aGlzLiR3cmFwQXNDb2RlO1xuXG4gICAgICAgIHZhciBpbmRlbnRlZFNvZnRXcmFwID0gdGhpcy4kaW5kZW50ZWRTb2Z0V3JhcDtcbiAgICAgICAgdmFyIG1heEluZGVudCA9IHdyYXBMaW1pdCA8PSBNYXRoLm1heCgyICogdGFiU2l6ZSwgOClcbiAgICAgICAgICAgIHx8IGluZGVudGVkU29mdFdyYXAgPT09IGZhbHNlID8gMCA6IE1hdGguZmxvb3Iod3JhcExpbWl0IC8gMik7XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0V3JhcEluZGVudCgpIHtcbiAgICAgICAgICAgIHZhciBpbmRlbnRhdGlvbiA9IDA7XG4gICAgICAgICAgICBpZiAobWF4SW5kZW50ID09PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybiBpbmRlbnRhdGlvbjtcbiAgICAgICAgICAgIGlmIChpbmRlbnRlZFNvZnRXcmFwKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRva2VuID0gdG9rZW5zW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4gPT0gU1BBQ0UpXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRlbnRhdGlvbiArPSAxO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0b2tlbiA9PSBUQUIpXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRlbnRhdGlvbiArPSB0YWJTaXplO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0b2tlbiA9PSBUQUJfU1BBQ0UpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzQ29kZSAmJiBpbmRlbnRlZFNvZnRXcmFwICE9PSBmYWxzZSlcbiAgICAgICAgICAgICAgICBpbmRlbnRhdGlvbiArPSB0YWJTaXplO1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWluKGluZGVudGF0aW9uLCBtYXhJbmRlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGFkZFNwbGl0KHNjcmVlblBvcykge1xuICAgICAgICAgICAgdmFyIGxlbiA9IHNjcmVlblBvcyAtIGxhc3RTcGxpdDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBsYXN0U3BsaXQ7IGkgPCBzY3JlZW5Qb3M7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBjaCA9IHRva2Vuc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoY2ggPT09IDEyIHx8IGNoID09PSAyKSBsZW4gLT0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFzcGxpdHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaW5kZW50ID0gZ2V0V3JhcEluZGVudCgpO1xuICAgICAgICAgICAgICAgIHNwbGl0cy5pbmRlbnQgPSBpbmRlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXN0RG9jU3BsaXQgKz0gbGVuO1xuICAgICAgICAgICAgc3BsaXRzLnB1c2gobGFzdERvY1NwbGl0KTtcbiAgICAgICAgICAgIGxhc3RTcGxpdCA9IHNjcmVlblBvcztcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5kZW50ID0gMDtcbiAgICAgICAgd2hpbGUgKGRpc3BsYXlMZW5ndGggLSBsYXN0U3BsaXQgPiB3cmFwTGltaXQgLSBpbmRlbnQpIHtcbiAgICAgICAgICAgIHZhciBzcGxpdCA9IGxhc3RTcGxpdCArIHdyYXBMaW1pdCAtIGluZGVudDtcbiAgICAgICAgICAgIGlmICh0b2tlbnNbc3BsaXQgLSAxXSA+PSBTUEFDRSAmJiB0b2tlbnNbc3BsaXRdID49IFNQQUNFKSB7XG4gICAgICAgICAgICAgICAgYWRkU3BsaXQoc3BsaXQpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRva2Vuc1tzcGxpdF0gPT0gUExBQ0VIT0xERVJfU1RBUlQgfHwgdG9rZW5zW3NwbGl0XSA9PSBQTEFDRUhPTERFUl9CT0RZKSB7XG4gICAgICAgICAgICAgICAgZm9yIChzcGxpdDsgc3BsaXQgIT0gbGFzdFNwbGl0IC0gMTsgc3BsaXQtLSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW5zW3NwbGl0XSA9PSBQTEFDRUhPTERFUl9TVEFSVCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNwbGl0ID4gbGFzdFNwbGl0KSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZFNwbGl0KHNwbGl0KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNwbGl0ID0gbGFzdFNwbGl0ICsgd3JhcExpbWl0O1xuICAgICAgICAgICAgICAgIGZvciAoc3BsaXQ7IHNwbGl0IDwgdG9rZW5zLmxlbmd0aDsgc3BsaXQrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW5zW3NwbGl0XSAhPSBQTEFDRUhPTERFUl9CT0RZKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc3BsaXQgPT0gdG9rZW5zLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhazsgIC8vIEJyZWFrcyB0aGUgd2hpbGUtbG9vcC5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYWRkU3BsaXQoc3BsaXQpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG1pblNwbGl0ID0gTWF0aC5tYXgoc3BsaXQgLSAod3JhcExpbWl0IC0od3JhcExpbWl0Pj4yKSksIGxhc3RTcGxpdCAtIDEpO1xuICAgICAgICAgICAgd2hpbGUgKHNwbGl0ID4gbWluU3BsaXQgJiYgdG9rZW5zW3NwbGl0XSA8IFBMQUNFSE9MREVSX1NUQVJUKSB7XG4gICAgICAgICAgICAgICAgc3BsaXQgLS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNDb2RlKSB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHNwbGl0ID4gbWluU3BsaXQgJiYgdG9rZW5zW3NwbGl0XSA8IFBMQUNFSE9MREVSX1NUQVJUKSB7XG4gICAgICAgICAgICAgICAgICAgIHNwbGl0IC0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB3aGlsZSAoc3BsaXQgPiBtaW5TcGxpdCAmJiB0b2tlbnNbc3BsaXRdID09IFBVTkNUVUFUSU9OKSB7XG4gICAgICAgICAgICAgICAgICAgIHNwbGl0IC0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHNwbGl0ID4gbWluU3BsaXQgJiYgdG9rZW5zW3NwbGl0XSA8IFNQQUNFKSB7XG4gICAgICAgICAgICAgICAgICAgIHNwbGl0IC0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzcGxpdCA+IG1pblNwbGl0KSB7XG4gICAgICAgICAgICAgICAgYWRkU3BsaXQoKytzcGxpdCk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzcGxpdCA9IGxhc3RTcGxpdCArIHdyYXBMaW1pdDtcbiAgICAgICAgICAgIGlmICh0b2tlbnNbc3BsaXRdID09IENIQVJfRVhUKVxuICAgICAgICAgICAgICAgIHNwbGl0LS07XG4gICAgICAgICAgICBhZGRTcGxpdChzcGxpdCAtIGluZGVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNwbGl0cztcbiAgICB9O1xuICAgIHRoaXMuJGdldERpc3BsYXlUb2tlbnMgPSBmdW5jdGlvbihzdHIsIG9mZnNldCkge1xuICAgICAgICB2YXIgYXJyID0gW107XG4gICAgICAgIHZhciB0YWJTaXplO1xuICAgICAgICBvZmZzZXQgPSBvZmZzZXQgfHwgMDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGMgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgIGlmIChjID09IDkpIHtcbiAgICAgICAgICAgICAgICB0YWJTaXplID0gdGhpcy5nZXRTY3JlZW5UYWJTaXplKGFyci5sZW5ndGggKyBvZmZzZXQpO1xuICAgICAgICAgICAgICAgIGFyci5wdXNoKFRBQik7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgbiA9IDE7IG4gPCB0YWJTaXplOyBuKyspIHtcbiAgICAgICAgICAgICAgICAgICAgYXJyLnB1c2goVEFCX1NQQUNFKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjID09IDMyKSB7XG4gICAgICAgICAgICAgICAgYXJyLnB1c2goU1BBQ0UpO1xuICAgICAgICAgICAgfSBlbHNlIGlmKChjID4gMzkgJiYgYyA8IDQ4KSB8fCAoYyA+IDU3ICYmIGMgPCA2NCkpIHtcbiAgICAgICAgICAgICAgICBhcnIucHVzaChQVU5DVFVBVElPTik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjID49IDB4MTEwMCAmJiBpc0Z1bGxXaWR0aChjKSkge1xuICAgICAgICAgICAgICAgIGFyci5wdXNoKENIQVIsIENIQVJfRVhUKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYXJyLnB1c2goQ0hBUik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFycjtcbiAgICB9O1xuICAgIHRoaXMuJGdldFN0cmluZ1NjcmVlbldpZHRoID0gZnVuY3Rpb24oc3RyLCBtYXhTY3JlZW5Db2x1bW4sIHNjcmVlbkNvbHVtbikge1xuICAgICAgICBpZiAobWF4U2NyZWVuQ29sdW1uID09IDApXG4gICAgICAgICAgICByZXR1cm4gWzAsIDBdO1xuICAgICAgICBpZiAobWF4U2NyZWVuQ29sdW1uID09IG51bGwpXG4gICAgICAgICAgICBtYXhTY3JlZW5Db2x1bW4gPSBJbmZpbml0eTtcbiAgICAgICAgc2NyZWVuQ29sdW1uID0gc2NyZWVuQ29sdW1uIHx8IDA7XG5cbiAgICAgICAgdmFyIGMsIGNvbHVtbjtcbiAgICAgICAgZm9yIChjb2x1bW4gPSAwOyBjb2x1bW4gPCBzdHIubGVuZ3RoOyBjb2x1bW4rKykge1xuICAgICAgICAgICAgYyA9IHN0ci5jaGFyQ29kZUF0KGNvbHVtbik7XG4gICAgICAgICAgICBpZiAoYyA9PSA5KSB7XG4gICAgICAgICAgICAgICAgc2NyZWVuQ29sdW1uICs9IHRoaXMuZ2V0U2NyZWVuVGFiU2l6ZShzY3JlZW5Db2x1bW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYyA+PSAweDExMDAgJiYgaXNGdWxsV2lkdGgoYykpIHtcbiAgICAgICAgICAgICAgICBzY3JlZW5Db2x1bW4gKz0gMjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2NyZWVuQ29sdW1uICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2NyZWVuQ29sdW1uID4gbWF4U2NyZWVuQ29sdW1uKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gW3NjcmVlbkNvbHVtbiwgY29sdW1uXTtcbiAgICB9O1xuXG4gICAgdGhpcy5saW5lV2lkZ2V0cyA9IG51bGw7XG4gICAgdGhpcy5nZXRSb3dMZW5ndGggPSBmdW5jdGlvbihyb3cpIHtcbiAgICAgICAgdmFyIGggPSAxO1xuICAgICAgICBpZiAodGhpcy5saW5lV2lkZ2V0cylcbiAgICAgICAgICAgIGggKz0gdGhpcy5saW5lV2lkZ2V0c1tyb3ddICYmIHRoaXMubGluZVdpZGdldHNbcm93XS5yb3dDb3VudCB8fCAwO1xuICAgICAgICBcbiAgICAgICAgaWYgKCF0aGlzLiR1c2VXcmFwTW9kZSB8fCAhdGhpcy4kd3JhcERhdGFbcm93XSlcbiAgICAgICAgICAgIHJldHVybiBoO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gdGhpcy4kd3JhcERhdGFbcm93XS5sZW5ndGggKyBoO1xuICAgIH07XG4gICAgdGhpcy5nZXRSb3dMaW5lQ291bnQgPSBmdW5jdGlvbihyb3cpIHtcbiAgICAgICAgaWYgKCF0aGlzLiR1c2VXcmFwTW9kZSB8fCAhdGhpcy4kd3JhcERhdGFbcm93XSkge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy4kd3JhcERhdGFbcm93XS5sZW5ndGggKyAxO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0Um93V3JhcEluZGVudCA9IGZ1bmN0aW9uKHNjcmVlblJvdykge1xuICAgICAgICBpZiAodGhpcy4kdXNlV3JhcE1vZGUpIHtcbiAgICAgICAgICAgIHZhciBwb3MgPSB0aGlzLnNjcmVlblRvRG9jdW1lbnRQb3NpdGlvbihzY3JlZW5Sb3csIE51bWJlci5NQVhfVkFMVUUpO1xuICAgICAgICAgICAgdmFyIHNwbGl0cyA9IHRoaXMuJHdyYXBEYXRhW3Bvcy5yb3ddO1xuICAgICAgICAgICAgcmV0dXJuIHNwbGl0cy5sZW5ndGggJiYgc3BsaXRzWzBdIDwgcG9zLmNvbHVtbiA/IHNwbGl0cy5pbmRlbnQgOiAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuZ2V0U2NyZWVuTGFzdFJvd0NvbHVtbiA9IGZ1bmN0aW9uKHNjcmVlblJvdykge1xuICAgICAgICB2YXIgcG9zID0gdGhpcy5zY3JlZW5Ub0RvY3VtZW50UG9zaXRpb24oc2NyZWVuUm93LCBOdW1iZXIuTUFYX1ZBTFVFKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9jdW1lbnRUb1NjcmVlbkNvbHVtbihwb3Mucm93LCBwb3MuY29sdW1uKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0RG9jdW1lbnRMYXN0Um93Q29sdW1uID0gZnVuY3Rpb24oZG9jUm93LCBkb2NDb2x1bW4pIHtcbiAgICAgICAgdmFyIHNjcmVlblJvdyA9IHRoaXMuZG9jdW1lbnRUb1NjcmVlblJvdyhkb2NSb3csIGRvY0NvbHVtbik7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFNjcmVlbkxhc3RSb3dDb2x1bW4oc2NyZWVuUm93KTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0RG9jdW1lbnRMYXN0Um93Q29sdW1uUG9zaXRpb24gPSBmdW5jdGlvbihkb2NSb3csIGRvY0NvbHVtbikge1xuICAgICAgICB2YXIgc2NyZWVuUm93ID0gdGhpcy5kb2N1bWVudFRvU2NyZWVuUm93KGRvY1JvdywgZG9jQ29sdW1uKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NyZWVuVG9Eb2N1bWVudFBvc2l0aW9uKHNjcmVlblJvdywgTnVtYmVyLk1BWF9WQUxVRSAvIDEwKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0Um93U3BsaXREYXRhID0gZnVuY3Rpb24ocm93KSB7XG4gICAgICAgIGlmICghdGhpcy4kdXNlV3JhcE1vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy4kd3JhcERhdGFbcm93XTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5nZXRTY3JlZW5UYWJTaXplID0gZnVuY3Rpb24oc2NyZWVuQ29sdW1uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiR0YWJTaXplIC0gKHNjcmVlbkNvbHVtbiAlIHRoaXMuJHRhYlNpemUgfCAwKTtcbiAgICB9O1xuXG5cbiAgICB0aGlzLnNjcmVlblRvRG9jdW1lbnRSb3cgPSBmdW5jdGlvbihzY3JlZW5Sb3csIHNjcmVlbkNvbHVtbikge1xuICAgICAgICByZXR1cm4gdGhpcy5zY3JlZW5Ub0RvY3VtZW50UG9zaXRpb24oc2NyZWVuUm93LCBzY3JlZW5Db2x1bW4pLnJvdztcbiAgICB9O1xuXG5cbiAgICB0aGlzLnNjcmVlblRvRG9jdW1lbnRDb2x1bW4gPSBmdW5jdGlvbihzY3JlZW5Sb3csIHNjcmVlbkNvbHVtbikge1xuICAgICAgICByZXR1cm4gdGhpcy5zY3JlZW5Ub0RvY3VtZW50UG9zaXRpb24oc2NyZWVuUm93LCBzY3JlZW5Db2x1bW4pLmNvbHVtbjtcbiAgICB9O1xuICAgIHRoaXMuc2NyZWVuVG9Eb2N1bWVudFBvc2l0aW9uID0gZnVuY3Rpb24oc2NyZWVuUm93LCBzY3JlZW5Db2x1bW4sIG9mZnNldFgpIHtcbiAgICAgICAgaWYgKHNjcmVlblJvdyA8IDApXG4gICAgICAgICAgICByZXR1cm4ge3JvdzogMCwgY29sdW1uOiAwfTtcblxuICAgICAgICB2YXIgbGluZTtcbiAgICAgICAgdmFyIGRvY1JvdyA9IDA7XG4gICAgICAgIHZhciBkb2NDb2x1bW4gPSAwO1xuICAgICAgICB2YXIgY29sdW1uO1xuICAgICAgICB2YXIgcm93ID0gMDtcbiAgICAgICAgdmFyIHJvd0xlbmd0aCA9IDA7XG5cbiAgICAgICAgdmFyIHJvd0NhY2hlID0gdGhpcy4kc2NyZWVuUm93Q2FjaGU7XG4gICAgICAgIHZhciBpID0gdGhpcy4kZ2V0Um93Q2FjaGVJbmRleChyb3dDYWNoZSwgc2NyZWVuUm93KTtcbiAgICAgICAgdmFyIGwgPSByb3dDYWNoZS5sZW5ndGg7XG4gICAgICAgIGlmIChsICYmIGkgPj0gMCkge1xuICAgICAgICAgICAgdmFyIHJvdyA9IHJvd0NhY2hlW2ldO1xuICAgICAgICAgICAgdmFyIGRvY1JvdyA9IHRoaXMuJGRvY1Jvd0NhY2hlW2ldO1xuICAgICAgICAgICAgdmFyIGRvQ2FjaGUgPSBzY3JlZW5Sb3cgPiByb3dDYWNoZVtsIC0gMV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgZG9DYWNoZSA9ICFsO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG1heFJvdyA9IHRoaXMuZ2V0TGVuZ3RoKCkgLSAxO1xuICAgICAgICB2YXIgZm9sZExpbmUgPSB0aGlzLmdldE5leHRGb2xkTGluZShkb2NSb3cpO1xuICAgICAgICB2YXIgZm9sZFN0YXJ0ID0gZm9sZExpbmUgPyBmb2xkTGluZS5zdGFydC5yb3cgOiBJbmZpbml0eTtcblxuICAgICAgICB3aGlsZSAocm93IDw9IHNjcmVlblJvdykge1xuICAgICAgICAgICAgcm93TGVuZ3RoID0gdGhpcy5nZXRSb3dMZW5ndGgoZG9jUm93KTtcbiAgICAgICAgICAgIGlmIChyb3cgKyByb3dMZW5ndGggPiBzY3JlZW5Sb3cgfHwgZG9jUm93ID49IG1heFJvdykge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByb3cgKz0gcm93TGVuZ3RoO1xuICAgICAgICAgICAgICAgIGRvY1JvdysrO1xuICAgICAgICAgICAgICAgIGlmIChkb2NSb3cgPiBmb2xkU3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9jUm93ID0gZm9sZExpbmUuZW5kLnJvdysxO1xuICAgICAgICAgICAgICAgICAgICBmb2xkTGluZSA9IHRoaXMuZ2V0TmV4dEZvbGRMaW5lKGRvY1JvdywgZm9sZExpbmUpO1xuICAgICAgICAgICAgICAgICAgICBmb2xkU3RhcnQgPSBmb2xkTGluZSA/IGZvbGRMaW5lLnN0YXJ0LnJvdyA6IEluZmluaXR5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGRvQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRkb2NSb3dDYWNoZS5wdXNoKGRvY1Jvdyk7XG4gICAgICAgICAgICAgICAgdGhpcy4kc2NyZWVuUm93Q2FjaGUucHVzaChyb3cpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZvbGRMaW5lICYmIGZvbGRMaW5lLnN0YXJ0LnJvdyA8PSBkb2NSb3cpIHtcbiAgICAgICAgICAgIGxpbmUgPSB0aGlzLmdldEZvbGREaXNwbGF5TGluZShmb2xkTGluZSk7XG4gICAgICAgICAgICBkb2NSb3cgPSBmb2xkTGluZS5zdGFydC5yb3c7XG4gICAgICAgIH0gZWxzZSBpZiAocm93ICsgcm93TGVuZ3RoIDw9IHNjcmVlblJvdyB8fCBkb2NSb3cgPiBtYXhSb3cpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcm93OiBtYXhSb3csXG4gICAgICAgICAgICAgICAgY29sdW1uOiB0aGlzLmdldExpbmUobWF4Um93KS5sZW5ndGhcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsaW5lID0gdGhpcy5nZXRMaW5lKGRvY1Jvdyk7XG4gICAgICAgICAgICBmb2xkTGluZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdyYXBJbmRlbnQgPSAwLCBzcGxpdEluZGV4ID0gTWF0aC5mbG9vcihzY3JlZW5Sb3cgLSByb3cpO1xuICAgICAgICBpZiAodGhpcy4kdXNlV3JhcE1vZGUpIHtcbiAgICAgICAgICAgIHZhciBzcGxpdHMgPSB0aGlzLiR3cmFwRGF0YVtkb2NSb3ddO1xuICAgICAgICAgICAgaWYgKHNwbGl0cykge1xuICAgICAgICAgICAgICAgIGNvbHVtbiA9IHNwbGl0c1tzcGxpdEluZGV4XTtcbiAgICAgICAgICAgICAgICBpZihzcGxpdEluZGV4ID4gMCAmJiBzcGxpdHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHdyYXBJbmRlbnQgPSBzcGxpdHMuaW5kZW50O1xuICAgICAgICAgICAgICAgICAgICBkb2NDb2x1bW4gPSBzcGxpdHNbc3BsaXRJbmRleCAtIDFdIHx8IHNwbGl0c1tzcGxpdHMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgICAgIGxpbmUgPSBsaW5lLnN1YnN0cmluZyhkb2NDb2x1bW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvZmZzZXRYICE9PSB1bmRlZmluZWQgJiYgdGhpcy4kYmlkaUhhbmRsZXIuaXNCaWRpUm93KHJvdyArIHNwbGl0SW5kZXgsIGRvY1Jvdywgc3BsaXRJbmRleCkpXG4gICAgICAgICAgICBzY3JlZW5Db2x1bW4gPSB0aGlzLiRiaWRpSGFuZGxlci5vZmZzZXRUb0NvbChvZmZzZXRYKTtcblxuICAgICAgICBkb2NDb2x1bW4gKz0gdGhpcy4kZ2V0U3RyaW5nU2NyZWVuV2lkdGgobGluZSwgc2NyZWVuQ29sdW1uIC0gd3JhcEluZGVudClbMV07XG4gICAgICAgIGlmICh0aGlzLiR1c2VXcmFwTW9kZSAmJiBkb2NDb2x1bW4gPj0gY29sdW1uKVxuICAgICAgICAgICAgZG9jQ29sdW1uID0gY29sdW1uIC0gMTtcblxuICAgICAgICBpZiAoZm9sZExpbmUpXG4gICAgICAgICAgICByZXR1cm4gZm9sZExpbmUuaWR4VG9Qb3NpdGlvbihkb2NDb2x1bW4pO1xuXG4gICAgICAgIHJldHVybiB7cm93OiBkb2NSb3csIGNvbHVtbjogZG9jQ29sdW1ufTtcbiAgICB9O1xuICAgIHRoaXMuZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uID0gZnVuY3Rpb24oZG9jUm93LCBkb2NDb2x1bW4pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBkb2NDb2x1bW4gPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgICAgICB2YXIgcG9zID0gdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudChkb2NSb3cucm93LCBkb2NSb3cuY29sdW1uKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcG9zID0gdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudChkb2NSb3csIGRvY0NvbHVtbik7XG5cbiAgICAgICAgZG9jUm93ID0gcG9zLnJvdztcbiAgICAgICAgZG9jQ29sdW1uID0gcG9zLmNvbHVtbjtcblxuICAgICAgICB2YXIgc2NyZWVuUm93ID0gMDtcbiAgICAgICAgdmFyIGZvbGRTdGFydFJvdyA9IG51bGw7XG4gICAgICAgIHZhciBmb2xkID0gbnVsbDtcbiAgICAgICAgZm9sZCA9IHRoaXMuZ2V0Rm9sZEF0KGRvY1JvdywgZG9jQ29sdW1uLCAxKTtcbiAgICAgICAgaWYgKGZvbGQpIHtcbiAgICAgICAgICAgIGRvY1JvdyA9IGZvbGQuc3RhcnQucm93O1xuICAgICAgICAgICAgZG9jQ29sdW1uID0gZm9sZC5zdGFydC5jb2x1bW47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcm93RW5kLCByb3cgPSAwO1xuXG5cbiAgICAgICAgdmFyIHJvd0NhY2hlID0gdGhpcy4kZG9jUm93Q2FjaGU7XG4gICAgICAgIHZhciBpID0gdGhpcy4kZ2V0Um93Q2FjaGVJbmRleChyb3dDYWNoZSwgZG9jUm93KTtcbiAgICAgICAgdmFyIGwgPSByb3dDYWNoZS5sZW5ndGg7XG4gICAgICAgIGlmIChsICYmIGkgPj0gMCkge1xuICAgICAgICAgICAgdmFyIHJvdyA9IHJvd0NhY2hlW2ldO1xuICAgICAgICAgICAgdmFyIHNjcmVlblJvdyA9IHRoaXMuJHNjcmVlblJvd0NhY2hlW2ldO1xuICAgICAgICAgICAgdmFyIGRvQ2FjaGUgPSBkb2NSb3cgPiByb3dDYWNoZVtsIC0gMV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgZG9DYWNoZSA9ICFsO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGZvbGRMaW5lID0gdGhpcy5nZXROZXh0Rm9sZExpbmUocm93KTtcbiAgICAgICAgdmFyIGZvbGRTdGFydCA9IGZvbGRMaW5lID9mb2xkTGluZS5zdGFydC5yb3cgOkluZmluaXR5O1xuXG4gICAgICAgIHdoaWxlIChyb3cgPCBkb2NSb3cpIHtcbiAgICAgICAgICAgIGlmIChyb3cgPj0gZm9sZFN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgcm93RW5kID0gZm9sZExpbmUuZW5kLnJvdyArIDE7XG4gICAgICAgICAgICAgICAgaWYgKHJvd0VuZCA+IGRvY1JvdylcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZm9sZExpbmUgPSB0aGlzLmdldE5leHRGb2xkTGluZShyb3dFbmQsIGZvbGRMaW5lKTtcbiAgICAgICAgICAgICAgICBmb2xkU3RhcnQgPSBmb2xkTGluZSA/Zm9sZExpbmUuc3RhcnQucm93IDpJbmZpbml0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJvd0VuZCA9IHJvdyArIDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNjcmVlblJvdyArPSB0aGlzLmdldFJvd0xlbmd0aChyb3cpO1xuICAgICAgICAgICAgcm93ID0gcm93RW5kO1xuXG4gICAgICAgICAgICBpZiAoZG9DYWNoZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuJGRvY1Jvd0NhY2hlLnB1c2gocm93KTtcbiAgICAgICAgICAgICAgICB0aGlzLiRzY3JlZW5Sb3dDYWNoZS5wdXNoKHNjcmVlblJvdyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRleHRMaW5lID0gXCJcIjtcbiAgICAgICAgaWYgKGZvbGRMaW5lICYmIHJvdyA+PSBmb2xkU3RhcnQpIHtcbiAgICAgICAgICAgIHRleHRMaW5lID0gdGhpcy5nZXRGb2xkRGlzcGxheUxpbmUoZm9sZExpbmUsIGRvY1JvdywgZG9jQ29sdW1uKTtcbiAgICAgICAgICAgIGZvbGRTdGFydFJvdyA9IGZvbGRMaW5lLnN0YXJ0LnJvdztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRleHRMaW5lID0gdGhpcy5nZXRMaW5lKGRvY1Jvdykuc3Vic3RyaW5nKDAsIGRvY0NvbHVtbik7XG4gICAgICAgICAgICBmb2xkU3RhcnRSb3cgPSBkb2NSb3c7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdyYXBJbmRlbnQgPSAwO1xuICAgICAgICBpZiAodGhpcy4kdXNlV3JhcE1vZGUpIHtcbiAgICAgICAgICAgIHZhciB3cmFwUm93ID0gdGhpcy4kd3JhcERhdGFbZm9sZFN0YXJ0Um93XTtcbiAgICAgICAgICAgIGlmICh3cmFwUm93KSB7XG4gICAgICAgICAgICAgICAgdmFyIHNjcmVlblJvd09mZnNldCA9IDA7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHRleHRMaW5lLmxlbmd0aCA+PSB3cmFwUm93W3NjcmVlblJvd09mZnNldF0pIHtcbiAgICAgICAgICAgICAgICAgICAgc2NyZWVuUm93ICsrO1xuICAgICAgICAgICAgICAgICAgICBzY3JlZW5Sb3dPZmZzZXQrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGV4dExpbmUgPSB0ZXh0TGluZS5zdWJzdHJpbmcoXG4gICAgICAgICAgICAgICAgICAgIHdyYXBSb3dbc2NyZWVuUm93T2Zmc2V0IC0gMV0gfHwgMCwgdGV4dExpbmUubGVuZ3RoXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB3cmFwSW5kZW50ID0gc2NyZWVuUm93T2Zmc2V0ID4gMCA/IHdyYXBSb3cuaW5kZW50IDogMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMubGluZVdpZGdldHMgJiYgdGhpcy5saW5lV2lkZ2V0c1tyb3ddICYmIHRoaXMubGluZVdpZGdldHNbcm93XS5yb3dzQWJvdmUpXG4gICAgICAgICAgICBzY3JlZW5Sb3cgKz0gdGhpcy5saW5lV2lkZ2V0c1tyb3ddLnJvd3NBYm92ZTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcm93OiBzY3JlZW5Sb3csXG4gICAgICAgICAgICBjb2x1bW46IHdyYXBJbmRlbnQgKyB0aGlzLiRnZXRTdHJpbmdTY3JlZW5XaWR0aCh0ZXh0TGluZSlbMF1cbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHRoaXMuZG9jdW1lbnRUb1NjcmVlbkNvbHVtbiA9IGZ1bmN0aW9uKHJvdywgZG9jQ29sdW1uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbihyb3csIGRvY0NvbHVtbikuY29sdW1uO1xuICAgIH07XG4gICAgdGhpcy5kb2N1bWVudFRvU2NyZWVuUm93ID0gZnVuY3Rpb24oZG9jUm93LCBkb2NDb2x1bW4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKGRvY1JvdywgZG9jQ29sdW1uKS5yb3c7XG4gICAgfTtcbiAgICB0aGlzLmdldFNjcmVlbkxlbmd0aCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2NyZWVuUm93cyA9IDA7XG4gICAgICAgIHZhciBmb2xkID0gbnVsbDtcbiAgICAgICAgaWYgKCF0aGlzLiR1c2VXcmFwTW9kZSkge1xuICAgICAgICAgICAgc2NyZWVuUm93cyA9IHRoaXMuZ2V0TGVuZ3RoKCk7XG4gICAgICAgICAgICB2YXIgZm9sZERhdGEgPSB0aGlzLiRmb2xkRGF0YTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm9sZERhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBmb2xkID0gZm9sZERhdGFbaV07XG4gICAgICAgICAgICAgICAgc2NyZWVuUm93cyAtPSBmb2xkLmVuZC5yb3cgLSBmb2xkLnN0YXJ0LnJvdztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBsYXN0Um93ID0gdGhpcy4kd3JhcERhdGEubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIHJvdyA9IDAsIGkgPSAwO1xuICAgICAgICAgICAgdmFyIGZvbGQgPSB0aGlzLiRmb2xkRGF0YVtpKytdO1xuICAgICAgICAgICAgdmFyIGZvbGRTdGFydCA9IGZvbGQgPyBmb2xkLnN0YXJ0LnJvdyA6SW5maW5pdHk7XG5cbiAgICAgICAgICAgIHdoaWxlIChyb3cgPCBsYXN0Um93KSB7XG4gICAgICAgICAgICAgICAgdmFyIHNwbGl0cyA9IHRoaXMuJHdyYXBEYXRhW3Jvd107XG4gICAgICAgICAgICAgICAgc2NyZWVuUm93cyArPSBzcGxpdHMgPyBzcGxpdHMubGVuZ3RoICsgMSA6IDE7XG4gICAgICAgICAgICAgICAgcm93ICsrO1xuICAgICAgICAgICAgICAgIGlmIChyb3cgPiBmb2xkU3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcm93ID0gZm9sZC5lbmQucm93KzE7XG4gICAgICAgICAgICAgICAgICAgIGZvbGQgPSB0aGlzLiRmb2xkRGF0YVtpKytdO1xuICAgICAgICAgICAgICAgICAgICBmb2xkU3RhcnQgPSBmb2xkID9mb2xkLnN0YXJ0LnJvdyA6SW5maW5pdHk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmxpbmVXaWRnZXRzKVxuICAgICAgICAgICAgc2NyZWVuUm93cyArPSB0aGlzLiRnZXRXaWRnZXRTY3JlZW5MZW5ndGgoKTtcblxuICAgICAgICByZXR1cm4gc2NyZWVuUm93cztcbiAgICB9O1xuICAgIHRoaXMuJHNldEZvbnRNZXRyaWNzID0gZnVuY3Rpb24oZm0pIHtcbiAgICAgICAgaWYgKCF0aGlzLiRlbmFibGVWYXJDaGFyKSByZXR1cm47XG4gICAgICAgIHRoaXMuJGdldFN0cmluZ1NjcmVlbldpZHRoID0gZnVuY3Rpb24oc3RyLCBtYXhTY3JlZW5Db2x1bW4sIHNjcmVlbkNvbHVtbikge1xuICAgICAgICAgICAgaWYgKG1heFNjcmVlbkNvbHVtbiA9PT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gWzAsIDBdO1xuICAgICAgICAgICAgaWYgKCFtYXhTY3JlZW5Db2x1bW4pXG4gICAgICAgICAgICAgICAgbWF4U2NyZWVuQ29sdW1uID0gSW5maW5pdHk7XG4gICAgICAgICAgICBzY3JlZW5Db2x1bW4gPSBzY3JlZW5Db2x1bW4gfHwgMDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIGMsIGNvbHVtbjtcbiAgICAgICAgICAgIGZvciAoY29sdW1uID0gMDsgY29sdW1uIDwgc3RyLmxlbmd0aDsgY29sdW1uKyspIHtcbiAgICAgICAgICAgICAgICBjID0gc3RyLmNoYXJBdChjb2x1bW4pO1xuICAgICAgICAgICAgICAgIGlmIChjID09PSBcIlxcdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjcmVlbkNvbHVtbiArPSB0aGlzLmdldFNjcmVlblRhYlNpemUoc2NyZWVuQ29sdW1uKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzY3JlZW5Db2x1bW4gKz0gZm0uZ2V0Q2hhcmFjdGVyV2lkdGgoYyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzY3JlZW5Db2x1bW4gPiBtYXhTY3JlZW5Db2x1bW4pIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gW3NjcmVlbkNvbHVtbiwgY29sdW1uXTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXRoaXMuZGVzdHJveWVkKSB7XG4gICAgICAgICAgICB0aGlzLmJnVG9rZW5pemVyLnNldERvY3VtZW50KG51bGwpO1xuICAgICAgICAgICAgdGhpcy5iZ1Rva2VuaXplci5jbGVhbnVwKCk7XG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3llZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4kc3RvcFdvcmtlcigpO1xuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICBpZiAodGhpcy5kb2MpIHtcbiAgICAgICAgICAgIHRoaXMuZG9jLm9mZihcImNoYW5nZVwiLCB0aGlzLiRvbkNoYW5nZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZWxlY3Rpb24uZGV0YWNoKCk7XG4gICAgfTtcblxuICAgIHRoaXMuaXNGdWxsV2lkdGggPSBpc0Z1bGxXaWR0aDtcbiAgICBmdW5jdGlvbiBpc0Z1bGxXaWR0aChjKSB7XG4gICAgICAgIGlmIChjIDwgMHgxMTAwKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gYyA+PSAweDExMDAgJiYgYyA8PSAweDExNUYgfHxcbiAgICAgICAgICAgICAgIGMgPj0gMHgxMUEzICYmIGMgPD0gMHgxMUE3IHx8XG4gICAgICAgICAgICAgICBjID49IDB4MTFGQSAmJiBjIDw9IDB4MTFGRiB8fFxuICAgICAgICAgICAgICAgYyA+PSAweDIzMjkgJiYgYyA8PSAweDIzMkEgfHxcbiAgICAgICAgICAgICAgIGMgPj0gMHgyRTgwICYmIGMgPD0gMHgyRTk5IHx8XG4gICAgICAgICAgICAgICBjID49IDB4MkU5QiAmJiBjIDw9IDB4MkVGMyB8fFxuICAgICAgICAgICAgICAgYyA+PSAweDJGMDAgJiYgYyA8PSAweDJGRDUgfHxcbiAgICAgICAgICAgICAgIGMgPj0gMHgyRkYwICYmIGMgPD0gMHgyRkZCIHx8XG4gICAgICAgICAgICAgICBjID49IDB4MzAwMCAmJiBjIDw9IDB4MzAzRSB8fFxuICAgICAgICAgICAgICAgYyA+PSAweDMwNDEgJiYgYyA8PSAweDMwOTYgfHxcbiAgICAgICAgICAgICAgIGMgPj0gMHgzMDk5ICYmIGMgPD0gMHgzMEZGIHx8XG4gICAgICAgICAgICAgICBjID49IDB4MzEwNSAmJiBjIDw9IDB4MzEyRCB8fFxuICAgICAgICAgICAgICAgYyA+PSAweDMxMzEgJiYgYyA8PSAweDMxOEUgfHxcbiAgICAgICAgICAgICAgIGMgPj0gMHgzMTkwICYmIGMgPD0gMHgzMUJBIHx8XG4gICAgICAgICAgICAgICBjID49IDB4MzFDMCAmJiBjIDw9IDB4MzFFMyB8fFxuICAgICAgICAgICAgICAgYyA+PSAweDMxRjAgJiYgYyA8PSAweDMyMUUgfHxcbiAgICAgICAgICAgICAgIGMgPj0gMHgzMjIwICYmIGMgPD0gMHgzMjQ3IHx8XG4gICAgICAgICAgICAgICBjID49IDB4MzI1MCAmJiBjIDw9IDB4MzJGRSB8fFxuICAgICAgICAgICAgICAgYyA+PSAweDMzMDAgJiYgYyA8PSAweDREQkYgfHxcbiAgICAgICAgICAgICAgIGMgPj0gMHg0RTAwICYmIGMgPD0gMHhBNDhDIHx8XG4gICAgICAgICAgICAgICBjID49IDB4QTQ5MCAmJiBjIDw9IDB4QTRDNiB8fFxuICAgICAgICAgICAgICAgYyA+PSAweEE5NjAgJiYgYyA8PSAweEE5N0MgfHxcbiAgICAgICAgICAgICAgIGMgPj0gMHhBQzAwICYmIGMgPD0gMHhEN0EzIHx8XG4gICAgICAgICAgICAgICBjID49IDB4RDdCMCAmJiBjIDw9IDB4RDdDNiB8fFxuICAgICAgICAgICAgICAgYyA+PSAweEQ3Q0IgJiYgYyA8PSAweEQ3RkIgfHxcbiAgICAgICAgICAgICAgIGMgPj0gMHhGOTAwICYmIGMgPD0gMHhGQUZGIHx8XG4gICAgICAgICAgICAgICBjID49IDB4RkUxMCAmJiBjIDw9IDB4RkUxOSB8fFxuICAgICAgICAgICAgICAgYyA+PSAweEZFMzAgJiYgYyA8PSAweEZFNTIgfHxcbiAgICAgICAgICAgICAgIGMgPj0gMHhGRTU0ICYmIGMgPD0gMHhGRTY2IHx8XG4gICAgICAgICAgICAgICBjID49IDB4RkU2OCAmJiBjIDw9IDB4RkU2QiB8fFxuICAgICAgICAgICAgICAgYyA+PSAweEZGMDEgJiYgYyA8PSAweEZGNjAgfHxcbiAgICAgICAgICAgICAgIGMgPj0gMHhGRkUwICYmIGMgPD0gMHhGRkU2O1xuICAgIH1cblxufSkuY2FsbChFZGl0U2Vzc2lvbi5wcm90b3R5cGUpO1xuXG5yZXF1aXJlKFwiLi9lZGl0X3Nlc3Npb24vZm9sZGluZ1wiKS5Gb2xkaW5nLmNhbGwoRWRpdFNlc3Npb24ucHJvdG90eXBlKTtcbnJlcXVpcmUoXCIuL2VkaXRfc2Vzc2lvbi9icmFja2V0X21hdGNoXCIpLkJyYWNrZXRNYXRjaC5jYWxsKEVkaXRTZXNzaW9uLnByb3RvdHlwZSk7XG5cblxuY29uZmlnLmRlZmluZU9wdGlvbnMoRWRpdFNlc3Npb24ucHJvdG90eXBlLCBcInNlc3Npb25cIiwge1xuICAgIHdyYXA6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCF2YWx1ZSB8fCB2YWx1ZSA9PSBcIm9mZlwiKVxuICAgICAgICAgICAgICAgIHZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSA9PSBcImZyZWVcIilcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRydWU7XG4gICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSA9PSBcInByaW50TWFyZ2luXCIpXG4gICAgICAgICAgICAgICAgdmFsdWUgPSAtMTtcbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgICAgIHZhbHVlID0gcGFyc2VJbnQodmFsdWUsIDEwKSB8fCBmYWxzZTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuJHdyYXAgPT0gdmFsdWUpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy4kd3JhcCA9IHZhbHVlO1xuICAgICAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0VXNlV3JhcE1vZGUoZmFsc2UpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgY29sID0gdHlwZW9mIHZhbHVlID09IFwibnVtYmVyXCIgPyB2YWx1ZSA6IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRXcmFwTGltaXRSYW5nZShjb2wsIGNvbCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRVc2VXcmFwTW9kZSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmdldFVzZVdyYXBNb2RlKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy4kd3JhcCA9PSAtMSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwicHJpbnRNYXJnaW5cIjtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZ2V0V3JhcExpbWl0UmFuZ2UoKS5taW4pXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcImZyZWVcIjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kd3JhcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBcIm9mZlwiO1xuICAgICAgICB9LFxuICAgICAgICBoYW5kbGVzU2V0OiB0cnVlXG4gICAgfSwgICAgXG4gICAgd3JhcE1ldGhvZDoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgdmFsID0gdmFsID09IFwiYXV0b1wiXG4gICAgICAgICAgICAgICAgPyB0aGlzLiRtb2RlLnR5cGUgIT0gXCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICA6IHZhbCAhPSBcInRleHRcIjtcbiAgICAgICAgICAgIGlmICh2YWwgIT0gdGhpcy4kd3JhcEFzQ29kZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuJHdyYXBBc0NvZGUgPSB2YWw7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuJHVzZVdyYXBNb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHVzZVdyYXBNb2RlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0VXNlV3JhcE1vZGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBpbml0aWFsVmFsdWU6IFwiYXV0b1wiXG4gICAgfSxcbiAgICBpbmRlbnRlZFNvZnRXcmFwOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAodGhpcy4kdXNlV3JhcE1vZGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiR1c2VXcmFwTW9kZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0VXNlV3JhcE1vZGUodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGluaXRpYWxWYWx1ZTogdHJ1ZSBcbiAgICB9LFxuICAgIGZpcnN0TGluZU51bWJlcjoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKCkge3RoaXMuX3NpZ25hbChcImNoYW5nZUJyZWFrcG9pbnRcIik7fSxcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAxXG4gICAgfSxcbiAgICB1c2VXb3JrZXI6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbih1c2VXb3JrZXIpIHtcbiAgICAgICAgICAgIHRoaXMuJHVzZVdvcmtlciA9IHVzZVdvcmtlcjtcblxuICAgICAgICAgICAgdGhpcy4kc3RvcFdvcmtlcigpO1xuICAgICAgICAgICAgaWYgKHVzZVdvcmtlcilcbiAgICAgICAgICAgICAgICB0aGlzLiRzdGFydFdvcmtlcigpO1xuICAgICAgICB9LFxuICAgICAgICBpbml0aWFsVmFsdWU6IHRydWVcbiAgICB9LFxuICAgIHVzZVNvZnRUYWJzOiB7aW5pdGlhbFZhbHVlOiB0cnVlfSxcbiAgICB0YWJTaXplOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24odGFiU2l6ZSkge1xuICAgICAgICAgICAgdGFiU2l6ZSA9IHBhcnNlSW50KHRhYlNpemUpO1xuICAgICAgICAgICAgaWYgKHRhYlNpemUgPiAwICYmIHRoaXMuJHRhYlNpemUgIT09IHRhYlNpemUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRtb2RpZmllZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy4kcm93TGVuZ3RoQ2FjaGUgPSBbXTtcbiAgICAgICAgICAgICAgICB0aGlzLiR0YWJTaXplID0gdGFiU2l6ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zaWduYWwoXCJjaGFuZ2VUYWJTaXplXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBpbml0aWFsVmFsdWU6IDQsXG4gICAgICAgIGhhbmRsZXNTZXQ6IHRydWVcbiAgICB9LFxuICAgIG5hdmlnYXRlV2l0aGluU29mdFRhYnM6IHtpbml0aWFsVmFsdWU6IGZhbHNlfSxcbiAgICBmb2xkU3R5bGU6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbih2YWwpIHt0aGlzLnNldEZvbGRTdHlsZSh2YWwpO30sXG4gICAgICAgIGhhbmRsZXNTZXQ6IHRydWVcbiAgICB9LFxuICAgIG92ZXJ3cml0ZToge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbCkge3RoaXMuX3NpZ25hbChcImNoYW5nZU92ZXJ3cml0ZVwiKTt9LFxuICAgICAgICBpbml0aWFsVmFsdWU6IGZhbHNlXG4gICAgfSxcbiAgICBuZXdMaW5lTW9kZToge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbCkge3RoaXMuZG9jLnNldE5ld0xpbmVNb2RlKHZhbCk7fSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtyZXR1cm4gdGhpcy5kb2MuZ2V0TmV3TGluZU1vZGUoKTt9LFxuICAgICAgICBoYW5kbGVzU2V0OiB0cnVlXG4gICAgfSxcbiAgICBtb2RlOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24odmFsKSB7IHRoaXMuc2V0TW9kZSh2YWwpOyB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy4kbW9kZUlkOyB9LFxuICAgICAgICBoYW5kbGVzU2V0OiB0cnVlXG4gICAgfVxufSk7XG5cbmV4cG9ydHMuRWRpdFNlc3Npb24gPSBFZGl0U2Vzc2lvbjtcbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL3NlYXJjaFwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9sYW5nXCIsXCJhY2UvbGliL29vcFwiLFwiYWNlL3JhbmdlXCJdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgbGFuZyA9IHJlcXVpcmUoXCIuL2xpYi9sYW5nXCIpO1xudmFyIG9vcCA9IHJlcXVpcmUoXCIuL2xpYi9vb3BcIik7XG52YXIgUmFuZ2UgPSByZXF1aXJlKFwiLi9yYW5nZVwiKS5SYW5nZTtcblxudmFyIFNlYXJjaCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuJG9wdGlvbnMgPSB7fTtcbn07XG5cbihmdW5jdGlvbigpIHtcbiAgICB0aGlzLnNldCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgb29wLm1peGluKHRoaXMuJG9wdGlvbnMsIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIHRoaXMuZ2V0T3B0aW9ucyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gbGFuZy5jb3B5T2JqZWN0KHRoaXMuJG9wdGlvbnMpO1xuICAgIH07XG4gICAgdGhpcy5zZXRPcHRpb25zID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICB0aGlzLiRvcHRpb25zID0gb3B0aW9ucztcbiAgICB9O1xuICAgIHRoaXMuZmluZCA9IGZ1bmN0aW9uKHNlc3Npb24pIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLiRvcHRpb25zO1xuICAgICAgICB2YXIgaXRlcmF0b3IgPSB0aGlzLiRtYXRjaEl0ZXJhdG9yKHNlc3Npb24sIG9wdGlvbnMpO1xuICAgICAgICBpZiAoIWl0ZXJhdG9yKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIHZhciBmaXJzdFJhbmdlID0gbnVsbDtcbiAgICAgICAgaXRlcmF0b3IuZm9yRWFjaChmdW5jdGlvbihzciwgc2MsIGVyLCBlYykge1xuICAgICAgICAgICAgZmlyc3RSYW5nZSA9IG5ldyBSYW5nZShzciwgc2MsIGVyLCBlYyk7XG4gICAgICAgICAgICBpZiAoc2MgPT0gZWMgJiYgb3B0aW9ucy5zdGFydCAmJiBvcHRpb25zLnN0YXJ0LnN0YXJ0XG4gICAgICAgICAgICAgICAgJiYgb3B0aW9ucy5za2lwQ3VycmVudCAhPSBmYWxzZSAmJiBmaXJzdFJhbmdlLmlzRXF1YWwob3B0aW9ucy5zdGFydClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGZpcnN0UmFuZ2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBmaXJzdFJhbmdlO1xuICAgIH07XG4gICAgdGhpcy5maW5kQWxsID0gZnVuY3Rpb24oc2Vzc2lvbikge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMuJG9wdGlvbnM7XG4gICAgICAgIGlmICghb3B0aW9ucy5uZWVkbGUpXG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIHRoaXMuJGFzc2VtYmxlUmVnRXhwKG9wdGlvbnMpO1xuXG4gICAgICAgIHZhciByYW5nZSA9IG9wdGlvbnMucmFuZ2U7XG4gICAgICAgIHZhciBsaW5lcyA9IHJhbmdlXG4gICAgICAgICAgICA/IHNlc3Npb24uZ2V0TGluZXMocmFuZ2Uuc3RhcnQucm93LCByYW5nZS5lbmQucm93KVxuICAgICAgICAgICAgOiBzZXNzaW9uLmRvYy5nZXRBbGxMaW5lcygpO1xuXG4gICAgICAgIHZhciByYW5nZXMgPSBbXTtcbiAgICAgICAgdmFyIHJlID0gb3B0aW9ucy5yZTtcbiAgICAgICAgaWYgKG9wdGlvbnMuJGlzTXVsdGlMaW5lKSB7XG4gICAgICAgICAgICB2YXIgbGVuID0gcmUubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIG1heFJvdyA9IGxpbmVzLmxlbmd0aCAtIGxlbjtcbiAgICAgICAgICAgIHZhciBwcmV2UmFuZ2U7XG4gICAgICAgICAgICBvdXRlcjogZm9yICh2YXIgcm93ID0gcmUub2Zmc2V0IHx8IDA7IHJvdyA8PSBtYXhSb3c7IHJvdysrKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsZW47IGorKylcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmVzW3JvdyArIGpdLnNlYXJjaChyZVtqXSkgPT0gLTEpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnRMaW5lID0gbGluZXNbcm93XTtcbiAgICAgICAgICAgICAgICB2YXIgbGluZSA9IGxpbmVzW3JvdyArIGxlbiAtIDFdO1xuICAgICAgICAgICAgICAgIHZhciBzdGFydEluZGV4ID0gc3RhcnRMaW5lLmxlbmd0aCAtIHN0YXJ0TGluZS5tYXRjaChyZVswXSlbMF0ubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHZhciBlbmRJbmRleCA9IGxpbmUubWF0Y2gocmVbbGVuIC0gMV0pWzBdLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAocHJldlJhbmdlICYmIHByZXZSYW5nZS5lbmQucm93ID09PSByb3cgJiZcbiAgICAgICAgICAgICAgICAgICAgcHJldlJhbmdlLmVuZC5jb2x1bW4gPiBzdGFydEluZGV4XG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByYW5nZXMucHVzaChwcmV2UmFuZ2UgPSBuZXcgUmFuZ2UoXG4gICAgICAgICAgICAgICAgICAgIHJvdywgc3RhcnRJbmRleCwgcm93ICsgbGVuIC0gMSwgZW5kSW5kZXhcbiAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgICAgICBpZiAobGVuID4gMilcbiAgICAgICAgICAgICAgICAgICAgcm93ID0gcm93ICsgbGVuIC0gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgbWF0Y2hlcyA9IGxhbmcuZ2V0TWF0Y2hPZmZzZXRzKGxpbmVzW2ldLCByZSk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBtYXRjaGVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXRjaCA9IG1hdGNoZXNbal07XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlcy5wdXNoKG5ldyBSYW5nZShpLCBtYXRjaC5vZmZzZXQsIGksIG1hdGNoLm9mZnNldCArIG1hdGNoLmxlbmd0aCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyYW5nZSkge1xuICAgICAgICAgICAgdmFyIHN0YXJ0Q29sdW1uID0gcmFuZ2Uuc3RhcnQuY29sdW1uO1xuICAgICAgICAgICAgdmFyIGVuZENvbHVtbiA9IHJhbmdlLnN0YXJ0LmNvbHVtbjtcbiAgICAgICAgICAgIHZhciBpID0gMCwgaiA9IHJhbmdlcy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgd2hpbGUgKGkgPCBqICYmIHJhbmdlc1tpXS5zdGFydC5jb2x1bW4gPCBzdGFydENvbHVtbiAmJiByYW5nZXNbaV0uc3RhcnQucm93ID09IHJhbmdlLnN0YXJ0LnJvdylcbiAgICAgICAgICAgICAgICBpKys7XG5cbiAgICAgICAgICAgIHdoaWxlIChpIDwgaiAmJiByYW5nZXNbal0uZW5kLmNvbHVtbiA+IGVuZENvbHVtbiAmJiByYW5nZXNbal0uZW5kLnJvdyA9PSByYW5nZS5lbmQucm93KVxuICAgICAgICAgICAgICAgIGotLTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmFuZ2VzID0gcmFuZ2VzLnNsaWNlKGksIGogKyAxKTtcbiAgICAgICAgICAgIGZvciAoaSA9IDAsIGogPSByYW5nZXMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcmFuZ2VzW2ldLnN0YXJ0LnJvdyArPSByYW5nZS5zdGFydC5yb3c7XG4gICAgICAgICAgICAgICAgcmFuZ2VzW2ldLmVuZC5yb3cgKz0gcmFuZ2Uuc3RhcnQucm93O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJhbmdlcztcbiAgICB9O1xuICAgIHRoaXMucmVwbGFjZSA9IGZ1bmN0aW9uKGlucHV0LCByZXBsYWNlbWVudCkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMuJG9wdGlvbnM7XG5cbiAgICAgICAgdmFyIHJlID0gdGhpcy4kYXNzZW1ibGVSZWdFeHAob3B0aW9ucyk7XG4gICAgICAgIGlmIChvcHRpb25zLiRpc011bHRpTGluZSlcbiAgICAgICAgICAgIHJldHVybiByZXBsYWNlbWVudDtcblxuICAgICAgICBpZiAoIXJlKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHZhciBtYXRjaCA9IHJlLmV4ZWMoaW5wdXQpO1xuICAgICAgICBpZiAoIW1hdGNoIHx8IG1hdGNoWzBdLmxlbmd0aCAhPSBpbnB1dC5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgXG4gICAgICAgIHJlcGxhY2VtZW50ID0gaW5wdXQucmVwbGFjZShyZSwgcmVwbGFjZW1lbnQpO1xuICAgICAgICBpZiAob3B0aW9ucy5wcmVzZXJ2ZUNhc2UpIHtcbiAgICAgICAgICAgIHJlcGxhY2VtZW50ID0gcmVwbGFjZW1lbnQuc3BsaXQoXCJcIik7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gTWF0aC5taW4oaW5wdXQubGVuZ3RoLCBpbnB1dC5sZW5ndGgpOyBpLS07ICkge1xuICAgICAgICAgICAgICAgIHZhciBjaCA9IGlucHV0W2ldO1xuICAgICAgICAgICAgICAgIGlmIChjaCAmJiBjaC50b0xvd2VyQ2FzZSgpICE9IGNoKVxuICAgICAgICAgICAgICAgICAgICByZXBsYWNlbWVudFtpXSA9IHJlcGxhY2VtZW50W2ldLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICByZXBsYWNlbWVudFtpXSA9IHJlcGxhY2VtZW50W2ldLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXBsYWNlbWVudCA9IHJlcGxhY2VtZW50LmpvaW4oXCJcIik7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiByZXBsYWNlbWVudDtcbiAgICB9O1xuXG4gICAgdGhpcy4kYXNzZW1ibGVSZWdFeHAgPSBmdW5jdGlvbihvcHRpb25zLCAkZGlzYWJsZUZha2VNdWx0aWxpbmUpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMubmVlZGxlIGluc3RhbmNlb2YgUmVnRXhwKVxuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMucmUgPSBvcHRpb25zLm5lZWRsZTtcblxuICAgICAgICB2YXIgbmVlZGxlID0gb3B0aW9ucy5uZWVkbGU7XG5cbiAgICAgICAgaWYgKCFvcHRpb25zLm5lZWRsZSlcbiAgICAgICAgICAgIHJldHVybiBvcHRpb25zLnJlID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCFvcHRpb25zLnJlZ0V4cClcbiAgICAgICAgICAgIG5lZWRsZSA9IGxhbmcuZXNjYXBlUmVnRXhwKG5lZWRsZSk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMud2hvbGVXb3JkKVxuICAgICAgICAgICAgbmVlZGxlID0gYWRkV29yZEJvdW5kYXJ5KG5lZWRsZSwgb3B0aW9ucyk7XG5cbiAgICAgICAgdmFyIG1vZGlmaWVyID0gb3B0aW9ucy5jYXNlU2Vuc2l0aXZlID8gXCJnbVwiIDogXCJnbWlcIjtcblxuICAgICAgICBvcHRpb25zLiRpc011bHRpTGluZSA9ICEkZGlzYWJsZUZha2VNdWx0aWxpbmUgJiYgL1tcXG5cXHJdLy50ZXN0KG5lZWRsZSk7XG4gICAgICAgIGlmIChvcHRpb25zLiRpc011bHRpTGluZSlcbiAgICAgICAgICAgIHJldHVybiBvcHRpb25zLnJlID0gdGhpcy4kYXNzZW1ibGVNdWx0aWxpbmVSZWdFeHAobmVlZGxlLCBtb2RpZmllcik7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciByZSA9IG5ldyBSZWdFeHAobmVlZGxlLCBtb2RpZmllcik7XG4gICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgICAgcmUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3B0aW9ucy5yZSA9IHJlO1xuICAgIH07XG5cbiAgICB0aGlzLiRhc3NlbWJsZU11bHRpbGluZVJlZ0V4cCA9IGZ1bmN0aW9uKG5lZWRsZSwgbW9kaWZpZXIpIHtcbiAgICAgICAgdmFyIHBhcnRzID0gbmVlZGxlLnJlcGxhY2UoL1xcclxcbnxcXHJ8XFxuL2csIFwiJFxcbl5cIikuc3BsaXQoXCJcXG5cIik7XG4gICAgICAgIHZhciByZSA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB0cnkge1xuICAgICAgICAgICAgcmUucHVzaChuZXcgUmVnRXhwKHBhcnRzW2ldLCBtb2RpZmllcikpO1xuICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmU7XG4gICAgfTtcblxuICAgIHRoaXMuJG1hdGNoSXRlcmF0b3IgPSBmdW5jdGlvbihzZXNzaW9uLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciByZSA9IHRoaXMuJGFzc2VtYmxlUmVnRXhwKG9wdGlvbnMpO1xuICAgICAgICBpZiAoIXJlKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB2YXIgYmFja3dhcmRzID0gb3B0aW9ucy5iYWNrd2FyZHMgPT0gdHJ1ZTtcbiAgICAgICAgdmFyIHNraXBDdXJyZW50ID0gb3B0aW9ucy5za2lwQ3VycmVudCAhPSBmYWxzZTtcblxuICAgICAgICB2YXIgcmFuZ2UgPSBvcHRpb25zLnJhbmdlO1xuICAgICAgICB2YXIgc3RhcnQgPSBvcHRpb25zLnN0YXJ0O1xuICAgICAgICBpZiAoIXN0YXJ0KVxuICAgICAgICAgICAgc3RhcnQgPSByYW5nZSA/IHJhbmdlW2JhY2t3YXJkcyA/IFwiZW5kXCIgOiBcInN0YXJ0XCJdIDogc2Vzc2lvbi5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTtcbiAgICAgICAgIFxuICAgICAgICBpZiAoc3RhcnQuc3RhcnQpXG4gICAgICAgICAgICBzdGFydCA9IHN0YXJ0W3NraXBDdXJyZW50ICE9IGJhY2t3YXJkcyA/IFwiZW5kXCIgOiBcInN0YXJ0XCJdO1xuXG4gICAgICAgIHZhciBmaXJzdFJvdyA9IHJhbmdlID8gcmFuZ2Uuc3RhcnQucm93IDogMDtcbiAgICAgICAgdmFyIGxhc3RSb3cgPSByYW5nZSA/IHJhbmdlLmVuZC5yb3cgOiBzZXNzaW9uLmdldExlbmd0aCgpIC0gMTtcbiAgICAgICAgXG4gICAgICAgIGlmIChiYWNrd2FyZHMpIHtcbiAgICAgICAgICAgIHZhciBmb3JFYWNoID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICB2YXIgcm93ID0gc3RhcnQucm93O1xuICAgICAgICAgICAgICAgIGlmIChmb3JFYWNoSW5MaW5lKHJvdywgc3RhcnQuY29sdW1uLCBjYWxsYmFjaykpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBmb3IgKHJvdy0tOyByb3cgPj0gZmlyc3RSb3c7IHJvdy0tKVxuICAgICAgICAgICAgICAgICAgICBpZiAoZm9yRWFjaEluTGluZShyb3csIE51bWJlci5NQVhfVkFMVUUsIGNhbGxiYWNrKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy53cmFwID09IGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgZm9yIChyb3cgPSBsYXN0Um93LCBmaXJzdFJvdyA9IHN0YXJ0LnJvdzsgcm93ID49IGZpcnN0Um93OyByb3ctLSlcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvckVhY2hJbkxpbmUocm93LCBOdW1iZXIuTUFYX1ZBTFVFLCBjYWxsYmFjaykpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGZvckVhY2ggPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHZhciByb3cgPSBzdGFydC5yb3c7XG4gICAgICAgICAgICAgICAgaWYgKGZvckVhY2hJbkxpbmUocm93LCBzdGFydC5jb2x1bW4sIGNhbGxiYWNrKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGZvciAocm93ID0gcm93ICsgMTsgcm93IDw9IGxhc3RSb3c7IHJvdysrKVxuICAgICAgICAgICAgICAgICAgICBpZiAoZm9yRWFjaEluTGluZShyb3csIDAsIGNhbGxiYWNrKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy53cmFwID09IGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgZm9yIChyb3cgPSBmaXJzdFJvdywgbGFzdFJvdyA9IHN0YXJ0LnJvdzsgcm93IDw9IGxhc3RSb3c7IHJvdysrKVxuICAgICAgICAgICAgICAgICAgICBpZiAoZm9yRWFjaEluTGluZShyb3csIDAsIGNhbGxiYWNrKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmIChvcHRpb25zLiRpc011bHRpTGluZSkge1xuICAgICAgICAgICAgdmFyIGxlbiA9IHJlLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBmb3JFYWNoSW5MaW5lID0gZnVuY3Rpb24ocm93LCBvZmZzZXQsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0Um93ID0gYmFja3dhcmRzID8gcm93IC0gbGVuICsgMSA6IHJvdztcbiAgICAgICAgICAgICAgICBpZiAoc3RhcnRSb3cgPCAwIHx8IHN0YXJ0Um93ICsgbGVuID4gc2Vzc2lvbi5nZXRMZW5ndGgoKSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHZhciBsaW5lID0gc2Vzc2lvbi5nZXRMaW5lKHN0YXJ0Um93KTtcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnRJbmRleCA9IGxpbmUuc2VhcmNoKHJlWzBdKTtcbiAgICAgICAgICAgICAgICBpZiAoIWJhY2t3YXJkcyAmJiBzdGFydEluZGV4IDwgb2Zmc2V0IHx8IHN0YXJ0SW5kZXggPT09IC0xKSByZXR1cm47XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBsaW5lID0gc2Vzc2lvbi5nZXRMaW5lKHN0YXJ0Um93ICsgaSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsaW5lLnNlYXJjaChyZVtpXSkgPT0gLTEpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBlbmRJbmRleCA9IGxpbmUubWF0Y2gocmVbbGVuIC0gMV0pWzBdLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBpZiAoYmFja3dhcmRzICYmIGVuZEluZGV4ID4gb2Zmc2V0KSByZXR1cm47XG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKHN0YXJ0Um93LCBzdGFydEluZGV4LCBzdGFydFJvdyArIGxlbiAtIDEsIGVuZEluZGV4KSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGJhY2t3YXJkcykge1xuICAgICAgICAgICAgdmFyIGZvckVhY2hJbkxpbmUgPSBmdW5jdGlvbihyb3csIGVuZEluZGV4LCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHZhciBsaW5lID0gc2Vzc2lvbi5nZXRMaW5lKHJvdyk7XG4gICAgICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgbSwgbGFzdCA9IDA7XG4gICAgICAgICAgICAgICAgcmUubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICB3aGlsZSgobSA9IHJlLmV4ZWMobGluZSkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsZW5ndGggPSBtWzBdLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgbGFzdCA9IG0uaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGFzdCA+PSBsaW5lLmxlbmd0aCkgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICByZS5sYXN0SW5kZXggPSBsYXN0ICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG0uaW5kZXggKyBsZW5ndGggPiBlbmRJbmRleClcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBtYXRjaGVzLnB1c2gobS5pbmRleCwgbGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IG1hdGNoZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpIC09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbHVtbiA9IG1hdGNoZXNbaSAtIDFdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGVuZ3RoID0gbWF0Y2hlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKHJvdywgY29sdW1uLCByb3csIGNvbHVtbiArIGxlbmd0aCkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGZvckVhY2hJbkxpbmUgPSBmdW5jdGlvbihyb3csIHN0YXJ0SW5kZXgsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmdldExpbmUocm93KTtcbiAgICAgICAgICAgICAgICB2YXIgbGFzdDtcbiAgICAgICAgICAgICAgICB2YXIgbTtcbiAgICAgICAgICAgICAgICByZS5sYXN0SW5kZXggPSBzdGFydEluZGV4O1xuICAgICAgICAgICAgICAgIHdoaWxlKChtID0gcmUuZXhlYyhsaW5lKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxlbmd0aCA9IG1bMF0ubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBsYXN0ID0gbS5pbmRleDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKHJvdywgbGFzdCwgcm93LGxhc3QgKyBsZW5ndGgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZS5sYXN0SW5kZXggPSBsYXN0ICs9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGFzdCA+PSBsaW5lLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge2ZvckVhY2g6IGZvckVhY2h9O1xuICAgIH07XG5cbn0pLmNhbGwoU2VhcmNoLnByb3RvdHlwZSk7XG5cbmZ1bmN0aW9uIGFkZFdvcmRCb3VuZGFyeShuZWVkbGUsIG9wdGlvbnMpIHtcbiAgICBmdW5jdGlvbiB3b3JkQm91bmRhcnkoYykge1xuICAgICAgICBpZiAoL1xcdy8udGVzdChjKSB8fCBvcHRpb25zLnJlZ0V4cCkgcmV0dXJuIFwiXFxcXGJcIjtcbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICAgIHJldHVybiB3b3JkQm91bmRhcnkobmVlZGxlWzBdKSArIG5lZWRsZVxuICAgICAgICArIHdvcmRCb3VuZGFyeShuZWVkbGVbbmVlZGxlLmxlbmd0aCAtIDFdKTtcbn1cblxuZXhwb3J0cy5TZWFyY2ggPSBTZWFyY2g7XG59KTtcblxuYWNlLmRlZmluZShcImFjZS9rZXlib2FyZC9oYXNoX2hhbmRsZXJcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIva2V5c1wiLFwiYWNlL2xpYi91c2VyYWdlbnRcIl0sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBrZXlVdGlsID0gcmVxdWlyZShcIi4uL2xpYi9rZXlzXCIpO1xudmFyIHVzZXJhZ2VudCA9IHJlcXVpcmUoXCIuLi9saWIvdXNlcmFnZW50XCIpO1xudmFyIEtFWV9NT0RTID0ga2V5VXRpbC5LRVlfTU9EUztcblxuZnVuY3Rpb24gSGFzaEhhbmRsZXIoY29uZmlnLCBwbGF0Zm9ybSkge1xuICAgIHRoaXMucGxhdGZvcm0gPSBwbGF0Zm9ybSB8fCAodXNlcmFnZW50LmlzTWFjID8gXCJtYWNcIiA6IFwid2luXCIpO1xuICAgIHRoaXMuY29tbWFuZHMgPSB7fTtcbiAgICB0aGlzLmNvbW1hbmRLZXlCaW5kaW5nID0ge307XG4gICAgdGhpcy5hZGRDb21tYW5kcyhjb25maWcpO1xuICAgIHRoaXMuJHNpbmdsZUNvbW1hbmQgPSB0cnVlO1xufVxuXG5mdW5jdGlvbiBNdWx0aUhhc2hIYW5kbGVyKGNvbmZpZywgcGxhdGZvcm0pIHtcbiAgICBIYXNoSGFuZGxlci5jYWxsKHRoaXMsIGNvbmZpZywgcGxhdGZvcm0pO1xuICAgIHRoaXMuJHNpbmdsZUNvbW1hbmQgPSBmYWxzZTtcbn1cblxuTXVsdGlIYXNoSGFuZGxlci5wcm90b3R5cGUgPSBIYXNoSGFuZGxlci5wcm90b3R5cGU7XG5cbihmdW5jdGlvbigpIHtcbiAgICBcblxuICAgIHRoaXMuYWRkQ29tbWFuZCA9IGZ1bmN0aW9uKGNvbW1hbmQpIHtcbiAgICAgICAgaWYgKHRoaXMuY29tbWFuZHNbY29tbWFuZC5uYW1lXSlcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQ29tbWFuZChjb21tYW5kKTtcblxuICAgICAgICB0aGlzLmNvbW1hbmRzW2NvbW1hbmQubmFtZV0gPSBjb21tYW5kO1xuXG4gICAgICAgIGlmIChjb21tYW5kLmJpbmRLZXkpXG4gICAgICAgICAgICB0aGlzLl9idWlsZEtleUhhc2goY29tbWFuZCk7XG4gICAgfTtcblxuICAgIHRoaXMucmVtb3ZlQ29tbWFuZCA9IGZ1bmN0aW9uKGNvbW1hbmQsIGtlZXBDb21tYW5kKSB7XG4gICAgICAgIHZhciBuYW1lID0gY29tbWFuZCAmJiAodHlwZW9mIGNvbW1hbmQgPT09ICdzdHJpbmcnID8gY29tbWFuZCA6IGNvbW1hbmQubmFtZSk7XG4gICAgICAgIGNvbW1hbmQgPSB0aGlzLmNvbW1hbmRzW25hbWVdO1xuICAgICAgICBpZiAoIWtlZXBDb21tYW5kKVxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuY29tbWFuZHNbbmFtZV07XG4gICAgICAgIHZhciBja2IgPSB0aGlzLmNvbW1hbmRLZXlCaW5kaW5nO1xuICAgICAgICBmb3IgKHZhciBrZXlJZCBpbiBja2IpIHtcbiAgICAgICAgICAgIHZhciBjbWRHcm91cCA9IGNrYltrZXlJZF07XG4gICAgICAgICAgICBpZiAoY21kR3JvdXAgPT0gY29tbWFuZCkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBja2Jba2V5SWRdO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGNtZEdyb3VwKSkge1xuICAgICAgICAgICAgICAgIHZhciBpID0gY21kR3JvdXAuaW5kZXhPZihjb21tYW5kKTtcbiAgICAgICAgICAgICAgICBpZiAoaSAhPSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBjbWRHcm91cC5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjbWRHcm91cC5sZW5ndGggPT0gMSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGNrYltrZXlJZF0gPSBjbWRHcm91cFswXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5iaW5kS2V5ID0gZnVuY3Rpb24oa2V5LCBjb21tYW5kLCBwb3NpdGlvbikge1xuICAgICAgICBpZiAodHlwZW9mIGtleSA9PSBcIm9iamVjdFwiICYmIGtleSkge1xuICAgICAgICAgICAgaWYgKHBvc2l0aW9uID09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IGtleS5wb3NpdGlvbjtcbiAgICAgICAgICAgIGtleSA9IGtleVt0aGlzLnBsYXRmb3JtXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWtleSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKHR5cGVvZiBjb21tYW5kID09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFkZENvbW1hbmQoe2V4ZWM6IGNvbW1hbmQsIGJpbmRLZXk6IGtleSwgbmFtZTogY29tbWFuZC5uYW1lIHx8IGtleX0pO1xuICAgICAgICBcbiAgICAgICAga2V5LnNwbGl0KFwifFwiKS5mb3JFYWNoKGZ1bmN0aW9uKGtleVBhcnQpIHtcbiAgICAgICAgICAgIHZhciBjaGFpbiA9IFwiXCI7XG4gICAgICAgICAgICBpZiAoa2V5UGFydC5pbmRleE9mKFwiIFwiKSAhPSAtMSkge1xuICAgICAgICAgICAgICAgIHZhciBwYXJ0cyA9IGtleVBhcnQuc3BsaXQoL1xccysvKTtcbiAgICAgICAgICAgICAgICBrZXlQYXJ0ID0gcGFydHMucG9wKCk7XG4gICAgICAgICAgICAgICAgcGFydHMuZm9yRWFjaChmdW5jdGlvbihrZXlQYXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBiaW5kaW5nID0gdGhpcy5wYXJzZUtleXMoa2V5UGFydCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpZCA9IEtFWV9NT0RTW2JpbmRpbmcuaGFzaElkXSArIGJpbmRpbmcua2V5O1xuICAgICAgICAgICAgICAgICAgICBjaGFpbiArPSAoY2hhaW4gPyBcIiBcIiA6IFwiXCIpICsgaWQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZENvbW1hbmRUb0JpbmRpbmcoY2hhaW4sIFwiY2hhaW5LZXlzXCIpO1xuICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICAgICAgICAgIGNoYWluICs9IFwiIFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGJpbmRpbmcgPSB0aGlzLnBhcnNlS2V5cyhrZXlQYXJ0KTtcbiAgICAgICAgICAgIHZhciBpZCA9IEtFWV9NT0RTW2JpbmRpbmcuaGFzaElkXSArIGJpbmRpbmcua2V5O1xuICAgICAgICAgICAgdGhpcy5fYWRkQ29tbWFuZFRvQmluZGluZyhjaGFpbiArIGlkLCBjb21tYW5kLCBwb3NpdGlvbik7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgIH07XG4gICAgXG4gICAgZnVuY3Rpb24gZ2V0UG9zaXRpb24oY29tbWFuZCkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGNvbW1hbmQgPT0gXCJvYmplY3RcIiAmJiBjb21tYW5kLmJpbmRLZXlcbiAgICAgICAgICAgICYmIGNvbW1hbmQuYmluZEtleS5wb3NpdGlvbiBcbiAgICAgICAgICAgIHx8IChjb21tYW5kLmlzRGVmYXVsdCA/IC0xMDAgOiAwKTtcbiAgICB9XG4gICAgdGhpcy5fYWRkQ29tbWFuZFRvQmluZGluZyA9IGZ1bmN0aW9uKGtleUlkLCBjb21tYW5kLCBwb3NpdGlvbikge1xuICAgICAgICB2YXIgY2tiID0gdGhpcy5jb21tYW5kS2V5QmluZGluZywgaTtcbiAgICAgICAgaWYgKCFjb21tYW5kKSB7XG4gICAgICAgICAgICBkZWxldGUgY2tiW2tleUlkXTtcbiAgICAgICAgfSBlbHNlIGlmICghY2tiW2tleUlkXSB8fCB0aGlzLiRzaW5nbGVDb21tYW5kKSB7XG4gICAgICAgICAgICBja2Jba2V5SWRdID0gY29tbWFuZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShja2Jba2V5SWRdKSkge1xuICAgICAgICAgICAgICAgIGNrYltrZXlJZF0gPSBbY2tiW2tleUlkXV07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKChpID0gY2tiW2tleUlkXS5pbmRleE9mKGNvbW1hbmQpKSAhPSAtMSkge1xuICAgICAgICAgICAgICAgIGNrYltrZXlJZF0uc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAodHlwZW9mIHBvc2l0aW9uICE9IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IGdldFBvc2l0aW9uKGNvbW1hbmQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgY29tbWFuZHMgPSBja2Jba2V5SWRdO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGNvbW1hbmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIG90aGVyID0gY29tbWFuZHNbaV07XG4gICAgICAgICAgICAgICAgdmFyIG90aGVyUG9zID0gZ2V0UG9zaXRpb24ob3RoZXIpO1xuICAgICAgICAgICAgICAgIGlmIChvdGhlclBvcyA+IHBvc2l0aW9uKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbW1hbmRzLnNwbGljZShpLCAwLCBjb21tYW5kKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmFkZENvbW1hbmRzID0gZnVuY3Rpb24oY29tbWFuZHMpIHtcbiAgICAgICAgY29tbWFuZHMgJiYgT2JqZWN0LmtleXMoY29tbWFuZHMpLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgICAgdmFyIGNvbW1hbmQgPSBjb21tYW5kc1tuYW1lXTtcbiAgICAgICAgICAgIGlmICghY29tbWFuZClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29tbWFuZCA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5iaW5kS2V5KGNvbW1hbmQsIG5hbWUpO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbW1hbmQgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgICAgICAgICBjb21tYW5kID0geyBleGVjOiBjb21tYW5kIH07XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29tbWFuZCAhPT0gXCJvYmplY3RcIilcbiAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIGlmICghY29tbWFuZC5uYW1lKVxuICAgICAgICAgICAgICAgIGNvbW1hbmQubmFtZSA9IG5hbWU7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkQ29tbWFuZChjb21tYW5kKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgfTtcblxuICAgIHRoaXMucmVtb3ZlQ29tbWFuZHMgPSBmdW5jdGlvbihjb21tYW5kcykge1xuICAgICAgICBPYmplY3Qua2V5cyhjb21tYW5kcykuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUNvbW1hbmQoY29tbWFuZHNbbmFtZV0pO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICB9O1xuXG4gICAgdGhpcy5iaW5kS2V5cyA9IGZ1bmN0aW9uKGtleUxpc3QpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoa2V5TGlzdCkuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgIHRoaXMuYmluZEtleShrZXksIGtleUxpc3Rba2V5XSk7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgIH07XG5cbiAgICB0aGlzLl9idWlsZEtleUhhc2ggPSBmdW5jdGlvbihjb21tYW5kKSB7XG4gICAgICAgIHRoaXMuYmluZEtleShjb21tYW5kLmJpbmRLZXksIGNvbW1hbmQpO1xuICAgIH07XG4gICAgdGhpcy5wYXJzZUtleXMgPSBmdW5jdGlvbihrZXlzKSB7XG4gICAgICAgIHZhciBwYXJ0cyA9IGtleXMudG9Mb3dlckNhc2UoKS5zcGxpdCgvW1xcLVxcK10oW1xcLVxcK10pPy8pLmZpbHRlcihmdW5jdGlvbih4KXtyZXR1cm4geDt9KTtcbiAgICAgICAgdmFyIGtleSA9IHBhcnRzLnBvcCgpO1xuXG4gICAgICAgIHZhciBrZXlDb2RlID0ga2V5VXRpbFtrZXldO1xuICAgICAgICBpZiAoa2V5VXRpbC5GVU5DVElPTl9LRVlTW2tleUNvZGVdKVxuICAgICAgICAgICAga2V5ID0ga2V5VXRpbC5GVU5DVElPTl9LRVlTW2tleUNvZGVdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGVsc2UgaWYgKCFwYXJ0cy5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4ge2tleToga2V5LCBoYXNoSWQ6IC0xfTtcbiAgICAgICAgZWxzZSBpZiAocGFydHMubGVuZ3RoID09IDEgJiYgcGFydHNbMF0gPT0gXCJzaGlmdFwiKVxuICAgICAgICAgICAgcmV0dXJuIHtrZXk6IGtleS50b1VwcGVyQ2FzZSgpLCBoYXNoSWQ6IC0xfTtcblxuICAgICAgICB2YXIgaGFzaElkID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IHBhcnRzLmxlbmd0aDsgaS0tOykge1xuICAgICAgICAgICAgdmFyIG1vZGlmaWVyID0ga2V5VXRpbC5LRVlfTU9EU1twYXJ0c1tpXV07XG4gICAgICAgICAgICBpZiAobW9kaWZpZXIgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiaW52YWxpZCBtb2RpZmllciBcIiArIHBhcnRzW2ldICsgXCIgaW4gXCIgKyBrZXlzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBoYXNoSWQgfD0gbW9kaWZpZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtrZXk6IGtleSwgaGFzaElkOiBoYXNoSWR9O1xuICAgIH07XG5cbiAgICB0aGlzLmZpbmRLZXlDb21tYW5kID0gZnVuY3Rpb24gZmluZEtleUNvbW1hbmQoaGFzaElkLCBrZXlTdHJpbmcpIHtcbiAgICAgICAgdmFyIGtleSA9IEtFWV9NT0RTW2hhc2hJZF0gKyBrZXlTdHJpbmc7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbW1hbmRLZXlCaW5kaW5nW2tleV07XG4gICAgfTtcblxuICAgIHRoaXMuaGFuZGxlS2V5Ym9hcmQgPSBmdW5jdGlvbihkYXRhLCBoYXNoSWQsIGtleVN0cmluZywga2V5Q29kZSkge1xuICAgICAgICBpZiAoa2V5Q29kZSA8IDApIHJldHVybjtcbiAgICAgICAgdmFyIGtleSA9IEtFWV9NT0RTW2hhc2hJZF0gKyBrZXlTdHJpbmc7XG4gICAgICAgIHZhciBjb21tYW5kID0gdGhpcy5jb21tYW5kS2V5QmluZGluZ1trZXldO1xuICAgICAgICBpZiAoZGF0YS4ka2V5Q2hhaW4pIHtcbiAgICAgICAgICAgIGRhdGEuJGtleUNoYWluICs9IFwiIFwiICsga2V5O1xuICAgICAgICAgICAgY29tbWFuZCA9IHRoaXMuY29tbWFuZEtleUJpbmRpbmdbZGF0YS4ka2V5Q2hhaW5dIHx8IGNvbW1hbmQ7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmIChjb21tYW5kKSB7XG4gICAgICAgICAgICBpZiAoY29tbWFuZCA9PSBcImNoYWluS2V5c1wiIHx8IGNvbW1hbmRbY29tbWFuZC5sZW5ndGggLSAxXSA9PSBcImNoYWluS2V5c1wiKSB7XG4gICAgICAgICAgICAgICAgZGF0YS4ka2V5Q2hhaW4gPSBkYXRhLiRrZXlDaGFpbiB8fCBrZXk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtjb21tYW5kOiBcIm51bGxcIn07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmIChkYXRhLiRrZXlDaGFpbikge1xuICAgICAgICAgICAgaWYgKCghaGFzaElkIHx8IGhhc2hJZCA9PSA0KSAmJiBrZXlTdHJpbmcubGVuZ3RoID09IDEpXG4gICAgICAgICAgICAgICAgZGF0YS4ka2V5Q2hhaW4gPSBkYXRhLiRrZXlDaGFpbi5zbGljZSgwLCAta2V5Lmxlbmd0aCAtIDEpOyAvLyB3YWl0IGZvciBpbnB1dFxuICAgICAgICAgICAgZWxzZSBpZiAoaGFzaElkID09IC0xIHx8IGtleUNvZGUgPiAwKVxuICAgICAgICAgICAgICAgIGRhdGEuJGtleUNoYWluID0gXCJcIjsgLy8gcmVzZXQga2V5Q2hhaW5cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge2NvbW1hbmQ6IGNvbW1hbmR9O1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5nZXRTdGF0dXNUZXh0ID0gZnVuY3Rpb24oZWRpdG9yLCBkYXRhKSB7XG4gICAgICAgIHJldHVybiBkYXRhLiRrZXlDaGFpbiB8fCBcIlwiO1xuICAgIH07XG5cbn0pLmNhbGwoSGFzaEhhbmRsZXIucHJvdG90eXBlKTtcblxuZXhwb3J0cy5IYXNoSGFuZGxlciA9IEhhc2hIYW5kbGVyO1xuZXhwb3J0cy5NdWx0aUhhc2hIYW5kbGVyID0gTXVsdGlIYXNoSGFuZGxlcjtcbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL2NvbW1hbmRzL2NvbW1hbmRfbWFuYWdlclwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9vb3BcIixcImFjZS9rZXlib2FyZC9oYXNoX2hhbmRsZXJcIixcImFjZS9saWIvZXZlbnRfZW1pdHRlclwiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIG9vcCA9IHJlcXVpcmUoXCIuLi9saWIvb29wXCIpO1xudmFyIE11bHRpSGFzaEhhbmRsZXIgPSByZXF1aXJlKFwiLi4va2V5Ym9hcmQvaGFzaF9oYW5kbGVyXCIpLk11bHRpSGFzaEhhbmRsZXI7XG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZShcIi4uL2xpYi9ldmVudF9lbWl0dGVyXCIpLkV2ZW50RW1pdHRlcjtcblxudmFyIENvbW1hbmRNYW5hZ2VyID0gZnVuY3Rpb24ocGxhdGZvcm0sIGNvbW1hbmRzKSB7XG4gICAgTXVsdGlIYXNoSGFuZGxlci5jYWxsKHRoaXMsIGNvbW1hbmRzLCBwbGF0Zm9ybSk7XG4gICAgdGhpcy5ieU5hbWUgPSB0aGlzLmNvbW1hbmRzO1xuICAgIHRoaXMuc2V0RGVmYXVsdEhhbmRsZXIoXCJleGVjXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKCFlLmFyZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiBlLmNvbW1hbmQuZXhlYyhlLmVkaXRvciwge30sIGUuZXZlbnQsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlLmNvbW1hbmQuZXhlYyhlLmVkaXRvciwgZS5hcmdzLCBlLmV2ZW50LCBmYWxzZSk7XG4gICAgfSk7XG59O1xuXG5vb3AuaW5oZXJpdHMoQ29tbWFuZE1hbmFnZXIsIE11bHRpSGFzaEhhbmRsZXIpO1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICBvb3AuaW1wbGVtZW50KHRoaXMsIEV2ZW50RW1pdHRlcik7XG5cbiAgICB0aGlzLmV4ZWMgPSBmdW5jdGlvbihjb21tYW5kLCBlZGl0b3IsIGFyZ3MpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY29tbWFuZCkpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBjb21tYW5kLmxlbmd0aDsgaS0tOyApIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5leGVjKGNvbW1hbmRbaV0sIGVkaXRvciwgYXJncykpIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBjb21tYW5kID09PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgY29tbWFuZCA9IHRoaXMuY29tbWFuZHNbY29tbWFuZF07XG5cbiAgICAgICAgaWYgKCFjb21tYW5kKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGlmIChlZGl0b3IgJiYgZWRpdG9yLiRyZWFkT25seSAmJiAhY29tbWFuZC5yZWFkT25seSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICBpZiAodGhpcy4kY2hlY2tDb21tYW5kU3RhdGUgIT0gZmFsc2UgJiYgY29tbWFuZC5pc0F2YWlsYWJsZSAmJiAhY29tbWFuZC5pc0F2YWlsYWJsZShlZGl0b3IpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIHZhciBlID0ge2VkaXRvcjogZWRpdG9yLCBjb21tYW5kOiBjb21tYW5kLCBhcmdzOiBhcmdzfTtcbiAgICAgICAgZS5yZXR1cm5WYWx1ZSA9IHRoaXMuX2VtaXQoXCJleGVjXCIsIGUpO1xuICAgICAgICB0aGlzLl9zaWduYWwoXCJhZnRlckV4ZWNcIiwgZSk7XG5cbiAgICAgICAgcmV0dXJuIGUucmV0dXJuVmFsdWUgPT09IGZhbHNlID8gZmFsc2UgOiB0cnVlO1xuICAgIH07XG5cbiAgICB0aGlzLnRvZ2dsZVJlY29yZGluZyA9IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICBpZiAodGhpcy4kaW5SZXBsYXkpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgZWRpdG9yICYmIGVkaXRvci5fZW1pdChcImNoYW5nZVN0YXR1c1wiKTtcbiAgICAgICAgaWYgKHRoaXMucmVjb3JkaW5nKSB7XG4gICAgICAgICAgICB0aGlzLm1hY3JvLnBvcCgpO1xuICAgICAgICAgICAgdGhpcy5vZmYoXCJleGVjXCIsIHRoaXMuJGFkZENvbW1hbmRUb01hY3JvKTtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLm1hY3JvLmxlbmd0aClcbiAgICAgICAgICAgICAgICB0aGlzLm1hY3JvID0gdGhpcy5vbGRNYWNybztcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVjb3JkaW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLiRhZGRDb21tYW5kVG9NYWNybykge1xuICAgICAgICAgICAgdGhpcy4kYWRkQ29tbWFuZFRvTWFjcm8gPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYWNyby5wdXNoKFtlLmNvbW1hbmQsIGUuYXJnc10pO1xuICAgICAgICAgICAgfS5iaW5kKHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5vbGRNYWNybyA9IHRoaXMubWFjcm87XG4gICAgICAgIHRoaXMubWFjcm8gPSBbXTtcbiAgICAgICAgdGhpcy5vbihcImV4ZWNcIiwgdGhpcy4kYWRkQ29tbWFuZFRvTWFjcm8pO1xuICAgICAgICByZXR1cm4gdGhpcy5yZWNvcmRpbmcgPSB0cnVlO1xuICAgIH07XG5cbiAgICB0aGlzLnJlcGxheSA9IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICBpZiAodGhpcy4kaW5SZXBsYXkgfHwgIXRoaXMubWFjcm8pXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgaWYgKHRoaXMucmVjb3JkaW5nKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9nZ2xlUmVjb3JkaW5nKGVkaXRvcik7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuJGluUmVwbGF5ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMubWFjcm8uZm9yRWFjaChmdW5jdGlvbih4KSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB4ID09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXhlYyh4LCBlZGl0b3IpO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5leGVjKHhbMF0sIGVkaXRvciwgeFsxXSk7XG4gICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMuJGluUmVwbGF5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy50cmltTWFjcm8gPSBmdW5jdGlvbihtKSB7XG4gICAgICAgIHJldHVybiBtLm1hcChmdW5jdGlvbih4KXtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgeFswXSAhPSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgICAgIHhbMF0gPSB4WzBdLm5hbWU7XG4gICAgICAgICAgICBpZiAoIXhbMV0pXG4gICAgICAgICAgICAgICAgeCA9IHhbMF07XG4gICAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgfSk7XG4gICAgfTtcblxufSkuY2FsbChDb21tYW5kTWFuYWdlci5wcm90b3R5cGUpO1xuXG5leHBvcnRzLkNvbW1hbmRNYW5hZ2VyID0gQ29tbWFuZE1hbmFnZXI7XG5cbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL2NvbW1hbmRzL2RlZmF1bHRfY29tbWFuZHNcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvbGFuZ1wiLFwiYWNlL2NvbmZpZ1wiLFwiYWNlL3JhbmdlXCJdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgbGFuZyA9IHJlcXVpcmUoXCIuLi9saWIvbGFuZ1wiKTtcbnZhciBjb25maWcgPSByZXF1aXJlKFwiLi4vY29uZmlnXCIpO1xudmFyIFJhbmdlID0gcmVxdWlyZShcIi4uL3JhbmdlXCIpLlJhbmdlO1xuXG5mdW5jdGlvbiBiaW5kS2V5KHdpbiwgbWFjKSB7XG4gICAgcmV0dXJuIHt3aW46IHdpbiwgbWFjOiBtYWN9O1xufVxuZXhwb3J0cy5jb21tYW5kcyA9IFt7XG4gICAgbmFtZTogXCJzaG93U2V0dGluZ3NNZW51XCIsXG4gICAgZGVzY3JpcHRpb246IFwiU2hvdyBzZXR0aW5ncyBtZW51XCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkN0cmwtLFwiLCBcIkNvbW1hbmQtLFwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgY29uZmlnLmxvYWRNb2R1bGUoXCJhY2UvZXh0L3NldHRpbmdzX21lbnVcIiwgZnVuY3Rpb24obW9kdWxlKSB7XG4gICAgICAgICAgICBtb2R1bGUuaW5pdChlZGl0b3IpO1xuICAgICAgICAgICAgZWRpdG9yLnNob3dTZXR0aW5nc01lbnUoKTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwiZ29Ub05leHRFcnJvclwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIkdvIHRvIG5leHQgZXJyb3JcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQWx0LUVcIiwgXCJGNFwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgY29uZmlnLmxvYWRNb2R1bGUoXCIuL2V4dC9lcnJvcl9tYXJrZXJcIiwgZnVuY3Rpb24obW9kdWxlKSB7XG4gICAgICAgICAgICBtb2R1bGUuc2hvd0Vycm9yTWFya2VyKGVkaXRvciwgMSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiYW5pbWF0ZVwiLFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJnb1RvUHJldmlvdXNFcnJvclwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIkdvIHRvIHByZXZpb3VzIGVycm9yXCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkFsdC1TaGlmdC1FXCIsIFwiU2hpZnQtRjRcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgIGNvbmZpZy5sb2FkTW9kdWxlKFwiLi9leHQvZXJyb3JfbWFya2VyXCIsIGZ1bmN0aW9uKG1vZHVsZSkge1xuICAgICAgICAgICAgbW9kdWxlLnNob3dFcnJvck1hcmtlcihlZGl0b3IsIC0xKTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBzY3JvbGxJbnRvVmlldzogXCJhbmltYXRlXCIsXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcInNlbGVjdGFsbFwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlNlbGVjdCBhbGxcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQ3RybC1BXCIsIFwiQ29tbWFuZC1BXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3Iuc2VsZWN0QWxsKCk7IH0sXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcImNlbnRlcnNlbGVjdGlvblwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIkNlbnRlciBzZWxlY3Rpb25cIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KG51bGwsIFwiQ3RybC1MXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IuY2VudGVyU2VsZWN0aW9uKCk7IH0sXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcImdvdG9saW5lXCIsXG4gICAgZGVzY3JpcHRpb246IFwiR28gdG8gbGluZS4uLlwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLUxcIiwgXCJDb21tYW5kLUxcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yLCBsaW5lKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbGluZSA9PT0gXCJudW1iZXJcIiAmJiAhaXNOYU4obGluZSkpXG4gICAgICAgICAgICBlZGl0b3IuZ290b0xpbmUobGluZSk7XG4gICAgICAgIGVkaXRvci5wcm9tcHQoeyAkdHlwZTogXCJnb3RvTGluZVwiIH0pO1xuICAgIH0sXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcImZvbGRcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQWx0LUx8Q3RybC1GMVwiLCBcIkNvbW1hbmQtQWx0LUx8Q29tbWFuZC1GMVwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLnNlc3Npb24udG9nZ2xlRm9sZChmYWxzZSk7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiLFxuICAgIHNjcm9sbEludG9WaWV3OiBcImNlbnRlclwiLFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJ1bmZvbGRcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQWx0LVNoaWZ0LUx8Q3RybC1TaGlmdC1GMVwiLCBcIkNvbW1hbmQtQWx0LVNoaWZ0LUx8Q29tbWFuZC1TaGlmdC1GMVwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLnNlc3Npb24udG9nZ2xlRm9sZCh0cnVlKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCIsXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiY2VudGVyXCIsXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcInRvZ2dsZUZvbGRXaWRnZXRcIixcbiAgICBkZXNjcmlwdGlvbjogXCJUb2dnbGUgZm9sZCB3aWRnZXRcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiRjJcIiwgXCJGMlwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLnNlc3Npb24udG9nZ2xlRm9sZFdpZGdldCgpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIixcbiAgICBzY3JvbGxJbnRvVmlldzogXCJjZW50ZXJcIixcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwidG9nZ2xlUGFyZW50Rm9sZFdpZGdldFwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlRvZ2dsZSBwYXJlbnQgZm9sZCB3aWRnZXRcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQWx0LUYyXCIsIFwiQWx0LUYyXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3Iuc2Vzc2lvbi50b2dnbGVGb2xkV2lkZ2V0KHRydWUpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIixcbiAgICBzY3JvbGxJbnRvVmlldzogXCJjZW50ZXJcIixcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwiZm9sZGFsbFwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIkZvbGQgYWxsXCIsXG4gICAgYmluZEtleTogYmluZEtleShudWxsLCBcIkN0cmwtQ29tbWFuZC1PcHRpb24tMFwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLnNlc3Npb24uZm9sZEFsbCgpOyB9LFxuICAgIHNjcm9sbEludG9WaWV3OiBcImNlbnRlclwiLFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJmb2xkQWxsQ29tbWVudHNcIixcbiAgICBkZXNjcmlwdGlvbjogXCJGb2xkIGFsbCBjb21tZW50c1wiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkobnVsbCwgXCJDdHJsLUNvbW1hbmQtT3B0aW9uLTBcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5zZXNzaW9uLmZvbGRBbGxDb21tZW50cygpOyB9LFxuICAgIHNjcm9sbEludG9WaWV3OiBcImNlbnRlclwiLFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJmb2xkT3RoZXJcIixcbiAgICBkZXNjcmlwdGlvbjogXCJGb2xkIG90aGVyXCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkFsdC0wXCIsIFwiQ29tbWFuZC1PcHRpb24tMFwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgXG4gICAgICAgIGVkaXRvci5zZXNzaW9uLmZvbGRBbGwoKTtcbiAgICAgICAgZWRpdG9yLnNlc3Npb24udW5mb2xkKGVkaXRvci5zZWxlY3Rpb24uZ2V0QWxsUmFuZ2VzKCkpO1xuICAgIH0sXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiY2VudGVyXCIsXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcInVuZm9sZGFsbFwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlVuZm9sZCBhbGxcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQWx0LVNoaWZ0LTBcIiwgXCJDb21tYW5kLU9wdGlvbi1TaGlmdC0wXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3Iuc2Vzc2lvbi51bmZvbGQoKTsgfSxcbiAgICBzY3JvbGxJbnRvVmlldzogXCJjZW50ZXJcIixcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwiZmluZG5leHRcIixcbiAgICBkZXNjcmlwdGlvbjogXCJGaW5kIG5leHRcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQ3RybC1LXCIsIFwiQ29tbWFuZC1HXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IuZmluZE5leHQoKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCIsXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiY2VudGVyXCIsXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcImZpbmRwcmV2aW91c1wiLFxuICAgIGRlc2NyaXB0aW9uOiBcIkZpbmQgcHJldmlvdXNcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQ3RybC1TaGlmdC1LXCIsIFwiQ29tbWFuZC1TaGlmdC1HXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IuZmluZFByZXZpb3VzKCk7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiLFxuICAgIHNjcm9sbEludG9WaWV3OiBcImNlbnRlclwiLFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJzZWxlY3RPckZpbmROZXh0XCIsXG4gICAgZGVzY3JpcHRpb246IFwiU2VsZWN0IG9yIGZpbmQgbmV4dFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJBbHQtS1wiLCBcIkN0cmwtR1wiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgaWYgKGVkaXRvci5zZWxlY3Rpb24uaXNFbXB0eSgpKVxuICAgICAgICAgICAgZWRpdG9yLnNlbGVjdGlvbi5zZWxlY3RXb3JkKCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGVkaXRvci5maW5kTmV4dCgpOyBcbiAgICB9LFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJzZWxlY3RPckZpbmRQcmV2aW91c1wiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlNlbGVjdCBvciBmaW5kIHByZXZpb3VzXCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkFsdC1TaGlmdC1LXCIsIFwiQ3RybC1TaGlmdC1HXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBcbiAgICAgICAgaWYgKGVkaXRvci5zZWxlY3Rpb24uaXNFbXB0eSgpKVxuICAgICAgICAgICAgZWRpdG9yLnNlbGVjdGlvbi5zZWxlY3RXb3JkKCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGVkaXRvci5maW5kUHJldmlvdXMoKTtcbiAgICB9LFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJmaW5kXCIsXG4gICAgZGVzY3JpcHRpb246IFwiRmluZFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLUZcIiwgXCJDb21tYW5kLUZcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgIGNvbmZpZy5sb2FkTW9kdWxlKFwiYWNlL2V4dC9zZWFyY2hib3hcIiwgZnVuY3Rpb24oZSkge2UuU2VhcmNoKGVkaXRvcik7fSk7XG4gICAgfSxcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwib3ZlcndyaXRlXCIsXG4gICAgZGVzY3JpcHRpb246IFwiT3ZlcndyaXRlXCIsXG4gICAgYmluZEtleTogXCJJbnNlcnRcIixcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLnRvZ2dsZU92ZXJ3cml0ZSgpOyB9LFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJzZWxlY3R0b3N0YXJ0XCIsXG4gICAgZGVzY3JpcHRpb246IFwiU2VsZWN0IHRvIHN0YXJ0XCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkN0cmwtU2hpZnQtSG9tZVwiLCBcIkNvbW1hbmQtU2hpZnQtSG9tZXxDb21tYW5kLVNoaWZ0LVVwXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0RmlsZVN0YXJ0KCk7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiLFxuICAgIHJlYWRPbmx5OiB0cnVlLFxuICAgIHNjcm9sbEludG9WaWV3OiBcImFuaW1hdGVcIixcbiAgICBhY2VDb21tYW5kR3JvdXA6IFwiZmlsZUp1bXBcIlxufSwge1xuICAgIG5hbWU6IFwiZ290b3N0YXJ0XCIsXG4gICAgZGVzY3JpcHRpb246IFwiR28gdG8gc3RhcnRcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQ3RybC1Ib21lXCIsIFwiQ29tbWFuZC1Ib21lfENvbW1hbmQtVXBcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5uYXZpZ2F0ZUZpbGVTdGFydCgpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIixcbiAgICByZWFkT25seTogdHJ1ZSxcbiAgICBzY3JvbGxJbnRvVmlldzogXCJhbmltYXRlXCIsXG4gICAgYWNlQ29tbWFuZEdyb3VwOiBcImZpbGVKdW1wXCJcbn0sIHtcbiAgICBuYW1lOiBcInNlbGVjdHVwXCIsXG4gICAgZGVzY3JpcHRpb246IFwiU2VsZWN0IHVwXCIsXG4gICAgYmluZEtleTogYmluZEtleShcIlNoaWZ0LVVwXCIsIFwiU2hpZnQtVXB8Q3RybC1TaGlmdC1QXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0VXAoKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCIsXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiY3Vyc29yXCIsXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcImdvbGluZXVwXCIsXG4gICAgZGVzY3JpcHRpb246IFwiR28gbGluZSB1cFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJVcFwiLCBcIlVwfEN0cmwtUFwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IsIGFyZ3MpIHsgZWRpdG9yLm5hdmlnYXRlVXAoYXJncy50aW1lcyk7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiLFxuICAgIHNjcm9sbEludG9WaWV3OiBcImN1cnNvclwiLFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJzZWxlY3R0b2VuZFwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlNlbGVjdCB0byBlbmRcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQ3RybC1TaGlmdC1FbmRcIiwgXCJDb21tYW5kLVNoaWZ0LUVuZHxDb21tYW5kLVNoaWZ0LURvd25cIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5nZXRTZWxlY3Rpb24oKS5zZWxlY3RGaWxlRW5kKCk7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiLFxuICAgIHJlYWRPbmx5OiB0cnVlLFxuICAgIHNjcm9sbEludG9WaWV3OiBcImFuaW1hdGVcIixcbiAgICBhY2VDb21tYW5kR3JvdXA6IFwiZmlsZUp1bXBcIlxufSwge1xuICAgIG5hbWU6IFwiZ290b2VuZFwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIkdvIHRvIGVuZFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLUVuZFwiLCBcIkNvbW1hbmQtRW5kfENvbW1hbmQtRG93blwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLm5hdmlnYXRlRmlsZUVuZCgpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIixcbiAgICByZWFkT25seTogdHJ1ZSxcbiAgICBzY3JvbGxJbnRvVmlldzogXCJhbmltYXRlXCIsXG4gICAgYWNlQ29tbWFuZEdyb3VwOiBcImZpbGVKdW1wXCJcbn0sIHtcbiAgICBuYW1lOiBcInNlbGVjdGRvd25cIixcbiAgICBkZXNjcmlwdGlvbjogXCJTZWxlY3QgZG93blwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJTaGlmdC1Eb3duXCIsIFwiU2hpZnQtRG93bnxDdHJsLVNoaWZ0LU5cIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5nZXRTZWxlY3Rpb24oKS5zZWxlY3REb3duKCk7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiLFxuICAgIHNjcm9sbEludG9WaWV3OiBcImN1cnNvclwiLFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJnb2xpbmVkb3duXCIsXG4gICAgZGVzY3JpcHRpb246IFwiR28gbGluZSBkb3duXCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkRvd25cIiwgXCJEb3dufEN0cmwtTlwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IsIGFyZ3MpIHsgZWRpdG9yLm5hdmlnYXRlRG93bihhcmdzLnRpbWVzKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCIsXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiY3Vyc29yXCIsXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcInNlbGVjdHdvcmRsZWZ0XCIsXG4gICAgZGVzY3JpcHRpb246IFwiU2VsZWN0IHdvcmQgbGVmdFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLVNoaWZ0LUxlZnRcIiwgXCJPcHRpb24tU2hpZnQtTGVmdFwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLmdldFNlbGVjdGlvbigpLnNlbGVjdFdvcmRMZWZ0KCk7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiLFxuICAgIHNjcm9sbEludG9WaWV3OiBcImN1cnNvclwiLFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJnb3Rvd29yZGxlZnRcIixcbiAgICBkZXNjcmlwdGlvbjogXCJHbyB0byB3b3JkIGxlZnRcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQ3RybC1MZWZ0XCIsIFwiT3B0aW9uLUxlZnRcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5uYXZpZ2F0ZVdvcmRMZWZ0KCk7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiLFxuICAgIHNjcm9sbEludG9WaWV3OiBcImN1cnNvclwiLFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJzZWxlY3R0b2xpbmVzdGFydFwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlNlbGVjdCB0byBsaW5lIHN0YXJ0XCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkFsdC1TaGlmdC1MZWZ0XCIsIFwiQ29tbWFuZC1TaGlmdC1MZWZ0fEN0cmwtU2hpZnQtQVwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLmdldFNlbGVjdGlvbigpLnNlbGVjdExpbmVTdGFydCgpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIixcbiAgICBzY3JvbGxJbnRvVmlldzogXCJjdXJzb3JcIixcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwiZ290b2xpbmVzdGFydFwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIkdvIHRvIGxpbmUgc3RhcnRcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQWx0LUxlZnR8SG9tZVwiLCBcIkNvbW1hbmQtTGVmdHxIb21lfEN0cmwtQVwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLm5hdmlnYXRlTGluZVN0YXJ0KCk7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiLFxuICAgIHNjcm9sbEludG9WaWV3OiBcImN1cnNvclwiLFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJzZWxlY3RsZWZ0XCIsXG4gICAgZGVzY3JpcHRpb246IFwiU2VsZWN0IGxlZnRcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiU2hpZnQtTGVmdFwiLCBcIlNoaWZ0LUxlZnR8Q3RybC1TaGlmdC1CXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0TGVmdCgpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIixcbiAgICBzY3JvbGxJbnRvVmlldzogXCJjdXJzb3JcIixcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwiZ290b2xlZnRcIixcbiAgICBkZXNjcmlwdGlvbjogXCJHbyB0byBsZWZ0XCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkxlZnRcIiwgXCJMZWZ0fEN0cmwtQlwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IsIGFyZ3MpIHsgZWRpdG9yLm5hdmlnYXRlTGVmdChhcmdzLnRpbWVzKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCIsXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiY3Vyc29yXCIsXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcInNlbGVjdHdvcmRyaWdodFwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlNlbGVjdCB3b3JkIHJpZ2h0XCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkN0cmwtU2hpZnQtUmlnaHRcIiwgXCJPcHRpb24tU2hpZnQtUmlnaHRcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5nZXRTZWxlY3Rpb24oKS5zZWxlY3RXb3JkUmlnaHQoKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCIsXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiY3Vyc29yXCIsXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcImdvdG93b3JkcmlnaHRcIixcbiAgICBkZXNjcmlwdGlvbjogXCJHbyB0byB3b3JkIHJpZ2h0XCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkN0cmwtUmlnaHRcIiwgXCJPcHRpb24tUmlnaHRcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5uYXZpZ2F0ZVdvcmRSaWdodCgpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIixcbiAgICBzY3JvbGxJbnRvVmlldzogXCJjdXJzb3JcIixcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwic2VsZWN0dG9saW5lZW5kXCIsXG4gICAgZGVzY3JpcHRpb246IFwiU2VsZWN0IHRvIGxpbmUgZW5kXCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkFsdC1TaGlmdC1SaWdodFwiLCBcIkNvbW1hbmQtU2hpZnQtUmlnaHR8U2hpZnQtRW5kfEN0cmwtU2hpZnQtRVwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLmdldFNlbGVjdGlvbigpLnNlbGVjdExpbmVFbmQoKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCIsXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiY3Vyc29yXCIsXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcImdvdG9saW5lZW5kXCIsXG4gICAgZGVzY3JpcHRpb246IFwiR28gdG8gbGluZSBlbmRcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQWx0LVJpZ2h0fEVuZFwiLCBcIkNvbW1hbmQtUmlnaHR8RW5kfEN0cmwtRVwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLm5hdmlnYXRlTGluZUVuZCgpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIixcbiAgICBzY3JvbGxJbnRvVmlldzogXCJjdXJzb3JcIixcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwic2VsZWN0cmlnaHRcIixcbiAgICBkZXNjcmlwdGlvbjogXCJTZWxlY3QgcmlnaHRcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiU2hpZnQtUmlnaHRcIiwgXCJTaGlmdC1SaWdodFwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLmdldFNlbGVjdGlvbigpLnNlbGVjdFJpZ2h0KCk7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiLFxuICAgIHNjcm9sbEludG9WaWV3OiBcImN1cnNvclwiLFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJnb3RvcmlnaHRcIixcbiAgICBkZXNjcmlwdGlvbjogXCJHbyB0byByaWdodFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJSaWdodFwiLCBcIlJpZ2h0fEN0cmwtRlwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IsIGFyZ3MpIHsgZWRpdG9yLm5hdmlnYXRlUmlnaHQoYXJncy50aW1lcyk7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiLFxuICAgIHNjcm9sbEludG9WaWV3OiBcImN1cnNvclwiLFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJzZWxlY3RwYWdlZG93blwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlNlbGVjdCBwYWdlIGRvd25cIixcbiAgICBiaW5kS2V5OiBcIlNoaWZ0LVBhZ2VEb3duXCIsXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5zZWxlY3RQYWdlRG93bigpOyB9LFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJwYWdlZG93blwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlBhZ2UgZG93blwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkobnVsbCwgXCJPcHRpb24tUGFnZURvd25cIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5zY3JvbGxQYWdlRG93bigpOyB9LFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJnb3RvcGFnZWRvd25cIixcbiAgICBkZXNjcmlwdGlvbjogXCJHbyB0byBwYWdlIGRvd25cIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiUGFnZURvd25cIiwgXCJQYWdlRG93bnxDdHJsLVZcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5nb3RvUGFnZURvd24oKTsgfSxcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwic2VsZWN0cGFnZXVwXCIsXG4gICAgZGVzY3JpcHRpb246IFwiU2VsZWN0IHBhZ2UgdXBcIixcbiAgICBiaW5kS2V5OiBcIlNoaWZ0LVBhZ2VVcFwiLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3Iuc2VsZWN0UGFnZVVwKCk7IH0sXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcInBhZ2V1cFwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlBhZ2UgdXBcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KG51bGwsIFwiT3B0aW9uLVBhZ2VVcFwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLnNjcm9sbFBhZ2VVcCgpOyB9LFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJnb3RvcGFnZXVwXCIsXG4gICAgZGVzY3JpcHRpb246IFwiR28gdG8gcGFnZSB1cFwiLFxuICAgIGJpbmRLZXk6IFwiUGFnZVVwXCIsXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5nb3RvUGFnZVVwKCk7IH0sXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcInNjcm9sbHVwXCIsXG4gICAgZGVzY3JpcHRpb246IFwiU2Nyb2xsIHVwXCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkN0cmwtVXBcIiwgbnVsbCksXG4gICAgZXhlYzogZnVuY3Rpb24oZSkgeyBlLnJlbmRlcmVyLnNjcm9sbEJ5KDAsIC0yICogZS5yZW5kZXJlci5sYXllckNvbmZpZy5saW5lSGVpZ2h0KTsgfSxcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwic2Nyb2xsZG93blwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlNjcm9sbCBkb3duXCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkN0cmwtRG93blwiLCBudWxsKSxcbiAgICBleGVjOiBmdW5jdGlvbihlKSB7IGUucmVuZGVyZXIuc2Nyb2xsQnkoMCwgMiAqIGUucmVuZGVyZXIubGF5ZXJDb25maWcubGluZUhlaWdodCk7IH0sXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcInNlbGVjdGxpbmVzdGFydFwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlNlbGVjdCBsaW5lIHN0YXJ0XCIsXG4gICAgYmluZEtleTogXCJTaGlmdC1Ib21lXCIsXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5nZXRTZWxlY3Rpb24oKS5zZWxlY3RMaW5lU3RhcnQoKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCIsXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiY3Vyc29yXCIsXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcInNlbGVjdGxpbmVlbmRcIixcbiAgICBkZXNjcmlwdGlvbjogXCJTZWxlY3QgbGluZSBlbmRcIixcbiAgICBiaW5kS2V5OiBcIlNoaWZ0LUVuZFwiLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0TGluZUVuZCgpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIixcbiAgICBzY3JvbGxJbnRvVmlldzogXCJjdXJzb3JcIixcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwidG9nZ2xlcmVjb3JkaW5nXCIsXG4gICAgZGVzY3JpcHRpb246IFwiVG9nZ2xlIHJlY29yZGluZ1wiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLUFsdC1FXCIsIFwiQ29tbWFuZC1PcHRpb24tRVwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLmNvbW1hbmRzLnRvZ2dsZVJlY29yZGluZyhlZGl0b3IpOyB9LFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJyZXBsYXltYWNyb1wiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlJlcGxheSBtYWNyb1wiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLVNoaWZ0LUVcIiwgXCJDb21tYW5kLVNoaWZ0LUVcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5jb21tYW5kcy5yZXBsYXkoZWRpdG9yKTsgfSxcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwianVtcHRvbWF0Y2hpbmdcIixcbiAgICBkZXNjcmlwdGlvbjogXCJKdW1wIHRvIG1hdGNoaW5nXCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkN0cmwtXFxcXHxDdHJsLVBcIiwgXCJDb21tYW5kLVxcXFxcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5qdW1wVG9NYXRjaGluZygpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIixcbiAgICBzY3JvbGxJbnRvVmlldzogXCJhbmltYXRlXCIsXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcInNlbGVjdHRvbWF0Y2hpbmdcIixcbiAgICBkZXNjcmlwdGlvbjogXCJTZWxlY3QgdG8gbWF0Y2hpbmdcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQ3RybC1TaGlmdC1cXFxcfEN0cmwtU2hpZnQtUFwiLCBcIkNvbW1hbmQtU2hpZnQtXFxcXFwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLmp1bXBUb01hdGNoaW5nKHRydWUpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIixcbiAgICBzY3JvbGxJbnRvVmlldzogXCJhbmltYXRlXCIsXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcImV4cGFuZFRvTWF0Y2hpbmdcIixcbiAgICBkZXNjcmlwdGlvbjogXCJFeHBhbmQgdG8gbWF0Y2hpbmdcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQ3RybC1TaGlmdC1NXCIsIFwiQ3RybC1TaGlmdC1NXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IuanVtcFRvTWF0Y2hpbmcodHJ1ZSwgdHJ1ZSk7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiLFxuICAgIHNjcm9sbEludG9WaWV3OiBcImFuaW1hdGVcIixcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwicGFzc0tleXNUb0Jyb3dzZXJcIixcbiAgICBkZXNjcmlwdGlvbjogXCJQYXNzIGtleXMgdG8gYnJvd3NlclwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkobnVsbCwgbnVsbCksXG4gICAgZXhlYzogZnVuY3Rpb24oKSB7fSxcbiAgICBwYXNzRXZlbnQ6IHRydWUsXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcImNvcHlcIixcbiAgICBkZXNjcmlwdGlvbjogXCJDb3B5XCIsXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgfSxcbiAgICByZWFkT25seTogdHJ1ZVxufSxcbntcbiAgICBuYW1lOiBcImN1dFwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIkN1dFwiLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICB2YXIgY3V0TGluZSA9IGVkaXRvci4kY29weVdpdGhFbXB0eVNlbGVjdGlvbiAmJiBlZGl0b3Iuc2VsZWN0aW9uLmlzRW1wdHkoKTtcbiAgICAgICAgdmFyIHJhbmdlID0gY3V0TGluZSA/IGVkaXRvci5zZWxlY3Rpb24uZ2V0TGluZVJhbmdlKCkgOiBlZGl0b3Iuc2VsZWN0aW9uLmdldFJhbmdlKCk7XG4gICAgICAgIGVkaXRvci5fZW1pdChcImN1dFwiLCByYW5nZSk7XG5cbiAgICAgICAgaWYgKCFyYW5nZS5pc0VtcHR5KCkpXG4gICAgICAgICAgICBlZGl0b3Iuc2Vzc2lvbi5yZW1vdmUocmFuZ2UpO1xuICAgICAgICBlZGl0b3IuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICB9LFxuICAgIHNjcm9sbEludG9WaWV3OiBcImN1cnNvclwiLFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIlxufSwge1xuICAgIG5hbWU6IFwicGFzdGVcIixcbiAgICBkZXNjcmlwdGlvbjogXCJQYXN0ZVwiLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvciwgYXJncykge1xuICAgICAgICBlZGl0b3IuJGhhbmRsZVBhc3RlKGFyZ3MpO1xuICAgIH0sXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiY3Vyc29yXCJcbn0sIHtcbiAgICBuYW1lOiBcInJlbW92ZWxpbmVcIixcbiAgICBkZXNjcmlwdGlvbjogXCJSZW1vdmUgbGluZVwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLURcIiwgXCJDb21tYW5kLURcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5yZW1vdmVMaW5lcygpOyB9LFxuICAgIHNjcm9sbEludG9WaWV3OiBcImN1cnNvclwiLFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hMaW5lXCJcbn0sIHtcbiAgICBuYW1lOiBcImR1cGxpY2F0ZVNlbGVjdGlvblwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIkR1cGxpY2F0ZSBzZWxlY3Rpb25cIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQ3RybC1TaGlmdC1EXCIsIFwiQ29tbWFuZC1TaGlmdC1EXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IuZHVwbGljYXRlU2VsZWN0aW9uKCk7IH0sXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiY3Vyc29yXCIsXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiXG59LCB7XG4gICAgbmFtZTogXCJzb3J0bGluZXNcIixcbiAgICBkZXNjcmlwdGlvbjogXCJTb3J0IGxpbmVzXCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkN0cmwtQWx0LVNcIiwgXCJDb21tYW5kLUFsdC1TXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3Iuc29ydExpbmVzKCk7IH0sXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwic2VsZWN0aW9uXCIsXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaExpbmVcIlxufSwge1xuICAgIG5hbWU6IFwidG9nZ2xlY29tbWVudFwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlRvZ2dsZSBjb21tZW50XCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkN0cmwtL1wiLCBcIkNvbW1hbmQtL1wiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLnRvZ2dsZUNvbW1lbnRMaW5lcygpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hMaW5lXCIsXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwic2VsZWN0aW9uUGFydFwiXG59LCB7XG4gICAgbmFtZTogXCJ0b2dnbGVCbG9ja0NvbW1lbnRcIixcbiAgICBkZXNjcmlwdGlvbjogXCJUb2dnbGUgYmxvY2sgY29tbWVudFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLVNoaWZ0LS9cIiwgXCJDb21tYW5kLVNoaWZ0LS9cIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci50b2dnbGVCbG9ja0NvbW1lbnQoKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCIsXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwic2VsZWN0aW9uUGFydFwiXG59LCB7XG4gICAgbmFtZTogXCJtb2RpZnlOdW1iZXJVcFwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIk1vZGlmeSBudW1iZXIgdXBcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQ3RybC1TaGlmdC1VcFwiLCBcIkFsdC1TaGlmdC1VcFwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLm1vZGlmeU51bWJlcigxKTsgfSxcbiAgICBzY3JvbGxJbnRvVmlldzogXCJjdXJzb3JcIixcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCJcbn0sIHtcbiAgICBuYW1lOiBcIm1vZGlmeU51bWJlckRvd25cIixcbiAgICBkZXNjcmlwdGlvbjogXCJNb2RpZnkgbnVtYmVyIGRvd25cIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQ3RybC1TaGlmdC1Eb3duXCIsIFwiQWx0LVNoaWZ0LURvd25cIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5tb2RpZnlOdW1iZXIoLTEpOyB9LFxuICAgIHNjcm9sbEludG9WaWV3OiBcImN1cnNvclwiLFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIlxufSwge1xuICAgIG5hbWU6IFwicmVwbGFjZVwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlJlcGxhY2VcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQ3RybC1IXCIsIFwiQ29tbWFuZC1PcHRpb24tRlwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgY29uZmlnLmxvYWRNb2R1bGUoXCJhY2UvZXh0L3NlYXJjaGJveFwiLCBmdW5jdGlvbihlKSB7ZS5TZWFyY2goZWRpdG9yLCB0cnVlKTt9KTtcbiAgICB9XG59LCB7XG4gICAgbmFtZTogXCJ1bmRvXCIsXG4gICAgZGVzY3JpcHRpb246IFwiVW5kb1wiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLVpcIiwgXCJDb21tYW5kLVpcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci51bmRvKCk7IH1cbn0sIHtcbiAgICBuYW1lOiBcInJlZG9cIixcbiAgICBkZXNjcmlwdGlvbjogXCJSZWRvXCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkN0cmwtU2hpZnQtWnxDdHJsLVlcIiwgXCJDb21tYW5kLVNoaWZ0LVp8Q29tbWFuZC1ZXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IucmVkbygpOyB9XG59LCB7XG4gICAgbmFtZTogXCJjb3B5bGluZXN1cFwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIkNvcHkgbGluZXMgdXBcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQWx0LVNoaWZ0LVVwXCIsIFwiQ29tbWFuZC1PcHRpb24tVXBcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5jb3B5TGluZXNVcCgpOyB9LFxuICAgIHNjcm9sbEludG9WaWV3OiBcImN1cnNvclwiXG59LCB7XG4gICAgbmFtZTogXCJtb3ZlbGluZXN1cFwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIk1vdmUgbGluZXMgdXBcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQWx0LVVwXCIsIFwiT3B0aW9uLVVwXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IubW92ZUxpbmVzVXAoKTsgfSxcbiAgICBzY3JvbGxJbnRvVmlldzogXCJjdXJzb3JcIlxufSwge1xuICAgIG5hbWU6IFwiY29weWxpbmVzZG93blwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIkNvcHkgbGluZXMgZG93blwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJBbHQtU2hpZnQtRG93blwiLCBcIkNvbW1hbmQtT3B0aW9uLURvd25cIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5jb3B5TGluZXNEb3duKCk7IH0sXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiY3Vyc29yXCJcbn0sIHtcbiAgICBuYW1lOiBcIm1vdmVsaW5lc2Rvd25cIixcbiAgICBkZXNjcmlwdGlvbjogXCJNb3ZlIGxpbmVzIGRvd25cIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQWx0LURvd25cIiwgXCJPcHRpb24tRG93blwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLm1vdmVMaW5lc0Rvd24oKTsgfSxcbiAgICBzY3JvbGxJbnRvVmlldzogXCJjdXJzb3JcIlxufSwge1xuICAgIG5hbWU6IFwiZGVsXCIsXG4gICAgZGVzY3JpcHRpb246IFwiRGVsZXRlXCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkRlbGV0ZVwiLCBcIkRlbGV0ZXxDdHJsLUR8U2hpZnQtRGVsZXRlXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IucmVtb3ZlKFwicmlnaHRcIik7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiLFxuICAgIHNjcm9sbEludG9WaWV3OiBcImN1cnNvclwiXG59LCB7XG4gICAgbmFtZTogXCJiYWNrc3BhY2VcIixcbiAgICBkZXNjcmlwdGlvbjogXCJCYWNrc3BhY2VcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFxuICAgICAgICBcIlNoaWZ0LUJhY2tzcGFjZXxCYWNrc3BhY2VcIixcbiAgICAgICAgXCJDdHJsLUJhY2tzcGFjZXxTaGlmdC1CYWNrc3BhY2V8QmFja3NwYWNlfEN0cmwtSFwiXG4gICAgKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLnJlbW92ZShcImxlZnRcIik7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiLFxuICAgIHNjcm9sbEludG9WaWV3OiBcImN1cnNvclwiXG59LCB7XG4gICAgbmFtZTogXCJjdXRfb3JfZGVsZXRlXCIsXG4gICAgZGVzY3JpcHRpb246IFwiQ3V0IG9yIGRlbGV0ZVwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJTaGlmdC1EZWxldGVcIiwgbnVsbCksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IFxuICAgICAgICBpZiAoZWRpdG9yLnNlbGVjdGlvbi5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIGVkaXRvci5yZW1vdmUoXCJsZWZ0XCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCIsXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiY3Vyc29yXCJcbn0sIHtcbiAgICBuYW1lOiBcInJlbW92ZXRvbGluZXN0YXJ0XCIsXG4gICAgZGVzY3JpcHRpb246IFwiUmVtb3ZlIHRvIGxpbmUgc3RhcnRcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQWx0LUJhY2tzcGFjZVwiLCBcIkNvbW1hbmQtQmFja3NwYWNlXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IucmVtb3ZlVG9MaW5lU3RhcnQoKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCIsXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiY3Vyc29yXCJcbn0sIHtcbiAgICBuYW1lOiBcInJlbW92ZXRvbGluZWVuZFwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlJlbW92ZSB0byBsaW5lIGVuZFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJBbHQtRGVsZXRlXCIsIFwiQ3RybC1LfENvbW1hbmQtRGVsZXRlXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IucmVtb3ZlVG9MaW5lRW5kKCk7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiLFxuICAgIHNjcm9sbEludG9WaWV3OiBcImN1cnNvclwiXG59LCB7XG4gICAgbmFtZTogXCJyZW1vdmV0b2xpbmVzdGFydGhhcmRcIixcbiAgICBkZXNjcmlwdGlvbjogXCJSZW1vdmUgdG8gbGluZSBzdGFydCBoYXJkXCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkN0cmwtU2hpZnQtQmFja3NwYWNlXCIsIG51bGwpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICB2YXIgcmFuZ2UgPSBlZGl0b3Iuc2VsZWN0aW9uLmdldFJhbmdlKCk7XG4gICAgICAgIHJhbmdlLnN0YXJ0LmNvbHVtbiA9IDA7XG4gICAgICAgIGVkaXRvci5zZXNzaW9uLnJlbW92ZShyYW5nZSk7XG4gICAgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCIsXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiY3Vyc29yXCJcbn0sIHtcbiAgICBuYW1lOiBcInJlbW92ZXRvbGluZWVuZGhhcmRcIixcbiAgICBkZXNjcmlwdGlvbjogXCJSZW1vdmUgdG8gbGluZSBlbmQgaGFyZFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLVNoaWZ0LURlbGV0ZVwiLCBudWxsKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgdmFyIHJhbmdlID0gZWRpdG9yLnNlbGVjdGlvbi5nZXRSYW5nZSgpO1xuICAgICAgICByYW5nZS5lbmQuY29sdW1uID0gTnVtYmVyLk1BWF9WQUxVRTtcbiAgICAgICAgZWRpdG9yLnNlc3Npb24ucmVtb3ZlKHJhbmdlKTtcbiAgICB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIixcbiAgICBzY3JvbGxJbnRvVmlldzogXCJjdXJzb3JcIlxufSwge1xuICAgIG5hbWU6IFwicmVtb3Zld29yZGxlZnRcIixcbiAgICBkZXNjcmlwdGlvbjogXCJSZW1vdmUgd29yZCBsZWZ0XCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkN0cmwtQmFja3NwYWNlXCIsIFwiQWx0LUJhY2tzcGFjZXxDdHJsLUFsdC1CYWNrc3BhY2VcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5yZW1vdmVXb3JkTGVmdCgpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIixcbiAgICBzY3JvbGxJbnRvVmlldzogXCJjdXJzb3JcIlxufSwge1xuICAgIG5hbWU6IFwicmVtb3Zld29yZHJpZ2h0XCIsXG4gICAgZGVzY3JpcHRpb246IFwiUmVtb3ZlIHdvcmQgcmlnaHRcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQ3RybC1EZWxldGVcIiwgXCJBbHQtRGVsZXRlXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IucmVtb3ZlV29yZFJpZ2h0KCk7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiLFxuICAgIHNjcm9sbEludG9WaWV3OiBcImN1cnNvclwiXG59LCB7XG4gICAgbmFtZTogXCJvdXRkZW50XCIsXG4gICAgZGVzY3JpcHRpb246IFwiT3V0ZGVudFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJTaGlmdC1UYWJcIiwgXCJTaGlmdC1UYWJcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5ibG9ja091dGRlbnQoKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCIsXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwic2VsZWN0aW9uUGFydFwiXG59LCB7XG4gICAgbmFtZTogXCJpbmRlbnRcIixcbiAgICBkZXNjcmlwdGlvbjogXCJJbmRlbnRcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiVGFiXCIsIFwiVGFiXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IuaW5kZW50KCk7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiLFxuICAgIHNjcm9sbEludG9WaWV3OiBcInNlbGVjdGlvblBhcnRcIlxufSwge1xuICAgIG5hbWU6IFwiYmxvY2tvdXRkZW50XCIsXG4gICAgZGVzY3JpcHRpb246IFwiQmxvY2sgb3V0ZGVudFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLVtcIiwgXCJDdHJsLVtcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5ibG9ja091dGRlbnQoKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoTGluZVwiLFxuICAgIHNjcm9sbEludG9WaWV3OiBcInNlbGVjdGlvblBhcnRcIlxufSwge1xuICAgIG5hbWU6IFwiYmxvY2tpbmRlbnRcIixcbiAgICBkZXNjcmlwdGlvbjogXCJCbG9jayBpbmRlbnRcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQ3RybC1dXCIsIFwiQ3RybC1dXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IuYmxvY2tJbmRlbnQoKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoTGluZVwiLFxuICAgIHNjcm9sbEludG9WaWV3OiBcInNlbGVjdGlvblBhcnRcIlxufSwge1xuICAgIG5hbWU6IFwiaW5zZXJ0c3RyaW5nXCIsXG4gICAgZGVzY3JpcHRpb246IFwiSW5zZXJ0IHN0cmluZ1wiLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvciwgc3RyKSB7IGVkaXRvci5pbnNlcnQoc3RyKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCIsXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiY3Vyc29yXCJcbn0sIHtcbiAgICBuYW1lOiBcImluc2VydHRleHRcIixcbiAgICBkZXNjcmlwdGlvbjogXCJJbnNlcnQgdGV4dFwiLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvciwgYXJncykge1xuICAgICAgICBlZGl0b3IuaW5zZXJ0KGxhbmcuc3RyaW5nUmVwZWF0KGFyZ3MudGV4dCAgfHwgXCJcIiwgYXJncy50aW1lcyB8fCAxKSk7XG4gICAgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCIsXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiY3Vyc29yXCJcbn0sIHtcbiAgICBuYW1lOiBcInNwbGl0bGluZVwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlNwbGl0IGxpbmVcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KG51bGwsIFwiQ3RybC1PXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3Iuc3BsaXRMaW5lKCk7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiLFxuICAgIHNjcm9sbEludG9WaWV3OiBcImN1cnNvclwiXG59LCB7XG4gICAgbmFtZTogXCJ0cmFuc3Bvc2VsZXR0ZXJzXCIsXG4gICAgZGVzY3JpcHRpb246IFwiVHJhbnNwb3NlIGxldHRlcnNcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQWx0LVNoaWZ0LVhcIiwgXCJDdHJsLVRcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci50cmFuc3Bvc2VMZXR0ZXJzKCk7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IGZ1bmN0aW9uKGVkaXRvcikge2VkaXRvci50cmFuc3Bvc2VTZWxlY3Rpb25zKDEpOyB9LFxuICAgIHNjcm9sbEludG9WaWV3OiBcImN1cnNvclwiXG59LCB7XG4gICAgbmFtZTogXCJ0b3VwcGVyY2FzZVwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlRvIHVwcGVyY2FzZVwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJDdHJsLVVcIiwgXCJDdHJsLVVcIiksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci50b1VwcGVyQ2FzZSgpOyB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIixcbiAgICBzY3JvbGxJbnRvVmlldzogXCJjdXJzb3JcIlxufSwge1xuICAgIG5hbWU6IFwidG9sb3dlcmNhc2VcIixcbiAgICBkZXNjcmlwdGlvbjogXCJUbyBsb3dlcmNhc2VcIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KFwiQ3RybC1TaGlmdC1VXCIsIFwiQ3RybC1TaGlmdC1VXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IudG9Mb3dlckNhc2UoKTsgfSxcbiAgICBtdWx0aVNlbGVjdEFjdGlvbjogXCJmb3JFYWNoXCIsXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiY3Vyc29yXCJcbn0sIHtcbiAgICBuYW1lOiBcImF1dG9pbmRlbnRcIixcbiAgICBkZXNjcmlwdGlvbjogXCJBdXRvIEluZGVudFwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkobnVsbCwgbnVsbCksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5hdXRvSW5kZW50KCk7IH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaExpbmVcIixcbiAgICBzY3JvbGxJbnRvVmlldzogXCJhbmltYXRlXCJcbn0sIHtcbiAgICBuYW1lOiBcImV4cGFuZHRvbGluZVwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIkV4cGFuZCB0byBsaW5lXCIsXG4gICAgYmluZEtleTogYmluZEtleShcIkN0cmwtU2hpZnQtTFwiLCBcIkNvbW1hbmQtU2hpZnQtTFwiKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgdmFyIHJhbmdlID0gZWRpdG9yLnNlbGVjdGlvbi5nZXRSYW5nZSgpO1xuXG4gICAgICAgIHJhbmdlLnN0YXJ0LmNvbHVtbiA9IHJhbmdlLmVuZC5jb2x1bW4gPSAwO1xuICAgICAgICByYW5nZS5lbmQucm93Kys7XG4gICAgICAgIGVkaXRvci5zZWxlY3Rpb24uc2V0UmFuZ2UocmFuZ2UsIGZhbHNlKTtcbiAgICB9LFxuICAgIG11bHRpU2VsZWN0QWN0aW9uOiBcImZvckVhY2hcIixcbiAgICBzY3JvbGxJbnRvVmlldzogXCJjdXJzb3JcIixcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwiam9pbmxpbmVzXCIsXG4gICAgZGVzY3JpcHRpb246IFwiSm9pbiBsaW5lc1wiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkobnVsbCwgbnVsbCksXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgIHZhciBpc0JhY2t3YXJkcyA9IGVkaXRvci5zZWxlY3Rpb24uaXNCYWNrd2FyZHMoKTtcbiAgICAgICAgdmFyIHNlbGVjdGlvblN0YXJ0ID0gaXNCYWNrd2FyZHMgPyBlZGl0b3Iuc2VsZWN0aW9uLmdldFNlbGVjdGlvbkxlYWQoKSA6IGVkaXRvci5zZWxlY3Rpb24uZ2V0U2VsZWN0aW9uQW5jaG9yKCk7XG4gICAgICAgIHZhciBzZWxlY3Rpb25FbmQgPSBpc0JhY2t3YXJkcyA/IGVkaXRvci5zZWxlY3Rpb24uZ2V0U2VsZWN0aW9uQW5jaG9yKCkgOiBlZGl0b3Iuc2VsZWN0aW9uLmdldFNlbGVjdGlvbkxlYWQoKTtcbiAgICAgICAgdmFyIGZpcnN0TGluZUVuZENvbCA9IGVkaXRvci5zZXNzaW9uLmRvYy5nZXRMaW5lKHNlbGVjdGlvblN0YXJ0LnJvdykubGVuZ3RoO1xuICAgICAgICB2YXIgc2VsZWN0ZWRUZXh0ID0gZWRpdG9yLnNlc3Npb24uZG9jLmdldFRleHRSYW5nZShlZGl0b3Iuc2VsZWN0aW9uLmdldFJhbmdlKCkpO1xuICAgICAgICB2YXIgc2VsZWN0ZWRDb3VudCA9IHNlbGVjdGVkVGV4dC5yZXBsYWNlKC9cXG5cXHMqLywgXCIgXCIpLmxlbmd0aDtcbiAgICAgICAgdmFyIGluc2VydExpbmUgPSBlZGl0b3Iuc2Vzc2lvbi5kb2MuZ2V0TGluZShzZWxlY3Rpb25TdGFydC5yb3cpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSBzZWxlY3Rpb25TdGFydC5yb3cgKyAxOyBpIDw9IHNlbGVjdGlvbkVuZC5yb3cgKyAxOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjdXJMaW5lID0gbGFuZy5zdHJpbmdUcmltTGVmdChsYW5nLnN0cmluZ1RyaW1SaWdodChlZGl0b3Iuc2Vzc2lvbi5kb2MuZ2V0TGluZShpKSkpO1xuICAgICAgICAgICAgaWYgKGN1ckxpbmUubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgY3VyTGluZSA9IFwiIFwiICsgY3VyTGluZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGluc2VydExpbmUgKz0gY3VyTGluZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZWxlY3Rpb25FbmQucm93ICsgMSA8IChlZGl0b3Iuc2Vzc2lvbi5kb2MuZ2V0TGVuZ3RoKCkgLSAxKSkge1xuICAgICAgICAgICAgaW5zZXJ0TGluZSArPSBlZGl0b3Iuc2Vzc2lvbi5kb2MuZ2V0TmV3TGluZUNoYXJhY3RlcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgZWRpdG9yLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgICAgIGVkaXRvci5zZXNzaW9uLmRvYy5yZXBsYWNlKG5ldyBSYW5nZShzZWxlY3Rpb25TdGFydC5yb3csIDAsIHNlbGVjdGlvbkVuZC5yb3cgKyAyLCAwKSwgaW5zZXJ0TGluZSk7XG5cbiAgICAgICAgaWYgKHNlbGVjdGVkQ291bnQgPiAwKSB7XG4gICAgICAgICAgICBlZGl0b3Iuc2VsZWN0aW9uLm1vdmVDdXJzb3JUbyhzZWxlY3Rpb25TdGFydC5yb3csIHNlbGVjdGlvblN0YXJ0LmNvbHVtbik7XG4gICAgICAgICAgICBlZGl0b3Iuc2VsZWN0aW9uLnNlbGVjdFRvKHNlbGVjdGlvblN0YXJ0LnJvdywgc2VsZWN0aW9uU3RhcnQuY29sdW1uICsgc2VsZWN0ZWRDb3VudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmaXJzdExpbmVFbmRDb2wgPSBlZGl0b3Iuc2Vzc2lvbi5kb2MuZ2V0TGluZShzZWxlY3Rpb25TdGFydC5yb3cpLmxlbmd0aCA+IGZpcnN0TGluZUVuZENvbCA/IChmaXJzdExpbmVFbmRDb2wgKyAxKSA6IGZpcnN0TGluZUVuZENvbDtcbiAgICAgICAgICAgIGVkaXRvci5zZWxlY3Rpb24ubW92ZUN1cnNvclRvKHNlbGVjdGlvblN0YXJ0LnJvdywgZmlyc3RMaW5lRW5kQ29sKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiLFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJpbnZlcnRTZWxlY3Rpb25cIixcbiAgICBkZXNjcmlwdGlvbjogXCJJbnZlcnQgc2VsZWN0aW9uXCIsXG4gICAgYmluZEtleTogYmluZEtleShudWxsLCBudWxsKSxcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgdmFyIGVuZFJvdyA9IGVkaXRvci5zZXNzaW9uLmRvYy5nZXRMZW5ndGgoKSAtIDE7XG4gICAgICAgIHZhciBlbmRDb2wgPSBlZGl0b3Iuc2Vzc2lvbi5kb2MuZ2V0TGluZShlbmRSb3cpLmxlbmd0aDtcbiAgICAgICAgdmFyIHJhbmdlcyA9IGVkaXRvci5zZWxlY3Rpb24ucmFuZ2VMaXN0LnJhbmdlcztcbiAgICAgICAgdmFyIG5ld1JhbmdlcyA9IFtdO1xuICAgICAgICBpZiAocmFuZ2VzLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgIHJhbmdlcyA9IFtlZGl0b3Iuc2VsZWN0aW9uLmdldFJhbmdlKCldO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpID09IChyYW5nZXMubGVuZ3RoIC0gMSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIShyYW5nZXNbaV0uZW5kLnJvdyA9PT0gZW5kUm93ICYmIHJhbmdlc1tpXS5lbmQuY29sdW1uID09PSBlbmRDb2wpKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld1Jhbmdlcy5wdXNoKG5ldyBSYW5nZShyYW5nZXNbaV0uZW5kLnJvdywgcmFuZ2VzW2ldLmVuZC5jb2x1bW4sIGVuZFJvdywgZW5kQ29sKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGlmICghKHJhbmdlc1tpXS5zdGFydC5yb3cgPT09IDAgJiYgcmFuZ2VzW2ldLnN0YXJ0LmNvbHVtbiA9PT0gMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3UmFuZ2VzLnB1c2gobmV3IFJhbmdlKDAsIDAsIHJhbmdlc1tpXS5zdGFydC5yb3csIHJhbmdlc1tpXS5zdGFydC5jb2x1bW4pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5ld1Jhbmdlcy5wdXNoKG5ldyBSYW5nZShyYW5nZXNbaS0xXS5lbmQucm93LCByYW5nZXNbaS0xXS5lbmQuY29sdW1uLCByYW5nZXNbaV0uc3RhcnQucm93LCByYW5nZXNbaV0uc3RhcnQuY29sdW1uKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBlZGl0b3IuZXhpdE11bHRpU2VsZWN0TW9kZSgpO1xuICAgICAgICBlZGl0b3IuY2xlYXJTZWxlY3Rpb24oKTtcblxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgbmV3UmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBlZGl0b3Iuc2VsZWN0aW9uLmFkZFJhbmdlKG5ld1Jhbmdlc1tpXSwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICByZWFkT25seTogdHJ1ZSxcbiAgICBzY3JvbGxJbnRvVmlldzogXCJub25lXCJcbn0sIHtcbiAgICBuYW1lOiBcImFkZExpbmVBZnRlclwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIkFkZCBuZXcgbGluZSBhZnRlciB0aGUgY3VycmVudCBsaW5lXCIsXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgIGVkaXRvci5zZWxlY3Rpb24uY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgICAgZWRpdG9yLm5hdmlnYXRlTGluZUVuZCgpO1xuICAgICAgICBlZGl0b3IuaW5zZXJ0KFwiXFxuXCIpO1xuICAgIH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiLFxuICAgIHNjcm9sbEludG9WaWV3OiBcImN1cnNvclwiXG59LCB7XG4gICAgbmFtZTogXCJhZGRMaW5lQmVmb3JlXCIsXG4gICAgZGVzY3JpcHRpb246IFwiQWRkIG5ldyBsaW5lIGJlZm9yZSB0aGUgY3VycmVudCBsaW5lXCIsXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgIGVkaXRvci5zZWxlY3Rpb24uY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgICAgdmFyIGN1cnNvciA9IGVkaXRvci5nZXRDdXJzb3JQb3NpdGlvbigpO1xuICAgICAgICBlZGl0b3Iuc2VsZWN0aW9uLm1vdmVUbyhjdXJzb3Iucm93IC0gMSwgTnVtYmVyLk1BWF9WQUxVRSk7XG4gICAgICAgIGVkaXRvci5pbnNlcnQoXCJcXG5cIik7XG4gICAgICAgIGlmIChjdXJzb3Iucm93ID09PSAwKSBlZGl0b3IubmF2aWdhdGVVcCgpO1xuICAgIH0sXG4gICAgbXVsdGlTZWxlY3RBY3Rpb246IFwiZm9yRWFjaFwiLFxuICAgIHNjcm9sbEludG9WaWV3OiBcImN1cnNvclwiXG59LCB7XG4gICAgbmFtZTogXCJvcGVuQ29tbWFuZFBhbGxldGVcIixcbiAgICBkZXNjcmlwdGlvbjogXCJPcGVuIGNvbW1hbmQgcGFsbGV0ZVwiLFxuICAgIGJpbmRLZXk6IGJpbmRLZXkoXCJGMVwiLCBcIkYxXCIpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICBlZGl0b3IucHJvbXB0KHsgJHR5cGU6IFwiY29tbWFuZHNcIiB9KTtcbiAgICB9LFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJtb2RlU2VsZWN0XCIsXG4gICAgZGVzY3JpcHRpb246IFwiQ2hhbmdlIGxhbmd1YWdlIG1vZGUuLi5cIixcbiAgICBiaW5kS2V5OiBiaW5kS2V5KG51bGwsIG51bGwpLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICBlZGl0b3IucHJvbXB0KHsgJHR5cGU6IFwibW9kZXNcIiB9KTtcbiAgICB9LFxuICAgIHJlYWRPbmx5OiB0cnVlXG59XTtcblxuZm9yICh2YXIgaSA9IDE7IGkgPCA5OyBpKyspIHtcbiAgICBleHBvcnRzLmNvbW1hbmRzLnB1c2goe1xuICAgICAgICBuYW1lOiBcImZvbGRUb0xldmVsXCIgKyBpLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJGb2xkIFRvIExldmVsIFwiICsgaSxcbiAgICAgICAgbGV2ZWw6IGksXG4gICAgICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3Iuc2Vzc2lvbi5mb2xkVG9MZXZlbCh0aGlzLmxldmVsKTsgfSxcbiAgICAgICAgc2Nyb2xsSW50b1ZpZXc6IFwiY2VudGVyXCIsXG4gICAgICAgIHJlYWRPbmx5OiB0cnVlXG4gICAgfSk7XG59XG5cbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL2VkaXRvclwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9vb3BcIixcImFjZS9saWIvZG9tXCIsXCJhY2UvbGliL2xhbmdcIixcImFjZS9saWIvdXNlcmFnZW50XCIsXCJhY2Uva2V5Ym9hcmQvdGV4dGlucHV0XCIsXCJhY2UvbW91c2UvbW91c2VfaGFuZGxlclwiLFwiYWNlL21vdXNlL2ZvbGRfaGFuZGxlclwiLFwiYWNlL2tleWJvYXJkL2tleWJpbmRpbmdcIixcImFjZS9lZGl0X3Nlc3Npb25cIixcImFjZS9zZWFyY2hcIixcImFjZS9yYW5nZVwiLFwiYWNlL2xpYi9ldmVudF9lbWl0dGVyXCIsXCJhY2UvY29tbWFuZHMvY29tbWFuZF9tYW5hZ2VyXCIsXCJhY2UvY29tbWFuZHMvZGVmYXVsdF9jb21tYW5kc1wiLFwiYWNlL2NvbmZpZ1wiLFwiYWNlL3Rva2VuX2l0ZXJhdG9yXCIsXCJhY2UvY2xpcGJvYXJkXCJdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgb29wID0gcmVxdWlyZShcIi4vbGliL29vcFwiKTtcbnZhciBkb20gPSByZXF1aXJlKFwiLi9saWIvZG9tXCIpO1xudmFyIGxhbmcgPSByZXF1aXJlKFwiLi9saWIvbGFuZ1wiKTtcbnZhciB1c2VyYWdlbnQgPSByZXF1aXJlKFwiLi9saWIvdXNlcmFnZW50XCIpO1xudmFyIFRleHRJbnB1dCA9IHJlcXVpcmUoXCIuL2tleWJvYXJkL3RleHRpbnB1dFwiKS5UZXh0SW5wdXQ7XG52YXIgTW91c2VIYW5kbGVyID0gcmVxdWlyZShcIi4vbW91c2UvbW91c2VfaGFuZGxlclwiKS5Nb3VzZUhhbmRsZXI7XG52YXIgRm9sZEhhbmRsZXIgPSByZXF1aXJlKFwiLi9tb3VzZS9mb2xkX2hhbmRsZXJcIikuRm9sZEhhbmRsZXI7XG52YXIgS2V5QmluZGluZyA9IHJlcXVpcmUoXCIuL2tleWJvYXJkL2tleWJpbmRpbmdcIikuS2V5QmluZGluZztcbnZhciBFZGl0U2Vzc2lvbiA9IHJlcXVpcmUoXCIuL2VkaXRfc2Vzc2lvblwiKS5FZGl0U2Vzc2lvbjtcbnZhciBTZWFyY2ggPSByZXF1aXJlKFwiLi9zZWFyY2hcIikuU2VhcmNoO1xudmFyIFJhbmdlID0gcmVxdWlyZShcIi4vcmFuZ2VcIikuUmFuZ2U7XG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZShcIi4vbGliL2V2ZW50X2VtaXR0ZXJcIikuRXZlbnRFbWl0dGVyO1xudmFyIENvbW1hbmRNYW5hZ2VyID0gcmVxdWlyZShcIi4vY29tbWFuZHMvY29tbWFuZF9tYW5hZ2VyXCIpLkNvbW1hbmRNYW5hZ2VyO1xudmFyIGRlZmF1bHRDb21tYW5kcyA9IHJlcXVpcmUoXCIuL2NvbW1hbmRzL2RlZmF1bHRfY29tbWFuZHNcIikuY29tbWFuZHM7XG52YXIgY29uZmlnID0gcmVxdWlyZShcIi4vY29uZmlnXCIpO1xudmFyIFRva2VuSXRlcmF0b3IgPSByZXF1aXJlKFwiLi90b2tlbl9pdGVyYXRvclwiKS5Ub2tlbkl0ZXJhdG9yO1xuXG52YXIgY2xpcGJvYXJkID0gcmVxdWlyZShcIi4vY2xpcGJvYXJkXCIpO1xudmFyIEVkaXRvciA9IGZ1bmN0aW9uKHJlbmRlcmVyLCBzZXNzaW9uLCBvcHRpb25zKSB7XG4gICAgdGhpcy4kdG9EZXN0cm95ID0gW107XG4gICAgdmFyIGNvbnRhaW5lciA9IHJlbmRlcmVyLmdldENvbnRhaW5lckVsZW1lbnQoKTtcbiAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5pZCA9IFwiZWRpdG9yXCIgKyAoKytFZGl0b3IuJHVpZCk7XG5cbiAgICB0aGlzLmNvbW1hbmRzID0gbmV3IENvbW1hbmRNYW5hZ2VyKHVzZXJhZ2VudC5pc01hYyA/IFwibWFjXCIgOiBcIndpblwiLCBkZWZhdWx0Q29tbWFuZHMpO1xuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgPT0gXCJvYmplY3RcIikge1xuICAgICAgICB0aGlzLnRleHRJbnB1dCA9IG5ldyBUZXh0SW5wdXQocmVuZGVyZXIuZ2V0VGV4dEFyZWFDb250YWluZXIoKSwgdGhpcyk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIudGV4dGFyZWEgPSB0aGlzLnRleHRJbnB1dC5nZXRFbGVtZW50KCk7XG4gICAgICAgIHRoaXMuJG1vdXNlSGFuZGxlciA9IG5ldyBNb3VzZUhhbmRsZXIodGhpcyk7XG4gICAgICAgIG5ldyBGb2xkSGFuZGxlcih0aGlzKTtcbiAgICB9XG5cbiAgICB0aGlzLmtleUJpbmRpbmcgPSBuZXcgS2V5QmluZGluZyh0aGlzKTtcblxuICAgIHRoaXMuJHNlYXJjaCA9IG5ldyBTZWFyY2goKS5zZXQoe1xuICAgICAgICB3cmFwOiB0cnVlXG4gICAgfSk7XG5cbiAgICB0aGlzLiRoaXN0b3J5VHJhY2tlciA9IHRoaXMuJGhpc3RvcnlUcmFja2VyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5jb21tYW5kcy5vbihcImV4ZWNcIiwgdGhpcy4kaGlzdG9yeVRyYWNrZXIpO1xuXG4gICAgdGhpcy4kaW5pdE9wZXJhdGlvbkxpc3RlbmVycygpO1xuICAgIFxuICAgIHRoaXMuXyRlbWl0SW5wdXRFdmVudCA9IGxhbmcuZGVsYXllZENhbGwoZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX3NpZ25hbChcImlucHV0XCIsIHt9KTtcbiAgICAgICAgaWYgKHRoaXMuc2Vzc2lvbiAmJiAhdGhpcy5zZXNzaW9uLmRlc3Ryb3llZClcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5iZ1Rva2VuaXplci5zY2hlZHVsZVN0YXJ0KCk7XG4gICAgfS5iaW5kKHRoaXMpKTtcbiAgICBcbiAgICB0aGlzLm9uKFwiY2hhbmdlXCIsIGZ1bmN0aW9uKF8sIF9zZWxmKSB7XG4gICAgICAgIF9zZWxmLl8kZW1pdElucHV0RXZlbnQuc2NoZWR1bGUoMzEpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5zZXRTZXNzaW9uKHNlc3Npb24gfHwgb3B0aW9ucyAmJiBvcHRpb25zLnNlc3Npb24gfHwgbmV3IEVkaXRTZXNzaW9uKFwiXCIpKTtcbiAgICBjb25maWcucmVzZXRPcHRpb25zKHRoaXMpO1xuICAgIGlmIChvcHRpb25zKVxuICAgICAgICB0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7XG4gICAgY29uZmlnLl9zaWduYWwoXCJlZGl0b3JcIiwgdGhpcyk7XG59O1xuXG5FZGl0b3IuJHVpZCA9IDA7XG5cbihmdW5jdGlvbigpe1xuXG4gICAgb29wLmltcGxlbWVudCh0aGlzLCBFdmVudEVtaXR0ZXIpO1xuXG4gICAgdGhpcy4kaW5pdE9wZXJhdGlvbkxpc3RlbmVycyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmNvbW1hbmRzLm9uKFwiZXhlY1wiLCB0aGlzLnN0YXJ0T3BlcmF0aW9uLmJpbmQodGhpcyksIHRydWUpO1xuICAgICAgICB0aGlzLmNvbW1hbmRzLm9uKFwiYWZ0ZXJFeGVjXCIsIHRoaXMuZW5kT3BlcmF0aW9uLmJpbmQodGhpcyksIHRydWUpO1xuXG4gICAgICAgIHRoaXMuJG9wUmVzZXRUaW1lciA9IGxhbmcuZGVsYXllZENhbGwodGhpcy5lbmRPcGVyYXRpb24uYmluZCh0aGlzLCB0cnVlKSk7XG4gICAgICAgIHRoaXMub24oXCJjaGFuZ2VcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuY3VyT3ApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0T3BlcmF0aW9uKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJPcC5zZWxlY3Rpb25CZWZvcmUgPSB0aGlzLiRsYXN0U2VsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jdXJPcC5kb2NDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgfS5iaW5kKHRoaXMpLCB0cnVlKTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMub24oXCJjaGFuZ2VTZWxlY3Rpb25cIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuY3VyT3ApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0T3BlcmF0aW9uKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJPcC5zZWxlY3Rpb25CZWZvcmUgPSB0aGlzLiRsYXN0U2VsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jdXJPcC5zZWxlY3Rpb25DaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgfS5iaW5kKHRoaXMpLCB0cnVlKTtcbiAgICB9O1xuXG4gICAgdGhpcy5jdXJPcCA9IG51bGw7XG4gICAgdGhpcy5wcmV2T3AgPSB7fTtcbiAgICB0aGlzLnN0YXJ0T3BlcmF0aW9uID0gZnVuY3Rpb24oY29tbWFuZEV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLmN1ck9wKSB7XG4gICAgICAgICAgICBpZiAoIWNvbW1hbmRFdmVudCB8fCB0aGlzLmN1ck9wLmNvbW1hbmQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5wcmV2T3AgPSB0aGlzLmN1ck9wO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY29tbWFuZEV2ZW50KSB7XG4gICAgICAgICAgICB0aGlzLnByZXZpb3VzQ29tbWFuZCA9IG51bGw7XG4gICAgICAgICAgICBjb21tYW5kRXZlbnQgPSB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuJG9wUmVzZXRUaW1lci5zY2hlZHVsZSgpO1xuICAgICAgICB0aGlzLmN1ck9wID0gdGhpcy5zZXNzaW9uLmN1ck9wID0ge1xuICAgICAgICAgICAgY29tbWFuZDogY29tbWFuZEV2ZW50LmNvbW1hbmQgfHwge30sXG4gICAgICAgICAgICBhcmdzOiBjb21tYW5kRXZlbnQuYXJncyxcbiAgICAgICAgICAgIHNjcm9sbFRvcDogdGhpcy5yZW5kZXJlci5zY3JvbGxUb3BcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jdXJPcC5zZWxlY3Rpb25CZWZvcmUgPSB0aGlzLnNlbGVjdGlvbi50b0pTT04oKTtcbiAgICB9O1xuXG4gICAgdGhpcy5lbmRPcGVyYXRpb24gPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmICh0aGlzLmN1ck9wICYmIHRoaXMuc2Vzc2lvbikge1xuICAgICAgICAgICAgaWYgKGUgJiYgZS5yZXR1cm5WYWx1ZSA9PT0gZmFsc2UgfHwgIXRoaXMuc2Vzc2lvbilcbiAgICAgICAgICAgICAgICByZXR1cm4gKHRoaXMuY3VyT3AgPSBudWxsKTtcbiAgICAgICAgICAgIGlmIChlID09IHRydWUgJiYgdGhpcy5jdXJPcC5jb21tYW5kICYmIHRoaXMuY3VyT3AuY29tbWFuZC5uYW1lID09IFwibW91c2VcIilcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB0aGlzLl9zaWduYWwoXCJiZWZvcmVFbmRPcGVyYXRpb25cIik7XG4gICAgICAgICAgICBpZiAoIXRoaXMuY3VyT3ApIHJldHVybjtcbiAgICAgICAgICAgIHZhciBjb21tYW5kID0gdGhpcy5jdXJPcC5jb21tYW5kO1xuICAgICAgICAgICAgdmFyIHNjcm9sbEludG9WaWV3ID0gY29tbWFuZCAmJiBjb21tYW5kLnNjcm9sbEludG9WaWV3O1xuICAgICAgICAgICAgaWYgKHNjcm9sbEludG9WaWV3KSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChzY3JvbGxJbnRvVmlldykge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY2VudGVyLWFuaW1hdGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbEludG9WaWV3ID0gXCJhbmltYXRlXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJjZW50ZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2Nyb2xsQ3Vyc29ySW50b1ZpZXcobnVsbCwgMC41KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYW5pbWF0ZVwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY3Vyc29yXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNjcm9sbEN1cnNvckludG9WaWV3KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInNlbGVjdGlvblBhcnRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByYW5nZSA9IHRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5yZW5kZXJlci5sYXllckNvbmZpZztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyYW5nZS5zdGFydC5yb3cgPj0gY29uZmlnLmxhc3RSb3cgfHwgcmFuZ2UuZW5kLnJvdyA8PSBjb25maWcuZmlyc3RSb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNjcm9sbFNlbGVjdGlvbkludG9WaWV3KHRoaXMuc2VsZWN0aW9uLmFuY2hvciwgdGhpcy5zZWxlY3Rpb24ubGVhZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsSW50b1ZpZXcgPT0gXCJhbmltYXRlXCIpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuYW5pbWF0ZVNjcm9sbGluZyh0aGlzLmN1ck9wLnNjcm9sbFRvcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc2VsID0gdGhpcy5zZWxlY3Rpb24udG9KU09OKCk7XG4gICAgICAgICAgICB0aGlzLmN1ck9wLnNlbGVjdGlvbkFmdGVyID0gc2VsO1xuICAgICAgICAgICAgdGhpcy4kbGFzdFNlbCA9IHRoaXMuc2VsZWN0aW9uLnRvSlNPTigpO1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLmdldFVuZG9NYW5hZ2VyKCkuYWRkU2VsZWN0aW9uKHNlbCk7XG4gICAgICAgICAgICB0aGlzLnByZXZPcCA9IHRoaXMuY3VyT3A7XG4gICAgICAgICAgICB0aGlzLmN1ck9wID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy4kbWVyZ2VhYmxlQ29tbWFuZHMgPSBbXCJiYWNrc3BhY2VcIiwgXCJkZWxcIiwgXCJpbnNlcnRzdHJpbmdcIl07XG4gICAgdGhpcy4kaGlzdG9yeVRyYWNrZXIgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmICghdGhpcy4kbWVyZ2VVbmRvRGVsdGFzKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHZhciBwcmV2ID0gdGhpcy5wcmV2T3A7XG4gICAgICAgIHZhciBtZXJnZWFibGVDb21tYW5kcyA9IHRoaXMuJG1lcmdlYWJsZUNvbW1hbmRzO1xuICAgICAgICB2YXIgc2hvdWxkTWVyZ2UgPSBwcmV2LmNvbW1hbmQgJiYgKGUuY29tbWFuZC5uYW1lID09IHByZXYuY29tbWFuZC5uYW1lKTtcbiAgICAgICAgaWYgKGUuY29tbWFuZC5uYW1lID09IFwiaW5zZXJ0c3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHZhciB0ZXh0ID0gZS5hcmdzO1xuICAgICAgICAgICAgaWYgKHRoaXMubWVyZ2VOZXh0Q29tbWFuZCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIHRoaXMubWVyZ2VOZXh0Q29tbWFuZCA9IHRydWU7XG5cbiAgICAgICAgICAgIHNob3VsZE1lcmdlID0gc2hvdWxkTWVyZ2VcbiAgICAgICAgICAgICAgICAmJiB0aGlzLm1lcmdlTmV4dENvbW1hbmQgLy8gcHJldmlvdXMgY29tbWFuZCBhbGxvd3MgdG8gY29hbGVzY2Ugd2l0aFxuICAgICAgICAgICAgICAgICYmICghL1xccy8udGVzdCh0ZXh0KSB8fCAvXFxzLy50ZXN0KHByZXYuYXJncykpOyAvLyBwcmV2aW91cyBpbnNlcnRpb24gd2FzIG9mIHNhbWUgdHlwZVxuXG4gICAgICAgICAgICB0aGlzLm1lcmdlTmV4dENvbW1hbmQgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2hvdWxkTWVyZ2UgPSBzaG91bGRNZXJnZVxuICAgICAgICAgICAgICAgICYmIG1lcmdlYWJsZUNvbW1hbmRzLmluZGV4T2YoZS5jb21tYW5kLm5hbWUpICE9PSAtMTsgLy8gdGhlIGNvbW1hbmQgaXMgbWVyZ2VhYmxlXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICB0aGlzLiRtZXJnZVVuZG9EZWx0YXMgIT0gXCJhbHdheXNcIlxuICAgICAgICAgICAgJiYgRGF0ZS5ub3coKSAtIHRoaXMuc2VxdWVuY2VTdGFydFRpbWUgPiAyMDAwXG4gICAgICAgICkge1xuICAgICAgICAgICAgc2hvdWxkTWVyZ2UgPSBmYWxzZTsgLy8gdGhlIHNlcXVlbmNlIGlzIHRvbyBsb25nXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2hvdWxkTWVyZ2UpXG4gICAgICAgICAgICB0aGlzLnNlc3Npb24ubWVyZ2VVbmRvRGVsdGFzID0gdHJ1ZTtcbiAgICAgICAgZWxzZSBpZiAobWVyZ2VhYmxlQ29tbWFuZHMuaW5kZXhPZihlLmNvbW1hbmQubmFtZSkgIT09IC0xKVxuICAgICAgICAgICAgdGhpcy5zZXF1ZW5jZVN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgfTtcbiAgICB0aGlzLnNldEtleWJvYXJkSGFuZGxlciA9IGZ1bmN0aW9uKGtleWJvYXJkSGFuZGxlciwgY2IpIHtcbiAgICAgICAgaWYgKGtleWJvYXJkSGFuZGxlciAmJiB0eXBlb2Yga2V5Ym9hcmRIYW5kbGVyID09PSBcInN0cmluZ1wiICYmIGtleWJvYXJkSGFuZGxlciAhPSBcImFjZVwiKSB7XG4gICAgICAgICAgICB0aGlzLiRrZXliaW5kaW5nSWQgPSBrZXlib2FyZEhhbmRsZXI7XG4gICAgICAgICAgICB2YXIgX3NlbGYgPSB0aGlzO1xuICAgICAgICAgICAgY29uZmlnLmxvYWRNb2R1bGUoW1wia2V5YmluZGluZ1wiLCBrZXlib2FyZEhhbmRsZXJdLCBmdW5jdGlvbihtb2R1bGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoX3NlbGYuJGtleWJpbmRpbmdJZCA9PSBrZXlib2FyZEhhbmRsZXIpXG4gICAgICAgICAgICAgICAgICAgIF9zZWxmLmtleUJpbmRpbmcuc2V0S2V5Ym9hcmRIYW5kbGVyKG1vZHVsZSAmJiBtb2R1bGUuaGFuZGxlcik7XG4gICAgICAgICAgICAgICAgY2IgJiYgY2IoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy4ka2V5YmluZGluZ0lkID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMua2V5QmluZGluZy5zZXRLZXlib2FyZEhhbmRsZXIoa2V5Ym9hcmRIYW5kbGVyKTtcbiAgICAgICAgICAgIGNiICYmIGNiKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuZ2V0S2V5Ym9hcmRIYW5kbGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmtleUJpbmRpbmcuZ2V0S2V5Ym9hcmRIYW5kbGVyKCk7XG4gICAgfTtcbiAgICB0aGlzLnNldFNlc3Npb24gPSBmdW5jdGlvbihzZXNzaW9uKSB7XG4gICAgICAgIGlmICh0aGlzLnNlc3Npb24gPT0gc2Vzc2lvbilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKHRoaXMuY3VyT3ApIHRoaXMuZW5kT3BlcmF0aW9uKCk7XG4gICAgICAgIHRoaXMuY3VyT3AgPSB7fTtcblxuICAgICAgICB2YXIgb2xkU2Vzc2lvbiA9IHRoaXMuc2Vzc2lvbjtcbiAgICAgICAgaWYgKG9sZFNlc3Npb24pIHtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5vZmYoXCJjaGFuZ2VcIiwgdGhpcy4kb25Eb2N1bWVudENoYW5nZSk7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24ub2ZmKFwiY2hhbmdlTW9kZVwiLCB0aGlzLiRvbkNoYW5nZU1vZGUpO1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLm9mZihcInRva2VuaXplclVwZGF0ZVwiLCB0aGlzLiRvblRva2VuaXplclVwZGF0ZSk7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24ub2ZmKFwiY2hhbmdlVGFiU2l6ZVwiLCB0aGlzLiRvbkNoYW5nZVRhYlNpemUpO1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLm9mZihcImNoYW5nZVdyYXBMaW1pdFwiLCB0aGlzLiRvbkNoYW5nZVdyYXBMaW1pdCk7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24ub2ZmKFwiY2hhbmdlV3JhcE1vZGVcIiwgdGhpcy4kb25DaGFuZ2VXcmFwTW9kZSk7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24ub2ZmKFwiY2hhbmdlRm9sZFwiLCB0aGlzLiRvbkNoYW5nZUZvbGQpO1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLm9mZihcImNoYW5nZUZyb250TWFya2VyXCIsIHRoaXMuJG9uQ2hhbmdlRnJvbnRNYXJrZXIpO1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLm9mZihcImNoYW5nZUJhY2tNYXJrZXJcIiwgdGhpcy4kb25DaGFuZ2VCYWNrTWFya2VyKTtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5vZmYoXCJjaGFuZ2VCcmVha3BvaW50XCIsIHRoaXMuJG9uQ2hhbmdlQnJlYWtwb2ludCk7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24ub2ZmKFwiY2hhbmdlQW5ub3RhdGlvblwiLCB0aGlzLiRvbkNoYW5nZUFubm90YXRpb24pO1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLm9mZihcImNoYW5nZU92ZXJ3cml0ZVwiLCB0aGlzLiRvbkN1cnNvckNoYW5nZSk7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24ub2ZmKFwiY2hhbmdlU2Nyb2xsVG9wXCIsIHRoaXMuJG9uU2Nyb2xsVG9wQ2hhbmdlKTtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5vZmYoXCJjaGFuZ2VTY3JvbGxMZWZ0XCIsIHRoaXMuJG9uU2Nyb2xsTGVmdENoYW5nZSk7XG5cbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb24gPSB0aGlzLnNlc3Npb24uZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgICAgICBzZWxlY3Rpb24ub2ZmKFwiY2hhbmdlQ3Vyc29yXCIsIHRoaXMuJG9uQ3Vyc29yQ2hhbmdlKTtcbiAgICAgICAgICAgIHNlbGVjdGlvbi5vZmYoXCJjaGFuZ2VTZWxlY3Rpb25cIiwgdGhpcy4kb25TZWxlY3Rpb25DaGFuZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbiAgICAgICAgaWYgKHNlc3Npb24pIHtcbiAgICAgICAgICAgIHRoaXMuJG9uRG9jdW1lbnRDaGFuZ2UgPSB0aGlzLm9uRG9jdW1lbnRDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHNlc3Npb24ub24oXCJjaGFuZ2VcIiwgdGhpcy4kb25Eb2N1bWVudENoYW5nZSk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFNlc3Npb24oc2Vzc2lvbik7XG4gICAgXG4gICAgICAgICAgICB0aGlzLiRvbkNoYW5nZU1vZGUgPSB0aGlzLm9uQ2hhbmdlTW9kZS5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgc2Vzc2lvbi5vbihcImNoYW5nZU1vZGVcIiwgdGhpcy4kb25DaGFuZ2VNb2RlKTtcbiAgICBcbiAgICAgICAgICAgIHRoaXMuJG9uVG9rZW5pemVyVXBkYXRlID0gdGhpcy5vblRva2VuaXplclVwZGF0ZS5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgc2Vzc2lvbi5vbihcInRva2VuaXplclVwZGF0ZVwiLCB0aGlzLiRvblRva2VuaXplclVwZGF0ZSk7XG4gICAgXG4gICAgICAgICAgICB0aGlzLiRvbkNoYW5nZVRhYlNpemUgPSB0aGlzLnJlbmRlcmVyLm9uQ2hhbmdlVGFiU2l6ZS5iaW5kKHRoaXMucmVuZGVyZXIpO1xuICAgICAgICAgICAgc2Vzc2lvbi5vbihcImNoYW5nZVRhYlNpemVcIiwgdGhpcy4kb25DaGFuZ2VUYWJTaXplKTtcbiAgICBcbiAgICAgICAgICAgIHRoaXMuJG9uQ2hhbmdlV3JhcExpbWl0ID0gdGhpcy5vbkNoYW5nZVdyYXBMaW1pdC5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgc2Vzc2lvbi5vbihcImNoYW5nZVdyYXBMaW1pdFwiLCB0aGlzLiRvbkNoYW5nZVdyYXBMaW1pdCk7XG4gICAgXG4gICAgICAgICAgICB0aGlzLiRvbkNoYW5nZVdyYXBNb2RlID0gdGhpcy5vbkNoYW5nZVdyYXBNb2RlLmJpbmQodGhpcyk7XG4gICAgICAgICAgICBzZXNzaW9uLm9uKFwiY2hhbmdlV3JhcE1vZGVcIiwgdGhpcy4kb25DaGFuZ2VXcmFwTW9kZSk7XG4gICAgXG4gICAgICAgICAgICB0aGlzLiRvbkNoYW5nZUZvbGQgPSB0aGlzLm9uQ2hhbmdlRm9sZC5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgc2Vzc2lvbi5vbihcImNoYW5nZUZvbGRcIiwgdGhpcy4kb25DaGFuZ2VGb2xkKTtcbiAgICBcbiAgICAgICAgICAgIHRoaXMuJG9uQ2hhbmdlRnJvbnRNYXJrZXIgPSB0aGlzLm9uQ2hhbmdlRnJvbnRNYXJrZXIuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5vbihcImNoYW5nZUZyb250TWFya2VyXCIsIHRoaXMuJG9uQ2hhbmdlRnJvbnRNYXJrZXIpO1xuICAgIFxuICAgICAgICAgICAgdGhpcy4kb25DaGFuZ2VCYWNrTWFya2VyID0gdGhpcy5vbkNoYW5nZUJhY2tNYXJrZXIuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5vbihcImNoYW5nZUJhY2tNYXJrZXJcIiwgdGhpcy4kb25DaGFuZ2VCYWNrTWFya2VyKTtcbiAgICBcbiAgICAgICAgICAgIHRoaXMuJG9uQ2hhbmdlQnJlYWtwb2ludCA9IHRoaXMub25DaGFuZ2VCcmVha3BvaW50LmJpbmQodGhpcyk7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24ub24oXCJjaGFuZ2VCcmVha3BvaW50XCIsIHRoaXMuJG9uQ2hhbmdlQnJlYWtwb2ludCk7XG4gICAgXG4gICAgICAgICAgICB0aGlzLiRvbkNoYW5nZUFubm90YXRpb24gPSB0aGlzLm9uQ2hhbmdlQW5ub3RhdGlvbi5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLm9uKFwiY2hhbmdlQW5ub3RhdGlvblwiLCB0aGlzLiRvbkNoYW5nZUFubm90YXRpb24pO1xuICAgIFxuICAgICAgICAgICAgdGhpcy4kb25DdXJzb3JDaGFuZ2UgPSB0aGlzLm9uQ3Vyc29yQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24ub24oXCJjaGFuZ2VPdmVyd3JpdGVcIiwgdGhpcy4kb25DdXJzb3JDaGFuZ2UpO1xuICAgIFxuICAgICAgICAgICAgdGhpcy4kb25TY3JvbGxUb3BDaGFuZ2UgPSB0aGlzLm9uU2Nyb2xsVG9wQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24ub24oXCJjaGFuZ2VTY3JvbGxUb3BcIiwgdGhpcy4kb25TY3JvbGxUb3BDaGFuZ2UpO1xuICAgIFxuICAgICAgICAgICAgdGhpcy4kb25TY3JvbGxMZWZ0Q2hhbmdlID0gdGhpcy5vblNjcm9sbExlZnRDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5vbihcImNoYW5nZVNjcm9sbExlZnRcIiwgdGhpcy4kb25TY3JvbGxMZWZ0Q2hhbmdlKTtcbiAgICBcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uID0gc2Vzc2lvbi5nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLm9uKFwiY2hhbmdlQ3Vyc29yXCIsIHRoaXMuJG9uQ3Vyc29yQ2hhbmdlKTtcbiAgICBcbiAgICAgICAgICAgIHRoaXMuJG9uU2VsZWN0aW9uQ2hhbmdlID0gdGhpcy5vblNlbGVjdGlvbkNoYW5nZS5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24ub24oXCJjaGFuZ2VTZWxlY3Rpb25cIiwgdGhpcy4kb25TZWxlY3Rpb25DaGFuZ2UpO1xuICAgIFxuICAgICAgICAgICAgdGhpcy5vbkNoYW5nZU1vZGUoKTtcbiAgICBcbiAgICAgICAgICAgIHRoaXMub25DdXJzb3JDaGFuZ2UoKTtcbiAgICBcbiAgICAgICAgICAgIHRoaXMub25TY3JvbGxUb3BDaGFuZ2UoKTtcbiAgICAgICAgICAgIHRoaXMub25TY3JvbGxMZWZ0Q2hhbmdlKCk7XG4gICAgICAgICAgICB0aGlzLm9uU2VsZWN0aW9uQ2hhbmdlKCk7XG4gICAgICAgICAgICB0aGlzLm9uQ2hhbmdlRnJvbnRNYXJrZXIoKTtcbiAgICAgICAgICAgIHRoaXMub25DaGFuZ2VCYWNrTWFya2VyKCk7XG4gICAgICAgICAgICB0aGlzLm9uQ2hhbmdlQnJlYWtwb2ludCgpO1xuICAgICAgICAgICAgdGhpcy5vbkNoYW5nZUFubm90YXRpb24oKTtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5nZXRVc2VXcmFwTW9kZSgpICYmIHRoaXMucmVuZGVyZXIuYWRqdXN0V3JhcExpbWl0KCk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnVwZGF0ZUZ1bGwoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0U2Vzc2lvbihzZXNzaW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3NpZ25hbChcImNoYW5nZVNlc3Npb25cIiwge1xuICAgICAgICAgICAgc2Vzc2lvbjogc2Vzc2lvbixcbiAgICAgICAgICAgIG9sZFNlc3Npb246IG9sZFNlc3Npb25cbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICB0aGlzLmN1ck9wID0gbnVsbDtcbiAgICAgICAgXG4gICAgICAgIG9sZFNlc3Npb24gJiYgb2xkU2Vzc2lvbi5fc2lnbmFsKFwiY2hhbmdlRWRpdG9yXCIsIHtvbGRFZGl0b3I6IHRoaXN9KTtcbiAgICAgICAgc2Vzc2lvbiAmJiBzZXNzaW9uLl9zaWduYWwoXCJjaGFuZ2VFZGl0b3JcIiwge2VkaXRvcjogdGhpc30pO1xuICAgICAgICBcbiAgICAgICAgaWYgKHNlc3Npb24gJiYgIXNlc3Npb24uZGVzdHJveWVkKVxuICAgICAgICAgICAgc2Vzc2lvbi5iZ1Rva2VuaXplci5zY2hlZHVsZVN0YXJ0KCk7XG4gICAgfTtcbiAgICB0aGlzLmdldFNlc3Npb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2Vzc2lvbjtcbiAgICB9O1xuICAgIHRoaXMuc2V0VmFsdWUgPSBmdW5jdGlvbih2YWwsIGN1cnNvclBvcykge1xuICAgICAgICB0aGlzLnNlc3Npb24uZG9jLnNldFZhbHVlKHZhbCk7XG5cbiAgICAgICAgaWYgKCFjdXJzb3JQb3MpXG4gICAgICAgICAgICB0aGlzLnNlbGVjdEFsbCgpO1xuICAgICAgICBlbHNlIGlmIChjdXJzb3JQb3MgPT0gMSlcbiAgICAgICAgICAgIHRoaXMubmF2aWdhdGVGaWxlRW5kKCk7XG4gICAgICAgIGVsc2UgaWYgKGN1cnNvclBvcyA9PSAtMSlcbiAgICAgICAgICAgIHRoaXMubmF2aWdhdGVGaWxlU3RhcnQoKTtcblxuICAgICAgICByZXR1cm4gdmFsO1xuICAgIH07XG4gICAgdGhpcy5nZXRWYWx1ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXNzaW9uLmdldFZhbHVlKCk7XG4gICAgfTtcbiAgICB0aGlzLmdldFNlbGVjdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3Rpb247XG4gICAgfTtcbiAgICB0aGlzLnJlc2l6ZSA9IGZ1bmN0aW9uKGZvcmNlKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIub25SZXNpemUoZm9yY2UpO1xuICAgIH07XG4gICAgdGhpcy5zZXRUaGVtZSA9IGZ1bmN0aW9uKHRoZW1lLCBjYikge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFRoZW1lKHRoZW1lLCBjYik7XG4gICAgfTtcbiAgICB0aGlzLmdldFRoZW1lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLmdldFRoZW1lKCk7XG4gICAgfTtcbiAgICB0aGlzLnNldFN0eWxlID0gZnVuY3Rpb24oc3R5bGUpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRTdHlsZShzdHlsZSk7XG4gICAgfTtcbiAgICB0aGlzLnVuc2V0U3R5bGUgPSBmdW5jdGlvbihzdHlsZSkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnVuc2V0U3R5bGUoc3R5bGUpO1xuICAgIH07XG4gICAgdGhpcy5nZXRGb250U2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T3B0aW9uKFwiZm9udFNpemVcIikgfHxcbiAgICAgICAgICAgZG9tLmNvbXB1dGVkU3R5bGUodGhpcy5jb250YWluZXIpLmZvbnRTaXplO1xuICAgIH07XG4gICAgdGhpcy5zZXRGb250U2l6ZSA9IGZ1bmN0aW9uKHNpemUpIHtcbiAgICAgICAgdGhpcy5zZXRPcHRpb24oXCJmb250U2l6ZVwiLCBzaXplKTtcbiAgICB9O1xuXG4gICAgdGhpcy4kaGlnaGxpZ2h0QnJhY2tldHMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuJGhpZ2hsaWdodFBlbmRpbmcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHRoaXMuJGhpZ2hsaWdodFBlbmRpbmcgPSB0cnVlO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNlbGYuJGhpZ2hsaWdodFBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBzZXNzaW9uID0gc2VsZi5zZXNzaW9uO1xuICAgICAgICAgICAgaWYgKCFzZXNzaW9uIHx8IHNlc3Npb24uZGVzdHJveWVkKSByZXR1cm47XG4gICAgICAgICAgICBpZiAoc2Vzc2lvbi4kYnJhY2tldEhpZ2hsaWdodCkge1xuICAgICAgICAgICAgICAgIHNlc3Npb24uJGJyYWNrZXRIaWdobGlnaHQubWFya2VySWRzLmZvckVhY2goZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbi5yZW1vdmVNYXJrZXIoaWQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHNlc3Npb24uJGJyYWNrZXRIaWdobGlnaHQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHJhbmdlcyA9IHNlc3Npb24uZ2V0TWF0Y2hpbmdCcmFja2V0UmFuZ2VzKHNlbGYuZ2V0Q3Vyc29yUG9zaXRpb24oKSk7XG4gICAgICAgICAgICBpZiAoIXJhbmdlcyAmJiBzZXNzaW9uLiRtb2RlLmdldE1hdGNoaW5nKSBcbiAgICAgICAgICAgICAgICByYW5nZXMgPSBzZXNzaW9uLiRtb2RlLmdldE1hdGNoaW5nKHNlbGYuc2Vzc2lvbik7XG4gICAgICAgICAgICBpZiAoIXJhbmdlcylcbiAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIHZhciBtYXJrZXJUeXBlID0gXCJhY2VfYnJhY2tldFwiO1xuICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHJhbmdlcykpIHtcbiAgICAgICAgICAgICAgICByYW5nZXMgPSBbcmFuZ2VzXTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmFuZ2VzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgbWFya2VyVHlwZSA9IFwiYWNlX2Vycm9yX2JyYWNrZXRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyYW5nZXMubGVuZ3RoID09IDIpIHtcbiAgICAgICAgICAgICAgICBpZiAoUmFuZ2UuY29tcGFyZVBvaW50cyhyYW5nZXNbMF0uZW5kLCByYW5nZXNbMV0uc3RhcnQpID09IDApXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlcyA9IFtSYW5nZS5mcm9tUG9pbnRzKHJhbmdlc1swXS5zdGFydCwgcmFuZ2VzWzFdLmVuZCldO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKFJhbmdlLmNvbXBhcmVQb2ludHMocmFuZ2VzWzBdLnN0YXJ0LCByYW5nZXNbMV0uZW5kKSA9PSAwKVxuICAgICAgICAgICAgICAgICAgICByYW5nZXMgPSBbUmFuZ2UuZnJvbVBvaW50cyhyYW5nZXNbMV0uc3RhcnQsIHJhbmdlc1swXS5lbmQpXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2Vzc2lvbi4kYnJhY2tldEhpZ2hsaWdodCA9IHtcbiAgICAgICAgICAgICAgICByYW5nZXM6IHJhbmdlcyxcbiAgICAgICAgICAgICAgICBtYXJrZXJJZHM6IHJhbmdlcy5tYXAoZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlc3Npb24uYWRkTWFya2VyKHJhbmdlLCBtYXJrZXJUeXBlLCBcInRleHRcIik7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sIDUwKTtcbiAgICB9O1xuICAgIHRoaXMuJGhpZ2hsaWdodFRhZ3MgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuJGhpZ2hsaWdodFRhZ1BlbmRpbmcpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy4kaGlnaGxpZ2h0VGFnUGVuZGluZyA9IHRydWU7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLiRoaWdobGlnaHRUYWdQZW5kaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHZhciBzZXNzaW9uID0gc2VsZi5zZXNzaW9uO1xuICAgICAgICAgICAgaWYgKCFzZXNzaW9uIHx8IHNlc3Npb24uZGVzdHJveWVkKSByZXR1cm47XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHZhciBwb3MgPSBzZWxmLmdldEN1cnNvclBvc2l0aW9uKCk7XG4gICAgICAgICAgICB2YXIgaXRlcmF0b3IgPSBuZXcgVG9rZW5JdGVyYXRvcihzZWxmLnNlc3Npb24sIHBvcy5yb3csIHBvcy5jb2x1bW4pO1xuICAgICAgICAgICAgdmFyIHRva2VuID0gaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICghdG9rZW4gfHwgIS9cXGIoPzp0YWctb3Blbnx0YWctbmFtZSkvLnRlc3QodG9rZW4udHlwZSkpIHtcbiAgICAgICAgICAgICAgICBzZXNzaW9uLnJlbW92ZU1hcmtlcihzZXNzaW9uLiR0YWdIaWdobGlnaHQpO1xuICAgICAgICAgICAgICAgIHNlc3Npb24uJHRhZ0hpZ2hsaWdodCA9IG51bGw7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAodG9rZW4udHlwZS5pbmRleE9mKFwidGFnLW9wZW5cIikgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSBpdGVyYXRvci5zdGVwRm9yd2FyZCgpO1xuICAgICAgICAgICAgICAgIGlmICghdG9rZW4pXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIHRhZyA9IHRva2VuLnZhbHVlO1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRUYWcgPSB0b2tlbi52YWx1ZTtcbiAgICAgICAgICAgIHZhciBkZXB0aCA9IDA7XG4gICAgICAgICAgICB2YXIgcHJldlRva2VuID0gaXRlcmF0b3Iuc3RlcEJhY2t3YXJkKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChwcmV2VG9rZW4udmFsdWUgPT09ICc8Jyl7XG4gICAgICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgICAgICBwcmV2VG9rZW4gPSB0b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSBpdGVyYXRvci5zdGVwRm9yd2FyZCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUuaW5kZXhPZigndGFnLW5hbWUnKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGFnID0gdG9rZW4udmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyA9PT0gY3VycmVudFRhZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJldlRva2VuLnZhbHVlID09PSAnPCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcHRoKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocHJldlRva2VuLnZhbHVlID09PSAnPC8nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXB0aC0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0YWcgPT09IGN1cnJlbnRUYWcgJiYgdG9rZW4udmFsdWUgPT09ICcvPicpIHsgLy8gc2VsZiBjbG9zaW5nIHRhZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcHRoLS07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfSB3aGlsZSAodG9rZW4gJiYgZGVwdGggPj0gMCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSBwcmV2VG9rZW47XG4gICAgICAgICAgICAgICAgICAgIHByZXZUb2tlbiA9IGl0ZXJhdG9yLnN0ZXBCYWNrd2FyZCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUuaW5kZXhPZigndGFnLW5hbWUnKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFnID09PSB0b2tlbi52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJldlRva2VuLnZhbHVlID09PSAnPCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcHRoKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocHJldlRva2VuLnZhbHVlID09PSAnPC8nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXB0aC0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi52YWx1ZSA9PT0gJy8+JykgeyAvLyBzZWxmIGNsb3NpbmcgdGFnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0ZXBDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRtcFRva2VuID0gcHJldlRva2VuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICh0bXBUb2tlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodG1wVG9rZW4udHlwZS5pbmRleE9mKCd0YWctbmFtZScpICE9PSAtMSAmJiB0bXBUb2tlbi52YWx1ZSA9PT0gdGFnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXB0aC0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodG1wVG9rZW4udmFsdWUgPT09ICc8Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wVG9rZW4gPSBpdGVyYXRvci5zdGVwQmFja3dhcmQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RlcENvdW50Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RlcENvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlcmF0b3Iuc3RlcEZvcndhcmQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IHdoaWxlIChwcmV2VG9rZW4gJiYgZGVwdGggPD0gMCk7XG4gICAgICAgICAgICAgICAgaXRlcmF0b3Iuc3RlcEZvcndhcmQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICAgICAgICAgIHNlc3Npb24ucmVtb3ZlTWFya2VyKHNlc3Npb24uJHRhZ0hpZ2hsaWdodCk7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbi4kdGFnSGlnaGxpZ2h0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHZhciByb3cgPSBpdGVyYXRvci5nZXRDdXJyZW50VG9rZW5Sb3coKTtcbiAgICAgICAgICAgIHZhciBjb2x1bW4gPSBpdGVyYXRvci5nZXRDdXJyZW50VG9rZW5Db2x1bW4oKTtcbiAgICAgICAgICAgIHZhciByYW5nZSA9IG5ldyBSYW5nZShyb3csIGNvbHVtbiwgcm93LCBjb2x1bW4rdG9rZW4udmFsdWUubGVuZ3RoKTtcbiAgICAgICAgICAgIHZhciBzYm0gPSBzZXNzaW9uLiRiYWNrTWFya2Vyc1tzZXNzaW9uLiR0YWdIaWdobGlnaHRdO1xuICAgICAgICAgICAgaWYgKHNlc3Npb24uJHRhZ0hpZ2hsaWdodCAmJiBzYm0gIT0gdW5kZWZpbmVkICYmIHJhbmdlLmNvbXBhcmVSYW5nZShzYm0ucmFuZ2UpICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbi5yZW1vdmVNYXJrZXIoc2Vzc2lvbi4kdGFnSGlnaGxpZ2h0KTtcbiAgICAgICAgICAgICAgICBzZXNzaW9uLiR0YWdIaWdobGlnaHQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIXNlc3Npb24uJHRhZ0hpZ2hsaWdodClcbiAgICAgICAgICAgICAgICBzZXNzaW9uLiR0YWdIaWdobGlnaHQgPSBzZXNzaW9uLmFkZE1hcmtlcihyYW5nZSwgXCJhY2VfYnJhY2tldFwiLCBcInRleHRcIik7XG4gICAgICAgIH0sIDUwKTtcbiAgICB9O1xuICAgIHRoaXMuZm9jdXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy50ZXh0SW5wdXQuZm9jdXMoKTtcbiAgICB9O1xuICAgIHRoaXMuaXNGb2N1c2VkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRleHRJbnB1dC5pc0ZvY3VzZWQoKTtcbiAgICB9O1xuICAgIHRoaXMuYmx1ciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnRleHRJbnB1dC5ibHVyKCk7XG4gICAgfTtcbiAgICB0aGlzLm9uRm9jdXMgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmICh0aGlzLiRpc0ZvY3VzZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMuJGlzRm9jdXNlZCA9IHRydWU7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2hvd0N1cnNvcigpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnZpc3VhbGl6ZUZvY3VzKCk7XG4gICAgICAgIHRoaXMuX2VtaXQoXCJmb2N1c1wiLCBlKTtcbiAgICB9O1xuICAgIHRoaXMub25CbHVyID0gZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoIXRoaXMuJGlzRm9jdXNlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy4kaXNGb2N1c2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuaGlkZUN1cnNvcigpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnZpc3VhbGl6ZUJsdXIoKTtcbiAgICAgICAgdGhpcy5fZW1pdChcImJsdXJcIiwgZSk7XG4gICAgfTtcblxuICAgIHRoaXMuJGN1cnNvckNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnVwZGF0ZUN1cnNvcigpO1xuICAgICAgICB0aGlzLiRoaWdobGlnaHRCcmFja2V0cygpO1xuICAgICAgICB0aGlzLiRoaWdobGlnaHRUYWdzKCk7XG4gICAgICAgIHRoaXMuJHVwZGF0ZUhpZ2hsaWdodEFjdGl2ZUxpbmUoKTtcbiAgICB9O1xuICAgIHRoaXMub25Eb2N1bWVudENoYW5nZSA9IGZ1bmN0aW9uKGRlbHRhKSB7XG4gICAgICAgIHZhciB3cmFwID0gdGhpcy5zZXNzaW9uLiR1c2VXcmFwTW9kZTtcbiAgICAgICAgdmFyIGxhc3RSb3cgPSAoZGVsdGEuc3RhcnQucm93ID09IGRlbHRhLmVuZC5yb3cgPyBkZWx0YS5lbmQucm93IDogSW5maW5pdHkpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnVwZGF0ZUxpbmVzKGRlbHRhLnN0YXJ0LnJvdywgbGFzdFJvdywgd3JhcCk7XG5cbiAgICAgICAgdGhpcy5fc2lnbmFsKFwiY2hhbmdlXCIsIGRlbHRhKTtcbiAgICAgICAgdGhpcy4kY3Vyc29yQ2hhbmdlKCk7XG4gICAgfTtcblxuICAgIHRoaXMub25Ub2tlbml6ZXJVcGRhdGUgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciByb3dzID0gZS5kYXRhO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnVwZGF0ZUxpbmVzKHJvd3MuZmlyc3QsIHJvd3MubGFzdCk7XG4gICAgfTtcblxuXG4gICAgdGhpcy5vblNjcm9sbFRvcENoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNjcm9sbFRvWSh0aGlzLnNlc3Npb24uZ2V0U2Nyb2xsVG9wKCkpO1xuICAgIH07XG5cbiAgICB0aGlzLm9uU2Nyb2xsTGVmdENoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNjcm9sbFRvWCh0aGlzLnNlc3Npb24uZ2V0U2Nyb2xsTGVmdCgpKTtcbiAgICB9O1xuICAgIHRoaXMub25DdXJzb3JDaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kY3Vyc29yQ2hhbmdlKCk7XG4gICAgICAgIHRoaXMuX3NpZ25hbChcImNoYW5nZVNlbGVjdGlvblwiKTtcbiAgICB9O1xuXG4gICAgdGhpcy4kdXBkYXRlSGlnaGxpZ2h0QWN0aXZlTGluZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuZ2V0U2Vzc2lvbigpO1xuXG4gICAgICAgIHZhciBoaWdobGlnaHQ7XG4gICAgICAgIGlmICh0aGlzLiRoaWdobGlnaHRBY3RpdmVMaW5lKSB7XG4gICAgICAgICAgICBpZiAodGhpcy4kc2VsZWN0aW9uU3R5bGUgIT0gXCJsaW5lXCIgfHwgIXRoaXMuc2VsZWN0aW9uLmlzTXVsdGlMaW5lKCkpXG4gICAgICAgICAgICAgICAgaGlnaGxpZ2h0ID0gdGhpcy5nZXRDdXJzb3JQb3NpdGlvbigpO1xuICAgICAgICAgICAgaWYgKHRoaXMucmVuZGVyZXIudGhlbWUgJiYgdGhpcy5yZW5kZXJlci50aGVtZS4kc2VsZWN0aW9uQ29sb3JDb25mbGljdCAmJiAhdGhpcy5zZWxlY3Rpb24uaXNFbXB0eSgpKVxuICAgICAgICAgICAgICAgIGhpZ2hsaWdodCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHRoaXMucmVuZGVyZXIuJG1heExpbmVzICYmIHRoaXMuc2Vzc2lvbi5nZXRMZW5ndGgoKSA9PT0gMSAmJiAhKHRoaXMucmVuZGVyZXIuJG1pbkxpbmVzID4gMSkpXG4gICAgICAgICAgICAgICAgaGlnaGxpZ2h0ID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2Vzc2lvbi4kaGlnaGxpZ2h0TGluZU1hcmtlciAmJiAhaGlnaGxpZ2h0KSB7XG4gICAgICAgICAgICBzZXNzaW9uLnJlbW92ZU1hcmtlcihzZXNzaW9uLiRoaWdobGlnaHRMaW5lTWFya2VyLmlkKTtcbiAgICAgICAgICAgIHNlc3Npb24uJGhpZ2hsaWdodExpbmVNYXJrZXIgPSBudWxsO1xuICAgICAgICB9IGVsc2UgaWYgKCFzZXNzaW9uLiRoaWdobGlnaHRMaW5lTWFya2VyICYmIGhpZ2hsaWdodCkge1xuICAgICAgICAgICAgdmFyIHJhbmdlID0gbmV3IFJhbmdlKGhpZ2hsaWdodC5yb3csIGhpZ2hsaWdodC5jb2x1bW4sIGhpZ2hsaWdodC5yb3csIEluZmluaXR5KTtcbiAgICAgICAgICAgIHJhbmdlLmlkID0gc2Vzc2lvbi5hZGRNYXJrZXIocmFuZ2UsIFwiYWNlX2FjdGl2ZS1saW5lXCIsIFwic2NyZWVuTGluZVwiKTtcbiAgICAgICAgICAgIHNlc3Npb24uJGhpZ2hsaWdodExpbmVNYXJrZXIgPSByYW5nZTtcbiAgICAgICAgfSBlbHNlIGlmIChoaWdobGlnaHQpIHtcbiAgICAgICAgICAgIHNlc3Npb24uJGhpZ2hsaWdodExpbmVNYXJrZXIuc3RhcnQucm93ID0gaGlnaGxpZ2h0LnJvdztcbiAgICAgICAgICAgIHNlc3Npb24uJGhpZ2hsaWdodExpbmVNYXJrZXIuZW5kLnJvdyA9IGhpZ2hsaWdodC5yb3c7XG4gICAgICAgICAgICBzZXNzaW9uLiRoaWdobGlnaHRMaW5lTWFya2VyLnN0YXJ0LmNvbHVtbiA9IGhpZ2hsaWdodC5jb2x1bW47XG4gICAgICAgICAgICBzZXNzaW9uLl9zaWduYWwoXCJjaGFuZ2VCYWNrTWFya2VyXCIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMub25TZWxlY3Rpb25DaGFuZ2UgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBzZXNzaW9uID0gdGhpcy5zZXNzaW9uO1xuXG4gICAgICAgIGlmIChzZXNzaW9uLiRzZWxlY3Rpb25NYXJrZXIpIHtcbiAgICAgICAgICAgIHNlc3Npb24ucmVtb3ZlTWFya2VyKHNlc3Npb24uJHNlbGVjdGlvbk1hcmtlcik7XG4gICAgICAgIH1cbiAgICAgICAgc2Vzc2lvbi4kc2VsZWN0aW9uTWFya2VyID0gbnVsbDtcblxuICAgICAgICBpZiAoIXRoaXMuc2VsZWN0aW9uLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgdmFyIHJhbmdlID0gdGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTtcbiAgICAgICAgICAgIHZhciBzdHlsZSA9IHRoaXMuZ2V0U2VsZWN0aW9uU3R5bGUoKTtcbiAgICAgICAgICAgIHNlc3Npb24uJHNlbGVjdGlvbk1hcmtlciA9IHNlc3Npb24uYWRkTWFya2VyKHJhbmdlLCBcImFjZV9zZWxlY3Rpb25cIiwgc3R5bGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy4kdXBkYXRlSGlnaGxpZ2h0QWN0aXZlTGluZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlID0gdGhpcy4kaGlnaGxpZ2h0U2VsZWN0ZWRXb3JkICYmIHRoaXMuJGdldFNlbGVjdGlvbkhpZ2hMaWdodFJlZ2V4cCgpO1xuICAgICAgICB0aGlzLnNlc3Npb24uaGlnaGxpZ2h0KHJlKTtcblxuICAgICAgICB0aGlzLl9zaWduYWwoXCJjaGFuZ2VTZWxlY3Rpb25cIik7XG4gICAgfTtcblxuICAgIHRoaXMuJGdldFNlbGVjdGlvbkhpZ2hMaWdodFJlZ2V4cCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuc2Vzc2lvbjtcblxuICAgICAgICB2YXIgc2VsZWN0aW9uID0gdGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpO1xuICAgICAgICBpZiAoc2VsZWN0aW9uLmlzRW1wdHkoKSB8fCBzZWxlY3Rpb24uaXNNdWx0aUxpbmUoKSlcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB2YXIgc3RhcnRDb2x1bW4gPSBzZWxlY3Rpb24uc3RhcnQuY29sdW1uO1xuICAgICAgICB2YXIgZW5kQ29sdW1uID0gc2VsZWN0aW9uLmVuZC5jb2x1bW47XG4gICAgICAgIHZhciBsaW5lID0gc2Vzc2lvbi5nZXRMaW5lKHNlbGVjdGlvbi5zdGFydC5yb3cpO1xuICAgICAgICBcbiAgICAgICAgdmFyIG5lZWRsZSA9IGxpbmUuc3Vic3RyaW5nKHN0YXJ0Q29sdW1uLCBlbmRDb2x1bW4pO1xuICAgICAgICBpZiAobmVlZGxlLmxlbmd0aCA+IDUwMDAgfHwgIS9bXFx3XFxkXS8udGVzdChuZWVkbGUpKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHZhciByZSA9IHRoaXMuJHNlYXJjaC4kYXNzZW1ibGVSZWdFeHAoe1xuICAgICAgICAgICAgd2hvbGVXb3JkOiB0cnVlLFxuICAgICAgICAgICAgY2FzZVNlbnNpdGl2ZTogdHJ1ZSxcbiAgICAgICAgICAgIG5lZWRsZTogbmVlZGxlXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgdmFyIHdvcmRXaXRoQm91bmRhcnkgPSBsaW5lLnN1YnN0cmluZyhzdGFydENvbHVtbiAtIDEsIGVuZENvbHVtbiArIDEpO1xuICAgICAgICBpZiAoIXJlLnRlc3Qod29yZFdpdGhCb3VuZGFyeSkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gcmU7XG4gICAgfTtcblxuXG4gICAgdGhpcy5vbkNoYW5nZUZyb250TWFya2VyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIudXBkYXRlRnJvbnRNYXJrZXJzKCk7XG4gICAgfTtcblxuICAgIHRoaXMub25DaGFuZ2VCYWNrTWFya2VyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIudXBkYXRlQmFja01hcmtlcnMoKTtcbiAgICB9O1xuXG5cbiAgICB0aGlzLm9uQ2hhbmdlQnJlYWtwb2ludCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnVwZGF0ZUJyZWFrcG9pbnRzKCk7XG4gICAgfTtcblxuICAgIHRoaXMub25DaGFuZ2VBbm5vdGF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0QW5ub3RhdGlvbnModGhpcy5zZXNzaW9uLmdldEFubm90YXRpb25zKCkpO1xuICAgIH07XG5cblxuICAgIHRoaXMub25DaGFuZ2VNb2RlID0gZnVuY3Rpb24oZSkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnVwZGF0ZVRleHQoKTtcbiAgICAgICAgdGhpcy5fZW1pdChcImNoYW5nZU1vZGVcIiwgZSk7XG4gICAgfTtcblxuXG4gICAgdGhpcy5vbkNoYW5nZVdyYXBMaW1pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnVwZGF0ZUZ1bGwoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5vbkNoYW5nZVdyYXBNb2RlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIub25SZXNpemUodHJ1ZSk7XG4gICAgfTtcblxuXG4gICAgdGhpcy5vbkNoYW5nZUZvbGQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kdXBkYXRlSGlnaGxpZ2h0QWN0aXZlTGluZSgpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnVwZGF0ZUZ1bGwoKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0U2VsZWN0ZWRUZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlc3Npb24uZ2V0VGV4dFJhbmdlKHRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKSk7XG4gICAgfTtcbiAgICB0aGlzLmdldENvcHlUZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB0ZXh0ID0gdGhpcy5nZXRTZWxlY3RlZFRleHQoKTtcbiAgICAgICAgdmFyIG5sID0gdGhpcy5zZXNzaW9uLmRvYy5nZXROZXdMaW5lQ2hhcmFjdGVyKCk7XG4gICAgICAgIHZhciBjb3B5TGluZT0gZmFsc2U7XG4gICAgICAgIGlmICghdGV4dCAmJiB0aGlzLiRjb3B5V2l0aEVtcHR5U2VsZWN0aW9uKSB7XG4gICAgICAgICAgICBjb3B5TGluZSA9IHRydWU7XG4gICAgICAgICAgICB2YXIgcmFuZ2VzID0gdGhpcy5zZWxlY3Rpb24uZ2V0QWxsUmFuZ2VzKCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciByYW5nZSA9IHJhbmdlc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoaSAmJiByYW5nZXNbaSAtIDFdLnN0YXJ0LnJvdyA9PSByYW5nZS5zdGFydC5yb3cpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIHRleHQgKz0gdGhpcy5zZXNzaW9uLmdldExpbmUocmFuZ2Uuc3RhcnQucm93KSArIG5sO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBlID0ge3RleHQ6IHRleHR9O1xuICAgICAgICB0aGlzLl9zaWduYWwoXCJjb3B5XCIsIGUpO1xuICAgICAgICBjbGlwYm9hcmQubGluZU1vZGUgPSBjb3B5TGluZSA/IGUudGV4dCA6IGZhbHNlO1xuICAgICAgICByZXR1cm4gZS50ZXh0O1xuICAgIH07XG4gICAgdGhpcy5vbkNvcHkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5jb21tYW5kcy5leGVjKFwiY29weVwiLCB0aGlzKTtcbiAgICB9O1xuICAgIHRoaXMub25DdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5jb21tYW5kcy5leGVjKFwiY3V0XCIsIHRoaXMpO1xuICAgIH07XG4gICAgdGhpcy5vblBhc3RlID0gZnVuY3Rpb24odGV4dCwgZXZlbnQpIHtcbiAgICAgICAgdmFyIGUgPSB7dGV4dDogdGV4dCwgZXZlbnQ6IGV2ZW50fTtcbiAgICAgICAgdGhpcy5jb21tYW5kcy5leGVjKFwicGFzdGVcIiwgdGhpcywgZSk7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLiRoYW5kbGVQYXN0ZSA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBlID09IFwic3RyaW5nXCIpIFxuICAgICAgICAgICAgZSA9IHt0ZXh0OiBlfTtcbiAgICAgICAgdGhpcy5fc2lnbmFsKFwicGFzdGVcIiwgZSk7XG4gICAgICAgIHZhciB0ZXh0ID0gZS50ZXh0O1xuXG4gICAgICAgIHZhciBsaW5lTW9kZSA9IHRleHQgPT09IGNsaXBib2FyZC5saW5lTW9kZTtcbiAgICAgICAgdmFyIHNlc3Npb24gPSB0aGlzLnNlc3Npb247XG4gICAgICAgIGlmICghdGhpcy5pbk11bHRpU2VsZWN0TW9kZSB8fCB0aGlzLmluVmlydHVhbFNlbGVjdGlvbk1vZGUpIHtcbiAgICAgICAgICAgIGlmIChsaW5lTW9kZSlcbiAgICAgICAgICAgICAgICBzZXNzaW9uLmluc2VydCh7IHJvdzogdGhpcy5zZWxlY3Rpb24ubGVhZC5yb3csIGNvbHVtbjogMCB9LCB0ZXh0KTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aGlzLmluc2VydCh0ZXh0KTtcbiAgICAgICAgfSBlbHNlIGlmIChsaW5lTW9kZSkge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24ucmFuZ2VMaXN0LnJhbmdlcy5mb3JFYWNoKGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbi5pbnNlcnQoeyByb3c6IHJhbmdlLnN0YXJ0LnJvdywgY29sdW1uOiAwIH0sIHRleHQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgbGluZXMgPSB0ZXh0LnNwbGl0KC9cXHJcXG58XFxyfFxcbi8pO1xuICAgICAgICAgICAgdmFyIHJhbmdlcyA9IHRoaXMuc2VsZWN0aW9uLnJhbmdlTGlzdC5yYW5nZXM7XG4gICAgXG4gICAgICAgICAgICB2YXIgaXNGdWxsTGluZSA9IGxpbmVzLmxlbmd0aCA9PSAyICYmICghbGluZXNbMF0gfHwgIWxpbmVzWzFdKTtcbiAgICAgICAgICAgIGlmIChsaW5lcy5sZW5ndGggIT0gcmFuZ2VzLmxlbmd0aCB8fCBpc0Z1bGxMaW5lKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbW1hbmRzLmV4ZWMoXCJpbnNlcnRzdHJpbmdcIiwgdGhpcywgdGV4dCk7XG4gICAgXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gcmFuZ2VzLmxlbmd0aDsgaS0tOykge1xuICAgICAgICAgICAgICAgIHZhciByYW5nZSA9IHJhbmdlc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoIXJhbmdlLmlzRW1wdHkoKSlcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbi5yZW1vdmUocmFuZ2UpO1xuICAgIFxuICAgICAgICAgICAgICAgIHNlc3Npb24uaW5zZXJ0KHJhbmdlLnN0YXJ0LCBsaW5lc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5leGVjQ29tbWFuZCA9IGZ1bmN0aW9uKGNvbW1hbmQsIGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tbWFuZHMuZXhlYyhjb21tYW5kLCB0aGlzLCBhcmdzKTtcbiAgICB9O1xuICAgIHRoaXMuaW5zZXJ0ID0gZnVuY3Rpb24odGV4dCwgcGFzdGVkKSB7XG4gICAgICAgIHZhciBzZXNzaW9uID0gdGhpcy5zZXNzaW9uO1xuICAgICAgICB2YXIgbW9kZSA9IHNlc3Npb24uZ2V0TW9kZSgpO1xuICAgICAgICB2YXIgY3Vyc29yID0gdGhpcy5nZXRDdXJzb3JQb3NpdGlvbigpO1xuXG4gICAgICAgIGlmICh0aGlzLmdldEJlaGF2aW91cnNFbmFibGVkKCkgJiYgIXBhc3RlZCkge1xuICAgICAgICAgICAgdmFyIHRyYW5zZm9ybSA9IG1vZGUudHJhbnNmb3JtQWN0aW9uKHNlc3Npb24uZ2V0U3RhdGUoY3Vyc29yLnJvdyksICdpbnNlcnRpb24nLCB0aGlzLCBzZXNzaW9uLCB0ZXh0KTtcbiAgICAgICAgICAgIGlmICh0cmFuc2Zvcm0pIHtcbiAgICAgICAgICAgICAgICBpZiAodGV4dCAhPT0gdHJhbnNmb3JtLnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmluVmlydHVhbFNlbGVjdGlvbk1vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5tZXJnZVVuZG9EZWx0YXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVyZ2VOZXh0Q29tbWFuZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRleHQgPSB0cmFuc2Zvcm0udGV4dDtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAodGV4dCA9PSBcIlxcdFwiKVxuICAgICAgICAgICAgdGV4dCA9IHRoaXMuc2Vzc2lvbi5nZXRUYWJTdHJpbmcoKTtcbiAgICAgICAgaWYgKCF0aGlzLnNlbGVjdGlvbi5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIHZhciByYW5nZSA9IHRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKTtcbiAgICAgICAgICAgIGN1cnNvciA9IHRoaXMuc2Vzc2lvbi5yZW1vdmUocmFuZ2UpO1xuICAgICAgICAgICAgdGhpcy5jbGVhclNlbGVjdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuc2Vzc2lvbi5nZXRPdmVyd3JpdGUoKSAmJiB0ZXh0LmluZGV4T2YoXCJcXG5cIikgPT0gLTEpIHtcbiAgICAgICAgICAgIHZhciByYW5nZSA9IG5ldyBSYW5nZS5mcm9tUG9pbnRzKGN1cnNvciwgY3Vyc29yKTtcbiAgICAgICAgICAgIHJhbmdlLmVuZC5jb2x1bW4gKz0gdGV4dC5sZW5ndGg7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24ucmVtb3ZlKHJhbmdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0ZXh0ID09IFwiXFxuXCIgfHwgdGV4dCA9PSBcIlxcclxcblwiKSB7XG4gICAgICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZ2V0TGluZShjdXJzb3Iucm93KTtcbiAgICAgICAgICAgIGlmIChjdXJzb3IuY29sdW1uID4gbGluZS5zZWFyY2goL1xcU3wkLykpIHtcbiAgICAgICAgICAgICAgICB2YXIgZCA9IGxpbmUuc3Vic3RyKGN1cnNvci5jb2x1bW4pLnNlYXJjaCgvXFxTfCQvKTtcbiAgICAgICAgICAgICAgICBzZXNzaW9uLmRvYy5yZW1vdmVJbkxpbmUoY3Vyc29yLnJvdywgY3Vyc29yLmNvbHVtbiwgY3Vyc29yLmNvbHVtbiArIGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oKTtcblxuICAgICAgICB2YXIgc3RhcnQgPSBjdXJzb3IuY29sdW1uO1xuICAgICAgICB2YXIgbGluZVN0YXRlID0gc2Vzc2lvbi5nZXRTdGF0ZShjdXJzb3Iucm93KTtcbiAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmdldExpbmUoY3Vyc29yLnJvdyk7XG4gICAgICAgIHZhciBzaG91bGRPdXRkZW50ID0gbW9kZS5jaGVja091dGRlbnQobGluZVN0YXRlLCBsaW5lLCB0ZXh0KTtcbiAgICAgICAgc2Vzc2lvbi5pbnNlcnQoY3Vyc29yLCB0ZXh0KTtcblxuICAgICAgICBpZiAodHJhbnNmb3JtICYmIHRyYW5zZm9ybS5zZWxlY3Rpb24pIHtcbiAgICAgICAgICAgIGlmICh0cmFuc2Zvcm0uc2VsZWN0aW9uLmxlbmd0aCA9PSAyKSB7IC8vIFRyYW5zZm9ybSByZWxhdGl2ZSB0byB0aGUgY3VycmVudCBjb2x1bW5cbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5zZXRTZWxlY3Rpb25SYW5nZShcbiAgICAgICAgICAgICAgICAgICAgbmV3IFJhbmdlKGN1cnNvci5yb3csIHN0YXJ0ICsgdHJhbnNmb3JtLnNlbGVjdGlvblswXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5yb3csIHN0YXJ0ICsgdHJhbnNmb3JtLnNlbGVjdGlvblsxXSkpO1xuICAgICAgICAgICAgfSBlbHNlIHsgLy8gVHJhbnNmb3JtIHJlbGF0aXZlIHRvIHRoZSBjdXJyZW50IHJvdy5cbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5zZXRTZWxlY3Rpb25SYW5nZShcbiAgICAgICAgICAgICAgICAgICAgbmV3IFJhbmdlKGN1cnNvci5yb3cgKyB0cmFuc2Zvcm0uc2VsZWN0aW9uWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtLnNlbGVjdGlvblsxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5yb3cgKyB0cmFuc2Zvcm0uc2VsZWN0aW9uWzJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtLnNlbGVjdGlvblszXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLiRlbmFibGVBdXRvSW5kZW50KSB7XG4gICAgICAgICAgICBpZiAoc2Vzc2lvbi5nZXREb2N1bWVudCgpLmlzTmV3TGluZSh0ZXh0KSkge1xuICAgICAgICAgICAgICAgIHZhciBsaW5lSW5kZW50ID0gbW9kZS5nZXROZXh0TGluZUluZGVudChsaW5lU3RhdGUsIGxpbmUuc2xpY2UoMCwgY3Vyc29yLmNvbHVtbiksIHNlc3Npb24uZ2V0VGFiU3RyaW5nKCkpO1xuXG4gICAgICAgICAgICAgICAgc2Vzc2lvbi5pbnNlcnQoe3JvdzogY3Vyc29yLnJvdysxLCBjb2x1bW46IDB9LCBsaW5lSW5kZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzaG91bGRPdXRkZW50KVxuICAgICAgICAgICAgICAgIG1vZGUuYXV0b091dGRlbnQobGluZVN0YXRlLCBzZXNzaW9uLCBjdXJzb3Iucm93KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmF1dG9JbmRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZXNzaW9uID0gdGhpcy5zZXNzaW9uO1xuICAgICAgICB2YXIgbW9kZSA9IHNlc3Npb24uZ2V0TW9kZSgpO1xuXG4gICAgICAgIHZhciBzdGFydFJvdywgZW5kUm93O1xuICAgICAgICBpZiAodGhpcy5zZWxlY3Rpb24uaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICBzdGFydFJvdyA9IDA7XG4gICAgICAgICAgICBlbmRSb3cgPSBzZXNzaW9uLmRvYy5nZXRMZW5ndGgoKSAtIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWRSYW5nZSA9IHRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKTtcblxuICAgICAgICAgICAgc3RhcnRSb3cgPSBzZWxlY3RlZFJhbmdlLnN0YXJ0LnJvdztcbiAgICAgICAgICAgIGVuZFJvdyA9IHNlbGVjdGVkUmFuZ2UuZW5kLnJvdztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwcmV2TGluZVN0YXRlID0gXCJcIjtcbiAgICAgICAgdmFyIHByZXZMaW5lID0gXCJcIjtcbiAgICAgICAgdmFyIGxpbmVJbmRlbnQgPSBcIlwiO1xuICAgICAgICB2YXIgbGluZSwgY3VyckluZGVudCwgcmFuZ2U7XG4gICAgICAgIHZhciB0YWIgPSBzZXNzaW9uLmdldFRhYlN0cmluZygpO1xuXG4gICAgICAgIGZvciAodmFyIHJvdyA9IHN0YXJ0Um93OyByb3cgPD0gZW5kUm93OyByb3crKykge1xuICAgICAgICAgICAgaWYgKHJvdyA+IDApIHtcbiAgICAgICAgICAgICAgICBwcmV2TGluZVN0YXRlID0gc2Vzc2lvbi5nZXRTdGF0ZShyb3cgLSAxKTtcbiAgICAgICAgICAgICAgICBwcmV2TGluZSA9IHNlc3Npb24uZ2V0TGluZShyb3cgLSAxKTtcbiAgICAgICAgICAgICAgICBsaW5lSW5kZW50ID0gbW9kZS5nZXROZXh0TGluZUluZGVudChwcmV2TGluZVN0YXRlLCBwcmV2TGluZSwgdGFiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGluZSA9IHNlc3Npb24uZ2V0TGluZShyb3cpO1xuICAgICAgICAgICAgY3VyckluZGVudCA9IG1vZGUuJGdldEluZGVudChsaW5lKTtcbiAgICAgICAgICAgIGlmIChsaW5lSW5kZW50ICE9PSBjdXJySW5kZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJJbmRlbnQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICByYW5nZSA9IG5ldyBSYW5nZShyb3csIDAsIHJvdywgY3VyckluZGVudC5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uLnJlbW92ZShyYW5nZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChsaW5lSW5kZW50Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbi5pbnNlcnQoe3Jvdzogcm93LCBjb2x1bW46IDB9LCBsaW5lSW5kZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1vZGUuYXV0b091dGRlbnQocHJldkxpbmVTdGF0ZSwgc2Vzc2lvbiwgcm93KTtcbiAgICAgICAgfVxuICAgIH07XG5cblxuICAgIHRoaXMub25UZXh0SW5wdXQgPSBmdW5jdGlvbih0ZXh0LCBjb21wb3NpdGlvbikge1xuICAgICAgICBpZiAoIWNvbXBvc2l0aW9uKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMua2V5QmluZGluZy5vblRleHRJbnB1dCh0ZXh0KTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuc3RhcnRPcGVyYXRpb24oe2NvbW1hbmQ6IHsgbmFtZTogXCJpbnNlcnRzdHJpbmdcIiB9fSk7XG4gICAgICAgIHZhciBhcHBseUNvbXBvc2l0aW9uID0gdGhpcy5hcHBseUNvbXBvc2l0aW9uLmJpbmQodGhpcywgdGV4dCwgY29tcG9zaXRpb24pO1xuICAgICAgICBpZiAodGhpcy5zZWxlY3Rpb24ucmFuZ2VDb3VudClcbiAgICAgICAgICAgIHRoaXMuZm9yRWFjaFNlbGVjdGlvbihhcHBseUNvbXBvc2l0aW9uKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgYXBwbHlDb21wb3NpdGlvbigpO1xuICAgICAgICB0aGlzLmVuZE9wZXJhdGlvbigpO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5hcHBseUNvbXBvc2l0aW9uID0gZnVuY3Rpb24odGV4dCwgY29tcG9zaXRpb24pIHtcbiAgICAgICAgaWYgKGNvbXBvc2l0aW9uLmV4dGVuZExlZnQgfHwgY29tcG9zaXRpb24uZXh0ZW5kUmlnaHQpIHtcbiAgICAgICAgICAgIHZhciByID0gdGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTtcbiAgICAgICAgICAgIHIuc3RhcnQuY29sdW1uIC09IGNvbXBvc2l0aW9uLmV4dGVuZExlZnQ7XG4gICAgICAgICAgICByLmVuZC5jb2x1bW4gKz0gY29tcG9zaXRpb24uZXh0ZW5kUmlnaHQ7XG4gICAgICAgICAgICBpZiAoci5zdGFydC5jb2x1bW4gPCAwKSB7XG4gICAgICAgICAgICAgICAgci5zdGFydC5yb3ctLTtcbiAgICAgICAgICAgICAgICByLnN0YXJ0LmNvbHVtbiArPSB0aGlzLnNlc3Npb24uZ2V0TGluZShyLnN0YXJ0LnJvdykubGVuZ3RoICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLnNldFJhbmdlKHIpO1xuICAgICAgICAgICAgaWYgKCF0ZXh0ICYmICFyLmlzRW1wdHkoKSlcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0ZXh0IHx8ICF0aGlzLnNlbGVjdGlvbi5pc0VtcHR5KCkpXG4gICAgICAgICAgICB0aGlzLmluc2VydCh0ZXh0LCB0cnVlKTtcbiAgICAgICAgaWYgKGNvbXBvc2l0aW9uLnJlc3RvcmVTdGFydCB8fCBjb21wb3NpdGlvbi5yZXN0b3JlRW5kKSB7XG4gICAgICAgICAgICB2YXIgciA9IHRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCk7XG4gICAgICAgICAgICByLnN0YXJ0LmNvbHVtbiAtPSBjb21wb3NpdGlvbi5yZXN0b3JlU3RhcnQ7XG4gICAgICAgICAgICByLmVuZC5jb2x1bW4gLT0gY29tcG9zaXRpb24ucmVzdG9yZUVuZDtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLnNldFJhbmdlKHIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMub25Db21tYW5kS2V5ID0gZnVuY3Rpb24oZSwgaGFzaElkLCBrZXlDb2RlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmtleUJpbmRpbmcub25Db21tYW5kS2V5KGUsIGhhc2hJZCwga2V5Q29kZSk7XG4gICAgfTtcbiAgICB0aGlzLnNldE92ZXJ3cml0ZSA9IGZ1bmN0aW9uKG92ZXJ3cml0ZSkge1xuICAgICAgICB0aGlzLnNlc3Npb24uc2V0T3ZlcndyaXRlKG92ZXJ3cml0ZSk7XG4gICAgfTtcbiAgICB0aGlzLmdldE92ZXJ3cml0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXNzaW9uLmdldE92ZXJ3cml0ZSgpO1xuICAgIH07XG4gICAgdGhpcy50b2dnbGVPdmVyd3JpdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5zZXNzaW9uLnRvZ2dsZU92ZXJ3cml0ZSgpO1xuICAgIH07XG4gICAgdGhpcy5zZXRTY3JvbGxTcGVlZCA9IGZ1bmN0aW9uKHNwZWVkKSB7XG4gICAgICAgIHRoaXMuc2V0T3B0aW9uKFwic2Nyb2xsU3BlZWRcIiwgc3BlZWQpO1xuICAgIH07XG4gICAgdGhpcy5nZXRTY3JvbGxTcGVlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRPcHRpb24oXCJzY3JvbGxTcGVlZFwiKTtcbiAgICB9O1xuICAgIHRoaXMuc2V0RHJhZ0RlbGF5ID0gZnVuY3Rpb24oZHJhZ0RlbGF5KSB7XG4gICAgICAgIHRoaXMuc2V0T3B0aW9uKFwiZHJhZ0RlbGF5XCIsIGRyYWdEZWxheSk7XG4gICAgfTtcbiAgICB0aGlzLmdldERyYWdEZWxheSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRPcHRpb24oXCJkcmFnRGVsYXlcIik7XG4gICAgfTtcbiAgICB0aGlzLnNldFNlbGVjdGlvblN0eWxlID0gZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIHRoaXMuc2V0T3B0aW9uKFwic2VsZWN0aW9uU3R5bGVcIiwgdmFsKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0U2VsZWN0aW9uU3R5bGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T3B0aW9uKFwic2VsZWN0aW9uU3R5bGVcIik7XG4gICAgfTtcbiAgICB0aGlzLnNldEhpZ2hsaWdodEFjdGl2ZUxpbmUgPSBmdW5jdGlvbihzaG91bGRIaWdobGlnaHQpIHtcbiAgICAgICAgdGhpcy5zZXRPcHRpb24oXCJoaWdobGlnaHRBY3RpdmVMaW5lXCIsIHNob3VsZEhpZ2hsaWdodCk7XG4gICAgfTtcbiAgICB0aGlzLmdldEhpZ2hsaWdodEFjdGl2ZUxpbmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T3B0aW9uKFwiaGlnaGxpZ2h0QWN0aXZlTGluZVwiKTtcbiAgICB9O1xuICAgIHRoaXMuc2V0SGlnaGxpZ2h0R3V0dGVyTGluZSA9IGZ1bmN0aW9uKHNob3VsZEhpZ2hsaWdodCkge1xuICAgICAgICB0aGlzLnNldE9wdGlvbihcImhpZ2hsaWdodEd1dHRlckxpbmVcIiwgc2hvdWxkSGlnaGxpZ2h0KTtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRIaWdobGlnaHRHdXR0ZXJMaW5lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE9wdGlvbihcImhpZ2hsaWdodEd1dHRlckxpbmVcIik7XG4gICAgfTtcbiAgICB0aGlzLnNldEhpZ2hsaWdodFNlbGVjdGVkV29yZCA9IGZ1bmN0aW9uKHNob3VsZEhpZ2hsaWdodCkge1xuICAgICAgICB0aGlzLnNldE9wdGlvbihcImhpZ2hsaWdodFNlbGVjdGVkV29yZFwiLCBzaG91bGRIaWdobGlnaHQpO1xuICAgIH07XG4gICAgdGhpcy5nZXRIaWdobGlnaHRTZWxlY3RlZFdvcmQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJGhpZ2hsaWdodFNlbGVjdGVkV29yZDtcbiAgICB9O1xuXG4gICAgdGhpcy5zZXRBbmltYXRlZFNjcm9sbCA9IGZ1bmN0aW9uKHNob3VsZEFuaW1hdGUpe1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldEFuaW1hdGVkU2Nyb2xsKHNob3VsZEFuaW1hdGUpO1xuICAgIH07XG5cbiAgICB0aGlzLmdldEFuaW1hdGVkU2Nyb2xsID0gZnVuY3Rpb24oKXtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuZ2V0QW5pbWF0ZWRTY3JvbGwoKTtcbiAgICB9O1xuICAgIHRoaXMuc2V0U2hvd0ludmlzaWJsZXMgPSBmdW5jdGlvbihzaG93SW52aXNpYmxlcykge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFNob3dJbnZpc2libGVzKHNob3dJbnZpc2libGVzKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0U2hvd0ludmlzaWJsZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuZ2V0U2hvd0ludmlzaWJsZXMoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5zZXREaXNwbGF5SW5kZW50R3VpZGVzID0gZnVuY3Rpb24oZGlzcGxheSkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldERpc3BsYXlJbmRlbnRHdWlkZXMoZGlzcGxheSk7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0RGlzcGxheUluZGVudEd1aWRlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5nZXREaXNwbGF5SW5kZW50R3VpZGVzKCk7XG4gICAgfTtcbiAgICB0aGlzLnNldFNob3dQcmludE1hcmdpbiA9IGZ1bmN0aW9uKHNob3dQcmludE1hcmdpbikge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFNob3dQcmludE1hcmdpbihzaG93UHJpbnRNYXJnaW4pO1xuICAgIH07XG4gICAgdGhpcy5nZXRTaG93UHJpbnRNYXJnaW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuZ2V0U2hvd1ByaW50TWFyZ2luKCk7XG4gICAgfTtcbiAgICB0aGlzLnNldFByaW50TWFyZ2luQ29sdW1uID0gZnVuY3Rpb24oc2hvd1ByaW50TWFyZ2luKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0UHJpbnRNYXJnaW5Db2x1bW4oc2hvd1ByaW50TWFyZ2luKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0UHJpbnRNYXJnaW5Db2x1bW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuZ2V0UHJpbnRNYXJnaW5Db2x1bW4oKTtcbiAgICB9O1xuICAgIHRoaXMuc2V0UmVhZE9ubHkgPSBmdW5jdGlvbihyZWFkT25seSkge1xuICAgICAgICB0aGlzLnNldE9wdGlvbihcInJlYWRPbmx5XCIsIHJlYWRPbmx5KTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0UmVhZE9ubHkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T3B0aW9uKFwicmVhZE9ubHlcIik7XG4gICAgfTtcbiAgICB0aGlzLnNldEJlaGF2aW91cnNFbmFibGVkID0gZnVuY3Rpb24gKGVuYWJsZWQpIHtcbiAgICAgICAgdGhpcy5zZXRPcHRpb24oXCJiZWhhdmlvdXJzRW5hYmxlZFwiLCBlbmFibGVkKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0QmVoYXZpb3Vyc0VuYWJsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE9wdGlvbihcImJlaGF2aW91cnNFbmFibGVkXCIpO1xuICAgIH07XG4gICAgdGhpcy5zZXRXcmFwQmVoYXZpb3Vyc0VuYWJsZWQgPSBmdW5jdGlvbiAoZW5hYmxlZCkge1xuICAgICAgICB0aGlzLnNldE9wdGlvbihcIndyYXBCZWhhdmlvdXJzRW5hYmxlZFwiLCBlbmFibGVkKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0V3JhcEJlaGF2aW91cnNFbmFibGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRPcHRpb24oXCJ3cmFwQmVoYXZpb3Vyc0VuYWJsZWRcIik7XG4gICAgfTtcbiAgICB0aGlzLnNldFNob3dGb2xkV2lkZ2V0cyA9IGZ1bmN0aW9uKHNob3cpIHtcbiAgICAgICAgdGhpcy5zZXRPcHRpb24oXCJzaG93Rm9sZFdpZGdldHNcIiwgc2hvdyk7XG5cbiAgICB9O1xuICAgIHRoaXMuZ2V0U2hvd0ZvbGRXaWRnZXRzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE9wdGlvbihcInNob3dGb2xkV2lkZ2V0c1wiKTtcbiAgICB9O1xuXG4gICAgdGhpcy5zZXRGYWRlRm9sZFdpZGdldHMgPSBmdW5jdGlvbihmYWRlKSB7XG4gICAgICAgIHRoaXMuc2V0T3B0aW9uKFwiZmFkZUZvbGRXaWRnZXRzXCIsIGZhZGUpO1xuICAgIH07XG5cbiAgICB0aGlzLmdldEZhZGVGb2xkV2lkZ2V0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRPcHRpb24oXCJmYWRlRm9sZFdpZGdldHNcIik7XG4gICAgfTtcbiAgICB0aGlzLnJlbW92ZSA9IGZ1bmN0aW9uKGRpcikge1xuICAgICAgICBpZiAodGhpcy5zZWxlY3Rpb24uaXNFbXB0eSgpKXtcbiAgICAgICAgICAgIGlmIChkaXIgPT0gXCJsZWZ0XCIpXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24uc2VsZWN0TGVmdCgpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLnNlbGVjdFJpZ2h0KCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmFuZ2UgPSB0aGlzLmdldFNlbGVjdGlvblJhbmdlKCk7XG4gICAgICAgIGlmICh0aGlzLmdldEJlaGF2aW91cnNFbmFibGVkKCkpIHtcbiAgICAgICAgICAgIHZhciBzZXNzaW9uID0gdGhpcy5zZXNzaW9uO1xuICAgICAgICAgICAgdmFyIHN0YXRlID0gc2Vzc2lvbi5nZXRTdGF0ZShyYW5nZS5zdGFydC5yb3cpO1xuICAgICAgICAgICAgdmFyIG5ld19yYW5nZSA9IHNlc3Npb24uZ2V0TW9kZSgpLnRyYW5zZm9ybUFjdGlvbihzdGF0ZSwgJ2RlbGV0aW9uJywgdGhpcywgc2Vzc2lvbiwgcmFuZ2UpO1xuXG4gICAgICAgICAgICBpZiAocmFuZ2UuZW5kLmNvbHVtbiA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHZhciB0ZXh0ID0gc2Vzc2lvbi5nZXRUZXh0UmFuZ2UocmFuZ2UpO1xuICAgICAgICAgICAgICAgIGlmICh0ZXh0W3RleHQubGVuZ3RoIC0gMV0gPT0gXCJcXG5cIikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZ2V0TGluZShyYW5nZS5lbmQucm93KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKC9eXFxzKyQvLnRlc3QobGluZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLmVuZC5jb2x1bW4gPSBsaW5lLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuZXdfcmFuZ2UpXG4gICAgICAgICAgICAgICAgcmFuZ2UgPSBuZXdfcmFuZ2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNlc3Npb24ucmVtb3ZlKHJhbmdlKTtcbiAgICAgICAgdGhpcy5jbGVhclNlbGVjdGlvbigpO1xuICAgIH07XG4gICAgdGhpcy5yZW1vdmVXb3JkUmlnaHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uLmlzRW1wdHkoKSlcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLnNlbGVjdFdvcmRSaWdodCgpO1xuXG4gICAgICAgIHRoaXMuc2Vzc2lvbi5yZW1vdmUodGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpKTtcbiAgICAgICAgdGhpcy5jbGVhclNlbGVjdGlvbigpO1xuICAgIH07XG4gICAgdGhpcy5yZW1vdmVXb3JkTGVmdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5zZWxlY3Rpb24uaXNFbXB0eSgpKVxuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24uc2VsZWN0V29yZExlZnQoKTtcblxuICAgICAgICB0aGlzLnNlc3Npb24ucmVtb3ZlKHRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKSk7XG4gICAgICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICB9O1xuICAgIHRoaXMucmVtb3ZlVG9MaW5lU3RhcnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uLmlzRW1wdHkoKSlcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLnNlbGVjdExpbmVTdGFydCgpO1xuICAgICAgICBpZiAodGhpcy5zZWxlY3Rpb24uaXNFbXB0eSgpKVxuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24uc2VsZWN0TGVmdCgpO1xuICAgICAgICB0aGlzLnNlc3Npb24ucmVtb3ZlKHRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKSk7XG4gICAgICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICB9O1xuICAgIHRoaXMucmVtb3ZlVG9MaW5lRW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGlvbi5pc0VtcHR5KCkpXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5zZWxlY3RMaW5lRW5kKCk7XG5cbiAgICAgICAgdmFyIHJhbmdlID0gdGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpO1xuICAgICAgICBpZiAocmFuZ2Uuc3RhcnQuY29sdW1uID09IHJhbmdlLmVuZC5jb2x1bW4gJiYgcmFuZ2Uuc3RhcnQucm93ID09IHJhbmdlLmVuZC5yb3cpIHtcbiAgICAgICAgICAgIHJhbmdlLmVuZC5jb2x1bW4gPSAwO1xuICAgICAgICAgICAgcmFuZ2UuZW5kLnJvdysrO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXNzaW9uLnJlbW92ZShyYW5nZSk7XG4gICAgICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICB9O1xuICAgIHRoaXMuc3BsaXRMaW5lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghdGhpcy5zZWxlY3Rpb24uaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24ucmVtb3ZlKHRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKSk7XG4gICAgICAgICAgICB0aGlzLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY3Vyc29yID0gdGhpcy5nZXRDdXJzb3JQb3NpdGlvbigpO1xuICAgICAgICB0aGlzLmluc2VydChcIlxcblwiKTtcbiAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG9Qb3NpdGlvbihjdXJzb3IpO1xuICAgIH07XG4gICAgdGhpcy50cmFuc3Bvc2VMZXR0ZXJzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghdGhpcy5zZWxlY3Rpb24uaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY3Vyc29yID0gdGhpcy5nZXRDdXJzb3JQb3NpdGlvbigpO1xuICAgICAgICB2YXIgY29sdW1uID0gY3Vyc29yLmNvbHVtbjtcbiAgICAgICAgaWYgKGNvbHVtbiA9PT0gMClcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB2YXIgbGluZSA9IHRoaXMuc2Vzc2lvbi5nZXRMaW5lKGN1cnNvci5yb3cpO1xuICAgICAgICB2YXIgc3dhcCwgcmFuZ2U7XG4gICAgICAgIGlmIChjb2x1bW4gPCBsaW5lLmxlbmd0aCkge1xuICAgICAgICAgICAgc3dhcCA9IGxpbmUuY2hhckF0KGNvbHVtbikgKyBsaW5lLmNoYXJBdChjb2x1bW4tMSk7XG4gICAgICAgICAgICByYW5nZSA9IG5ldyBSYW5nZShjdXJzb3Iucm93LCBjb2x1bW4tMSwgY3Vyc29yLnJvdywgY29sdW1uKzEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3dhcCA9IGxpbmUuY2hhckF0KGNvbHVtbi0xKSArIGxpbmUuY2hhckF0KGNvbHVtbi0yKTtcbiAgICAgICAgICAgIHJhbmdlID0gbmV3IFJhbmdlKGN1cnNvci5yb3csIGNvbHVtbi0yLCBjdXJzb3Iucm93LCBjb2x1bW4pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2Vzc2lvbi5yZXBsYWNlKHJhbmdlLCBzd2FwKTtcbiAgICAgICAgdGhpcy5zZXNzaW9uLnNlbGVjdGlvbi5tb3ZlVG9Qb3NpdGlvbihyYW5nZS5lbmQpO1xuICAgIH07XG4gICAgdGhpcy50b0xvd2VyQ2FzZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgb3JpZ2luYWxSYW5nZSA9IHRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKTtcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24uc2VsZWN0V29yZCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJhbmdlID0gdGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpO1xuICAgICAgICB2YXIgdGV4dCA9IHRoaXMuc2Vzc2lvbi5nZXRUZXh0UmFuZ2UocmFuZ2UpO1xuICAgICAgICB0aGlzLnNlc3Npb24ucmVwbGFjZShyYW5nZSwgdGV4dC50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24uc2V0U2VsZWN0aW9uUmFuZ2Uob3JpZ2luYWxSYW5nZSk7XG4gICAgfTtcbiAgICB0aGlzLnRvVXBwZXJDYXNlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBvcmlnaW5hbFJhbmdlID0gdGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpO1xuICAgICAgICBpZiAodGhpcy5zZWxlY3Rpb24uaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5zZWxlY3RXb3JkKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmFuZ2UgPSB0aGlzLmdldFNlbGVjdGlvblJhbmdlKCk7XG4gICAgICAgIHZhciB0ZXh0ID0gdGhpcy5zZXNzaW9uLmdldFRleHRSYW5nZShyYW5nZSk7XG4gICAgICAgIHRoaXMuc2Vzc2lvbi5yZXBsYWNlKHJhbmdlLCB0ZXh0LnRvVXBwZXJDYXNlKCkpO1xuICAgICAgICB0aGlzLnNlbGVjdGlvbi5zZXRTZWxlY3Rpb25SYW5nZShvcmlnaW5hbFJhbmdlKTtcbiAgICB9O1xuICAgIHRoaXMuaW5kZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzZXNzaW9uID0gdGhpcy5zZXNzaW9uO1xuICAgICAgICB2YXIgcmFuZ2UgPSB0aGlzLmdldFNlbGVjdGlvblJhbmdlKCk7XG5cbiAgICAgICAgaWYgKHJhbmdlLnN0YXJ0LnJvdyA8IHJhbmdlLmVuZC5yb3cpIHtcbiAgICAgICAgICAgIHZhciByb3dzID0gdGhpcy4kZ2V0U2VsZWN0ZWRSb3dzKCk7XG4gICAgICAgICAgICBzZXNzaW9uLmluZGVudFJvd3Mocm93cy5maXJzdCwgcm93cy5sYXN0LCBcIlxcdFwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIGlmIChyYW5nZS5zdGFydC5jb2x1bW4gPCByYW5nZS5lbmQuY29sdW1uKSB7XG4gICAgICAgICAgICB2YXIgdGV4dCA9IHNlc3Npb24uZ2V0VGV4dFJhbmdlKHJhbmdlKTtcbiAgICAgICAgICAgIGlmICghL15cXHMrJC8udGVzdCh0ZXh0KSkge1xuICAgICAgICAgICAgICAgIHZhciByb3dzID0gdGhpcy4kZ2V0U2VsZWN0ZWRSb3dzKCk7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbi5pbmRlbnRSb3dzKHJvd3MuZmlyc3QsIHJvd3MubGFzdCwgXCJcXHRcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZ2V0TGluZShyYW5nZS5zdGFydC5yb3cpO1xuICAgICAgICB2YXIgcG9zaXRpb24gPSByYW5nZS5zdGFydDtcbiAgICAgICAgdmFyIHNpemUgPSBzZXNzaW9uLmdldFRhYlNpemUoKTtcbiAgICAgICAgdmFyIGNvbHVtbiA9IHNlc3Npb24uZG9jdW1lbnRUb1NjcmVlbkNvbHVtbihwb3NpdGlvbi5yb3csIHBvc2l0aW9uLmNvbHVtbik7XG5cbiAgICAgICAgaWYgKHRoaXMuc2Vzc2lvbi5nZXRVc2VTb2Z0VGFicygpKSB7XG4gICAgICAgICAgICB2YXIgY291bnQgPSAoc2l6ZSAtIGNvbHVtbiAlIHNpemUpO1xuICAgICAgICAgICAgdmFyIGluZGVudFN0cmluZyA9IGxhbmcuc3RyaW5nUmVwZWF0KFwiIFwiLCBjb3VudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgY291bnQgPSBjb2x1bW4gJSBzaXplO1xuICAgICAgICAgICAgd2hpbGUgKGxpbmVbcmFuZ2Uuc3RhcnQuY29sdW1uIC0gMV0gPT0gXCIgXCIgJiYgY291bnQpIHtcbiAgICAgICAgICAgICAgICByYW5nZS5zdGFydC5jb2x1bW4tLTtcbiAgICAgICAgICAgICAgICBjb3VudC0tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24uc2V0U2VsZWN0aW9uUmFuZ2UocmFuZ2UpO1xuICAgICAgICAgICAgaW5kZW50U3RyaW5nID0gXCJcXHRcIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pbnNlcnQoaW5kZW50U3RyaW5nKTtcbiAgICB9O1xuICAgIHRoaXMuYmxvY2tJbmRlbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJvd3MgPSB0aGlzLiRnZXRTZWxlY3RlZFJvd3MoKTtcbiAgICAgICAgdGhpcy5zZXNzaW9uLmluZGVudFJvd3Mocm93cy5maXJzdCwgcm93cy5sYXN0LCBcIlxcdFwiKTtcbiAgICB9O1xuICAgIHRoaXMuYmxvY2tPdXRkZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzZWxlY3Rpb24gPSB0aGlzLnNlc3Npb24uZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgIHRoaXMuc2Vzc2lvbi5vdXRkZW50Um93cyhzZWxlY3Rpb24uZ2V0UmFuZ2UoKSk7XG4gICAgfTtcbiAgICB0aGlzLnNvcnRMaW5lcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcm93cyA9IHRoaXMuJGdldFNlbGVjdGVkUm93cygpO1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuc2Vzc2lvbjtcblxuICAgICAgICB2YXIgbGluZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IHJvd3MuZmlyc3Q7IGkgPD0gcm93cy5sYXN0OyBpKyspXG4gICAgICAgICAgICBsaW5lcy5wdXNoKHNlc3Npb24uZ2V0TGluZShpKSk7XG5cbiAgICAgICAgbGluZXMuc29ydChmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgICAgICBpZiAoYS50b0xvd2VyQ2FzZSgpIDwgYi50b0xvd2VyQ2FzZSgpKSByZXR1cm4gLTE7XG4gICAgICAgICAgICBpZiAoYS50b0xvd2VyQ2FzZSgpID4gYi50b0xvd2VyQ2FzZSgpKSByZXR1cm4gMTtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgZGVsZXRlUmFuZ2UgPSBuZXcgUmFuZ2UoMCwgMCwgMCwgMCk7XG4gICAgICAgIGZvciAodmFyIGkgPSByb3dzLmZpcnN0OyBpIDw9IHJvd3MubGFzdDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZ2V0TGluZShpKTtcbiAgICAgICAgICAgIGRlbGV0ZVJhbmdlLnN0YXJ0LnJvdyA9IGk7XG4gICAgICAgICAgICBkZWxldGVSYW5nZS5lbmQucm93ID0gaTtcbiAgICAgICAgICAgIGRlbGV0ZVJhbmdlLmVuZC5jb2x1bW4gPSBsaW5lLmxlbmd0aDtcbiAgICAgICAgICAgIHNlc3Npb24ucmVwbGFjZShkZWxldGVSYW5nZSwgbGluZXNbaS1yb3dzLmZpcnN0XSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMudG9nZ2xlQ29tbWVudExpbmVzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc2Vzc2lvbi5nZXRTdGF0ZSh0aGlzLmdldEN1cnNvclBvc2l0aW9uKCkucm93KTtcbiAgICAgICAgdmFyIHJvd3MgPSB0aGlzLiRnZXRTZWxlY3RlZFJvd3MoKTtcbiAgICAgICAgdGhpcy5zZXNzaW9uLmdldE1vZGUoKS50b2dnbGVDb21tZW50TGluZXMoc3RhdGUsIHRoaXMuc2Vzc2lvbiwgcm93cy5maXJzdCwgcm93cy5sYXN0KTtcbiAgICB9O1xuXG4gICAgdGhpcy50b2dnbGVCbG9ja0NvbW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGN1cnNvciA9IHRoaXMuZ2V0Q3Vyc29yUG9zaXRpb24oKTtcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zZXNzaW9uLmdldFN0YXRlKGN1cnNvci5yb3cpO1xuICAgICAgICB2YXIgcmFuZ2UgPSB0aGlzLmdldFNlbGVjdGlvblJhbmdlKCk7XG4gICAgICAgIHRoaXMuc2Vzc2lvbi5nZXRNb2RlKCkudG9nZ2xlQmxvY2tDb21tZW50KHN0YXRlLCB0aGlzLnNlc3Npb24sIHJhbmdlLCBjdXJzb3IpO1xuICAgIH07XG4gICAgdGhpcy5nZXROdW1iZXJBdCA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7XG4gICAgICAgIHZhciBfbnVtYmVyUnggPSAvW1xcLV0/WzAtOV0rKD86XFwuWzAtOV0rKT8vZztcbiAgICAgICAgX251bWJlclJ4Lmxhc3RJbmRleCA9IDA7XG5cbiAgICAgICAgdmFyIHMgPSB0aGlzLnNlc3Npb24uZ2V0TGluZShyb3cpO1xuICAgICAgICB3aGlsZSAoX251bWJlclJ4Lmxhc3RJbmRleCA8IGNvbHVtbikge1xuICAgICAgICAgICAgdmFyIG0gPSBfbnVtYmVyUnguZXhlYyhzKTtcbiAgICAgICAgICAgIGlmKG0uaW5kZXggPD0gY29sdW1uICYmIG0uaW5kZXgrbVswXS5sZW5ndGggPj0gY29sdW1uKXtcbiAgICAgICAgICAgICAgICB2YXIgbnVtYmVyID0ge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbVswXSxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IG0uaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIGVuZDogbS5pbmRleCttWzBdLmxlbmd0aFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bWJlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIHRoaXMubW9kaWZ5TnVtYmVyID0gZnVuY3Rpb24oYW1vdW50KSB7XG4gICAgICAgIHZhciByb3cgPSB0aGlzLnNlbGVjdGlvbi5nZXRDdXJzb3IoKS5yb3c7XG4gICAgICAgIHZhciBjb2x1bW4gPSB0aGlzLnNlbGVjdGlvbi5nZXRDdXJzb3IoKS5jb2x1bW47XG4gICAgICAgIHZhciBjaGFyUmFuZ2UgPSBuZXcgUmFuZ2Uocm93LCBjb2x1bW4tMSwgcm93LCBjb2x1bW4pO1xuXG4gICAgICAgIHZhciBjID0gdGhpcy5zZXNzaW9uLmdldFRleHRSYW5nZShjaGFyUmFuZ2UpO1xuICAgICAgICBpZiAoIWlzTmFOKHBhcnNlRmxvYXQoYykpICYmIGlzRmluaXRlKGMpKSB7XG4gICAgICAgICAgICB2YXIgbnIgPSB0aGlzLmdldE51bWJlckF0KHJvdywgY29sdW1uKTtcbiAgICAgICAgICAgIGlmIChucikge1xuICAgICAgICAgICAgICAgIHZhciBmcCA9IG5yLnZhbHVlLmluZGV4T2YoXCIuXCIpID49IDAgPyBuci5zdGFydCArIG5yLnZhbHVlLmluZGV4T2YoXCIuXCIpICsgMSA6IG5yLmVuZDtcbiAgICAgICAgICAgICAgICB2YXIgZGVjaW1hbHMgPSBuci5zdGFydCArIG5yLnZhbHVlLmxlbmd0aCAtIGZwO1xuXG4gICAgICAgICAgICAgICAgdmFyIHQgPSBwYXJzZUZsb2F0KG5yLnZhbHVlKTtcbiAgICAgICAgICAgICAgICB0ICo9IE1hdGgucG93KDEwLCBkZWNpbWFscyk7XG5cblxuICAgICAgICAgICAgICAgIGlmKGZwICE9PSBuci5lbmQgJiYgY29sdW1uIDwgZnApe1xuICAgICAgICAgICAgICAgICAgICBhbW91bnQgKj0gTWF0aC5wb3coMTAsIG5yLmVuZCAtIGNvbHVtbiAtIDEpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFtb3VudCAqPSBNYXRoLnBvdygxMCwgbnIuZW5kIC0gY29sdW1uKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0ICs9IGFtb3VudDtcbiAgICAgICAgICAgICAgICB0IC89IE1hdGgucG93KDEwLCBkZWNpbWFscyk7XG4gICAgICAgICAgICAgICAgdmFyIG5uciA9IHQudG9GaXhlZChkZWNpbWFscyk7XG4gICAgICAgICAgICAgICAgdmFyIHJlcGxhY2VSYW5nZSA9IG5ldyBSYW5nZShyb3csIG5yLnN0YXJ0LCByb3csIG5yLmVuZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXNzaW9uLnJlcGxhY2UocmVwbGFjZVJhbmdlLCBubnIpO1xuICAgICAgICAgICAgICAgIHRoaXMubW92ZUN1cnNvclRvKHJvdywgTWF0aC5tYXgobnIuc3RhcnQgKzEsIGNvbHVtbiArIG5uci5sZW5ndGggLSBuci52YWx1ZS5sZW5ndGgpKTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy50b2dnbGVXb3JkKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy4kdG9nZ2xlV29yZFBhaXJzID0gW1xuICAgICAgICBbXCJmaXJzdFwiLCBcImxhc3RcIl0sXG4gICAgICAgIFtcInRydWVcIiwgXCJmYWxzZVwiXSxcbiAgICAgICAgW1wieWVzXCIsIFwibm9cIl0sXG4gICAgICAgIFtcIndpZHRoXCIsIFwiaGVpZ2h0XCJdLFxuICAgICAgICBbXCJ0b3BcIiwgXCJib3R0b21cIl0sXG4gICAgICAgIFtcInJpZ2h0XCIsIFwibGVmdFwiXSxcbiAgICAgICAgW1wib25cIiwgXCJvZmZcIl0sXG4gICAgICAgIFtcInhcIiwgXCJ5XCJdLFxuICAgICAgICBbXCJnZXRcIiwgXCJzZXRcIl0sXG4gICAgICAgIFtcIm1heFwiLCBcIm1pblwiXSxcbiAgICAgICAgW1wiaG9yaXpvbnRhbFwiLCBcInZlcnRpY2FsXCJdLFxuICAgICAgICBbXCJzaG93XCIsIFwiaGlkZVwiXSxcbiAgICAgICAgW1wiYWRkXCIsIFwicmVtb3ZlXCJdLFxuICAgICAgICBbXCJ1cFwiLCBcImRvd25cIl0sXG4gICAgICAgIFtcImJlZm9yZVwiLCBcImFmdGVyXCJdLFxuICAgICAgICBbXCJldmVuXCIsIFwib2RkXCJdLFxuICAgICAgICBbXCJpblwiLCBcIm91dFwiXSxcbiAgICAgICAgW1wiaW5zaWRlXCIsIFwib3V0c2lkZVwiXSxcbiAgICAgICAgW1wibmV4dFwiLCBcInByZXZpb3VzXCJdLFxuICAgICAgICBbXCJpbmNyZWFzZVwiLCBcImRlY3JlYXNlXCJdLFxuICAgICAgICBbXCJhdHRhY2hcIiwgXCJkZXRhY2hcIl0sXG4gICAgICAgIFtcIiYmXCIsIFwifHxcIl0sXG4gICAgICAgIFtcIj09XCIsIFwiIT1cIl1cbiAgICBdO1xuXG4gICAgdGhpcy50b2dnbGVXb3JkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcm93ID0gdGhpcy5zZWxlY3Rpb24uZ2V0Q3Vyc29yKCkucm93O1xuICAgICAgICB2YXIgY29sdW1uID0gdGhpcy5zZWxlY3Rpb24uZ2V0Q3Vyc29yKCkuY29sdW1uO1xuICAgICAgICB0aGlzLnNlbGVjdGlvbi5zZWxlY3RXb3JkKCk7XG4gICAgICAgIHZhciBjdXJyZW50U3RhdGUgPSB0aGlzLmdldFNlbGVjdGVkVGV4dCgpO1xuICAgICAgICB2YXIgY3VycldvcmRTdGFydCA9IHRoaXMuc2VsZWN0aW9uLmdldFdvcmRSYW5nZSgpLnN0YXJ0LmNvbHVtbjtcbiAgICAgICAgdmFyIHdvcmRQYXJ0cyA9IGN1cnJlbnRTdGF0ZS5yZXBsYWNlKC8oW2Etel0rfFtBLVpdKykoPz1bQS1aX118JCkvZywgJyQxICcpLnNwbGl0KC9cXHMvKTtcbiAgICAgICAgdmFyIGRlbHRhID0gY29sdW1uIC0gY3VycldvcmRTdGFydCAtIDE7XG4gICAgICAgIGlmIChkZWx0YSA8IDApIGRlbHRhID0gMDtcbiAgICAgICAgdmFyIGN1ckxlbmd0aCA9IDAsIGl0TGVuZ3RoID0gMDtcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICBpZiAoY3VycmVudFN0YXRlLm1hdGNoKC9bQS1aYS16MC05X10rLykpIHtcbiAgICAgICAgICAgIHdvcmRQYXJ0cy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpKSB7XG4gICAgICAgICAgICAgICAgaXRMZW5ndGggPSBjdXJMZW5ndGggKyBpdGVtLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBpZiAoZGVsdGEgPj0gY3VyTGVuZ3RoICYmIGRlbHRhIDw9IGl0TGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSA9IGl0ZW07XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuc2VsZWN0aW9uLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQubW92ZUN1cnNvclRvKHJvdywgY3VyTGVuZ3RoICsgY3VycldvcmRTdGFydCk7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuc2VsZWN0aW9uLnNlbGVjdFRvKHJvdywgaXRMZW5ndGggKyBjdXJyV29yZFN0YXJ0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VyTGVuZ3RoID0gaXRMZW5ndGg7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB3b3JkUGFpcnMgPSB0aGlzLiR0b2dnbGVXb3JkUGFpcnM7XG4gICAgICAgIHZhciByZWc7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgd29yZFBhaXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IHdvcmRQYWlyc1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDw9IDE7IGorKykge1xuICAgICAgICAgICAgICAgIHZhciBuZWdhdGUgPSArIWo7XG4gICAgICAgICAgICAgICAgdmFyIGZpcnN0Q29uZGl0aW9uID0gY3VycmVudFN0YXRlLm1hdGNoKG5ldyBSZWdFeHAoJ15cXFxccz9fPygnICsgbGFuZy5lc2NhcGVSZWdFeHAoaXRlbVtqXSkgKyAnKVxcXFxzPyQnLCAnaScpKTtcbiAgICAgICAgICAgICAgICBpZiAoZmlyc3RDb25kaXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlY29uZENvbmRpdGlvbiA9IGN1cnJlbnRTdGF0ZS5tYXRjaChuZXcgUmVnRXhwKCcoW19dfF58XFxcXHMpKCcgKyBsYW5nLmVzY2FwZVJlZ0V4cChmaXJzdENvbmRpdGlvblsxXSkgKyAnKSgkfFxcXFxzKScsICdnJykpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2Vjb25kQ29uZGl0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWcgPSBjdXJyZW50U3RhdGUucmVwbGFjZShuZXcgUmVnRXhwKGxhbmcuZXNjYXBlUmVnRXhwKGl0ZW1bal0pLCAnaScpLCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlcyA9IGl0ZW1bbmVnYXRlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnRvVXBwZXJDYXNlKCkgPT0gcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcyA9IHJlcy50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzdWx0LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpID09IHJlc3VsdC5jaGFyQXQoMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gcmVzLnN1YnN0cigwLCAwKSArIGl0ZW1bbmVnYXRlXS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHJlcy5zdWJzdHIoMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5zZXJ0KHJlZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWcgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLnJlbW92ZUxpbmVzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByb3dzID0gdGhpcy4kZ2V0U2VsZWN0ZWRSb3dzKCk7XG4gICAgICAgIHRoaXMuc2Vzc2lvbi5yZW1vdmVGdWxsTGluZXMocm93cy5maXJzdCwgcm93cy5sYXN0KTtcbiAgICAgICAgdGhpcy5jbGVhclNlbGVjdGlvbigpO1xuICAgIH07XG5cbiAgICB0aGlzLmR1cGxpY2F0ZVNlbGVjdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2VsID0gdGhpcy5zZWxlY3Rpb247XG4gICAgICAgIHZhciBkb2MgPSB0aGlzLnNlc3Npb247XG4gICAgICAgIHZhciByYW5nZSA9IHNlbC5nZXRSYW5nZSgpO1xuICAgICAgICB2YXIgcmV2ZXJzZSA9IHNlbC5pc0JhY2t3YXJkcygpO1xuICAgICAgICBpZiAocmFuZ2UuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICB2YXIgcm93ID0gcmFuZ2Uuc3RhcnQucm93O1xuICAgICAgICAgICAgZG9jLmR1cGxpY2F0ZUxpbmVzKHJvdywgcm93KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBwb2ludCA9IHJldmVyc2UgPyByYW5nZS5zdGFydCA6IHJhbmdlLmVuZDtcbiAgICAgICAgICAgIHZhciBlbmRQb2ludCA9IGRvYy5pbnNlcnQocG9pbnQsIGRvYy5nZXRUZXh0UmFuZ2UocmFuZ2UpLCBmYWxzZSk7XG4gICAgICAgICAgICByYW5nZS5zdGFydCA9IHBvaW50O1xuICAgICAgICAgICAgcmFuZ2UuZW5kID0gZW5kUG9pbnQ7XG5cbiAgICAgICAgICAgIHNlbC5zZXRTZWxlY3Rpb25SYW5nZShyYW5nZSwgcmV2ZXJzZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMubW92ZUxpbmVzRG93biA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiRtb3ZlTGluZXMoMSwgZmFsc2UpO1xuICAgIH07XG4gICAgdGhpcy5tb3ZlTGluZXNVcCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiRtb3ZlTGluZXMoLTEsIGZhbHNlKTtcbiAgICB9O1xuICAgIHRoaXMubW92ZVRleHQgPSBmdW5jdGlvbihyYW5nZSwgdG9Qb3NpdGlvbiwgY29weSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXNzaW9uLm1vdmVUZXh0KHJhbmdlLCB0b1Bvc2l0aW9uLCBjb3B5KTtcbiAgICB9O1xuICAgIHRoaXMuY29weUxpbmVzVXAgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kbW92ZUxpbmVzKC0xLCB0cnVlKTtcbiAgICB9O1xuICAgIHRoaXMuY29weUxpbmVzRG93biA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiRtb3ZlTGluZXMoMSwgdHJ1ZSk7XG4gICAgfTtcbiAgICB0aGlzLiRtb3ZlTGluZXMgPSBmdW5jdGlvbihkaXIsIGNvcHkpIHtcbiAgICAgICAgdmFyIHJvd3MsIG1vdmVkO1xuICAgICAgICB2YXIgc2VsZWN0aW9uID0gdGhpcy5zZWxlY3Rpb247XG4gICAgICAgIGlmICghc2VsZWN0aW9uLmluTXVsdGlTZWxlY3RNb2RlIHx8IHRoaXMuaW5WaXJ0dWFsU2VsZWN0aW9uTW9kZSkge1xuICAgICAgICAgICAgdmFyIHJhbmdlID0gc2VsZWN0aW9uLnRvT3JpZW50ZWRSYW5nZSgpO1xuICAgICAgICAgICAgcm93cyA9IHRoaXMuJGdldFNlbGVjdGVkUm93cyhyYW5nZSk7XG4gICAgICAgICAgICBtb3ZlZCA9IHRoaXMuc2Vzc2lvbi4kbW92ZUxpbmVzKHJvd3MuZmlyc3QsIHJvd3MubGFzdCwgY29weSA/IDAgOiBkaXIpO1xuICAgICAgICAgICAgaWYgKGNvcHkgJiYgZGlyID09IC0xKSBtb3ZlZCA9IDA7XG4gICAgICAgICAgICByYW5nZS5tb3ZlQnkobW92ZWQsIDApO1xuICAgICAgICAgICAgc2VsZWN0aW9uLmZyb21PcmllbnRlZFJhbmdlKHJhbmdlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciByYW5nZXMgPSBzZWxlY3Rpb24ucmFuZ2VMaXN0LnJhbmdlcztcbiAgICAgICAgICAgIHNlbGVjdGlvbi5yYW5nZUxpc3QuZGV0YWNoKHRoaXMuc2Vzc2lvbik7XG4gICAgICAgICAgICB0aGlzLmluVmlydHVhbFNlbGVjdGlvbk1vZGUgPSB0cnVlO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB2YXIgZGlmZiA9IDA7XG4gICAgICAgICAgICB2YXIgdG90YWxEaWZmID0gMDtcbiAgICAgICAgICAgIHZhciBsID0gcmFuZ2VzLmxlbmd0aDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJhbmdlSW5kZXggPSBpO1xuICAgICAgICAgICAgICAgIHJhbmdlc1tpXS5tb3ZlQnkoZGlmZiwgMCk7XG4gICAgICAgICAgICAgICAgcm93cyA9IHRoaXMuJGdldFNlbGVjdGVkUm93cyhyYW5nZXNbaV0pO1xuICAgICAgICAgICAgICAgIHZhciBmaXJzdCA9IHJvd3MuZmlyc3Q7XG4gICAgICAgICAgICAgICAgdmFyIGxhc3QgPSByb3dzLmxhc3Q7XG4gICAgICAgICAgICAgICAgd2hpbGUgKCsraSA8IGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvdGFsRGlmZikgcmFuZ2VzW2ldLm1vdmVCeSh0b3RhbERpZmYsIDApO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3ViUm93cyA9IHRoaXMuJGdldFNlbGVjdGVkUm93cyhyYW5nZXNbaV0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29weSAmJiBzdWJSb3dzLmZpcnN0ICE9IGxhc3QpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIWNvcHkgJiYgc3ViUm93cy5maXJzdCA+IGxhc3QgKyAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGxhc3QgPSBzdWJSb3dzLmxhc3Q7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGktLTtcbiAgICAgICAgICAgICAgICBkaWZmID0gdGhpcy5zZXNzaW9uLiRtb3ZlTGluZXMoZmlyc3QsIGxhc3QsIGNvcHkgPyAwIDogZGlyKTtcbiAgICAgICAgICAgICAgICBpZiAoY29weSAmJiBkaXIgPT0gLTEpIHJhbmdlSW5kZXggPSBpICsgMTtcbiAgICAgICAgICAgICAgICB3aGlsZSAocmFuZ2VJbmRleCA8PSBpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlc1tyYW5nZUluZGV4XS5tb3ZlQnkoZGlmZiwgMCk7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlSW5kZXgrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFjb3B5KSBkaWZmID0gMDtcbiAgICAgICAgICAgICAgICB0b3RhbERpZmYgKz0gZGlmZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgc2VsZWN0aW9uLmZyb21PcmllbnRlZFJhbmdlKHNlbGVjdGlvbi5yYW5nZXNbMF0pO1xuICAgICAgICAgICAgc2VsZWN0aW9uLnJhbmdlTGlzdC5hdHRhY2godGhpcy5zZXNzaW9uKTtcbiAgICAgICAgICAgIHRoaXMuaW5WaXJ0dWFsU2VsZWN0aW9uTW9kZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLiRnZXRTZWxlY3RlZFJvd3MgPSBmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICByYW5nZSA9IChyYW5nZSB8fCB0aGlzLmdldFNlbGVjdGlvblJhbmdlKCkpLmNvbGxhcHNlUm93cygpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmaXJzdDogdGhpcy5zZXNzaW9uLmdldFJvd0ZvbGRTdGFydChyYW5nZS5zdGFydC5yb3cpLFxuICAgICAgICAgICAgbGFzdDogdGhpcy5zZXNzaW9uLmdldFJvd0ZvbGRFbmQocmFuZ2UuZW5kLnJvdylcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgdGhpcy5vbkNvbXBvc2l0aW9uU3RhcnQgPSBmdW5jdGlvbihjb21wb3NpdGlvblN0YXRlKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2hvd0NvbXBvc2l0aW9uKGNvbXBvc2l0aW9uU3RhdGUpO1xuICAgIH07XG5cbiAgICB0aGlzLm9uQ29tcG9zaXRpb25VcGRhdGUgPSBmdW5jdGlvbih0ZXh0KSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0Q29tcG9zaXRpb25UZXh0KHRleHQpO1xuICAgIH07XG5cbiAgICB0aGlzLm9uQ29tcG9zaXRpb25FbmQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5oaWRlQ29tcG9zaXRpb24oKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0Rmlyc3RWaXNpYmxlUm93ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLmdldEZpcnN0VmlzaWJsZVJvdygpO1xuICAgIH07XG4gICAgdGhpcy5nZXRMYXN0VmlzaWJsZVJvdyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5nZXRMYXN0VmlzaWJsZVJvdygpO1xuICAgIH07XG4gICAgdGhpcy5pc1Jvd1Zpc2libGUgPSBmdW5jdGlvbihyb3cpIHtcbiAgICAgICAgcmV0dXJuIChyb3cgPj0gdGhpcy5nZXRGaXJzdFZpc2libGVSb3coKSAmJiByb3cgPD0gdGhpcy5nZXRMYXN0VmlzaWJsZVJvdygpKTtcbiAgICB9O1xuICAgIHRoaXMuaXNSb3dGdWxseVZpc2libGUgPSBmdW5jdGlvbihyb3cpIHtcbiAgICAgICAgcmV0dXJuIChyb3cgPj0gdGhpcy5yZW5kZXJlci5nZXRGaXJzdEZ1bGx5VmlzaWJsZVJvdygpICYmIHJvdyA8PSB0aGlzLnJlbmRlcmVyLmdldExhc3RGdWxseVZpc2libGVSb3coKSk7XG4gICAgfTtcbiAgICB0aGlzLiRnZXRWaXNpYmxlUm93Q291bnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuZ2V0U2Nyb2xsQm90dG9tUm93KCkgLSB0aGlzLnJlbmRlcmVyLmdldFNjcm9sbFRvcFJvdygpICsgMTtcbiAgICB9O1xuXG4gICAgdGhpcy4kbW92ZUJ5UGFnZSA9IGZ1bmN0aW9uKGRpciwgc2VsZWN0KSB7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciBjb25maWcgPSB0aGlzLnJlbmRlcmVyLmxheWVyQ29uZmlnO1xuICAgICAgICB2YXIgcm93cyA9IGRpciAqIE1hdGguZmxvb3IoY29uZmlnLmhlaWdodCAvIGNvbmZpZy5saW5lSGVpZ2h0KTtcblxuICAgICAgICBpZiAoc2VsZWN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi4kbW92ZVNlbGVjdGlvbihmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHRoaXMubW92ZUN1cnNvckJ5KHJvd3MsIDApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24ubW92ZUN1cnNvckJ5KHJvd3MsIDApO1xuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24uY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzY3JvbGxUb3AgPSByZW5kZXJlci5zY3JvbGxUb3A7XG5cbiAgICAgICAgcmVuZGVyZXIuc2Nyb2xsQnkoMCwgcm93cyAqIGNvbmZpZy5saW5lSGVpZ2h0KTtcbiAgICAgICAgaWYgKHNlbGVjdCAhPSBudWxsKVxuICAgICAgICAgICAgcmVuZGVyZXIuc2Nyb2xsQ3Vyc29ySW50b1ZpZXcobnVsbCwgMC41KTtcblxuICAgICAgICByZW5kZXJlci5hbmltYXRlU2Nyb2xsaW5nKHNjcm9sbFRvcCk7XG4gICAgfTtcbiAgICB0aGlzLnNlbGVjdFBhZ2VEb3duID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJG1vdmVCeVBhZ2UoMSwgdHJ1ZSk7XG4gICAgfTtcbiAgICB0aGlzLnNlbGVjdFBhZ2VVcCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiRtb3ZlQnlQYWdlKC0xLCB0cnVlKTtcbiAgICB9O1xuICAgIHRoaXMuZ290b1BhZ2VEb3duID0gZnVuY3Rpb24oKSB7XG4gICAgICAgdGhpcy4kbW92ZUJ5UGFnZSgxLCBmYWxzZSk7XG4gICAgfTtcbiAgICB0aGlzLmdvdG9QYWdlVXAgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kbW92ZUJ5UGFnZSgtMSwgZmFsc2UpO1xuICAgIH07XG4gICAgdGhpcy5zY3JvbGxQYWdlRG93biA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiRtb3ZlQnlQYWdlKDEpO1xuICAgIH07XG4gICAgdGhpcy5zY3JvbGxQYWdlVXAgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kbW92ZUJ5UGFnZSgtMSk7XG4gICAgfTtcbiAgICB0aGlzLnNjcm9sbFRvUm93ID0gZnVuY3Rpb24ocm93KSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2Nyb2xsVG9Sb3cocm93KTtcbiAgICB9O1xuICAgIHRoaXMuc2Nyb2xsVG9MaW5lID0gZnVuY3Rpb24obGluZSwgY2VudGVyLCBhbmltYXRlLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNjcm9sbFRvTGluZShsaW5lLCBjZW50ZXIsIGFuaW1hdGUsIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIHRoaXMuY2VudGVyU2VsZWN0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByYW5nZSA9IHRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKTtcbiAgICAgICAgdmFyIHBvcyA9IHtcbiAgICAgICAgICAgIHJvdzogTWF0aC5mbG9vcihyYW5nZS5zdGFydC5yb3cgKyAocmFuZ2UuZW5kLnJvdyAtIHJhbmdlLnN0YXJ0LnJvdykgLyAyKSxcbiAgICAgICAgICAgIGNvbHVtbjogTWF0aC5mbG9vcihyYW5nZS5zdGFydC5jb2x1bW4gKyAocmFuZ2UuZW5kLmNvbHVtbiAtIHJhbmdlLnN0YXJ0LmNvbHVtbikgLyAyKVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmFsaWduQ3Vyc29yKHBvcywgMC41KTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0Q3Vyc29yUG9zaXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0aW9uLmdldEN1cnNvcigpO1xuICAgIH07XG4gICAgdGhpcy5nZXRDdXJzb3JQb3NpdGlvblNjcmVlbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbih0aGlzLmdldEN1cnNvclBvc2l0aW9uKCkpO1xuICAgIH07XG4gICAgdGhpcy5nZXRTZWxlY3Rpb25SYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTtcbiAgICB9O1xuICAgIHRoaXMuc2VsZWN0QWxsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uLnNlbGVjdEFsbCgpO1xuICAgIH07XG4gICAgdGhpcy5jbGVhclNlbGVjdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnNlbGVjdGlvbi5jbGVhclNlbGVjdGlvbigpO1xuICAgIH07XG4gICAgdGhpcy5tb3ZlQ3Vyc29yVG8gPSBmdW5jdGlvbihyb3csIGNvbHVtbikge1xuICAgICAgICB0aGlzLnNlbGVjdGlvbi5tb3ZlQ3Vyc29yVG8ocm93LCBjb2x1bW4pO1xuICAgIH07XG4gICAgdGhpcy5tb3ZlQ3Vyc29yVG9Qb3NpdGlvbiA9IGZ1bmN0aW9uKHBvcykge1xuICAgICAgICB0aGlzLnNlbGVjdGlvbi5tb3ZlQ3Vyc29yVG9Qb3NpdGlvbihwb3MpO1xuICAgIH07XG4gICAgdGhpcy5qdW1wVG9NYXRjaGluZyA9IGZ1bmN0aW9uKHNlbGVjdCwgZXhwYW5kKSB7XG4gICAgICAgIHZhciBjdXJzb3IgPSB0aGlzLmdldEN1cnNvclBvc2l0aW9uKCk7XG4gICAgICAgIHZhciBpdGVyYXRvciA9IG5ldyBUb2tlbkl0ZXJhdG9yKHRoaXMuc2Vzc2lvbiwgY3Vyc29yLnJvdywgY3Vyc29yLmNvbHVtbik7XG4gICAgICAgIHZhciBwcmV2VG9rZW4gPSBpdGVyYXRvci5nZXRDdXJyZW50VG9rZW4oKTtcbiAgICAgICAgdmFyIHRva2VuID0gcHJldlRva2VuIHx8IGl0ZXJhdG9yLnN0ZXBGb3J3YXJkKCk7XG5cbiAgICAgICAgaWYgKCF0b2tlbikgcmV0dXJuO1xuICAgICAgICB2YXIgbWF0Y2hUeXBlO1xuICAgICAgICB2YXIgZm91bmQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGRlcHRoID0ge307XG4gICAgICAgIHZhciBpID0gY3Vyc29yLmNvbHVtbiAtIHRva2VuLnN0YXJ0O1xuICAgICAgICB2YXIgYnJhY2tldFR5cGU7XG4gICAgICAgIHZhciBicmFja2V0cyA9IHtcbiAgICAgICAgICAgIFwiKVwiOiBcIihcIixcbiAgICAgICAgICAgIFwiKFwiOiBcIihcIixcbiAgICAgICAgICAgIFwiXVwiOiBcIltcIixcbiAgICAgICAgICAgIFwiW1wiOiBcIltcIixcbiAgICAgICAgICAgIFwie1wiOiBcIntcIixcbiAgICAgICAgICAgIFwifVwiOiBcIntcIlxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWYgKHRva2VuLnZhbHVlLm1hdGNoKC9be30oKVxcW1xcXV0vZykpIHtcbiAgICAgICAgICAgICAgICBmb3IgKDsgaSA8IHRva2VuLnZhbHVlLmxlbmd0aCAmJiAhZm91bmQ7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWJyYWNrZXRzW3Rva2VuLnZhbHVlW2ldXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBicmFja2V0VHlwZSA9IGJyYWNrZXRzW3Rva2VuLnZhbHVlW2ldXSArICcuJyArIHRva2VuLnR5cGUucmVwbGFjZShcInJwYXJlblwiLCBcImxwYXJlblwiKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oZGVwdGhbYnJhY2tldFR5cGVdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVwdGhbYnJhY2tldFR5cGVdID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodG9rZW4udmFsdWVbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJygnOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnWyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICd7JzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXB0aFticmFja2V0VHlwZV0rKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJyknOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnXSc6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICd9JzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXB0aFticmFja2V0VHlwZV0tLTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXB0aFticmFja2V0VHlwZV0gPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoVHlwZSA9ICdicmFja2V0JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodG9rZW4udHlwZS5pbmRleE9mKCd0YWctbmFtZScpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIGlmIChpc05hTihkZXB0aFt0b2tlbi52YWx1ZV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlcHRoW3Rva2VuLnZhbHVlXSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChwcmV2VG9rZW4udmFsdWUgPT09ICc8Jykge1xuICAgICAgICAgICAgICAgICAgICBkZXB0aFt0b2tlbi52YWx1ZV0rKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocHJldlRva2VuLnZhbHVlID09PSAnPC8nKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlcHRoW3Rva2VuLnZhbHVlXS0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAoZGVwdGhbdG9rZW4udmFsdWVdID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBtYXRjaFR5cGUgPSAndGFnJztcbiAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFmb3VuZCkge1xuICAgICAgICAgICAgICAgIHByZXZUb2tlbiA9IHRva2VuO1xuICAgICAgICAgICAgICAgIHRva2VuID0gaXRlcmF0b3Iuc3RlcEZvcndhcmQoKTtcbiAgICAgICAgICAgICAgICBpID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAodG9rZW4gJiYgIWZvdW5kKTtcbiAgICAgICAgaWYgKCFtYXRjaFR5cGUpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdmFyIHJhbmdlLCBwb3M7XG4gICAgICAgIGlmIChtYXRjaFR5cGUgPT09ICdicmFja2V0Jykge1xuICAgICAgICAgICAgcmFuZ2UgPSB0aGlzLnNlc3Npb24uZ2V0QnJhY2tldFJhbmdlKGN1cnNvcik7XG4gICAgICAgICAgICBpZiAoIXJhbmdlKSB7XG4gICAgICAgICAgICAgICAgcmFuZ2UgPSBuZXcgUmFuZ2UoXG4gICAgICAgICAgICAgICAgICAgIGl0ZXJhdG9yLmdldEN1cnJlbnRUb2tlblJvdygpLFxuICAgICAgICAgICAgICAgICAgICBpdGVyYXRvci5nZXRDdXJyZW50VG9rZW5Db2x1bW4oKSArIGkgLSAxLFxuICAgICAgICAgICAgICAgICAgICBpdGVyYXRvci5nZXRDdXJyZW50VG9rZW5Sb3coKSxcbiAgICAgICAgICAgICAgICAgICAgaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuQ29sdW1uKCkgKyBpIC0gMVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgcG9zID0gcmFuZ2Uuc3RhcnQ7XG4gICAgICAgICAgICAgICAgaWYgKGV4cGFuZCB8fCBwb3Mucm93ID09PSBjdXJzb3Iucm93ICYmIE1hdGguYWJzKHBvcy5jb2x1bW4gLSBjdXJzb3IuY29sdW1uKSA8IDIpXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlID0gdGhpcy5zZXNzaW9uLmdldEJyYWNrZXRSYW5nZShwb3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG1hdGNoVHlwZSA9PT0gJ3RhZycpIHtcbiAgICAgICAgICAgIGlmICh0b2tlbiAmJiB0b2tlbi50eXBlLmluZGV4T2YoJ3RhZy1uYW1lJykgIT09IC0xKSBcbiAgICAgICAgICAgICAgICB2YXIgdGFnID0gdG9rZW4udmFsdWU7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICByYW5nZSA9IG5ldyBSYW5nZShcbiAgICAgICAgICAgICAgICBpdGVyYXRvci5nZXRDdXJyZW50VG9rZW5Sb3coKSxcbiAgICAgICAgICAgICAgICBpdGVyYXRvci5nZXRDdXJyZW50VG9rZW5Db2x1bW4oKSAtIDIsXG4gICAgICAgICAgICAgICAgaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuUm93KCksXG4gICAgICAgICAgICAgICAgaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuQ29sdW1uKCkgLSAyXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKHJhbmdlLmNvbXBhcmUoY3Vyc29yLnJvdywgY3Vyc29yLmNvbHVtbikgPT09IDApIHtcbiAgICAgICAgICAgICAgICBmb3VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSBwcmV2VG9rZW47XG4gICAgICAgICAgICAgICAgICAgIHByZXZUb2tlbiA9IGl0ZXJhdG9yLnN0ZXBCYWNrd2FyZCgpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZUb2tlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZUb2tlbi50eXBlLmluZGV4T2YoJ3RhZy1jbG9zZScpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldEVuZChpdGVyYXRvci5nZXRDdXJyZW50VG9rZW5Sb3coKSwgaXRlcmF0b3IuZ2V0Q3VycmVudFRva2VuQ29sdW1uKCkgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRva2VuLnZhbHVlID09PSB0YWcgJiYgdG9rZW4udHlwZS5pbmRleE9mKCd0YWctbmFtZScpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmV2VG9rZW4udmFsdWUgPT09ICc8Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXB0aFt0YWddKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHByZXZUb2tlbi52YWx1ZSA9PT0gJzwvJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXB0aFt0YWddLS07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXB0aFt0YWddID09PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IHdoaWxlIChwcmV2VG9rZW4gJiYgIWZvdW5kKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0b2tlbiAmJiB0b2tlbi50eXBlLmluZGV4T2YoJ3RhZy1uYW1lJykpIHtcbiAgICAgICAgICAgICAgICBwb3MgPSByYW5nZS5zdGFydDtcbiAgICAgICAgICAgICAgICBpZiAocG9zLnJvdyA9PSBjdXJzb3Iucm93ICYmIE1hdGguYWJzKHBvcy5jb2x1bW4gLSBjdXJzb3IuY29sdW1uKSA8IDIpXG4gICAgICAgICAgICAgICAgICAgIHBvcyA9IHJhbmdlLmVuZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHBvcyA9IHJhbmdlICYmIHJhbmdlLmN1cnNvciB8fCBwb3M7XG4gICAgICAgIGlmIChwb3MpIHtcbiAgICAgICAgICAgIGlmIChzZWxlY3QpIHtcbiAgICAgICAgICAgICAgICBpZiAocmFuZ2UgJiYgZXhwYW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLnNldFJhbmdlKHJhbmdlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJhbmdlICYmIHJhbmdlLmlzRXF1YWwodGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24uc2VsZWN0VG8ocG9zLnJvdywgcG9zLmNvbHVtbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5tb3ZlVG8ocG9zLnJvdywgcG9zLmNvbHVtbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuZ290b0xpbmUgPSBmdW5jdGlvbihsaW5lTnVtYmVyLCBjb2x1bW4sIGFuaW1hdGUpIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24uY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgICAgdGhpcy5zZXNzaW9uLnVuZm9sZCh7cm93OiBsaW5lTnVtYmVyIC0gMSwgY29sdW1uOiBjb2x1bW4gfHwgMH0pO1xuICAgICAgICB0aGlzLmV4aXRNdWx0aVNlbGVjdE1vZGUgJiYgdGhpcy5leGl0TXVsdGlTZWxlY3RNb2RlKCk7XG4gICAgICAgIHRoaXMubW92ZUN1cnNvclRvKGxpbmVOdW1iZXIgLSAxLCBjb2x1bW4gfHwgMCk7XG5cbiAgICAgICAgaWYgKCF0aGlzLmlzUm93RnVsbHlWaXNpYmxlKGxpbmVOdW1iZXIgLSAxKSlcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsVG9MaW5lKGxpbmVOdW1iZXIgLSAxLCB0cnVlLCBhbmltYXRlKTtcbiAgICB9O1xuICAgIHRoaXMubmF2aWdhdGVUbyA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uLm1vdmVUbyhyb3csIGNvbHVtbik7XG4gICAgfTtcbiAgICB0aGlzLm5hdmlnYXRlVXAgPSBmdW5jdGlvbih0aW1lcykge1xuICAgICAgICBpZiAodGhpcy5zZWxlY3Rpb24uaXNNdWx0aUxpbmUoKSAmJiAhdGhpcy5zZWxlY3Rpb24uaXNCYWNrd2FyZHMoKSkge1xuICAgICAgICAgICAgdmFyIHNlbGVjdGlvblN0YXJ0ID0gdGhpcy5zZWxlY3Rpb24uYW5jaG9yLmdldFBvc2l0aW9uKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tb3ZlQ3Vyc29yVG9Qb3NpdGlvbihzZWxlY3Rpb25TdGFydCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZWxlY3Rpb24uY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24ubW92ZUN1cnNvckJ5KC10aW1lcyB8fCAtMSwgMCk7XG4gICAgfTtcbiAgICB0aGlzLm5hdmlnYXRlRG93biA9IGZ1bmN0aW9uKHRpbWVzKSB7XG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGlvbi5pc011bHRpTGluZSgpICYmIHRoaXMuc2VsZWN0aW9uLmlzQmFja3dhcmRzKCkpIHtcbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb25FbmQgPSB0aGlzLnNlbGVjdGlvbi5hbmNob3IuZ2V0UG9zaXRpb24oKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1vdmVDdXJzb3JUb1Bvc2l0aW9uKHNlbGVjdGlvbkVuZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZWxlY3Rpb24uY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24ubW92ZUN1cnNvckJ5KHRpbWVzIHx8IDEsIDApO1xuICAgIH07XG4gICAgdGhpcy5uYXZpZ2F0ZUxlZnQgPSBmdW5jdGlvbih0aW1lcykge1xuICAgICAgICBpZiAoIXRoaXMuc2VsZWN0aW9uLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgdmFyIHNlbGVjdGlvblN0YXJ0ID0gdGhpcy5nZXRTZWxlY3Rpb25SYW5nZSgpLnN0YXJ0O1xuICAgICAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG9Qb3NpdGlvbihzZWxlY3Rpb25TdGFydCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aW1lcyA9IHRpbWVzIHx8IDE7XG4gICAgICAgICAgICB3aGlsZSAodGltZXMtLSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLm1vdmVDdXJzb3JMZWZ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jbGVhclNlbGVjdGlvbigpO1xuICAgIH07XG4gICAgdGhpcy5uYXZpZ2F0ZVJpZ2h0ID0gZnVuY3Rpb24odGltZXMpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNlbGVjdGlvbi5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb25FbmQgPSB0aGlzLmdldFNlbGVjdGlvblJhbmdlKCkuZW5kO1xuICAgICAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yVG9Qb3NpdGlvbihzZWxlY3Rpb25FbmQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGltZXMgPSB0aW1lcyB8fCAxO1xuICAgICAgICAgICAgd2hpbGUgKHRpbWVzLS0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5tb3ZlQ3Vyc29yUmlnaHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgfTtcbiAgICB0aGlzLm5hdmlnYXRlTGluZVN0YXJ0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uLm1vdmVDdXJzb3JMaW5lU3RhcnQoKTtcbiAgICAgICAgdGhpcy5jbGVhclNlbGVjdGlvbigpO1xuICAgIH07XG4gICAgdGhpcy5uYXZpZ2F0ZUxpbmVFbmQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24ubW92ZUN1cnNvckxpbmVFbmQoKTtcbiAgICAgICAgdGhpcy5jbGVhclNlbGVjdGlvbigpO1xuICAgIH07XG4gICAgdGhpcy5uYXZpZ2F0ZUZpbGVFbmQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24ubW92ZUN1cnNvckZpbGVFbmQoKTtcbiAgICAgICAgdGhpcy5jbGVhclNlbGVjdGlvbigpO1xuICAgIH07XG4gICAgdGhpcy5uYXZpZ2F0ZUZpbGVTdGFydCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnNlbGVjdGlvbi5tb3ZlQ3Vyc29yRmlsZVN0YXJ0KCk7XG4gICAgICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICB9O1xuICAgIHRoaXMubmF2aWdhdGVXb3JkUmlnaHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24ubW92ZUN1cnNvcldvcmRSaWdodCgpO1xuICAgICAgICB0aGlzLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgfTtcbiAgICB0aGlzLm5hdmlnYXRlV29yZExlZnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24ubW92ZUN1cnNvcldvcmRMZWZ0KCk7XG4gICAgICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICB9O1xuICAgIHRoaXMucmVwbGFjZSA9IGZ1bmN0aW9uKHJlcGxhY2VtZW50LCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zKVxuICAgICAgICAgICAgdGhpcy4kc2VhcmNoLnNldChvcHRpb25zKTtcblxuICAgICAgICB2YXIgcmFuZ2UgPSB0aGlzLiRzZWFyY2guZmluZCh0aGlzLnNlc3Npb24pO1xuICAgICAgICB2YXIgcmVwbGFjZWQgPSAwO1xuICAgICAgICBpZiAoIXJhbmdlKVxuICAgICAgICAgICAgcmV0dXJuIHJlcGxhY2VkO1xuXG4gICAgICAgIGlmICh0aGlzLiR0cnlSZXBsYWNlKHJhbmdlLCByZXBsYWNlbWVudCkpIHtcbiAgICAgICAgICAgIHJlcGxhY2VkID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2VsZWN0aW9uLnNldFNlbGVjdGlvblJhbmdlKHJhbmdlKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zY3JvbGxTZWxlY3Rpb25JbnRvVmlldyhyYW5nZS5zdGFydCwgcmFuZ2UuZW5kKTtcblxuICAgICAgICByZXR1cm4gcmVwbGFjZWQ7XG4gICAgfTtcbiAgICB0aGlzLnJlcGxhY2VBbGwgPSBmdW5jdGlvbihyZXBsYWNlbWVudCwgb3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICAgICAgdGhpcy4kc2VhcmNoLnNldChvcHRpb25zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByYW5nZXMgPSB0aGlzLiRzZWFyY2guZmluZEFsbCh0aGlzLnNlc3Npb24pO1xuICAgICAgICB2YXIgcmVwbGFjZWQgPSAwO1xuICAgICAgICBpZiAoIXJhbmdlcy5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gcmVwbGFjZWQ7XG5cbiAgICAgICAgdmFyIHNlbGVjdGlvbiA9IHRoaXMuZ2V0U2VsZWN0aW9uUmFuZ2UoKTtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24ubW92ZVRvKDAsIDApO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSByYW5nZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICAgIGlmKHRoaXMuJHRyeVJlcGxhY2UocmFuZ2VzW2ldLCByZXBsYWNlbWVudCkpIHtcbiAgICAgICAgICAgICAgICByZXBsYWNlZCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZWxlY3Rpb24uc2V0U2VsZWN0aW9uUmFuZ2Uoc2VsZWN0aW9uKTtcblxuICAgICAgICByZXR1cm4gcmVwbGFjZWQ7XG4gICAgfTtcblxuICAgIHRoaXMuJHRyeVJlcGxhY2UgPSBmdW5jdGlvbihyYW5nZSwgcmVwbGFjZW1lbnQpIHtcbiAgICAgICAgdmFyIGlucHV0ID0gdGhpcy5zZXNzaW9uLmdldFRleHRSYW5nZShyYW5nZSk7XG4gICAgICAgIHJlcGxhY2VtZW50ID0gdGhpcy4kc2VhcmNoLnJlcGxhY2UoaW5wdXQsIHJlcGxhY2VtZW50KTtcbiAgICAgICAgaWYgKHJlcGxhY2VtZW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICByYW5nZS5lbmQgPSB0aGlzLnNlc3Npb24ucmVwbGFjZShyYW5nZSwgcmVwbGFjZW1lbnQpO1xuICAgICAgICAgICAgcmV0dXJuIHJhbmdlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuZ2V0TGFzdFNlYXJjaE9wdGlvbnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHNlYXJjaC5nZXRPcHRpb25zKCk7XG4gICAgfTtcbiAgICB0aGlzLmZpbmQgPSBmdW5jdGlvbihuZWVkbGUsIG9wdGlvbnMsIGFuaW1hdGUpIHtcbiAgICAgICAgaWYgKCFvcHRpb25zKVxuICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuXG4gICAgICAgIGlmICh0eXBlb2YgbmVlZGxlID09IFwic3RyaW5nXCIgfHwgbmVlZGxlIGluc3RhbmNlb2YgUmVnRXhwKVxuICAgICAgICAgICAgb3B0aW9ucy5uZWVkbGUgPSBuZWVkbGU7XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBuZWVkbGUgPT0gXCJvYmplY3RcIilcbiAgICAgICAgICAgIG9vcC5taXhpbihvcHRpb25zLCBuZWVkbGUpO1xuXG4gICAgICAgIHZhciByYW5nZSA9IHRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCk7XG4gICAgICAgIGlmIChvcHRpb25zLm5lZWRsZSA9PSBudWxsKSB7XG4gICAgICAgICAgICBuZWVkbGUgPSB0aGlzLnNlc3Npb24uZ2V0VGV4dFJhbmdlKHJhbmdlKVxuICAgICAgICAgICAgICAgIHx8IHRoaXMuJHNlYXJjaC4kb3B0aW9ucy5uZWVkbGU7XG4gICAgICAgICAgICBpZiAoIW5lZWRsZSkge1xuICAgICAgICAgICAgICAgIHJhbmdlID0gdGhpcy5zZXNzaW9uLmdldFdvcmRSYW5nZShyYW5nZS5zdGFydC5yb3csIHJhbmdlLnN0YXJ0LmNvbHVtbik7XG4gICAgICAgICAgICAgICAgbmVlZGxlID0gdGhpcy5zZXNzaW9uLmdldFRleHRSYW5nZShyYW5nZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLiRzZWFyY2guc2V0KHtuZWVkbGU6IG5lZWRsZX0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy4kc2VhcmNoLnNldChvcHRpb25zKTtcbiAgICAgICAgaWYgKCFvcHRpb25zLnN0YXJ0KVxuICAgICAgICAgICAgdGhpcy4kc2VhcmNoLnNldCh7c3RhcnQ6IHJhbmdlfSk7XG5cbiAgICAgICAgdmFyIG5ld1JhbmdlID0gdGhpcy4kc2VhcmNoLmZpbmQodGhpcy5zZXNzaW9uKTtcbiAgICAgICAgaWYgKG9wdGlvbnMucHJldmVudFNjcm9sbClcbiAgICAgICAgICAgIHJldHVybiBuZXdSYW5nZTtcbiAgICAgICAgaWYgKG5ld1JhbmdlKSB7XG4gICAgICAgICAgICB0aGlzLnJldmVhbFJhbmdlKG5ld1JhbmdlLCBhbmltYXRlKTtcbiAgICAgICAgICAgIHJldHVybiBuZXdSYW5nZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5iYWNrd2FyZHMpXG4gICAgICAgICAgICByYW5nZS5zdGFydCA9IHJhbmdlLmVuZDtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmFuZ2UuZW5kID0gcmFuZ2Uuc3RhcnQ7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uLnNldFJhbmdlKHJhbmdlKTtcbiAgICB9O1xuICAgIHRoaXMuZmluZE5leHQgPSBmdW5jdGlvbihvcHRpb25zLCBhbmltYXRlKSB7XG4gICAgICAgIHRoaXMuZmluZCh7c2tpcEN1cnJlbnQ6IHRydWUsIGJhY2t3YXJkczogZmFsc2V9LCBvcHRpb25zLCBhbmltYXRlKTtcbiAgICB9O1xuICAgIHRoaXMuZmluZFByZXZpb3VzID0gZnVuY3Rpb24ob3B0aW9ucywgYW5pbWF0ZSkge1xuICAgICAgICB0aGlzLmZpbmQob3B0aW9ucywge3NraXBDdXJyZW50OiB0cnVlLCBiYWNrd2FyZHM6IHRydWV9LCBhbmltYXRlKTtcbiAgICB9O1xuXG4gICAgdGhpcy5yZXZlYWxSYW5nZSA9IGZ1bmN0aW9uKHJhbmdlLCBhbmltYXRlKSB7XG4gICAgICAgIHRoaXMuc2Vzc2lvbi51bmZvbGQocmFuZ2UpO1xuICAgICAgICB0aGlzLnNlbGVjdGlvbi5zZXRTZWxlY3Rpb25SYW5nZShyYW5nZSk7XG5cbiAgICAgICAgdmFyIHNjcm9sbFRvcCA9IHRoaXMucmVuZGVyZXIuc2Nyb2xsVG9wO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNjcm9sbFNlbGVjdGlvbkludG9WaWV3KHJhbmdlLnN0YXJ0LCByYW5nZS5lbmQsIDAuNSk7XG4gICAgICAgIGlmIChhbmltYXRlICE9PSBmYWxzZSlcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuYW5pbWF0ZVNjcm9sbGluZyhzY3JvbGxUb3ApO1xuICAgIH07XG4gICAgdGhpcy51bmRvID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuc2Vzc2lvbi5nZXRVbmRvTWFuYWdlcigpLnVuZG8odGhpcy5zZXNzaW9uKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zY3JvbGxDdXJzb3JJbnRvVmlldyhudWxsLCAwLjUpO1xuICAgIH07XG4gICAgdGhpcy5yZWRvID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuc2Vzc2lvbi5nZXRVbmRvTWFuYWdlcigpLnJlZG8odGhpcy5zZXNzaW9uKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zY3JvbGxDdXJzb3JJbnRvVmlldyhudWxsLCAwLjUpO1xuICAgIH07XG4gICAgdGhpcy5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLiR0b0Rlc3Ryb3kpIHtcbiAgICAgICAgICAgIHRoaXMuJHRvRGVzdHJveS5mb3JFYWNoKGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgICAgICAgZWwuZGVzdHJveSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLiR0b0Rlc3Ryb3kgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLiRtb3VzZUhhbmRsZXIpXG4gICAgICAgICAgICB0aGlzLiRtb3VzZUhhbmRsZXIuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5fc2lnbmFsKFwiZGVzdHJveVwiLCB0aGlzKTtcbiAgICAgICAgaWYgKHRoaXMuc2Vzc2lvbilcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5kZXN0cm95KCk7XG4gICAgICAgIGlmICh0aGlzLl8kZW1pdElucHV0RXZlbnQpXG4gICAgICAgICAgICB0aGlzLl8kZW1pdElucHV0RXZlbnQuY2FuY2VsKCk7XG4gICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgfTtcbiAgICB0aGlzLnNldEF1dG9TY3JvbGxFZGl0b3JJbnRvVmlldyA9IGZ1bmN0aW9uKGVuYWJsZSkge1xuICAgICAgICBpZiAoIWVuYWJsZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyIHJlY3Q7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIHNob3VsZFNjcm9sbCA9IGZhbHNlO1xuICAgICAgICBpZiAoIXRoaXMuJHNjcm9sbEFuY2hvcilcbiAgICAgICAgICAgIHRoaXMuJHNjcm9sbEFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHZhciBzY3JvbGxBbmNob3IgPSB0aGlzLiRzY3JvbGxBbmNob3I7XG4gICAgICAgIHNjcm9sbEFuY2hvci5zdHlsZS5jc3NUZXh0ID0gXCJwb3NpdGlvbjphYnNvbHV0ZVwiO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5pbnNlcnRCZWZvcmUoc2Nyb2xsQW5jaG9yLCB0aGlzLmNvbnRhaW5lci5maXJzdENoaWxkKTtcbiAgICAgICAgdmFyIG9uQ2hhbmdlU2VsZWN0aW9uID0gdGhpcy5vbihcImNoYW5nZVNlbGVjdGlvblwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNob3VsZFNjcm9sbCA9IHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgb25CZWZvcmVSZW5kZXIgPSB0aGlzLnJlbmRlcmVyLm9uKFwiYmVmb3JlUmVuZGVyXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHNob3VsZFNjcm9sbClcbiAgICAgICAgICAgICAgICByZWN0ID0gc2VsZi5yZW5kZXJlci5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgb25BZnRlclJlbmRlciA9IHRoaXMucmVuZGVyZXIub24oXCJhZnRlclJlbmRlclwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChzaG91bGRTY3JvbGwgJiYgcmVjdCAmJiAoc2VsZi5pc0ZvY3VzZWQoKVxuICAgICAgICAgICAgICAgIHx8IHNlbGYuc2VhcmNoQm94ICYmIHNlbGYuc2VhcmNoQm94LmlzRm9jdXNlZCgpKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlbmRlcmVyID0gc2VsZi5yZW5kZXJlcjtcbiAgICAgICAgICAgICAgICB2YXIgcG9zID0gcmVuZGVyZXIuJGN1cnNvckxheWVyLiRwaXhlbFBvcztcbiAgICAgICAgICAgICAgICB2YXIgY29uZmlnID0gcmVuZGVyZXIubGF5ZXJDb25maWc7XG4gICAgICAgICAgICAgICAgdmFyIHRvcCA9IHBvcy50b3AgLSBjb25maWcub2Zmc2V0O1xuICAgICAgICAgICAgICAgIGlmIChwb3MudG9wID49IDAgJiYgdG9wICsgcmVjdC50b3AgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHNob3VsZFNjcm9sbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwb3MudG9wIDwgY29uZmlnLmhlaWdodCAmJlxuICAgICAgICAgICAgICAgICAgICBwb3MudG9wICsgcmVjdC50b3AgKyBjb25maWcubGluZUhlaWdodCA+IHdpbmRvdy5pbm5lckhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICBzaG91bGRTY3JvbGwgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzaG91bGRTY3JvbGwgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2hvdWxkU2Nyb2xsICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsQW5jaG9yLnN0eWxlLnRvcCA9IHRvcCArIFwicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsQW5jaG9yLnN0eWxlLmxlZnQgPSBwb3MubGVmdCArIFwicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsQW5jaG9yLnN0eWxlLmhlaWdodCA9IGNvbmZpZy5saW5lSGVpZ2h0ICsgXCJweFwiO1xuICAgICAgICAgICAgICAgICAgICBzY3JvbGxBbmNob3Iuc2Nyb2xsSW50b1ZpZXcoc2hvdWxkU2Nyb2xsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2hvdWxkU2Nyb2xsID0gcmVjdCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNldEF1dG9TY3JvbGxFZGl0b3JJbnRvVmlldyA9IGZ1bmN0aW9uKGVuYWJsZSkge1xuICAgICAgICAgICAgaWYgKGVuYWJsZSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5zZXRBdXRvU2Nyb2xsRWRpdG9ySW50b1ZpZXc7XG4gICAgICAgICAgICB0aGlzLm9mZihcImNoYW5nZVNlbGVjdGlvblwiLCBvbkNoYW5nZVNlbGVjdGlvbik7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLm9mZihcImFmdGVyUmVuZGVyXCIsIG9uQWZ0ZXJSZW5kZXIpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5vZmYoXCJiZWZvcmVSZW5kZXJcIiwgb25CZWZvcmVSZW5kZXIpO1xuICAgICAgICB9O1xuICAgIH07XG5cblxuICAgIHRoaXMuJHJlc2V0Q3Vyc29yU3R5bGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy4kY3Vyc29yU3R5bGUgfHwgXCJhY2VcIjtcbiAgICAgICAgdmFyIGN1cnNvckxheWVyID0gdGhpcy5yZW5kZXJlci4kY3Vyc29yTGF5ZXI7XG4gICAgICAgIGlmICghY3Vyc29yTGF5ZXIpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGN1cnNvckxheWVyLnNldFNtb290aEJsaW5raW5nKC9zbW9vdGgvLnRlc3Qoc3R5bGUpKTtcbiAgICAgICAgY3Vyc29yTGF5ZXIuaXNCbGlua2luZyA9ICF0aGlzLiRyZWFkT25seSAmJiBzdHlsZSAhPSBcIndpZGVcIjtcbiAgICAgICAgZG9tLnNldENzc0NsYXNzKGN1cnNvckxheWVyLmVsZW1lbnQsIFwiYWNlX3NsaW0tY3Vyc29yc1wiLCAvc2xpbS8udGVzdChzdHlsZSkpO1xuICAgIH07XG4gICAgdGhpcy5wcm9tcHQgPSBmdW5jdGlvbihtZXNzYWdlLCBvcHRpb25zLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgZWRpdG9yID0gdGhpcztcbiAgICAgICAgY29uZmlnLmxvYWRNb2R1bGUoXCIuL2V4dC9wcm9tcHRcIiwgZnVuY3Rpb24gKG1vZHVsZSkge1xuICAgICAgICAgICAgbW9kdWxlLnByb21wdChlZGl0b3IsIG1lc3NhZ2UsIG9wdGlvbnMsIGNhbGxiYWNrKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxufSkuY2FsbChFZGl0b3IucHJvdG90eXBlKTtcblxuXG5cbmNvbmZpZy5kZWZpbmVPcHRpb25zKEVkaXRvci5wcm90b3R5cGUsIFwiZWRpdG9yXCIsIHtcbiAgICBzZWxlY3Rpb25TdHlsZToge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHN0eWxlKSB7XG4gICAgICAgICAgICB0aGlzLm9uU2VsZWN0aW9uQ2hhbmdlKCk7XG4gICAgICAgICAgICB0aGlzLl9zaWduYWwoXCJjaGFuZ2VTZWxlY3Rpb25TdHlsZVwiLCB7ZGF0YTogc3R5bGV9KTtcbiAgICAgICAgfSxcbiAgICAgICAgaW5pdGlhbFZhbHVlOiBcImxpbmVcIlxuICAgIH0sXG4gICAgaGlnaGxpZ2h0QWN0aXZlTGluZToge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKCkge3RoaXMuJHVwZGF0ZUhpZ2hsaWdodEFjdGl2ZUxpbmUoKTt9LFxuICAgICAgICBpbml0aWFsVmFsdWU6IHRydWVcbiAgICB9LFxuICAgIGhpZ2hsaWdodFNlbGVjdGVkV29yZDoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHNob3VsZEhpZ2hsaWdodCkge3RoaXMuJG9uU2VsZWN0aW9uQ2hhbmdlKCk7fSxcbiAgICAgICAgaW5pdGlhbFZhbHVlOiB0cnVlXG4gICAgfSxcbiAgICByZWFkT25seToge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHJlYWRPbmx5KSB7XG4gICAgICAgICAgICB0aGlzLnRleHRJbnB1dC5zZXRSZWFkT25seShyZWFkT25seSk7XG4gICAgICAgICAgICB0aGlzLiRyZXNldEN1cnNvclN0eWxlKCk7IFxuICAgICAgICB9LFxuICAgICAgICBpbml0aWFsVmFsdWU6IGZhbHNlXG4gICAgfSxcbiAgICBjb3B5V2l0aEVtcHR5U2VsZWN0aW9uOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudGV4dElucHV0LnNldENvcHlXaXRoRW1wdHlTZWxlY3Rpb24odmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBpbml0aWFsVmFsdWU6IGZhbHNlXG4gICAgfSxcbiAgICBjdXJzb3JTdHlsZToge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbCkgeyB0aGlzLiRyZXNldEN1cnNvclN0eWxlKCk7IH0sXG4gICAgICAgIHZhbHVlczogW1wiYWNlXCIsIFwic2xpbVwiLCBcInNtb290aFwiLCBcIndpZGVcIl0sXG4gICAgICAgIGluaXRpYWxWYWx1ZTogXCJhY2VcIlxuICAgIH0sXG4gICAgbWVyZ2VVbmRvRGVsdGFzOiB7XG4gICAgICAgIHZhbHVlczogW2ZhbHNlLCB0cnVlLCBcImFsd2F5c1wiXSxcbiAgICAgICAgaW5pdGlhbFZhbHVlOiB0cnVlXG4gICAgfSxcbiAgICBiZWhhdmlvdXJzRW5hYmxlZDoge2luaXRpYWxWYWx1ZTogdHJ1ZX0sXG4gICAgd3JhcEJlaGF2aW91cnNFbmFibGVkOiB7aW5pdGlhbFZhbHVlOiB0cnVlfSxcbiAgICBlbmFibGVBdXRvSW5kZW50OiB7aW5pdGlhbFZhbHVlOiB0cnVlfSxcbiAgICBhdXRvU2Nyb2xsRWRpdG9ySW50b1ZpZXc6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbih2YWwpIHt0aGlzLnNldEF1dG9TY3JvbGxFZGl0b3JJbnRvVmlldyh2YWwpO31cbiAgICB9LFxuICAgIGtleWJvYXJkSGFuZGxlcjoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbCkgeyB0aGlzLnNldEtleWJvYXJkSGFuZGxlcih2YWwpOyB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy4ka2V5YmluZGluZ0lkOyB9LFxuICAgICAgICBoYW5kbGVzU2V0OiB0cnVlXG4gICAgfSxcbiAgICB2YWx1ZToge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbCkgeyB0aGlzLnNlc3Npb24uc2V0VmFsdWUodmFsKTsgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuZ2V0VmFsdWUoKTsgfSxcbiAgICAgICAgaGFuZGxlc1NldDogdHJ1ZSxcbiAgICAgICAgaGlkZGVuOiB0cnVlXG4gICAgfSxcbiAgICBzZXNzaW9uOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24odmFsKSB7IHRoaXMuc2V0U2Vzc2lvbih2YWwpOyB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5zZXNzaW9uOyB9LFxuICAgICAgICBoYW5kbGVzU2V0OiB0cnVlLFxuICAgICAgICBoaWRkZW46IHRydWVcbiAgICB9LFxuICAgIFxuICAgIHNob3dMaW5lTnVtYmVyczoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHNob3cpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuJGd1dHRlckxheWVyLnNldFNob3dMaW5lTnVtYmVycyhzaG93KTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuJGxvb3Auc2NoZWR1bGUodGhpcy5yZW5kZXJlci5DSEFOR0VfR1VUVEVSKTtcbiAgICAgICAgICAgIGlmIChzaG93ICYmIHRoaXMuJHJlbGF0aXZlTGluZU51bWJlcnMpXG4gICAgICAgICAgICAgICAgcmVsYXRpdmVOdW1iZXJSZW5kZXJlci5hdHRhY2godGhpcyk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcmVsYXRpdmVOdW1iZXJSZW5kZXJlci5kZXRhY2godGhpcyk7XG4gICAgICAgIH0sXG4gICAgICAgIGluaXRpYWxWYWx1ZTogdHJ1ZVxuICAgIH0sXG4gICAgcmVsYXRpdmVMaW5lTnVtYmVyczoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy4kc2hvd0xpbmVOdW1iZXJzICYmIHZhbHVlKVxuICAgICAgICAgICAgICAgIHJlbGF0aXZlTnVtYmVyUmVuZGVyZXIuYXR0YWNoKHRoaXMpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHJlbGF0aXZlTnVtYmVyUmVuZGVyZXIuZGV0YWNoKHRoaXMpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBwbGFjZWhvbGRlcjoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy4kdXBkYXRlUGxhY2Vob2xkZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiR1cGRhdGVQbGFjZWhvbGRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnNlc3Npb24gJiYgKHRoaXMucmVuZGVyZXIuJGNvbXBvc2l0aW9uIHx8IHRoaXMuZ2V0VmFsdWUoKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAmJiB0aGlzLnJlbmRlcmVyLnBsYWNlaG9sZGVyTm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5vZmYoXCJhZnRlclJlbmRlclwiLCB0aGlzLiR1cGRhdGVQbGFjZWhvbGRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb20ucmVtb3ZlQ3NzQ2xhc3ModGhpcy5jb250YWluZXIsIFwiYWNlX2hhc1BsYWNlaG9sZGVyXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5wbGFjZWhvbGRlck5vZGUucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnBsYWNlaG9sZGVyTm9kZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXZhbHVlICYmICF0aGlzLnJlbmRlcmVyLnBsYWNlaG9sZGVyTm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5vbihcImFmdGVyUmVuZGVyXCIsIHRoaXMuJHVwZGF0ZVBsYWNlaG9sZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbS5hZGRDc3NDbGFzcyh0aGlzLmNvbnRhaW5lciwgXCJhY2VfaGFzUGxhY2Vob2xkZXJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWwgPSBkb20uY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsLmNsYXNzTmFtZSA9IFwiYWNlX3BsYWNlaG9sZGVyXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbC50ZXh0Q29udGVudCA9IHRoaXMuJHBsYWNlaG9sZGVyIHx8IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnBsYWNlaG9sZGVyTm9kZSA9IGVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5jb250ZW50LmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIucGxhY2Vob2xkZXJOb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghdmFsdWUgJiYgdGhpcy5yZW5kZXJlci5wbGFjZWhvbGRlck5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucGxhY2Vob2xkZXJOb2RlLnRleHRDb250ZW50ID0gdGhpcy4kcGxhY2Vob2xkZXIgfHwgXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLm9uKFwiaW5wdXRcIiwgdGhpcy4kdXBkYXRlUGxhY2Vob2xkZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy4kdXBkYXRlUGxhY2Vob2xkZXIoKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBoU2Nyb2xsQmFyQWx3YXlzVmlzaWJsZTogXCJyZW5kZXJlclwiLFxuICAgIHZTY3JvbGxCYXJBbHdheXNWaXNpYmxlOiBcInJlbmRlcmVyXCIsXG4gICAgaGlnaGxpZ2h0R3V0dGVyTGluZTogXCJyZW5kZXJlclwiLFxuICAgIGFuaW1hdGVkU2Nyb2xsOiBcInJlbmRlcmVyXCIsXG4gICAgc2hvd0ludmlzaWJsZXM6IFwicmVuZGVyZXJcIixcbiAgICBzaG93UHJpbnRNYXJnaW46IFwicmVuZGVyZXJcIixcbiAgICBwcmludE1hcmdpbkNvbHVtbjogXCJyZW5kZXJlclwiLFxuICAgIHByaW50TWFyZ2luOiBcInJlbmRlcmVyXCIsXG4gICAgZmFkZUZvbGRXaWRnZXRzOiBcInJlbmRlcmVyXCIsXG4gICAgc2hvd0ZvbGRXaWRnZXRzOiBcInJlbmRlcmVyXCIsXG4gICAgZGlzcGxheUluZGVudEd1aWRlczogXCJyZW5kZXJlclwiLFxuICAgIHNob3dHdXR0ZXI6IFwicmVuZGVyZXJcIixcbiAgICBmb250U2l6ZTogXCJyZW5kZXJlclwiLFxuICAgIGZvbnRGYW1pbHk6IFwicmVuZGVyZXJcIixcbiAgICBtYXhMaW5lczogXCJyZW5kZXJlclwiLFxuICAgIG1pbkxpbmVzOiBcInJlbmRlcmVyXCIsXG4gICAgc2Nyb2xsUGFzdEVuZDogXCJyZW5kZXJlclwiLFxuICAgIGZpeGVkV2lkdGhHdXR0ZXI6IFwicmVuZGVyZXJcIixcbiAgICB0aGVtZTogXCJyZW5kZXJlclwiLFxuICAgIGhhc0Nzc1RyYW5zZm9ybXM6IFwicmVuZGVyZXJcIixcbiAgICBtYXhQaXhlbEhlaWdodDogXCJyZW5kZXJlclwiLFxuICAgIHVzZVRleHRhcmVhRm9ySU1FOiBcInJlbmRlcmVyXCIsXG5cbiAgICBzY3JvbGxTcGVlZDogXCIkbW91c2VIYW5kbGVyXCIsXG4gICAgZHJhZ0RlbGF5OiBcIiRtb3VzZUhhbmRsZXJcIixcbiAgICBkcmFnRW5hYmxlZDogXCIkbW91c2VIYW5kbGVyXCIsXG4gICAgZm9jdXNUaW1lb3V0OiBcIiRtb3VzZUhhbmRsZXJcIixcbiAgICB0b29sdGlwRm9sbG93c01vdXNlOiBcIiRtb3VzZUhhbmRsZXJcIixcblxuICAgIGZpcnN0TGluZU51bWJlcjogXCJzZXNzaW9uXCIsXG4gICAgb3ZlcndyaXRlOiBcInNlc3Npb25cIixcbiAgICBuZXdMaW5lTW9kZTogXCJzZXNzaW9uXCIsXG4gICAgdXNlV29ya2VyOiBcInNlc3Npb25cIixcbiAgICB1c2VTb2Z0VGFiczogXCJzZXNzaW9uXCIsXG4gICAgbmF2aWdhdGVXaXRoaW5Tb2Z0VGFiczogXCJzZXNzaW9uXCIsXG4gICAgdGFiU2l6ZTogXCJzZXNzaW9uXCIsXG4gICAgd3JhcDogXCJzZXNzaW9uXCIsXG4gICAgaW5kZW50ZWRTb2Z0V3JhcDogXCJzZXNzaW9uXCIsXG4gICAgZm9sZFN0eWxlOiBcInNlc3Npb25cIixcbiAgICBtb2RlOiBcInNlc3Npb25cIlxufSk7XG5cblxudmFyIHJlbGF0aXZlTnVtYmVyUmVuZGVyZXIgPSB7XG4gICAgZ2V0VGV4dDogZnVuY3Rpb24oc2Vzc2lvbiwgcm93KSB7XG4gICAgICAgIHJldHVybiAoTWF0aC5hYnMoc2Vzc2lvbi5zZWxlY3Rpb24ubGVhZC5yb3cgLSByb3cpIHx8IChyb3cgKyAxICsgKHJvdyA8IDkgPyBcIlxceGI3XCIgOiBcIlwiKSkpICsgXCJcIjtcbiAgICB9LFxuICAgIGdldFdpZHRoOiBmdW5jdGlvbihzZXNzaW9uLCBsYXN0TGluZU51bWJlciwgY29uZmlnKSB7XG4gICAgICAgIHJldHVybiBNYXRoLm1heChcbiAgICAgICAgICAgIGxhc3RMaW5lTnVtYmVyLnRvU3RyaW5nKCkubGVuZ3RoLFxuICAgICAgICAgICAgKGNvbmZpZy5sYXN0Um93ICsgMSkudG9TdHJpbmcoKS5sZW5ndGgsXG4gICAgICAgICAgICAyXG4gICAgICAgICkgKiBjb25maWcuY2hhcmFjdGVyV2lkdGg7XG4gICAgfSxcbiAgICB1cGRhdGU6IGZ1bmN0aW9uKGUsIGVkaXRvcikge1xuICAgICAgICBlZGl0b3IucmVuZGVyZXIuJGxvb3Auc2NoZWR1bGUoZWRpdG9yLnJlbmRlcmVyLkNIQU5HRV9HVVRURVIpO1xuICAgIH0sXG4gICAgYXR0YWNoOiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgZWRpdG9yLnJlbmRlcmVyLiRndXR0ZXJMYXllci4kcmVuZGVyZXIgPSB0aGlzO1xuICAgICAgICBlZGl0b3Iub24oXCJjaGFuZ2VTZWxlY3Rpb25cIiwgdGhpcy51cGRhdGUpO1xuICAgICAgICB0aGlzLnVwZGF0ZShudWxsLCBlZGl0b3IpO1xuICAgIH0sXG4gICAgZGV0YWNoOiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgaWYgKGVkaXRvci5yZW5kZXJlci4kZ3V0dGVyTGF5ZXIuJHJlbmRlcmVyID09IHRoaXMpXG4gICAgICAgICAgICBlZGl0b3IucmVuZGVyZXIuJGd1dHRlckxheWVyLiRyZW5kZXJlciA9IG51bGw7XG4gICAgICAgIGVkaXRvci5vZmYoXCJjaGFuZ2VTZWxlY3Rpb25cIiwgdGhpcy51cGRhdGUpO1xuICAgICAgICB0aGlzLnVwZGF0ZShudWxsLCBlZGl0b3IpO1xuICAgIH1cbn07XG5cbmV4cG9ydHMuRWRpdG9yID0gRWRpdG9yO1xufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvdW5kb21hbmFnZXJcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9yYW5nZVwiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcbnZhciBVbmRvTWFuYWdlciA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuJG1heFJldiA9IDA7XG4gICAgdGhpcy4kZnJvbVVuZG8gPSBmYWxzZTtcbiAgICB0aGlzLnJlc2V0KCk7XG59O1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgXG4gICAgdGhpcy5hZGRTZXNzaW9uID0gZnVuY3Rpb24oc2Vzc2lvbikge1xuICAgICAgICB0aGlzLiRzZXNzaW9uID0gc2Vzc2lvbjtcbiAgICB9O1xuICAgIHRoaXMuYWRkID0gZnVuY3Rpb24oZGVsdGEsIGFsbG93TWVyZ2UsIHNlc3Npb24pIHtcbiAgICAgICAgaWYgKHRoaXMuJGZyb21VbmRvKSByZXR1cm47XG4gICAgICAgIGlmIChkZWx0YSA9PSB0aGlzLiRsYXN0RGVsdGEpIHJldHVybjtcbiAgICAgICAgaWYgKCF0aGlzLiRrZWVwUmVkb1N0YWNrKSB0aGlzLiRyZWRvU3RhY2subGVuZ3RoID0gMDtcbiAgICAgICAgaWYgKGFsbG93TWVyZ2UgPT09IGZhbHNlIHx8ICF0aGlzLmxhc3REZWx0YXMpIHtcbiAgICAgICAgICAgIHRoaXMubGFzdERlbHRhcyA9IFtdO1xuICAgICAgICAgICAgdGhpcy4kdW5kb1N0YWNrLnB1c2godGhpcy5sYXN0RGVsdGFzKTtcbiAgICAgICAgICAgIGRlbHRhLmlkID0gdGhpcy4kcmV2ID0gKyt0aGlzLiRtYXhSZXY7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlbHRhLmFjdGlvbiA9PSBcInJlbW92ZVwiIHx8IGRlbHRhLmFjdGlvbiA9PSBcImluc2VydFwiKVxuICAgICAgICAgICAgdGhpcy4kbGFzdERlbHRhID0gZGVsdGE7XG4gICAgICAgIHRoaXMubGFzdERlbHRhcy5wdXNoKGRlbHRhKTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuYWRkU2VsZWN0aW9uID0gZnVuY3Rpb24oc2VsZWN0aW9uLCByZXYpIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25zLnB1c2goe1xuICAgICAgICAgICAgdmFsdWU6IHNlbGVjdGlvbixcbiAgICAgICAgICAgIHJldjogcmV2IHx8IHRoaXMuJHJldlxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuc3RhcnROZXdHcm91cCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmxhc3REZWx0YXMgPSBudWxsO1xuICAgICAgICByZXR1cm4gdGhpcy4kcmV2O1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5tYXJrSWdub3JlZCA9IGZ1bmN0aW9uKGZyb20sIHRvKSB7XG4gICAgICAgIGlmICh0byA9PSBudWxsKSB0byA9IHRoaXMuJHJldiArIDE7XG4gICAgICAgIHZhciBzdGFjayA9IHRoaXMuJHVuZG9TdGFjaztcbiAgICAgICAgZm9yICh2YXIgaSA9IHN0YWNrLmxlbmd0aDsgaS0tOykge1xuICAgICAgICAgICAgdmFyIGRlbHRhID0gc3RhY2tbaV1bMF07XG4gICAgICAgICAgICBpZiAoZGVsdGEuaWQgPD0gZnJvbSlcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGlmIChkZWx0YS5pZCA8IHRvKVxuICAgICAgICAgICAgICAgIGRlbHRhLmlnbm9yZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXN0RGVsdGFzID0gbnVsbDtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuZ2V0U2VsZWN0aW9uID0gZnVuY3Rpb24ocmV2LCBhZnRlcikge1xuICAgICAgICB2YXIgc3RhY2sgPSB0aGlzLnNlbGVjdGlvbnM7XG4gICAgICAgIGZvciAodmFyIGkgPSBzdGFjay5sZW5ndGg7IGktLTspIHtcbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb24gPSBzdGFja1tpXTtcbiAgICAgICAgICAgIGlmIChzZWxlY3Rpb24ucmV2IDwgcmV2KSB7XG4gICAgICAgICAgICAgICAgaWYgKGFmdGVyKVxuICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb24gPSBzdGFja1tpICsgMV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGVjdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgdGhpcy5nZXRSZXZpc2lvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kcmV2O1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5nZXREZWx0YXMgPSBmdW5jdGlvbihmcm9tLCB0bykge1xuICAgICAgICBpZiAodG8gPT0gbnVsbCkgdG8gPSB0aGlzLiRyZXYgKyAxO1xuICAgICAgICB2YXIgc3RhY2sgPSB0aGlzLiR1bmRvU3RhY2s7XG4gICAgICAgIHZhciBlbmQgPSBudWxsLCBzdGFydCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSBzdGFjay5sZW5ndGg7IGktLTspIHtcbiAgICAgICAgICAgIHZhciBkZWx0YSA9IHN0YWNrW2ldWzBdO1xuICAgICAgICAgICAgaWYgKGRlbHRhLmlkIDwgdG8gJiYgIWVuZClcbiAgICAgICAgICAgICAgICBlbmQgPSBpKzE7XG4gICAgICAgICAgICBpZiAoZGVsdGEuaWQgPD0gZnJvbSkge1xuICAgICAgICAgICAgICAgIHN0YXJ0ID0gaSArIDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YWNrLnNsaWNlKHN0YXJ0LCBlbmQpO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5nZXRDaGFuZ2VkUmFuZ2VzID0gZnVuY3Rpb24oZnJvbSwgdG8pIHtcbiAgICAgICAgaWYgKHRvID09IG51bGwpIHRvID0gdGhpcy4kcmV2ICsgMTtcbiAgICAgICAgXG4gICAgfTtcbiAgICBcbiAgICB0aGlzLmdldENoYW5nZWRMaW5lcyA9IGZ1bmN0aW9uKGZyb20sIHRvKSB7XG4gICAgICAgIGlmICh0byA9PSBudWxsKSB0byA9IHRoaXMuJHJldiArIDE7XG4gICAgICAgIFxuICAgIH07XG4gICAgdGhpcy51bmRvID0gZnVuY3Rpb24oc2Vzc2lvbiwgZG9udFNlbGVjdCkge1xuICAgICAgICB0aGlzLmxhc3REZWx0YXMgPSBudWxsO1xuICAgICAgICB2YXIgc3RhY2sgPSB0aGlzLiR1bmRvU3RhY2s7XG4gICAgICAgIFxuICAgICAgICBpZiAoIXJlYXJyYW5nZVVuZG9TdGFjayhzdGFjaywgc3RhY2subGVuZ3RoKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgXG4gICAgICAgIGlmICghc2Vzc2lvbilcbiAgICAgICAgICAgIHNlc3Npb24gPSB0aGlzLiRzZXNzaW9uO1xuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMuJHJlZG9TdGFja0Jhc2VSZXYgIT09IHRoaXMuJHJldiAmJiB0aGlzLiRyZWRvU3RhY2subGVuZ3RoKVxuICAgICAgICAgICAgdGhpcy4kcmVkb1N0YWNrID0gW107XG4gICAgICAgIFxuICAgICAgICB0aGlzLiRmcm9tVW5kbyA9IHRydWU7XG4gICAgICAgIFxuICAgICAgICB2YXIgZGVsdGFTZXQgPSBzdGFjay5wb3AoKTtcbiAgICAgICAgdmFyIHVuZG9TZWxlY3Rpb25SYW5nZSA9IG51bGw7XG4gICAgICAgIGlmIChkZWx0YVNldCkge1xuICAgICAgICAgICAgdW5kb1NlbGVjdGlvblJhbmdlID0gc2Vzc2lvbi51bmRvQ2hhbmdlcyhkZWx0YVNldCwgZG9udFNlbGVjdCk7XG4gICAgICAgICAgICB0aGlzLiRyZWRvU3RhY2sucHVzaChkZWx0YVNldCk7XG4gICAgICAgICAgICB0aGlzLiRzeW5jUmV2KCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRoaXMuJGZyb21VbmRvID0gZmFsc2U7XG5cbiAgICAgICAgcmV0dXJuIHVuZG9TZWxlY3Rpb25SYW5nZTtcbiAgICB9O1xuICAgIHRoaXMucmVkbyA9IGZ1bmN0aW9uKHNlc3Npb24sIGRvbnRTZWxlY3QpIHtcbiAgICAgICAgdGhpcy5sYXN0RGVsdGFzID0gbnVsbDtcbiAgICAgICAgXG4gICAgICAgIGlmICghc2Vzc2lvbilcbiAgICAgICAgICAgIHNlc3Npb24gPSB0aGlzLiRzZXNzaW9uO1xuICAgICAgICBcbiAgICAgICAgdGhpcy4kZnJvbVVuZG8gPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy4kcmVkb1N0YWNrQmFzZVJldiAhPSB0aGlzLiRyZXYpIHtcbiAgICAgICAgICAgIHZhciBkaWZmID0gdGhpcy5nZXREZWx0YXModGhpcy4kcmVkb1N0YWNrQmFzZVJldiwgdGhpcy4kcmV2ICsgMSk7XG4gICAgICAgICAgICByZWJhc2VSZWRvU3RhY2sodGhpcy4kcmVkb1N0YWNrLCBkaWZmKTtcbiAgICAgICAgICAgIHRoaXMuJHJlZG9TdGFja0Jhc2VSZXYgPSB0aGlzLiRyZXY7XG4gICAgICAgICAgICB0aGlzLiRyZWRvU3RhY2suZm9yRWFjaChmdW5jdGlvbih4KSB7XG4gICAgICAgICAgICAgICAgeFswXS5pZCA9ICsrdGhpcy4kbWF4UmV2O1xuICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRlbHRhU2V0ID0gdGhpcy4kcmVkb1N0YWNrLnBvcCgpO1xuICAgICAgICB2YXIgcmVkb1NlbGVjdGlvblJhbmdlID0gbnVsbDtcbiAgICAgICAgXG4gICAgICAgIGlmIChkZWx0YVNldCkge1xuICAgICAgICAgICAgcmVkb1NlbGVjdGlvblJhbmdlID0gc2Vzc2lvbi5yZWRvQ2hhbmdlcyhkZWx0YVNldCwgZG9udFNlbGVjdCk7XG4gICAgICAgICAgICB0aGlzLiR1bmRvU3RhY2sucHVzaChkZWx0YVNldCk7XG4gICAgICAgICAgICB0aGlzLiRzeW5jUmV2KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4kZnJvbVVuZG8gPSBmYWxzZTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiByZWRvU2VsZWN0aW9uUmFuZ2U7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLiRzeW5jUmV2ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzdGFjayA9IHRoaXMuJHVuZG9TdGFjaztcbiAgICAgICAgdmFyIG5leHREZWx0YSA9IHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdO1xuICAgICAgICB2YXIgaWQgPSBuZXh0RGVsdGEgJiYgbmV4dERlbHRhWzBdLmlkIHx8IDA7XG4gICAgICAgIHRoaXMuJHJlZG9TdGFja0Jhc2VSZXYgPSBpZDtcbiAgICAgICAgdGhpcy4kcmV2ID0gaWQ7XG4gICAgfTtcbiAgICB0aGlzLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMubGFzdERlbHRhcyA9IG51bGw7XG4gICAgICAgIHRoaXMuJGxhc3REZWx0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuJHVuZG9TdGFjayA9IFtdO1xuICAgICAgICB0aGlzLiRyZWRvU3RhY2sgPSBbXTtcbiAgICAgICAgdGhpcy4kcmV2ID0gMDtcbiAgICAgICAgdGhpcy5tYXJrID0gMDtcbiAgICAgICAgdGhpcy4kcmVkb1N0YWNrQmFzZVJldiA9IHRoaXMuJHJldjtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25zID0gW107XG4gICAgfTtcbiAgICB0aGlzLmNhblVuZG8gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHVuZG9TdGFjay5sZW5ndGggPiAwO1xuICAgIH07XG4gICAgdGhpcy5jYW5SZWRvID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRyZWRvU3RhY2subGVuZ3RoID4gMDtcbiAgICB9O1xuICAgIHRoaXMuYm9va21hcmsgPSBmdW5jdGlvbihyZXYpIHtcbiAgICAgICAgaWYgKHJldiA9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXYgPSB0aGlzLiRyZXY7XG4gICAgICAgIHRoaXMubWFyayA9IHJldjtcbiAgICB9O1xuICAgIHRoaXMuaXNBdEJvb2ttYXJrID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRyZXYgPT09IHRoaXMubWFyaztcbiAgICB9O1xuICAgIFxuICAgIHRoaXMudG9KU09OID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIFxuICAgIH07XG4gICAgXG4gICAgdGhpcy5mcm9tSlNPTiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuaGFzVW5kbyA9IHRoaXMuY2FuVW5kbztcbiAgICB0aGlzLmhhc1JlZG8gPSB0aGlzLmNhblJlZG87XG4gICAgdGhpcy5pc0NsZWFuID0gdGhpcy5pc0F0Qm9va21hcms7XG4gICAgdGhpcy5tYXJrQ2xlYW4gPSB0aGlzLmJvb2ttYXJrO1xuICAgIFxuICAgIHRoaXMuJHByZXR0eVByaW50ID0gZnVuY3Rpb24oZGVsdGEpIHtcbiAgICAgICAgaWYgKGRlbHRhKSByZXR1cm4gc3RyaW5naWZ5RGVsdGEoZGVsdGEpO1xuICAgICAgICByZXR1cm4gc3RyaW5naWZ5RGVsdGEodGhpcy4kdW5kb1N0YWNrKSArIFwiXFxuLS0tXFxuXCIgKyBzdHJpbmdpZnlEZWx0YSh0aGlzLiRyZWRvU3RhY2spO1xuICAgIH07XG59KS5jYWxsKFVuZG9NYW5hZ2VyLnByb3RvdHlwZSk7XG5cbmZ1bmN0aW9uIHJlYXJyYW5nZVVuZG9TdGFjayhzdGFjaywgcG9zKSB7XG4gICAgZm9yICh2YXIgaSA9IHBvczsgaS0tOyApIHtcbiAgICAgICAgdmFyIGRlbHRhU2V0ID0gc3RhY2tbaV07XG4gICAgICAgIGlmIChkZWx0YVNldCAmJiAhZGVsdGFTZXRbMF0uaWdub3JlKSB7XG4gICAgICAgICAgICB3aGlsZShpIDwgcG9zIC0gMSkge1xuICAgICAgICAgICAgICAgIHZhciBzd2FwcGVkID0gc3dhcEdyb3VwcyhzdGFja1tpXSwgc3RhY2tbaSArIDFdKTtcbiAgICAgICAgICAgICAgICBzdGFja1tpXSA9IHN3YXBwZWRbMF07XG4gICAgICAgICAgICAgICAgc3RhY2tbaSArIDFdID0gc3dhcHBlZFsxXTtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxudmFyIFJhbmdlID0gcmVxdWlyZShcIi4vcmFuZ2VcIikuUmFuZ2U7XG52YXIgY21wID0gUmFuZ2UuY29tcGFyZVBvaW50cztcbnZhciBjb21wYXJlUG9pbnRzID0gUmFuZ2UuY29tcGFyZVBvaW50cztcblxuZnVuY3Rpb24gJHVwZGF0ZU1hcmtlcnMoZGVsdGEpIHtcbiAgICB2YXIgaXNJbnNlcnQgPSBkZWx0YS5hY3Rpb24gPT0gXCJpbnNlcnRcIjtcbiAgICB2YXIgc3RhcnQgPSBkZWx0YS5zdGFydDtcbiAgICB2YXIgZW5kID0gZGVsdGEuZW5kO1xuICAgIHZhciByb3dTaGlmdCA9IChlbmQucm93IC0gc3RhcnQucm93KSAqIChpc0luc2VydCA/IDEgOiAtMSk7XG4gICAgdmFyIGNvbFNoaWZ0ID0gKGVuZC5jb2x1bW4gLSBzdGFydC5jb2x1bW4pICogKGlzSW5zZXJ0ID8gMSA6IC0xKTtcbiAgICBpZiAoaXNJbnNlcnQpIGVuZCA9IHN0YXJ0O1xuXG4gICAgZm9yICh2YXIgaSBpbiB0aGlzLm1hcmtzKSB7XG4gICAgICAgIHZhciBwb2ludCA9IHRoaXMubWFya3NbaV07XG4gICAgICAgIHZhciBjbXAgPSBjb21wYXJlUG9pbnRzKHBvaW50LCBzdGFydCk7XG4gICAgICAgIGlmIChjbXAgPCAwKSB7XG4gICAgICAgICAgICBjb250aW51ZTsgLy8gZGVsdGEgc3RhcnRzIGFmdGVyIHRoZSByYW5nZVxuICAgICAgICB9XG4gICAgICAgIGlmIChjbXAgPT09IDApIHtcbiAgICAgICAgICAgIGlmIChpc0luc2VydCkge1xuICAgICAgICAgICAgICAgIGlmIChwb2ludC5iaWFzID09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgY21wID0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBvaW50LmJpYXMgPT0gLTE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgY21wMiA9IGlzSW5zZXJ0ID8gY21wIDogY29tcGFyZVBvaW50cyhwb2ludCwgZW5kKTtcbiAgICAgICAgaWYgKGNtcDIgPiAwKSB7XG4gICAgICAgICAgICBwb2ludC5yb3cgKz0gcm93U2hpZnQ7XG4gICAgICAgICAgICBwb2ludC5jb2x1bW4gKz0gcG9pbnQucm93ID09IGVuZC5yb3cgPyBjb2xTaGlmdCA6IDA7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzSW5zZXJ0ICYmIGNtcDIgPD0gMCkge1xuICAgICAgICAgICAgcG9pbnQucm93ID0gc3RhcnQucm93O1xuICAgICAgICAgICAgcG9pbnQuY29sdW1uID0gc3RhcnQuY29sdW1uO1xuICAgICAgICAgICAgaWYgKGNtcDIgPT09IDApXG4gICAgICAgICAgICAgICAgcG9pbnQuYmlhcyA9IDE7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuXG5mdW5jdGlvbiBjbG9uZVBvcyhwb3MpIHtcbiAgICByZXR1cm4ge3JvdzogcG9zLnJvdyxjb2x1bW46IHBvcy5jb2x1bW59O1xufVxuZnVuY3Rpb24gY2xvbmVEZWx0YShkKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RhcnQ6IGNsb25lUG9zKGQuc3RhcnQpLFxuICAgICAgICBlbmQ6IGNsb25lUG9zKGQuZW5kKSxcbiAgICAgICAgYWN0aW9uOiBkLmFjdGlvbixcbiAgICAgICAgbGluZXM6IGQubGluZXMuc2xpY2UoKVxuICAgIH07XG59XG5mdW5jdGlvbiBzdHJpbmdpZnlEZWx0YShkKSB7XG4gICAgZCA9IGQgfHwgdGhpcztcbiAgICBpZiAoQXJyYXkuaXNBcnJheShkKSkge1xuICAgICAgICByZXR1cm4gZC5tYXAoc3RyaW5naWZ5RGVsdGEpLmpvaW4oXCJcXG5cIik7XG4gICAgfVxuICAgIHZhciB0eXBlID0gXCJcIjtcbiAgICBpZiAoZC5hY3Rpb24pIHtcbiAgICAgICAgdHlwZSA9IGQuYWN0aW9uID09IFwiaW5zZXJ0XCIgPyBcIitcIiA6IFwiLVwiO1xuICAgICAgICB0eXBlICs9IFwiW1wiICsgZC5saW5lcyArIFwiXVwiO1xuICAgIH0gZWxzZSBpZiAoZC52YWx1ZSkge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkLnZhbHVlKSkge1xuICAgICAgICAgICAgdHlwZSA9IGQudmFsdWUubWFwKHN0cmluZ2lmeVJhbmdlKS5qb2luKFwiXFxuXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHlwZSA9IHN0cmluZ2lmeVJhbmdlKGQudmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChkLnN0YXJ0KSB7XG4gICAgICAgIHR5cGUgKz0gc3RyaW5naWZ5UmFuZ2UoZCk7XG4gICAgfVxuICAgIGlmIChkLmlkIHx8IGQucmV2KSB7XG4gICAgICAgIHR5cGUgKz0gXCJcXHQoXCIgKyAoZC5pZCB8fCBkLnJldikgKyBcIilcIjtcbiAgICB9XG4gICAgcmV0dXJuIHR5cGU7XG59XG5mdW5jdGlvbiBzdHJpbmdpZnlSYW5nZShyKSB7XG4gICAgcmV0dXJuIHIuc3RhcnQucm93ICsgXCI6XCIgKyByLnN0YXJ0LmNvbHVtbiBcbiAgICAgICAgKyBcIj0+XCIgKyByLmVuZC5yb3cgKyBcIjpcIiArIHIuZW5kLmNvbHVtbjtcbn1cblxuZnVuY3Rpb24gc3dhcChkMSwgZDIpIHtcbiAgICB2YXIgaTEgPSBkMS5hY3Rpb24gPT0gXCJpbnNlcnRcIjtcbiAgICB2YXIgaTIgPSBkMi5hY3Rpb24gPT0gXCJpbnNlcnRcIjtcbiAgICBcbiAgICBpZiAoaTEgJiYgaTIpIHtcbiAgICAgICAgaWYgKGNtcChkMi5zdGFydCwgZDEuZW5kKSA+PSAwKSB7XG4gICAgICAgICAgICBzaGlmdChkMiwgZDEsIC0xKTtcbiAgICAgICAgfSBlbHNlIGlmIChjbXAoZDIuc3RhcnQsIGQxLnN0YXJ0KSA8PSAwKSB7XG4gICAgICAgICAgICBzaGlmdChkMSwgZDIsICsxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChpMSAmJiAhaTIpIHtcbiAgICAgICAgaWYgKGNtcChkMi5zdGFydCwgZDEuZW5kKSA+PSAwKSB7XG4gICAgICAgICAgICBzaGlmdChkMiwgZDEsIC0xKTtcbiAgICAgICAgfSBlbHNlIGlmIChjbXAoZDIuZW5kLCBkMS5zdGFydCkgPD0gMCkge1xuICAgICAgICAgICAgc2hpZnQoZDEsIGQyLCAtMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIWkxICYmIGkyKSB7XG4gICAgICAgIGlmIChjbXAoZDIuc3RhcnQsIGQxLnN0YXJ0KSA+PSAwKSB7XG4gICAgICAgICAgICBzaGlmdChkMiwgZDEsICsxKTtcbiAgICAgICAgfSBlbHNlIGlmIChjbXAoZDIuc3RhcnQsIGQxLnN0YXJ0KSA8PSAwKSB7XG4gICAgICAgICAgICBzaGlmdChkMSwgZDIsICsxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmICghaTEgJiYgIWkyKSB7XG4gICAgICAgIGlmIChjbXAoZDIuc3RhcnQsIGQxLnN0YXJ0KSA+PSAwKSB7XG4gICAgICAgICAgICBzaGlmdChkMiwgZDEsICsxKTtcbiAgICAgICAgfSBlbHNlIGlmIChjbXAoZDIuZW5kLCBkMS5zdGFydCkgPD0gMCkge1xuICAgICAgICAgICAgc2hpZnQoZDEsIGQyLCAtMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gW2QyLCBkMV07XG59XG5mdW5jdGlvbiBzd2FwR3JvdXBzKGRzMSwgZHMyKSB7XG4gICAgZm9yICh2YXIgaSA9IGRzMS5sZW5ndGg7IGktLTsgKSB7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZHMyLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBpZiAoIXN3YXAoZHMxW2ldLCBkczJbal0pKSB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGkgPCBkczEubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChqLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3YXAoZHMyW2pdLCBkczFbaV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGogPSBkczIubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICByZXR1cm4gW2RzMSwgZHMyXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBkczEuc2VsZWN0aW9uQmVmb3JlID0gZHMyLnNlbGVjdGlvbkJlZm9yZSA9IFxuICAgIGRzMS5zZWxlY3Rpb25BZnRlciA9IGRzMi5zZWxlY3Rpb25BZnRlciA9IG51bGw7XG4gICAgcmV0dXJuIFtkczIsIGRzMV07XG59XG5mdW5jdGlvbiB4Zm9ybShkMSwgYzEpIHtcbiAgICB2YXIgaTEgPSBkMS5hY3Rpb24gPT0gXCJpbnNlcnRcIjtcbiAgICB2YXIgaTIgPSBjMS5hY3Rpb24gPT0gXCJpbnNlcnRcIjtcbiAgICBcbiAgICBpZiAoaTEgJiYgaTIpIHtcbiAgICAgICAgaWYgKGNtcChkMS5zdGFydCwgYzEuc3RhcnQpIDwgMCkge1xuICAgICAgICAgICAgc2hpZnQoYzEsIGQxLCAxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNoaWZ0KGQxLCBjMSwgMSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGkxICYmICFpMikge1xuICAgICAgICBpZiAoY21wKGQxLnN0YXJ0LCBjMS5lbmQpID49IDApIHtcbiAgICAgICAgICAgIHNoaWZ0KGQxLCBjMSwgLTEpO1xuICAgICAgICB9IGVsc2UgaWYgKGNtcChkMS5zdGFydCwgYzEuc3RhcnQpIDw9IDApIHtcbiAgICAgICAgICAgIHNoaWZ0KGMxLCBkMSwgKzEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2hpZnQoZDEsIFJhbmdlLmZyb21Qb2ludHMoYzEuc3RhcnQsIGQxLnN0YXJ0KSwgLTEpO1xuICAgICAgICAgICAgc2hpZnQoYzEsIGQxLCArMSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFpMSAmJiBpMikge1xuICAgICAgICBpZiAoY21wKGMxLnN0YXJ0LCBkMS5lbmQpID49IDApIHtcbiAgICAgICAgICAgIHNoaWZ0KGMxLCBkMSwgLTEpO1xuICAgICAgICB9IGVsc2UgaWYgKGNtcChjMS5zdGFydCwgZDEuc3RhcnQpIDw9IDApIHtcbiAgICAgICAgICAgIHNoaWZ0KGQxLCBjMSwgKzEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2hpZnQoYzEsIFJhbmdlLmZyb21Qb2ludHMoZDEuc3RhcnQsIGMxLnN0YXJ0KSwgLTEpO1xuICAgICAgICAgICAgc2hpZnQoZDEsIGMxLCArMSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFpMSAmJiAhaTIpIHtcbiAgICAgICAgaWYgKGNtcChjMS5zdGFydCwgZDEuZW5kKSA+PSAwKSB7XG4gICAgICAgICAgICBzaGlmdChjMSwgZDEsIC0xKTtcbiAgICAgICAgfSBlbHNlIGlmIChjbXAoYzEuZW5kLCBkMS5zdGFydCkgPD0gMCkge1xuICAgICAgICAgICAgc2hpZnQoZDEsIGMxLCAtMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgYmVmb3JlLCBhZnRlcjtcbiAgICAgICAgICAgIGlmIChjbXAoZDEuc3RhcnQsIGMxLnN0YXJ0KSA8IDApIHtcbiAgICAgICAgICAgICAgICBiZWZvcmUgPSBkMTtcbiAgICAgICAgICAgICAgICBkMSA9IHNwbGl0RGVsdGEoZDEsIGMxLnN0YXJ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjbXAoZDEuZW5kLCBjMS5lbmQpID4gMCkge1xuICAgICAgICAgICAgICAgIGFmdGVyID0gc3BsaXREZWx0YShkMSwgYzEuZW5kKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2hpZnRQb3MoYzEuZW5kLCBkMS5zdGFydCwgZDEuZW5kLCAtMSk7XG4gICAgICAgICAgICBpZiAoYWZ0ZXIgJiYgIWJlZm9yZSkge1xuICAgICAgICAgICAgICAgIGQxLmxpbmVzID0gYWZ0ZXIubGluZXM7XG4gICAgICAgICAgICAgICAgZDEuc3RhcnQgPSBhZnRlci5zdGFydDtcbiAgICAgICAgICAgICAgICBkMS5lbmQgPSBhZnRlci5lbmQ7XG4gICAgICAgICAgICAgICAgYWZ0ZXIgPSBkMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIFtjMSwgYmVmb3JlLCBhZnRlcl0uZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBbYzEsIGQxXTtcbn1cbiAgICBcbmZ1bmN0aW9uIHNoaWZ0KGQxLCBkMiwgZGlyKSB7XG4gICAgc2hpZnRQb3MoZDEuc3RhcnQsIGQyLnN0YXJ0LCBkMi5lbmQsIGRpcik7XG4gICAgc2hpZnRQb3MoZDEuZW5kLCBkMi5zdGFydCwgZDIuZW5kLCBkaXIpO1xufVxuZnVuY3Rpb24gc2hpZnRQb3MocG9zLCBzdGFydCwgZW5kLCBkaXIpIHtcbiAgICBpZiAocG9zLnJvdyA9PSAoZGlyID09IDEgPyBzdGFydCA6IGVuZCkucm93KSB7XG4gICAgICAgIHBvcy5jb2x1bW4gKz0gZGlyICogKGVuZC5jb2x1bW4gLSBzdGFydC5jb2x1bW4pO1xuICAgIH1cbiAgICBwb3Mucm93ICs9IGRpciAqIChlbmQucm93IC0gc3RhcnQucm93KTtcbn1cbmZ1bmN0aW9uIHNwbGl0RGVsdGEoYywgcG9zKSB7XG4gICAgdmFyIGxpbmVzID0gYy5saW5lcztcbiAgICB2YXIgZW5kID0gYy5lbmQ7XG4gICAgYy5lbmQgPSBjbG9uZVBvcyhwb3MpOyAgICBcbiAgICB2YXIgcm93c0JlZm9yZSA9IGMuZW5kLnJvdyAtIGMuc3RhcnQucm93O1xuICAgIHZhciBvdGhlckxpbmVzID0gbGluZXMuc3BsaWNlKHJvd3NCZWZvcmUsIGxpbmVzLmxlbmd0aCk7XG4gICAgXG4gICAgdmFyIGNvbCA9IHJvd3NCZWZvcmUgPyBwb3MuY29sdW1uIDogcG9zLmNvbHVtbiAtIGMuc3RhcnQuY29sdW1uO1xuICAgIGxpbmVzLnB1c2gob3RoZXJMaW5lc1swXS5zdWJzdHJpbmcoMCwgY29sKSk7XG4gICAgb3RoZXJMaW5lc1swXSA9IG90aGVyTGluZXNbMF0uc3Vic3RyKGNvbCkgICA7IFxuICAgIHZhciByZXN0ID0ge1xuICAgICAgICBzdGFydDogY2xvbmVQb3MocG9zKSxcbiAgICAgICAgZW5kOiBlbmQsXG4gICAgICAgIGxpbmVzOiBvdGhlckxpbmVzLFxuICAgICAgICBhY3Rpb246IGMuYWN0aW9uXG4gICAgfTtcbiAgICByZXR1cm4gcmVzdDtcbn1cblxuZnVuY3Rpb24gbW92ZURlbHRhc0J5T25lKHJlZG9TdGFjaywgZCkge1xuICAgIGQgPSBjbG9uZURlbHRhKGQpO1xuICAgIGZvciAodmFyIGogPSByZWRvU3RhY2subGVuZ3RoOyBqLS07KSB7XG4gICAgICAgIHZhciBkZWx0YVNldCA9IHJlZG9TdGFja1tqXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZWx0YVNldC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHggPSBkZWx0YVNldFtpXTtcbiAgICAgICAgICAgIHZhciB4Zm9ybWVkID0geGZvcm0oeCwgZCk7XG4gICAgICAgICAgICBkID0geGZvcm1lZFswXTtcbiAgICAgICAgICAgIGlmICh4Zm9ybWVkLmxlbmd0aCAhPSAyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHhmb3JtZWRbMl0pIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsdGFTZXQuc3BsaWNlKGkgKyAxLCAxLCB4Zm9ybWVkWzFdLCB4Zm9ybWVkWzJdKTtcbiAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXhmb3JtZWRbMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsdGFTZXQuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghZGVsdGFTZXQubGVuZ3RoKSB7XG4gICAgICAgICAgICByZWRvU3RhY2suc3BsaWNlKGosIDEpOyBcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVkb1N0YWNrO1xufVxuZnVuY3Rpb24gcmViYXNlUmVkb1N0YWNrKHJlZG9TdGFjaywgZGVsdGFTZXRzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZWx0YVNldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGRlbHRhcyA9IGRlbHRhU2V0c1tpXTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBkZWx0YXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIG1vdmVEZWx0YXNCeU9uZShyZWRvU3RhY2ssIGRlbHRhc1tqXSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydHMuVW5kb01hbmFnZXIgPSBVbmRvTWFuYWdlcjtcblxufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvbGF5ZXIvbGluZXNcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvZG9tXCJdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgZG9tID0gcmVxdWlyZShcIi4uL2xpYi9kb21cIik7XG5cbnZhciBMaW5lcyA9IGZ1bmN0aW9uKGVsZW1lbnQsIGNhbnZhc0hlaWdodCkge1xuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5jYW52YXNIZWlnaHQgPSBjYW52YXNIZWlnaHQgfHwgNTAwMDAwO1xuICAgIHRoaXMuZWxlbWVudC5zdHlsZS5oZWlnaHQgPSAodGhpcy5jYW52YXNIZWlnaHQgKiAyKSArIFwicHhcIjtcbiAgICBcbiAgICB0aGlzLmNlbGxzID0gW107XG4gICAgdGhpcy5jZWxsQ2FjaGUgPSBbXTtcbiAgICB0aGlzLiRvZmZzZXRDb2VmZmljaWVudCA9IDA7XG59O1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgXG4gICAgdGhpcy5tb3ZlQ29udGFpbmVyID0gZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgICAgIGRvbS50cmFuc2xhdGUodGhpcy5lbGVtZW50LCAwLCAtKChjb25maWcuZmlyc3RSb3dTY3JlZW4gKiBjb25maWcubGluZUhlaWdodCkgJSB0aGlzLmNhbnZhc0hlaWdodCkgLSBjb25maWcub2Zmc2V0ICogdGhpcy4kb2Zmc2V0Q29lZmZpY2llbnQpO1xuICAgIH07ICAgIFxuICAgIFxuICAgIHRoaXMucGFnZUNoYW5nZWQgPSBmdW5jdGlvbihvbGRDb25maWcsIG5ld0NvbmZpZykge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgTWF0aC5mbG9vcigob2xkQ29uZmlnLmZpcnN0Um93U2NyZWVuICogb2xkQ29uZmlnLmxpbmVIZWlnaHQpIC8gdGhpcy5jYW52YXNIZWlnaHQpICE9PVxuICAgICAgICAgICAgTWF0aC5mbG9vcigobmV3Q29uZmlnLmZpcnN0Um93U2NyZWVuICogbmV3Q29uZmlnLmxpbmVIZWlnaHQpIC8gdGhpcy5jYW52YXNIZWlnaHQpXG4gICAgICAgICk7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLmNvbXB1dGVMaW5lVG9wID0gZnVuY3Rpb24ocm93LCBjb25maWcsIHNlc3Npb24pIHtcbiAgICAgICAgdmFyIHNjcmVlblRvcCA9IGNvbmZpZy5maXJzdFJvd1NjcmVlbiAqIGNvbmZpZy5saW5lSGVpZ2h0O1xuICAgICAgICB2YXIgc2NyZWVuUGFnZSA9IE1hdGguZmxvb3Ioc2NyZWVuVG9wIC8gdGhpcy5jYW52YXNIZWlnaHQpO1xuICAgICAgICB2YXIgbGluZVRvcCA9IHNlc3Npb24uZG9jdW1lbnRUb1NjcmVlblJvdyhyb3csIDApICogY29uZmlnLmxpbmVIZWlnaHQ7XG4gICAgICAgIHJldHVybiBsaW5lVG9wIC0gKHNjcmVlblBhZ2UgKiB0aGlzLmNhbnZhc0hlaWdodCk7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLmNvbXB1dGVMaW5lSGVpZ2h0ID0gZnVuY3Rpb24ocm93LCBjb25maWcsIHNlc3Npb24pIHtcbiAgICAgICAgcmV0dXJuIGNvbmZpZy5saW5lSGVpZ2h0ICogc2Vzc2lvbi5nZXRSb3dMaW5lQ291bnQocm93KTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuZ2V0TGVuZ3RoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNlbGxzLmxlbmd0aDtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuZ2V0ID0gZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2VsbHNbaW5kZXhdO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5zaGlmdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiRjYWNoZUNlbGwodGhpcy5jZWxscy5zaGlmdCgpKTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMucG9wID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJGNhY2hlQ2VsbCh0aGlzLmNlbGxzLnBvcCgpKTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMucHVzaCA9IGZ1bmN0aW9uKGNlbGwpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY2VsbCkpIHtcbiAgICAgICAgICAgIHRoaXMuY2VsbHMucHVzaC5hcHBseSh0aGlzLmNlbGxzLCBjZWxsKTtcbiAgICAgICAgICAgIHZhciBmcmFnbWVudCA9IGRvbS5jcmVhdGVGcmFnbWVudCh0aGlzLmVsZW1lbnQpO1xuICAgICAgICAgICAgZm9yICh2YXIgaT0wOyBpPGNlbGwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChjZWxsW2ldLmVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKGZyYWdtZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2VsbHMucHVzaChjZWxsKTtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZChjZWxsLmVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLnVuc2hpZnQgPSBmdW5jdGlvbihjZWxsKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNlbGwpKSB7XG4gICAgICAgICAgICB0aGlzLmNlbGxzLnVuc2hpZnQuYXBwbHkodGhpcy5jZWxscywgY2VsbCk7XG4gICAgICAgICAgICB2YXIgZnJhZ21lbnQgPSBkb20uY3JlYXRlRnJhZ21lbnQodGhpcy5lbGVtZW50KTtcbiAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaTxjZWxsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoY2VsbFtpXS5lbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmVsZW1lbnQuZmlyc3RDaGlsZClcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuaW5zZXJ0QmVmb3JlKGZyYWdtZW50LCB0aGlzLmVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKGZyYWdtZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2VsbHMudW5zaGlmdChjZWxsKTtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJhZnRlcmJlZ2luXCIsIGNlbGwuZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIHRoaXMubGFzdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5jZWxscy5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jZWxsc1t0aGlzLmNlbGxzLmxlbmd0aC0xXTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLiRjYWNoZUNlbGwgPSBmdW5jdGlvbihjZWxsKSB7XG4gICAgICAgIGlmICghY2VsbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIFxuICAgICAgICBjZWxsLmVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMuY2VsbENhY2hlLnB1c2goY2VsbCk7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLmNyZWF0ZUNlbGwgPSBmdW5jdGlvbihyb3csIGNvbmZpZywgc2Vzc2lvbiwgaW5pdEVsZW1lbnQpIHtcbiAgICAgICAgdmFyIGNlbGwgPSB0aGlzLmNlbGxDYWNoZS5wb3AoKTtcbiAgICAgICAgaWYgKCFjZWxsKSB7XG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IGRvbS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgaWYgKGluaXRFbGVtZW50KVxuICAgICAgICAgICAgICAgIGluaXRFbGVtZW50KGVsZW1lbnQpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNlbGwgPSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgICAgICAgICAgICB0ZXh0OiBcIlwiLFxuICAgICAgICAgICAgICAgIHJvdzogcm93XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNlbGwucm93ID0gcm93O1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGNlbGw7XG4gICAgfTtcbiAgICBcbn0pLmNhbGwoTGluZXMucHJvdG90eXBlKTtcblxuZXhwb3J0cy5MaW5lcyA9IExpbmVzO1xuXG59KTtcblxuYWNlLmRlZmluZShcImFjZS9sYXllci9ndXR0ZXJcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvZG9tXCIsXCJhY2UvbGliL29vcFwiLFwiYWNlL2xpYi9sYW5nXCIsXCJhY2UvbGliL2V2ZW50X2VtaXR0ZXJcIixcImFjZS9sYXllci9saW5lc1wiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIGRvbSA9IHJlcXVpcmUoXCIuLi9saWIvZG9tXCIpO1xudmFyIG9vcCA9IHJlcXVpcmUoXCIuLi9saWIvb29wXCIpO1xudmFyIGxhbmcgPSByZXF1aXJlKFwiLi4vbGliL2xhbmdcIik7XG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZShcIi4uL2xpYi9ldmVudF9lbWl0dGVyXCIpLkV2ZW50RW1pdHRlcjtcbnZhciBMaW5lcyA9IHJlcXVpcmUoXCIuL2xpbmVzXCIpLkxpbmVzO1xuXG52YXIgR3V0dGVyID0gZnVuY3Rpb24ocGFyZW50RWwpIHtcbiAgICB0aGlzLmVsZW1lbnQgPSBkb20uY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NOYW1lID0gXCJhY2VfbGF5ZXIgYWNlX2d1dHRlci1sYXllclwiO1xuICAgIHBhcmVudEVsLmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudCk7XG4gICAgdGhpcy5zZXRTaG93Rm9sZFdpZGdldHModGhpcy4kc2hvd0ZvbGRXaWRnZXRzKTtcbiAgICBcbiAgICB0aGlzLmd1dHRlcldpZHRoID0gMDtcblxuICAgIHRoaXMuJGFubm90YXRpb25zID0gW107XG4gICAgdGhpcy4kdXBkYXRlQW5ub3RhdGlvbnMgPSB0aGlzLiR1cGRhdGVBbm5vdGF0aW9ucy5iaW5kKHRoaXMpO1xuICAgIFxuICAgIHRoaXMuJGxpbmVzID0gbmV3IExpbmVzKHRoaXMuZWxlbWVudCk7XG4gICAgdGhpcy4kbGluZXMuJG9mZnNldENvZWZmaWNpZW50ID0gMTtcbn07XG5cbihmdW5jdGlvbigpIHtcblxuICAgIG9vcC5pbXBsZW1lbnQodGhpcywgRXZlbnRFbWl0dGVyKTtcblxuICAgIHRoaXMuc2V0U2Vzc2lvbiA9IGZ1bmN0aW9uKHNlc3Npb24pIHtcbiAgICAgICAgaWYgKHRoaXMuc2Vzc2lvbilcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5vZmYoXCJjaGFuZ2VcIiwgdGhpcy4kdXBkYXRlQW5ub3RhdGlvbnMpO1xuICAgICAgICB0aGlzLnNlc3Npb24gPSBzZXNzaW9uO1xuICAgICAgICBpZiAoc2Vzc2lvbilcbiAgICAgICAgICAgIHNlc3Npb24ub24oXCJjaGFuZ2VcIiwgdGhpcy4kdXBkYXRlQW5ub3RhdGlvbnMpO1xuICAgIH07XG5cbiAgICB0aGlzLmFkZEd1dHRlckRlY29yYXRpb24gPSBmdW5jdGlvbihyb3csIGNsYXNzTmFtZSkge1xuICAgICAgICBpZiAod2luZG93LmNvbnNvbGUpXG4gICAgICAgICAgICBjb25zb2xlLndhcm4gJiYgY29uc29sZS53YXJuKFwiZGVwcmVjYXRlZCB1c2Ugc2Vzc2lvbi5hZGRHdXR0ZXJEZWNvcmF0aW9uXCIpO1xuICAgICAgICB0aGlzLnNlc3Npb24uYWRkR3V0dGVyRGVjb3JhdGlvbihyb3csIGNsYXNzTmFtZSk7XG4gICAgfTtcblxuICAgIHRoaXMucmVtb3ZlR3V0dGVyRGVjb3JhdGlvbiA9IGZ1bmN0aW9uKHJvdywgY2xhc3NOYW1lKSB7XG4gICAgICAgIGlmICh3aW5kb3cuY29uc29sZSlcbiAgICAgICAgICAgIGNvbnNvbGUud2FybiAmJiBjb25zb2xlLndhcm4oXCJkZXByZWNhdGVkIHVzZSBzZXNzaW9uLnJlbW92ZUd1dHRlckRlY29yYXRpb25cIik7XG4gICAgICAgIHRoaXMuc2Vzc2lvbi5yZW1vdmVHdXR0ZXJEZWNvcmF0aW9uKHJvdywgY2xhc3NOYW1lKTtcbiAgICB9O1xuXG4gICAgdGhpcy5zZXRBbm5vdGF0aW9ucyA9IGZ1bmN0aW9uKGFubm90YXRpb25zKSB7XG4gICAgICAgIHRoaXMuJGFubm90YXRpb25zID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW5ub3RhdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBhbm5vdGF0aW9uID0gYW5ub3RhdGlvbnNbaV07XG4gICAgICAgICAgICB2YXIgcm93ID0gYW5ub3RhdGlvbi5yb3c7XG4gICAgICAgICAgICB2YXIgcm93SW5mbyA9IHRoaXMuJGFubm90YXRpb25zW3Jvd107XG4gICAgICAgICAgICBpZiAoIXJvd0luZm8pXG4gICAgICAgICAgICAgICAgcm93SW5mbyA9IHRoaXMuJGFubm90YXRpb25zW3Jvd10gPSB7dGV4dDogW119O1xuICAgICAgICAgICBcbiAgICAgICAgICAgIHZhciBhbm5vVGV4dCA9IGFubm90YXRpb24udGV4dDtcbiAgICAgICAgICAgIGFubm9UZXh0ID0gYW5ub1RleHQgPyBsYW5nLmVzY2FwZUhUTUwoYW5ub1RleHQpIDogYW5ub3RhdGlvbi5odG1sIHx8IFwiXCI7XG5cbiAgICAgICAgICAgIGlmIChyb3dJbmZvLnRleHQuaW5kZXhPZihhbm5vVGV4dCkgPT09IC0xKVxuICAgICAgICAgICAgICAgIHJvd0luZm8udGV4dC5wdXNoKGFubm9UZXh0KTtcblxuICAgICAgICAgICAgdmFyIHR5cGUgPSBhbm5vdGF0aW9uLnR5cGU7XG4gICAgICAgICAgICB2YXIgY2xhc3NOYW1lID0gYW5ub3RhdGlvbi5jbGFzc05hbWU7XG4gICAgICAgICAgICBpZiAoY2xhc3NOYW1lKSBcbiAgICAgICAgICAgICAgICByb3dJbmZvLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGUgPT0gXCJlcnJvclwiKVxuICAgICAgICAgICAgICAgIHJvd0luZm8uY2xhc3NOYW1lID0gXCIgYWNlX2Vycm9yXCI7XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlID09IFwid2FybmluZ1wiICYmIHJvd0luZm8uY2xhc3NOYW1lICE9IFwiIGFjZV9lcnJvclwiKVxuICAgICAgICAgICAgICAgIHJvd0luZm8uY2xhc3NOYW1lID0gXCIgYWNlX3dhcm5pbmdcIjtcbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGUgPT0gXCJpbmZvXCIgJiYgKCFyb3dJbmZvLmNsYXNzTmFtZSkpXG4gICAgICAgICAgICAgICAgcm93SW5mby5jbGFzc05hbWUgPSBcIiBhY2VfaW5mb1wiO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuJHVwZGF0ZUFubm90YXRpb25zID0gZnVuY3Rpb24gKGRlbHRhKSB7XG4gICAgICAgIGlmICghdGhpcy4kYW5ub3RhdGlvbnMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB2YXIgZmlyc3RSb3cgPSBkZWx0YS5zdGFydC5yb3c7XG4gICAgICAgIHZhciBsZW4gPSBkZWx0YS5lbmQucm93IC0gZmlyc3RSb3c7XG4gICAgICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgICAgfSBlbHNlIGlmIChkZWx0YS5hY3Rpb24gPT0gJ3JlbW92ZScpIHtcbiAgICAgICAgICAgIHRoaXMuJGFubm90YXRpb25zLnNwbGljZShmaXJzdFJvdywgbGVuICsgMSwgbnVsbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IG5ldyBBcnJheShsZW4gKyAxKTtcbiAgICAgICAgICAgIGFyZ3MudW5zaGlmdChmaXJzdFJvdywgMSk7XG4gICAgICAgICAgICB0aGlzLiRhbm5vdGF0aW9ucy5zcGxpY2UuYXBwbHkodGhpcy4kYW5ub3RhdGlvbnMsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMudXBkYXRlID0gZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgICAgICBcbiAgICAgICAgdmFyIHNlc3Npb24gPSB0aGlzLnNlc3Npb247XG4gICAgICAgIHZhciBmaXJzdFJvdyA9IGNvbmZpZy5maXJzdFJvdztcbiAgICAgICAgdmFyIGxhc3RSb3cgPSBNYXRoLm1pbihjb25maWcubGFzdFJvdyArIGNvbmZpZy5ndXR0ZXJPZmZzZXQsICAvLyBuZWVkZWQgdG8gY29tcGVuc2F0ZSBmb3IgaG9yIHNjb2xsYmFyXG4gICAgICAgICAgICBzZXNzaW9uLmdldExlbmd0aCgpIC0gMSk7XG4gICAgICAgICAgICBcbiAgICAgICAgdGhpcy5vbGRMYXN0Um93ID0gbGFzdFJvdztcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgICAgIFxuICAgICAgICB0aGlzLiRsaW5lcy5tb3ZlQ29udGFpbmVyKGNvbmZpZyk7XG4gICAgICAgIHRoaXMuJHVwZGF0ZUN1cnNvclJvdygpO1xuICAgICAgICAgICAgXG4gICAgICAgIHZhciBmb2xkID0gc2Vzc2lvbi5nZXROZXh0Rm9sZExpbmUoZmlyc3RSb3cpO1xuICAgICAgICB2YXIgZm9sZFN0YXJ0ID0gZm9sZCA/IGZvbGQuc3RhcnQucm93IDogSW5maW5pdHk7XG5cbiAgICAgICAgdmFyIGNlbGwgPSBudWxsO1xuICAgICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgICAgdmFyIHJvdyA9IGZpcnN0Um93O1xuICAgICAgICBcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGlmIChyb3cgPiBmb2xkU3RhcnQpIHtcbiAgICAgICAgICAgICAgICByb3cgPSBmb2xkLmVuZC5yb3cgKyAxO1xuICAgICAgICAgICAgICAgIGZvbGQgPSBzZXNzaW9uLmdldE5leHRGb2xkTGluZShyb3csIGZvbGQpO1xuICAgICAgICAgICAgICAgIGZvbGRTdGFydCA9IGZvbGQgPyBmb2xkLnN0YXJ0LnJvdyA6IEluZmluaXR5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJvdyA+IGxhc3RSb3cpIHtcbiAgICAgICAgICAgICAgICB3aGlsZSAodGhpcy4kbGluZXMuZ2V0TGVuZ3RoKCkgPiBpbmRleCArIDEpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGxpbmVzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2VsbCA9IHRoaXMuJGxpbmVzLmdldCgrK2luZGV4KTtcbiAgICAgICAgICAgIGlmIChjZWxsKSB7XG4gICAgICAgICAgICAgICAgY2VsbC5yb3cgPSByb3c7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNlbGwgPSB0aGlzLiRsaW5lcy5jcmVhdGVDZWxsKHJvdywgY29uZmlnLCB0aGlzLnNlc3Npb24sIG9uQ3JlYXRlQ2VsbCk7XG4gICAgICAgICAgICAgICAgdGhpcy4kbGluZXMucHVzaChjZWxsKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy4kcmVuZGVyQ2VsbChjZWxsLCBjb25maWcsIGZvbGQsIHJvdyk7XG4gICAgICAgICAgICByb3crKztcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdGhpcy5fc2lnbmFsKFwiYWZ0ZXJSZW5kZXJcIik7XG4gICAgICAgIHRoaXMuJHVwZGF0ZUd1dHRlcldpZHRoKGNvbmZpZyk7XG4gICAgfTtcblxuICAgIHRoaXMuJHVwZGF0ZUd1dHRlcldpZHRoID0gZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgICAgIHZhciBzZXNzaW9uID0gdGhpcy5zZXNzaW9uO1xuICAgICAgICBcbiAgICAgICAgdmFyIGd1dHRlclJlbmRlcmVyID0gc2Vzc2lvbi5ndXR0ZXJSZW5kZXJlciB8fCB0aGlzLiRyZW5kZXJlcjtcbiAgICAgICAgXG4gICAgICAgIHZhciBmaXJzdExpbmVOdW1iZXIgPSBzZXNzaW9uLiRmaXJzdExpbmVOdW1iZXI7XG4gICAgICAgIHZhciBsYXN0TGluZVRleHQgPSB0aGlzLiRsaW5lcy5sYXN0KCkgPyB0aGlzLiRsaW5lcy5sYXN0KCkudGV4dCA6IFwiXCI7XG4gICAgICAgIFxuICAgICAgICBpZiAodGhpcy4kZml4ZWRXaWR0aCB8fCBzZXNzaW9uLiR1c2VXcmFwTW9kZSlcbiAgICAgICAgICAgIGxhc3RMaW5lVGV4dCA9IHNlc3Npb24uZ2V0TGVuZ3RoKCkgKyBmaXJzdExpbmVOdW1iZXIgLSAxO1xuXG4gICAgICAgIHZhciBndXR0ZXJXaWR0aCA9IGd1dHRlclJlbmRlcmVyIFxuICAgICAgICAgICAgPyBndXR0ZXJSZW5kZXJlci5nZXRXaWR0aChzZXNzaW9uLCBsYXN0TGluZVRleHQsIGNvbmZpZylcbiAgICAgICAgICAgIDogbGFzdExpbmVUZXh0LnRvU3RyaW5nKCkubGVuZ3RoICogY29uZmlnLmNoYXJhY3RlcldpZHRoO1xuICAgICAgICBcbiAgICAgICAgdmFyIHBhZGRpbmcgPSB0aGlzLiRwYWRkaW5nIHx8IHRoaXMuJGNvbXB1dGVQYWRkaW5nKCk7XG4gICAgICAgIGd1dHRlcldpZHRoICs9IHBhZGRpbmcubGVmdCArIHBhZGRpbmcucmlnaHQ7XG4gICAgICAgIGlmIChndXR0ZXJXaWR0aCAhPT0gdGhpcy5ndXR0ZXJXaWR0aCAmJiAhaXNOYU4oZ3V0dGVyV2lkdGgpKSB7XG4gICAgICAgICAgICB0aGlzLmd1dHRlcldpZHRoID0gZ3V0dGVyV2lkdGg7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQucGFyZW50Tm9kZS5zdHlsZS53aWR0aCA9IFxuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLndpZHRoID0gTWF0aC5jZWlsKHRoaXMuZ3V0dGVyV2lkdGgpICsgXCJweFwiO1xuICAgICAgICAgICAgdGhpcy5fc2lnbmFsKFwiY2hhbmdlR3V0dGVyV2lkdGhcIiwgZ3V0dGVyV2lkdGgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLiR1cGRhdGVDdXJzb3JSb3cgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLiRoaWdobGlnaHRHdXR0ZXJMaW5lKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgXG4gICAgICAgIHZhciBwb3NpdGlvbiA9IHRoaXMuc2Vzc2lvbi5zZWxlY3Rpb24uZ2V0Q3Vyc29yKCk7XG4gICAgICAgIGlmICh0aGlzLiRjdXJzb3JSb3cgPT09IHBvc2l0aW9uLnJvdylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuJGN1cnNvclJvdyA9IHBvc2l0aW9uLnJvdztcbiAgICB9O1xuICAgIFxuICAgIHRoaXMudXBkYXRlTGluZUhpZ2hsaWdodCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXRoaXMuJGhpZ2hsaWdodEd1dHRlckxpbmUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciByb3cgPSB0aGlzLnNlc3Npb24uc2VsZWN0aW9uLmN1cnNvci5yb3c7XG4gICAgICAgIHRoaXMuJGN1cnNvclJvdyA9IHJvdztcblxuICAgICAgICBpZiAodGhpcy4kY3Vyc29yQ2VsbCAmJiB0aGlzLiRjdXJzb3JDZWxsLnJvdyA9PSByb3cpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmICh0aGlzLiRjdXJzb3JDZWxsKVxuICAgICAgICAgICAgdGhpcy4kY3Vyc29yQ2VsbC5lbGVtZW50LmNsYXNzTmFtZSA9IHRoaXMuJGN1cnNvckNlbGwuZWxlbWVudC5jbGFzc05hbWUucmVwbGFjZShcImFjZV9ndXR0ZXItYWN0aXZlLWxpbmUgXCIsIFwiXCIpO1xuICAgICAgICB2YXIgY2VsbHMgPSB0aGlzLiRsaW5lcy5jZWxscztcbiAgICAgICAgdGhpcy4kY3Vyc29yQ2VsbCA9IG51bGw7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2VsbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjZWxsID0gY2VsbHNbaV07XG4gICAgICAgICAgICBpZiAoY2VsbC5yb3cgPj0gdGhpcy4kY3Vyc29yUm93KSB7XG4gICAgICAgICAgICAgICAgaWYgKGNlbGwucm93ID4gdGhpcy4kY3Vyc29yUm93KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmb2xkID0gdGhpcy5zZXNzaW9uLmdldEZvbGRMaW5lKHRoaXMuJGN1cnNvclJvdyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpID4gMCAmJiBmb2xkICYmIGZvbGQuc3RhcnQucm93ID09IGNlbGxzW2kgLSAxXS5yb3cpXG4gICAgICAgICAgICAgICAgICAgICAgICBjZWxsID0gY2VsbHNbaSAtIDFdO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2VsbC5lbGVtZW50LmNsYXNzTmFtZSA9IFwiYWNlX2d1dHRlci1hY3RpdmUtbGluZSBcIiArIGNlbGwuZWxlbWVudC5jbGFzc05hbWU7XG4gICAgICAgICAgICAgICAgdGhpcy4kY3Vyc29yQ2VsbCA9IGNlbGw7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIHRoaXMuc2Nyb2xsTGluZXMgPSBmdW5jdGlvbihjb25maWcpIHtcbiAgICAgICAgdmFyIG9sZENvbmZpZyA9IHRoaXMuY29uZmlnO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgXG4gICAgICAgIHRoaXMuJHVwZGF0ZUN1cnNvclJvdygpO1xuICAgICAgICBpZiAodGhpcy4kbGluZXMucGFnZUNoYW5nZWQob2xkQ29uZmlnLCBjb25maWcpKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlKGNvbmZpZyk7XG4gICAgICAgIFxuICAgICAgICB0aGlzLiRsaW5lcy5tb3ZlQ29udGFpbmVyKGNvbmZpZyk7XG5cbiAgICAgICAgdmFyIGxhc3RSb3cgPSBNYXRoLm1pbihjb25maWcubGFzdFJvdyArIGNvbmZpZy5ndXR0ZXJPZmZzZXQsICAvLyBuZWVkZWQgdG8gY29tcGVuc2F0ZSBmb3IgaG9yIHNjb2xsYmFyXG4gICAgICAgICAgICB0aGlzLnNlc3Npb24uZ2V0TGVuZ3RoKCkgLSAxKTtcbiAgICAgICAgdmFyIG9sZExhc3RSb3cgPSB0aGlzLm9sZExhc3RSb3c7XG4gICAgICAgIHRoaXMub2xkTGFzdFJvdyA9IGxhc3RSb3c7XG4gICAgICAgIFxuICAgICAgICBpZiAoIW9sZENvbmZpZyB8fCBvbGRMYXN0Um93IDwgY29uZmlnLmZpcnN0Um93KVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlKGNvbmZpZyk7XG5cbiAgICAgICAgaWYgKGxhc3RSb3cgPCBvbGRDb25maWcuZmlyc3RSb3cpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy51cGRhdGUoY29uZmlnKTtcblxuICAgICAgICBpZiAob2xkQ29uZmlnLmZpcnN0Um93IDwgY29uZmlnLmZpcnN0Um93KVxuICAgICAgICAgICAgZm9yICh2YXIgcm93PXRoaXMuc2Vzc2lvbi5nZXRGb2xkZWRSb3dDb3VudChvbGRDb25maWcuZmlyc3RSb3csIGNvbmZpZy5maXJzdFJvdyAtIDEpOyByb3c+MDsgcm93LS0pXG4gICAgICAgICAgICAgICAgdGhpcy4kbGluZXMuc2hpZnQoKTtcblxuICAgICAgICBpZiAob2xkTGFzdFJvdyA+IGxhc3RSb3cpXG4gICAgICAgICAgICBmb3IgKHZhciByb3c9dGhpcy5zZXNzaW9uLmdldEZvbGRlZFJvd0NvdW50KGxhc3RSb3cgKyAxLCBvbGRMYXN0Um93KTsgcm93PjA7IHJvdy0tKVxuICAgICAgICAgICAgICAgIHRoaXMuJGxpbmVzLnBvcCgpO1xuXG4gICAgICAgIGlmIChjb25maWcuZmlyc3RSb3cgPCBvbGRDb25maWcuZmlyc3RSb3cpIHtcbiAgICAgICAgICAgIHRoaXMuJGxpbmVzLnVuc2hpZnQodGhpcy4kcmVuZGVyTGluZXMoY29uZmlnLCBjb25maWcuZmlyc3RSb3csIG9sZENvbmZpZy5maXJzdFJvdyAtIDEpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsYXN0Um93ID4gb2xkTGFzdFJvdykge1xuICAgICAgICAgICAgdGhpcy4kbGluZXMucHVzaCh0aGlzLiRyZW5kZXJMaW5lcyhjb25maWcsIG9sZExhc3RSb3cgKyAxLCBsYXN0Um93KSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRoaXMudXBkYXRlTGluZUhpZ2hsaWdodCgpO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5fc2lnbmFsKFwiYWZ0ZXJSZW5kZXJcIik7XG4gICAgICAgIHRoaXMuJHVwZGF0ZUd1dHRlcldpZHRoKGNvbmZpZyk7XG4gICAgfTtcblxuICAgIHRoaXMuJHJlbmRlckxpbmVzID0gZnVuY3Rpb24oY29uZmlnLCBmaXJzdFJvdywgbGFzdFJvdykge1xuICAgICAgICB2YXIgZnJhZ21lbnQgPSBbXTtcbiAgICAgICAgdmFyIHJvdyA9IGZpcnN0Um93O1xuICAgICAgICB2YXIgZm9sZExpbmUgPSB0aGlzLnNlc3Npb24uZ2V0TmV4dEZvbGRMaW5lKHJvdyk7XG4gICAgICAgIHZhciBmb2xkU3RhcnQgPSBmb2xkTGluZSA/IGZvbGRMaW5lLnN0YXJ0LnJvdyA6IEluZmluaXR5O1xuXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBpZiAocm93ID4gZm9sZFN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgcm93ID0gZm9sZExpbmUuZW5kLnJvdysxO1xuICAgICAgICAgICAgICAgIGZvbGRMaW5lID0gdGhpcy5zZXNzaW9uLmdldE5leHRGb2xkTGluZShyb3csIGZvbGRMaW5lKTtcbiAgICAgICAgICAgICAgICBmb2xkU3RhcnQgPSBmb2xkTGluZSA/IGZvbGRMaW5lLnN0YXJ0LnJvdyA6IEluZmluaXR5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJvdyA+IGxhc3RSb3cpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIHZhciBjZWxsID0gdGhpcy4kbGluZXMuY3JlYXRlQ2VsbChyb3csIGNvbmZpZywgdGhpcy5zZXNzaW9uLCBvbkNyZWF0ZUNlbGwpO1xuICAgICAgICAgICAgdGhpcy4kcmVuZGVyQ2VsbChjZWxsLCBjb25maWcsIGZvbGRMaW5lLCByb3cpO1xuICAgICAgICAgICAgZnJhZ21lbnQucHVzaChjZWxsKTtcblxuICAgICAgICAgICAgcm93Kys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZyYWdtZW50O1xuICAgIH07XG4gICAgXG4gICAgdGhpcy4kcmVuZGVyQ2VsbCA9IGZ1bmN0aW9uKGNlbGwsIGNvbmZpZywgZm9sZCwgcm93KSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gY2VsbC5lbGVtZW50O1xuICAgICAgICBcbiAgICAgICAgdmFyIHNlc3Npb24gPSB0aGlzLnNlc3Npb247XG4gICAgICAgIFxuICAgICAgICB2YXIgdGV4dE5vZGUgPSBlbGVtZW50LmNoaWxkTm9kZXNbMF07XG4gICAgICAgIHZhciBmb2xkV2lkZ2V0ID0gZWxlbWVudC5jaGlsZE5vZGVzWzFdO1xuXG4gICAgICAgIHZhciBmaXJzdExpbmVOdW1iZXIgPSBzZXNzaW9uLiRmaXJzdExpbmVOdW1iZXI7XG4gICAgICAgIFxuICAgICAgICB2YXIgYnJlYWtwb2ludHMgPSBzZXNzaW9uLiRicmVha3BvaW50cztcbiAgICAgICAgdmFyIGRlY29yYXRpb25zID0gc2Vzc2lvbi4kZGVjb3JhdGlvbnM7XG4gICAgICAgIHZhciBndXR0ZXJSZW5kZXJlciA9IHNlc3Npb24uZ3V0dGVyUmVuZGVyZXIgfHwgdGhpcy4kcmVuZGVyZXI7XG4gICAgICAgIHZhciBmb2xkV2lkZ2V0cyA9IHRoaXMuJHNob3dGb2xkV2lkZ2V0cyAmJiBzZXNzaW9uLmZvbGRXaWRnZXRzO1xuICAgICAgICB2YXIgZm9sZFN0YXJ0ID0gZm9sZCA/IGZvbGQuc3RhcnQucm93IDogTnVtYmVyLk1BWF9WQUxVRTtcbiAgICAgICAgXG4gICAgICAgIHZhciBjbGFzc05hbWUgPSBcImFjZV9ndXR0ZXItY2VsbCBcIjtcbiAgICAgICAgaWYgKHRoaXMuJGhpZ2hsaWdodEd1dHRlckxpbmUpIHtcbiAgICAgICAgICAgIGlmIChyb3cgPT0gdGhpcy4kY3Vyc29yUm93IHx8IChmb2xkICYmIHJvdyA8IHRoaXMuJGN1cnNvclJvdyAmJiByb3cgPj0gZm9sZFN0YXJ0ICYmICB0aGlzLiRjdXJzb3JSb3cgPD0gZm9sZC5lbmQucm93KSkge1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZSArPSBcImFjZV9ndXR0ZXItYWN0aXZlLWxpbmUgXCI7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuJGN1cnNvckNlbGwgIT0gY2VsbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy4kY3Vyc29yQ2VsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGN1cnNvckNlbGwuZWxlbWVudC5jbGFzc05hbWUgPSB0aGlzLiRjdXJzb3JDZWxsLmVsZW1lbnQuY2xhc3NOYW1lLnJlcGxhY2UoXCJhY2VfZ3V0dGVyLWFjdGl2ZS1saW5lIFwiLCBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kY3Vyc29yQ2VsbCA9IGNlbGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoYnJlYWtwb2ludHNbcm93XSlcbiAgICAgICAgICAgIGNsYXNzTmFtZSArPSBicmVha3BvaW50c1tyb3ddO1xuICAgICAgICBpZiAoZGVjb3JhdGlvbnNbcm93XSlcbiAgICAgICAgICAgIGNsYXNzTmFtZSArPSBkZWNvcmF0aW9uc1tyb3ddO1xuICAgICAgICBpZiAodGhpcy4kYW5ub3RhdGlvbnNbcm93XSlcbiAgICAgICAgICAgIGNsYXNzTmFtZSArPSB0aGlzLiRhbm5vdGF0aW9uc1tyb3ddLmNsYXNzTmFtZTtcbiAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NOYW1lICE9IGNsYXNzTmFtZSlcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuXG4gICAgICAgIGlmIChmb2xkV2lkZ2V0cykge1xuICAgICAgICAgICAgdmFyIGMgPSBmb2xkV2lkZ2V0c1tyb3ddO1xuICAgICAgICAgICAgaWYgKGMgPT0gbnVsbClcbiAgICAgICAgICAgICAgICBjID0gZm9sZFdpZGdldHNbcm93XSA9IHNlc3Npb24uZ2V0Rm9sZFdpZGdldChyb3cpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGMpIHtcbiAgICAgICAgICAgIHZhciBjbGFzc05hbWUgPSBcImFjZV9mb2xkLXdpZGdldCBhY2VfXCIgKyBjO1xuICAgICAgICAgICAgaWYgKGMgPT0gXCJzdGFydFwiICYmIHJvdyA9PSBmb2xkU3RhcnQgJiYgcm93IDwgZm9sZC5lbmQucm93KVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZSArPSBcIiBhY2VfY2xvc2VkXCI7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lICs9IFwiIGFjZV9vcGVuXCI7XG4gICAgICAgICAgICBpZiAoZm9sZFdpZGdldC5jbGFzc05hbWUgIT0gY2xhc3NOYW1lKVxuICAgICAgICAgICAgICAgIGZvbGRXaWRnZXQuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuXG4gICAgICAgICAgICB2YXIgZm9sZEhlaWdodCA9IGNvbmZpZy5saW5lSGVpZ2h0ICsgXCJweFwiO1xuICAgICAgICAgICAgZG9tLnNldFN0eWxlKGZvbGRXaWRnZXQuc3R5bGUsIFwiaGVpZ2h0XCIsIGZvbGRIZWlnaHQpO1xuICAgICAgICAgICAgZG9tLnNldFN0eWxlKGZvbGRXaWRnZXQuc3R5bGUsIFwiZGlzcGxheVwiLCBcImlubGluZS1ibG9ja1wiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChmb2xkV2lkZ2V0KSB7XG4gICAgICAgICAgICAgICAgZG9tLnNldFN0eWxlKGZvbGRXaWRnZXQuc3R5bGUsIFwiZGlzcGxheVwiLCBcIm5vbmVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHZhciB0ZXh0ID0gKGd1dHRlclJlbmRlcmVyXG4gICAgICAgICAgICA/IGd1dHRlclJlbmRlcmVyLmdldFRleHQoc2Vzc2lvbiwgcm93KVxuICAgICAgICAgICAgOiByb3cgKyBmaXJzdExpbmVOdW1iZXIpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgaWYgKHRleHQgIT09IHRleHROb2RlLmRhdGEpIHtcbiAgICAgICAgICAgIHRleHROb2RlLmRhdGEgPSB0ZXh0O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBkb20uc2V0U3R5bGUoY2VsbC5lbGVtZW50LnN0eWxlLCBcImhlaWdodFwiLCB0aGlzLiRsaW5lcy5jb21wdXRlTGluZUhlaWdodChyb3csIGNvbmZpZywgc2Vzc2lvbikgKyBcInB4XCIpO1xuICAgICAgICBkb20uc2V0U3R5bGUoY2VsbC5lbGVtZW50LnN0eWxlLCBcInRvcFwiLCB0aGlzLiRsaW5lcy5jb21wdXRlTGluZVRvcChyb3csIGNvbmZpZywgc2Vzc2lvbikgKyBcInB4XCIpO1xuICAgICAgICBcbiAgICAgICAgY2VsbC50ZXh0ID0gdGV4dDtcbiAgICAgICAgcmV0dXJuIGNlbGw7XG4gICAgfTtcblxuICAgIHRoaXMuJGZpeGVkV2lkdGggPSBmYWxzZTtcbiAgICBcbiAgICB0aGlzLiRoaWdobGlnaHRHdXR0ZXJMaW5lID0gdHJ1ZTtcbiAgICB0aGlzLiRyZW5kZXJlciA9IFwiXCI7XG4gICAgdGhpcy5zZXRIaWdobGlnaHRHdXR0ZXJMaW5lID0gZnVuY3Rpb24oaGlnaGxpZ2h0R3V0dGVyTGluZSkge1xuICAgICAgICB0aGlzLiRoaWdobGlnaHRHdXR0ZXJMaW5lID0gaGlnaGxpZ2h0R3V0dGVyTGluZTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuJHNob3dMaW5lTnVtYmVycyA9IHRydWU7XG4gICAgdGhpcy4kcmVuZGVyZXIgPSBcIlwiO1xuICAgIHRoaXMuc2V0U2hvd0xpbmVOdW1iZXJzID0gZnVuY3Rpb24oc2hvdykge1xuICAgICAgICB0aGlzLiRyZW5kZXJlciA9ICFzaG93ICYmIHtcbiAgICAgICAgICAgIGdldFdpZHRoOiBmdW5jdGlvbigpIHtyZXR1cm4gMDt9LFxuICAgICAgICAgICAgZ2V0VGV4dDogZnVuY3Rpb24oKSB7cmV0dXJuIFwiXCI7fVxuICAgICAgICB9O1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5nZXRTaG93TGluZU51bWJlcnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHNob3dMaW5lTnVtYmVycztcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuJHNob3dGb2xkV2lkZ2V0cyA9IHRydWU7XG4gICAgdGhpcy5zZXRTaG93Rm9sZFdpZGdldHMgPSBmdW5jdGlvbihzaG93KSB7XG4gICAgICAgIGlmIChzaG93KVxuICAgICAgICAgICAgZG9tLmFkZENzc0NsYXNzKHRoaXMuZWxlbWVudCwgXCJhY2VfZm9sZGluZy1lbmFibGVkXCIpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBkb20ucmVtb3ZlQ3NzQ2xhc3ModGhpcy5lbGVtZW50LCBcImFjZV9mb2xkaW5nLWVuYWJsZWRcIik7XG5cbiAgICAgICAgdGhpcy4kc2hvd0ZvbGRXaWRnZXRzID0gc2hvdztcbiAgICAgICAgdGhpcy4kcGFkZGluZyA9IG51bGw7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLmdldFNob3dGb2xkV2lkZ2V0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kc2hvd0ZvbGRXaWRnZXRzO1xuICAgIH07XG5cbiAgICB0aGlzLiRjb21wdXRlUGFkZGluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXRoaXMuZWxlbWVudC5maXJzdENoaWxkKVxuICAgICAgICAgICAgcmV0dXJuIHtsZWZ0OiAwLCByaWdodDogMH07XG4gICAgICAgIHZhciBzdHlsZSA9IGRvbS5jb21wdXRlZFN0eWxlKHRoaXMuZWxlbWVudC5maXJzdENoaWxkKTtcbiAgICAgICAgdGhpcy4kcGFkZGluZyA9IHt9O1xuICAgICAgICB0aGlzLiRwYWRkaW5nLmxlZnQgPSAocGFyc2VJbnQoc3R5bGUuYm9yZGVyTGVmdFdpZHRoKSB8fCAwKVxuICAgICAgICAgICAgKyAocGFyc2VJbnQoc3R5bGUucGFkZGluZ0xlZnQpIHx8IDApICsgMTtcbiAgICAgICAgdGhpcy4kcGFkZGluZy5yaWdodCA9IChwYXJzZUludChzdHlsZS5ib3JkZXJSaWdodFdpZHRoKSB8fCAwKVxuICAgICAgICAgICAgKyAocGFyc2VJbnQoc3R5bGUucGFkZGluZ1JpZ2h0KSB8fCAwKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHBhZGRpbmc7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0UmVnaW9uID0gZnVuY3Rpb24ocG9pbnQpIHtcbiAgICAgICAgdmFyIHBhZGRpbmcgPSB0aGlzLiRwYWRkaW5nIHx8IHRoaXMuJGNvbXB1dGVQYWRkaW5nKCk7XG4gICAgICAgIHZhciByZWN0ID0gdGhpcy5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBpZiAocG9pbnQueCA8IHBhZGRpbmcubGVmdCArIHJlY3QubGVmdClcbiAgICAgICAgICAgIHJldHVybiBcIm1hcmtlcnNcIjtcbiAgICAgICAgaWYgKHRoaXMuJHNob3dGb2xkV2lkZ2V0cyAmJiBwb2ludC54ID4gcmVjdC5yaWdodCAtIHBhZGRpbmcucmlnaHQpXG4gICAgICAgICAgICByZXR1cm4gXCJmb2xkV2lkZ2V0c1wiO1xuICAgIH07XG5cbn0pLmNhbGwoR3V0dGVyLnByb3RvdHlwZSk7XG5cbmZ1bmN0aW9uIG9uQ3JlYXRlQ2VsbChlbGVtZW50KSB7XG4gICAgdmFyIHRleHROb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQodGV4dE5vZGUpO1xuICAgIFxuICAgIHZhciBmb2xkV2lkZ2V0ID0gZG9tLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoZm9sZFdpZGdldCk7XG4gICAgXG4gICAgcmV0dXJuIGVsZW1lbnQ7XG59XG5cbmV4cG9ydHMuR3V0dGVyID0gR3V0dGVyO1xuXG59KTtcblxuYWNlLmRlZmluZShcImFjZS9sYXllci9tYXJrZXJcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9yYW5nZVwiLFwiYWNlL2xpYi9kb21cIl0sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBSYW5nZSA9IHJlcXVpcmUoXCIuLi9yYW5nZVwiKS5SYW5nZTtcbnZhciBkb20gPSByZXF1aXJlKFwiLi4vbGliL2RvbVwiKTtcblxudmFyIE1hcmtlciA9IGZ1bmN0aW9uKHBhcmVudEVsKSB7XG4gICAgdGhpcy5lbGVtZW50ID0gZG9tLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTmFtZSA9IFwiYWNlX2xheWVyIGFjZV9tYXJrZXItbGF5ZXJcIjtcbiAgICBwYXJlbnRFbC5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpO1xufTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgdGhpcy4kcGFkZGluZyA9IDA7XG5cbiAgICB0aGlzLnNldFBhZGRpbmcgPSBmdW5jdGlvbihwYWRkaW5nKSB7XG4gICAgICAgIHRoaXMuJHBhZGRpbmcgPSBwYWRkaW5nO1xuICAgIH07XG4gICAgdGhpcy5zZXRTZXNzaW9uID0gZnVuY3Rpb24oc2Vzc2lvbikge1xuICAgICAgICB0aGlzLnNlc3Npb24gPSBzZXNzaW9uO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5zZXRNYXJrZXJzID0gZnVuY3Rpb24obWFya2Vycykge1xuICAgICAgICB0aGlzLm1hcmtlcnMgPSBtYXJrZXJzO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5lbHQgPSBmdW5jdGlvbihjbGFzc05hbWUsIGNzcykge1xuICAgICAgICB2YXIgeCA9IHRoaXMuaSAhPSAtMSAmJiB0aGlzLmVsZW1lbnQuY2hpbGROb2Rlc1t0aGlzLmldO1xuICAgICAgICBpZiAoIXgpIHtcbiAgICAgICAgICAgIHggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHgpO1xuICAgICAgICAgICAgdGhpcy5pID0gLTE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmkrKztcbiAgICAgICAgfVxuICAgICAgICB4LnN0eWxlLmNzc1RleHQgPSBjc3M7XG4gICAgICAgIHguY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgIH07XG5cbiAgICB0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgICAgICBpZiAoIWNvbmZpZykgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuXG4gICAgICAgIHRoaXMuaSA9IDA7XG4gICAgICAgIHZhciBodG1sO1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5tYXJrZXJzKSB7XG4gICAgICAgICAgICB2YXIgbWFya2VyID0gdGhpcy5tYXJrZXJzW2tleV07XG5cbiAgICAgICAgICAgIGlmICghbWFya2VyLnJhbmdlKSB7XG4gICAgICAgICAgICAgICAgbWFya2VyLnVwZGF0ZShodG1sLCB0aGlzLCB0aGlzLnNlc3Npb24sIGNvbmZpZyk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciByYW5nZSA9IG1hcmtlci5yYW5nZS5jbGlwUm93cyhjb25maWcuZmlyc3RSb3csIGNvbmZpZy5sYXN0Um93KTtcbiAgICAgICAgICAgIGlmIChyYW5nZS5pc0VtcHR5KCkpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICByYW5nZSA9IHJhbmdlLnRvU2NyZWVuUmFuZ2UodGhpcy5zZXNzaW9uKTtcbiAgICAgICAgICAgIGlmIChtYXJrZXIucmVuZGVyZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgdG9wID0gdGhpcy4kZ2V0VG9wKHJhbmdlLnN0YXJ0LnJvdywgY29uZmlnKTtcbiAgICAgICAgICAgICAgICB2YXIgbGVmdCA9IHRoaXMuJHBhZGRpbmcgKyByYW5nZS5zdGFydC5jb2x1bW4gKiBjb25maWcuY2hhcmFjdGVyV2lkdGg7XG4gICAgICAgICAgICAgICAgbWFya2VyLnJlbmRlcmVyKGh0bWwsIHJhbmdlLCBsZWZ0LCB0b3AsIGNvbmZpZyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1hcmtlci50eXBlID09IFwiZnVsbExpbmVcIikge1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhd0Z1bGxMaW5lTWFya2VyKGh0bWwsIHJhbmdlLCBtYXJrZXIuY2xhenosIGNvbmZpZyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1hcmtlci50eXBlID09IFwic2NyZWVuTGluZVwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3U2NyZWVuTGluZU1hcmtlcihodG1sLCByYW5nZSwgbWFya2VyLmNsYXp6LCBjb25maWcpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChyYW5nZS5pc011bHRpTGluZSgpKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1hcmtlci50eXBlID09IFwidGV4dFwiKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdUZXh0TWFya2VyKGh0bWwsIHJhbmdlLCBtYXJrZXIuY2xhenosIGNvbmZpZyk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdNdWx0aUxpbmVNYXJrZXIoaHRtbCwgcmFuZ2UsIG1hcmtlci5jbGF6eiwgY29uZmlnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3U2luZ2xlTGluZU1hcmtlcihodG1sLCByYW5nZSwgbWFya2VyLmNsYXp6ICsgXCIgYWNlX3N0YXJ0XCIgKyBcIiBhY2VfYnIxNVwiLCBjb25maWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmkgIT0tMSkge1xuICAgICAgICAgICAgd2hpbGUgKHRoaXMuaSA8IHRoaXMuZWxlbWVudC5jaGlsZEVsZW1lbnRDb3VudClcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy5lbGVtZW50Lmxhc3RDaGlsZCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy4kZ2V0VG9wID0gZnVuY3Rpb24ocm93LCBsYXllckNvbmZpZykge1xuICAgICAgICByZXR1cm4gKHJvdyAtIGxheWVyQ29uZmlnLmZpcnN0Um93U2NyZWVuKSAqIGxheWVyQ29uZmlnLmxpbmVIZWlnaHQ7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGdldEJvcmRlckNsYXNzKHRsLCB0ciwgYnIsIGJsKSB7XG4gICAgICAgIHJldHVybiAodGwgPyAxIDogMCkgfCAodHIgPyAyIDogMCkgfCAoYnIgPyA0IDogMCkgfCAoYmwgPyA4IDogMCk7XG4gICAgfVxuICAgIHRoaXMuZHJhd1RleHRNYXJrZXIgPSBmdW5jdGlvbihzdHJpbmdCdWlsZGVyLCByYW5nZSwgY2xhenosIGxheWVyQ29uZmlnLCBleHRyYVN0eWxlKSB7XG4gICAgICAgIHZhciBzZXNzaW9uID0gdGhpcy5zZXNzaW9uO1xuICAgICAgICB2YXIgc3RhcnQgPSByYW5nZS5zdGFydC5yb3c7XG4gICAgICAgIHZhciBlbmQgPSByYW5nZS5lbmQucm93O1xuICAgICAgICB2YXIgcm93ID0gc3RhcnQ7XG4gICAgICAgIHZhciBwcmV2ID0gMDsgXG4gICAgICAgIHZhciBjdXJyID0gMDtcbiAgICAgICAgdmFyIG5leHQgPSBzZXNzaW9uLmdldFNjcmVlbkxhc3RSb3dDb2x1bW4ocm93KTtcbiAgICAgICAgdmFyIGxpbmVSYW5nZSA9IG5ldyBSYW5nZShyb3csIHJhbmdlLnN0YXJ0LmNvbHVtbiwgcm93LCBjdXJyKTtcbiAgICAgICAgZm9yICg7IHJvdyA8PSBlbmQ7IHJvdysrKSB7XG4gICAgICAgICAgICBsaW5lUmFuZ2Uuc3RhcnQucm93ID0gbGluZVJhbmdlLmVuZC5yb3cgPSByb3c7XG4gICAgICAgICAgICBsaW5lUmFuZ2Uuc3RhcnQuY29sdW1uID0gcm93ID09IHN0YXJ0ID8gcmFuZ2Uuc3RhcnQuY29sdW1uIDogc2Vzc2lvbi5nZXRSb3dXcmFwSW5kZW50KHJvdyk7XG4gICAgICAgICAgICBsaW5lUmFuZ2UuZW5kLmNvbHVtbiA9IG5leHQ7XG4gICAgICAgICAgICBwcmV2ID0gY3VycjtcbiAgICAgICAgICAgIGN1cnIgPSBuZXh0O1xuICAgICAgICAgICAgbmV4dCA9IHJvdyArIDEgPCBlbmQgPyBzZXNzaW9uLmdldFNjcmVlbkxhc3RSb3dDb2x1bW4ocm93ICsgMSkgOiByb3cgPT0gZW5kID8gMCA6IHJhbmdlLmVuZC5jb2x1bW47XG4gICAgICAgICAgICB0aGlzLmRyYXdTaW5nbGVMaW5lTWFya2VyKHN0cmluZ0J1aWxkZXIsIGxpbmVSYW5nZSwgXG4gICAgICAgICAgICAgICAgY2xhenogKyAocm93ID09IHN0YXJ0ICA/IFwiIGFjZV9zdGFydFwiIDogXCJcIikgKyBcIiBhY2VfYnJcIlxuICAgICAgICAgICAgICAgICAgICArIGdldEJvcmRlckNsYXNzKHJvdyA9PSBzdGFydCB8fCByb3cgPT0gc3RhcnQgKyAxICYmIHJhbmdlLnN0YXJ0LmNvbHVtbiwgcHJldiA8IGN1cnIsIGN1cnIgPiBuZXh0LCByb3cgPT0gZW5kKSxcbiAgICAgICAgICAgICAgICBsYXllckNvbmZpZywgcm93ID09IGVuZCA/IDAgOiAxLCBleHRyYVN0eWxlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5kcmF3TXVsdGlMaW5lTWFya2VyID0gZnVuY3Rpb24oc3RyaW5nQnVpbGRlciwgcmFuZ2UsIGNsYXp6LCBjb25maWcsIGV4dHJhU3R5bGUpIHtcbiAgICAgICAgdmFyIHBhZGRpbmcgPSB0aGlzLiRwYWRkaW5nO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gY29uZmlnLmxpbmVIZWlnaHQ7XG4gICAgICAgIHZhciB0b3AgPSB0aGlzLiRnZXRUb3AocmFuZ2Uuc3RhcnQucm93LCBjb25maWcpO1xuICAgICAgICB2YXIgbGVmdCA9IHBhZGRpbmcgKyByYW5nZS5zdGFydC5jb2x1bW4gKiBjb25maWcuY2hhcmFjdGVyV2lkdGg7XG4gICAgICAgIGV4dHJhU3R5bGUgPSBleHRyYVN0eWxlIHx8IFwiXCI7XG5cbiAgICAgICAgaWYgKHRoaXMuc2Vzc2lvbi4kYmlkaUhhbmRsZXIuaXNCaWRpUm93KHJhbmdlLnN0YXJ0LnJvdykpIHtcbiAgICAgICAgICAgdmFyIHJhbmdlMSA9IHJhbmdlLmNsb25lKCk7XG4gICAgICAgICAgIHJhbmdlMS5lbmQucm93ID0gcmFuZ2UxLnN0YXJ0LnJvdztcbiAgICAgICAgICAgcmFuZ2UxLmVuZC5jb2x1bW4gPSB0aGlzLnNlc3Npb24uZ2V0TGluZShyYW5nZTEuc3RhcnQucm93KS5sZW5ndGg7XG4gICAgICAgICAgIHRoaXMuZHJhd0JpZGlTaW5nbGVMaW5lTWFya2VyKHN0cmluZ0J1aWxkZXIsIHJhbmdlMSwgY2xhenogKyBcIiBhY2VfYnIxIGFjZV9zdGFydFwiLCBjb25maWcsIG51bGwsIGV4dHJhU3R5bGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5lbHQoXG4gICAgICAgICAgICAgICAgY2xhenogKyBcIiBhY2VfYnIxIGFjZV9zdGFydFwiLFxuICAgICAgICAgICAgICAgIFwiaGVpZ2h0OlwiKyBoZWlnaHQrIFwicHg7XCIrIFwicmlnaHQ6MDtcIisgXCJ0b3A6XCIrdG9wKyBcInB4O2xlZnQ6XCIrIGxlZnQrIFwicHg7XCIgKyAoZXh0cmFTdHlsZSB8fCBcIlwiKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zZXNzaW9uLiRiaWRpSGFuZGxlci5pc0JpZGlSb3cocmFuZ2UuZW5kLnJvdykpIHtcbiAgICAgICAgICAgdmFyIHJhbmdlMSA9IHJhbmdlLmNsb25lKCk7XG4gICAgICAgICAgIHJhbmdlMS5zdGFydC5yb3cgPSByYW5nZTEuZW5kLnJvdztcbiAgICAgICAgICAgcmFuZ2UxLnN0YXJ0LmNvbHVtbiA9IDA7XG4gICAgICAgICAgIHRoaXMuZHJhd0JpZGlTaW5nbGVMaW5lTWFya2VyKHN0cmluZ0J1aWxkZXIsIHJhbmdlMSwgY2xhenogKyBcIiBhY2VfYnIxMlwiLCBjb25maWcsIG51bGwsIGV4dHJhU3R5bGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdG9wID0gdGhpcy4kZ2V0VG9wKHJhbmdlLmVuZC5yb3csIGNvbmZpZyk7XG4gICAgICAgICAgICB2YXIgd2lkdGggPSByYW5nZS5lbmQuY29sdW1uICogY29uZmlnLmNoYXJhY3RlcldpZHRoO1xuXG4gICAgICAgICAgICB0aGlzLmVsdChcbiAgICAgICAgICAgICAgICBjbGF6eiArIFwiIGFjZV9icjEyXCIsXG4gICAgICAgICAgICAgICAgXCJoZWlnaHQ6XCIrIGhlaWdodCsgXCJweDtcIitcbiAgICAgICAgICAgICAgICBcIndpZHRoOlwiKyB3aWR0aCsgXCJweDtcIitcbiAgICAgICAgICAgICAgICBcInRvcDpcIisgdG9wKyBcInB4O1wiK1xuICAgICAgICAgICAgICAgIFwibGVmdDpcIisgcGFkZGluZysgXCJweDtcIisgKGV4dHJhU3R5bGUgfHwgXCJcIilcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaGVpZ2h0ID0gKHJhbmdlLmVuZC5yb3cgLSByYW5nZS5zdGFydC5yb3cgLSAxKSAqIGNvbmZpZy5saW5lSGVpZ2h0O1xuICAgICAgICBpZiAoaGVpZ2h0IDw9IDApXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRvcCA9IHRoaXMuJGdldFRvcChyYW5nZS5zdGFydC5yb3cgKyAxLCBjb25maWcpO1xuICAgICAgICBcbiAgICAgICAgdmFyIHJhZGl1c0NsYXNzID0gKHJhbmdlLnN0YXJ0LmNvbHVtbiA/IDEgOiAwKSB8IChyYW5nZS5lbmQuY29sdW1uID8gMCA6IDgpO1xuXG4gICAgICAgIHRoaXMuZWx0KFxuICAgICAgICAgICAgY2xhenogKyAocmFkaXVzQ2xhc3MgPyBcIiBhY2VfYnJcIiArIHJhZGl1c0NsYXNzIDogXCJcIiksXG4gICAgICAgICAgICBcImhlaWdodDpcIisgaGVpZ2h0KyBcInB4O1wiK1xuICAgICAgICAgICAgXCJyaWdodDowO1wiK1xuICAgICAgICAgICAgXCJ0b3A6XCIrIHRvcCsgXCJweDtcIitcbiAgICAgICAgICAgIFwibGVmdDpcIisgcGFkZGluZysgXCJweDtcIisgKGV4dHJhU3R5bGUgfHwgXCJcIilcbiAgICAgICAgKTtcbiAgICB9O1xuICAgIHRoaXMuZHJhd1NpbmdsZUxpbmVNYXJrZXIgPSBmdW5jdGlvbihzdHJpbmdCdWlsZGVyLCByYW5nZSwgY2xhenosIGNvbmZpZywgZXh0cmFMZW5ndGgsIGV4dHJhU3R5bGUpIHtcbiAgICAgICAgaWYgKHRoaXMuc2Vzc2lvbi4kYmlkaUhhbmRsZXIuaXNCaWRpUm93KHJhbmdlLnN0YXJ0LnJvdykpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kcmF3QmlkaVNpbmdsZUxpbmVNYXJrZXIoc3RyaW5nQnVpbGRlciwgcmFuZ2UsIGNsYXp6LCBjb25maWcsIGV4dHJhTGVuZ3RoLCBleHRyYVN0eWxlKTtcbiAgICAgICAgdmFyIGhlaWdodCA9IGNvbmZpZy5saW5lSGVpZ2h0O1xuICAgICAgICB2YXIgd2lkdGggPSAocmFuZ2UuZW5kLmNvbHVtbiArIChleHRyYUxlbmd0aCB8fCAwKSAtIHJhbmdlLnN0YXJ0LmNvbHVtbikgKiBjb25maWcuY2hhcmFjdGVyV2lkdGg7XG5cbiAgICAgICAgdmFyIHRvcCA9IHRoaXMuJGdldFRvcChyYW5nZS5zdGFydC5yb3csIGNvbmZpZyk7XG4gICAgICAgIHZhciBsZWZ0ID0gdGhpcy4kcGFkZGluZyArIHJhbmdlLnN0YXJ0LmNvbHVtbiAqIGNvbmZpZy5jaGFyYWN0ZXJXaWR0aDtcblxuICAgICAgICB0aGlzLmVsdChcbiAgICAgICAgICAgIGNsYXp6LFxuICAgICAgICAgICAgXCJoZWlnaHQ6XCIrIGhlaWdodCsgXCJweDtcIitcbiAgICAgICAgICAgIFwid2lkdGg6XCIrIHdpZHRoKyBcInB4O1wiK1xuICAgICAgICAgICAgXCJ0b3A6XCIrIHRvcCsgXCJweDtcIitcbiAgICAgICAgICAgIFwibGVmdDpcIisgbGVmdCsgXCJweDtcIisgKGV4dHJhU3R5bGUgfHwgXCJcIilcbiAgICAgICAgKTtcbiAgICB9O1xuICAgIHRoaXMuZHJhd0JpZGlTaW5nbGVMaW5lTWFya2VyID0gZnVuY3Rpb24oc3RyaW5nQnVpbGRlciwgcmFuZ2UsIGNsYXp6LCBjb25maWcsIGV4dHJhTGVuZ3RoLCBleHRyYVN0eWxlKSB7XG4gICAgICAgIHZhciBoZWlnaHQgPSBjb25maWcubGluZUhlaWdodCwgdG9wID0gdGhpcy4kZ2V0VG9wKHJhbmdlLnN0YXJ0LnJvdywgY29uZmlnKSwgcGFkZGluZyA9IHRoaXMuJHBhZGRpbmc7XG4gICAgICAgIHZhciBzZWxlY3Rpb25zID0gdGhpcy5zZXNzaW9uLiRiaWRpSGFuZGxlci5nZXRTZWxlY3Rpb25zKHJhbmdlLnN0YXJ0LmNvbHVtbiwgcmFuZ2UuZW5kLmNvbHVtbik7XG5cbiAgICAgICAgc2VsZWN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKHNlbGVjdGlvbikge1xuICAgICAgICAgICAgdGhpcy5lbHQoXG4gICAgICAgICAgICAgICAgY2xhenosXG4gICAgICAgICAgICAgICAgXCJoZWlnaHQ6XCIgKyBoZWlnaHQgKyBcInB4O1wiICtcbiAgICAgICAgICAgICAgICBcIndpZHRoOlwiICsgc2VsZWN0aW9uLndpZHRoICsgKGV4dHJhTGVuZ3RoIHx8IDApICsgXCJweDtcIiArXG4gICAgICAgICAgICAgICAgXCJ0b3A6XCIgKyB0b3AgKyBcInB4O1wiICtcbiAgICAgICAgICAgICAgICBcImxlZnQ6XCIgKyAocGFkZGluZyArIHNlbGVjdGlvbi5sZWZ0KSArIFwicHg7XCIgKyAoZXh0cmFTdHlsZSB8fCBcIlwiKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgfTtcblxuICAgIHRoaXMuZHJhd0Z1bGxMaW5lTWFya2VyID0gZnVuY3Rpb24oc3RyaW5nQnVpbGRlciwgcmFuZ2UsIGNsYXp6LCBjb25maWcsIGV4dHJhU3R5bGUpIHtcbiAgICAgICAgdmFyIHRvcCA9IHRoaXMuJGdldFRvcChyYW5nZS5zdGFydC5yb3csIGNvbmZpZyk7XG4gICAgICAgIHZhciBoZWlnaHQgPSBjb25maWcubGluZUhlaWdodDtcbiAgICAgICAgaWYgKHJhbmdlLnN0YXJ0LnJvdyAhPSByYW5nZS5lbmQucm93KVxuICAgICAgICAgICAgaGVpZ2h0ICs9IHRoaXMuJGdldFRvcChyYW5nZS5lbmQucm93LCBjb25maWcpIC0gdG9wO1xuXG4gICAgICAgIHRoaXMuZWx0KFxuICAgICAgICAgICAgY2xhenosXG4gICAgICAgICAgICBcImhlaWdodDpcIisgaGVpZ2h0KyBcInB4O1wiK1xuICAgICAgICAgICAgXCJ0b3A6XCIrIHRvcCsgXCJweDtcIitcbiAgICAgICAgICAgIFwibGVmdDowO3JpZ2h0OjA7XCIrIChleHRyYVN0eWxlIHx8IFwiXCIpXG4gICAgICAgICk7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLmRyYXdTY3JlZW5MaW5lTWFya2VyID0gZnVuY3Rpb24oc3RyaW5nQnVpbGRlciwgcmFuZ2UsIGNsYXp6LCBjb25maWcsIGV4dHJhU3R5bGUpIHtcbiAgICAgICAgdmFyIHRvcCA9IHRoaXMuJGdldFRvcChyYW5nZS5zdGFydC5yb3csIGNvbmZpZyk7XG4gICAgICAgIHZhciBoZWlnaHQgPSBjb25maWcubGluZUhlaWdodDtcblxuICAgICAgICB0aGlzLmVsdChcbiAgICAgICAgICAgIGNsYXp6LFxuICAgICAgICAgICAgXCJoZWlnaHQ6XCIrIGhlaWdodCsgXCJweDtcIitcbiAgICAgICAgICAgIFwidG9wOlwiKyB0b3ArIFwicHg7XCIrXG4gICAgICAgICAgICBcImxlZnQ6MDtyaWdodDowO1wiKyAoZXh0cmFTdHlsZSB8fCBcIlwiKVxuICAgICAgICApO1xuICAgIH07XG5cbn0pLmNhbGwoTWFya2VyLnByb3RvdHlwZSk7XG5cbmV4cG9ydHMuTWFya2VyID0gTWFya2VyO1xuXG59KTtcblxuYWNlLmRlZmluZShcImFjZS9sYXllci90ZXh0XCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL29vcFwiLFwiYWNlL2xpYi9kb21cIixcImFjZS9saWIvbGFuZ1wiLFwiYWNlL2xheWVyL2xpbmVzXCIsXCJhY2UvbGliL2V2ZW50X2VtaXR0ZXJcIl0sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBvb3AgPSByZXF1aXJlKFwiLi4vbGliL29vcFwiKTtcbnZhciBkb20gPSByZXF1aXJlKFwiLi4vbGliL2RvbVwiKTtcbnZhciBsYW5nID0gcmVxdWlyZShcIi4uL2xpYi9sYW5nXCIpO1xudmFyIExpbmVzID0gcmVxdWlyZShcIi4vbGluZXNcIikuTGluZXM7XG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZShcIi4uL2xpYi9ldmVudF9lbWl0dGVyXCIpLkV2ZW50RW1pdHRlcjtcblxudmFyIFRleHQgPSBmdW5jdGlvbihwYXJlbnRFbCkge1xuICAgIHRoaXMuZG9tID0gZG9tOyBcbiAgICB0aGlzLmVsZW1lbnQgPSB0aGlzLmRvbS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHRoaXMuZWxlbWVudC5jbGFzc05hbWUgPSBcImFjZV9sYXllciBhY2VfdGV4dC1sYXllclwiO1xuICAgIHBhcmVudEVsLmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudCk7XG4gICAgdGhpcy4kdXBkYXRlRW9sQ2hhciA9IHRoaXMuJHVwZGF0ZUVvbENoYXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLiRsaW5lcyA9IG5ldyBMaW5lcyh0aGlzLmVsZW1lbnQpO1xufTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgb29wLmltcGxlbWVudCh0aGlzLCBFdmVudEVtaXR0ZXIpO1xuXG4gICAgdGhpcy5FT0ZfQ0hBUiA9IFwiXFx4QjZcIjtcbiAgICB0aGlzLkVPTF9DSEFSX0xGID0gXCJcXHhBQ1wiO1xuICAgIHRoaXMuRU9MX0NIQVJfQ1JMRiA9IFwiXFx4YTRcIjtcbiAgICB0aGlzLkVPTF9DSEFSID0gdGhpcy5FT0xfQ0hBUl9MRjtcbiAgICB0aGlzLlRBQl9DSEFSID0gXCJcXHUyMDE0XCI7IC8vXCJcXHUyMUU1XCI7XG4gICAgdGhpcy5TUEFDRV9DSEFSID0gXCJcXHhCN1wiO1xuICAgIHRoaXMuJHBhZGRpbmcgPSAwO1xuICAgIHRoaXMuTUFYX0xJTkVfTEVOR1RIID0gMTAwMDA7XG5cbiAgICB0aGlzLiR1cGRhdGVFb2xDaGFyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBkb2MgPSB0aGlzLnNlc3Npb24uZG9jO1xuICAgICAgICB2YXIgdW5peE1vZGUgPSBkb2MuZ2V0TmV3TGluZUNoYXJhY3RlcigpID09IFwiXFxuXCIgJiYgZG9jLmdldE5ld0xpbmVNb2RlKCkgIT0gXCJ3aW5kb3dzXCI7XG4gICAgICAgIHZhciBFT0xfQ0hBUiA9IHVuaXhNb2RlID8gdGhpcy5FT0xfQ0hBUl9MRiA6IHRoaXMuRU9MX0NIQVJfQ1JMRjtcbiAgICAgICAgaWYgKHRoaXMuRU9MX0NIQVIgIT0gRU9MX0NIQVIpIHtcbiAgICAgICAgICAgIHRoaXMuRU9MX0NIQVIgPSBFT0xfQ0hBUjtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuc2V0UGFkZGluZyA9IGZ1bmN0aW9uKHBhZGRpbmcpIHtcbiAgICAgICAgdGhpcy4kcGFkZGluZyA9IHBhZGRpbmc7XG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5tYXJnaW4gPSBcIjAgXCIgKyBwYWRkaW5nICsgXCJweFwiO1xuICAgIH07XG5cbiAgICB0aGlzLmdldExpbmVIZWlnaHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJGZvbnRNZXRyaWNzLiRjaGFyYWN0ZXJTaXplLmhlaWdodCB8fCAwO1xuICAgIH07XG5cbiAgICB0aGlzLmdldENoYXJhY3RlcldpZHRoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRmb250TWV0cmljcy4kY2hhcmFjdGVyU2l6ZS53aWR0aCB8fCAwO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy4kc2V0Rm9udE1ldHJpY3MgPSBmdW5jdGlvbihtZWFzdXJlKSB7XG4gICAgICAgIHRoaXMuJGZvbnRNZXRyaWNzID0gbWVhc3VyZTtcbiAgICAgICAgdGhpcy4kZm9udE1ldHJpY3Mub24oXCJjaGFuZ2VDaGFyYWN0ZXJTaXplXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3NpZ25hbChcImNoYW5nZUNoYXJhY3RlclNpemVcIiwgZSk7XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuJHBvbGxTaXplQ2hhbmdlcygpO1xuICAgIH07XG5cbiAgICB0aGlzLmNoZWNrRm9yU2l6ZUNoYW5nZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kZm9udE1ldHJpY3MuY2hlY2tGb3JTaXplQ2hhbmdlcygpO1xuICAgIH07XG4gICAgdGhpcy4kcG9sbFNpemVDaGFuZ2VzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRwb2xsU2l6ZUNoYW5nZXNUaW1lciA9IHRoaXMuJGZvbnRNZXRyaWNzLiRwb2xsU2l6ZUNoYW5nZXMoKTtcbiAgICB9O1xuICAgIHRoaXMuc2V0U2Vzc2lvbiA9IGZ1bmN0aW9uKHNlc3Npb24pIHtcbiAgICAgICAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbiAgICAgICAgaWYgKHNlc3Npb24pXG4gICAgICAgICAgICB0aGlzLiRjb21wdXRlVGFiU3RyaW5nKCk7XG4gICAgfTtcblxuICAgIHRoaXMuc2hvd0ludmlzaWJsZXMgPSBmYWxzZTtcbiAgICB0aGlzLnNob3dTcGFjZXMgPSBmYWxzZTtcbiAgICB0aGlzLnNob3dUYWJzID0gZmFsc2U7XG4gICAgdGhpcy5zaG93RU9MID0gZmFsc2U7XG4gICAgdGhpcy5zZXRTaG93SW52aXNpYmxlcyA9IGZ1bmN0aW9uKHNob3dJbnZpc2libGVzKSB7XG4gICAgICAgIGlmICh0aGlzLnNob3dJbnZpc2libGVzID09IHNob3dJbnZpc2libGVzKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIHRoaXMuc2hvd0ludmlzaWJsZXMgPSBzaG93SW52aXNpYmxlcztcbiAgICAgICAgaWYgKHR5cGVvZiBzaG93SW52aXNpYmxlcyA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICB0aGlzLnNob3dTcGFjZXMgPSAvdGFiL2kudGVzdChzaG93SW52aXNpYmxlcyk7XG4gICAgICAgICAgICB0aGlzLnNob3dUYWJzID0gL3NwYWNlL2kudGVzdChzaG93SW52aXNpYmxlcyk7XG4gICAgICAgICAgICB0aGlzLnNob3dFT0wgPSAvZW9sL2kudGVzdChzaG93SW52aXNpYmxlcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNob3dTcGFjZXMgPSB0aGlzLnNob3dUYWJzID0gdGhpcy5zaG93RU9MID0gc2hvd0ludmlzaWJsZXM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4kY29tcHV0ZVRhYlN0cmluZygpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgdGhpcy5kaXNwbGF5SW5kZW50R3VpZGVzID0gdHJ1ZTtcbiAgICB0aGlzLnNldERpc3BsYXlJbmRlbnRHdWlkZXMgPSBmdW5jdGlvbihkaXNwbGF5KSB7XG4gICAgICAgIGlmICh0aGlzLmRpc3BsYXlJbmRlbnRHdWlkZXMgPT0gZGlzcGxheSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICB0aGlzLmRpc3BsYXlJbmRlbnRHdWlkZXMgPSBkaXNwbGF5O1xuICAgICAgICB0aGlzLiRjb21wdXRlVGFiU3RyaW5nKCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICB0aGlzLiR0YWJTdHJpbmdzID0gW107XG4gICAgdGhpcy5vbkNoYW5nZVRhYlNpemUgPVxuICAgIHRoaXMuJGNvbXB1dGVUYWJTdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHRhYlNpemUgPSB0aGlzLnNlc3Npb24uZ2V0VGFiU2l6ZSgpO1xuICAgICAgICB0aGlzLnRhYlNpemUgPSB0YWJTaXplO1xuICAgICAgICB2YXIgdGFiU3RyID0gdGhpcy4kdGFiU3RyaW5ncyA9IFswXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCB0YWJTaXplICsgMTsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zaG93VGFicykge1xuICAgICAgICAgICAgICAgIHZhciBzcGFuID0gdGhpcy5kb20uY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgICAgICAgICAgc3Bhbi5jbGFzc05hbWUgPSBcImFjZV9pbnZpc2libGUgYWNlX2ludmlzaWJsZV90YWJcIjtcbiAgICAgICAgICAgICAgICBzcGFuLnRleHRDb250ZW50ID0gbGFuZy5zdHJpbmdSZXBlYXQodGhpcy5UQUJfQ0hBUiwgaSk7XG4gICAgICAgICAgICAgICAgdGFiU3RyLnB1c2goc3Bhbik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRhYlN0ci5wdXNoKHRoaXMuZG9tLmNyZWF0ZVRleHROb2RlKGxhbmcuc3RyaW5nUmVwZWF0KFwiIFwiLCBpKSwgdGhpcy5lbGVtZW50KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZGlzcGxheUluZGVudEd1aWRlcykge1xuICAgICAgICAgICAgdGhpcy4kaW5kZW50R3VpZGVSZSA9ICAvXFxzXFxTfCBcXHR8XFx0IHxcXHMkLztcbiAgICAgICAgICAgIHZhciBjbGFzc05hbWUgPSBcImFjZV9pbmRlbnQtZ3VpZGVcIjtcbiAgICAgICAgICAgIHZhciBzcGFjZUNsYXNzID0gdGhpcy5zaG93U3BhY2VzID8gXCIgYWNlX2ludmlzaWJsZSBhY2VfaW52aXNpYmxlX3NwYWNlXCIgOiBcIlwiO1xuICAgICAgICAgICAgdmFyIHNwYWNlQ29udGVudCA9IHRoaXMuc2hvd1NwYWNlc1xuICAgICAgICAgICAgICAgID8gbGFuZy5zdHJpbmdSZXBlYXQodGhpcy5TUEFDRV9DSEFSLCB0aGlzLnRhYlNpemUpXG4gICAgICAgICAgICAgICAgOiBsYW5nLnN0cmluZ1JlcGVhdChcIiBcIiwgdGhpcy50YWJTaXplKTtcblxuICAgICAgICAgICAgdmFyIHRhYkNsYXNzID0gdGhpcy5zaG93VGFicyA/IFwiIGFjZV9pbnZpc2libGUgYWNlX2ludmlzaWJsZV90YWJcIiA6IFwiXCI7XG4gICAgICAgICAgICB2YXIgdGFiQ29udGVudCA9IHRoaXMuc2hvd1RhYnMgXG4gICAgICAgICAgICAgICAgPyBsYW5nLnN0cmluZ1JlcGVhdCh0aGlzLlRBQl9DSEFSLCB0aGlzLnRhYlNpemUpXG4gICAgICAgICAgICAgICAgOiBzcGFjZUNvbnRlbnQ7XG5cbiAgICAgICAgICAgIHZhciBzcGFuID0gdGhpcy5kb20uY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgICAgICBzcGFuLmNsYXNzTmFtZSA9IGNsYXNzTmFtZSArIHNwYWNlQ2xhc3M7XG4gICAgICAgICAgICBzcGFuLnRleHRDb250ZW50ID0gc3BhY2VDb250ZW50O1xuICAgICAgICAgICAgdGhpcy4kdGFiU3RyaW5nc1tcIiBcIl0gPSBzcGFuO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB2YXIgc3BhbiA9IHRoaXMuZG9tLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICAgICAgc3Bhbi5jbGFzc05hbWUgPSBjbGFzc05hbWUgKyB0YWJDbGFzcztcbiAgICAgICAgICAgIHNwYW4udGV4dENvbnRlbnQgPSB0YWJDb250ZW50O1xuICAgICAgICAgICAgdGhpcy4kdGFiU3RyaW5nc1tcIlxcdFwiXSA9IHNwYW47XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy51cGRhdGVMaW5lcyA9IGZ1bmN0aW9uKGNvbmZpZywgZmlyc3RSb3csIGxhc3RSb3cpIHtcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLmxhc3RSb3cgIT0gY29uZmlnLmxhc3RSb3cgfHxcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLmZpcnN0Um93ICE9IGNvbmZpZy5maXJzdFJvdykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlKGNvbmZpZyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuXG4gICAgICAgIHZhciBmaXJzdCA9IE1hdGgubWF4KGZpcnN0Um93LCBjb25maWcuZmlyc3RSb3cpO1xuICAgICAgICB2YXIgbGFzdCA9IE1hdGgubWluKGxhc3RSb3csIGNvbmZpZy5sYXN0Um93KTtcblxuICAgICAgICB2YXIgbGluZUVsZW1lbnRzID0gdGhpcy5lbGVtZW50LmNoaWxkTm9kZXM7XG4gICAgICAgIHZhciBsaW5lRWxlbWVudHNJZHggPSAwO1xuXG4gICAgICAgIGZvciAodmFyIHJvdyA9IGNvbmZpZy5maXJzdFJvdzsgcm93IDwgZmlyc3Q7IHJvdysrKSB7XG4gICAgICAgICAgICB2YXIgZm9sZExpbmUgPSB0aGlzLnNlc3Npb24uZ2V0Rm9sZExpbmUocm93KTtcbiAgICAgICAgICAgIGlmIChmb2xkTGluZSkge1xuICAgICAgICAgICAgICAgIGlmIChmb2xkTGluZS5jb250YWluc1JvdyhmaXJzdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZmlyc3QgPSBmb2xkTGluZS5zdGFydC5yb3c7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJvdyA9IGZvbGRMaW5lLmVuZC5yb3c7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGluZUVsZW1lbnRzSWR4ICsrO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGhlaWdodENoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIHJvdyA9IGZpcnN0O1xuICAgICAgICB2YXIgZm9sZExpbmUgPSB0aGlzLnNlc3Npb24uZ2V0TmV4dEZvbGRMaW5lKHJvdyk7XG4gICAgICAgIHZhciBmb2xkU3RhcnQgPSBmb2xkTGluZSA/IGZvbGRMaW5lLnN0YXJ0LnJvdyA6IEluZmluaXR5O1xuXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBpZiAocm93ID4gZm9sZFN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgcm93ID0gZm9sZExpbmUuZW5kLnJvdysxO1xuICAgICAgICAgICAgICAgIGZvbGRMaW5lID0gdGhpcy5zZXNzaW9uLmdldE5leHRGb2xkTGluZShyb3csIGZvbGRMaW5lKTtcbiAgICAgICAgICAgICAgICBmb2xkU3RhcnQgPSBmb2xkTGluZSA/IGZvbGRMaW5lLnN0YXJ0LnJvdyA6SW5maW5pdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocm93ID4gbGFzdClcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgdmFyIGxpbmVFbGVtZW50ID0gbGluZUVsZW1lbnRzW2xpbmVFbGVtZW50c0lkeCsrXTtcbiAgICAgICAgICAgIGlmIChsaW5lRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZG9tLnJlbW92ZUNoaWxkcmVuKGxpbmVFbGVtZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLiRyZW5kZXJMaW5lKFxuICAgICAgICAgICAgICAgICAgICBsaW5lRWxlbWVudCwgcm93LCByb3cgPT0gZm9sZFN0YXJ0ID8gZm9sZExpbmUgOiBmYWxzZVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaGVpZ2h0Q2hhbmdlZClcbiAgICAgICAgICAgICAgICAgICAgbGluZUVsZW1lbnQuc3R5bGUudG9wID0gdGhpcy4kbGluZXMuY29tcHV0ZUxpbmVUb3Aocm93LCBjb25maWcsIHRoaXMuc2Vzc2lvbikgKyBcInB4XCI7XG5cbiAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0ID0gKGNvbmZpZy5saW5lSGVpZ2h0ICogdGhpcy5zZXNzaW9uLmdldFJvd0xlbmd0aChyb3cpKSArIFwicHhcIjtcbiAgICAgICAgICAgICAgICBpZiAobGluZUVsZW1lbnQuc3R5bGUuaGVpZ2h0ICE9IGhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICBoZWlnaHRDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgbGluZUVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJvdysrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoZWlnaHRDaGFuZ2VkKSB7XG4gICAgICAgICAgICB3aGlsZSAobGluZUVsZW1lbnRzSWR4IDwgdGhpcy4kbGluZXMuY2VsbHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNlbGwgPSB0aGlzLiRsaW5lcy5jZWxsc1tsaW5lRWxlbWVudHNJZHgrK107XG4gICAgICAgICAgICAgICAgY2VsbC5lbGVtZW50LnN0eWxlLnRvcCA9IHRoaXMuJGxpbmVzLmNvbXB1dGVMaW5lVG9wKGNlbGwucm93LCBjb25maWcsIHRoaXMuc2Vzc2lvbikgKyBcInB4XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5zY3JvbGxMaW5lcyA9IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgICAgICB2YXIgb2xkQ29uZmlnID0gdGhpcy5jb25maWc7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuXG4gICAgICAgIGlmICh0aGlzLiRsaW5lcy5wYWdlQ2hhbmdlZChvbGRDb25maWcsIGNvbmZpZykpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy51cGRhdGUoY29uZmlnKTtcbiAgICAgICAgICAgIFxuICAgICAgICB0aGlzLiRsaW5lcy5tb3ZlQ29udGFpbmVyKGNvbmZpZyk7XG4gICAgICAgIFxuICAgICAgICB2YXIgbGFzdFJvdyA9IGNvbmZpZy5sYXN0Um93O1xuICAgICAgICB2YXIgb2xkTGFzdFJvdyA9IG9sZENvbmZpZyA/IG9sZENvbmZpZy5sYXN0Um93IDogLTE7XG5cbiAgICAgICAgaWYgKCFvbGRDb25maWcgfHwgb2xkTGFzdFJvdyA8IGNvbmZpZy5maXJzdFJvdylcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZShjb25maWcpO1xuXG4gICAgICAgIGlmIChsYXN0Um93IDwgb2xkQ29uZmlnLmZpcnN0Um93KVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlKGNvbmZpZyk7XG5cbiAgICAgICAgaWYgKCFvbGRDb25maWcgfHwgb2xkQ29uZmlnLmxhc3RSb3cgPCBjb25maWcuZmlyc3RSb3cpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy51cGRhdGUoY29uZmlnKTtcblxuICAgICAgICBpZiAoY29uZmlnLmxhc3RSb3cgPCBvbGRDb25maWcuZmlyc3RSb3cpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy51cGRhdGUoY29uZmlnKTtcblxuICAgICAgICBpZiAob2xkQ29uZmlnLmZpcnN0Um93IDwgY29uZmlnLmZpcnN0Um93KVxuICAgICAgICAgICAgZm9yICh2YXIgcm93PXRoaXMuc2Vzc2lvbi5nZXRGb2xkZWRSb3dDb3VudChvbGRDb25maWcuZmlyc3RSb3csIGNvbmZpZy5maXJzdFJvdyAtIDEpOyByb3c+MDsgcm93LS0pXG4gICAgICAgICAgICAgICAgdGhpcy4kbGluZXMuc2hpZnQoKTtcblxuICAgICAgICBpZiAob2xkQ29uZmlnLmxhc3RSb3cgPiBjb25maWcubGFzdFJvdylcbiAgICAgICAgICAgIGZvciAodmFyIHJvdz10aGlzLnNlc3Npb24uZ2V0Rm9sZGVkUm93Q291bnQoY29uZmlnLmxhc3RSb3cgKyAxLCBvbGRDb25maWcubGFzdFJvdyk7IHJvdz4wOyByb3ctLSlcbiAgICAgICAgICAgICAgICB0aGlzLiRsaW5lcy5wb3AoKTtcblxuICAgICAgICBpZiAoY29uZmlnLmZpcnN0Um93IDwgb2xkQ29uZmlnLmZpcnN0Um93KSB7XG4gICAgICAgICAgICB0aGlzLiRsaW5lcy51bnNoaWZ0KHRoaXMuJHJlbmRlckxpbmVzRnJhZ21lbnQoY29uZmlnLCBjb25maWcuZmlyc3RSb3csIG9sZENvbmZpZy5maXJzdFJvdyAtIDEpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb25maWcubGFzdFJvdyA+IG9sZENvbmZpZy5sYXN0Um93KSB7XG4gICAgICAgICAgICB0aGlzLiRsaW5lcy5wdXNoKHRoaXMuJHJlbmRlckxpbmVzRnJhZ21lbnQoY29uZmlnLCBvbGRDb25maWcubGFzdFJvdyArIDEsIGNvbmZpZy5sYXN0Um93KSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy4kcmVuZGVyTGluZXNGcmFnbWVudCA9IGZ1bmN0aW9uKGNvbmZpZywgZmlyc3RSb3csIGxhc3RSb3cpIHtcbiAgICAgICAgdmFyIGZyYWdtZW50ID0gW107XG4gICAgICAgIHZhciByb3cgPSBmaXJzdFJvdztcbiAgICAgICAgdmFyIGZvbGRMaW5lID0gdGhpcy5zZXNzaW9uLmdldE5leHRGb2xkTGluZShyb3cpO1xuICAgICAgICB2YXIgZm9sZFN0YXJ0ID0gZm9sZExpbmUgPyBmb2xkTGluZS5zdGFydC5yb3cgOiBJbmZpbml0eTtcblxuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgaWYgKHJvdyA+IGZvbGRTdGFydCkge1xuICAgICAgICAgICAgICAgIHJvdyA9IGZvbGRMaW5lLmVuZC5yb3crMTtcbiAgICAgICAgICAgICAgICBmb2xkTGluZSA9IHRoaXMuc2Vzc2lvbi5nZXROZXh0Rm9sZExpbmUocm93LCBmb2xkTGluZSk7XG4gICAgICAgICAgICAgICAgZm9sZFN0YXJ0ID0gZm9sZExpbmUgPyBmb2xkTGluZS5zdGFydC5yb3cgOiBJbmZpbml0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyb3cgPiBsYXN0Um93KVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICB2YXIgbGluZSA9IHRoaXMuJGxpbmVzLmNyZWF0ZUNlbGwocm93LCBjb25maWcsIHRoaXMuc2Vzc2lvbik7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHZhciBsaW5lRWwgPSBsaW5lLmVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLmRvbS5yZW1vdmVDaGlsZHJlbihsaW5lRWwpO1xuICAgICAgICAgICAgZG9tLnNldFN0eWxlKGxpbmVFbC5zdHlsZSwgXCJoZWlnaHRcIiwgdGhpcy4kbGluZXMuY29tcHV0ZUxpbmVIZWlnaHQocm93LCBjb25maWcsIHRoaXMuc2Vzc2lvbikgKyBcInB4XCIpO1xuICAgICAgICAgICAgZG9tLnNldFN0eWxlKGxpbmVFbC5zdHlsZSwgXCJ0b3BcIiwgdGhpcy4kbGluZXMuY29tcHV0ZUxpbmVUb3Aocm93LCBjb25maWcsIHRoaXMuc2Vzc2lvbikgKyBcInB4XCIpO1xuICAgICAgICAgICAgdGhpcy4kcmVuZGVyTGluZShsaW5lRWwsIHJvdywgcm93ID09IGZvbGRTdGFydCA/IGZvbGRMaW5lIDogZmFsc2UpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy4kdXNlTGluZUdyb3VwcygpKSB7XG4gICAgICAgICAgICAgICAgbGluZUVsLmNsYXNzTmFtZSA9IFwiYWNlX2xpbmVfZ3JvdXBcIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGluZUVsLmNsYXNzTmFtZSA9IFwiYWNlX2xpbmVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZyYWdtZW50LnB1c2gobGluZSk7XG5cbiAgICAgICAgICAgIHJvdysrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmcmFnbWVudDtcbiAgICB9O1xuXG4gICAgdGhpcy51cGRhdGUgPSBmdW5jdGlvbihjb25maWcpIHtcbiAgICAgICAgdGhpcy4kbGluZXMubW92ZUNvbnRhaW5lcihjb25maWcpO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XG5cbiAgICAgICAgdmFyIGZpcnN0Um93ID0gY29uZmlnLmZpcnN0Um93O1xuICAgICAgICB2YXIgbGFzdFJvdyA9IGNvbmZpZy5sYXN0Um93O1xuXG4gICAgICAgIHZhciBsaW5lcyA9IHRoaXMuJGxpbmVzO1xuICAgICAgICB3aGlsZSAobGluZXMuZ2V0TGVuZ3RoKCkpXG4gICAgICAgICAgICBsaW5lcy5wb3AoKTtcbiAgICAgICAgICAgIFxuICAgICAgICBsaW5lcy5wdXNoKHRoaXMuJHJlbmRlckxpbmVzRnJhZ21lbnQoY29uZmlnLCBmaXJzdFJvdywgbGFzdFJvdykpO1xuICAgIH07XG5cbiAgICB0aGlzLiR0ZXh0VG9rZW4gPSB7XG4gICAgICAgIFwidGV4dFwiOiB0cnVlLFxuICAgICAgICBcInJwYXJlblwiOiB0cnVlLFxuICAgICAgICBcImxwYXJlblwiOiB0cnVlXG4gICAgfTtcblxuICAgIHRoaXMuJHJlbmRlclRva2VuID0gZnVuY3Rpb24ocGFyZW50LCBzY3JlZW5Db2x1bW4sIHRva2VuLCB2YWx1ZSkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciByZSA9IC8oXFx0KXwoICspfChbXFx4MDAtXFx4MWZcXHg4MC1cXHhhMFxceGFkXFx1MTY4MFxcdTE4MEVcXHUyMDAwLVxcdTIwMGZcXHUyMDI4XFx1MjAyOVxcdTIwMkZcXHUyMDVGXFx1RkVGRlxcdUZGRjktXFx1RkZGQ1xcdTIwNjZcXHUyMDY3XFx1MjA2OFxcdTIwMkFcXHUyMDJCXFx1MjAyRFxcdTIwMkVcXHUyMDJDXFx1MjA2OV0rKXwoXFx1MzAwMCl8KFtcXHUxMTAwLVxcdTExNUZcXHUxMUEzLVxcdTExQTdcXHUxMUZBLVxcdTExRkZcXHUyMzI5LVxcdTIzMkFcXHUyRTgwLVxcdTJFOTlcXHUyRTlCLVxcdTJFRjNcXHUyRjAwLVxcdTJGRDVcXHUyRkYwLVxcdTJGRkJcXHUzMDAxLVxcdTMwM0VcXHUzMDQxLVxcdTMwOTZcXHUzMDk5LVxcdTMwRkZcXHUzMTA1LVxcdTMxMkRcXHUzMTMxLVxcdTMxOEVcXHUzMTkwLVxcdTMxQkFcXHUzMUMwLVxcdTMxRTNcXHUzMUYwLVxcdTMyMUVcXHUzMjIwLVxcdTMyNDdcXHUzMjUwLVxcdTMyRkVcXHUzMzAwLVxcdTREQkZcXHU0RTAwLVxcdUE0OENcXHVBNDkwLVxcdUE0QzZcXHVBOTYwLVxcdUE5N0NcXHVBQzAwLVxcdUQ3QTNcXHVEN0IwLVxcdUQ3QzZcXHVEN0NCLVxcdUQ3RkJcXHVGOTAwLVxcdUZBRkZcXHVGRTEwLVxcdUZFMTlcXHVGRTMwLVxcdUZFNTJcXHVGRTU0LVxcdUZFNjZcXHVGRTY4LVxcdUZFNkJcXHVGRjAxLVxcdUZGNjBcXHVGRkUwLVxcdUZGRTZdfFtcXHVEODAwLVxcdURCRkZdW1xcdURDMDAtXFx1REZGRl0pL2c7XG4gICAgICAgIFxuICAgICAgICB2YXIgdmFsdWVGcmFnbWVudCA9IHRoaXMuZG9tLmNyZWF0ZUZyYWdtZW50KHRoaXMuZWxlbWVudCk7XG5cbiAgICAgICAgdmFyIG07XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgd2hpbGUgKG0gPSByZS5leGVjKHZhbHVlKSkge1xuICAgICAgICAgICAgdmFyIHRhYiA9IG1bMV07XG4gICAgICAgICAgICB2YXIgc2ltcGxlU3BhY2UgPSBtWzJdO1xuICAgICAgICAgICAgdmFyIGNvbnRyb2xDaGFyYWN0ZXIgPSBtWzNdO1xuICAgICAgICAgICAgdmFyIGNqa1NwYWNlID0gbVs0XTtcbiAgICAgICAgICAgIHZhciBjamsgPSBtWzVdO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIXNlbGYuc2hvd1NwYWNlcyAmJiBzaW1wbGVTcGFjZSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgdmFyIGJlZm9yZSA9IGkgIT0gbS5pbmRleCA/IHZhbHVlLnNsaWNlKGksIG0uaW5kZXgpIDogXCJcIjtcblxuICAgICAgICAgICAgaSA9IG0uaW5kZXggKyBtWzBdLmxlbmd0aDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGJlZm9yZSkge1xuICAgICAgICAgICAgICAgIHZhbHVlRnJhZ21lbnQuYXBwZW5kQ2hpbGQodGhpcy5kb20uY3JlYXRlVGV4dE5vZGUoYmVmb3JlLCB0aGlzLmVsZW1lbnQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICh0YWIpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGFiU2l6ZSA9IHNlbGYuc2Vzc2lvbi5nZXRTY3JlZW5UYWJTaXplKHNjcmVlbkNvbHVtbiArIG0uaW5kZXgpO1xuICAgICAgICAgICAgICAgIHZhbHVlRnJhZ21lbnQuYXBwZW5kQ2hpbGQoc2VsZi4kdGFiU3RyaW5nc1t0YWJTaXplXS5jbG9uZU5vZGUodHJ1ZSkpO1xuICAgICAgICAgICAgICAgIHNjcmVlbkNvbHVtbiArPSB0YWJTaXplIC0gMTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2ltcGxlU3BhY2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5zaG93U3BhY2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzcGFuID0gdGhpcy5kb20uY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4uY2xhc3NOYW1lID0gXCJhY2VfaW52aXNpYmxlIGFjZV9pbnZpc2libGVfc3BhY2VcIjtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi50ZXh0Q29udGVudCA9IGxhbmcuc3RyaW5nUmVwZWF0KHNlbGYuU1BBQ0VfQ0hBUiwgc2ltcGxlU3BhY2UubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVGcmFnbWVudC5hcHBlbmRDaGlsZChzcGFuKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZUZyYWdtZW50LmFwcGVuZENoaWxkKHRoaXMuY29tLmNyZWF0ZVRleHROb2RlKHNpbXBsZVNwYWNlLCB0aGlzLmVsZW1lbnQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvbnRyb2xDaGFyYWN0ZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3BhbiA9IHRoaXMuZG9tLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICAgICAgICAgIHNwYW4uY2xhc3NOYW1lID0gXCJhY2VfaW52aXNpYmxlIGFjZV9pbnZpc2libGVfc3BhY2UgYWNlX2ludmFsaWRcIjtcbiAgICAgICAgICAgICAgICBzcGFuLnRleHRDb250ZW50ID0gbGFuZy5zdHJpbmdSZXBlYXQoc2VsZi5TUEFDRV9DSEFSLCBjb250cm9sQ2hhcmFjdGVyLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgdmFsdWVGcmFnbWVudC5hcHBlbmRDaGlsZChzcGFuKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2prU3BhY2UpIHtcbiAgICAgICAgICAgICAgICBzY3JlZW5Db2x1bW4gKz0gMTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB2YXIgc3BhbiA9IHRoaXMuZG9tLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICAgICAgICAgIHNwYW4uc3R5bGUud2lkdGggPSAoc2VsZi5jb25maWcuY2hhcmFjdGVyV2lkdGggKiAyKSArIFwicHhcIjtcbiAgICAgICAgICAgICAgICBzcGFuLmNsYXNzTmFtZSA9IHNlbGYuc2hvd1NwYWNlcyA/IFwiYWNlX2NqayBhY2VfaW52aXNpYmxlIGFjZV9pbnZpc2libGVfc3BhY2VcIiA6IFwiYWNlX2Nqa1wiO1xuICAgICAgICAgICAgICAgIHNwYW4udGV4dENvbnRlbnQgPSBzZWxmLnNob3dTcGFjZXMgPyBzZWxmLlNQQUNFX0NIQVIgOiBjamtTcGFjZTtcbiAgICAgICAgICAgICAgICB2YWx1ZUZyYWdtZW50LmFwcGVuZENoaWxkKHNwYW4pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjamspIHtcbiAgICAgICAgICAgICAgICBzY3JlZW5Db2x1bW4gKz0gMTtcbiAgICAgICAgICAgICAgICB2YXIgc3BhbiA9IHRoaXMuZG9tLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICAgICAgICAgIHNwYW4uc3R5bGUud2lkdGggPSAoc2VsZi5jb25maWcuY2hhcmFjdGVyV2lkdGggKiAyKSArIFwicHhcIjtcbiAgICAgICAgICAgICAgICBzcGFuLmNsYXNzTmFtZSA9IFwiYWNlX2Nqa1wiO1xuICAgICAgICAgICAgICAgIHNwYW4udGV4dENvbnRlbnQgPSBjams7XG4gICAgICAgICAgICAgICAgdmFsdWVGcmFnbWVudC5hcHBlbmRDaGlsZChzcGFuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdmFsdWVGcmFnbWVudC5hcHBlbmRDaGlsZCh0aGlzLmRvbS5jcmVhdGVUZXh0Tm9kZShpID8gdmFsdWUuc2xpY2UoaSkgOiB2YWx1ZSwgdGhpcy5lbGVtZW50KSk7XG5cbiAgICAgICAgaWYgKCF0aGlzLiR0ZXh0VG9rZW5bdG9rZW4udHlwZV0pIHtcbiAgICAgICAgICAgIHZhciBjbGFzc2VzID0gXCJhY2VfXCIgKyB0b2tlbi50eXBlLnJlcGxhY2UoL1xcLi9nLCBcIiBhY2VfXCIpO1xuICAgICAgICAgICAgdmFyIHNwYW4gPSB0aGlzLmRvbS5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09IFwiZm9sZFwiKVxuICAgICAgICAgICAgICAgIHNwYW4uc3R5bGUud2lkdGggPSAodG9rZW4udmFsdWUubGVuZ3RoICogdGhpcy5jb25maWcuY2hhcmFjdGVyV2lkdGgpICsgXCJweFwiO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgc3Bhbi5jbGFzc05hbWUgPSBjbGFzc2VzO1xuICAgICAgICAgICAgc3Bhbi5hcHBlbmRDaGlsZCh2YWx1ZUZyYWdtZW50KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKHNwYW4pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKHZhbHVlRnJhZ21lbnQpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gc2NyZWVuQ29sdW1uICsgdmFsdWUubGVuZ3RoO1xuICAgIH07XG5cbiAgICB0aGlzLnJlbmRlckluZGVudEd1aWRlID0gZnVuY3Rpb24ocGFyZW50LCB2YWx1ZSwgbWF4KSB7XG4gICAgICAgIHZhciBjb2xzID0gdmFsdWUuc2VhcmNoKHRoaXMuJGluZGVudEd1aWRlUmUpO1xuICAgICAgICBpZiAoY29scyA8PSAwIHx8IGNvbHMgPj0gbWF4KVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICBpZiAodmFsdWVbMF0gPT0gXCIgXCIpIHtcbiAgICAgICAgICAgIGNvbHMgLT0gY29scyAlIHRoaXMudGFiU2l6ZTtcbiAgICAgICAgICAgIHZhciBjb3VudCA9IGNvbHMvdGhpcy50YWJTaXplO1xuICAgICAgICAgICAgZm9yICh2YXIgaT0wOyBpPGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQodGhpcy4kdGFiU3RyaW5nc1tcIiBcIl0uY2xvbmVOb2RlKHRydWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS5zdWJzdHIoY29scyk7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsdWVbMF0gPT0gXCJcXHRcIikge1xuICAgICAgICAgICAgZm9yICh2YXIgaT0wOyBpPGNvbHM7IGkrKykge1xuICAgICAgICAgICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZCh0aGlzLiR0YWJTdHJpbmdzW1wiXFx0XCJdLmNsb25lTm9kZSh0cnVlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUuc3Vic3RyKGNvbHMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuXG4gICAgdGhpcy4kY3JlYXRlTGluZUVsZW1lbnQgPSBmdW5jdGlvbihwYXJlbnQpIHtcbiAgICAgICAgdmFyIGxpbmVFbCA9IHRoaXMuZG9tLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGxpbmVFbC5jbGFzc05hbWUgPSBcImFjZV9saW5lXCI7XG4gICAgICAgIGxpbmVFbC5zdHlsZS5oZWlnaHQgPSB0aGlzLmNvbmZpZy5saW5lSGVpZ2h0ICsgXCJweFwiO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGxpbmVFbDtcbiAgICB9O1xuXG4gICAgdGhpcy4kcmVuZGVyV3JhcHBlZExpbmUgPSBmdW5jdGlvbihwYXJlbnQsIHRva2Vucywgc3BsaXRzKSB7XG4gICAgICAgIHZhciBjaGFycyA9IDA7XG4gICAgICAgIHZhciBzcGxpdCA9IDA7XG4gICAgICAgIHZhciBzcGxpdENoYXJzID0gc3BsaXRzWzBdO1xuICAgICAgICB2YXIgc2NyZWVuQ29sdW1uID0gMDtcblxuICAgICAgICB2YXIgbGluZUVsID0gdGhpcy4kY3JlYXRlTGluZUVsZW1lbnQoKTtcbiAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKGxpbmVFbCk7XG4gICAgICAgIFxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHRva2VuID0gdG9rZW5zW2ldO1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gdG9rZW4udmFsdWU7XG4gICAgICAgICAgICBpZiAoaSA9PSAwICYmIHRoaXMuZGlzcGxheUluZGVudEd1aWRlcykge1xuICAgICAgICAgICAgICAgIGNoYXJzID0gdmFsdWUubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5yZW5kZXJJbmRlbnRHdWlkZShsaW5lRWwsIHZhbHVlLCBzcGxpdENoYXJzKTtcbiAgICAgICAgICAgICAgICBpZiAoIXZhbHVlKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjaGFycyAtPSB2YWx1ZS5sZW5ndGg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjaGFycyArIHZhbHVlLmxlbmd0aCA8IHNwbGl0Q2hhcnMpIHtcbiAgICAgICAgICAgICAgICBzY3JlZW5Db2x1bW4gPSB0aGlzLiRyZW5kZXJUb2tlbihsaW5lRWwsIHNjcmVlbkNvbHVtbiwgdG9rZW4sIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBjaGFycyArPSB2YWx1ZS5sZW5ndGg7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHdoaWxlIChjaGFycyArIHZhbHVlLmxlbmd0aCA+PSBzcGxpdENoYXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjcmVlbkNvbHVtbiA9IHRoaXMuJHJlbmRlclRva2VuKFxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZUVsLCBzY3JlZW5Db2x1bW4sXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbiwgdmFsdWUuc3Vic3RyaW5nKDAsIHNwbGl0Q2hhcnMgLSBjaGFycylcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5zdWJzdHJpbmcoc3BsaXRDaGFycyAtIGNoYXJzKTtcbiAgICAgICAgICAgICAgICAgICAgY2hhcnMgPSBzcGxpdENoYXJzO1xuXG4gICAgICAgICAgICAgICAgICAgIGxpbmVFbCA9IHRoaXMuJGNyZWF0ZUxpbmVFbGVtZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChsaW5lRWwpO1xuXG4gICAgICAgICAgICAgICAgICAgIGxpbmVFbC5hcHBlbmRDaGlsZCh0aGlzLmRvbS5jcmVhdGVUZXh0Tm9kZShsYW5nLnN0cmluZ1JlcGVhdChcIlxceGEwXCIsIHNwbGl0cy5pbmRlbnQpLCB0aGlzLmVsZW1lbnQpKTtcblxuICAgICAgICAgICAgICAgICAgICBzcGxpdCArKztcbiAgICAgICAgICAgICAgICAgICAgc2NyZWVuQ29sdW1uID0gMDtcbiAgICAgICAgICAgICAgICAgICAgc3BsaXRDaGFycyA9IHNwbGl0c1tzcGxpdF0gfHwgTnVtYmVyLk1BWF9WQUxVRTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCAhPSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYXJzICs9IHZhbHVlLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgc2NyZWVuQ29sdW1uID0gdGhpcy4kcmVuZGVyVG9rZW4oXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lRWwsIHNjcmVlbkNvbHVtbiwgdG9rZW4sIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoc3BsaXRzW3NwbGl0cy5sZW5ndGggLSAxXSA+IHRoaXMuTUFYX0xJTkVfTEVOR1RIKVxuICAgICAgICAgICAgdGhpcy4kcmVuZGVyT3ZlcmZsb3dNZXNzYWdlKGxpbmVFbCwgc2NyZWVuQ29sdW1uLCBudWxsLCBcIlwiLCB0cnVlKTtcbiAgICB9O1xuXG4gICAgdGhpcy4kcmVuZGVyU2ltcGxlTGluZSA9IGZ1bmN0aW9uKHBhcmVudCwgdG9rZW5zKSB7XG4gICAgICAgIHZhciBzY3JlZW5Db2x1bW4gPSAwO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdG9rZW4gPSB0b2tlbnNbaV07XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB0b2tlbi52YWx1ZTtcbiAgICAgICAgICAgIGlmIChpID09IDAgJiYgdGhpcy5kaXNwbGF5SW5kZW50R3VpZGVzKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLnJlbmRlckluZGVudEd1aWRlKHBhcmVudCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmICghdmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNjcmVlbkNvbHVtbiArIHZhbHVlLmxlbmd0aCA+IHRoaXMuTUFYX0xJTkVfTEVOR1RIKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRyZW5kZXJPdmVyZmxvd01lc3NhZ2UocGFyZW50LCBzY3JlZW5Db2x1bW4sIHRva2VuLCB2YWx1ZSk7XG4gICAgICAgICAgICBzY3JlZW5Db2x1bW4gPSB0aGlzLiRyZW5kZXJUb2tlbihwYXJlbnQsIHNjcmVlbkNvbHVtbiwgdG9rZW4sIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgdGhpcy4kcmVuZGVyT3ZlcmZsb3dNZXNzYWdlID0gZnVuY3Rpb24ocGFyZW50LCBzY3JlZW5Db2x1bW4sIHRva2VuLCB2YWx1ZSwgaGlkZSkge1xuICAgICAgICB0b2tlbiAmJiB0aGlzLiRyZW5kZXJUb2tlbihwYXJlbnQsIHNjcmVlbkNvbHVtbiwgdG9rZW4sXG4gICAgICAgICAgICB2YWx1ZS5zbGljZSgwLCB0aGlzLk1BWF9MSU5FX0xFTkdUSCAtIHNjcmVlbkNvbHVtbikpO1xuICAgICAgICAgICAgXG4gICAgICAgIHZhciBvdmVyZmxvd0VsID0gdGhpcy5kb20uY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgIG92ZXJmbG93RWwuY2xhc3NOYW1lID0gXCJhY2VfaW5saW5lX2J1dHRvbiBhY2Vfa2V5d29yZCBhY2VfdG9nZ2xlX3dyYXBcIjtcbiAgICAgICAgb3ZlcmZsb3dFbC50ZXh0Q29udGVudCA9IGhpZGUgPyBcIjxoaWRlPlwiIDogXCI8Y2xpY2sgdG8gc2VlIG1vcmUuLi4+XCI7XG4gICAgICAgIFxuICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQob3ZlcmZsb3dFbCk7ICAgICAgICBcbiAgICB9O1xuICAgIHRoaXMuJHJlbmRlckxpbmUgPSBmdW5jdGlvbihwYXJlbnQsIHJvdywgZm9sZExpbmUpIHtcbiAgICAgICAgaWYgKCFmb2xkTGluZSAmJiBmb2xkTGluZSAhPSBmYWxzZSlcbiAgICAgICAgICAgIGZvbGRMaW5lID0gdGhpcy5zZXNzaW9uLmdldEZvbGRMaW5lKHJvdyk7XG5cbiAgICAgICAgaWYgKGZvbGRMaW5lKVxuICAgICAgICAgICAgdmFyIHRva2VucyA9IHRoaXMuJGdldEZvbGRMaW5lVG9rZW5zKHJvdywgZm9sZExpbmUpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB2YXIgdG9rZW5zID0gdGhpcy5zZXNzaW9uLmdldFRva2Vucyhyb3cpO1xuXG4gICAgICAgIHZhciBsYXN0TGluZUVsID0gcGFyZW50O1xuICAgICAgICBpZiAodG9rZW5zLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIHNwbGl0cyA9IHRoaXMuc2Vzc2lvbi5nZXRSb3dTcGxpdERhdGEocm93KTtcbiAgICAgICAgICAgIGlmIChzcGxpdHMgJiYgc3BsaXRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuJHJlbmRlcldyYXBwZWRMaW5lKHBhcmVudCwgdG9rZW5zLCBzcGxpdHMpO1xuICAgICAgICAgICAgICAgIHZhciBsYXN0TGluZUVsID0gcGFyZW50Lmxhc3RDaGlsZDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGxhc3RMaW5lRWwgPSBwYXJlbnQ7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuJHVzZUxpbmVHcm91cHMoKSkge1xuICAgICAgICAgICAgICAgICAgICBsYXN0TGluZUVsID0gdGhpcy4kY3JlYXRlTGluZUVsZW1lbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKGxhc3RMaW5lRWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLiRyZW5kZXJTaW1wbGVMaW5lKGxhc3RMaW5lRWwsIHRva2Vucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy4kdXNlTGluZUdyb3VwcygpKSB7XG4gICAgICAgICAgICBsYXN0TGluZUVsID0gdGhpcy4kY3JlYXRlTGluZUVsZW1lbnQoKTtcbiAgICAgICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChsYXN0TGluZUVsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnNob3dFT0wgJiYgbGFzdExpbmVFbCkge1xuICAgICAgICAgICAgaWYgKGZvbGRMaW5lKVxuICAgICAgICAgICAgICAgIHJvdyA9IGZvbGRMaW5lLmVuZC5yb3c7XG5cbiAgICAgICAgICAgIHZhciBpbnZpc2libGVFbCA9IHRoaXMuZG9tLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICAgICAgaW52aXNpYmxlRWwuY2xhc3NOYW1lID0gXCJhY2VfaW52aXNpYmxlIGFjZV9pbnZpc2libGVfZW9sXCI7XG4gICAgICAgICAgICBpbnZpc2libGVFbC50ZXh0Q29udGVudCA9IHJvdyA9PSB0aGlzLnNlc3Npb24uZ2V0TGVuZ3RoKCkgLSAxID8gdGhpcy5FT0ZfQ0hBUiA6IHRoaXMuRU9MX0NIQVI7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxhc3RMaW5lRWwuYXBwZW5kQ2hpbGQoaW52aXNpYmxlRWwpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuJGdldEZvbGRMaW5lVG9rZW5zID0gZnVuY3Rpb24ocm93LCBmb2xkTGluZSkge1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuc2Vzc2lvbjtcbiAgICAgICAgdmFyIHJlbmRlclRva2VucyA9IFtdO1xuXG4gICAgICAgIGZ1bmN0aW9uIGFkZFRva2Vucyh0b2tlbnMsIGZyb20sIHRvKSB7XG4gICAgICAgICAgICB2YXIgaWR4ID0gMCwgY29sID0gMDtcbiAgICAgICAgICAgIHdoaWxlICgoY29sICsgdG9rZW5zW2lkeF0udmFsdWUubGVuZ3RoKSA8IGZyb20pIHtcbiAgICAgICAgICAgICAgICBjb2wgKz0gdG9rZW5zW2lkeF0udmFsdWUubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGlkeCsrO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlkeCA9PSB0b2tlbnMubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29sICE9IGZyb20pIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSB0b2tlbnNbaWR4XS52YWx1ZS5zdWJzdHJpbmcoZnJvbSAtIGNvbCk7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA+ICh0byAtIGZyb20pKVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnN1YnN0cmluZygwLCB0byAtIGZyb20pO1xuXG4gICAgICAgICAgICAgICAgcmVuZGVyVG9rZW5zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiB0b2tlbnNbaWR4XS50eXBlLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGNvbCA9IGZyb20gKyB2YWx1ZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgaWR4ICs9IDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHdoaWxlIChjb2wgPCB0byAmJiBpZHggPCB0b2tlbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gdG9rZW5zW2lkeF0udmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCArIGNvbCA+IHRvKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbmRlclRva2Vucy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHRva2Vuc1tpZHhdLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUuc3Vic3RyaW5nKDAsIHRvIC0gY29sKVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyVG9rZW5zLnB1c2godG9rZW5zW2lkeF0pO1xuICAgICAgICAgICAgICAgIGNvbCArPSB2YWx1ZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgaWR4ICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdG9rZW5zID0gc2Vzc2lvbi5nZXRUb2tlbnMocm93KTtcbiAgICAgICAgZm9sZExpbmUud2FsayhmdW5jdGlvbihwbGFjZWhvbGRlciwgcm93LCBjb2x1bW4sIGxhc3RDb2x1bW4sIGlzTmV3Um93KSB7XG4gICAgICAgICAgICBpZiAocGxhY2Vob2xkZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJlbmRlclRva2Vucy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJmb2xkXCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBwbGFjZWhvbGRlclxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNOZXdSb3cpXG4gICAgICAgICAgICAgICAgICAgIHRva2VucyA9IHNlc3Npb24uZ2V0VG9rZW5zKHJvdyk7XG5cbiAgICAgICAgICAgICAgICBpZiAodG9rZW5zLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgYWRkVG9rZW5zKHRva2VucywgbGFzdENvbHVtbiwgY29sdW1uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZm9sZExpbmUuZW5kLnJvdywgdGhpcy5zZXNzaW9uLmdldExpbmUoZm9sZExpbmUuZW5kLnJvdykubGVuZ3RoKTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyVG9rZW5zO1xuICAgIH07XG5cbiAgICB0aGlzLiR1c2VMaW5lR3JvdXBzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlc3Npb24uZ2V0VXNlV3JhcE1vZGUoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5kZXN0cm95ID0gZnVuY3Rpb24oKSB7fTtcbn0pLmNhbGwoVGV4dC5wcm90b3R5cGUpO1xuXG5leHBvcnRzLlRleHQgPSBUZXh0O1xuXG59KTtcblxuYWNlLmRlZmluZShcImFjZS9sYXllci9jdXJzb3JcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvZG9tXCJdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgZG9tID0gcmVxdWlyZShcIi4uL2xpYi9kb21cIik7XG5cbnZhciBDdXJzb3IgPSBmdW5jdGlvbihwYXJlbnRFbCkge1xuICAgIHRoaXMuZWxlbWVudCA9IGRvbS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHRoaXMuZWxlbWVudC5jbGFzc05hbWUgPSBcImFjZV9sYXllciBhY2VfY3Vyc29yLWxheWVyXCI7XG4gICAgcGFyZW50RWwuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KTtcbiAgICBcbiAgICB0aGlzLmlzVmlzaWJsZSA9IGZhbHNlO1xuICAgIHRoaXMuaXNCbGlua2luZyA9IHRydWU7XG4gICAgdGhpcy5ibGlua0ludGVydmFsID0gMTAwMDtcbiAgICB0aGlzLnNtb290aEJsaW5raW5nID0gZmFsc2U7XG5cbiAgICB0aGlzLmN1cnNvcnMgPSBbXTtcbiAgICB0aGlzLmN1cnNvciA9IHRoaXMuYWRkQ3Vyc29yKCk7XG4gICAgZG9tLmFkZENzc0NsYXNzKHRoaXMuZWxlbWVudCwgXCJhY2VfaGlkZGVuLWN1cnNvcnNcIik7XG4gICAgdGhpcy4kdXBkYXRlQ3Vyc29ycyA9IHRoaXMuJHVwZGF0ZU9wYWNpdHkuYmluZCh0aGlzKTtcbn07XG5cbihmdW5jdGlvbigpIHtcbiAgICBcbiAgICB0aGlzLiR1cGRhdGVPcGFjaXR5ID0gZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIHZhciBjdXJzb3JzID0gdGhpcy5jdXJzb3JzO1xuICAgICAgICBmb3IgKHZhciBpID0gY3Vyc29ycy5sZW5ndGg7IGktLTsgKVxuICAgICAgICAgICAgZG9tLnNldFN0eWxlKGN1cnNvcnNbaV0uc3R5bGUsIFwib3BhY2l0eVwiLCB2YWwgPyBcIlwiIDogXCIwXCIpO1xuICAgIH07XG5cbiAgICB0aGlzLiRzdGFydENzc0FuaW1hdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgY3Vyc29ycyA9IHRoaXMuY3Vyc29ycztcbiAgICAgICAgZm9yICh2YXIgaSA9IGN1cnNvcnMubGVuZ3RoOyBpLS07IClcbiAgICAgICAgICAgIGN1cnNvcnNbaV0uc3R5bGUuYW5pbWF0aW9uRHVyYXRpb24gPSB0aGlzLmJsaW5rSW50ZXJ2YWwgKyBcIm1zXCI7XG5cbiAgICAgICAgdGhpcy4kaXNBbmltYXRpbmcgPSB0cnVlO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuJGlzQW5pbWF0aW5nKSB7XG4gICAgICAgICAgICAgICAgZG9tLmFkZENzc0NsYXNzKHRoaXMuZWxlbWVudCwgXCJhY2VfYW5pbWF0ZS1ibGlua2luZ1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuJHN0b3BDc3NBbmltYXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kaXNBbmltYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgZG9tLnJlbW92ZUNzc0NsYXNzKHRoaXMuZWxlbWVudCwgXCJhY2VfYW5pbWF0ZS1ibGlua2luZ1wiKTtcbiAgICB9O1xuXG4gICAgdGhpcy4kcGFkZGluZyA9IDA7XG4gICAgdGhpcy5zZXRQYWRkaW5nID0gZnVuY3Rpb24ocGFkZGluZykge1xuICAgICAgICB0aGlzLiRwYWRkaW5nID0gcGFkZGluZztcbiAgICB9O1xuXG4gICAgdGhpcy5zZXRTZXNzaW9uID0gZnVuY3Rpb24oc2Vzc2lvbikge1xuICAgICAgICB0aGlzLnNlc3Npb24gPSBzZXNzaW9uO1xuICAgIH07XG5cbiAgICB0aGlzLnNldEJsaW5raW5nID0gZnVuY3Rpb24oYmxpbmtpbmcpIHtcbiAgICAgICAgaWYgKGJsaW5raW5nICE9IHRoaXMuaXNCbGlua2luZykge1xuICAgICAgICAgICAgdGhpcy5pc0JsaW5raW5nID0gYmxpbmtpbmc7XG4gICAgICAgICAgICB0aGlzLnJlc3RhcnRUaW1lcigpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuc2V0QmxpbmtJbnRlcnZhbCA9IGZ1bmN0aW9uKGJsaW5rSW50ZXJ2YWwpIHtcbiAgICAgICAgaWYgKGJsaW5rSW50ZXJ2YWwgIT0gdGhpcy5ibGlua0ludGVydmFsKSB7XG4gICAgICAgICAgICB0aGlzLmJsaW5rSW50ZXJ2YWwgPSBibGlua0ludGVydmFsO1xuICAgICAgICAgICAgdGhpcy5yZXN0YXJ0VGltZXIoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLnNldFNtb290aEJsaW5raW5nID0gZnVuY3Rpb24oc21vb3RoQmxpbmtpbmcpIHtcbiAgICAgICAgaWYgKHNtb290aEJsaW5raW5nICE9IHRoaXMuc21vb3RoQmxpbmtpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuc21vb3RoQmxpbmtpbmcgPSBzbW9vdGhCbGlua2luZztcbiAgICAgICAgICAgIGRvbS5zZXRDc3NDbGFzcyh0aGlzLmVsZW1lbnQsIFwiYWNlX3Ntb290aC1ibGlua2luZ1wiLCBzbW9vdGhCbGlua2luZyk7XG4gICAgICAgICAgICB0aGlzLiR1cGRhdGVDdXJzb3JzKHRydWUpO1xuICAgICAgICAgICAgdGhpcy5yZXN0YXJ0VGltZXIoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmFkZEN1cnNvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZWwgPSBkb20uY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZWwuY2xhc3NOYW1lID0gXCJhY2VfY3Vyc29yXCI7XG4gICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZChlbCk7XG4gICAgICAgIHRoaXMuY3Vyc29ycy5wdXNoKGVsKTtcbiAgICAgICAgcmV0dXJuIGVsO1xuICAgIH07XG5cbiAgICB0aGlzLnJlbW92ZUN1cnNvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5jdXJzb3JzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIHZhciBlbCA9IHRoaXMuY3Vyc29ycy5wb3AoKTtcbiAgICAgICAgICAgIGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWwpO1xuICAgICAgICAgICAgcmV0dXJuIGVsO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuaGlkZUN1cnNvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmlzVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICBkb20uYWRkQ3NzQ2xhc3ModGhpcy5lbGVtZW50LCBcImFjZV9oaWRkZW4tY3Vyc29yc1wiKTtcbiAgICAgICAgdGhpcy5yZXN0YXJ0VGltZXIoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5zaG93Q3Vyc29yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuaXNWaXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgZG9tLnJlbW92ZUNzc0NsYXNzKHRoaXMuZWxlbWVudCwgXCJhY2VfaGlkZGVuLWN1cnNvcnNcIik7XG4gICAgICAgIHRoaXMucmVzdGFydFRpbWVyKCk7XG4gICAgfTtcblxuICAgIHRoaXMucmVzdGFydFRpbWVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB1cGRhdGUgPSB0aGlzLiR1cGRhdGVDdXJzb3JzO1xuICAgICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxJZCk7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRJZCk7XG4gICAgICAgIHRoaXMuJHN0b3BDc3NBbmltYXRpb24oKTtcblxuICAgICAgICBpZiAodGhpcy5zbW9vdGhCbGlua2luZykge1xuICAgICAgICAgICAgdGhpcy4kaXNTbW9vdGhCbGlua2luZyA9IGZhbHNlO1xuICAgICAgICAgICAgZG9tLnJlbW92ZUNzc0NsYXNzKHRoaXMuZWxlbWVudCwgXCJhY2Vfc21vb3RoLWJsaW5raW5nXCIpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB1cGRhdGUodHJ1ZSk7XG5cbiAgICAgICAgaWYgKCF0aGlzLmlzQmxpbmtpbmcgfHwgIXRoaXMuYmxpbmtJbnRlcnZhbCB8fCAhdGhpcy5pc1Zpc2libGUpIHtcbiAgICAgICAgICAgIHRoaXMuJHN0b3BDc3NBbmltYXRpb24oKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnNtb290aEJsaW5raW5nKSB7XG4gICAgICAgICAgICB0aGlzLiRpc1Ntb290aEJsaW5raW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuJGlzU21vb3RoQmxpbmtpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9tLmFkZENzc0NsYXNzKHRoaXMuZWxlbWVudCwgXCJhY2Vfc21vb3RoLWJsaW5raW5nXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmIChkb20uSEFTX0NTU19BTklNQVRJT04pIHtcbiAgICAgICAgICAgIHRoaXMuJHN0YXJ0Q3NzQW5pbWF0aW9uKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgYmxpbmsgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHRoaXMudGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9LCAwLjYgKiB0aGlzLmJsaW5rSW50ZXJ2YWwpO1xuICAgICAgICAgICAgfS5iaW5kKHRoaXMpO1xuICAgIFxuICAgICAgICAgICAgdGhpcy5pbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlKHRydWUpO1xuICAgICAgICAgICAgICAgIGJsaW5rKCk7XG4gICAgICAgICAgICB9LCB0aGlzLmJsaW5rSW50ZXJ2YWwpO1xuICAgICAgICAgICAgYmxpbmsoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmdldFBpeGVsUG9zaXRpb24gPSBmdW5jdGlvbihwb3NpdGlvbiwgb25TY3JlZW4pIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbmZpZyB8fCAhdGhpcy5zZXNzaW9uKVxuICAgICAgICAgICAgcmV0dXJuIHtsZWZ0IDogMCwgdG9wIDogMH07XG5cbiAgICAgICAgaWYgKCFwb3NpdGlvbilcbiAgICAgICAgICAgIHBvc2l0aW9uID0gdGhpcy5zZXNzaW9uLnNlbGVjdGlvbi5nZXRDdXJzb3IoKTtcbiAgICAgICAgdmFyIHBvcyA9IHRoaXMuc2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb24ocG9zaXRpb24pO1xuICAgICAgICB2YXIgY3Vyc29yTGVmdCA9IHRoaXMuJHBhZGRpbmcgKyAodGhpcy5zZXNzaW9uLiRiaWRpSGFuZGxlci5pc0JpZGlSb3cocG9zLnJvdywgcG9zaXRpb24ucm93KVxuICAgICAgICAgICAgPyB0aGlzLnNlc3Npb24uJGJpZGlIYW5kbGVyLmdldFBvc0xlZnQocG9zLmNvbHVtbilcbiAgICAgICAgICAgIDogcG9zLmNvbHVtbiAqIHRoaXMuY29uZmlnLmNoYXJhY3RlcldpZHRoKTtcblxuICAgICAgICB2YXIgY3Vyc29yVG9wID0gKHBvcy5yb3cgLSAob25TY3JlZW4gPyB0aGlzLmNvbmZpZy5maXJzdFJvd1NjcmVlbiA6IDApKSAqXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5saW5lSGVpZ2h0O1xuXG4gICAgICAgIHJldHVybiB7bGVmdCA6IGN1cnNvckxlZnQsIHRvcCA6IGN1cnNvclRvcH07XG4gICAgfTtcblxuICAgIHRoaXMuaXNDdXJzb3JJblZpZXcgPSBmdW5jdGlvbihwaXhlbFBvcywgY29uZmlnKSB7XG4gICAgICAgIHJldHVybiBwaXhlbFBvcy50b3AgPj0gMCAmJiBwaXhlbFBvcy50b3AgPCBjb25maWcubWF4SGVpZ2h0O1xuICAgIH07XG5cbiAgICB0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcblxuICAgICAgICB2YXIgc2VsZWN0aW9ucyA9IHRoaXMuc2Vzc2lvbi4kc2VsZWN0aW9uTWFya2VycztcbiAgICAgICAgdmFyIGkgPSAwLCBjdXJzb3JJbmRleCA9IDA7XG5cbiAgICAgICAgaWYgKHNlbGVjdGlvbnMgPT09IHVuZGVmaW5lZCB8fCBzZWxlY3Rpb25zLmxlbmd0aCA9PT0gMCl7XG4gICAgICAgICAgICBzZWxlY3Rpb25zID0gW3tjdXJzb3I6IG51bGx9XTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBuID0gc2VsZWN0aW9ucy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwaXhlbFBvcyA9IHRoaXMuZ2V0UGl4ZWxQb3NpdGlvbihzZWxlY3Rpb25zW2ldLmN1cnNvciwgdHJ1ZSk7XG4gICAgICAgICAgICBpZiAoKHBpeGVsUG9zLnRvcCA+IGNvbmZpZy5oZWlnaHQgKyBjb25maWcub2Zmc2V0IHx8XG4gICAgICAgICAgICAgICAgIHBpeGVsUG9zLnRvcCA8IDApICYmIGkgPiAxKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5jdXJzb3JzW2N1cnNvckluZGV4KytdIHx8IHRoaXMuYWRkQ3Vyc29yKCk7XG4gICAgICAgICAgICB2YXIgc3R5bGUgPSBlbGVtZW50LnN0eWxlO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIXRoaXMuZHJhd0N1cnNvcikge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc0N1cnNvckluVmlldyhwaXhlbFBvcywgY29uZmlnKSkge1xuICAgICAgICAgICAgICAgICAgICBkb20uc2V0U3R5bGUoc3R5bGUsIFwiZGlzcGxheVwiLCBcIm5vbmVcIik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZG9tLnNldFN0eWxlKHN0eWxlLCBcImRpc3BsYXlcIiwgXCJibG9ja1wiKTtcbiAgICAgICAgICAgICAgICAgICAgZG9tLnRyYW5zbGF0ZShlbGVtZW50LCBwaXhlbFBvcy5sZWZ0LCBwaXhlbFBvcy50b3ApO1xuICAgICAgICAgICAgICAgICAgICBkb20uc2V0U3R5bGUoc3R5bGUsIFwid2lkdGhcIiwgTWF0aC5yb3VuZChjb25maWcuY2hhcmFjdGVyV2lkdGgpICsgXCJweFwiKTtcbiAgICAgICAgICAgICAgICAgICAgZG9tLnNldFN0eWxlKHN0eWxlLCBcImhlaWdodFwiLCBjb25maWcubGluZUhlaWdodCArIFwicHhcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdDdXJzb3IoZWxlbWVudCwgcGl4ZWxQb3MsIGNvbmZpZywgc2VsZWN0aW9uc1tpXSwgdGhpcy5zZXNzaW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAodGhpcy5jdXJzb3JzLmxlbmd0aCA+IGN1cnNvckluZGV4KVxuICAgICAgICAgICAgdGhpcy5yZW1vdmVDdXJzb3IoKTtcblxuICAgICAgICB2YXIgb3ZlcndyaXRlID0gdGhpcy5zZXNzaW9uLmdldE92ZXJ3cml0ZSgpO1xuICAgICAgICB0aGlzLiRzZXRPdmVyd3JpdGUob3ZlcndyaXRlKTtcbiAgICAgICAgdGhpcy4kcGl4ZWxQb3MgPSBwaXhlbFBvcztcbiAgICAgICAgdGhpcy5yZXN0YXJ0VGltZXIoKTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuZHJhd0N1cnNvciA9IG51bGw7XG5cbiAgICB0aGlzLiRzZXRPdmVyd3JpdGUgPSBmdW5jdGlvbihvdmVyd3JpdGUpIHtcbiAgICAgICAgaWYgKG92ZXJ3cml0ZSAhPSB0aGlzLm92ZXJ3cml0ZSkge1xuICAgICAgICAgICAgdGhpcy5vdmVyd3JpdGUgPSBvdmVyd3JpdGU7XG4gICAgICAgICAgICBpZiAob3ZlcndyaXRlKVxuICAgICAgICAgICAgICAgIGRvbS5hZGRDc3NDbGFzcyh0aGlzLmVsZW1lbnQsIFwiYWNlX292ZXJ3cml0ZS1jdXJzb3JzXCIpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGRvbS5yZW1vdmVDc3NDbGFzcyh0aGlzLmVsZW1lbnQsIFwiYWNlX292ZXJ3cml0ZS1jdXJzb3JzXCIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxJZCk7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRJZCk7XG4gICAgfTtcblxufSkuY2FsbChDdXJzb3IucHJvdG90eXBlKTtcblxuZXhwb3J0cy5DdXJzb3IgPSBDdXJzb3I7XG5cbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL3Njcm9sbGJhclwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9vb3BcIixcImFjZS9saWIvZG9tXCIsXCJhY2UvbGliL2V2ZW50XCIsXCJhY2UvbGliL2V2ZW50X2VtaXR0ZXJcIl0sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBvb3AgPSByZXF1aXJlKFwiLi9saWIvb29wXCIpO1xudmFyIGRvbSA9IHJlcXVpcmUoXCIuL2xpYi9kb21cIik7XG52YXIgZXZlbnQgPSByZXF1aXJlKFwiLi9saWIvZXZlbnRcIik7XG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZShcIi4vbGliL2V2ZW50X2VtaXR0ZXJcIikuRXZlbnRFbWl0dGVyO1xudmFyIE1BWF9TQ1JPTExfSCA9IDB4ODAwMDtcbnZhciBTY3JvbGxCYXIgPSBmdW5jdGlvbihwYXJlbnQpIHtcbiAgICB0aGlzLmVsZW1lbnQgPSBkb20uY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NOYW1lID0gXCJhY2Vfc2Nyb2xsYmFyIGFjZV9zY3JvbGxiYXJcIiArIHRoaXMuY2xhc3NTdWZmaXg7XG5cbiAgICB0aGlzLmlubmVyID0gZG9tLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGhpcy5pbm5lci5jbGFzc05hbWUgPSBcImFjZV9zY3JvbGxiYXItaW5uZXJcIjtcbiAgICB0aGlzLmlubmVyLnRleHRDb250ZW50ID0gXCJcXHhhMFwiO1xuICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmlubmVyKTtcblxuICAgIHBhcmVudC5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpO1xuXG4gICAgdGhpcy5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICB0aGlzLnNraXBFdmVudCA9IGZhbHNlO1xuXG4gICAgZXZlbnQuYWRkTGlzdGVuZXIodGhpcy5lbGVtZW50LCBcInNjcm9sbFwiLCB0aGlzLm9uU2Nyb2xsLmJpbmQodGhpcykpO1xuICAgIGV2ZW50LmFkZExpc3RlbmVyKHRoaXMuZWxlbWVudCwgXCJtb3VzZWRvd25cIiwgZXZlbnQucHJldmVudERlZmF1bHQpO1xufTtcblxuKGZ1bmN0aW9uKCkge1xuICAgIG9vcC5pbXBsZW1lbnQodGhpcywgRXZlbnRFbWl0dGVyKTtcblxuICAgIHRoaXMuc2V0VmlzaWJsZSA9IGZ1bmN0aW9uKGlzVmlzaWJsZSkge1xuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IGlzVmlzaWJsZSA/IFwiXCIgOiBcIm5vbmVcIjtcbiAgICAgICAgdGhpcy5pc1Zpc2libGUgPSBpc1Zpc2libGU7XG4gICAgICAgIHRoaXMuY29lZmYgPSAxO1xuICAgIH07XG59KS5jYWxsKFNjcm9sbEJhci5wcm90b3R5cGUpO1xudmFyIFZTY3JvbGxCYXIgPSBmdW5jdGlvbihwYXJlbnQsIHJlbmRlcmVyKSB7XG4gICAgU2Nyb2xsQmFyLmNhbGwodGhpcywgcGFyZW50KTtcbiAgICB0aGlzLnNjcm9sbFRvcCA9IDA7XG4gICAgdGhpcy5zY3JvbGxIZWlnaHQgPSAwO1xuICAgIHJlbmRlcmVyLiRzY3JvbGxiYXJXaWR0aCA9IFxuICAgIHRoaXMud2lkdGggPSBkb20uc2Nyb2xsYmFyV2lkdGgocGFyZW50Lm93bmVyRG9jdW1lbnQpO1xuICAgIHRoaXMuaW5uZXIuc3R5bGUud2lkdGggPVxuICAgIHRoaXMuZWxlbWVudC5zdHlsZS53aWR0aCA9ICh0aGlzLndpZHRoIHx8IDE1KSArIDUgKyBcInB4XCI7XG4gICAgdGhpcy4kbWluV2lkdGggPSAwO1xufTtcblxub29wLmluaGVyaXRzKFZTY3JvbGxCYXIsIFNjcm9sbEJhcik7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIHRoaXMuY2xhc3NTdWZmaXggPSAnLXYnO1xuICAgIHRoaXMub25TY3JvbGwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNraXBFdmVudCkge1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxUb3AgPSB0aGlzLmVsZW1lbnQuc2Nyb2xsVG9wO1xuICAgICAgICAgICAgaWYgKHRoaXMuY29lZmYgIT0gMSkge1xuICAgICAgICAgICAgICAgIHZhciBoID0gdGhpcy5lbGVtZW50LmNsaWVudEhlaWdodCAvIHRoaXMuc2Nyb2xsSGVpZ2h0O1xuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsVG9wID0gdGhpcy5zY3JvbGxUb3AgKiAoMSAtIGgpIC8gKHRoaXMuY29lZmYgLSBoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2VtaXQoXCJzY3JvbGxcIiwge2RhdGE6IHRoaXMuc2Nyb2xsVG9wfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5za2lwRXZlbnQgPSBmYWxzZTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0V2lkdGggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KHRoaXMuaXNWaXNpYmxlID8gdGhpcy53aWR0aCA6IDAsIHRoaXMuJG1pbldpZHRoIHx8IDApO1xuICAgIH07XG4gICAgdGhpcy5zZXRIZWlnaHQgPSBmdW5jdGlvbihoZWlnaHQpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmhlaWdodCA9IGhlaWdodCArIFwicHhcIjtcbiAgICB9O1xuICAgIHRoaXMuc2V0SW5uZXJIZWlnaHQgPSBcbiAgICB0aGlzLnNldFNjcm9sbEhlaWdodCA9IGZ1bmN0aW9uKGhlaWdodCkge1xuICAgICAgICB0aGlzLnNjcm9sbEhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgaWYgKGhlaWdodCA+IE1BWF9TQ1JPTExfSCkge1xuICAgICAgICAgICAgdGhpcy5jb2VmZiA9IE1BWF9TQ1JPTExfSCAvIGhlaWdodDtcbiAgICAgICAgICAgIGhlaWdodCA9IE1BWF9TQ1JPTExfSDtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNvZWZmICE9IDEpIHtcbiAgICAgICAgICAgIHRoaXMuY29lZmYgPSAxO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5uZXIuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ICsgXCJweFwiO1xuICAgIH07XG4gICAgdGhpcy5zZXRTY3JvbGxUb3AgPSBmdW5jdGlvbihzY3JvbGxUb3ApIHtcbiAgICAgICAgaWYgKHRoaXMuc2Nyb2xsVG9wICE9IHNjcm9sbFRvcCkge1xuICAgICAgICAgICAgdGhpcy5za2lwRXZlbnQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxUb3AgPSBzY3JvbGxUb3A7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuc2Nyb2xsVG9wID0gc2Nyb2xsVG9wICogdGhpcy5jb2VmZjtcbiAgICAgICAgfVxuICAgIH07XG5cbn0pLmNhbGwoVlNjcm9sbEJhci5wcm90b3R5cGUpO1xudmFyIEhTY3JvbGxCYXIgPSBmdW5jdGlvbihwYXJlbnQsIHJlbmRlcmVyKSB7XG4gICAgU2Nyb2xsQmFyLmNhbGwodGhpcywgcGFyZW50KTtcbiAgICB0aGlzLnNjcm9sbExlZnQgPSAwO1xuICAgIHRoaXMuaGVpZ2h0ID0gcmVuZGVyZXIuJHNjcm9sbGJhcldpZHRoO1xuICAgIHRoaXMuaW5uZXIuc3R5bGUuaGVpZ2h0ID1cbiAgICB0aGlzLmVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gKHRoaXMuaGVpZ2h0IHx8IDE1KSArIDUgKyBcInB4XCI7XG59O1xuXG5vb3AuaW5oZXJpdHMoSFNjcm9sbEJhciwgU2Nyb2xsQmFyKTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgdGhpcy5jbGFzc1N1ZmZpeCA9ICctaCc7XG4gICAgdGhpcy5vblNjcm9sbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXRoaXMuc2tpcEV2ZW50KSB7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbExlZnQgPSB0aGlzLmVsZW1lbnQuc2Nyb2xsTGVmdDtcbiAgICAgICAgICAgIHRoaXMuX2VtaXQoXCJzY3JvbGxcIiwge2RhdGE6IHRoaXMuc2Nyb2xsTGVmdH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2tpcEV2ZW50ID0gZmFsc2U7XG4gICAgfTtcbiAgICB0aGlzLmdldEhlaWdodCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc1Zpc2libGUgPyB0aGlzLmhlaWdodCA6IDA7XG4gICAgfTtcbiAgICB0aGlzLnNldFdpZHRoID0gZnVuY3Rpb24od2lkdGgpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLndpZHRoID0gd2lkdGggKyBcInB4XCI7XG4gICAgfTtcbiAgICB0aGlzLnNldElubmVyV2lkdGggPSBmdW5jdGlvbih3aWR0aCkge1xuICAgICAgICB0aGlzLmlubmVyLnN0eWxlLndpZHRoID0gd2lkdGggKyBcInB4XCI7XG4gICAgfTtcbiAgICB0aGlzLnNldFNjcm9sbFdpZHRoID0gZnVuY3Rpb24od2lkdGgpIHtcbiAgICAgICAgdGhpcy5pbm5lci5zdHlsZS53aWR0aCA9IHdpZHRoICsgXCJweFwiO1xuICAgIH07XG4gICAgdGhpcy5zZXRTY3JvbGxMZWZ0ID0gZnVuY3Rpb24oc2Nyb2xsTGVmdCkge1xuICAgICAgICBpZiAodGhpcy5zY3JvbGxMZWZ0ICE9IHNjcm9sbExlZnQpIHtcbiAgICAgICAgICAgIHRoaXMuc2tpcEV2ZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsTGVmdCA9IHRoaXMuZWxlbWVudC5zY3JvbGxMZWZ0ID0gc2Nyb2xsTGVmdDtcbiAgICAgICAgfVxuICAgIH07XG5cbn0pLmNhbGwoSFNjcm9sbEJhci5wcm90b3R5cGUpO1xuXG5cbmV4cG9ydHMuU2Nyb2xsQmFyID0gVlNjcm9sbEJhcjsgLy8gYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuZXhwb3J0cy5TY3JvbGxCYXJWID0gVlNjcm9sbEJhcjsgLy8gYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuZXhwb3J0cy5TY3JvbGxCYXJIID0gSFNjcm9sbEJhcjsgLy8gYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuXG5leHBvcnRzLlZTY3JvbGxCYXIgPSBWU2Nyb2xsQmFyO1xuZXhwb3J0cy5IU2Nyb2xsQmFyID0gSFNjcm9sbEJhcjtcbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL3JlbmRlcmxvb3BcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvZXZlbnRcIl0sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBldmVudCA9IHJlcXVpcmUoXCIuL2xpYi9ldmVudFwiKTtcblxuXG52YXIgUmVuZGVyTG9vcCA9IGZ1bmN0aW9uKG9uUmVuZGVyLCB3aW4pIHtcbiAgICB0aGlzLm9uUmVuZGVyID0gb25SZW5kZXI7XG4gICAgdGhpcy5wZW5kaW5nID0gZmFsc2U7XG4gICAgdGhpcy5jaGFuZ2VzID0gMDtcbiAgICB0aGlzLiRyZWN1cnNpb25MaW1pdCA9IDI7XG4gICAgdGhpcy53aW5kb3cgPSB3aW4gfHwgd2luZG93O1xuICAgIHZhciBfc2VsZiA9IHRoaXM7XG4gICAgdGhpcy5fZmx1c2ggPSBmdW5jdGlvbih0cykge1xuICAgICAgICBfc2VsZi5wZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIHZhciBjaGFuZ2VzID0gX3NlbGYuY2hhbmdlcztcblxuICAgICAgICBpZiAoY2hhbmdlcykge1xuICAgICAgICAgICAgZXZlbnQuYmxvY2tJZGxlKDEwMCk7XG4gICAgICAgICAgICBfc2VsZi5jaGFuZ2VzID0gMDtcbiAgICAgICAgICAgIF9zZWxmLm9uUmVuZGVyKGNoYW5nZXMpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoX3NlbGYuY2hhbmdlcykge1xuICAgICAgICAgICAgaWYgKF9zZWxmLiRyZWN1cnNpb25MaW1pdC0tIDwgMCkgcmV0dXJuO1xuICAgICAgICAgICAgX3NlbGYuc2NoZWR1bGUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF9zZWxmLiRyZWN1cnNpb25MaW1pdCA9IDI7XG4gICAgICAgIH1cbiAgICB9O1xufTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgdGhpcy5zY2hlZHVsZSA9IGZ1bmN0aW9uKGNoYW5nZSkge1xuICAgICAgICB0aGlzLmNoYW5nZXMgPSB0aGlzLmNoYW5nZXMgfCBjaGFuZ2U7XG4gICAgICAgIGlmICh0aGlzLmNoYW5nZXMgJiYgIXRoaXMucGVuZGluZykge1xuICAgICAgICAgICAgZXZlbnQubmV4dEZyYW1lKHRoaXMuX2ZsdXNoKTtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5jbGVhciA9IGZ1bmN0aW9uKGNoYW5nZSkge1xuICAgICAgICB2YXIgY2hhbmdlcyA9IHRoaXMuY2hhbmdlcztcbiAgICAgICAgdGhpcy5jaGFuZ2VzID0gMDtcbiAgICAgICAgcmV0dXJuIGNoYW5nZXM7XG4gICAgfTtcblxufSkuY2FsbChSZW5kZXJMb29wLnByb3RvdHlwZSk7XG5cbmV4cG9ydHMuUmVuZGVyTG9vcCA9IFJlbmRlckxvb3A7XG59KTtcblxuYWNlLmRlZmluZShcImFjZS9sYXllci9mb250X21ldHJpY3NcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvb29wXCIsXCJhY2UvbGliL2RvbVwiLFwiYWNlL2xpYi9sYW5nXCIsXCJhY2UvbGliL2V2ZW50XCIsXCJhY2UvbGliL3VzZXJhZ2VudFwiLFwiYWNlL2xpYi9ldmVudF9lbWl0dGVyXCJdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblxudmFyIG9vcCA9IHJlcXVpcmUoXCIuLi9saWIvb29wXCIpO1xudmFyIGRvbSA9IHJlcXVpcmUoXCIuLi9saWIvZG9tXCIpO1xudmFyIGxhbmcgPSByZXF1aXJlKFwiLi4vbGliL2xhbmdcIik7XG52YXIgZXZlbnQgPSByZXF1aXJlKFwiLi4vbGliL2V2ZW50XCIpO1xudmFyIHVzZXJhZ2VudCA9IHJlcXVpcmUoXCIuLi9saWIvdXNlcmFnZW50XCIpO1xudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoXCIuLi9saWIvZXZlbnRfZW1pdHRlclwiKS5FdmVudEVtaXR0ZXI7XG5cbnZhciBDSEFSX0NPVU5UID0gMjU2O1xudmFyIFVTRV9PQlNFUlZFUiA9IHR5cGVvZiBSZXNpemVPYnNlcnZlciA9PSBcImZ1bmN0aW9uXCI7XG52YXIgTCA9IDIwMDtcblxudmFyIEZvbnRNZXRyaWNzID0gZXhwb3J0cy5Gb250TWV0cmljcyA9IGZ1bmN0aW9uKHBhcmVudEVsKSB7XG4gICAgdGhpcy5lbCA9IGRvbS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHRoaXMuJHNldE1lYXN1cmVOb2RlU3R5bGVzKHRoaXMuZWwuc3R5bGUsIHRydWUpO1xuICAgIFxuICAgIHRoaXMuJG1haW4gPSBkb20uY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB0aGlzLiRzZXRNZWFzdXJlTm9kZVN0eWxlcyh0aGlzLiRtYWluLnN0eWxlKTtcbiAgICBcbiAgICB0aGlzLiRtZWFzdXJlTm9kZSA9IGRvbS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHRoaXMuJHNldE1lYXN1cmVOb2RlU3R5bGVzKHRoaXMuJG1lYXN1cmVOb2RlLnN0eWxlKTtcbiAgICBcbiAgICBcbiAgICB0aGlzLmVsLmFwcGVuZENoaWxkKHRoaXMuJG1haW4pO1xuICAgIHRoaXMuZWwuYXBwZW5kQ2hpbGQodGhpcy4kbWVhc3VyZU5vZGUpO1xuICAgIHBhcmVudEVsLmFwcGVuZENoaWxkKHRoaXMuZWwpO1xuICAgIFxuICAgIHRoaXMuJG1lYXN1cmVOb2RlLnRleHRDb250ZW50ID0gbGFuZy5zdHJpbmdSZXBlYXQoXCJYXCIsIENIQVJfQ09VTlQpO1xuICAgIFxuICAgIHRoaXMuJGNoYXJhY3RlclNpemUgPSB7d2lkdGg6IDAsIGhlaWdodDogMH07XG4gICAgXG4gICAgXG4gICAgaWYgKFVTRV9PQlNFUlZFUilcbiAgICAgICAgdGhpcy4kYWRkT2JzZXJ2ZXIoKTtcbiAgICBlbHNlXG4gICAgICAgIHRoaXMuY2hlY2tGb3JTaXplQ2hhbmdlcygpO1xufTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgb29wLmltcGxlbWVudCh0aGlzLCBFdmVudEVtaXR0ZXIpO1xuICAgICAgICBcbiAgICB0aGlzLiRjaGFyYWN0ZXJTaXplID0ge3dpZHRoOiAwLCBoZWlnaHQ6IDB9O1xuICAgIFxuICAgIHRoaXMuJHNldE1lYXN1cmVOb2RlU3R5bGVzID0gZnVuY3Rpb24oc3R5bGUsIGlzUm9vdCkge1xuICAgICAgICBzdHlsZS53aWR0aCA9IHN0eWxlLmhlaWdodCA9IFwiYXV0b1wiO1xuICAgICAgICBzdHlsZS5sZWZ0ID0gc3R5bGUudG9wID0gXCIwcHhcIjtcbiAgICAgICAgc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG4gICAgICAgIHN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICBzdHlsZS53aGl0ZVNwYWNlID0gXCJwcmVcIjtcblxuICAgICAgICBpZiAodXNlcmFnZW50LmlzSUUgPCA4KSB7XG4gICAgICAgICAgICBzdHlsZVtcImZvbnQtZmFtaWx5XCJdID0gXCJpbmhlcml0XCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdHlsZS5mb250ID0gXCJpbmhlcml0XCI7XG4gICAgICAgIH1cbiAgICAgICAgc3R5bGUub3ZlcmZsb3cgPSBpc1Jvb3QgPyBcImhpZGRlblwiIDogXCJ2aXNpYmxlXCI7XG4gICAgfTtcblxuICAgIHRoaXMuY2hlY2tGb3JTaXplQ2hhbmdlcyA9IGZ1bmN0aW9uKHNpemUpIHtcbiAgICAgICAgaWYgKHNpemUgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHNpemUgPSB0aGlzLiRtZWFzdXJlU2l6ZXMoKTtcbiAgICAgICAgaWYgKHNpemUgJiYgKHRoaXMuJGNoYXJhY3RlclNpemUud2lkdGggIT09IHNpemUud2lkdGggfHwgdGhpcy4kY2hhcmFjdGVyU2l6ZS5oZWlnaHQgIT09IHNpemUuaGVpZ2h0KSkge1xuICAgICAgICAgICAgdGhpcy4kbWVhc3VyZU5vZGUuc3R5bGUuZm9udFdlaWdodCA9IFwiYm9sZFwiO1xuICAgICAgICAgICAgdmFyIGJvbGRTaXplID0gdGhpcy4kbWVhc3VyZVNpemVzKCk7XG4gICAgICAgICAgICB0aGlzLiRtZWFzdXJlTm9kZS5zdHlsZS5mb250V2VpZ2h0ID0gXCJcIjtcbiAgICAgICAgICAgIHRoaXMuJGNoYXJhY3RlclNpemUgPSBzaXplO1xuICAgICAgICAgICAgdGhpcy5jaGFyU2l6ZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgICAgdGhpcy5hbGxvd0JvbGRGb250cyA9IGJvbGRTaXplICYmIGJvbGRTaXplLndpZHRoID09PSBzaXplLndpZHRoICYmIGJvbGRTaXplLmhlaWdodCA9PT0gc2l6ZS5oZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLl9lbWl0KFwiY2hhbmdlQ2hhcmFjdGVyU2l6ZVwiLCB7ZGF0YTogc2l6ZX0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLiRhZGRPYnNlcnZlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHRoaXMuJG9ic2VydmVyID0gbmV3IHdpbmRvdy5SZXNpemVPYnNlcnZlcihmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBzZWxmLmNoZWNrRm9yU2l6ZUNoYW5nZXMoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuJG9ic2VydmVyLm9ic2VydmUodGhpcy4kbWVhc3VyZU5vZGUpO1xuICAgIH07XG5cbiAgICB0aGlzLiRwb2xsU2l6ZUNoYW5nZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuJHBvbGxTaXplQ2hhbmdlc1RpbWVyIHx8IHRoaXMuJG9ic2VydmVyKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHBvbGxTaXplQ2hhbmdlc1RpbWVyO1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gdGhpcy4kcG9sbFNpemVDaGFuZ2VzVGltZXIgPSBldmVudC5vbklkbGUoZnVuY3Rpb24gY2IoKSB7XG4gICAgICAgICAgICBzZWxmLmNoZWNrRm9yU2l6ZUNoYW5nZXMoKTtcbiAgICAgICAgICAgIGV2ZW50Lm9uSWRsZShjYiwgNTAwKTtcbiAgICAgICAgfSwgNTAwKTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuc2V0UG9sbGluZyA9IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICBpZiAodmFsKSB7XG4gICAgICAgICAgICB0aGlzLiRwb2xsU2l6ZUNoYW5nZXMoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLiRwb2xsU2l6ZUNoYW5nZXNUaW1lcikge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLiRwb2xsU2l6ZUNoYW5nZXNUaW1lcik7XG4gICAgICAgICAgICB0aGlzLiRwb2xsU2l6ZUNoYW5nZXNUaW1lciA9IDA7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy4kbWVhc3VyZVNpemVzID0gZnVuY3Rpb24obm9kZSkge1xuICAgICAgICB2YXIgc2l6ZSA9IHtcbiAgICAgICAgICAgIGhlaWdodDogKG5vZGUgfHwgdGhpcy4kbWVhc3VyZU5vZGUpLmNsaWVudEhlaWdodCxcbiAgICAgICAgICAgIHdpZHRoOiAobm9kZSB8fCB0aGlzLiRtZWFzdXJlTm9kZSkuY2xpZW50V2lkdGggLyBDSEFSX0NPVU5UXG4gICAgICAgIH07XG4gICAgICAgIGlmIChzaXplLndpZHRoID09PSAwIHx8IHNpemUuaGVpZ2h0ID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiBzaXplO1xuICAgIH07XG5cbiAgICB0aGlzLiRtZWFzdXJlQ2hhcldpZHRoID0gZnVuY3Rpb24oY2gpIHtcbiAgICAgICAgdGhpcy4kbWFpbi50ZXh0Q29udGVudCA9IGxhbmcuc3RyaW5nUmVwZWF0KGNoLCBDSEFSX0NPVU5UKTtcbiAgICAgICAgdmFyIHJlY3QgPSB0aGlzLiRtYWluLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICByZXR1cm4gcmVjdC53aWR0aCAvIENIQVJfQ09VTlQ7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLmdldENoYXJhY3RlcldpZHRoID0gZnVuY3Rpb24oY2gpIHtcbiAgICAgICAgdmFyIHcgPSB0aGlzLmNoYXJTaXplc1tjaF07XG4gICAgICAgIGlmICh3ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHcgPSB0aGlzLmNoYXJTaXplc1tjaF0gPSB0aGlzLiRtZWFzdXJlQ2hhcldpZHRoKGNoKSAvIHRoaXMuJGNoYXJhY3RlclNpemUud2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHc7XG4gICAgfTtcblxuICAgIHRoaXMuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBjbGVhckludGVydmFsKHRoaXMuJHBvbGxTaXplQ2hhbmdlc1RpbWVyKTtcbiAgICAgICAgaWYgKHRoaXMuJG9ic2VydmVyKVxuICAgICAgICAgICAgdGhpcy4kb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICBpZiAodGhpcy5lbCAmJiB0aGlzLmVsLnBhcmVudE5vZGUpXG4gICAgICAgICAgICB0aGlzLmVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5lbCk7XG4gICAgfTtcblxuICAgIFxuICAgIHRoaXMuJGdldFpvb20gPSBmdW5jdGlvbiBnZXRab29tKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKCFlbGVtZW50IHx8ICFlbGVtZW50LnBhcmVudEVsZW1lbnQpIHJldHVybiAxO1xuICAgICAgICByZXR1cm4gKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLnpvb20gfHwgMSkgKiBnZXRab29tKGVsZW1lbnQucGFyZW50RWxlbWVudCk7XG4gICAgfTtcbiAgICB0aGlzLiRpbml0VHJhbnNmb3JtTWVhc3VyZU5vZGVzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB0ID0gZnVuY3Rpb24odCwgbCkge1xuICAgICAgICAgICAgcmV0dXJuIFtcImRpdlwiLCB7XG4gICAgICAgICAgICAgICAgc3R5bGU6IFwicG9zaXRpb246IGFic29sdXRlO3RvcDpcIiArIHQgKyBcInB4O2xlZnQ6XCIgKyBsICsgXCJweDtcIlxuICAgICAgICAgICAgfV07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZWxzID0gZG9tLmJ1aWxkRG9tKFt0KDAsIDApLCB0KEwsIDApLCB0KDAsIEwpLCB0KEwsIEwpXSwgdGhpcy5lbCk7XG4gICAgfTtcbiAgICB0aGlzLnRyYW5zZm9ybUNvb3JkaW5hdGVzID0gZnVuY3Rpb24oY2xpZW50UG9zLCBlbFBvcykge1xuICAgICAgICBpZiAoY2xpZW50UG9zKSB7XG4gICAgICAgICAgICB2YXIgem9vbSA9IHRoaXMuJGdldFpvb20odGhpcy5lbCk7XG4gICAgICAgICAgICBjbGllbnRQb3MgPSBtdWwoMSAvIHpvb20sIGNsaWVudFBvcyk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gc29sdmUobDEsIGwyLCByKSB7XG4gICAgICAgICAgICB2YXIgZGV0ID0gbDFbMV0gKiBsMlswXSAtIGwxWzBdICogbDJbMV07XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICgtbDJbMV0gKiByWzBdICsgbDJbMF0gKiByWzFdKSAvIGRldCxcbiAgICAgICAgICAgICAgICAoK2wxWzFdICogclswXSAtIGwxWzBdICogclsxXSkgLyBkZXRcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gc3ViKGEsIGIpIHsgcmV0dXJuIFthWzBdIC0gYlswXSwgYVsxXSAtIGJbMV1dOyB9XG4gICAgICAgIGZ1bmN0aW9uIGFkZChhLCBiKSB7IHJldHVybiBbYVswXSArIGJbMF0sIGFbMV0gKyBiWzFdXTsgfVxuICAgICAgICBmdW5jdGlvbiBtdWwoYSwgYikgeyByZXR1cm4gW2EgKiBiWzBdLCBhICogYlsxXV07IH1cblxuICAgICAgICBpZiAoIXRoaXMuZWxzKVxuICAgICAgICAgICAgdGhpcy4kaW5pdFRyYW5zZm9ybU1lYXN1cmVOb2RlcygpO1xuICAgICAgICBcbiAgICAgICAgZnVuY3Rpb24gcChlbCkge1xuICAgICAgICAgICAgdmFyIHIgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIHJldHVybiBbci5sZWZ0LCByLnRvcF07XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYSA9IHAodGhpcy5lbHNbMF0pO1xuICAgICAgICB2YXIgYiA9IHAodGhpcy5lbHNbMV0pO1xuICAgICAgICB2YXIgYyA9IHAodGhpcy5lbHNbMl0pO1xuICAgICAgICB2YXIgZCA9IHAodGhpcy5lbHNbM10pO1xuXG4gICAgICAgIHZhciBoID0gc29sdmUoc3ViKGQsIGIpLCBzdWIoZCwgYyksIHN1YihhZGQoYiwgYyksIGFkZChkLCBhKSkpO1xuXG4gICAgICAgIHZhciBtMSA9IG11bCgxICsgaFswXSwgc3ViKGIsIGEpKTtcbiAgICAgICAgdmFyIG0yID0gbXVsKDEgKyBoWzFdLCBzdWIoYywgYSkpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGVsUG9zKSB7XG4gICAgICAgICAgICB2YXIgeCA9IGVsUG9zO1xuICAgICAgICAgICAgdmFyIGsgPSBoWzBdICogeFswXSAvIEwgKyBoWzFdICogeFsxXSAvIEwgKyAxO1xuICAgICAgICAgICAgdmFyIHV0ID0gYWRkKG11bCh4WzBdLCBtMSksIG11bCh4WzFdLCBtMikpO1xuICAgICAgICAgICAgcmV0dXJuICBhZGQobXVsKDEgLyBrIC8gTCwgdXQpLCBhKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdSA9IHN1YihjbGllbnRQb3MsIGEpO1xuICAgICAgICB2YXIgZiA9IHNvbHZlKHN1YihtMSwgbXVsKGhbMF0sIHUpKSwgc3ViKG0yLCBtdWwoaFsxXSwgdSkpLCB1KTtcbiAgICAgICAgcmV0dXJuIG11bChMLCBmKTtcbiAgICB9O1xuICAgIFxufSkuY2FsbChGb250TWV0cmljcy5wcm90b3R5cGUpO1xuXG59KTtcblxuYWNlLmRlZmluZShcImFjZS92aXJ0dWFsX3JlbmRlcmVyXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL29vcFwiLFwiYWNlL2xpYi9kb21cIixcImFjZS9jb25maWdcIixcImFjZS9sYXllci9ndXR0ZXJcIixcImFjZS9sYXllci9tYXJrZXJcIixcImFjZS9sYXllci90ZXh0XCIsXCJhY2UvbGF5ZXIvY3Vyc29yXCIsXCJhY2Uvc2Nyb2xsYmFyXCIsXCJhY2Uvc2Nyb2xsYmFyXCIsXCJhY2UvcmVuZGVybG9vcFwiLFwiYWNlL2xheWVyL2ZvbnRfbWV0cmljc1wiLFwiYWNlL2xpYi9ldmVudF9lbWl0dGVyXCIsXCJhY2UvbGliL3VzZXJhZ2VudFwiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIG9vcCA9IHJlcXVpcmUoXCIuL2xpYi9vb3BcIik7XG52YXIgZG9tID0gcmVxdWlyZShcIi4vbGliL2RvbVwiKTtcbnZhciBjb25maWcgPSByZXF1aXJlKFwiLi9jb25maWdcIik7XG52YXIgR3V0dGVyTGF5ZXIgPSByZXF1aXJlKFwiLi9sYXllci9ndXR0ZXJcIikuR3V0dGVyO1xudmFyIE1hcmtlckxheWVyID0gcmVxdWlyZShcIi4vbGF5ZXIvbWFya2VyXCIpLk1hcmtlcjtcbnZhciBUZXh0TGF5ZXIgPSByZXF1aXJlKFwiLi9sYXllci90ZXh0XCIpLlRleHQ7XG52YXIgQ3Vyc29yTGF5ZXIgPSByZXF1aXJlKFwiLi9sYXllci9jdXJzb3JcIikuQ3Vyc29yO1xudmFyIEhTY3JvbGxCYXIgPSByZXF1aXJlKFwiLi9zY3JvbGxiYXJcIikuSFNjcm9sbEJhcjtcbnZhciBWU2Nyb2xsQmFyID0gcmVxdWlyZShcIi4vc2Nyb2xsYmFyXCIpLlZTY3JvbGxCYXI7XG52YXIgUmVuZGVyTG9vcCA9IHJlcXVpcmUoXCIuL3JlbmRlcmxvb3BcIikuUmVuZGVyTG9vcDtcbnZhciBGb250TWV0cmljcyA9IHJlcXVpcmUoXCIuL2xheWVyL2ZvbnRfbWV0cmljc1wiKS5Gb250TWV0cmljcztcbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKFwiLi9saWIvZXZlbnRfZW1pdHRlclwiKS5FdmVudEVtaXR0ZXI7XG52YXIgZWRpdG9yQ3NzID0gXCJcXFxuLmFjZV9icjEge2JvcmRlci10b3AtbGVmdC1yYWRpdXMgICAgOiAzcHg7fVxcXG4uYWNlX2JyMiB7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXMgICA6IDNweDt9XFxcbi5hY2VfYnIzIHtib3JkZXItdG9wLWxlZnQtcmFkaXVzICAgIDogM3B4OyBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogICAgM3B4O31cXFxuLmFjZV9icjQge2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAzcHg7fVxcXG4uYWNlX2JyNSB7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1cyAgICA6IDNweDsgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDNweDt9XFxcbi5hY2VfYnI2IHtib3JkZXItdG9wLXJpZ2h0LXJhZGl1cyAgIDogM3B4OyBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogM3B4O31cXFxuLmFjZV9icjcge2JvcmRlci10b3AtbGVmdC1yYWRpdXMgICAgOiAzcHg7IGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAgICAzcHg7IGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAzcHg7fVxcXG4uYWNlX2JyOCB7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1cyA6IDNweDt9XFxcbi5hY2VfYnI5IHtib3JkZXItdG9wLWxlZnQtcmFkaXVzICAgIDogM3B4OyBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAgM3B4O31cXFxuLmFjZV9icjEwe2JvcmRlci10b3AtcmlnaHQtcmFkaXVzICAgOiAzcHg7IGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6ICAzcHg7fVxcXG4uYWNlX2JyMTF7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1cyAgICA6IDNweDsgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6ICAgIDNweDsgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogIDNweDt9XFxcbi5hY2VfYnIxMntib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogM3B4OyBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAgM3B4O31cXFxuLmFjZV9icjEze2JvcmRlci10b3AtbGVmdC1yYWRpdXMgICAgOiAzcHg7IGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAzcHg7IGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6ICAzcHg7fVxcXG4uYWNlX2JyMTR7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXMgICA6IDNweDsgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDNweDsgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogIDNweDt9XFxcbi5hY2VfYnIxNXtib3JkZXItdG9wLWxlZnQtcmFkaXVzICAgIDogM3B4OyBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogICAgM3B4OyBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogM3B4OyBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAzcHg7fVxcXG4uYWNlX2VkaXRvciB7XFxcbnBvc2l0aW9uOiByZWxhdGl2ZTtcXFxub3ZlcmZsb3c6IGhpZGRlbjtcXFxucGFkZGluZzogMDtcXFxuZm9udDogMTJweC9ub3JtYWwgJ01vbmFjbycsICdNZW5sbycsICdVYnVudHUgTW9ubycsICdDb25zb2xhcycsICdzb3VyY2UtY29kZS1wcm8nLCBtb25vc3BhY2U7XFxcbmRpcmVjdGlvbjogbHRyO1xcXG50ZXh0LWFsaWduOiBsZWZ0O1xcXG4td2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMCk7XFxcbn1cXFxuLmFjZV9zY3JvbGxlciB7XFxcbnBvc2l0aW9uOiBhYnNvbHV0ZTtcXFxub3ZlcmZsb3c6IGhpZGRlbjtcXFxudG9wOiAwO1xcXG5ib3R0b206IDA7XFxcbmJhY2tncm91bmQtY29sb3I6IGluaGVyaXQ7XFxcbi1tcy11c2VyLXNlbGVjdDogbm9uZTtcXFxuLW1vei11c2VyLXNlbGVjdDogbm9uZTtcXFxuLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcXFxudXNlci1zZWxlY3Q6IG5vbmU7XFxcbmN1cnNvcjogdGV4dDtcXFxufVxcXG4uYWNlX2NvbnRlbnQge1xcXG5wb3NpdGlvbjogYWJzb2x1dGU7XFxcbmJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxcbm1pbi13aWR0aDogMTAwJTtcXFxuY29udGFpbjogc3R5bGUgc2l6ZSBsYXlvdXQ7XFxcbmZvbnQtdmFyaWFudC1saWdhdHVyZXM6IG5vLWNvbW1vbi1saWdhdHVyZXM7XFxcbn1cXFxuLmFjZV9kcmFnZ2luZyAuYWNlX3Njcm9sbGVyOmJlZm9yZXtcXFxucG9zaXRpb246IGFic29sdXRlO1xcXG50b3A6IDA7XFxcbmxlZnQ6IDA7XFxcbnJpZ2h0OiAwO1xcXG5ib3R0b206IDA7XFxcbmNvbnRlbnQ6ICcnO1xcXG5iYWNrZ3JvdW5kOiByZ2JhKDI1MCwgMjUwLCAyNTAsIDAuMDEpO1xcXG56LWluZGV4OiAxMDAwO1xcXG59XFxcbi5hY2VfZHJhZ2dpbmcuYWNlX2RhcmsgLmFjZV9zY3JvbGxlcjpiZWZvcmV7XFxcbmJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4wMSk7XFxcbn1cXFxuLmFjZV9ndXR0ZXIge1xcXG5wb3NpdGlvbjogYWJzb2x1dGU7XFxcbm92ZXJmbG93IDogaGlkZGVuO1xcXG53aWR0aDogYXV0bztcXFxudG9wOiAwO1xcXG5ib3R0b206IDA7XFxcbmxlZnQ6IDA7XFxcbmN1cnNvcjogZGVmYXVsdDtcXFxuei1pbmRleDogNDtcXFxuLW1zLXVzZXItc2VsZWN0OiBub25lO1xcXG4tbW96LXVzZXItc2VsZWN0OiBub25lO1xcXG4td2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcXG51c2VyLXNlbGVjdDogbm9uZTtcXFxuY29udGFpbjogc3R5bGUgc2l6ZSBsYXlvdXQ7XFxcbn1cXFxuLmFjZV9ndXR0ZXItYWN0aXZlLWxpbmUge1xcXG5wb3NpdGlvbjogYWJzb2x1dGU7XFxcbmxlZnQ6IDA7XFxcbnJpZ2h0OiAwO1xcXG59XFxcbi5hY2Vfc2Nyb2xsZXIuYWNlX3Njcm9sbC1sZWZ0IHtcXFxuYm94LXNoYWRvdzogMTdweCAwIDE2cHggLTE2cHggcmdiYSgwLCAwLCAwLCAwLjQpIGluc2V0O1xcXG59XFxcbi5hY2VfZ3V0dGVyLWNlbGwge1xcXG5wb3NpdGlvbjogYWJzb2x1dGU7XFxcbnRvcDogMDtcXFxubGVmdDogMDtcXFxucmlnaHQ6IDA7XFxcbnBhZGRpbmctbGVmdDogMTlweDtcXFxucGFkZGluZy1yaWdodDogNnB4O1xcXG5iYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcXG59XFxcbi5hY2VfZ3V0dGVyLWNlbGwuYWNlX2Vycm9yIHtcXFxuYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJBQUFBQVFDQU1BQUFBb0xROVRBQUFCT0ZCTVZFWC8vLy8vLy8vL1FSc3dGQWIvVWk0d0ZBWXdGQVl3RkFhV0dBZkRSeW16T1NIL1B4c3dGQWIvU2lVd0ZBWXdGQWJVUFJ2alFpRGxsb2c1SGhIZFJ5YnNUaTMvVHl2OVRpcitTeWovVUMzLy8vL1h1cmViTUJJd0ZBYi9SU0hiUHgvZ1V6ZmR3TDNrek1pdktCQXdGQWJidmJuaFB4NjZOaG93RkFZd0ZBYVpKZzh3RkFheEtCRFp1cmYvUkI2bU14Yi9TQ013RkFZd0ZBYnhRQjMrUkI0d0ZBYi9RaHk0T2grNFFpZmJOUmN3RkFZd0ZBWXdGQWIvUVJ6ZE5oZ3dGQVl3RkFiYXY3di9VeTdvYUU2OE1CSzVMeExld3IvcjJOWGV3THN3RkFheEp3NHdGQWJrUFJ5MlB5WXdGQWF4S2hMbTF0TXdGQWF6UGlRd0ZBYVVHQWIvUUJyZk94M2J2cnYvVkMvbWFFNHdGQWJSUEJxNk1STzhReW5ldzhEcDJ0amZ3YjB3RkFieDZlanU1K2J5NnVuczR1SDkvZjM2K3ZyL0drSGpBQUFBWW5SU1RsTUFHdCs2NHJuV3UvYm84ZUFBNEluSDMrRHdvTjdqNGVMaTR4UDk5TmZnNCtiKy91OUIvZURzMU1EMW1PNys0UEhnMk1YYTM0N2c3dkRpek1MTjRlRytQdjdpNWV2cy92Nzl5dTdTMy9EVjcvNDk4WXYyNGVIKzR1ZlEzT3p1L3Y3K3kxM3NScXdBQUFETFNVUkJWSGphWmMvWERzRmdHSUJodERyc2hsaXRtazJJcmJIRnFMMnB2WGYvKzc4RFBva2o3K0Z6OXFwVS85VVhKSWxobVBhVGFRNlFQYXowbW0rNWd3a2dvdmNWNkdaemQ1SnRDUXdnc3hvSE92Sk8xNWtsZVJMQW5NZ0hGSUVTVUVQbWF3QjluZ21lbFR0aXB3d2ZBU2lseE9MeWlWNVVWVXlWQWZiRzBjQ1BIaWcrR0JrekFFTkhTMEFzdFZGNmJhY1pJT3pnTG14c0hidDJPZWNOZ0pDODNKRVJtZVBVWXE4QVJHa0p4Nlh0RnNkZGRCUWdaRTJuUFI2Q0lDWmhhd2pBNEZiL2NodiszOTlrZlIrTU1NREdPUUFBQUFCSlJVNUVya0pnZ2c9PVxcXCIpO1xcXG5iYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcXG5iYWNrZ3JvdW5kLXBvc2l0aW9uOiAycHggY2VudGVyO1xcXG59XFxcbi5hY2VfZ3V0dGVyLWNlbGwuYWNlX3dhcm5pbmcge1xcXG5iYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQkFBQUFBUUNBTUFBQUFvTFE5VEFBQUFtVkJNVkVYLy8vOEFBQUQvLy84QUFBQUFBQUJQU3piLzVzQUFBQUIvYmxILzczei91bGtBQUFBQUFBRDg1cGtBQUFBQUFBQUNBZ1Avdkd6L3JrRGVyR2JHclY3L3BrUUlDQWYvLy8vZTBJc0FBQUQvb0VEL3FUdmhyblVBQUFEL3lIRC9uamNBQUFEdXYyci9uei8vb1RqL3AwNjRvR2YvekhBQUFBQTlOaXIvdEZJQUFBRC90bFRpdVdmL3RrSUFBQUN5blhFQUFBQUFBQUF0SVJXN3pCcEJBQUFBTTNSU1RsTUFBQlIxbTdSWE84TG4zMVozNnpUK25lWGU1T3pvb1JEZm4rVFo0cDNoMmhUZjR0M2szdWN5ck4xSzUrWGFrczUyU2ZzOUNYZ3JBQUFBamtsRVFWUjQybzNQYlErQ0lCUUZZRXdib1BoU1lnb1l1bklxcUxuNi96OHVZZEg4Vm1kbnU5dno0V3dYZ04veFRQUkQyK3NnT2NaanNnZS93aFhaZ1VhWVl2VDhRbnVKYVVyanJIVVFyZUdjenVFYWZRQ08vU0pUdWZUYnJvV3NQZ3NsbFZocTN3SkVrMmpVU3pYM0NVRURKQzg0NzA3ZGpSYzVNVEFReG9MZ3VwV1J3VzZVQjVmUysrTlY4QWJPWmduc0M3QnBFQUFBQUFCSlJVNUVya0pnZ2c9PVxcXCIpO1xcXG5iYWNrZ3JvdW5kLXBvc2l0aW9uOiAycHggY2VudGVyO1xcXG59XFxcbi5hY2VfZ3V0dGVyLWNlbGwuYWNlX2luZm8ge1xcXG5iYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQkFBQUFBUUNBQUFBQUE2bUtDOUFBQUFHWFJGV0hSVGIyWjBkMkZ5WlFCQlpHOWlaU0JKYldGblpWSmxZV1I1Y2NsbFBBQUFBQUowVWs1VEFBQjJrODA0QUFBQVBrbEVRVlFZMDJOZ0lCNjhRdU8zdGlMem5qQXdwS1RnTnlEYk1lZ3dpc0NIWlVFVFVaVjBacU9xdUJwWGoycnRucFNKVDFBRW5uUm1MMk9nR2dBQUlLa1JRYXAyaHRnQUFBQUFTVVZPUks1Q1lJST1cXFwiKTtcXFxuYmFja2dyb3VuZC1wb3NpdGlvbjogMnB4IGNlbnRlcjtcXFxufVxcXG4uYWNlX2RhcmsgLmFjZV9ndXR0ZXItY2VsbC5hY2VfaW5mbyB7XFxcbmJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCQUFBQUFRQkFNQUFBRHQzZUpTQUFBQUpGQk1WRVVBQUFDaG9hR0FnSUFxS2lxK3ZyNnRyYTFaV1ZtVWxKU2JtNXM4UER4dWJtNTZlbnJkZ3pnM0FBQUFBWFJTVGxNQVFPYllaZ0FBQUNsSlJFRlVlTnBqWU1BUGRzTVlIZWd5SlpGUUJsc1VsTUZWQ1dVWUtrQVpNeFpBR2R4bERNUUJBRytUQlA0QjZSeUpBQUFBQUVsRlRrU3VRbUNDXFxcIik7XFxcbn1cXFxuLmFjZV9zY3JvbGxiYXIge1xcXG5jb250YWluOiBzdHJpY3Q7XFxcbnBvc2l0aW9uOiBhYnNvbHV0ZTtcXFxucmlnaHQ6IDA7XFxcbmJvdHRvbTogMDtcXFxuei1pbmRleDogNjtcXFxufVxcXG4uYWNlX3Njcm9sbGJhci1pbm5lciB7XFxcbnBvc2l0aW9uOiBhYnNvbHV0ZTtcXFxuY3Vyc29yOiB0ZXh0O1xcXG5sZWZ0OiAwO1xcXG50b3A6IDA7XFxcbn1cXFxuLmFjZV9zY3JvbGxiYXItdntcXFxub3ZlcmZsb3cteDogaGlkZGVuO1xcXG5vdmVyZmxvdy15OiBzY3JvbGw7XFxcbnRvcDogMDtcXFxufVxcXG4uYWNlX3Njcm9sbGJhci1oIHtcXFxub3ZlcmZsb3cteDogc2Nyb2xsO1xcXG5vdmVyZmxvdy15OiBoaWRkZW47XFxcbmxlZnQ6IDA7XFxcbn1cXFxuLmFjZV9wcmludC1tYXJnaW4ge1xcXG5wb3NpdGlvbjogYWJzb2x1dGU7XFxcbmhlaWdodDogMTAwJTtcXFxufVxcXG4uYWNlX3RleHQtaW5wdXQge1xcXG5wb3NpdGlvbjogYWJzb2x1dGU7XFxcbnotaW5kZXg6IDA7XFxcbndpZHRoOiAwLjVlbTtcXFxuaGVpZ2h0OiAxZW07XFxcbm9wYWNpdHk6IDA7XFxcbmJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xcXG4tbW96LWFwcGVhcmFuY2U6IG5vbmU7XFxcbmFwcGVhcmFuY2U6IG5vbmU7XFxcbmJvcmRlcjogbm9uZTtcXFxucmVzaXplOiBub25lO1xcXG5vdXRsaW5lOiBub25lO1xcXG5vdmVyZmxvdzogaGlkZGVuO1xcXG5mb250OiBpbmhlcml0O1xcXG5wYWRkaW5nOiAwIDFweDtcXFxubWFyZ2luOiAwIC0xcHg7XFxcbmNvbnRhaW46IHN0cmljdDtcXFxuLW1zLXVzZXItc2VsZWN0OiB0ZXh0O1xcXG4tbW96LXVzZXItc2VsZWN0OiB0ZXh0O1xcXG4td2Via2l0LXVzZXItc2VsZWN0OiB0ZXh0O1xcXG51c2VyLXNlbGVjdDogdGV4dDtcXFxud2hpdGUtc3BhY2U6IHByZSFpbXBvcnRhbnQ7XFxcbn1cXFxuLmFjZV90ZXh0LWlucHV0LmFjZV9jb21wb3NpdGlvbiB7XFxcbmJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xcXG5jb2xvcjogaW5oZXJpdDtcXFxuei1pbmRleDogMTAwMDtcXFxub3BhY2l0eTogMTtcXFxufVxcXG4uYWNlX2NvbXBvc2l0aW9uX3BsYWNlaG9sZGVyIHsgY29sb3I6IHRyYW5zcGFyZW50IH1cXFxuLmFjZV9jb21wb3NpdGlvbl9tYXJrZXIgeyBcXFxuYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkO1xcXG5wb3NpdGlvbjogYWJzb2x1dGU7XFxcbmJvcmRlci1yYWRpdXM6IDA7XFxcbm1hcmdpbi10b3A6IDFweDtcXFxufVxcXG5bYWNlX25vY29udGV4dD10cnVlXSB7XFxcbnRyYW5zZm9ybTogbm9uZSFpbXBvcnRhbnQ7XFxcbmZpbHRlcjogbm9uZSFpbXBvcnRhbnQ7XFxcbmNsaXAtcGF0aDogbm9uZSFpbXBvcnRhbnQ7XFxcbm1hc2sgOiBub25lIWltcG9ydGFudDtcXFxuY29udGFpbjogbm9uZSFpbXBvcnRhbnQ7XFxcbnBlcnNwZWN0aXZlOiBub25lIWltcG9ydGFudDtcXFxubWl4LWJsZW5kLW1vZGU6IGluaXRpYWwhaW1wb3J0YW50O1xcXG56LWluZGV4OiBhdXRvO1xcXG59XFxcbi5hY2VfbGF5ZXIge1xcXG56LWluZGV4OiAxO1xcXG5wb3NpdGlvbjogYWJzb2x1dGU7XFxcbm92ZXJmbG93OiBoaWRkZW47XFxcbndvcmQtd3JhcDogbm9ybWFsO1xcXG53aGl0ZS1zcGFjZTogcHJlO1xcXG5oZWlnaHQ6IDEwMCU7XFxcbndpZHRoOiAxMDAlO1xcXG5ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcXG5wb2ludGVyLWV2ZW50czogbm9uZTtcXFxufVxcXG4uYWNlX2d1dHRlci1sYXllciB7XFxcbnBvc2l0aW9uOiByZWxhdGl2ZTtcXFxud2lkdGg6IGF1dG87XFxcbnRleHQtYWxpZ246IHJpZ2h0O1xcXG5wb2ludGVyLWV2ZW50czogYXV0bztcXFxuaGVpZ2h0OiAxMDAwMDAwcHg7XFxcbmNvbnRhaW46IHN0eWxlIHNpemUgbGF5b3V0O1xcXG59XFxcbi5hY2VfdGV4dC1sYXllciB7XFxcbmZvbnQ6IGluaGVyaXQgIWltcG9ydGFudDtcXFxucG9zaXRpb246IGFic29sdXRlO1xcXG5oZWlnaHQ6IDEwMDAwMDBweDtcXFxud2lkdGg6IDEwMDAwMDBweDtcXFxuY29udGFpbjogc3R5bGUgc2l6ZSBsYXlvdXQ7XFxcbn1cXFxuLmFjZV90ZXh0LWxheWVyID4gLmFjZV9saW5lLCAuYWNlX3RleHQtbGF5ZXIgPiAuYWNlX2xpbmVfZ3JvdXAge1xcXG5jb250YWluOiBzdHlsZSBzaXplIGxheW91dDtcXFxucG9zaXRpb246IGFic29sdXRlO1xcXG50b3A6IDA7XFxcbmxlZnQ6IDA7XFxcbnJpZ2h0OiAwO1xcXG59XFxcbi5hY2VfaGlkcGkgLmFjZV90ZXh0LWxheWVyLFxcXG4uYWNlX2hpZHBpIC5hY2VfZ3V0dGVyLWxheWVyLFxcXG4uYWNlX2hpZHBpIC5hY2VfY29udGVudCxcXFxuLmFjZV9oaWRwaSAuYWNlX2d1dHRlciB7XFxcbmNvbnRhaW46IHN0cmljdDtcXFxud2lsbC1jaGFuZ2U6IHRyYW5zZm9ybTtcXFxufVxcXG4uYWNlX2hpZHBpIC5hY2VfdGV4dC1sYXllciA+IC5hY2VfbGluZSwgXFxcbi5hY2VfaGlkcGkgLmFjZV90ZXh0LWxheWVyID4gLmFjZV9saW5lX2dyb3VwIHtcXFxuY29udGFpbjogc3RyaWN0O1xcXG59XFxcbi5hY2VfY2prIHtcXFxuZGlzcGxheTogaW5saW5lLWJsb2NrO1xcXG50ZXh0LWFsaWduOiBjZW50ZXI7XFxcbn1cXFxuLmFjZV9jdXJzb3ItbGF5ZXIge1xcXG56LWluZGV4OiA0O1xcXG59XFxcbi5hY2VfY3Vyc29yIHtcXFxuei1pbmRleDogNDtcXFxucG9zaXRpb246IGFic29sdXRlO1xcXG5ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcXG5ib3JkZXItbGVmdDogMnB4IHNvbGlkO1xcXG50cmFuc2Zvcm06IHRyYW5zbGF0ZXooMCk7XFxcbn1cXFxuLmFjZV9tdWx0aXNlbGVjdCAuYWNlX2N1cnNvciB7XFxcbmJvcmRlci1sZWZ0LXdpZHRoOiAxcHg7XFxcbn1cXFxuLmFjZV9zbGltLWN1cnNvcnMgLmFjZV9jdXJzb3Ige1xcXG5ib3JkZXItbGVmdC13aWR0aDogMXB4O1xcXG59XFxcbi5hY2Vfb3ZlcndyaXRlLWN1cnNvcnMgLmFjZV9jdXJzb3Ige1xcXG5ib3JkZXItbGVmdC13aWR0aDogMDtcXFxuYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkO1xcXG59XFxcbi5hY2VfaGlkZGVuLWN1cnNvcnMgLmFjZV9jdXJzb3Ige1xcXG5vcGFjaXR5OiAwLjI7XFxcbn1cXFxuLmFjZV9oYXNQbGFjZWhvbGRlciAuYWNlX2hpZGRlbi1jdXJzb3JzIC5hY2VfY3Vyc29yIHtcXFxub3BhY2l0eTogMDtcXFxufVxcXG4uYWNlX3Ntb290aC1ibGlua2luZyAuYWNlX2N1cnNvciB7XFxcbnRyYW5zaXRpb246IG9wYWNpdHkgMC4xOHM7XFxcbn1cXFxuLmFjZV9hbmltYXRlLWJsaW5raW5nIC5hY2VfY3Vyc29yIHtcXFxuYW5pbWF0aW9uLWR1cmF0aW9uOiAxMDAwbXM7XFxcbmFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IHN0ZXAtZW5kO1xcXG5hbmltYXRpb24tbmFtZTogYmxpbmstYWNlLWFuaW1hdGU7XFxcbmFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6IGluZmluaXRlO1xcXG59XFxcbi5hY2VfYW5pbWF0ZS1ibGlua2luZy5hY2Vfc21vb3RoLWJsaW5raW5nIC5hY2VfY3Vyc29yIHtcXFxuYW5pbWF0aW9uLWR1cmF0aW9uOiAxMDAwbXM7XFxcbmFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2UtaW4tb3V0O1xcXG5hbmltYXRpb24tbmFtZTogYmxpbmstYWNlLWFuaW1hdGUtc21vb3RoO1xcXG59XFxcbkBrZXlmcmFtZXMgYmxpbmstYWNlLWFuaW1hdGUge1xcXG5mcm9tLCB0byB7IG9wYWNpdHk6IDE7IH1cXFxuNjAlIHsgb3BhY2l0eTogMDsgfVxcXG59XFxcbkBrZXlmcmFtZXMgYmxpbmstYWNlLWFuaW1hdGUtc21vb3RoIHtcXFxuZnJvbSwgdG8geyBvcGFjaXR5OiAxOyB9XFxcbjQ1JSB7IG9wYWNpdHk6IDE7IH1cXFxuNjAlIHsgb3BhY2l0eTogMDsgfVxcXG44NSUgeyBvcGFjaXR5OiAwOyB9XFxcbn1cXFxuLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9zdGVwLCAuYWNlX21hcmtlci1sYXllciAuYWNlX3N0YWNrIHtcXFxucG9zaXRpb246IGFic29sdXRlO1xcXG56LWluZGV4OiAzO1xcXG59XFxcbi5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc2VsZWN0aW9uIHtcXFxucG9zaXRpb246IGFic29sdXRlO1xcXG56LWluZGV4OiA1O1xcXG59XFxcbi5hY2VfbWFya2VyLWxheWVyIC5hY2VfYnJhY2tldCB7XFxcbnBvc2l0aW9uOiBhYnNvbHV0ZTtcXFxuei1pbmRleDogNjtcXFxufVxcXG4uYWNlX21hcmtlci1sYXllciAuYWNlX2Vycm9yX2JyYWNrZXQge1xcXG5wb3NpdGlvbjogYWJzb2x1dGU7XFxcbmJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjREU1NTU1O1xcXG5ib3JkZXItcmFkaXVzOiAwO1xcXG59XFxcbi5hY2VfbWFya2VyLWxheWVyIC5hY2VfYWN0aXZlLWxpbmUge1xcXG5wb3NpdGlvbjogYWJzb2x1dGU7XFxcbnotaW5kZXg6IDI7XFxcbn1cXFxuLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9zZWxlY3RlZC13b3JkIHtcXFxucG9zaXRpb246IGFic29sdXRlO1xcXG56LWluZGV4OiA0O1xcXG5ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcXG59XFxcbi5hY2VfbGluZSAuYWNlX2ZvbGQge1xcXG5ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcXG5kaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxcbmhlaWdodDogMTFweDtcXFxubWFyZ2luLXRvcDogLTJweDtcXFxudmVydGljYWwtYWxpZ246IG1pZGRsZTtcXFxuYmFja2dyb3VuZC1pbWFnZTpcXFxudXJsKFxcXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJFQUFBQUpDQVlBQUFEVTZNY01BQUFBR1hSRldIUlRiMlowZDJGeVpRQkJaRzlpWlNCSmJXRm5aVkpsWVdSNWNjbGxQQUFBQUpwSlJFRlVlTnBpL1AvL1B3T2xnQVhHWUdSa2xBVlNva0Q4R21qd1kxd2FzS2xqUXBZQUN0cENGZUFEY0hWUWZReU1RQXd6d0FaSTN3Skt2Q0xrZktCYU1TQ2xCbFI3Qk9RaWtDRkdRRUVySUgwVnFrYWJpR0NBcXdVYWRBelpKUnhRci8wZ3dpWElhbDh6UVFQbk5WVGdKMVRkYXdMMFQ1Z0JJUDFNVUpOaEJ2MkhLb1FISGpxTnJBNFdPNHpZMGdseU5LTFQyS0lmSU1BQVFzZGdHaVh2Z25ZQUFBQUFTVVZPUks1Q1lJST1cXFwiKSxcXFxudXJsKFxcXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBQTNDQVlBQUFETk5pQTVBQUFBR1hSRldIUlRiMlowZDJGeVpRQkJaRzlpWlNCSmJXRm5aVkpsWVdSNWNjbGxQQUFBQUNKSlJFRlVlTnBpK1AvL2Z4Z1RBd1BEQnhEeEQwNzhSU1grWWVFeURGTUNJTUFBSTNJTm1YaXdmMllBQUFBQVNVVk9SSzVDWUlJPVxcXCIpO1xcXG5iYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0LCByZXBlYXQteDtcXFxuYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyIGNlbnRlciwgdG9wIGxlZnQ7XFxcbmNvbG9yOiB0cmFuc3BhcmVudDtcXFxuYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XFxcbmJvcmRlci1yYWRpdXM6IDJweDtcXFxuY3Vyc29yOiBwb2ludGVyO1xcXG5wb2ludGVyLWV2ZW50czogYXV0bztcXFxufVxcXG4uYWNlX2RhcmsgLmFjZV9mb2xkIHtcXFxufVxcXG4uYWNlX2ZvbGQ6aG92ZXJ7XFxcbmJhY2tncm91bmQtaW1hZ2U6XFxcbnVybChcXFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCRUFBQUFKQ0FZQUFBRFU2TWNNQUFBQUdYUkZXSFJUYjJaMGQyRnlaUUJCWkc5aVpTQkpiV0ZuWlZKbFlXUjVjY2xsUEFBQUFKcEpSRUZVZU5waS9QLy9Qd09sZ0FYR1lHUmtsQVZTb2tEOEdtandZMXdhc0tsalFwWUFDdHBDRmVBRGNIVlFmUXlNUUF3endBWkkzd0pLdkNMa2ZLQmFNU0NsQmxSN0JPUWlrQ0ZHUUVFcklIMFZxa2FiaUdDQXF3VWFkQXpaSlJ4UXIvMGd3aVhJYWw4elFRUG5OVlRnSjFUZGF3TDBUNWdCSVAxTVVKTmhCdjJIS29RSEhqcU5yQTRXTzR6WTBnbHlOS0xUMktJZklNQUFRc2RnR2lYdmduWUFBQUFBU1VWT1JLNUNZSUk9XFxcIiksXFxcbnVybChcXFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBRUFBQUEzQ0FZQUFBRE5OaUE1QUFBQUdYUkZXSFJUYjJaMGQyRnlaUUJCWkc5aVpTQkpiV0ZuWlZKbFlXUjVjY2xsUEFBQUFDQkpSRUZVZU5waStQLy9mejRUQXdQRFp4RHhENVg0aTVmTE1Fd0pnQUFEQUVQVkRiak53ODdaQUFBQUFFbEZUa1N1UW1DQ1xcXCIpO1xcXG59XFxcbi5hY2VfdG9vbHRpcCB7XFxcbmJhY2tncm91bmQtY29sb3I6ICNGRkY7XFxcbmJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCh0byBib3R0b20sIHRyYW5zcGFyZW50LCByZ2JhKDAsIDAsIDAsIDAuMSkpO1xcXG5ib3JkZXI6IDFweCBzb2xpZCBncmF5O1xcXG5ib3JkZXItcmFkaXVzOiAxcHg7XFxcbmJveC1zaGFkb3c6IDAgMXB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMyk7XFxcbmNvbG9yOiBibGFjaztcXFxubWF4LXdpZHRoOiAxMDAlO1xcXG5wYWRkaW5nOiAzcHggNHB4O1xcXG5wb3NpdGlvbjogZml4ZWQ7XFxcbnotaW5kZXg6IDk5OTk5OTtcXFxuYm94LXNpemluZzogYm9yZGVyLWJveDtcXFxuY3Vyc29yOiBkZWZhdWx0O1xcXG53aGl0ZS1zcGFjZTogcHJlO1xcXG53b3JkLXdyYXA6IGJyZWFrLXdvcmQ7XFxcbmxpbmUtaGVpZ2h0OiBub3JtYWw7XFxcbmZvbnQtc3R5bGU6IG5vcm1hbDtcXFxuZm9udC13ZWlnaHQ6IG5vcm1hbDtcXFxubGV0dGVyLXNwYWNpbmc6IG5vcm1hbDtcXFxucG9pbnRlci1ldmVudHM6IG5vbmU7XFxcbn1cXFxuLmFjZV9mb2xkaW5nLWVuYWJsZWQgPiAuYWNlX2d1dHRlci1jZWxsIHtcXFxucGFkZGluZy1yaWdodDogMTNweDtcXFxufVxcXG4uYWNlX2ZvbGQtd2lkZ2V0IHtcXFxuYm94LXNpemluZzogYm9yZGVyLWJveDtcXFxubWFyZ2luOiAwIC0xMnB4IDAgMXB4O1xcXG5kaXNwbGF5OiBub25lO1xcXG53aWR0aDogMTFweDtcXFxudmVydGljYWwtYWxpZ246IHRvcDtcXFxuYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFVQUFBQUZDQVlBQUFDTmJ5YmxBQUFBTkVsRVFWUjQybVdLc1EwQU1BekM4aXhMbHJ6UWp6bUJpRWpwMEE2V3dCQ1NQZ0tBWG9Ma3FTb3Q3bk4zeU13UjdwWjMyTnpwS2tWb0RCVXhLQUFBQUFCSlJVNUVya0pnZ2c9PVxcXCIpO1xcXG5iYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcXG5iYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XFxcbmJvcmRlci1yYWRpdXM6IDNweDtcXFxuYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XFxcbmN1cnNvcjogcG9pbnRlcjtcXFxufVxcXG4uYWNlX2ZvbGRpbmctZW5hYmxlZCAuYWNlX2ZvbGQtd2lkZ2V0IHtcXFxuZGlzcGxheTogaW5saW5lLWJsb2NrOyAgIFxcXG59XFxcbi5hY2VfZm9sZC13aWRnZXQuYWNlX2VuZCB7XFxcbmJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBVUFBQUFGQ0FZQUFBQ05ieWJsQUFBQU5FbEVRVlI0Mm0zSHdRa0FNQWhEMFl6c1JjaEZLSTdzQWlrZVdrcnh3U2NFQjBuaDVlN0tUUFdpbVpraTR0WWZWYlgrTU5sNHB5WlhlalVPMVFBQUFBQkpSVTVFcmtKZ2dnPT1cXFwiKTtcXFxufVxcXG4uYWNlX2ZvbGQtd2lkZ2V0LmFjZV9jbG9zZWQge1xcXG5iYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQU1BQUFBR0NBWUFBQUFHNVNRTUFBQUFPVWxFUVZSNDJqWEt3UWtBTUFnRHdLd3FLRDRFd1EyNnNTT2tWV2pnSUlIQXpQaUNnYXFpcW5KSFpuS0lDQkVSSE4xOTRPNWI5dmJMdUFWUkwrbDBZV25aQUFBQUFFbEZUa1N1UW1DQ1hBPT1cXFwiKTtcXFxufVxcXG4uYWNlX2ZvbGQtd2lkZ2V0OmhvdmVyIHtcXFxuYm9yZGVyOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjMpO1xcXG5iYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMik7XFxcbmJveC1zaGFkb3c6IDAgMXB4IDFweCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNyk7XFxcbn1cXFxuLmFjZV9mb2xkLXdpZGdldDphY3RpdmUge1xcXG5ib3JkZXI6IDFweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuNCk7XFxcbmJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4wNSk7XFxcbmJveC1zaGFkb3c6IDAgMXB4IDFweCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOCk7XFxcbn1cXFxuLmFjZV9kYXJrIC5hY2VfZm9sZC13aWRnZXQge1xcXG5iYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQVVBQUFBRkNBWUFBQUNOYnlibEFBQUFIa2xFUVZRSVcyUDQvLzgvQXpvR0VRN29HQ2FMTEFoV2lTd0IxNDZCQVFDU1RQWW9jcVQwQUFBQUFFbEZUa1N1UW1DQ1xcXCIpO1xcXG59XFxcbi5hY2VfZGFyayAuYWNlX2ZvbGQtd2lkZ2V0LmFjZV9lbmQge1xcXG5iYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQVVBQUFBRkNBWUFBQUNOYnlibEFBQUFIMGxFUVZRSVcyUDQvLzgvQXhRN3dOaklBakRNZ0M0QXhqQ1ZLQmlySUFBRjBrejJybGh4cEFBQUFBQkpSVTVFcmtKZ2dnPT1cXFwiKTtcXFxufVxcXG4uYWNlX2RhcmsgLmFjZV9mb2xkLXdpZGdldC5hY2VfY2xvc2VkIHtcXFxuYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFNQUFBQUZDQVlBQUFDQWNWYWlBQUFBSEVsRVFWUUlXMlA0Ly8rL0F4QXpnREFEbE9PQXpuSEFLZ1BXQXdBUmppOFVJRFRmUVFBQUFBQkpSVTVFcmtKZ2dnPT1cXFwiKTtcXFxufVxcXG4uYWNlX2RhcmsgLmFjZV9mb2xkLXdpZGdldDpob3ZlciB7XFxcbmJveC1zaGFkb3c6IDAgMXB4IDFweCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMik7XFxcbmJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTtcXFxufVxcXG4uYWNlX2RhcmsgLmFjZV9mb2xkLXdpZGdldDphY3RpdmUge1xcXG5ib3gtc2hhZG93OiAwIDFweCAxcHggcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpO1xcXG59XFxcbi5hY2VfaW5saW5lX2J1dHRvbiB7XFxcbmJvcmRlcjogMXB4IHNvbGlkIGxpZ2h0Z3JheTtcXFxuZGlzcGxheTogaW5saW5lLWJsb2NrO1xcXG5tYXJnaW46IC0xcHggOHB4O1xcXG5wYWRkaW5nOiAwIDVweDtcXFxucG9pbnRlci1ldmVudHM6IGF1dG87XFxcbmN1cnNvcjogcG9pbnRlcjtcXFxufVxcXG4uYWNlX2lubGluZV9idXR0b246aG92ZXIge1xcXG5ib3JkZXItY29sb3I6IGdyYXk7XFxcbmJhY2tncm91bmQ6IHJnYmEoMjAwLDIwMCwyMDAsMC4yKTtcXFxuZGlzcGxheTogaW5saW5lLWJsb2NrO1xcXG5wb2ludGVyLWV2ZW50czogYXV0bztcXFxufVxcXG4uYWNlX2ZvbGQtd2lkZ2V0LmFjZV9pbnZhbGlkIHtcXFxuYmFja2dyb3VuZC1jb2xvcjogI0ZGQjRCNDtcXFxuYm9yZGVyLWNvbG9yOiAjREU1NTU1O1xcXG59XFxcbi5hY2VfZmFkZS1mb2xkLXdpZGdldHMgLmFjZV9mb2xkLXdpZGdldCB7XFxcbnRyYW5zaXRpb246IG9wYWNpdHkgMC40cyBlYXNlIDAuMDVzO1xcXG5vcGFjaXR5OiAwO1xcXG59XFxcbi5hY2VfZmFkZS1mb2xkLXdpZGdldHM6aG92ZXIgLmFjZV9mb2xkLXdpZGdldCB7XFxcbnRyYW5zaXRpb246IG9wYWNpdHkgMC4wNXMgZWFzZSAwLjA1cztcXFxub3BhY2l0eToxO1xcXG59XFxcbi5hY2VfdW5kZXJsaW5lIHtcXFxudGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XFxcbn1cXFxuLmFjZV9ib2xkIHtcXFxuZm9udC13ZWlnaHQ6IGJvbGQ7XFxcbn1cXFxuLmFjZV9ub2JvbGQgLmFjZV9ib2xkIHtcXFxuZm9udC13ZWlnaHQ6IG5vcm1hbDtcXFxufVxcXG4uYWNlX2l0YWxpYyB7XFxcbmZvbnQtc3R5bGU6IGl0YWxpYztcXFxufVxcXG4uYWNlX2Vycm9yLW1hcmtlciB7XFxcbmJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAwLCAwLDAuMik7XFxcbnBvc2l0aW9uOiBhYnNvbHV0ZTtcXFxuei1pbmRleDogOTtcXFxufVxcXG4uYWNlX2hpZ2hsaWdodC1tYXJrZXIge1xcXG5iYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAwLDAuMik7XFxcbnBvc2l0aW9uOiBhYnNvbHV0ZTtcXFxuei1pbmRleDogODtcXFxufVxcXG4uYWNlX21vYmlsZS1tZW51IHtcXFxucG9zaXRpb246IGFic29sdXRlO1xcXG5saW5lLWhlaWdodDogMS41O1xcXG5ib3JkZXItcmFkaXVzOiA0cHg7XFxcbi1tcy11c2VyLXNlbGVjdDogbm9uZTtcXFxuLW1vei11c2VyLXNlbGVjdDogbm9uZTtcXFxuLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcXFxudXNlci1zZWxlY3Q6IG5vbmU7XFxcbmJhY2tncm91bmQ6IHdoaXRlO1xcXG5ib3gtc2hhZG93OiAxcHggM3B4IDJweCBncmV5O1xcXG5ib3JkZXI6IDFweCBzb2xpZCAjZGNkY2RjO1xcXG5jb2xvcjogYmxhY2s7XFxcbn1cXFxuLmFjZV9kYXJrID4gLmFjZV9tb2JpbGUtbWVudSB7XFxcbmJhY2tncm91bmQ6ICMzMzM7XFxcbmNvbG9yOiAjY2NjO1xcXG5ib3gtc2hhZG93OiAxcHggM3B4IDJweCBncmV5O1xcXG5ib3JkZXI6IDFweCBzb2xpZCAjNDQ0O1xcXG59XFxcbi5hY2VfbW9iaWxlLWJ1dHRvbiB7XFxcbnBhZGRpbmc6IDJweDtcXFxuY3Vyc29yOiBwb2ludGVyO1xcXG5vdmVyZmxvdzogaGlkZGVuO1xcXG59XFxcbi5hY2VfbW9iaWxlLWJ1dHRvbjpob3ZlciB7XFxcbmJhY2tncm91bmQtY29sb3I6ICNlZWU7XFxcbm9wYWNpdHk6MTtcXFxufVxcXG4uYWNlX21vYmlsZS1idXR0b246YWN0aXZlIHtcXFxuYmFja2dyb3VuZC1jb2xvcjogI2RkZDtcXFxufVxcXG4uYWNlX3BsYWNlaG9sZGVyIHtcXFxuZm9udC1mYW1pbHk6IGFyaWFsO1xcXG50cmFuc2Zvcm06IHNjYWxlKDAuOSk7XFxcbnRyYW5zZm9ybS1vcmlnaW46IGxlZnQ7XFxcbndoaXRlLXNwYWNlOiBwcmU7XFxcbm9wYWNpdHk6IDAuNztcXFxubWFyZ2luOiAwIDEwcHg7XFxcbn1cIjtcblxudmFyIHVzZXJhZ2VudCA9IHJlcXVpcmUoXCIuL2xpYi91c2VyYWdlbnRcIik7XG52YXIgSElERV9URVhUQVJFQSA9IHVzZXJhZ2VudC5pc0lFO1xuXG5kb20uaW1wb3J0Q3NzU3RyaW5nKGVkaXRvckNzcywgXCJhY2VfZWRpdG9yLmNzc1wiLCBmYWxzZSk7XG5cbnZhciBWaXJ0dWFsUmVuZGVyZXIgPSBmdW5jdGlvbihjb250YWluZXIsIHRoZW1lKSB7XG4gICAgdmFyIF9zZWxmID0gdGhpcztcblxuICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyIHx8IGRvbS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gICAgZG9tLmFkZENzc0NsYXNzKHRoaXMuY29udGFpbmVyLCBcImFjZV9lZGl0b3JcIik7XG4gICAgaWYgKGRvbS5ISV9EUEkpIGRvbS5hZGRDc3NDbGFzcyh0aGlzLmNvbnRhaW5lciwgXCJhY2VfaGlkcGlcIik7XG5cbiAgICB0aGlzLnNldFRoZW1lKHRoZW1lKTtcbiAgICBpZiAoY29uZmlnLmdldChcInVzZVN0cmljdENTUFwiKSA9PSBudWxsKSBcbiAgICAgICAgY29uZmlnLnNldChcInVzZVN0cmljdENTUFwiLCBmYWxzZSk7XG5cbiAgICB0aGlzLiRndXR0ZXIgPSBkb20uY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB0aGlzLiRndXR0ZXIuY2xhc3NOYW1lID0gXCJhY2VfZ3V0dGVyXCI7XG4gICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy4kZ3V0dGVyKTtcbiAgICB0aGlzLiRndXR0ZXIuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgdHJ1ZSk7XG5cbiAgICB0aGlzLnNjcm9sbGVyID0gZG9tLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGhpcy5zY3JvbGxlci5jbGFzc05hbWUgPSBcImFjZV9zY3JvbGxlclwiO1xuICAgIFxuICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuc2Nyb2xsZXIpO1xuXG4gICAgdGhpcy5jb250ZW50ID0gZG9tLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGhpcy5jb250ZW50LmNsYXNzTmFtZSA9IFwiYWNlX2NvbnRlbnRcIjtcbiAgICB0aGlzLnNjcm9sbGVyLmFwcGVuZENoaWxkKHRoaXMuY29udGVudCk7XG5cbiAgICB0aGlzLiRndXR0ZXJMYXllciA9IG5ldyBHdXR0ZXJMYXllcih0aGlzLiRndXR0ZXIpO1xuICAgIHRoaXMuJGd1dHRlckxheWVyLm9uKFwiY2hhbmdlR3V0dGVyV2lkdGhcIiwgdGhpcy5vbkd1dHRlclJlc2l6ZS5iaW5kKHRoaXMpKTtcblxuICAgIHRoaXMuJG1hcmtlckJhY2sgPSBuZXcgTWFya2VyTGF5ZXIodGhpcy5jb250ZW50KTtcblxuICAgIHZhciB0ZXh0TGF5ZXIgPSB0aGlzLiR0ZXh0TGF5ZXIgPSBuZXcgVGV4dExheWVyKHRoaXMuY29udGVudCk7XG4gICAgdGhpcy5jYW52YXMgPSB0ZXh0TGF5ZXIuZWxlbWVudDtcblxuICAgIHRoaXMuJG1hcmtlckZyb250ID0gbmV3IE1hcmtlckxheWVyKHRoaXMuY29udGVudCk7XG5cbiAgICB0aGlzLiRjdXJzb3JMYXllciA9IG5ldyBDdXJzb3JMYXllcih0aGlzLmNvbnRlbnQpO1xuICAgIHRoaXMuJGhvcml6U2Nyb2xsID0gZmFsc2U7XG4gICAgdGhpcy4kdlNjcm9sbCA9IGZhbHNlO1xuXG4gICAgdGhpcy5zY3JvbGxCYXIgPSBcbiAgICB0aGlzLnNjcm9sbEJhclYgPSBuZXcgVlNjcm9sbEJhcih0aGlzLmNvbnRhaW5lciwgdGhpcyk7XG4gICAgdGhpcy5zY3JvbGxCYXJIID0gbmV3IEhTY3JvbGxCYXIodGhpcy5jb250YWluZXIsIHRoaXMpO1xuICAgIHRoaXMuc2Nyb2xsQmFyVi5vbihcInNjcm9sbFwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmICghX3NlbGYuJHNjcm9sbEFuaW1hdGlvbilcbiAgICAgICAgICAgIF9zZWxmLnNlc3Npb24uc2V0U2Nyb2xsVG9wKGUuZGF0YSAtIF9zZWxmLnNjcm9sbE1hcmdpbi50b3ApO1xuICAgIH0pO1xuICAgIHRoaXMuc2Nyb2xsQmFySC5vbihcInNjcm9sbFwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmICghX3NlbGYuJHNjcm9sbEFuaW1hdGlvbilcbiAgICAgICAgICAgIF9zZWxmLnNlc3Npb24uc2V0U2Nyb2xsTGVmdChlLmRhdGEgLSBfc2VsZi5zY3JvbGxNYXJnaW4ubGVmdCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnNjcm9sbFRvcCA9IDA7XG4gICAgdGhpcy5zY3JvbGxMZWZ0ID0gMDtcblxuICAgIHRoaXMuY3Vyc29yUG9zID0ge1xuICAgICAgICByb3cgOiAwLFxuICAgICAgICBjb2x1bW4gOiAwXG4gICAgfTtcblxuICAgIHRoaXMuJGZvbnRNZXRyaWNzID0gbmV3IEZvbnRNZXRyaWNzKHRoaXMuY29udGFpbmVyKTtcbiAgICB0aGlzLiR0ZXh0TGF5ZXIuJHNldEZvbnRNZXRyaWNzKHRoaXMuJGZvbnRNZXRyaWNzKTtcbiAgICB0aGlzLiR0ZXh0TGF5ZXIub24oXCJjaGFuZ2VDaGFyYWN0ZXJTaXplXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgX3NlbGYudXBkYXRlQ2hhcmFjdGVyU2l6ZSgpO1xuICAgICAgICBfc2VsZi5vblJlc2l6ZSh0cnVlLCBfc2VsZi5ndXR0ZXJXaWR0aCwgX3NlbGYuJHNpemUud2lkdGgsIF9zZWxmLiRzaXplLmhlaWdodCk7XG4gICAgICAgIF9zZWxmLl9zaWduYWwoXCJjaGFuZ2VDaGFyYWN0ZXJTaXplXCIsIGUpO1xuICAgIH0pO1xuXG4gICAgdGhpcy4kc2l6ZSA9IHtcbiAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgIGhlaWdodDogMCxcbiAgICAgICAgc2Nyb2xsZXJIZWlnaHQ6IDAsXG4gICAgICAgIHNjcm9sbGVyV2lkdGg6IDAsXG4gICAgICAgICRkaXJ0eTogdHJ1ZVxuICAgIH07XG5cbiAgICB0aGlzLmxheWVyQ29uZmlnID0ge1xuICAgICAgICB3aWR0aCA6IDEsXG4gICAgICAgIHBhZGRpbmcgOiAwLFxuICAgICAgICBmaXJzdFJvdyA6IDAsXG4gICAgICAgIGZpcnN0Um93U2NyZWVuOiAwLFxuICAgICAgICBsYXN0Um93IDogMCxcbiAgICAgICAgbGluZUhlaWdodCA6IDAsXG4gICAgICAgIGNoYXJhY3RlcldpZHRoIDogMCxcbiAgICAgICAgbWluSGVpZ2h0IDogMSxcbiAgICAgICAgbWF4SGVpZ2h0IDogMSxcbiAgICAgICAgb2Zmc2V0IDogMCxcbiAgICAgICAgaGVpZ2h0IDogMSxcbiAgICAgICAgZ3V0dGVyT2Zmc2V0OiAxXG4gICAgfTtcbiAgICBcbiAgICB0aGlzLnNjcm9sbE1hcmdpbiA9IHtcbiAgICAgICAgbGVmdDogMCxcbiAgICAgICAgcmlnaHQ6IDAsXG4gICAgICAgIHRvcDogMCxcbiAgICAgICAgYm90dG9tOiAwLFxuICAgICAgICB2OiAwLFxuICAgICAgICBoOiAwXG4gICAgfTtcbiAgICBcbiAgICB0aGlzLm1hcmdpbiA9IHtcbiAgICAgICAgbGVmdDogMCxcbiAgICAgICAgcmlnaHQ6IDAsXG4gICAgICAgIHRvcDogMCxcbiAgICAgICAgYm90dG9tOiAwLFxuICAgICAgICB2OiAwLFxuICAgICAgICBoOiAwXG4gICAgfTtcbiAgICBcbiAgICB0aGlzLiRrZWVwVGV4dEFyZWFBdEN1cnNvciA9ICF1c2VyYWdlbnQuaXNJT1M7XG5cbiAgICB0aGlzLiRsb29wID0gbmV3IFJlbmRlckxvb3AoXG4gICAgICAgIHRoaXMuJHJlbmRlckNoYW5nZXMuYmluZCh0aGlzKSxcbiAgICAgICAgdGhpcy5jb250YWluZXIub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlld1xuICAgICk7XG4gICAgdGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9GVUxMKTtcblxuICAgIHRoaXMudXBkYXRlQ2hhcmFjdGVyU2l6ZSgpO1xuICAgIHRoaXMuc2V0UGFkZGluZyg0KTtcbiAgICBjb25maWcucmVzZXRPcHRpb25zKHRoaXMpO1xuICAgIGNvbmZpZy5fc2lnbmFsKFwicmVuZGVyZXJcIiwgdGhpcyk7XG59O1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICB0aGlzLkNIQU5HRV9DVVJTT1IgPSAxO1xuICAgIHRoaXMuQ0hBTkdFX01BUktFUiA9IDI7XG4gICAgdGhpcy5DSEFOR0VfR1VUVEVSID0gNDtcbiAgICB0aGlzLkNIQU5HRV9TQ1JPTEwgPSA4O1xuICAgIHRoaXMuQ0hBTkdFX0xJTkVTID0gMTY7XG4gICAgdGhpcy5DSEFOR0VfVEVYVCA9IDMyO1xuICAgIHRoaXMuQ0hBTkdFX1NJWkUgPSA2NDtcbiAgICB0aGlzLkNIQU5HRV9NQVJLRVJfQkFDSyA9IDEyODtcbiAgICB0aGlzLkNIQU5HRV9NQVJLRVJfRlJPTlQgPSAyNTY7XG4gICAgdGhpcy5DSEFOR0VfRlVMTCA9IDUxMjtcbiAgICB0aGlzLkNIQU5HRV9IX1NDUk9MTCA9IDEwMjQ7XG5cbiAgICBvb3AuaW1wbGVtZW50KHRoaXMsIEV2ZW50RW1pdHRlcik7XG5cbiAgICB0aGlzLnVwZGF0ZUNoYXJhY3RlclNpemUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuJHRleHRMYXllci5hbGxvd0JvbGRGb250cyAhPSB0aGlzLiRhbGxvd0JvbGRGb250cykge1xuICAgICAgICAgICAgdGhpcy4kYWxsb3dCb2xkRm9udHMgPSB0aGlzLiR0ZXh0TGF5ZXIuYWxsb3dCb2xkRm9udHM7XG4gICAgICAgICAgICB0aGlzLnNldFN0eWxlKFwiYWNlX25vYm9sZFwiLCAhdGhpcy4kYWxsb3dCb2xkRm9udHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5sYXllckNvbmZpZy5jaGFyYWN0ZXJXaWR0aCA9XG4gICAgICAgIHRoaXMuY2hhcmFjdGVyV2lkdGggPSB0aGlzLiR0ZXh0TGF5ZXIuZ2V0Q2hhcmFjdGVyV2lkdGgoKTtcbiAgICAgICAgdGhpcy5sYXllckNvbmZpZy5saW5lSGVpZ2h0ID1cbiAgICAgICAgdGhpcy5saW5lSGVpZ2h0ID0gdGhpcy4kdGV4dExheWVyLmdldExpbmVIZWlnaHQoKTtcbiAgICAgICAgdGhpcy4kdXBkYXRlUHJpbnRNYXJnaW4oKTtcbiAgICAgICAgZG9tLnNldFN0eWxlKHRoaXMuc2Nyb2xsZXIuc3R5bGUsIFwibGluZS1oZWlnaHRcIiwgdGhpcy5saW5lSGVpZ2h0ICsgXCJweFwiKTtcbiAgICB9O1xuICAgIHRoaXMuc2V0U2Vzc2lvbiA9IGZ1bmN0aW9uKHNlc3Npb24pIHtcbiAgICAgICAgaWYgKHRoaXMuc2Vzc2lvbilcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5kb2Mub2ZmKFwiY2hhbmdlTmV3TGluZU1vZGVcIiwgdGhpcy5vbkNoYW5nZU5ld0xpbmVNb2RlKTtcbiAgICAgICAgICAgIFxuICAgICAgICB0aGlzLnNlc3Npb24gPSBzZXNzaW9uO1xuICAgICAgICBpZiAoc2Vzc2lvbiAmJiB0aGlzLnNjcm9sbE1hcmdpbi50b3AgJiYgc2Vzc2lvbi5nZXRTY3JvbGxUb3AoKSA8PSAwKVxuICAgICAgICAgICAgc2Vzc2lvbi5zZXRTY3JvbGxUb3AoLXRoaXMuc2Nyb2xsTWFyZ2luLnRvcCk7XG5cbiAgICAgICAgdGhpcy4kY3Vyc29yTGF5ZXIuc2V0U2Vzc2lvbihzZXNzaW9uKTtcbiAgICAgICAgdGhpcy4kbWFya2VyQmFjay5zZXRTZXNzaW9uKHNlc3Npb24pO1xuICAgICAgICB0aGlzLiRtYXJrZXJGcm9udC5zZXRTZXNzaW9uKHNlc3Npb24pO1xuICAgICAgICB0aGlzLiRndXR0ZXJMYXllci5zZXRTZXNzaW9uKHNlc3Npb24pO1xuICAgICAgICB0aGlzLiR0ZXh0TGF5ZXIuc2V0U2Vzc2lvbihzZXNzaW9uKTtcbiAgICAgICAgaWYgKCFzZXNzaW9uKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBcbiAgICAgICAgdGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9GVUxMKTtcbiAgICAgICAgdGhpcy5zZXNzaW9uLiRzZXRGb250TWV0cmljcyh0aGlzLiRmb250TWV0cmljcyk7XG4gICAgICAgIHRoaXMuc2Nyb2xsQmFySC5zY3JvbGxMZWZ0ID0gdGhpcy5zY3JvbGxCYXJWLnNjcm9sbFRvcCA9IG51bGw7XG4gICAgICAgIFxuICAgICAgICB0aGlzLm9uQ2hhbmdlTmV3TGluZU1vZGUgPSB0aGlzLm9uQ2hhbmdlTmV3TGluZU1vZGUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vbkNoYW5nZU5ld0xpbmVNb2RlKCk7XG4gICAgICAgIHRoaXMuc2Vzc2lvbi5kb2Mub24oXCJjaGFuZ2VOZXdMaW5lTW9kZVwiLCB0aGlzLm9uQ2hhbmdlTmV3TGluZU1vZGUpO1xuICAgIH07XG4gICAgdGhpcy51cGRhdGVMaW5lcyA9IGZ1bmN0aW9uKGZpcnN0Um93LCBsYXN0Um93LCBmb3JjZSkge1xuICAgICAgICBpZiAobGFzdFJvdyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgbGFzdFJvdyA9IEluZmluaXR5O1xuXG4gICAgICAgIGlmICghdGhpcy4kY2hhbmdlZExpbmVzKSB7XG4gICAgICAgICAgICB0aGlzLiRjaGFuZ2VkTGluZXMgPSB7XG4gICAgICAgICAgICAgICAgZmlyc3RSb3c6IGZpcnN0Um93LFxuICAgICAgICAgICAgICAgIGxhc3RSb3c6IGxhc3RSb3dcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy4kY2hhbmdlZExpbmVzLmZpcnN0Um93ID4gZmlyc3RSb3cpXG4gICAgICAgICAgICAgICAgdGhpcy4kY2hhbmdlZExpbmVzLmZpcnN0Um93ID0gZmlyc3RSb3c7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLiRjaGFuZ2VkTGluZXMubGFzdFJvdyA8IGxhc3RSb3cpXG4gICAgICAgICAgICAgICAgdGhpcy4kY2hhbmdlZExpbmVzLmxhc3RSb3cgPSBsYXN0Um93O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLiRjaGFuZ2VkTGluZXMubGFzdFJvdyA8IHRoaXMubGF5ZXJDb25maWcuZmlyc3RSb3cpIHtcbiAgICAgICAgICAgIGlmIChmb3JjZSlcbiAgICAgICAgICAgICAgICB0aGlzLiRjaGFuZ2VkTGluZXMubGFzdFJvdyA9IHRoaXMubGF5ZXJDb25maWcubGFzdFJvdztcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuJGNoYW5nZWRMaW5lcy5maXJzdFJvdyA+IHRoaXMubGF5ZXJDb25maWcubGFzdFJvdylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9MSU5FUyk7XG4gICAgfTtcblxuICAgIHRoaXMub25DaGFuZ2VOZXdMaW5lTW9kZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX1RFWFQpO1xuICAgICAgICB0aGlzLiR0ZXh0TGF5ZXIuJHVwZGF0ZUVvbENoYXIoKTtcbiAgICAgICAgdGhpcy5zZXNzaW9uLiRiaWRpSGFuZGxlci5zZXRFb2xDaGFyKHRoaXMuJHRleHRMYXllci5FT0xfQ0hBUik7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLm9uQ2hhbmdlVGFiU2l6ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX1RFWFQgfCB0aGlzLkNIQU5HRV9NQVJLRVIpO1xuICAgICAgICB0aGlzLiR0ZXh0TGF5ZXIub25DaGFuZ2VUYWJTaXplKCk7XG4gICAgfTtcbiAgICB0aGlzLnVwZGF0ZVRleHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9URVhUKTtcbiAgICB9O1xuICAgIHRoaXMudXBkYXRlRnVsbCA9IGZ1bmN0aW9uKGZvcmNlKSB7XG4gICAgICAgIGlmIChmb3JjZSlcbiAgICAgICAgICAgIHRoaXMuJHJlbmRlckNoYW5nZXModGhpcy5DSEFOR0VfRlVMTCwgdHJ1ZSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuJGxvb3Auc2NoZWR1bGUodGhpcy5DSEFOR0VfRlVMTCk7XG4gICAgfTtcbiAgICB0aGlzLnVwZGF0ZUZvbnRTaXplID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJHRleHRMYXllci5jaGVja0ZvclNpemVDaGFuZ2VzKCk7XG4gICAgfTtcblxuICAgIHRoaXMuJGNoYW5nZXMgPSAwO1xuICAgIHRoaXMuJHVwZGF0ZVNpemVBc3luYyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy4kbG9vcC5wZW5kaW5nKVxuICAgICAgICAgICAgdGhpcy4kc2l6ZS4kZGlydHkgPSB0cnVlO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLm9uUmVzaXplKCk7XG4gICAgfTtcbiAgICB0aGlzLm9uUmVzaXplID0gZnVuY3Rpb24oZm9yY2UsIGd1dHRlcldpZHRoLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIGlmICh0aGlzLnJlc2l6aW5nID4gMilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5yZXNpemluZyA+IDApXG4gICAgICAgICAgICB0aGlzLnJlc2l6aW5nKys7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMucmVzaXppbmcgPSBmb3JjZSA/IDEgOiAwO1xuICAgICAgICB2YXIgZWwgPSB0aGlzLmNvbnRhaW5lcjtcbiAgICAgICAgaWYgKCFoZWlnaHQpXG4gICAgICAgICAgICBoZWlnaHQgPSBlbC5jbGllbnRIZWlnaHQgfHwgZWwuc2Nyb2xsSGVpZ2h0O1xuICAgICAgICBpZiAoIXdpZHRoKVxuICAgICAgICAgICAgd2lkdGggPSBlbC5jbGllbnRXaWR0aCB8fCBlbC5zY3JvbGxXaWR0aDtcbiAgICAgICAgdmFyIGNoYW5nZXMgPSB0aGlzLiR1cGRhdGVDYWNoZWRTaXplKGZvcmNlLCBndXR0ZXJXaWR0aCwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgXG4gICAgICAgIGlmICghdGhpcy4kc2l6ZS5zY3JvbGxlckhlaWdodCB8fCAoIXdpZHRoICYmICFoZWlnaHQpKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVzaXppbmcgPSAwO1xuXG4gICAgICAgIGlmIChmb3JjZSlcbiAgICAgICAgICAgIHRoaXMuJGd1dHRlckxheWVyLiRwYWRkaW5nID0gbnVsbDtcblxuICAgICAgICBpZiAoZm9yY2UpXG4gICAgICAgICAgICB0aGlzLiRyZW5kZXJDaGFuZ2VzKGNoYW5nZXMgfCB0aGlzLiRjaGFuZ2VzLCB0cnVlKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy4kbG9vcC5zY2hlZHVsZShjaGFuZ2VzIHwgdGhpcy4kY2hhbmdlcyk7XG5cbiAgICAgICAgaWYgKHRoaXMucmVzaXppbmcpXG4gICAgICAgICAgICB0aGlzLnJlc2l6aW5nID0gMDtcbiAgICAgICAgdGhpcy5zY3JvbGxCYXJILnNjcm9sbExlZnQgPSB0aGlzLnNjcm9sbEJhclYuc2Nyb2xsVG9wID0gbnVsbDtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuJHVwZGF0ZUNhY2hlZFNpemUgPSBmdW5jdGlvbihmb3JjZSwgZ3V0dGVyV2lkdGgsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgaGVpZ2h0IC09ICh0aGlzLiRleHRyYUhlaWdodCB8fCAwKTtcbiAgICAgICAgdmFyIGNoYW5nZXMgPSAwO1xuICAgICAgICB2YXIgc2l6ZSA9IHRoaXMuJHNpemU7XG4gICAgICAgIHZhciBvbGRTaXplID0ge1xuICAgICAgICAgICAgd2lkdGg6IHNpemUud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHNpemUuaGVpZ2h0LFxuICAgICAgICAgICAgc2Nyb2xsZXJIZWlnaHQ6IHNpemUuc2Nyb2xsZXJIZWlnaHQsXG4gICAgICAgICAgICBzY3JvbGxlcldpZHRoOiBzaXplLnNjcm9sbGVyV2lkdGhcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGhlaWdodCAmJiAoZm9yY2UgfHwgc2l6ZS5oZWlnaHQgIT0gaGVpZ2h0KSkge1xuICAgICAgICAgICAgc2l6ZS5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgICBjaGFuZ2VzIHw9IHRoaXMuQ0hBTkdFX1NJWkU7XG5cbiAgICAgICAgICAgIHNpemUuc2Nyb2xsZXJIZWlnaHQgPSBzaXplLmhlaWdodDtcbiAgICAgICAgICAgIGlmICh0aGlzLiRob3JpelNjcm9sbClcbiAgICAgICAgICAgICAgICBzaXplLnNjcm9sbGVySGVpZ2h0IC09IHRoaXMuc2Nyb2xsQmFySC5nZXRIZWlnaHQoKTtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsQmFyVi5lbGVtZW50LnN0eWxlLmJvdHRvbSA9IHRoaXMuc2Nyb2xsQmFySC5nZXRIZWlnaHQoKSArIFwicHhcIjtcblxuICAgICAgICAgICAgY2hhbmdlcyA9IGNoYW5nZXMgfCB0aGlzLkNIQU5HRV9TQ1JPTEw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAod2lkdGggJiYgKGZvcmNlIHx8IHNpemUud2lkdGggIT0gd2lkdGgpKSB7XG4gICAgICAgICAgICBjaGFuZ2VzIHw9IHRoaXMuQ0hBTkdFX1NJWkU7XG4gICAgICAgICAgICBzaXplLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChndXR0ZXJXaWR0aCA9PSBudWxsKVxuICAgICAgICAgICAgICAgIGd1dHRlcldpZHRoID0gdGhpcy4kc2hvd0d1dHRlciA/IHRoaXMuJGd1dHRlci5vZmZzZXRXaWR0aCA6IDA7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRoaXMuZ3V0dGVyV2lkdGggPSBndXR0ZXJXaWR0aDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZG9tLnNldFN0eWxlKHRoaXMuc2Nyb2xsQmFySC5lbGVtZW50LnN0eWxlLCBcImxlZnRcIiwgZ3V0dGVyV2lkdGggKyBcInB4XCIpO1xuICAgICAgICAgICAgZG9tLnNldFN0eWxlKHRoaXMuc2Nyb2xsZXIuc3R5bGUsIFwibGVmdFwiLCBndXR0ZXJXaWR0aCArIHRoaXMubWFyZ2luLmxlZnQgKyBcInB4XCIpO1xuICAgICAgICAgICAgc2l6ZS5zY3JvbGxlcldpZHRoID0gTWF0aC5tYXgoMCwgd2lkdGggLSBndXR0ZXJXaWR0aCAtIHRoaXMuc2Nyb2xsQmFyVi5nZXRXaWR0aCgpIC0gdGhpcy5tYXJnaW4uaCk7XG4gICAgICAgICAgICBkb20uc2V0U3R5bGUodGhpcy4kZ3V0dGVyLnN0eWxlLCBcImxlZnRcIiwgdGhpcy5tYXJnaW4ubGVmdCArIFwicHhcIik7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHZhciByaWdodCA9IHRoaXMuc2Nyb2xsQmFyVi5nZXRXaWR0aCgpICsgXCJweFwiO1xuICAgICAgICAgICAgZG9tLnNldFN0eWxlKHRoaXMuc2Nyb2xsQmFySC5lbGVtZW50LnN0eWxlLCBcInJpZ2h0XCIsIHJpZ2h0KTtcbiAgICAgICAgICAgIGRvbS5zZXRTdHlsZSh0aGlzLnNjcm9sbGVyLnN0eWxlLCBcInJpZ2h0XCIsIHJpZ2h0KTtcbiAgICAgICAgICAgIGRvbS5zZXRTdHlsZSh0aGlzLnNjcm9sbGVyLnN0eWxlLCBcImJvdHRvbVwiLCB0aGlzLnNjcm9sbEJhckguZ2V0SGVpZ2h0KCkpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5zZXNzaW9uICYmIHRoaXMuc2Vzc2lvbi5nZXRVc2VXcmFwTW9kZSgpICYmIHRoaXMuYWRqdXN0V3JhcExpbWl0KCkgfHwgZm9yY2UpIHtcbiAgICAgICAgICAgICAgICBjaGFuZ2VzIHw9IHRoaXMuQ0hBTkdFX0ZVTEw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHNpemUuJGRpcnR5ID0gIXdpZHRoIHx8ICFoZWlnaHQ7XG5cbiAgICAgICAgaWYgKGNoYW5nZXMpXG4gICAgICAgICAgICB0aGlzLl9zaWduYWwoXCJyZXNpemVcIiwgb2xkU2l6ZSk7XG5cbiAgICAgICAgcmV0dXJuIGNoYW5nZXM7XG4gICAgfTtcblxuICAgIHRoaXMub25HdXR0ZXJSZXNpemUgPSBmdW5jdGlvbih3aWR0aCkge1xuICAgICAgICB2YXIgZ3V0dGVyV2lkdGggPSB0aGlzLiRzaG93R3V0dGVyID8gd2lkdGggOiAwO1xuICAgICAgICBpZiAoZ3V0dGVyV2lkdGggIT0gdGhpcy5ndXR0ZXJXaWR0aClcbiAgICAgICAgICAgIHRoaXMuJGNoYW5nZXMgfD0gdGhpcy4kdXBkYXRlQ2FjaGVkU2l6ZSh0cnVlLCBndXR0ZXJXaWR0aCwgdGhpcy4kc2l6ZS53aWR0aCwgdGhpcy4kc2l6ZS5oZWlnaHQpO1xuXG4gICAgICAgIGlmICh0aGlzLnNlc3Npb24uZ2V0VXNlV3JhcE1vZGUoKSAmJiB0aGlzLmFkanVzdFdyYXBMaW1pdCgpKSB7XG4gICAgICAgICAgICB0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX0ZVTEwpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuJHNpemUuJGRpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX0ZVTEwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy4kY29tcHV0ZUxheWVyQ29uZmlnKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuYWRqdXN0V3JhcExpbWl0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhdmFpbGFibGVXaWR0aCA9IHRoaXMuJHNpemUuc2Nyb2xsZXJXaWR0aCAtIHRoaXMuJHBhZGRpbmcgKiAyO1xuICAgICAgICB2YXIgbGltaXQgPSBNYXRoLmZsb29yKGF2YWlsYWJsZVdpZHRoIC8gdGhpcy5jaGFyYWN0ZXJXaWR0aCk7XG4gICAgICAgIHJldHVybiB0aGlzLnNlc3Npb24uYWRqdXN0V3JhcExpbWl0KGxpbWl0LCB0aGlzLiRzaG93UHJpbnRNYXJnaW4gJiYgdGhpcy4kcHJpbnRNYXJnaW5Db2x1bW4pO1xuICAgIH07XG4gICAgdGhpcy5zZXRBbmltYXRlZFNjcm9sbCA9IGZ1bmN0aW9uKHNob3VsZEFuaW1hdGUpe1xuICAgICAgICB0aGlzLnNldE9wdGlvbihcImFuaW1hdGVkU2Nyb2xsXCIsIHNob3VsZEFuaW1hdGUpO1xuICAgIH07XG4gICAgdGhpcy5nZXRBbmltYXRlZFNjcm9sbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kYW5pbWF0ZWRTY3JvbGw7XG4gICAgfTtcbiAgICB0aGlzLnNldFNob3dJbnZpc2libGVzID0gZnVuY3Rpb24oc2hvd0ludmlzaWJsZXMpIHtcbiAgICAgICAgdGhpcy5zZXRPcHRpb24oXCJzaG93SW52aXNpYmxlc1wiLCBzaG93SW52aXNpYmxlcyk7XG4gICAgICAgIHRoaXMuc2Vzc2lvbi4kYmlkaUhhbmRsZXIuc2V0U2hvd0ludmlzaWJsZXMoc2hvd0ludmlzaWJsZXMpO1xuICAgIH07XG4gICAgdGhpcy5nZXRTaG93SW52aXNpYmxlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRPcHRpb24oXCJzaG93SW52aXNpYmxlc1wiKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0RGlzcGxheUluZGVudEd1aWRlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRPcHRpb24oXCJkaXNwbGF5SW5kZW50R3VpZGVzXCIpO1xuICAgIH07XG5cbiAgICB0aGlzLnNldERpc3BsYXlJbmRlbnRHdWlkZXMgPSBmdW5jdGlvbihkaXNwbGF5KSB7XG4gICAgICAgIHRoaXMuc2V0T3B0aW9uKFwiZGlzcGxheUluZGVudEd1aWRlc1wiLCBkaXNwbGF5KTtcbiAgICB9O1xuICAgIHRoaXMuc2V0U2hvd1ByaW50TWFyZ2luID0gZnVuY3Rpb24oc2hvd1ByaW50TWFyZ2luKSB7XG4gICAgICAgIHRoaXMuc2V0T3B0aW9uKFwic2hvd1ByaW50TWFyZ2luXCIsIHNob3dQcmludE1hcmdpbik7XG4gICAgfTtcbiAgICB0aGlzLmdldFNob3dQcmludE1hcmdpbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRPcHRpb24oXCJzaG93UHJpbnRNYXJnaW5cIik7XG4gICAgfTtcbiAgICB0aGlzLnNldFByaW50TWFyZ2luQ29sdW1uID0gZnVuY3Rpb24oc2hvd1ByaW50TWFyZ2luKSB7XG4gICAgICAgIHRoaXMuc2V0T3B0aW9uKFwicHJpbnRNYXJnaW5Db2x1bW5cIiwgc2hvd1ByaW50TWFyZ2luKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0UHJpbnRNYXJnaW5Db2x1bW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T3B0aW9uKFwicHJpbnRNYXJnaW5Db2x1bW5cIik7XG4gICAgfTtcbiAgICB0aGlzLmdldFNob3dHdXR0ZXIgPSBmdW5jdGlvbigpe1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRPcHRpb24oXCJzaG93R3V0dGVyXCIpO1xuICAgIH07XG4gICAgdGhpcy5zZXRTaG93R3V0dGVyID0gZnVuY3Rpb24oc2hvdyl7XG4gICAgICAgIHJldHVybiB0aGlzLnNldE9wdGlvbihcInNob3dHdXR0ZXJcIiwgc2hvdyk7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0RmFkZUZvbGRXaWRnZXRzID0gZnVuY3Rpb24oKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T3B0aW9uKFwiZmFkZUZvbGRXaWRnZXRzXCIpO1xuICAgIH07XG5cbiAgICB0aGlzLnNldEZhZGVGb2xkV2lkZ2V0cyA9IGZ1bmN0aW9uKHNob3cpIHtcbiAgICAgICAgdGhpcy5zZXRPcHRpb24oXCJmYWRlRm9sZFdpZGdldHNcIiwgc2hvdyk7XG4gICAgfTtcblxuICAgIHRoaXMuc2V0SGlnaGxpZ2h0R3V0dGVyTGluZSA9IGZ1bmN0aW9uKHNob3VsZEhpZ2hsaWdodCkge1xuICAgICAgICB0aGlzLnNldE9wdGlvbihcImhpZ2hsaWdodEd1dHRlckxpbmVcIiwgc2hvdWxkSGlnaGxpZ2h0KTtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRIaWdobGlnaHRHdXR0ZXJMaW5lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE9wdGlvbihcImhpZ2hsaWdodEd1dHRlckxpbmVcIik7XG4gICAgfTtcblxuICAgIHRoaXMuJHVwZGF0ZVByaW50TWFyZ2luID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghdGhpcy4kc2hvd1ByaW50TWFyZ2luICYmICF0aGlzLiRwcmludE1hcmdpbkVsKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGlmICghdGhpcy4kcHJpbnRNYXJnaW5FbCkge1xuICAgICAgICAgICAgdmFyIGNvbnRhaW5lckVsID0gZG9tLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBjb250YWluZXJFbC5jbGFzc05hbWUgPSBcImFjZV9sYXllciBhY2VfcHJpbnQtbWFyZ2luLWxheWVyXCI7XG4gICAgICAgICAgICB0aGlzLiRwcmludE1hcmdpbkVsID0gZG9tLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICB0aGlzLiRwcmludE1hcmdpbkVsLmNsYXNzTmFtZSA9IFwiYWNlX3ByaW50LW1hcmdpblwiO1xuICAgICAgICAgICAgY29udGFpbmVyRWwuYXBwZW5kQ2hpbGQodGhpcy4kcHJpbnRNYXJnaW5FbCk7XG4gICAgICAgICAgICB0aGlzLmNvbnRlbnQuaW5zZXJ0QmVmb3JlKGNvbnRhaW5lckVsLCB0aGlzLmNvbnRlbnQuZmlyc3RDaGlsZCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLiRwcmludE1hcmdpbkVsLnN0eWxlO1xuICAgICAgICBzdHlsZS5sZWZ0ID0gTWF0aC5yb3VuZCh0aGlzLmNoYXJhY3RlcldpZHRoICogdGhpcy4kcHJpbnRNYXJnaW5Db2x1bW4gKyB0aGlzLiRwYWRkaW5nKSArIFwicHhcIjtcbiAgICAgICAgc3R5bGUudmlzaWJpbGl0eSA9IHRoaXMuJHNob3dQcmludE1hcmdpbiA/IFwidmlzaWJsZVwiIDogXCJoaWRkZW5cIjtcbiAgICAgICAgXG4gICAgICAgIGlmICh0aGlzLnNlc3Npb24gJiYgdGhpcy5zZXNzaW9uLiR3cmFwID09IC0xKVxuICAgICAgICAgICAgdGhpcy5hZGp1c3RXcmFwTGltaXQoKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0Q29udGFpbmVyRWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXI7XG4gICAgfTtcbiAgICB0aGlzLmdldE1vdXNlRXZlbnRUYXJnZXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2Nyb2xsZXI7XG4gICAgfTtcbiAgICB0aGlzLmdldFRleHRBcmVhQ29udGFpbmVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lcjtcbiAgICB9O1xuICAgIHRoaXMuJG1vdmVUZXh0QXJlYVRvQ3Vyc29yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLiRpc01vdXNlUHJlc3NlZCkgcmV0dXJuO1xuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLnRleHRhcmVhLnN0eWxlO1xuICAgICAgICB2YXIgY29tcG9zaXRpb24gPSB0aGlzLiRjb21wb3NpdGlvbjtcbiAgICAgICAgaWYgKCF0aGlzLiRrZWVwVGV4dEFyZWFBdEN1cnNvciAmJiAhY29tcG9zaXRpb24pIHtcbiAgICAgICAgICAgIGRvbS50cmFuc2xhdGUodGhpcy50ZXh0YXJlYSwgLTEwMCwgMCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBpeGVsUG9zID0gdGhpcy4kY3Vyc29yTGF5ZXIuJHBpeGVsUG9zO1xuICAgICAgICBpZiAoIXBpeGVsUG9zKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoY29tcG9zaXRpb24gJiYgY29tcG9zaXRpb24ubWFya2VyUmFuZ2UpXG4gICAgICAgICAgICBwaXhlbFBvcyA9IHRoaXMuJGN1cnNvckxheWVyLmdldFBpeGVsUG9zaXRpb24oY29tcG9zaXRpb24ubWFya2VyUmFuZ2Uuc3RhcnQsIHRydWUpO1xuICAgICAgICBcbiAgICAgICAgdmFyIGNvbmZpZyA9IHRoaXMubGF5ZXJDb25maWc7XG4gICAgICAgIHZhciBwb3NUb3AgPSBwaXhlbFBvcy50b3A7XG4gICAgICAgIHZhciBwb3NMZWZ0ID0gcGl4ZWxQb3MubGVmdDtcbiAgICAgICAgcG9zVG9wIC09IGNvbmZpZy5vZmZzZXQ7XG5cbiAgICAgICAgdmFyIGggPSBjb21wb3NpdGlvbiAmJiBjb21wb3NpdGlvbi51c2VUZXh0YXJlYUZvcklNRSA/IHRoaXMubGluZUhlaWdodCA6IEhJREVfVEVYVEFSRUEgPyAwIDogMTtcbiAgICAgICAgaWYgKHBvc1RvcCA8IDAgfHwgcG9zVG9wID4gY29uZmlnLmhlaWdodCAtIGgpIHtcbiAgICAgICAgICAgIGRvbS50cmFuc2xhdGUodGhpcy50ZXh0YXJlYSwgMCwgMCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdyA9IDE7XG4gICAgICAgIHZhciBtYXhUb3AgPSB0aGlzLiRzaXplLmhlaWdodCAtIGg7XG4gICAgICAgIGlmICghY29tcG9zaXRpb24pIHtcbiAgICAgICAgICAgIHBvc1RvcCArPSB0aGlzLmxpbmVIZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoY29tcG9zaXRpb24udXNlVGV4dGFyZWFGb3JJTUUpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsID0gdGhpcy50ZXh0YXJlYS52YWx1ZTtcbiAgICAgICAgICAgICAgICB3ID0gdGhpcy5jaGFyYWN0ZXJXaWR0aCAqICh0aGlzLnNlc3Npb24uJGdldFN0cmluZ1NjcmVlbldpZHRoKHZhbClbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcG9zVG9wICs9IHRoaXMubGluZUhlaWdodCArIDI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHBvc0xlZnQgLT0gdGhpcy5zY3JvbGxMZWZ0O1xuICAgICAgICBpZiAocG9zTGVmdCA+IHRoaXMuJHNpemUuc2Nyb2xsZXJXaWR0aCAtIHcpXG4gICAgICAgICAgICBwb3NMZWZ0ID0gdGhpcy4kc2l6ZS5zY3JvbGxlcldpZHRoIC0gdztcblxuICAgICAgICBwb3NMZWZ0ICs9IHRoaXMuZ3V0dGVyV2lkdGggKyB0aGlzLm1hcmdpbi5sZWZ0O1xuXG4gICAgICAgIGRvbS5zZXRTdHlsZShzdHlsZSwgXCJoZWlnaHRcIiwgaCArIFwicHhcIik7XG4gICAgICAgIGRvbS5zZXRTdHlsZShzdHlsZSwgXCJ3aWR0aFwiLCB3ICsgXCJweFwiKTtcbiAgICAgICAgZG9tLnRyYW5zbGF0ZSh0aGlzLnRleHRhcmVhLCBNYXRoLm1pbihwb3NMZWZ0LCB0aGlzLiRzaXplLnNjcm9sbGVyV2lkdGggLSB3KSwgTWF0aC5taW4ocG9zVG9wLCBtYXhUb3ApKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0Rmlyc3RWaXNpYmxlUm93ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxheWVyQ29uZmlnLmZpcnN0Um93O1xuICAgIH07XG4gICAgdGhpcy5nZXRGaXJzdEZ1bGx5VmlzaWJsZVJvdyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sYXllckNvbmZpZy5maXJzdFJvdyArICh0aGlzLmxheWVyQ29uZmlnLm9mZnNldCA9PT0gMCA/IDAgOiAxKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0TGFzdEZ1bGx5VmlzaWJsZVJvdyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5sYXllckNvbmZpZztcbiAgICAgICAgdmFyIGxhc3RSb3cgPSBjb25maWcubGFzdFJvdztcbiAgICAgICAgdmFyIHRvcCA9IHRoaXMuc2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUm93KGxhc3RSb3csIDApICogY29uZmlnLmxpbmVIZWlnaHQ7XG4gICAgICAgIGlmICh0b3AgLSB0aGlzLnNlc3Npb24uZ2V0U2Nyb2xsVG9wKCkgPiBjb25maWcuaGVpZ2h0IC0gY29uZmlnLmxpbmVIZWlnaHQpXG4gICAgICAgICAgICByZXR1cm4gbGFzdFJvdyAtIDE7XG4gICAgICAgIHJldHVybiBsYXN0Um93O1xuICAgIH07XG4gICAgdGhpcy5nZXRMYXN0VmlzaWJsZVJvdyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sYXllckNvbmZpZy5sYXN0Um93O1xuICAgIH07XG5cbiAgICB0aGlzLiRwYWRkaW5nID0gbnVsbDtcbiAgICB0aGlzLnNldFBhZGRpbmcgPSBmdW5jdGlvbihwYWRkaW5nKSB7XG4gICAgICAgIHRoaXMuJHBhZGRpbmcgPSBwYWRkaW5nO1xuICAgICAgICB0aGlzLiR0ZXh0TGF5ZXIuc2V0UGFkZGluZyhwYWRkaW5nKTtcbiAgICAgICAgdGhpcy4kY3Vyc29yTGF5ZXIuc2V0UGFkZGluZyhwYWRkaW5nKTtcbiAgICAgICAgdGhpcy4kbWFya2VyRnJvbnQuc2V0UGFkZGluZyhwYWRkaW5nKTtcbiAgICAgICAgdGhpcy4kbWFya2VyQmFjay5zZXRQYWRkaW5nKHBhZGRpbmcpO1xuICAgICAgICB0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX0ZVTEwpO1xuICAgICAgICB0aGlzLiR1cGRhdGVQcmludE1hcmdpbigpO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5zZXRTY3JvbGxNYXJnaW4gPSBmdW5jdGlvbih0b3AsIGJvdHRvbSwgbGVmdCwgcmlnaHQpIHtcbiAgICAgICAgdmFyIHNtID0gdGhpcy5zY3JvbGxNYXJnaW47XG4gICAgICAgIHNtLnRvcCA9IHRvcHwwO1xuICAgICAgICBzbS5ib3R0b20gPSBib3R0b218MDtcbiAgICAgICAgc20ucmlnaHQgPSByaWdodHwwO1xuICAgICAgICBzbS5sZWZ0ID0gbGVmdHwwO1xuICAgICAgICBzbS52ID0gc20udG9wICsgc20uYm90dG9tO1xuICAgICAgICBzbS5oID0gc20ubGVmdCArIHNtLnJpZ2h0O1xuICAgICAgICBpZiAoc20udG9wICYmIHRoaXMuc2Nyb2xsVG9wIDw9IDAgJiYgdGhpcy5zZXNzaW9uKVxuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLnNldFNjcm9sbFRvcCgtc20udG9wKTtcbiAgICAgICAgdGhpcy51cGRhdGVGdWxsKCk7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLnNldE1hcmdpbiA9IGZ1bmN0aW9uKHRvcCwgYm90dG9tLCBsZWZ0LCByaWdodCkge1xuICAgICAgICB2YXIgc20gPSB0aGlzLm1hcmdpbjtcbiAgICAgICAgc20udG9wID0gdG9wfDA7XG4gICAgICAgIHNtLmJvdHRvbSA9IGJvdHRvbXwwO1xuICAgICAgICBzbS5yaWdodCA9IHJpZ2h0fDA7XG4gICAgICAgIHNtLmxlZnQgPSBsZWZ0fDA7XG4gICAgICAgIHNtLnYgPSBzbS50b3AgKyBzbS5ib3R0b207XG4gICAgICAgIHNtLmggPSBzbS5sZWZ0ICsgc20ucmlnaHQ7XG4gICAgICAgIHRoaXMuJHVwZGF0ZUNhY2hlZFNpemUodHJ1ZSwgdGhpcy5ndXR0ZXJXaWR0aCwgdGhpcy4kc2l6ZS53aWR0aCwgdGhpcy4kc2l6ZS5oZWlnaHQpO1xuICAgICAgICB0aGlzLnVwZGF0ZUZ1bGwoKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0SFNjcm9sbEJhckFsd2F5c1Zpc2libGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJGhTY3JvbGxCYXJBbHdheXNWaXNpYmxlO1xuICAgIH07XG4gICAgdGhpcy5zZXRIU2Nyb2xsQmFyQWx3YXlzVmlzaWJsZSA9IGZ1bmN0aW9uKGFsd2F5c1Zpc2libGUpIHtcbiAgICAgICAgdGhpcy5zZXRPcHRpb24oXCJoU2Nyb2xsQmFyQWx3YXlzVmlzaWJsZVwiLCBhbHdheXNWaXNpYmxlKTtcbiAgICB9O1xuICAgIHRoaXMuZ2V0VlNjcm9sbEJhckFsd2F5c1Zpc2libGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHZTY3JvbGxCYXJBbHdheXNWaXNpYmxlO1xuICAgIH07XG4gICAgdGhpcy5zZXRWU2Nyb2xsQmFyQWx3YXlzVmlzaWJsZSA9IGZ1bmN0aW9uKGFsd2F5c1Zpc2libGUpIHtcbiAgICAgICAgdGhpcy5zZXRPcHRpb24oXCJ2U2Nyb2xsQmFyQWx3YXlzVmlzaWJsZVwiLCBhbHdheXNWaXNpYmxlKTtcbiAgICB9O1xuXG4gICAgdGhpcy4kdXBkYXRlU2Nyb2xsQmFyViA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2Nyb2xsSGVpZ2h0ID0gdGhpcy5sYXllckNvbmZpZy5tYXhIZWlnaHQ7XG4gICAgICAgIHZhciBzY3JvbGxlckhlaWdodCA9IHRoaXMuJHNpemUuc2Nyb2xsZXJIZWlnaHQ7XG4gICAgICAgIGlmICghdGhpcy4kbWF4TGluZXMgJiYgdGhpcy4kc2Nyb2xsUGFzdEVuZCkge1xuICAgICAgICAgICAgc2Nyb2xsSGVpZ2h0IC09IChzY3JvbGxlckhlaWdodCAtIHRoaXMubGluZUhlaWdodCkgKiB0aGlzLiRzY3JvbGxQYXN0RW5kO1xuICAgICAgICAgICAgaWYgKHRoaXMuc2Nyb2xsVG9wID4gc2Nyb2xsSGVpZ2h0IC0gc2Nyb2xsZXJIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICBzY3JvbGxIZWlnaHQgPSB0aGlzLnNjcm9sbFRvcCArIHNjcm9sbGVySGVpZ2h0O1xuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsQmFyVi5zY3JvbGxUb3AgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2Nyb2xsQmFyVi5zZXRTY3JvbGxIZWlnaHQoc2Nyb2xsSGVpZ2h0ICsgdGhpcy5zY3JvbGxNYXJnaW4udik7XG4gICAgICAgIHRoaXMuc2Nyb2xsQmFyVi5zZXRTY3JvbGxUb3AodGhpcy5zY3JvbGxUb3AgKyB0aGlzLnNjcm9sbE1hcmdpbi50b3ApO1xuICAgIH07XG4gICAgdGhpcy4kdXBkYXRlU2Nyb2xsQmFySCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnNjcm9sbEJhckguc2V0U2Nyb2xsV2lkdGgodGhpcy5sYXllckNvbmZpZy53aWR0aCArIDIgKiB0aGlzLiRwYWRkaW5nICsgdGhpcy5zY3JvbGxNYXJnaW4uaCk7XG4gICAgICAgIHRoaXMuc2Nyb2xsQmFySC5zZXRTY3JvbGxMZWZ0KHRoaXMuc2Nyb2xsTGVmdCArIHRoaXMuc2Nyb2xsTWFyZ2luLmxlZnQpO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy4kZnJvemVuID0gZmFsc2U7XG4gICAgdGhpcy5mcmVlemUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kZnJvemVuID0gdHJ1ZTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMudW5mcmVlemUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kZnJvemVuID0gZmFsc2U7XG4gICAgfTtcblxuICAgIHRoaXMuJHJlbmRlckNoYW5nZXMgPSBmdW5jdGlvbihjaGFuZ2VzLCBmb3JjZSkge1xuICAgICAgICBpZiAodGhpcy4kY2hhbmdlcykge1xuICAgICAgICAgICAgY2hhbmdlcyB8PSB0aGlzLiRjaGFuZ2VzO1xuICAgICAgICAgICAgdGhpcy4kY2hhbmdlcyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCghdGhpcy5zZXNzaW9uIHx8ICF0aGlzLmNvbnRhaW5lci5vZmZzZXRXaWR0aCB8fCB0aGlzLiRmcm96ZW4pIHx8ICghY2hhbmdlcyAmJiAhZm9yY2UpKSB7XG4gICAgICAgICAgICB0aGlzLiRjaGFuZ2VzIHw9IGNoYW5nZXM7XG4gICAgICAgICAgICByZXR1cm47IFxuICAgICAgICB9IFxuICAgICAgICBpZiAodGhpcy4kc2l6ZS4kZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuJGNoYW5nZXMgfD0gY2hhbmdlcztcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9uUmVzaXplKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5saW5lSGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLiR0ZXh0TGF5ZXIuY2hlY2tGb3JTaXplQ2hhbmdlcygpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0aGlzLl9zaWduYWwoXCJiZWZvcmVSZW5kZXJcIiwgY2hhbmdlcyk7XG4gICAgICAgIFxuICAgICAgICBpZiAodGhpcy5zZXNzaW9uICYmIHRoaXMuc2Vzc2lvbi4kYmlkaUhhbmRsZXIpXG4gICAgICAgICAgICB0aGlzLnNlc3Npb24uJGJpZGlIYW5kbGVyLnVwZGF0ZUNoYXJhY3RlcldpZHRocyh0aGlzLiRmb250TWV0cmljcyk7XG5cbiAgICAgICAgdmFyIGNvbmZpZyA9IHRoaXMubGF5ZXJDb25maWc7XG4gICAgICAgIGlmIChjaGFuZ2VzICYgdGhpcy5DSEFOR0VfRlVMTCB8fFxuICAgICAgICAgICAgY2hhbmdlcyAmIHRoaXMuQ0hBTkdFX1NJWkUgfHxcbiAgICAgICAgICAgIGNoYW5nZXMgJiB0aGlzLkNIQU5HRV9URVhUIHx8XG4gICAgICAgICAgICBjaGFuZ2VzICYgdGhpcy5DSEFOR0VfTElORVMgfHxcbiAgICAgICAgICAgIGNoYW5nZXMgJiB0aGlzLkNIQU5HRV9TQ1JPTEwgfHxcbiAgICAgICAgICAgIGNoYW5nZXMgJiB0aGlzLkNIQU5HRV9IX1NDUk9MTFxuICAgICAgICApIHtcbiAgICAgICAgICAgIGNoYW5nZXMgfD0gdGhpcy4kY29tcHV0ZUxheWVyQ29uZmlnKCkgfCB0aGlzLiRsb29wLmNsZWFyKCk7XG4gICAgICAgICAgICBpZiAoY29uZmlnLmZpcnN0Um93ICE9IHRoaXMubGF5ZXJDb25maWcuZmlyc3RSb3cgJiYgY29uZmlnLmZpcnN0Um93U2NyZWVuID09IHRoaXMubGF5ZXJDb25maWcuZmlyc3RSb3dTY3JlZW4pIHtcbiAgICAgICAgICAgICAgICB2YXIgc3QgPSB0aGlzLnNjcm9sbFRvcCArIChjb25maWcuZmlyc3RSb3cgLSB0aGlzLmxheWVyQ29uZmlnLmZpcnN0Um93KSAqIHRoaXMubGluZUhlaWdodDtcbiAgICAgICAgICAgICAgICBpZiAoc3QgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsVG9wID0gc3Q7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZXMgPSBjaGFuZ2VzIHwgdGhpcy5DSEFOR0VfU0NST0xMO1xuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VzIHw9IHRoaXMuJGNvbXB1dGVMYXllckNvbmZpZygpIHwgdGhpcy4kbG9vcC5jbGVhcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbmZpZyA9IHRoaXMubGF5ZXJDb25maWc7XG4gICAgICAgICAgICB0aGlzLiR1cGRhdGVTY3JvbGxCYXJWKCk7XG4gICAgICAgICAgICBpZiAoY2hhbmdlcyAmIHRoaXMuQ0hBTkdFX0hfU0NST0xMKVxuICAgICAgICAgICAgICAgIHRoaXMuJHVwZGF0ZVNjcm9sbEJhckgoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZG9tLnRyYW5zbGF0ZSh0aGlzLmNvbnRlbnQsIC10aGlzLnNjcm9sbExlZnQsIC1jb25maWcub2Zmc2V0KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIHdpZHRoID0gY29uZmlnLndpZHRoICsgMiAqIHRoaXMuJHBhZGRpbmcgKyBcInB4XCI7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gY29uZmlnLm1pbkhlaWdodCArIFwicHhcIjtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZG9tLnNldFN0eWxlKHRoaXMuY29udGVudC5zdHlsZSwgXCJ3aWR0aFwiLCB3aWR0aCk7XG4gICAgICAgICAgICBkb20uc2V0U3R5bGUodGhpcy5jb250ZW50LnN0eWxlLCBcImhlaWdodFwiLCBoZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFuZ2VzICYgdGhpcy5DSEFOR0VfSF9TQ1JPTEwpIHtcbiAgICAgICAgICAgIGRvbS50cmFuc2xhdGUodGhpcy5jb250ZW50LCAtdGhpcy5zY3JvbGxMZWZ0LCAtY29uZmlnLm9mZnNldCk7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbGVyLmNsYXNzTmFtZSA9IHRoaXMuc2Nyb2xsTGVmdCA8PSAwID8gXCJhY2Vfc2Nyb2xsZXJcIiA6IFwiYWNlX3Njcm9sbGVyIGFjZV9zY3JvbGwtbGVmdFwiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFuZ2VzICYgdGhpcy5DSEFOR0VfRlVMTCkge1xuICAgICAgICAgICAgdGhpcy4kY2hhbmdlZExpbmVzID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuJHRleHRMYXllci51cGRhdGUoY29uZmlnKTtcbiAgICAgICAgICAgIGlmICh0aGlzLiRzaG93R3V0dGVyKVxuICAgICAgICAgICAgICAgIHRoaXMuJGd1dHRlckxheWVyLnVwZGF0ZShjb25maWcpO1xuICAgICAgICAgICAgdGhpcy4kbWFya2VyQmFjay51cGRhdGUoY29uZmlnKTtcbiAgICAgICAgICAgIHRoaXMuJG1hcmtlckZyb250LnVwZGF0ZShjb25maWcpO1xuICAgICAgICAgICAgdGhpcy4kY3Vyc29yTGF5ZXIudXBkYXRlKGNvbmZpZyk7XG4gICAgICAgICAgICB0aGlzLiRtb3ZlVGV4dEFyZWFUb0N1cnNvcigpO1xuICAgICAgICAgICAgdGhpcy5fc2lnbmFsKFwiYWZ0ZXJSZW5kZXJcIiwgY2hhbmdlcyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYW5nZXMgJiB0aGlzLkNIQU5HRV9TQ1JPTEwpIHtcbiAgICAgICAgICAgIHRoaXMuJGNoYW5nZWRMaW5lcyA9IG51bGw7XG4gICAgICAgICAgICBpZiAoY2hhbmdlcyAmIHRoaXMuQ0hBTkdFX1RFWFQgfHwgY2hhbmdlcyAmIHRoaXMuQ0hBTkdFX0xJTkVTKVxuICAgICAgICAgICAgICAgIHRoaXMuJHRleHRMYXllci51cGRhdGUoY29uZmlnKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aGlzLiR0ZXh0TGF5ZXIuc2Nyb2xsTGluZXMoY29uZmlnKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuJHNob3dHdXR0ZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2hhbmdlcyAmIHRoaXMuQ0hBTkdFX0dVVFRFUiB8fCBjaGFuZ2VzICYgdGhpcy5DSEFOR0VfTElORVMpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGd1dHRlckxheWVyLnVwZGF0ZShjb25maWcpO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZ3V0dGVyTGF5ZXIuc2Nyb2xsTGluZXMoY29uZmlnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuJG1hcmtlckJhY2sudXBkYXRlKGNvbmZpZyk7XG4gICAgICAgICAgICB0aGlzLiRtYXJrZXJGcm9udC51cGRhdGUoY29uZmlnKTtcbiAgICAgICAgICAgIHRoaXMuJGN1cnNvckxheWVyLnVwZGF0ZShjb25maWcpO1xuICAgICAgICAgICAgdGhpcy4kbW92ZVRleHRBcmVhVG9DdXJzb3IoKTtcbiAgICAgICAgICAgIHRoaXMuX3NpZ25hbChcImFmdGVyUmVuZGVyXCIsIGNoYW5nZXMpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoYW5nZXMgJiB0aGlzLkNIQU5HRV9URVhUKSB7XG4gICAgICAgICAgICB0aGlzLiRjaGFuZ2VkTGluZXMgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy4kdGV4dExheWVyLnVwZGF0ZShjb25maWcpO1xuICAgICAgICAgICAgaWYgKHRoaXMuJHNob3dHdXR0ZXIpXG4gICAgICAgICAgICAgICAgdGhpcy4kZ3V0dGVyTGF5ZXIudXBkYXRlKGNvbmZpZyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2hhbmdlcyAmIHRoaXMuQ0hBTkdFX0xJTkVTKSB7XG4gICAgICAgICAgICBpZiAodGhpcy4kdXBkYXRlTGluZXMoKSB8fCAoY2hhbmdlcyAmIHRoaXMuQ0hBTkdFX0dVVFRFUikgJiYgdGhpcy4kc2hvd0d1dHRlcilcbiAgICAgICAgICAgICAgICB0aGlzLiRndXR0ZXJMYXllci51cGRhdGUoY29uZmlnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjaGFuZ2VzICYgdGhpcy5DSEFOR0VfVEVYVCB8fCBjaGFuZ2VzICYgdGhpcy5DSEFOR0VfR1VUVEVSKSB7XG4gICAgICAgICAgICBpZiAodGhpcy4kc2hvd0d1dHRlcilcbiAgICAgICAgICAgICAgICB0aGlzLiRndXR0ZXJMYXllci51cGRhdGUoY29uZmlnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjaGFuZ2VzICYgdGhpcy5DSEFOR0VfQ1VSU09SKSB7XG4gICAgICAgICAgICBpZiAodGhpcy4kaGlnaGxpZ2h0R3V0dGVyTGluZSlcbiAgICAgICAgICAgICAgICB0aGlzLiRndXR0ZXJMYXllci51cGRhdGVMaW5lSGlnaGxpZ2h0KGNvbmZpZyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2hhbmdlcyAmIHRoaXMuQ0hBTkdFX0NVUlNPUikge1xuICAgICAgICAgICAgdGhpcy4kY3Vyc29yTGF5ZXIudXBkYXRlKGNvbmZpZyk7XG4gICAgICAgICAgICB0aGlzLiRtb3ZlVGV4dEFyZWFUb0N1cnNvcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoYW5nZXMgJiAodGhpcy5DSEFOR0VfTUFSS0VSIHwgdGhpcy5DSEFOR0VfTUFSS0VSX0ZST05UKSkge1xuICAgICAgICAgICAgdGhpcy4kbWFya2VyRnJvbnQudXBkYXRlKGNvbmZpZyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2hhbmdlcyAmICh0aGlzLkNIQU5HRV9NQVJLRVIgfCB0aGlzLkNIQU5HRV9NQVJLRVJfQkFDSykpIHtcbiAgICAgICAgICAgIHRoaXMuJG1hcmtlckJhY2sudXBkYXRlKGNvbmZpZyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zaWduYWwoXCJhZnRlclJlbmRlclwiLCBjaGFuZ2VzKTtcbiAgICB9O1xuXG4gICAgXG4gICAgdGhpcy4kYXV0b3NpemUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuc2Vzc2lvbi5nZXRTY3JlZW5MZW5ndGgoKSAqIHRoaXMubGluZUhlaWdodDtcbiAgICAgICAgdmFyIG1heEhlaWdodCA9IHRoaXMuJG1heExpbmVzICogdGhpcy5saW5lSGVpZ2h0O1xuICAgICAgICB2YXIgZGVzaXJlZEhlaWdodCA9IE1hdGgubWluKG1heEhlaWdodCwgXG4gICAgICAgICAgICBNYXRoLm1heCgodGhpcy4kbWluTGluZXMgfHwgMSkgKiB0aGlzLmxpbmVIZWlnaHQsIGhlaWdodClcbiAgICAgICAgKSArIHRoaXMuc2Nyb2xsTWFyZ2luLnYgKyAodGhpcy4kZXh0cmFIZWlnaHQgfHwgMCk7XG4gICAgICAgIGlmICh0aGlzLiRob3JpelNjcm9sbClcbiAgICAgICAgICAgIGRlc2lyZWRIZWlnaHQgKz0gdGhpcy5zY3JvbGxCYXJILmdldEhlaWdodCgpO1xuICAgICAgICBpZiAodGhpcy4kbWF4UGl4ZWxIZWlnaHQgJiYgZGVzaXJlZEhlaWdodCA+IHRoaXMuJG1heFBpeGVsSGVpZ2h0KVxuICAgICAgICAgICAgZGVzaXJlZEhlaWdodCA9IHRoaXMuJG1heFBpeGVsSGVpZ2h0O1xuICAgICAgICBcbiAgICAgICAgdmFyIGhpZGVTY3JvbGxiYXJzID0gZGVzaXJlZEhlaWdodCA8PSAyICogdGhpcy5saW5lSGVpZ2h0O1xuICAgICAgICB2YXIgdlNjcm9sbCA9ICFoaWRlU2Nyb2xsYmFycyAmJiBoZWlnaHQgPiBtYXhIZWlnaHQ7XG4gICAgICAgIFxuICAgICAgICBpZiAoZGVzaXJlZEhlaWdodCAhPSB0aGlzLmRlc2lyZWRIZWlnaHQgfHxcbiAgICAgICAgICAgIHRoaXMuJHNpemUuaGVpZ2h0ICE9IHRoaXMuZGVzaXJlZEhlaWdodCB8fCB2U2Nyb2xsICE9IHRoaXMuJHZTY3JvbGwpIHtcbiAgICAgICAgICAgIGlmICh2U2Nyb2xsICE9IHRoaXMuJHZTY3JvbGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiR2U2Nyb2xsID0gdlNjcm9sbDtcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbEJhclYuc2V0VmlzaWJsZSh2U2Nyb2xsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIHcgPSB0aGlzLmNvbnRhaW5lci5jbGllbnRXaWR0aDtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IGRlc2lyZWRIZWlnaHQgKyBcInB4XCI7XG4gICAgICAgICAgICB0aGlzLiR1cGRhdGVDYWNoZWRTaXplKHRydWUsIHRoaXMuJGd1dHRlcldpZHRoLCB3LCBkZXNpcmVkSGVpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMuZGVzaXJlZEhlaWdodCA9IGRlc2lyZWRIZWlnaHQ7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRoaXMuX3NpZ25hbChcImF1dG9zaXplXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLiRjb21wdXRlTGF5ZXJDb25maWcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHNlc3Npb24gPSB0aGlzLnNlc3Npb247XG4gICAgICAgIHZhciBzaXplID0gdGhpcy4kc2l6ZTtcbiAgICAgICAgXG4gICAgICAgIHZhciBoaWRlU2Nyb2xsYmFycyA9IHNpemUuaGVpZ2h0IDw9IDIgKiB0aGlzLmxpbmVIZWlnaHQ7XG4gICAgICAgIHZhciBzY3JlZW5MaW5lcyA9IHRoaXMuc2Vzc2lvbi5nZXRTY3JlZW5MZW5ndGgoKTtcbiAgICAgICAgdmFyIG1heEhlaWdodCA9IHNjcmVlbkxpbmVzICogdGhpcy5saW5lSGVpZ2h0O1xuXG4gICAgICAgIHZhciBsb25nZXN0TGluZSA9IHRoaXMuJGdldExvbmdlc3RMaW5lKCk7XG4gICAgICAgIFxuICAgICAgICB2YXIgaG9yaXpTY3JvbGwgPSAhaGlkZVNjcm9sbGJhcnMgJiYgKHRoaXMuJGhTY3JvbGxCYXJBbHdheXNWaXNpYmxlIHx8XG4gICAgICAgICAgICBzaXplLnNjcm9sbGVyV2lkdGggLSBsb25nZXN0TGluZSAtIDIgKiB0aGlzLiRwYWRkaW5nIDwgMCk7XG5cbiAgICAgICAgdmFyIGhTY3JvbGxDaGFuZ2VkID0gdGhpcy4kaG9yaXpTY3JvbGwgIT09IGhvcml6U2Nyb2xsO1xuICAgICAgICBpZiAoaFNjcm9sbENoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMuJGhvcml6U2Nyb2xsID0gaG9yaXpTY3JvbGw7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbEJhckguc2V0VmlzaWJsZShob3JpelNjcm9sbCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZTY3JvbGxCZWZvcmUgPSB0aGlzLiR2U2Nyb2xsOyAvLyBhdXRvc2l6ZSBjYW4gY2hhbmdlIHZzY3JvbGwgdmFsdWUgaW4gd2hpY2ggY2FzZSB3ZSBuZWVkIHRvIHVwZGF0ZSBsb25nZXN0TGluZVxuICAgICAgICBpZiAodGhpcy4kbWF4TGluZXMgJiYgdGhpcy5saW5lSGVpZ2h0ID4gMSlcbiAgICAgICAgICAgIHRoaXMuJGF1dG9zaXplKCk7XG5cbiAgICAgICAgdmFyIG1pbkhlaWdodCA9IHNpemUuc2Nyb2xsZXJIZWlnaHQgKyB0aGlzLmxpbmVIZWlnaHQ7XG4gICAgICAgIFxuICAgICAgICB2YXIgc2Nyb2xsUGFzdEVuZCA9ICF0aGlzLiRtYXhMaW5lcyAmJiB0aGlzLiRzY3JvbGxQYXN0RW5kXG4gICAgICAgICAgICA/IChzaXplLnNjcm9sbGVySGVpZ2h0IC0gdGhpcy5saW5lSGVpZ2h0KSAqIHRoaXMuJHNjcm9sbFBhc3RFbmRcbiAgICAgICAgICAgIDogMDtcbiAgICAgICAgbWF4SGVpZ2h0ICs9IHNjcm9sbFBhc3RFbmQ7XG4gICAgICAgIFxuICAgICAgICB2YXIgc20gPSB0aGlzLnNjcm9sbE1hcmdpbjtcbiAgICAgICAgdGhpcy5zZXNzaW9uLnNldFNjcm9sbFRvcChNYXRoLm1heCgtc20udG9wLFxuICAgICAgICAgICAgTWF0aC5taW4odGhpcy5zY3JvbGxUb3AsIG1heEhlaWdodCAtIHNpemUuc2Nyb2xsZXJIZWlnaHQgKyBzbS5ib3R0b20pKSk7XG5cbiAgICAgICAgdGhpcy5zZXNzaW9uLnNldFNjcm9sbExlZnQoTWF0aC5tYXgoLXNtLmxlZnQsIE1hdGgubWluKHRoaXMuc2Nyb2xsTGVmdCwgXG4gICAgICAgICAgICBsb25nZXN0TGluZSArIDIgKiB0aGlzLiRwYWRkaW5nIC0gc2l6ZS5zY3JvbGxlcldpZHRoICsgc20ucmlnaHQpKSk7XG4gICAgICAgIFxuICAgICAgICB2YXIgdlNjcm9sbCA9ICFoaWRlU2Nyb2xsYmFycyAmJiAodGhpcy4kdlNjcm9sbEJhckFsd2F5c1Zpc2libGUgfHxcbiAgICAgICAgICAgIHNpemUuc2Nyb2xsZXJIZWlnaHQgLSBtYXhIZWlnaHQgKyBzY3JvbGxQYXN0RW5kIDwgMCB8fCB0aGlzLnNjcm9sbFRvcCA+IHNtLnRvcCk7XG4gICAgICAgIHZhciB2U2Nyb2xsQ2hhbmdlZCA9IHZTY3JvbGxCZWZvcmUgIT09IHZTY3JvbGw7XG4gICAgICAgIGlmICh2U2Nyb2xsQ2hhbmdlZCkge1xuICAgICAgICAgICAgdGhpcy4kdlNjcm9sbCA9IHZTY3JvbGw7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbEJhclYuc2V0VmlzaWJsZSh2U2Nyb2xsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBvZmZzZXQgPSB0aGlzLnNjcm9sbFRvcCAlIHRoaXMubGluZUhlaWdodDtcbiAgICAgICAgdmFyIGxpbmVDb3VudCA9IE1hdGguY2VpbChtaW5IZWlnaHQgLyB0aGlzLmxpbmVIZWlnaHQpIC0gMTtcbiAgICAgICAgdmFyIGZpcnN0Um93ID0gTWF0aC5tYXgoMCwgTWF0aC5yb3VuZCgodGhpcy5zY3JvbGxUb3AgLSBvZmZzZXQpIC8gdGhpcy5saW5lSGVpZ2h0KSk7XG4gICAgICAgIHZhciBsYXN0Um93ID0gZmlyc3RSb3cgKyBsaW5lQ291bnQ7XG4gICAgICAgIHZhciBmaXJzdFJvd1NjcmVlbiwgZmlyc3RSb3dIZWlnaHQ7XG4gICAgICAgIHZhciBsaW5lSGVpZ2h0ID0gdGhpcy5saW5lSGVpZ2h0O1xuICAgICAgICBmaXJzdFJvdyA9IHNlc3Npb24uc2NyZWVuVG9Eb2N1bWVudFJvdyhmaXJzdFJvdywgMCk7XG4gICAgICAgIHZhciBmb2xkTGluZSA9IHNlc3Npb24uZ2V0Rm9sZExpbmUoZmlyc3RSb3cpO1xuICAgICAgICBpZiAoZm9sZExpbmUpIHtcbiAgICAgICAgICAgIGZpcnN0Um93ID0gZm9sZExpbmUuc3RhcnQucm93O1xuICAgICAgICB9XG5cbiAgICAgICAgZmlyc3RSb3dTY3JlZW4gPSBzZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Sb3coZmlyc3RSb3csIDApO1xuICAgICAgICBmaXJzdFJvd0hlaWdodCA9IHNlc3Npb24uZ2V0Um93TGVuZ3RoKGZpcnN0Um93KSAqIGxpbmVIZWlnaHQ7XG5cbiAgICAgICAgbGFzdFJvdyA9IE1hdGgubWluKHNlc3Npb24uc2NyZWVuVG9Eb2N1bWVudFJvdyhsYXN0Um93LCAwKSwgc2Vzc2lvbi5nZXRMZW5ndGgoKSAtIDEpO1xuICAgICAgICBtaW5IZWlnaHQgPSBzaXplLnNjcm9sbGVySGVpZ2h0ICsgc2Vzc2lvbi5nZXRSb3dMZW5ndGgobGFzdFJvdykgKiBsaW5lSGVpZ2h0ICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0Um93SGVpZ2h0O1xuXG4gICAgICAgIG9mZnNldCA9IHRoaXMuc2Nyb2xsVG9wIC0gZmlyc3RSb3dTY3JlZW4gKiBsaW5lSGVpZ2h0O1xuXG4gICAgICAgIHZhciBjaGFuZ2VzID0gMDtcbiAgICAgICAgaWYgKHRoaXMubGF5ZXJDb25maWcud2lkdGggIT0gbG9uZ2VzdExpbmUgfHwgaFNjcm9sbENoYW5nZWQpIFxuICAgICAgICAgICAgY2hhbmdlcyA9IHRoaXMuQ0hBTkdFX0hfU0NST0xMO1xuICAgICAgICBpZiAoaFNjcm9sbENoYW5nZWQgfHwgdlNjcm9sbENoYW5nZWQpIHtcbiAgICAgICAgICAgIGNoYW5nZXMgfD0gdGhpcy4kdXBkYXRlQ2FjaGVkU2l6ZSh0cnVlLCB0aGlzLmd1dHRlcldpZHRoLCBzaXplLndpZHRoLCBzaXplLmhlaWdodCk7XG4gICAgICAgICAgICB0aGlzLl9zaWduYWwoXCJzY3JvbGxiYXJWaXNpYmlsaXR5Q2hhbmdlZFwiKTtcbiAgICAgICAgICAgIGlmICh2U2Nyb2xsQ2hhbmdlZClcbiAgICAgICAgICAgICAgICBsb25nZXN0TGluZSA9IHRoaXMuJGdldExvbmdlc3RMaW5lKCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRoaXMubGF5ZXJDb25maWcgPSB7XG4gICAgICAgICAgICB3aWR0aCA6IGxvbmdlc3RMaW5lLFxuICAgICAgICAgICAgcGFkZGluZyA6IHRoaXMuJHBhZGRpbmcsXG4gICAgICAgICAgICBmaXJzdFJvdyA6IGZpcnN0Um93LFxuICAgICAgICAgICAgZmlyc3RSb3dTY3JlZW46IGZpcnN0Um93U2NyZWVuLFxuICAgICAgICAgICAgbGFzdFJvdyA6IGxhc3RSb3csXG4gICAgICAgICAgICBsaW5lSGVpZ2h0IDogbGluZUhlaWdodCxcbiAgICAgICAgICAgIGNoYXJhY3RlcldpZHRoIDogdGhpcy5jaGFyYWN0ZXJXaWR0aCxcbiAgICAgICAgICAgIG1pbkhlaWdodCA6IG1pbkhlaWdodCxcbiAgICAgICAgICAgIG1heEhlaWdodCA6IG1heEhlaWdodCxcbiAgICAgICAgICAgIG9mZnNldCA6IG9mZnNldCxcbiAgICAgICAgICAgIGd1dHRlck9mZnNldCA6IGxpbmVIZWlnaHQgPyBNYXRoLm1heCgwLCBNYXRoLmNlaWwoKG9mZnNldCArIHNpemUuaGVpZ2h0IC0gc2l6ZS5zY3JvbGxlckhlaWdodCkgLyBsaW5lSGVpZ2h0KSkgOiAwLFxuICAgICAgICAgICAgaGVpZ2h0IDogdGhpcy4kc2l6ZS5zY3JvbGxlckhlaWdodFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICh0aGlzLnNlc3Npb24uJGJpZGlIYW5kbGVyKVxuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLiRiaWRpSGFuZGxlci5zZXRDb250ZW50V2lkdGgobG9uZ2VzdExpbmUgLSB0aGlzLiRwYWRkaW5nKTtcblxuICAgICAgICByZXR1cm4gY2hhbmdlcztcbiAgICB9O1xuXG4gICAgdGhpcy4kdXBkYXRlTGluZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLiRjaGFuZ2VkTGluZXMpIHJldHVybjtcbiAgICAgICAgdmFyIGZpcnN0Um93ID0gdGhpcy4kY2hhbmdlZExpbmVzLmZpcnN0Um93O1xuICAgICAgICB2YXIgbGFzdFJvdyA9IHRoaXMuJGNoYW5nZWRMaW5lcy5sYXN0Um93O1xuICAgICAgICB0aGlzLiRjaGFuZ2VkTGluZXMgPSBudWxsO1xuXG4gICAgICAgIHZhciBsYXllckNvbmZpZyA9IHRoaXMubGF5ZXJDb25maWc7XG5cbiAgICAgICAgaWYgKGZpcnN0Um93ID4gbGF5ZXJDb25maWcubGFzdFJvdyArIDEpIHsgcmV0dXJuOyB9XG4gICAgICAgIGlmIChsYXN0Um93IDwgbGF5ZXJDb25maWcuZmlyc3RSb3cpIHsgcmV0dXJuOyB9XG4gICAgICAgIGlmIChsYXN0Um93ID09PSBJbmZpbml0eSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuJHNob3dHdXR0ZXIpXG4gICAgICAgICAgICAgICAgdGhpcy4kZ3V0dGVyTGF5ZXIudXBkYXRlKGxheWVyQ29uZmlnKTtcbiAgICAgICAgICAgIHRoaXMuJHRleHRMYXllci51cGRhdGUobGF5ZXJDb25maWcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuJHRleHRMYXllci51cGRhdGVMaW5lcyhsYXllckNvbmZpZywgZmlyc3RSb3csIGxhc3RSb3cpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgdGhpcy4kZ2V0TG9uZ2VzdExpbmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGNoYXJDb3VudCA9IHRoaXMuc2Vzc2lvbi5nZXRTY3JlZW5XaWR0aCgpO1xuICAgICAgICBpZiAodGhpcy5zaG93SW52aXNpYmxlcyAmJiAhdGhpcy5zZXNzaW9uLiR1c2VXcmFwTW9kZSlcbiAgICAgICAgICAgIGNoYXJDb3VudCArPSAxO1xuICAgICAgICAgICAgXG4gICAgICAgIGlmICh0aGlzLiR0ZXh0TGF5ZXIgJiYgY2hhckNvdW50ID4gdGhpcy4kdGV4dExheWVyLk1BWF9MSU5FX0xFTkdUSClcbiAgICAgICAgICAgIGNoYXJDb3VudCA9IHRoaXMuJHRleHRMYXllci5NQVhfTElORV9MRU5HVEggKyAzMDtcblxuICAgICAgICByZXR1cm4gTWF0aC5tYXgodGhpcy4kc2l6ZS5zY3JvbGxlcldpZHRoIC0gMiAqIHRoaXMuJHBhZGRpbmcsIE1hdGgucm91bmQoY2hhckNvdW50ICogdGhpcy5jaGFyYWN0ZXJXaWR0aCkpO1xuICAgIH07XG4gICAgdGhpcy51cGRhdGVGcm9udE1hcmtlcnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kbWFya2VyRnJvbnQuc2V0TWFya2Vycyh0aGlzLnNlc3Npb24uZ2V0TWFya2Vycyh0cnVlKSk7XG4gICAgICAgIHRoaXMuJGxvb3Auc2NoZWR1bGUodGhpcy5DSEFOR0VfTUFSS0VSX0ZST05UKTtcbiAgICB9O1xuICAgIHRoaXMudXBkYXRlQmFja01hcmtlcnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kbWFya2VyQmFjay5zZXRNYXJrZXJzKHRoaXMuc2Vzc2lvbi5nZXRNYXJrZXJzKCkpO1xuICAgICAgICB0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX01BUktFUl9CQUNLKTtcbiAgICB9O1xuICAgIHRoaXMuYWRkR3V0dGVyRGVjb3JhdGlvbiA9IGZ1bmN0aW9uKHJvdywgY2xhc3NOYW1lKXtcbiAgICAgICAgdGhpcy4kZ3V0dGVyTGF5ZXIuYWRkR3V0dGVyRGVjb3JhdGlvbihyb3csIGNsYXNzTmFtZSk7XG4gICAgfTtcbiAgICB0aGlzLnJlbW92ZUd1dHRlckRlY29yYXRpb24gPSBmdW5jdGlvbihyb3csIGNsYXNzTmFtZSl7XG4gICAgICAgIHRoaXMuJGd1dHRlckxheWVyLnJlbW92ZUd1dHRlckRlY29yYXRpb24ocm93LCBjbGFzc05hbWUpO1xuICAgIH07XG4gICAgdGhpcy51cGRhdGVCcmVha3BvaW50cyA9IGZ1bmN0aW9uKHJvd3MpIHtcbiAgICAgICAgdGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9HVVRURVIpO1xuICAgIH07XG4gICAgdGhpcy5zZXRBbm5vdGF0aW9ucyA9IGZ1bmN0aW9uKGFubm90YXRpb25zKSB7XG4gICAgICAgIHRoaXMuJGd1dHRlckxheWVyLnNldEFubm90YXRpb25zKGFubm90YXRpb25zKTtcbiAgICAgICAgdGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9HVVRURVIpO1xuICAgIH07XG4gICAgdGhpcy51cGRhdGVDdXJzb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9DVVJTT1IpO1xuICAgIH07XG4gICAgdGhpcy5oaWRlQ3Vyc29yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJGN1cnNvckxheWVyLmhpZGVDdXJzb3IoKTtcbiAgICB9O1xuICAgIHRoaXMuc2hvd0N1cnNvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLiRjdXJzb3JMYXllci5zaG93Q3Vyc29yKCk7XG4gICAgfTtcblxuICAgIHRoaXMuc2Nyb2xsU2VsZWN0aW9uSW50b1ZpZXcgPSBmdW5jdGlvbihhbmNob3IsIGxlYWQsIG9mZnNldCkge1xuICAgICAgICB0aGlzLnNjcm9sbEN1cnNvckludG9WaWV3KGFuY2hvciwgb2Zmc2V0KTtcbiAgICAgICAgdGhpcy5zY3JvbGxDdXJzb3JJbnRvVmlldyhsZWFkLCBvZmZzZXQpO1xuICAgIH07XG4gICAgdGhpcy5zY3JvbGxDdXJzb3JJbnRvVmlldyA9IGZ1bmN0aW9uKGN1cnNvciwgb2Zmc2V0LCAkdmlld01hcmdpbikge1xuICAgICAgICBpZiAodGhpcy4kc2l6ZS5zY3JvbGxlckhlaWdodCA9PT0gMClcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB2YXIgcG9zID0gdGhpcy4kY3Vyc29yTGF5ZXIuZ2V0UGl4ZWxQb3NpdGlvbihjdXJzb3IpO1xuXG4gICAgICAgIHZhciBsZWZ0ID0gcG9zLmxlZnQ7XG4gICAgICAgIHZhciB0b3AgPSBwb3MudG9wO1xuICAgICAgICBcbiAgICAgICAgdmFyIHRvcE1hcmdpbiA9ICR2aWV3TWFyZ2luICYmICR2aWV3TWFyZ2luLnRvcCB8fCAwO1xuICAgICAgICB2YXIgYm90dG9tTWFyZ2luID0gJHZpZXdNYXJnaW4gJiYgJHZpZXdNYXJnaW4uYm90dG9tIHx8IDA7XG4gICAgICAgIFxuICAgICAgICB2YXIgc2Nyb2xsVG9wID0gdGhpcy4kc2Nyb2xsQW5pbWF0aW9uID8gdGhpcy5zZXNzaW9uLmdldFNjcm9sbFRvcCgpIDogdGhpcy5zY3JvbGxUb3A7XG4gICAgICAgIFxuICAgICAgICBpZiAoc2Nyb2xsVG9wICsgdG9wTWFyZ2luID4gdG9wKSB7XG4gICAgICAgICAgICBpZiAob2Zmc2V0ICYmIHNjcm9sbFRvcCArIHRvcE1hcmdpbiA+IHRvcCArIHRoaXMubGluZUhlaWdodClcbiAgICAgICAgICAgICAgICB0b3AgLT0gb2Zmc2V0ICogdGhpcy4kc2l6ZS5zY3JvbGxlckhlaWdodDtcbiAgICAgICAgICAgIGlmICh0b3AgPT09IDApXG4gICAgICAgICAgICAgICAgdG9wID0gLXRoaXMuc2Nyb2xsTWFyZ2luLnRvcDtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5zZXRTY3JvbGxUb3AodG9wKTtcbiAgICAgICAgfSBlbHNlIGlmIChzY3JvbGxUb3AgKyB0aGlzLiRzaXplLnNjcm9sbGVySGVpZ2h0IC0gYm90dG9tTWFyZ2luIDwgdG9wICsgdGhpcy5saW5lSGVpZ2h0KSB7XG4gICAgICAgICAgICBpZiAob2Zmc2V0ICYmIHNjcm9sbFRvcCArIHRoaXMuJHNpemUuc2Nyb2xsZXJIZWlnaHQgLSBib3R0b21NYXJnaW4gPCB0b3AgLSAgdGhpcy5saW5lSGVpZ2h0KVxuICAgICAgICAgICAgICAgIHRvcCArPSBvZmZzZXQgKiB0aGlzLiRzaXplLnNjcm9sbGVySGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLnNldFNjcm9sbFRvcCh0b3AgKyB0aGlzLmxpbmVIZWlnaHQgKyBib3R0b21NYXJnaW4gLSB0aGlzLiRzaXplLnNjcm9sbGVySGVpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzY3JvbGxMZWZ0ID0gdGhpcy5zY3JvbGxMZWZ0O1xuXG4gICAgICAgIGlmIChzY3JvbGxMZWZ0ID4gbGVmdCkge1xuICAgICAgICAgICAgaWYgKGxlZnQgPCB0aGlzLiRwYWRkaW5nICsgMiAqIHRoaXMubGF5ZXJDb25maWcuY2hhcmFjdGVyV2lkdGgpXG4gICAgICAgICAgICAgICAgbGVmdCA9IC10aGlzLnNjcm9sbE1hcmdpbi5sZWZ0O1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLnNldFNjcm9sbExlZnQobGVmdCk7XG4gICAgICAgIH0gZWxzZSBpZiAoc2Nyb2xsTGVmdCArIHRoaXMuJHNpemUuc2Nyb2xsZXJXaWR0aCA8IGxlZnQgKyB0aGlzLmNoYXJhY3RlcldpZHRoKSB7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24uc2V0U2Nyb2xsTGVmdChNYXRoLnJvdW5kKGxlZnQgKyB0aGlzLmNoYXJhY3RlcldpZHRoIC0gdGhpcy4kc2l6ZS5zY3JvbGxlcldpZHRoKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoc2Nyb2xsTGVmdCA8PSB0aGlzLiRwYWRkaW5nICYmIGxlZnQgLSBzY3JvbGxMZWZ0IDwgdGhpcy5jaGFyYWN0ZXJXaWR0aCkge1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLnNldFNjcm9sbExlZnQoMCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuZ2V0U2Nyb2xsVG9wID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlc3Npb24uZ2V0U2Nyb2xsVG9wKCk7XG4gICAgfTtcbiAgICB0aGlzLmdldFNjcm9sbExlZnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5nZXRTY3JvbGxMZWZ0KCk7XG4gICAgfTtcbiAgICB0aGlzLmdldFNjcm9sbFRvcFJvdyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY3JvbGxUb3AgLyB0aGlzLmxpbmVIZWlnaHQ7XG4gICAgfTtcbiAgICB0aGlzLmdldFNjcm9sbEJvdHRvbVJvdyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcigodGhpcy5zY3JvbGxUb3AgKyB0aGlzLiRzaXplLnNjcm9sbGVySGVpZ2h0KSAvIHRoaXMubGluZUhlaWdodCkgLSAxKTtcbiAgICB9O1xuICAgIHRoaXMuc2Nyb2xsVG9Sb3cgPSBmdW5jdGlvbihyb3cpIHtcbiAgICAgICAgdGhpcy5zZXNzaW9uLnNldFNjcm9sbFRvcChyb3cgKiB0aGlzLmxpbmVIZWlnaHQpO1xuICAgIH07XG5cbiAgICB0aGlzLmFsaWduQ3Vyc29yID0gZnVuY3Rpb24oY3Vyc29yLCBhbGlnbm1lbnQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjdXJzb3IgPT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgIGN1cnNvciA9IHtyb3c6IGN1cnNvciwgY29sdW1uOiAwfTtcblxuICAgICAgICB2YXIgcG9zID0gdGhpcy4kY3Vyc29yTGF5ZXIuZ2V0UGl4ZWxQb3NpdGlvbihjdXJzb3IpO1xuICAgICAgICB2YXIgaCA9IHRoaXMuJHNpemUuc2Nyb2xsZXJIZWlnaHQgLSB0aGlzLmxpbmVIZWlnaHQ7XG4gICAgICAgIHZhciBvZmZzZXQgPSBwb3MudG9wIC0gaCAqIChhbGlnbm1lbnQgfHwgMCk7XG5cbiAgICAgICAgdGhpcy5zZXNzaW9uLnNldFNjcm9sbFRvcChvZmZzZXQpO1xuICAgICAgICByZXR1cm4gb2Zmc2V0O1xuICAgIH07XG5cbiAgICB0aGlzLlNURVBTID0gODtcbiAgICB0aGlzLiRjYWxjU3RlcHMgPSBmdW5jdGlvbihmcm9tVmFsdWUsIHRvVmFsdWUpe1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHZhciBsID0gdGhpcy5TVEVQUztcbiAgICAgICAgdmFyIHN0ZXBzID0gW107XG5cbiAgICAgICAgdmFyIGZ1bmMgID0gZnVuY3Rpb24odCwgeF9taW4sIGR4KSB7XG4gICAgICAgICAgICByZXR1cm4gZHggKiAoTWF0aC5wb3codCAtIDEsIDMpICsgMSkgKyB4X21pbjtcbiAgICAgICAgfTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbDsgKytpKVxuICAgICAgICAgICAgc3RlcHMucHVzaChmdW5jKGkgLyB0aGlzLlNURVBTLCBmcm9tVmFsdWUsIHRvVmFsdWUgLSBmcm9tVmFsdWUpKTtcblxuICAgICAgICByZXR1cm4gc3RlcHM7XG4gICAgfTtcbiAgICB0aGlzLnNjcm9sbFRvTGluZSA9IGZ1bmN0aW9uKGxpbmUsIGNlbnRlciwgYW5pbWF0ZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHBvcyA9IHRoaXMuJGN1cnNvckxheWVyLmdldFBpeGVsUG9zaXRpb24oe3JvdzogbGluZSwgY29sdW1uOiAwfSk7XG4gICAgICAgIHZhciBvZmZzZXQgPSBwb3MudG9wO1xuICAgICAgICBpZiAoY2VudGVyKVxuICAgICAgICAgICAgb2Zmc2V0IC09IHRoaXMuJHNpemUuc2Nyb2xsZXJIZWlnaHQgLyAyO1xuXG4gICAgICAgIHZhciBpbml0aWFsU2Nyb2xsID0gdGhpcy5zY3JvbGxUb3A7XG4gICAgICAgIHRoaXMuc2Vzc2lvbi5zZXRTY3JvbGxUb3Aob2Zmc2V0KTtcbiAgICAgICAgaWYgKGFuaW1hdGUgIT09IGZhbHNlKVxuICAgICAgICAgICAgdGhpcy5hbmltYXRlU2Nyb2xsaW5nKGluaXRpYWxTY3JvbGwsIGNhbGxiYWNrKTtcbiAgICB9O1xuXG4gICAgdGhpcy5hbmltYXRlU2Nyb2xsaW5nID0gZnVuY3Rpb24oZnJvbVZhbHVlLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgdG9WYWx1ZSA9IHRoaXMuc2Nyb2xsVG9wO1xuICAgICAgICBpZiAoIXRoaXMuJGFuaW1hdGVkU2Nyb2xsKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzO1xuICAgICAgICBcbiAgICAgICAgaWYgKGZyb21WYWx1ZSA9PSB0b1ZhbHVlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMuJHNjcm9sbEFuaW1hdGlvbikge1xuICAgICAgICAgICAgdmFyIG9sZFN0ZXBzID0gdGhpcy4kc2Nyb2xsQW5pbWF0aW9uLnN0ZXBzO1xuICAgICAgICAgICAgaWYgKG9sZFN0ZXBzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGZyb21WYWx1ZSA9IG9sZFN0ZXBzWzBdO1xuICAgICAgICAgICAgICAgIGlmIChmcm9tVmFsdWUgPT0gdG9WYWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB2YXIgc3RlcHMgPSBfc2VsZi4kY2FsY1N0ZXBzKGZyb21WYWx1ZSwgdG9WYWx1ZSk7XG4gICAgICAgIHRoaXMuJHNjcm9sbEFuaW1hdGlvbiA9IHtmcm9tOiBmcm9tVmFsdWUsIHRvOiB0b1ZhbHVlLCBzdGVwczogc3RlcHN9O1xuXG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy4kdGltZXIpO1xuXG4gICAgICAgIF9zZWxmLnNlc3Npb24uc2V0U2Nyb2xsVG9wKHN0ZXBzLnNoaWZ0KCkpO1xuICAgICAgICBfc2VsZi5zZXNzaW9uLiRzY3JvbGxUb3AgPSB0b1ZhbHVlO1xuICAgICAgICB0aGlzLiR0aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCFfc2VsZi5zZXNzaW9uKSBcbiAgICAgICAgICAgICAgICByZXR1cm4gY2xlYXJJbnRlcnZhbChfc2VsZi4kdGltZXIpO1xuICAgICAgICAgICAgaWYgKHN0ZXBzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIF9zZWxmLnNlc3Npb24uc2V0U2Nyb2xsVG9wKHN0ZXBzLnNoaWZ0KCkpO1xuICAgICAgICAgICAgICAgIF9zZWxmLnNlc3Npb24uJHNjcm9sbFRvcCA9IHRvVmFsdWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRvVmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIF9zZWxmLnNlc3Npb24uJHNjcm9sbFRvcCA9IC0xO1xuICAgICAgICAgICAgICAgIF9zZWxmLnNlc3Npb24uc2V0U2Nyb2xsVG9wKHRvVmFsdWUpO1xuICAgICAgICAgICAgICAgIHRvVmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBfc2VsZi4kdGltZXIgPSBjbGVhckludGVydmFsKF9zZWxmLiR0aW1lcik7XG4gICAgICAgICAgICAgICAgX3NlbGYuJHNjcm9sbEFuaW1hdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgMTApO1xuICAgIH07XG4gICAgdGhpcy5zY3JvbGxUb1kgPSBmdW5jdGlvbihzY3JvbGxUb3ApIHtcbiAgICAgICAgaWYgKHRoaXMuc2Nyb2xsVG9wICE9PSBzY3JvbGxUb3ApIHtcbiAgICAgICAgICAgIHRoaXMuJGxvb3Auc2NoZWR1bGUodGhpcy5DSEFOR0VfU0NST0xMKTtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsVG9wID0gc2Nyb2xsVG9wO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLnNjcm9sbFRvWCA9IGZ1bmN0aW9uKHNjcm9sbExlZnQpIHtcbiAgICAgICAgaWYgKHRoaXMuc2Nyb2xsTGVmdCAhPT0gc2Nyb2xsTGVmdClcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsTGVmdCA9IHNjcm9sbExlZnQ7XG4gICAgICAgIHRoaXMuJGxvb3Auc2NoZWR1bGUodGhpcy5DSEFOR0VfSF9TQ1JPTEwpO1xuICAgIH07XG4gICAgdGhpcy5zY3JvbGxUbyA9IGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgICAgdGhpcy5zZXNzaW9uLnNldFNjcm9sbFRvcCh5KTtcbiAgICAgICAgdGhpcy5zZXNzaW9uLnNldFNjcm9sbExlZnQoeCk7XG4gICAgfTtcbiAgICB0aGlzLnNjcm9sbEJ5ID0gZnVuY3Rpb24oZGVsdGFYLCBkZWx0YVkpIHtcbiAgICAgICAgZGVsdGFZICYmIHRoaXMuc2Vzc2lvbi5zZXRTY3JvbGxUb3AodGhpcy5zZXNzaW9uLmdldFNjcm9sbFRvcCgpICsgZGVsdGFZKTtcbiAgICAgICAgZGVsdGFYICYmIHRoaXMuc2Vzc2lvbi5zZXRTY3JvbGxMZWZ0KHRoaXMuc2Vzc2lvbi5nZXRTY3JvbGxMZWZ0KCkgKyBkZWx0YVgpO1xuICAgIH07XG4gICAgdGhpcy5pc1Njcm9sbGFibGVCeSA9IGZ1bmN0aW9uKGRlbHRhWCwgZGVsdGFZKSB7XG4gICAgICAgIGlmIChkZWx0YVkgPCAwICYmIHRoaXMuc2Vzc2lvbi5nZXRTY3JvbGxUb3AoKSA+PSAxIC0gdGhpcy5zY3JvbGxNYXJnaW4udG9wKVxuICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKGRlbHRhWSA+IDAgJiYgdGhpcy5zZXNzaW9uLmdldFNjcm9sbFRvcCgpICsgdGhpcy4kc2l6ZS5zY3JvbGxlckhlaWdodFxuICAgICAgICAgICAgLSB0aGlzLmxheWVyQ29uZmlnLm1heEhlaWdodCA8IC0xICsgdGhpcy5zY3JvbGxNYXJnaW4uYm90dG9tKVxuICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKGRlbHRhWCA8IDAgJiYgdGhpcy5zZXNzaW9uLmdldFNjcm9sbExlZnQoKSA+PSAxIC0gdGhpcy5zY3JvbGxNYXJnaW4ubGVmdClcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBpZiAoZGVsdGFYID4gMCAmJiB0aGlzLnNlc3Npb24uZ2V0U2Nyb2xsTGVmdCgpICsgdGhpcy4kc2l6ZS5zY3JvbGxlcldpZHRoXG4gICAgICAgICAgICAtIHRoaXMubGF5ZXJDb25maWcud2lkdGggPCAtMSArIHRoaXMuc2Nyb2xsTWFyZ2luLnJpZ2h0KVxuICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgdGhpcy5waXhlbFRvU2NyZWVuQ29vcmRpbmF0ZXMgPSBmdW5jdGlvbih4LCB5KSB7XG4gICAgICAgIHZhciBjYW52YXNQb3M7XG4gICAgICAgIGlmICh0aGlzLiRoYXNDc3NUcmFuc2Zvcm1zKSB7XG4gICAgICAgICAgICBjYW52YXNQb3MgPSB7dG9wOjAsIGxlZnQ6IDB9O1xuICAgICAgICAgICAgdmFyIHAgPSB0aGlzLiRmb250TWV0cmljcy50cmFuc2Zvcm1Db29yZGluYXRlcyhbeCwgeV0pO1xuICAgICAgICAgICAgeCA9IHBbMV0gLSB0aGlzLmd1dHRlcldpZHRoIC0gdGhpcy5tYXJnaW4ubGVmdDtcbiAgICAgICAgICAgIHkgPSBwWzBdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FudmFzUG9zID0gdGhpcy5zY3JvbGxlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdmFyIG9mZnNldFggPSB4ICsgdGhpcy5zY3JvbGxMZWZ0IC0gY2FudmFzUG9zLmxlZnQgLSB0aGlzLiRwYWRkaW5nO1xuICAgICAgICB2YXIgb2Zmc2V0ID0gb2Zmc2V0WCAvIHRoaXMuY2hhcmFjdGVyV2lkdGg7XG4gICAgICAgIHZhciByb3cgPSBNYXRoLmZsb29yKCh5ICsgdGhpcy5zY3JvbGxUb3AgLSBjYW52YXNQb3MudG9wKSAvIHRoaXMubGluZUhlaWdodCk7XG4gICAgICAgIHZhciBjb2wgPSB0aGlzLiRibG9ja0N1cnNvciA/IE1hdGguZmxvb3Iob2Zmc2V0KSA6IE1hdGgucm91bmQob2Zmc2V0KTtcblxuICAgICAgICByZXR1cm4ge3Jvdzogcm93LCBjb2x1bW46IGNvbCwgc2lkZTogb2Zmc2V0IC0gY29sID4gMCA/IDEgOiAtMSwgb2Zmc2V0WDogIG9mZnNldFh9O1xuICAgIH07XG5cbiAgICB0aGlzLnNjcmVlblRvVGV4dENvb3JkaW5hdGVzID0gZnVuY3Rpb24oeCwgeSkge1xuICAgICAgICB2YXIgY2FudmFzUG9zO1xuICAgICAgICBpZiAodGhpcy4kaGFzQ3NzVHJhbnNmb3Jtcykge1xuICAgICAgICAgICAgY2FudmFzUG9zID0ge3RvcDowLCBsZWZ0OiAwfTtcbiAgICAgICAgICAgIHZhciBwID0gdGhpcy4kZm9udE1ldHJpY3MudHJhbnNmb3JtQ29vcmRpbmF0ZXMoW3gsIHldKTtcbiAgICAgICAgICAgIHggPSBwWzFdIC0gdGhpcy5ndXR0ZXJXaWR0aCAtIHRoaXMubWFyZ2luLmxlZnQ7XG4gICAgICAgICAgICB5ID0gcFswXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhbnZhc1BvcyA9IHRoaXMuc2Nyb2xsZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgb2Zmc2V0WCA9IHggKyB0aGlzLnNjcm9sbExlZnQgLSBjYW52YXNQb3MubGVmdCAtIHRoaXMuJHBhZGRpbmc7XG4gICAgICAgIHZhciBvZmZzZXQgPSBvZmZzZXRYIC8gdGhpcy5jaGFyYWN0ZXJXaWR0aDtcbiAgICAgICAgdmFyIGNvbCA9IHRoaXMuJGJsb2NrQ3Vyc29yID8gTWF0aC5mbG9vcihvZmZzZXQpIDogTWF0aC5yb3VuZChvZmZzZXQpO1xuXG4gICAgICAgIHZhciByb3cgPSBNYXRoLmZsb29yKCh5ICsgdGhpcy5zY3JvbGxUb3AgLSBjYW52YXNQb3MudG9wKSAvIHRoaXMubGluZUhlaWdodCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5zY3JlZW5Ub0RvY3VtZW50UG9zaXRpb24ocm93LCBNYXRoLm1heChjb2wsIDApLCBvZmZzZXRYKTtcbiAgICB9O1xuICAgIHRoaXMudGV4dFRvU2NyZWVuQ29vcmRpbmF0ZXMgPSBmdW5jdGlvbihyb3csIGNvbHVtbikge1xuICAgICAgICB2YXIgY2FudmFzUG9zID0gdGhpcy5zY3JvbGxlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdmFyIHBvcyA9IHRoaXMuc2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb24ocm93LCBjb2x1bW4pO1xuXG4gICAgICAgIHZhciB4ID0gdGhpcy4kcGFkZGluZyArICh0aGlzLnNlc3Npb24uJGJpZGlIYW5kbGVyLmlzQmlkaVJvdyhwb3Mucm93LCByb3cpXG4gICAgICAgICAgICAgPyB0aGlzLnNlc3Npb24uJGJpZGlIYW5kbGVyLmdldFBvc0xlZnQocG9zLmNvbHVtbilcbiAgICAgICAgICAgICA6IE1hdGgucm91bmQocG9zLmNvbHVtbiAqIHRoaXMuY2hhcmFjdGVyV2lkdGgpKTtcbiAgICAgICAgXG4gICAgICAgIHZhciB5ID0gcG9zLnJvdyAqIHRoaXMubGluZUhlaWdodDtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcGFnZVg6IGNhbnZhc1Bvcy5sZWZ0ICsgeCAtIHRoaXMuc2Nyb2xsTGVmdCxcbiAgICAgICAgICAgIHBhZ2VZOiBjYW52YXNQb3MudG9wICsgeSAtIHRoaXMuc2Nyb2xsVG9wXG4gICAgICAgIH07XG4gICAgfTtcbiAgICB0aGlzLnZpc3VhbGl6ZUZvY3VzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGRvbS5hZGRDc3NDbGFzcyh0aGlzLmNvbnRhaW5lciwgXCJhY2VfZm9jdXNcIik7XG4gICAgfTtcbiAgICB0aGlzLnZpc3VhbGl6ZUJsdXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZG9tLnJlbW92ZUNzc0NsYXNzKHRoaXMuY29udGFpbmVyLCBcImFjZV9mb2N1c1wiKTtcbiAgICB9O1xuICAgIHRoaXMuc2hvd0NvbXBvc2l0aW9uID0gZnVuY3Rpb24oY29tcG9zaXRpb24pIHtcbiAgICAgICAgdGhpcy4kY29tcG9zaXRpb24gPSBjb21wb3NpdGlvbjtcbiAgICAgICAgaWYgKCFjb21wb3NpdGlvbi5jc3NUZXh0KSB7XG4gICAgICAgICAgICBjb21wb3NpdGlvbi5jc3NUZXh0ID0gdGhpcy50ZXh0YXJlYS5zdHlsZS5jc3NUZXh0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb21wb3NpdGlvbi51c2VUZXh0YXJlYUZvcklNRSA9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICBjb21wb3NpdGlvbi51c2VUZXh0YXJlYUZvcklNRSA9IHRoaXMuJHVzZVRleHRhcmVhRm9ySU1FO1xuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMuJHVzZVRleHRhcmVhRm9ySU1FKSB7XG4gICAgICAgICAgICBkb20uYWRkQ3NzQ2xhc3ModGhpcy50ZXh0YXJlYSwgXCJhY2VfY29tcG9zaXRpb25cIik7XG4gICAgICAgICAgICB0aGlzLnRleHRhcmVhLnN0eWxlLmNzc1RleHQgPSBcIlwiO1xuICAgICAgICAgICAgdGhpcy4kbW92ZVRleHRBcmVhVG9DdXJzb3IoKTtcbiAgICAgICAgICAgIHRoaXMuJGN1cnNvckxheWVyLmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29tcG9zaXRpb24ubWFya2VySWQgPSB0aGlzLnNlc3Npb24uYWRkTWFya2VyKGNvbXBvc2l0aW9uLm1hcmtlclJhbmdlLCBcImFjZV9jb21wb3NpdGlvbl9tYXJrZXJcIiwgXCJ0ZXh0XCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLnNldENvbXBvc2l0aW9uVGV4dCA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgICAgdmFyIGN1cnNvciA9IHRoaXMuc2Vzc2lvbi5zZWxlY3Rpb24uY3Vyc29yO1xuICAgICAgICB0aGlzLmFkZFRva2VuKHRleHQsIFwiY29tcG9zaXRpb25fcGxhY2Vob2xkZXJcIiwgY3Vyc29yLnJvdywgY3Vyc29yLmNvbHVtbik7XG4gICAgICAgIHRoaXMuJG1vdmVUZXh0QXJlYVRvQ3Vyc29yKCk7XG4gICAgfTtcbiAgICB0aGlzLmhpZGVDb21wb3NpdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXRoaXMuJGNvbXBvc2l0aW9uKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMuJGNvbXBvc2l0aW9uLm1hcmtlcklkKVxuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLnJlbW92ZU1hcmtlcih0aGlzLiRjb21wb3NpdGlvbi5tYXJrZXJJZCk7XG5cbiAgICAgICAgZG9tLnJlbW92ZUNzc0NsYXNzKHRoaXMudGV4dGFyZWEsIFwiYWNlX2NvbXBvc2l0aW9uXCIpO1xuICAgICAgICB0aGlzLnRleHRhcmVhLnN0eWxlLmNzc1RleHQgPSB0aGlzLiRjb21wb3NpdGlvbi5jc3NUZXh0O1xuICAgICAgICB2YXIgY3Vyc29yID0gdGhpcy5zZXNzaW9uLnNlbGVjdGlvbi5jdXJzb3I7XG4gICAgICAgIHRoaXMucmVtb3ZlRXh0cmFUb2tlbihjdXJzb3Iucm93LCBjdXJzb3IuY29sdW1uKTtcbiAgICAgICAgdGhpcy4kY29tcG9zaXRpb24gPSBudWxsO1xuICAgICAgICB0aGlzLiRjdXJzb3JMYXllci5lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5hZGRUb2tlbiA9IGZ1bmN0aW9uKHRleHQsIHR5cGUsIHJvdywgY29sdW1uKSB7XG4gICAgICAgIHZhciBzZXNzaW9uID0gdGhpcy5zZXNzaW9uO1xuICAgICAgICBzZXNzaW9uLmJnVG9rZW5pemVyLmxpbmVzW3Jvd10gPSBudWxsO1xuICAgICAgICB2YXIgbmV3VG9rZW4gPSB7dHlwZTogdHlwZSwgdmFsdWU6IHRleHR9O1xuICAgICAgICB2YXIgdG9rZW5zID0gc2Vzc2lvbi5nZXRUb2tlbnMocm93KTtcbiAgICAgICAgaWYgKGNvbHVtbiA9PSBudWxsKSB7XG4gICAgICAgICAgICB0b2tlbnMucHVzaChuZXdUb2tlbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgbCA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0wOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRva2VuID0gdG9rZW5zW2ldO1xuICAgICAgICAgICAgICAgIGwgKz0gdG9rZW4udmFsdWUubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGlmIChjb2x1bW4gPD0gbCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGlmZiA9IHRva2VuLnZhbHVlLmxlbmd0aCAtIChsIC0gY29sdW1uKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJlZm9yZSA9IHRva2VuLnZhbHVlLnNsaWNlKDAsIGRpZmYpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYWZ0ZXIgPSB0b2tlbi52YWx1ZS5zbGljZShkaWZmKTtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5zLnNwbGljZShpLCAxLCB7dHlwZTogdG9rZW4udHlwZSwgdmFsdWU6IGJlZm9yZX0sICBuZXdUb2tlbiwgIHt0eXBlOiB0b2tlbi50eXBlLCB2YWx1ZTogYWZ0ZXJ9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlTGluZXMocm93LCByb3cpO1xuICAgIH07XG5cbiAgICB0aGlzLnJlbW92ZUV4dHJhVG9rZW4gPSBmdW5jdGlvbihyb3csIGNvbHVtbikge1xuICAgICAgICB0aGlzLnVwZGF0ZUxpbmVzKHJvdywgcm93KTtcbiAgICB9O1xuICAgIHRoaXMuc2V0VGhlbWUgPSBmdW5jdGlvbih0aGVtZSwgY2IpIHtcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy4kdGhlbWVJZCA9IHRoZW1lO1xuICAgICAgICBfc2VsZi5fZGlzcGF0Y2hFdmVudCgndGhlbWVDaGFuZ2UnLHt0aGVtZTp0aGVtZX0pO1xuXG4gICAgICAgIGlmICghdGhlbWUgfHwgdHlwZW9mIHRoZW1lID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHZhciBtb2R1bGVOYW1lID0gdGhlbWUgfHwgdGhpcy4kb3B0aW9ucy50aGVtZS5pbml0aWFsVmFsdWU7XG4gICAgICAgICAgICBjb25maWcubG9hZE1vZHVsZShbXCJ0aGVtZVwiLCBtb2R1bGVOYW1lXSwgYWZ0ZXJMb2FkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFmdGVyTG9hZCh0aGVtZSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBhZnRlckxvYWQobW9kdWxlKSB7XG4gICAgICAgICAgICBpZiAoX3NlbGYuJHRoZW1lSWQgIT0gdGhlbWUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNiICYmIGNiKCk7XG4gICAgICAgICAgICBpZiAoIW1vZHVsZSB8fCAhbW9kdWxlLmNzc0NsYXNzKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImNvdWxkbid0IGxvYWQgbW9kdWxlIFwiICsgdGhlbWUgKyBcIiBvciBpdCBkaWRuJ3QgY2FsbCBkZWZpbmVcIik7XG4gICAgICAgICAgICBpZiAobW9kdWxlLiRpZClcbiAgICAgICAgICAgICAgICBfc2VsZi4kdGhlbWVJZCA9IG1vZHVsZS4kaWQ7XG4gICAgICAgICAgICBkb20uaW1wb3J0Q3NzU3RyaW5nKFxuICAgICAgICAgICAgICAgIG1vZHVsZS5jc3NUZXh0LFxuICAgICAgICAgICAgICAgIG1vZHVsZS5jc3NDbGFzcyxcbiAgICAgICAgICAgICAgICBfc2VsZi5jb250YWluZXJcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGlmIChfc2VsZi50aGVtZSlcbiAgICAgICAgICAgICAgICBkb20ucmVtb3ZlQ3NzQ2xhc3MoX3NlbGYuY29udGFpbmVyLCBfc2VsZi50aGVtZS5jc3NDbGFzcyk7XG5cbiAgICAgICAgICAgIHZhciBwYWRkaW5nID0gXCJwYWRkaW5nXCIgaW4gbW9kdWxlID8gbW9kdWxlLnBhZGRpbmcgXG4gICAgICAgICAgICAgICAgOiBcInBhZGRpbmdcIiBpbiAoX3NlbGYudGhlbWUgfHwge30pID8gNCA6IF9zZWxmLiRwYWRkaW5nO1xuICAgICAgICAgICAgaWYgKF9zZWxmLiRwYWRkaW5nICYmIHBhZGRpbmcgIT0gX3NlbGYuJHBhZGRpbmcpXG4gICAgICAgICAgICAgICAgX3NlbGYuc2V0UGFkZGluZyhwYWRkaW5nKTtcbiAgICAgICAgICAgIF9zZWxmLiR0aGVtZSA9IG1vZHVsZS5jc3NDbGFzcztcblxuICAgICAgICAgICAgX3NlbGYudGhlbWUgPSBtb2R1bGU7XG4gICAgICAgICAgICBkb20uYWRkQ3NzQ2xhc3MoX3NlbGYuY29udGFpbmVyLCBtb2R1bGUuY3NzQ2xhc3MpO1xuICAgICAgICAgICAgZG9tLnNldENzc0NsYXNzKF9zZWxmLmNvbnRhaW5lciwgXCJhY2VfZGFya1wiLCBtb2R1bGUuaXNEYXJrKTtcbiAgICAgICAgICAgIGlmIChfc2VsZi4kc2l6ZSkge1xuICAgICAgICAgICAgICAgIF9zZWxmLiRzaXplLndpZHRoID0gMDtcbiAgICAgICAgICAgICAgICBfc2VsZi4kdXBkYXRlU2l6ZUFzeW5jKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF9zZWxmLl9kaXNwYXRjaEV2ZW50KCd0aGVtZUxvYWRlZCcsIHt0aGVtZTptb2R1bGV9KTtcbiAgICAgICAgICAgIGNiICYmIGNiKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuZ2V0VGhlbWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHRoZW1lSWQ7XG4gICAgfTtcbiAgICB0aGlzLnNldFN0eWxlID0gZnVuY3Rpb24oc3R5bGUsIGluY2x1ZGUpIHtcbiAgICAgICAgZG9tLnNldENzc0NsYXNzKHRoaXMuY29udGFpbmVyLCBzdHlsZSwgaW5jbHVkZSAhPT0gZmFsc2UpO1xuICAgIH07XG4gICAgdGhpcy51bnNldFN0eWxlID0gZnVuY3Rpb24oc3R5bGUpIHtcbiAgICAgICAgZG9tLnJlbW92ZUNzc0NsYXNzKHRoaXMuY29udGFpbmVyLCBzdHlsZSk7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLnNldEN1cnNvclN0eWxlID0gZnVuY3Rpb24oc3R5bGUpIHtcbiAgICAgICAgZG9tLnNldFN0eWxlKHRoaXMuc2Nyb2xsZXIuc3R5bGUsIFwiY3Vyc29yXCIsIHN0eWxlKTtcbiAgICB9O1xuICAgIHRoaXMuc2V0TW91c2VDdXJzb3IgPSBmdW5jdGlvbihjdXJzb3JTdHlsZSkge1xuICAgICAgICBkb20uc2V0U3R5bGUodGhpcy5zY3JvbGxlci5zdHlsZSwgXCJjdXJzb3JcIiwgY3Vyc29yU3R5bGUpO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5hdHRhY2hUb1NoYWRvd1Jvb3QgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZG9tLmltcG9ydENzc1N0cmluZyhlZGl0b3JDc3MsIFwiYWNlX2VkaXRvci5jc3NcIiwgdGhpcy5jb250YWluZXIpO1xuICAgIH07XG4gICAgdGhpcy5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuZnJlZXplKCk7XG4gICAgICAgIHRoaXMuJGZvbnRNZXRyaWNzLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy4kY3Vyc29yTGF5ZXIuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgfTtcblxufSkuY2FsbChWaXJ0dWFsUmVuZGVyZXIucHJvdG90eXBlKTtcblxuXG5jb25maWcuZGVmaW5lT3B0aW9ucyhWaXJ0dWFsUmVuZGVyZXIucHJvdG90eXBlLCBcInJlbmRlcmVyXCIsIHtcbiAgICBhbmltYXRlZFNjcm9sbDoge2luaXRpYWxWYWx1ZTogZmFsc2V9LFxuICAgIHNob3dJbnZpc2libGVzOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLiR0ZXh0TGF5ZXIuc2V0U2hvd0ludmlzaWJsZXModmFsdWUpKVxuICAgICAgICAgICAgICAgIHRoaXMuJGxvb3Auc2NoZWR1bGUodGhpcy5DSEFOR0VfVEVYVCk7XG4gICAgICAgIH0sXG4gICAgICAgIGluaXRpYWxWYWx1ZTogZmFsc2VcbiAgICB9LFxuICAgIHNob3dQcmludE1hcmdpbjoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKCkgeyB0aGlzLiR1cGRhdGVQcmludE1hcmdpbigpOyB9LFxuICAgICAgICBpbml0aWFsVmFsdWU6IHRydWVcbiAgICB9LFxuICAgIHByaW50TWFyZ2luQ29sdW1uOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24oKSB7IHRoaXMuJHVwZGF0ZVByaW50TWFyZ2luKCk7IH0sXG4gICAgICAgIGluaXRpYWxWYWx1ZTogODBcbiAgICB9LFxuICAgIHByaW50TWFyZ2luOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24odmFsKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbCA9PSBcIm51bWJlclwiKVxuICAgICAgICAgICAgICAgIHRoaXMuJHByaW50TWFyZ2luQ29sdW1uID0gdmFsO1xuICAgICAgICAgICAgdGhpcy4kc2hvd1ByaW50TWFyZ2luID0gISF2YWw7XG4gICAgICAgICAgICB0aGlzLiR1cGRhdGVQcmludE1hcmdpbigpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHNob3dQcmludE1hcmdpbiAmJiB0aGlzLiRwcmludE1hcmdpbkNvbHVtbjsgXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHNob3dHdXR0ZXI6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbihzaG93KXtcbiAgICAgICAgICAgIHRoaXMuJGd1dHRlci5zdHlsZS5kaXNwbGF5ID0gc2hvdyA/IFwiYmxvY2tcIiA6IFwibm9uZVwiO1xuICAgICAgICAgICAgdGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9GVUxMKTtcbiAgICAgICAgICAgIHRoaXMub25HdXR0ZXJSZXNpemUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgaW5pdGlhbFZhbHVlOiB0cnVlXG4gICAgfSxcbiAgICBmYWRlRm9sZFdpZGdldHM6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbihzaG93KSB7XG4gICAgICAgICAgICBkb20uc2V0Q3NzQ2xhc3ModGhpcy4kZ3V0dGVyLCBcImFjZV9mYWRlLWZvbGQtd2lkZ2V0c1wiLCBzaG93KTtcbiAgICAgICAgfSxcbiAgICAgICAgaW5pdGlhbFZhbHVlOiBmYWxzZVxuICAgIH0sXG4gICAgc2hvd0ZvbGRXaWRnZXRzOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24oc2hvdykge1xuICAgICAgICAgICAgdGhpcy4kZ3V0dGVyTGF5ZXIuc2V0U2hvd0ZvbGRXaWRnZXRzKHNob3cpO1xuICAgICAgICAgICAgdGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9HVVRURVIpO1xuICAgICAgICB9LFxuICAgICAgICBpbml0aWFsVmFsdWU6IHRydWVcbiAgICB9LFxuICAgIGRpc3BsYXlJbmRlbnRHdWlkZXM6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbihzaG93KSB7XG4gICAgICAgICAgICBpZiAodGhpcy4kdGV4dExheWVyLnNldERpc3BsYXlJbmRlbnRHdWlkZXMoc2hvdykpXG4gICAgICAgICAgICAgICAgdGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9URVhUKTtcbiAgICAgICAgfSxcbiAgICAgICAgaW5pdGlhbFZhbHVlOiB0cnVlXG4gICAgfSxcbiAgICBoaWdobGlnaHRHdXR0ZXJMaW5lOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24oc2hvdWxkSGlnaGxpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLiRndXR0ZXJMYXllci5zZXRIaWdobGlnaHRHdXR0ZXJMaW5lKHNob3VsZEhpZ2hsaWdodCk7XG4gICAgICAgICAgICB0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX0dVVFRFUik7XG4gICAgICAgIH0sXG4gICAgICAgIGluaXRpYWxWYWx1ZTogdHJ1ZVxuICAgIH0sXG4gICAgaFNjcm9sbEJhckFsd2F5c1Zpc2libGU6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy4kaFNjcm9sbEJhckFsd2F5c1Zpc2libGUgfHwgIXRoaXMuJGhvcml6U2Nyb2xsKVxuICAgICAgICAgICAgICAgIHRoaXMuJGxvb3Auc2NoZWR1bGUodGhpcy5DSEFOR0VfU0NST0xMKTtcbiAgICAgICAgfSxcbiAgICAgICAgaW5pdGlhbFZhbHVlOiBmYWxzZVxuICAgIH0sXG4gICAgdlNjcm9sbEJhckFsd2F5c1Zpc2libGU6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy4kdlNjcm9sbEJhckFsd2F5c1Zpc2libGUgfHwgIXRoaXMuJHZTY3JvbGwpXG4gICAgICAgICAgICAgICAgdGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9TQ1JPTEwpO1xuICAgICAgICB9LFxuICAgICAgICBpbml0aWFsVmFsdWU6IGZhbHNlXG4gICAgfSxcbiAgICBmb250U2l6ZToge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHNpemUpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc2l6ZSA9PSBcIm51bWJlclwiKVxuICAgICAgICAgICAgICAgIHNpemUgPSBzaXplICsgXCJweFwiO1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuZm9udFNpemUgPSBzaXplO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVGb250U2l6ZSgpO1xuICAgICAgICB9LFxuICAgICAgICBpbml0aWFsVmFsdWU6IDEyXG4gICAgfSxcbiAgICBmb250RmFtaWx5OiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuZm9udEZhbWlseSA9IG5hbWU7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUZvbnRTaXplKCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIG1heExpbmVzOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24odmFsKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUZ1bGwoKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbWluTGluZXM6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgIGlmICghKHRoaXMuJG1pbkxpbmVzIDwgMHgxZmZmZmZmZmZmZmZmKSlcbiAgICAgICAgICAgICAgICB0aGlzLiRtaW5MaW5lcyA9IDA7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUZ1bGwoKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbWF4UGl4ZWxIZWlnaHQ6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRnVsbCgpO1xuICAgICAgICB9LFxuICAgICAgICBpbml0aWFsVmFsdWU6IDBcbiAgICB9LFxuICAgIHNjcm9sbFBhc3RFbmQ6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgIHZhbCA9ICt2YWwgfHwgMDtcbiAgICAgICAgICAgIGlmICh0aGlzLiRzY3JvbGxQYXN0RW5kID09IHZhbClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB0aGlzLiRzY3JvbGxQYXN0RW5kID0gdmFsO1xuICAgICAgICAgICAgdGhpcy4kbG9vcC5zY2hlZHVsZSh0aGlzLkNIQU5HRV9TQ1JPTEwpO1xuICAgICAgICB9LFxuICAgICAgICBpbml0aWFsVmFsdWU6IDAsXG4gICAgICAgIGhhbmRsZXNTZXQ6IHRydWVcbiAgICB9LFxuICAgIGZpeGVkV2lkdGhHdXR0ZXI6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgIHRoaXMuJGd1dHRlckxheWVyLiRmaXhlZFdpZHRoID0gISF2YWw7XG4gICAgICAgICAgICB0aGlzLiRsb29wLnNjaGVkdWxlKHRoaXMuQ0hBTkdFX0dVVFRFUik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHRoZW1lOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24odmFsKSB7IHRoaXMuc2V0VGhlbWUodmFsKTsgfSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuJHRoZW1lSWQgfHwgdGhpcy50aGVtZTsgfSxcbiAgICAgICAgaW5pdGlhbFZhbHVlOiBcIi4vdGhlbWUvdGV4dG1hdGVcIixcbiAgICAgICAgaGFuZGxlc1NldDogdHJ1ZVxuICAgIH0sXG4gICAgaGFzQ3NzVHJhbnNmb3Jtczoge1xuICAgIH0sXG4gICAgdXNlVGV4dGFyZWFGb3JJTUU6IHtcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAhdXNlcmFnZW50LmlzTW9iaWxlICYmICF1c2VyYWdlbnQuaXNJRVxuICAgIH1cbn0pO1xuXG5leHBvcnRzLlZpcnR1YWxSZW5kZXJlciA9IFZpcnR1YWxSZW5kZXJlcjtcbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL3dvcmtlci93b3JrZXJfY2xpZW50XCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL29vcFwiLFwiYWNlL2xpYi9uZXRcIixcImFjZS9saWIvZXZlbnRfZW1pdHRlclwiLFwiYWNlL2NvbmZpZ1wiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIG9vcCA9IHJlcXVpcmUoXCIuLi9saWIvb29wXCIpO1xudmFyIG5ldCA9IHJlcXVpcmUoXCIuLi9saWIvbmV0XCIpO1xudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoXCIuLi9saWIvZXZlbnRfZW1pdHRlclwiKS5FdmVudEVtaXR0ZXI7XG52YXIgY29uZmlnID0gcmVxdWlyZShcIi4uL2NvbmZpZ1wiKTtcblxuZnVuY3Rpb24gJHdvcmtlckJsb2Iod29ya2VyVXJsKSB7XG4gICAgdmFyIHNjcmlwdCA9IFwiaW1wb3J0U2NyaXB0cygnXCIgKyBuZXQucXVhbGlmeVVSTCh3b3JrZXJVcmwpICsgXCInKTtcIjtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gbmV3IEJsb2IoW3NjcmlwdF0sIHtcInR5cGVcIjogXCJhcHBsaWNhdGlvbi9qYXZhc2NyaXB0XCJ9KTtcbiAgICB9IGNhdGNoIChlKSB7IC8vIEJhY2t3YXJkcy1jb21wYXRpYmlsaXR5XG4gICAgICAgIHZhciBCbG9iQnVpbGRlciA9IHdpbmRvdy5CbG9iQnVpbGRlciB8fCB3aW5kb3cuV2ViS2l0QmxvYkJ1aWxkZXIgfHwgd2luZG93Lk1vekJsb2JCdWlsZGVyO1xuICAgICAgICB2YXIgYmxvYkJ1aWxkZXIgPSBuZXcgQmxvYkJ1aWxkZXIoKTtcbiAgICAgICAgYmxvYkJ1aWxkZXIuYXBwZW5kKHNjcmlwdCk7XG4gICAgICAgIHJldHVybiBibG9iQnVpbGRlci5nZXRCbG9iKFwiYXBwbGljYXRpb24vamF2YXNjcmlwdFwiKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVdvcmtlcih3b3JrZXJVcmwpIHtcbiAgICBpZiAodHlwZW9mIFdvcmtlciA9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICByZXR1cm4geyBwb3N0TWVzc2FnZTogZnVuY3Rpb24oKSB7fSwgdGVybWluYXRlOiBmdW5jdGlvbigpIHt9IH07XG4gICAgaWYgKGNvbmZpZy5nZXQoXCJsb2FkV29ya2VyRnJvbUJsb2JcIikpIHtcbiAgICAgICAgdmFyIGJsb2IgPSAkd29ya2VyQmxvYih3b3JrZXJVcmwpO1xuICAgICAgICB2YXIgVVJMID0gd2luZG93LlVSTCB8fCB3aW5kb3cud2Via2l0VVJMO1xuICAgICAgICB2YXIgYmxvYlVSTCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICAgIHJldHVybiBuZXcgV29ya2VyKGJsb2JVUkwpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFdvcmtlcih3b3JrZXJVcmwpO1xufVxuXG52YXIgV29ya2VyQ2xpZW50ID0gZnVuY3Rpb24od29ya2VyKSB7XG4gICAgaWYgKCF3b3JrZXIucG9zdE1lc3NhZ2UpXG4gICAgICAgIHdvcmtlciA9IHRoaXMuJGNyZWF0ZVdvcmtlckZyb21PbGRDb25maWcuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIHRoaXMuJHdvcmtlciA9IHdvcmtlcjtcbiAgICB0aGlzLiRzZW5kRGVsdGFRdWV1ZSA9IHRoaXMuJHNlbmREZWx0YVF1ZXVlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5jaGFuZ2VMaXN0ZW5lciA9IHRoaXMuY2hhbmdlTGlzdGVuZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uTWVzc2FnZSA9IHRoaXMub25NZXNzYWdlLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLmNhbGxiYWNrSWQgPSAxO1xuICAgIHRoaXMuY2FsbGJhY2tzID0ge307XG5cbiAgICB0aGlzLiR3b3JrZXIub25tZXNzYWdlID0gdGhpcy5vbk1lc3NhZ2U7XG59O1xuXG4oZnVuY3Rpb24oKXtcblxuICAgIG9vcC5pbXBsZW1lbnQodGhpcywgRXZlbnRFbWl0dGVyKTtcblxuICAgIHRoaXMuJGNyZWF0ZVdvcmtlckZyb21PbGRDb25maWcgPSBmdW5jdGlvbih0b3BMZXZlbE5hbWVzcGFjZXMsIG1vZCwgY2xhc3NuYW1lLCB3b3JrZXJVcmwsIGltcG9ydFNjcmlwdHMpIHtcbiAgICAgICAgaWYgKHJlcXVpcmUubmFtZVRvVXJsICYmICFyZXF1aXJlLnRvVXJsKVxuICAgICAgICAgICAgcmVxdWlyZS50b1VybCA9IHJlcXVpcmUubmFtZVRvVXJsO1xuXG4gICAgICAgIGlmIChjb25maWcuZ2V0KFwicGFja2FnZWRcIikgfHwgIXJlcXVpcmUudG9VcmwpIHtcbiAgICAgICAgICAgIHdvcmtlclVybCA9IHdvcmtlclVybCB8fCBjb25maWcubW9kdWxlVXJsKG1vZCwgXCJ3b3JrZXJcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgbm9ybWFsaXplUGF0aCA9IHRoaXMuJG5vcm1hbGl6ZVBhdGg7XG4gICAgICAgICAgICB3b3JrZXJVcmwgPSB3b3JrZXJVcmwgfHwgbm9ybWFsaXplUGF0aChyZXF1aXJlLnRvVXJsKFwiYWNlL3dvcmtlci93b3JrZXIuanNcIiwgbnVsbCwgXCJfXCIpKTtcblxuICAgICAgICAgICAgdmFyIHRsbnMgPSB7fTtcbiAgICAgICAgICAgIHRvcExldmVsTmFtZXNwYWNlcy5mb3JFYWNoKGZ1bmN0aW9uKG5zKSB7XG4gICAgICAgICAgICAgICAgdGxuc1tuc10gPSBub3JtYWxpemVQYXRoKHJlcXVpcmUudG9VcmwobnMsIG51bGwsIFwiX1wiKS5yZXBsYWNlKC8oXFwuanMpPyhcXD8uKik/JC8sIFwiXCIpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy4kd29ya2VyID0gY3JlYXRlV29ya2VyKHdvcmtlclVybCk7XG4gICAgICAgIGlmIChpbXBvcnRTY3JpcHRzKSB7XG4gICAgICAgICAgICB0aGlzLnNlbmQoXCJpbXBvcnRTY3JpcHRzXCIsIGltcG9ydFNjcmlwdHMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuJHdvcmtlci5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICBpbml0IDogdHJ1ZSxcbiAgICAgICAgICAgIHRsbnMgOiB0bG5zLFxuICAgICAgICAgICAgbW9kdWxlIDogbW9kLFxuICAgICAgICAgICAgY2xhc3NuYW1lIDogY2xhc3NuYW1lXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy4kd29ya2VyO1xuICAgIH07XG5cbiAgICB0aGlzLm9uTWVzc2FnZSA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIG1zZyA9IGUuZGF0YTtcbiAgICAgICAgc3dpdGNoIChtc2cudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcImV2ZW50XCI6XG4gICAgICAgICAgICAgICAgdGhpcy5fc2lnbmFsKG1zZy5uYW1lLCB7ZGF0YTogbXNnLmRhdGF9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJjYWxsXCI6XG4gICAgICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gdGhpcy5jYWxsYmFja3NbbXNnLmlkXTtcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobXNnLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5jYWxsYmFja3NbbXNnLmlkXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZXJyb3JcIjpcbiAgICAgICAgICAgICAgICB0aGlzLnJlcG9ydEVycm9yKG1zZy5kYXRhKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJsb2dcIjpcbiAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZSAmJiBjb25zb2xlLmxvZyAmJiBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBtc2cuZGF0YSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIHRoaXMucmVwb3J0RXJyb3IgPSBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgd2luZG93LmNvbnNvbGUgJiYgY29uc29sZS5lcnJvciAmJiBjb25zb2xlLmVycm9yKGVycik7XG4gICAgfTtcblxuICAgIHRoaXMuJG5vcm1hbGl6ZVBhdGggPSBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgIHJldHVybiBuZXQucXVhbGlmeVVSTChwYXRoKTtcbiAgICB9O1xuXG4gICAgdGhpcy50ZXJtaW5hdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fc2lnbmFsKFwidGVybWluYXRlXCIsIHt9KTtcbiAgICAgICAgdGhpcy5kZWx0YVF1ZXVlID0gbnVsbDtcbiAgICAgICAgdGhpcy4kd29ya2VyLnRlcm1pbmF0ZSgpO1xuICAgICAgICB0aGlzLiR3b3JrZXIgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy4kZG9jKVxuICAgICAgICAgICAgdGhpcy4kZG9jLm9mZihcImNoYW5nZVwiLCB0aGlzLmNoYW5nZUxpc3RlbmVyKTtcbiAgICAgICAgdGhpcy4kZG9jID0gbnVsbDtcbiAgICB9O1xuXG4gICAgdGhpcy5zZW5kID0gZnVuY3Rpb24oY21kLCBhcmdzKSB7XG4gICAgICAgIHRoaXMuJHdvcmtlci5wb3N0TWVzc2FnZSh7Y29tbWFuZDogY21kLCBhcmdzOiBhcmdzfSk7XG4gICAgfTtcblxuICAgIHRoaXMuY2FsbCA9IGZ1bmN0aW9uKGNtZCwgYXJncywgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICB2YXIgaWQgPSB0aGlzLmNhbGxiYWNrSWQrKztcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzW2lkXSA9IGNhbGxiYWNrO1xuICAgICAgICAgICAgYXJncy5wdXNoKGlkKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlbmQoY21kLCBhcmdzKTtcbiAgICB9O1xuXG4gICAgdGhpcy5lbWl0ID0gZnVuY3Rpb24oZXZlbnQsIGRhdGEpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChkYXRhLmRhdGEgJiYgZGF0YS5kYXRhLmVycilcbiAgICAgICAgICAgICAgICBkYXRhLmRhdGEuZXJyID0ge21lc3NhZ2U6IGRhdGEuZGF0YS5lcnIubWVzc2FnZSwgc3RhY2s6IGRhdGEuZGF0YS5lcnIuc3RhY2ssIGNvZGU6IGRhdGEuZGF0YS5lcnIuY29kZX07XG4gICAgICAgICAgICAgICAgdGhpcy4kd29ya2VyICYmIHRoaXMuJHdvcmtlci5wb3N0TWVzc2FnZSh7ZXZlbnQ6IGV2ZW50LCBkYXRhOiB7ZGF0YTogZGF0YS5kYXRhfX0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoKGV4KSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGV4LnN0YWNrKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmF0dGFjaFRvRG9jdW1lbnQgPSBmdW5jdGlvbihkb2MpIHtcbiAgICAgICAgaWYgKHRoaXMuJGRvYylcbiAgICAgICAgICAgIHRoaXMudGVybWluYXRlKCk7XG5cbiAgICAgICAgdGhpcy4kZG9jID0gZG9jO1xuICAgICAgICB0aGlzLmNhbGwoXCJzZXRWYWx1ZVwiLCBbZG9jLmdldFZhbHVlKCldKTtcbiAgICAgICAgZG9jLm9uKFwiY2hhbmdlXCIsIHRoaXMuY2hhbmdlTGlzdGVuZXIsIHRydWUpO1xuICAgIH07XG5cbiAgICB0aGlzLmNoYW5nZUxpc3RlbmVyID0gZnVuY3Rpb24oZGVsdGEpIHtcbiAgICAgICAgaWYgKCF0aGlzLmRlbHRhUXVldWUpIHtcbiAgICAgICAgICAgIHRoaXMuZGVsdGFRdWV1ZSA9IFtdO1xuICAgICAgICAgICAgc2V0VGltZW91dCh0aGlzLiRzZW5kRGVsdGFRdWV1ZSwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlbHRhLmFjdGlvbiA9PSBcImluc2VydFwiKVxuICAgICAgICAgICAgdGhpcy5kZWx0YVF1ZXVlLnB1c2goZGVsdGEuc3RhcnQsIGRlbHRhLmxpbmVzKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5kZWx0YVF1ZXVlLnB1c2goZGVsdGEuc3RhcnQsIGRlbHRhLmVuZCk7XG4gICAgfTtcblxuICAgIHRoaXMuJHNlbmREZWx0YVF1ZXVlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBxID0gdGhpcy5kZWx0YVF1ZXVlO1xuICAgICAgICBpZiAoIXEpIHJldHVybjtcbiAgICAgICAgdGhpcy5kZWx0YVF1ZXVlID0gbnVsbDtcbiAgICAgICAgaWYgKHEubGVuZ3RoID4gNTAgJiYgcS5sZW5ndGggPiB0aGlzLiRkb2MuZ2V0TGVuZ3RoKCkgPj4gMSkge1xuICAgICAgICAgICAgdGhpcy5jYWxsKFwic2V0VmFsdWVcIiwgW3RoaXMuJGRvYy5nZXRWYWx1ZSgpXSk7XG4gICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgdGhpcy5lbWl0KFwiY2hhbmdlXCIsIHtkYXRhOiBxfSk7XG4gICAgfTtcblxufSkuY2FsbChXb3JrZXJDbGllbnQucHJvdG90eXBlKTtcblxuXG52YXIgVUlXb3JrZXJDbGllbnQgPSBmdW5jdGlvbih0b3BMZXZlbE5hbWVzcGFjZXMsIG1vZCwgY2xhc3NuYW1lKSB7XG4gICAgdmFyIG1haW4gPSBudWxsO1xuICAgIHZhciBlbWl0U3luYyA9IGZhbHNlO1xuICAgIHZhciBzZW5kZXIgPSBPYmplY3QuY3JlYXRlKEV2ZW50RW1pdHRlcik7XG5cbiAgICB2YXIgbWVzc2FnZUJ1ZmZlciA9IFtdO1xuICAgIHZhciB3b3JrZXJDbGllbnQgPSBuZXcgV29ya2VyQ2xpZW50KHtcbiAgICAgICAgbWVzc2FnZUJ1ZmZlcjogbWVzc2FnZUJ1ZmZlcixcbiAgICAgICAgdGVybWluYXRlOiBmdW5jdGlvbigpIHt9LFxuICAgICAgICBwb3N0TWVzc2FnZTogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgbWVzc2FnZUJ1ZmZlci5wdXNoKGUpO1xuICAgICAgICAgICAgaWYgKCFtYWluKSByZXR1cm47XG4gICAgICAgICAgICBpZiAoZW1pdFN5bmMpXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChwcm9jZXNzTmV4dCk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcHJvY2Vzc05leHQoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgd29ya2VyQ2xpZW50LnNldEVtaXRTeW5jID0gZnVuY3Rpb24odmFsKSB7IGVtaXRTeW5jID0gdmFsOyB9O1xuXG4gICAgdmFyIHByb2Nlc3NOZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBtc2cgPSBtZXNzYWdlQnVmZmVyLnNoaWZ0KCk7XG4gICAgICAgIGlmIChtc2cuY29tbWFuZClcbiAgICAgICAgICAgIG1haW5bbXNnLmNvbW1hbmRdLmFwcGx5KG1haW4sIG1zZy5hcmdzKTtcbiAgICAgICAgZWxzZSBpZiAobXNnLmV2ZW50KVxuICAgICAgICAgICAgc2VuZGVyLl9zaWduYWwobXNnLmV2ZW50LCBtc2cuZGF0YSk7XG4gICAgfTtcblxuICAgIHNlbmRlci5wb3N0TWVzc2FnZSA9IGZ1bmN0aW9uKG1zZykge1xuICAgICAgICB3b3JrZXJDbGllbnQub25NZXNzYWdlKHtkYXRhOiBtc2d9KTtcbiAgICB9O1xuICAgIHNlbmRlci5jYWxsYmFjayA9IGZ1bmN0aW9uKGRhdGEsIGNhbGxiYWNrSWQpIHtcbiAgICAgICAgdGhpcy5wb3N0TWVzc2FnZSh7dHlwZTogXCJjYWxsXCIsIGlkOiBjYWxsYmFja0lkLCBkYXRhOiBkYXRhfSk7XG4gICAgfTtcbiAgICBzZW5kZXIuZW1pdCA9IGZ1bmN0aW9uKG5hbWUsIGRhdGEpIHtcbiAgICAgICAgdGhpcy5wb3N0TWVzc2FnZSh7dHlwZTogXCJldmVudFwiLCBuYW1lOiBuYW1lLCBkYXRhOiBkYXRhfSk7XG4gICAgfTtcblxuICAgIGNvbmZpZy5sb2FkTW9kdWxlKFtcIndvcmtlclwiLCBtb2RdLCBmdW5jdGlvbihNYWluKSB7XG4gICAgICAgIG1haW4gPSBuZXcgTWFpbltjbGFzc25hbWVdKHNlbmRlcik7XG4gICAgICAgIHdoaWxlIChtZXNzYWdlQnVmZmVyLmxlbmd0aClcbiAgICAgICAgICAgIHByb2Nlc3NOZXh0KCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gd29ya2VyQ2xpZW50O1xufTtcblxuZXhwb3J0cy5VSVdvcmtlckNsaWVudCA9IFVJV29ya2VyQ2xpZW50O1xuZXhwb3J0cy5Xb3JrZXJDbGllbnQgPSBXb3JrZXJDbGllbnQ7XG5leHBvcnRzLmNyZWF0ZVdvcmtlciA9IGNyZWF0ZVdvcmtlcjtcblxuXG59KTtcblxuYWNlLmRlZmluZShcImFjZS9wbGFjZWhvbGRlclwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL3JhbmdlXCIsXCJhY2UvbGliL2V2ZW50X2VtaXR0ZXJcIixcImFjZS9saWIvb29wXCJdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgUmFuZ2UgPSByZXF1aXJlKFwiLi9yYW5nZVwiKS5SYW5nZTtcbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKFwiLi9saWIvZXZlbnRfZW1pdHRlclwiKS5FdmVudEVtaXR0ZXI7XG52YXIgb29wID0gcmVxdWlyZShcIi4vbGliL29vcFwiKTtcblxudmFyIFBsYWNlSG9sZGVyID0gZnVuY3Rpb24oc2Vzc2lvbiwgbGVuZ3RoLCBwb3MsIG90aGVycywgbWFpbkNsYXNzLCBvdGhlcnNDbGFzcykge1xuICAgIHZhciBfc2VsZiA9IHRoaXM7XG4gICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XG4gICAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbiAgICB0aGlzLmRvYyA9IHNlc3Npb24uZ2V0RG9jdW1lbnQoKTtcbiAgICB0aGlzLm1haW5DbGFzcyA9IG1haW5DbGFzcztcbiAgICB0aGlzLm90aGVyc0NsYXNzID0gb3RoZXJzQ2xhc3M7XG4gICAgdGhpcy4kb25VcGRhdGUgPSB0aGlzLm9uVXBkYXRlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5kb2Mub24oXCJjaGFuZ2VcIiwgdGhpcy4kb25VcGRhdGUsIHRydWUpO1xuICAgIHRoaXMuJG90aGVycyA9IG90aGVycztcbiAgICBcbiAgICB0aGlzLiRvbkN1cnNvckNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgX3NlbGYub25DdXJzb3JDaGFuZ2UoKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLiRwb3MgPSBwb3M7XG4gICAgdmFyIHVuZG9TdGFjayA9IHNlc3Npb24uZ2V0VW5kb01hbmFnZXIoKS4kdW5kb1N0YWNrIHx8IHNlc3Npb24uZ2V0VW5kb01hbmFnZXIoKS4kdW5kb3N0YWNrIHx8IHtsZW5ndGg6IC0xfTtcbiAgICB0aGlzLiR1bmRvU3RhY2tEZXB0aCA9IHVuZG9TdGFjay5sZW5ndGg7XG4gICAgdGhpcy5zZXR1cCgpO1xuXG4gICAgc2Vzc2lvbi5zZWxlY3Rpb24ub24oXCJjaGFuZ2VDdXJzb3JcIiwgdGhpcy4kb25DdXJzb3JDaGFuZ2UpO1xufTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgb29wLmltcGxlbWVudCh0aGlzLCBFdmVudEVtaXR0ZXIpO1xuICAgIHRoaXMuc2V0dXAgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcztcbiAgICAgICAgdmFyIGRvYyA9IHRoaXMuZG9jO1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuc2Vzc2lvbjtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuc2VsZWN0aW9uQmVmb3JlID0gc2Vzc2lvbi5zZWxlY3Rpb24udG9KU09OKCk7XG4gICAgICAgIGlmIChzZXNzaW9uLnNlbGVjdGlvbi5pbk11bHRpU2VsZWN0TW9kZSlcbiAgICAgICAgICAgIHNlc3Npb24uc2VsZWN0aW9uLnRvU2luZ2xlUmFuZ2UoKTtcblxuICAgICAgICB0aGlzLnBvcyA9IGRvYy5jcmVhdGVBbmNob3IodGhpcy4kcG9zLnJvdywgdGhpcy4kcG9zLmNvbHVtbik7XG4gICAgICAgIHZhciBwb3MgPSB0aGlzLnBvcztcbiAgICAgICAgcG9zLiRpbnNlcnRSaWdodCA9IHRydWU7XG4gICAgICAgIHBvcy5kZXRhY2goKTtcbiAgICAgICAgcG9zLm1hcmtlcklkID0gc2Vzc2lvbi5hZGRNYXJrZXIobmV3IFJhbmdlKHBvcy5yb3csIHBvcy5jb2x1bW4sIHBvcy5yb3csIHBvcy5jb2x1bW4gKyB0aGlzLmxlbmd0aCksIHRoaXMubWFpbkNsYXNzLCBudWxsLCBmYWxzZSk7XG4gICAgICAgIHRoaXMub3RoZXJzID0gW107XG4gICAgICAgIHRoaXMuJG90aGVycy5mb3JFYWNoKGZ1bmN0aW9uKG90aGVyKSB7XG4gICAgICAgICAgICB2YXIgYW5jaG9yID0gZG9jLmNyZWF0ZUFuY2hvcihvdGhlci5yb3csIG90aGVyLmNvbHVtbik7XG4gICAgICAgICAgICBhbmNob3IuJGluc2VydFJpZ2h0ID0gdHJ1ZTtcbiAgICAgICAgICAgIGFuY2hvci5kZXRhY2goKTtcbiAgICAgICAgICAgIF9zZWxmLm90aGVycy5wdXNoKGFuY2hvcik7XG4gICAgICAgIH0pO1xuICAgICAgICBzZXNzaW9uLnNldFVuZG9TZWxlY3QoZmFsc2UpO1xuICAgIH07XG4gICAgdGhpcy5zaG93T3RoZXJNYXJrZXJzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLm90aGVyc0FjdGl2ZSkgcmV0dXJuO1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuc2Vzc2lvbjtcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy5vdGhlcnNBY3RpdmUgPSB0cnVlO1xuICAgICAgICB0aGlzLm90aGVycy5mb3JFYWNoKGZ1bmN0aW9uKGFuY2hvcikge1xuICAgICAgICAgICAgYW5jaG9yLm1hcmtlcklkID0gc2Vzc2lvbi5hZGRNYXJrZXIobmV3IFJhbmdlKGFuY2hvci5yb3csIGFuY2hvci5jb2x1bW4sIGFuY2hvci5yb3csIGFuY2hvci5jb2x1bW4rX3NlbGYubGVuZ3RoKSwgX3NlbGYub3RoZXJzQ2xhc3MsIG51bGwsIGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICB0aGlzLmhpZGVPdGhlck1hcmtlcnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLm90aGVyc0FjdGl2ZSkgcmV0dXJuO1xuICAgICAgICB0aGlzLm90aGVyc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMub3RoZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24ucmVtb3ZlTWFya2VyKHRoaXMub3RoZXJzW2ldLm1hcmtlcklkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5vblVwZGF0ZSA9IGZ1bmN0aW9uKGRlbHRhKSB7XG4gICAgICAgIGlmICh0aGlzLiR1cGRhdGluZylcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZUFuY2hvcnMoZGVsdGEpO1xuICAgICAgICAgICAgXG4gICAgICAgIHZhciByYW5nZSA9IGRlbHRhO1xuICAgICAgICBpZiAocmFuZ2Uuc3RhcnQucm93ICE9PSByYW5nZS5lbmQucm93KSByZXR1cm47XG4gICAgICAgIGlmIChyYW5nZS5zdGFydC5yb3cgIT09IHRoaXMucG9zLnJvdykgcmV0dXJuO1xuICAgICAgICB0aGlzLiR1cGRhdGluZyA9IHRydWU7XG4gICAgICAgIHZhciBsZW5ndGhEaWZmID0gZGVsdGEuYWN0aW9uID09PSBcImluc2VydFwiID8gcmFuZ2UuZW5kLmNvbHVtbiAtIHJhbmdlLnN0YXJ0LmNvbHVtbiA6IHJhbmdlLnN0YXJ0LmNvbHVtbiAtIHJhbmdlLmVuZC5jb2x1bW47XG4gICAgICAgIHZhciBpbk1haW5SYW5nZSA9IHJhbmdlLnN0YXJ0LmNvbHVtbiA+PSB0aGlzLnBvcy5jb2x1bW4gJiYgcmFuZ2Uuc3RhcnQuY29sdW1uIDw9IHRoaXMucG9zLmNvbHVtbiArIHRoaXMubGVuZ3RoICsgMTtcbiAgICAgICAgdmFyIGRpc3RhbmNlRnJvbVN0YXJ0ID0gcmFuZ2Uuc3RhcnQuY29sdW1uIC0gdGhpcy5wb3MuY29sdW1uO1xuICAgICAgICBcbiAgICAgICAgdGhpcy51cGRhdGVBbmNob3JzKGRlbHRhKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChpbk1haW5SYW5nZSlcbiAgICAgICAgICAgIHRoaXMubGVuZ3RoICs9IGxlbmd0aERpZmY7XG5cbiAgICAgICAgaWYgKGluTWFpblJhbmdlICYmICF0aGlzLnNlc3Npb24uJGZyb21VbmRvKSB7XG4gICAgICAgICAgICBpZiAoZGVsdGEuYWN0aW9uID09PSAnaW5zZXJ0Jykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSB0aGlzLm90aGVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgb3RoZXJQb3MgPSB0aGlzLm90aGVyc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1BvcyA9IHtyb3c6IG90aGVyUG9zLnJvdywgY29sdW1uOiBvdGhlclBvcy5jb2x1bW4gKyBkaXN0YW5jZUZyb21TdGFydH07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9jLmluc2VydE1lcmdlZExpbmVzKG5ld1BvcywgZGVsdGEubGluZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGVsdGEuYWN0aW9uID09PSAncmVtb3ZlJykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSB0aGlzLm90aGVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgb3RoZXJQb3MgPSB0aGlzLm90aGVyc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1BvcyA9IHtyb3c6IG90aGVyUG9zLnJvdywgY29sdW1uOiBvdGhlclBvcy5jb2x1bW4gKyBkaXN0YW5jZUZyb21TdGFydH07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9jLnJlbW92ZShuZXcgUmFuZ2UobmV3UG9zLnJvdywgbmV3UG9zLmNvbHVtbiwgbmV3UG9zLnJvdywgbmV3UG9zLmNvbHVtbiAtIGxlbmd0aERpZmYpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRoaXMuJHVwZGF0aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMudXBkYXRlTWFya2VycygpO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy51cGRhdGVBbmNob3JzID0gZnVuY3Rpb24oZGVsdGEpIHtcbiAgICAgICAgdGhpcy5wb3Mub25DaGFuZ2UoZGVsdGEpO1xuICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5vdGhlcnMubGVuZ3RoOyBpLS07KVxuICAgICAgICAgICAgdGhpcy5vdGhlcnNbaV0ub25DaGFuZ2UoZGVsdGEpO1xuICAgICAgICB0aGlzLnVwZGF0ZU1hcmtlcnMoKTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMudXBkYXRlTWFya2VycyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy4kdXBkYXRpbmcpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBzZXNzaW9uID0gdGhpcy5zZXNzaW9uO1xuICAgICAgICB2YXIgdXBkYXRlTWFya2VyID0gZnVuY3Rpb24ocG9zLCBjbGFzc05hbWUpIHtcbiAgICAgICAgICAgIHNlc3Npb24ucmVtb3ZlTWFya2VyKHBvcy5tYXJrZXJJZCk7XG4gICAgICAgICAgICBwb3MubWFya2VySWQgPSBzZXNzaW9uLmFkZE1hcmtlcihuZXcgUmFuZ2UocG9zLnJvdywgcG9zLmNvbHVtbiwgcG9zLnJvdywgcG9zLmNvbHVtbitfc2VsZi5sZW5ndGgpLCBjbGFzc05hbWUsIG51bGwsIGZhbHNlKTtcbiAgICAgICAgfTtcbiAgICAgICAgdXBkYXRlTWFya2VyKHRoaXMucG9zLCB0aGlzLm1haW5DbGFzcyk7XG4gICAgICAgIGZvciAodmFyIGkgPSB0aGlzLm90aGVycy5sZW5ndGg7IGktLTspXG4gICAgICAgICAgICB1cGRhdGVNYXJrZXIodGhpcy5vdGhlcnNbaV0sIHRoaXMub3RoZXJzQ2xhc3MpO1xuICAgIH07XG5cbiAgICB0aGlzLm9uQ3Vyc29yQ2hhbmdlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuJHVwZGF0aW5nIHx8ICF0aGlzLnNlc3Npb24pIHJldHVybjtcbiAgICAgICAgdmFyIHBvcyA9IHRoaXMuc2Vzc2lvbi5zZWxlY3Rpb24uZ2V0Q3Vyc29yKCk7XG4gICAgICAgIGlmIChwb3Mucm93ID09PSB0aGlzLnBvcy5yb3cgJiYgcG9zLmNvbHVtbiA+PSB0aGlzLnBvcy5jb2x1bW4gJiYgcG9zLmNvbHVtbiA8PSB0aGlzLnBvcy5jb2x1bW4gKyB0aGlzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5zaG93T3RoZXJNYXJrZXJzKCk7XG4gICAgICAgICAgICB0aGlzLl9lbWl0KFwiY3Vyc29yRW50ZXJcIiwgZXZlbnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5oaWRlT3RoZXJNYXJrZXJzKCk7XG4gICAgICAgICAgICB0aGlzLl9lbWl0KFwiY3Vyc29yTGVhdmVcIiwgZXZlbnQpO1xuICAgICAgICB9XG4gICAgfTsgICAgXG4gICAgdGhpcy5kZXRhY2ggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5zZXNzaW9uLnJlbW92ZU1hcmtlcih0aGlzLnBvcyAmJiB0aGlzLnBvcy5tYXJrZXJJZCk7XG4gICAgICAgIHRoaXMuaGlkZU90aGVyTWFya2VycygpO1xuICAgICAgICB0aGlzLmRvYy5vZmYoXCJjaGFuZ2VcIiwgdGhpcy4kb25VcGRhdGUpO1xuICAgICAgICB0aGlzLnNlc3Npb24uc2VsZWN0aW9uLm9mZihcImNoYW5nZUN1cnNvclwiLCB0aGlzLiRvbkN1cnNvckNoYW5nZSk7XG4gICAgICAgIHRoaXMuc2Vzc2lvbi5zZXRVbmRvU2VsZWN0KHRydWUpO1xuICAgICAgICB0aGlzLnNlc3Npb24gPSBudWxsO1xuICAgIH07XG4gICAgdGhpcy5jYW5jZWwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuJHVuZG9TdGFja0RlcHRoID09PSAtMSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyIHVuZG9NYW5hZ2VyID0gdGhpcy5zZXNzaW9uLmdldFVuZG9NYW5hZ2VyKCk7XG4gICAgICAgIHZhciB1bmRvc1JlcXVpcmVkID0gKHVuZG9NYW5hZ2VyLiR1bmRvU3RhY2sgfHwgdW5kb01hbmFnZXIuJHVuZG9zdGFjaykubGVuZ3RoIC0gdGhpcy4kdW5kb1N0YWNrRGVwdGg7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdW5kb3NSZXF1aXJlZDsgaSsrKSB7XG4gICAgICAgICAgICB1bmRvTWFuYWdlci51bmRvKHRoaXMuc2Vzc2lvbiwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uQmVmb3JlKVxuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLnNlbGVjdGlvbi5mcm9tSlNPTih0aGlzLnNlbGVjdGlvbkJlZm9yZSk7XG4gICAgfTtcbn0pLmNhbGwoUGxhY2VIb2xkZXIucHJvdG90eXBlKTtcblxuXG5leHBvcnRzLlBsYWNlSG9sZGVyID0gUGxhY2VIb2xkZXI7XG59KTtcblxuYWNlLmRlZmluZShcImFjZS9tb3VzZS9tdWx0aV9zZWxlY3RfaGFuZGxlclwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9ldmVudFwiLFwiYWNlL2xpYi91c2VyYWdlbnRcIl0sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXG52YXIgZXZlbnQgPSByZXF1aXJlKFwiLi4vbGliL2V2ZW50XCIpO1xudmFyIHVzZXJhZ2VudCA9IHJlcXVpcmUoXCIuLi9saWIvdXNlcmFnZW50XCIpO1xuZnVuY3Rpb24gaXNTYW1lUG9pbnQocDEsIHAyKSB7XG4gICAgcmV0dXJuIHAxLnJvdyA9PSBwMi5yb3cgJiYgcDEuY29sdW1uID09IHAyLmNvbHVtbjtcbn1cblxuZnVuY3Rpb24gb25Nb3VzZURvd24oZSkge1xuICAgIHZhciBldiA9IGUuZG9tRXZlbnQ7XG4gICAgdmFyIGFsdCA9IGV2LmFsdEtleTtcbiAgICB2YXIgc2hpZnQgPSBldi5zaGlmdEtleTtcbiAgICB2YXIgY3RybCA9IGV2LmN0cmxLZXk7XG4gICAgdmFyIGFjY2VsID0gZS5nZXRBY2NlbEtleSgpO1xuICAgIHZhciBidXR0b24gPSBlLmdldEJ1dHRvbigpO1xuICAgIFxuICAgIGlmIChjdHJsICYmIHVzZXJhZ2VudC5pc01hYylcbiAgICAgICAgYnV0dG9uID0gZXYuYnV0dG9uO1xuXG4gICAgaWYgKGUuZWRpdG9yLmluTXVsdGlTZWxlY3RNb2RlICYmIGJ1dHRvbiA9PSAyKSB7XG4gICAgICAgIGUuZWRpdG9yLnRleHRJbnB1dC5vbkNvbnRleHRNZW51KGUuZG9tRXZlbnQpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGlmICghY3RybCAmJiAhYWx0ICYmICFhY2NlbCkge1xuICAgICAgICBpZiAoYnV0dG9uID09PSAwICYmIGUuZWRpdG9yLmluTXVsdGlTZWxlY3RNb2RlKVxuICAgICAgICAgICAgZS5lZGl0b3IuZXhpdE11bHRpU2VsZWN0TW9kZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGlmIChidXR0b24gIT09IDApXG4gICAgICAgIHJldHVybjtcblxuICAgIHZhciBlZGl0b3IgPSBlLmVkaXRvcjtcbiAgICB2YXIgc2VsZWN0aW9uID0gZWRpdG9yLnNlbGVjdGlvbjtcbiAgICB2YXIgaXNNdWx0aVNlbGVjdCA9IGVkaXRvci5pbk11bHRpU2VsZWN0TW9kZTtcbiAgICB2YXIgcG9zID0gZS5nZXREb2N1bWVudFBvc2l0aW9uKCk7XG4gICAgdmFyIGN1cnNvciA9IHNlbGVjdGlvbi5nZXRDdXJzb3IoKTtcbiAgICB2YXIgaW5TZWxlY3Rpb24gPSBlLmluU2VsZWN0aW9uKCkgfHwgKHNlbGVjdGlvbi5pc0VtcHR5KCkgJiYgaXNTYW1lUG9pbnQocG9zLCBjdXJzb3IpKTtcblxuICAgIHZhciBtb3VzZVggPSBlLngsIG1vdXNlWSA9IGUueTtcbiAgICB2YXIgb25Nb3VzZVNlbGVjdGlvbiA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgbW91c2VYID0gZS5jbGllbnRYO1xuICAgICAgICBtb3VzZVkgPSBlLmNsaWVudFk7XG4gICAgfTtcbiAgICBcbiAgICB2YXIgc2Vzc2lvbiA9IGVkaXRvci5zZXNzaW9uO1xuICAgIHZhciBzY3JlZW5BbmNob3IgPSBlZGl0b3IucmVuZGVyZXIucGl4ZWxUb1NjcmVlbkNvb3JkaW5hdGVzKG1vdXNlWCwgbW91c2VZKTtcbiAgICB2YXIgc2NyZWVuQ3Vyc29yID0gc2NyZWVuQW5jaG9yO1xuICAgIFxuICAgIHZhciBzZWxlY3Rpb25Nb2RlO1xuICAgIGlmIChlZGl0b3IuJG1vdXNlSGFuZGxlci4kZW5hYmxlSnVtcFRvRGVmKSB7XG4gICAgICAgIGlmIChjdHJsICYmIGFsdCB8fCBhY2NlbCAmJiBhbHQpXG4gICAgICAgICAgICBzZWxlY3Rpb25Nb2RlID0gc2hpZnQgPyBcImJsb2NrXCIgOiBcImFkZFwiO1xuICAgICAgICBlbHNlIGlmIChhbHQgJiYgZWRpdG9yLiRibG9ja1NlbGVjdEVuYWJsZWQpXG4gICAgICAgICAgICBzZWxlY3Rpb25Nb2RlID0gXCJibG9ja1wiO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChhY2NlbCAmJiAhYWx0KSB7XG4gICAgICAgICAgICBzZWxlY3Rpb25Nb2RlID0gXCJhZGRcIjtcbiAgICAgICAgICAgIGlmICghaXNNdWx0aVNlbGVjdCAmJiBzaGlmdClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSBpZiAoYWx0ICYmIGVkaXRvci4kYmxvY2tTZWxlY3RFbmFibGVkKSB7XG4gICAgICAgICAgICBzZWxlY3Rpb25Nb2RlID0gXCJibG9ja1wiO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIGlmIChzZWxlY3Rpb25Nb2RlICYmIHVzZXJhZ2VudC5pc01hYyAmJiBldi5jdHJsS2V5KSB7XG4gICAgICAgIGVkaXRvci4kbW91c2VIYW5kbGVyLmNhbmNlbENvbnRleHRNZW51KCk7XG4gICAgfVxuXG4gICAgaWYgKHNlbGVjdGlvbk1vZGUgPT0gXCJhZGRcIikge1xuICAgICAgICBpZiAoIWlzTXVsdGlTZWxlY3QgJiYgaW5TZWxlY3Rpb24pXG4gICAgICAgICAgICByZXR1cm47IC8vIGRyYWdnaW5nXG5cbiAgICAgICAgaWYgKCFpc011bHRpU2VsZWN0KSB7XG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSBzZWxlY3Rpb24udG9PcmllbnRlZFJhbmdlKCk7XG4gICAgICAgICAgICBlZGl0b3IuYWRkU2VsZWN0aW9uTWFya2VyKHJhbmdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBvbGRSYW5nZSA9IHNlbGVjdGlvbi5yYW5nZUxpc3QucmFuZ2VBdFBvaW50KHBvcyk7XG4gICAgICAgIFxuICAgICAgICBlZGl0b3IuaW5WaXJ0dWFsU2VsZWN0aW9uTW9kZSA9IHRydWU7XG4gICAgICAgIFxuICAgICAgICBpZiAoc2hpZnQpIHtcbiAgICAgICAgICAgIG9sZFJhbmdlID0gbnVsbDtcbiAgICAgICAgICAgIHJhbmdlID0gc2VsZWN0aW9uLnJhbmdlc1swXSB8fCByYW5nZTtcbiAgICAgICAgICAgIGVkaXRvci5yZW1vdmVTZWxlY3Rpb25NYXJrZXIocmFuZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGVkaXRvci5vbmNlKFwibW91c2V1cFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB0bXBTZWwgPSBzZWxlY3Rpb24udG9PcmllbnRlZFJhbmdlKCk7XG5cbiAgICAgICAgICAgIGlmIChvbGRSYW5nZSAmJiB0bXBTZWwuaXNFbXB0eSgpICYmIGlzU2FtZVBvaW50KG9sZFJhbmdlLmN1cnNvciwgdG1wU2VsLmN1cnNvcikpXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uLnN1YnN0cmFjdFBvaW50KHRtcFNlbC5jdXJzb3IpO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHNoaWZ0KSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbi5zdWJzdHJhY3RQb2ludChyYW5nZS5jdXJzb3IpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLnJlbW92ZVNlbGVjdGlvbk1hcmtlcihyYW5nZSk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbi5hZGRSYW5nZShyYW5nZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbi5hZGRSYW5nZSh0bXBTZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWRpdG9yLmluVmlydHVhbFNlbGVjdGlvbk1vZGUgPSBmYWxzZTtcbiAgICAgICAgfSk7XG5cbiAgICB9IGVsc2UgaWYgKHNlbGVjdGlvbk1vZGUgPT0gXCJibG9ja1wiKSB7XG4gICAgICAgIGUuc3RvcCgpO1xuICAgICAgICBlZGl0b3IuaW5WaXJ0dWFsU2VsZWN0aW9uTW9kZSA9IHRydWU7ICAgICAgICBcbiAgICAgICAgdmFyIGluaXRpYWxSYW5nZTtcbiAgICAgICAgdmFyIHJlY3RTZWwgPSBbXTtcbiAgICAgICAgdmFyIGJsb2NrU2VsZWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgbmV3Q3Vyc29yID0gZWRpdG9yLnJlbmRlcmVyLnBpeGVsVG9TY3JlZW5Db29yZGluYXRlcyhtb3VzZVgsIG1vdXNlWSk7XG4gICAgICAgICAgICB2YXIgY3Vyc29yID0gc2Vzc2lvbi5zY3JlZW5Ub0RvY3VtZW50UG9zaXRpb24obmV3Q3Vyc29yLnJvdywgbmV3Q3Vyc29yLmNvbHVtbiwgbmV3Q3Vyc29yLm9mZnNldFgpO1xuXG4gICAgICAgICAgICBpZiAoaXNTYW1lUG9pbnQoc2NyZWVuQ3Vyc29yLCBuZXdDdXJzb3IpICYmIGlzU2FtZVBvaW50KGN1cnNvciwgc2VsZWN0aW9uLmxlYWQpKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHNjcmVlbkN1cnNvciA9IG5ld0N1cnNvcjtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZWRpdG9yLnNlbGVjdGlvbi5tb3ZlVG9Qb3NpdGlvbihjdXJzb3IpO1xuICAgICAgICAgICAgZWRpdG9yLnJlbmRlcmVyLnNjcm9sbEN1cnNvckludG9WaWV3KCk7XG5cbiAgICAgICAgICAgIGVkaXRvci5yZW1vdmVTZWxlY3Rpb25NYXJrZXJzKHJlY3RTZWwpO1xuICAgICAgICAgICAgcmVjdFNlbCA9IHNlbGVjdGlvbi5yZWN0YW5ndWxhclJhbmdlQmxvY2soc2NyZWVuQ3Vyc29yLCBzY3JlZW5BbmNob3IpO1xuICAgICAgICAgICAgaWYgKGVkaXRvci4kbW91c2VIYW5kbGVyLiRjbGlja1NlbGVjdGlvbiAmJiByZWN0U2VsLmxlbmd0aCA9PSAxICYmIHJlY3RTZWxbMF0uaXNFbXB0eSgpKVxuICAgICAgICAgICAgICAgIHJlY3RTZWxbMF0gPSBlZGl0b3IuJG1vdXNlSGFuZGxlci4kY2xpY2tTZWxlY3Rpb24uY2xvbmUoKTtcbiAgICAgICAgICAgIHJlY3RTZWwuZm9yRWFjaChlZGl0b3IuYWRkU2VsZWN0aW9uTWFya2VyLCBlZGl0b3IpO1xuICAgICAgICAgICAgZWRpdG9yLnVwZGF0ZVNlbGVjdGlvbk1hcmtlcnMoKTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGlzTXVsdGlTZWxlY3QgJiYgIWFjY2VsKSB7XG4gICAgICAgICAgICBzZWxlY3Rpb24udG9TaW5nbGVSYW5nZSgpO1xuICAgICAgICB9IGVsc2UgaWYgKCFpc011bHRpU2VsZWN0ICYmIGFjY2VsKSB7XG4gICAgICAgICAgICBpbml0aWFsUmFuZ2UgPSBzZWxlY3Rpb24udG9PcmllbnRlZFJhbmdlKCk7XG4gICAgICAgICAgICBlZGl0b3IuYWRkU2VsZWN0aW9uTWFya2VyKGluaXRpYWxSYW5nZSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmIChzaGlmdClcbiAgICAgICAgICAgIHNjcmVlbkFuY2hvciA9IHNlc3Npb24uZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKHNlbGVjdGlvbi5sZWFkKTsgICAgICAgICAgICBcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgc2VsZWN0aW9uLm1vdmVUb1Bvc2l0aW9uKHBvcyk7XG4gICAgICAgIFxuICAgICAgICBzY3JlZW5DdXJzb3IgPSB7cm93OiAtMSwgY29sdW1uOiAtMX07XG5cbiAgICAgICAgdmFyIG9uTW91c2VTZWxlY3Rpb25FbmQgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBibG9ja1NlbGVjdCgpO1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcbiAgICAgICAgICAgIGVkaXRvci5yZW1vdmVTZWxlY3Rpb25NYXJrZXJzKHJlY3RTZWwpO1xuICAgICAgICAgICAgaWYgKCFyZWN0U2VsLmxlbmd0aClcbiAgICAgICAgICAgICAgICByZWN0U2VsID0gW3NlbGVjdGlvbi50b09yaWVudGVkUmFuZ2UoKV07XG4gICAgICAgICAgICBpZiAoaW5pdGlhbFJhbmdlKSB7XG4gICAgICAgICAgICAgICAgZWRpdG9yLnJlbW92ZVNlbGVjdGlvbk1hcmtlcihpbml0aWFsUmFuZ2UpO1xuICAgICAgICAgICAgICAgIHNlbGVjdGlvbi50b1NpbmdsZVJhbmdlKGluaXRpYWxSYW5nZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlY3RTZWwubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uLmFkZFJhbmdlKHJlY3RTZWxbaV0pO1xuICAgICAgICAgICAgZWRpdG9yLmluVmlydHVhbFNlbGVjdGlvbk1vZGUgPSBmYWxzZTtcbiAgICAgICAgICAgIGVkaXRvci4kbW91c2VIYW5kbGVyLiRjbGlja1NlbGVjdGlvbiA9IG51bGw7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIG9uU2VsZWN0aW9uSW50ZXJ2YWwgPSBibG9ja1NlbGVjdDtcblxuICAgICAgICBldmVudC5jYXB0dXJlKGVkaXRvci5jb250YWluZXIsIG9uTW91c2VTZWxlY3Rpb24sIG9uTW91c2VTZWxlY3Rpb25FbmQpO1xuICAgICAgICB2YXIgdGltZXJJZCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge29uU2VsZWN0aW9uSW50ZXJ2YWwoKTt9LCAyMCk7XG5cbiAgICAgICAgcmV0dXJuIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG59XG5cblxuZXhwb3J0cy5vbk1vdXNlRG93biA9IG9uTW91c2VEb3duO1xuXG59KTtcblxuYWNlLmRlZmluZShcImFjZS9jb21tYW5kcy9tdWx0aV9zZWxlY3RfY29tbWFuZHNcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9rZXlib2FyZC9oYXNoX2hhbmRsZXJcIl0sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuZXhwb3J0cy5kZWZhdWx0Q29tbWFuZHMgPSBbe1xuICAgIG5hbWU6IFwiYWRkQ3Vyc29yQWJvdmVcIixcbiAgICBkZXNjcmlwdGlvbjogXCJBZGQgY3Vyc29yIGFib3ZlXCIsXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5zZWxlY3RNb3JlTGluZXMoLTEpOyB9LFxuICAgIGJpbmRLZXk6IHt3aW46IFwiQ3RybC1BbHQtVXBcIiwgbWFjOiBcIkN0cmwtQWx0LVVwXCJ9LFxuICAgIHNjcm9sbEludG9WaWV3OiBcImN1cnNvclwiLFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJhZGRDdXJzb3JCZWxvd1wiLFxuICAgIGRlc2NyaXB0aW9uOiBcIkFkZCBjdXJzb3IgYmVsb3dcIixcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLnNlbGVjdE1vcmVMaW5lcygxKTsgfSxcbiAgICBiaW5kS2V5OiB7d2luOiBcIkN0cmwtQWx0LURvd25cIiwgbWFjOiBcIkN0cmwtQWx0LURvd25cIn0sXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiY3Vyc29yXCIsXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcImFkZEN1cnNvckFib3ZlU2tpcEN1cnJlbnRcIixcbiAgICBkZXNjcmlwdGlvbjogXCJBZGQgY3Vyc29yIGFib3ZlIChza2lwIGN1cnJlbnQpXCIsXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5zZWxlY3RNb3JlTGluZXMoLTEsIHRydWUpOyB9LFxuICAgIGJpbmRLZXk6IHt3aW46IFwiQ3RybC1BbHQtU2hpZnQtVXBcIiwgbWFjOiBcIkN0cmwtQWx0LVNoaWZ0LVVwXCJ9LFxuICAgIHNjcm9sbEludG9WaWV3OiBcImN1cnNvclwiLFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJhZGRDdXJzb3JCZWxvd1NraXBDdXJyZW50XCIsXG4gICAgZGVzY3JpcHRpb246IFwiQWRkIGN1cnNvciBiZWxvdyAoc2tpcCBjdXJyZW50KVwiLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3Iuc2VsZWN0TW9yZUxpbmVzKDEsIHRydWUpOyB9LFxuICAgIGJpbmRLZXk6IHt3aW46IFwiQ3RybC1BbHQtU2hpZnQtRG93blwiLCBtYWM6IFwiQ3RybC1BbHQtU2hpZnQtRG93blwifSxcbiAgICBzY3JvbGxJbnRvVmlldzogXCJjdXJzb3JcIixcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwic2VsZWN0TW9yZUJlZm9yZVwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlNlbGVjdCBtb3JlIGJlZm9yZVwiLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3Iuc2VsZWN0TW9yZSgtMSk7IH0sXG4gICAgYmluZEtleToge3dpbjogXCJDdHJsLUFsdC1MZWZ0XCIsIG1hYzogXCJDdHJsLUFsdC1MZWZ0XCJ9LFxuICAgIHNjcm9sbEludG9WaWV3OiBcImN1cnNvclwiLFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJzZWxlY3RNb3JlQWZ0ZXJcIixcbiAgICBkZXNjcmlwdGlvbjogXCJTZWxlY3QgbW9yZSBhZnRlclwiLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3Iuc2VsZWN0TW9yZSgxKTsgfSxcbiAgICBiaW5kS2V5OiB7d2luOiBcIkN0cmwtQWx0LVJpZ2h0XCIsIG1hYzogXCJDdHJsLUFsdC1SaWdodFwifSxcbiAgICBzY3JvbGxJbnRvVmlldzogXCJjdXJzb3JcIixcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwic2VsZWN0TmV4dEJlZm9yZVwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlNlbGVjdCBuZXh0IGJlZm9yZVwiLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3Iuc2VsZWN0TW9yZSgtMSwgdHJ1ZSk7IH0sXG4gICAgYmluZEtleToge3dpbjogXCJDdHJsLUFsdC1TaGlmdC1MZWZ0XCIsIG1hYzogXCJDdHJsLUFsdC1TaGlmdC1MZWZ0XCJ9LFxuICAgIHNjcm9sbEludG9WaWV3OiBcImN1cnNvclwiLFxuICAgIHJlYWRPbmx5OiB0cnVlXG59LCB7XG4gICAgbmFtZTogXCJzZWxlY3ROZXh0QWZ0ZXJcIixcbiAgICBkZXNjcmlwdGlvbjogXCJTZWxlY3QgbmV4dCBhZnRlclwiLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3Iuc2VsZWN0TW9yZSgxLCB0cnVlKTsgfSxcbiAgICBiaW5kS2V5OiB7d2luOiBcIkN0cmwtQWx0LVNoaWZ0LVJpZ2h0XCIsIG1hYzogXCJDdHJsLUFsdC1TaGlmdC1SaWdodFwifSxcbiAgICBzY3JvbGxJbnRvVmlldzogXCJjdXJzb3JcIixcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwidG9nZ2xlU3BsaXRTZWxlY3Rpb25JbnRvTGluZXNcIixcbiAgICBkZXNjcmlwdGlvbjogXCJTcGxpdCBpbnRvIGxpbmVzXCIsXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgIGlmIChlZGl0b3IubXVsdGlTZWxlY3QucmFuZ2VDb3VudCA+IDEpXG4gICAgICAgICAgICBlZGl0b3IubXVsdGlTZWxlY3Quam9pblNlbGVjdGlvbnMoKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgZWRpdG9yLm11bHRpU2VsZWN0LnNwbGl0SW50b0xpbmVzKCk7XG4gICAgfSxcbiAgICBiaW5kS2V5OiB7d2luOiBcIkN0cmwtQWx0LUxcIiwgbWFjOiBcIkN0cmwtQWx0LUxcIn0sXG4gICAgcmVhZE9ubHk6IHRydWVcbn0sIHtcbiAgICBuYW1lOiBcInNwbGl0U2VsZWN0aW9uSW50b0xpbmVzXCIsXG4gICAgZGVzY3JpcHRpb246IFwiU3BsaXQgaW50byBsaW5lc1wiLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IubXVsdGlTZWxlY3Quc3BsaXRJbnRvTGluZXMoKTsgfSxcbiAgICByZWFkT25seTogdHJ1ZVxufSwge1xuICAgIG5hbWU6IFwiYWxpZ25DdXJzb3JzXCIsXG4gICAgZGVzY3JpcHRpb246IFwiQWxpZ24gY3Vyc29yc1wiLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IuYWxpZ25DdXJzb3JzKCk7IH0sXG4gICAgYmluZEtleToge3dpbjogXCJDdHJsLUFsdC1BXCIsIG1hYzogXCJDdHJsLUFsdC1BXCJ9LFxuICAgIHNjcm9sbEludG9WaWV3OiBcImN1cnNvclwiXG59LCB7XG4gICAgbmFtZTogXCJmaW5kQWxsXCIsXG4gICAgZGVzY3JpcHRpb246IFwiRmluZCBhbGxcIixcbiAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLmZpbmRBbGwoKTsgfSxcbiAgICBiaW5kS2V5OiB7d2luOiBcIkN0cmwtQWx0LUtcIiwgbWFjOiBcIkN0cmwtQWx0LUdcIn0sXG4gICAgc2Nyb2xsSW50b1ZpZXc6IFwiY3Vyc29yXCIsXG4gICAgcmVhZE9ubHk6IHRydWVcbn1dO1xuZXhwb3J0cy5tdWx0aVNlbGVjdENvbW1hbmRzID0gW3tcbiAgICBuYW1lOiBcInNpbmdsZVNlbGVjdGlvblwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlNpbmdsZSBzZWxlY3Rpb25cIixcbiAgICBiaW5kS2V5OiBcImVzY1wiLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IuZXhpdE11bHRpU2VsZWN0TW9kZSgpOyB9LFxuICAgIHNjcm9sbEludG9WaWV3OiBcImN1cnNvclwiLFxuICAgIHJlYWRPbmx5OiB0cnVlLFxuICAgIGlzQXZhaWxhYmxlOiBmdW5jdGlvbihlZGl0b3IpIHtyZXR1cm4gZWRpdG9yICYmIGVkaXRvci5pbk11bHRpU2VsZWN0TW9kZTt9XG59XTtcblxudmFyIEhhc2hIYW5kbGVyID0gcmVxdWlyZShcIi4uL2tleWJvYXJkL2hhc2hfaGFuZGxlclwiKS5IYXNoSGFuZGxlcjtcbmV4cG9ydHMua2V5Ym9hcmRIYW5kbGVyID0gbmV3IEhhc2hIYW5kbGVyKGV4cG9ydHMubXVsdGlTZWxlY3RDb21tYW5kcyk7XG5cbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL211bHRpX3NlbGVjdFwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL3JhbmdlX2xpc3RcIixcImFjZS9yYW5nZVwiLFwiYWNlL3NlbGVjdGlvblwiLFwiYWNlL21vdXNlL211bHRpX3NlbGVjdF9oYW5kbGVyXCIsXCJhY2UvbGliL2V2ZW50XCIsXCJhY2UvbGliL2xhbmdcIixcImFjZS9jb21tYW5kcy9tdWx0aV9zZWxlY3RfY29tbWFuZHNcIixcImFjZS9zZWFyY2hcIixcImFjZS9lZGl0X3Nlc3Npb25cIixcImFjZS9lZGl0b3JcIixcImFjZS9jb25maWdcIl0sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXG52YXIgUmFuZ2VMaXN0ID0gcmVxdWlyZShcIi4vcmFuZ2VfbGlzdFwiKS5SYW5nZUxpc3Q7XG52YXIgUmFuZ2UgPSByZXF1aXJlKFwiLi9yYW5nZVwiKS5SYW5nZTtcbnZhciBTZWxlY3Rpb24gPSByZXF1aXJlKFwiLi9zZWxlY3Rpb25cIikuU2VsZWN0aW9uO1xudmFyIG9uTW91c2VEb3duID0gcmVxdWlyZShcIi4vbW91c2UvbXVsdGlfc2VsZWN0X2hhbmRsZXJcIikub25Nb3VzZURvd247XG52YXIgZXZlbnQgPSByZXF1aXJlKFwiLi9saWIvZXZlbnRcIik7XG52YXIgbGFuZyA9IHJlcXVpcmUoXCIuL2xpYi9sYW5nXCIpO1xudmFyIGNvbW1hbmRzID0gcmVxdWlyZShcIi4vY29tbWFuZHMvbXVsdGlfc2VsZWN0X2NvbW1hbmRzXCIpO1xuZXhwb3J0cy5jb21tYW5kcyA9IGNvbW1hbmRzLmRlZmF1bHRDb21tYW5kcy5jb25jYXQoY29tbWFuZHMubXVsdGlTZWxlY3RDb21tYW5kcyk7XG52YXIgU2VhcmNoID0gcmVxdWlyZShcIi4vc2VhcmNoXCIpLlNlYXJjaDtcbnZhciBzZWFyY2ggPSBuZXcgU2VhcmNoKCk7XG5cbmZ1bmN0aW9uIGZpbmQoc2Vzc2lvbiwgbmVlZGxlLCBkaXIpIHtcbiAgICBzZWFyY2guJG9wdGlvbnMud3JhcCA9IHRydWU7XG4gICAgc2VhcmNoLiRvcHRpb25zLm5lZWRsZSA9IG5lZWRsZTtcbiAgICBzZWFyY2guJG9wdGlvbnMuYmFja3dhcmRzID0gZGlyID09IC0xO1xuICAgIHJldHVybiBzZWFyY2guZmluZChzZXNzaW9uKTtcbn1cbnZhciBFZGl0U2Vzc2lvbiA9IHJlcXVpcmUoXCIuL2VkaXRfc2Vzc2lvblwiKS5FZGl0U2Vzc2lvbjtcbihmdW5jdGlvbigpIHtcbiAgICB0aGlzLmdldFNlbGVjdGlvbk1hcmtlcnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHNlbGVjdGlvbk1hcmtlcnM7XG4gICAgfTtcbn0pLmNhbGwoRWRpdFNlc3Npb24ucHJvdG90eXBlKTtcbihmdW5jdGlvbigpIHtcbiAgICB0aGlzLnJhbmdlcyA9IG51bGw7XG4gICAgdGhpcy5yYW5nZUxpc3QgPSBudWxsO1xuICAgIHRoaXMuYWRkUmFuZ2UgPSBmdW5jdGlvbihyYW5nZSwgJGJsb2NrQ2hhbmdlRXZlbnRzKSB7XG4gICAgICAgIGlmICghcmFuZ2UpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgaWYgKCF0aGlzLmluTXVsdGlTZWxlY3RNb2RlICYmIHRoaXMucmFuZ2VDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgdmFyIG9sZFJhbmdlID0gdGhpcy50b09yaWVudGVkUmFuZ2UoKTtcbiAgICAgICAgICAgIHRoaXMucmFuZ2VMaXN0LmFkZChvbGRSYW5nZSk7XG4gICAgICAgICAgICB0aGlzLnJhbmdlTGlzdC5hZGQocmFuZ2UpO1xuICAgICAgICAgICAgaWYgKHRoaXMucmFuZ2VMaXN0LnJhbmdlcy5sZW5ndGggIT0gMikge1xuICAgICAgICAgICAgICAgIHRoaXMucmFuZ2VMaXN0LnJlbW92ZUFsbCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiAkYmxvY2tDaGFuZ2VFdmVudHMgfHwgdGhpcy5mcm9tT3JpZW50ZWRSYW5nZShyYW5nZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJhbmdlTGlzdC5yZW1vdmVBbGwoKTtcbiAgICAgICAgICAgIHRoaXMucmFuZ2VMaXN0LmFkZChvbGRSYW5nZSk7XG4gICAgICAgICAgICB0aGlzLiRvbkFkZFJhbmdlKG9sZFJhbmdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghcmFuZ2UuY3Vyc29yKVxuICAgICAgICAgICAgcmFuZ2UuY3Vyc29yID0gcmFuZ2UuZW5kO1xuXG4gICAgICAgIHZhciByZW1vdmVkID0gdGhpcy5yYW5nZUxpc3QuYWRkKHJhbmdlKTtcblxuICAgICAgICB0aGlzLiRvbkFkZFJhbmdlKHJhbmdlKTtcblxuICAgICAgICBpZiAocmVtb3ZlZC5sZW5ndGgpXG4gICAgICAgICAgICB0aGlzLiRvblJlbW92ZVJhbmdlKHJlbW92ZWQpO1xuXG4gICAgICAgIGlmICh0aGlzLnJhbmdlQ291bnQgPiAxICYmICF0aGlzLmluTXVsdGlTZWxlY3RNb2RlKSB7XG4gICAgICAgICAgICB0aGlzLl9zaWduYWwoXCJtdWx0aVNlbGVjdFwiKTtcbiAgICAgICAgICAgIHRoaXMuaW5NdWx0aVNlbGVjdE1vZGUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLiR1bmRvU2VsZWN0ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnJhbmdlTGlzdC5hdHRhY2godGhpcy5zZXNzaW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAkYmxvY2tDaGFuZ2VFdmVudHMgfHwgdGhpcy5mcm9tT3JpZW50ZWRSYW5nZShyYW5nZSk7XG4gICAgfTtcbiAgICB0aGlzLnRvU2luZ2xlUmFuZ2UgPSBmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICByYW5nZSA9IHJhbmdlIHx8IHRoaXMucmFuZ2VzWzBdO1xuICAgICAgICB2YXIgcmVtb3ZlZCA9IHRoaXMucmFuZ2VMaXN0LnJlbW92ZUFsbCgpO1xuICAgICAgICBpZiAocmVtb3ZlZC5sZW5ndGgpXG4gICAgICAgICAgICB0aGlzLiRvblJlbW92ZVJhbmdlKHJlbW92ZWQpO1xuXG4gICAgICAgIHJhbmdlICYmIHRoaXMuZnJvbU9yaWVudGVkUmFuZ2UocmFuZ2UpO1xuICAgIH07XG4gICAgdGhpcy5zdWJzdHJhY3RQb2ludCA9IGZ1bmN0aW9uKHBvcykge1xuICAgICAgICB2YXIgcmVtb3ZlZCA9IHRoaXMucmFuZ2VMaXN0LnN1YnN0cmFjdFBvaW50KHBvcyk7XG4gICAgICAgIGlmIChyZW1vdmVkKSB7XG4gICAgICAgICAgICB0aGlzLiRvblJlbW92ZVJhbmdlKHJlbW92ZWQpO1xuICAgICAgICAgICAgcmV0dXJuIHJlbW92ZWRbMF07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMubWVyZ2VPdmVybGFwcGluZ1JhbmdlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcmVtb3ZlZCA9IHRoaXMucmFuZ2VMaXN0Lm1lcmdlKCk7XG4gICAgICAgIGlmIChyZW1vdmVkLmxlbmd0aClcbiAgICAgICAgICAgIHRoaXMuJG9uUmVtb3ZlUmFuZ2UocmVtb3ZlZCk7XG4gICAgfTtcblxuICAgIHRoaXMuJG9uQWRkUmFuZ2UgPSBmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICB0aGlzLnJhbmdlQ291bnQgPSB0aGlzLnJhbmdlTGlzdC5yYW5nZXMubGVuZ3RoO1xuICAgICAgICB0aGlzLnJhbmdlcy51bnNoaWZ0KHJhbmdlKTtcbiAgICAgICAgdGhpcy5fc2lnbmFsKFwiYWRkUmFuZ2VcIiwge3JhbmdlOiByYW5nZX0pO1xuICAgIH07XG5cbiAgICB0aGlzLiRvblJlbW92ZVJhbmdlID0gZnVuY3Rpb24ocmVtb3ZlZCkge1xuICAgICAgICB0aGlzLnJhbmdlQ291bnQgPSB0aGlzLnJhbmdlTGlzdC5yYW5nZXMubGVuZ3RoO1xuICAgICAgICBpZiAodGhpcy5yYW5nZUNvdW50ID09IDEgJiYgdGhpcy5pbk11bHRpU2VsZWN0TW9kZSkge1xuICAgICAgICAgICAgdmFyIGxhc3RSYW5nZSA9IHRoaXMucmFuZ2VMaXN0LnJhbmdlcy5wb3AoKTtcbiAgICAgICAgICAgIHJlbW92ZWQucHVzaChsYXN0UmFuZ2UpO1xuICAgICAgICAgICAgdGhpcy5yYW5nZUNvdW50ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSByZW1vdmVkLmxlbmd0aDsgaS0tOyApIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMucmFuZ2VzLmluZGV4T2YocmVtb3ZlZFtpXSk7XG4gICAgICAgICAgICB0aGlzLnJhbmdlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc2lnbmFsKFwicmVtb3ZlUmFuZ2VcIiwge3JhbmdlczogcmVtb3ZlZH0pO1xuXG4gICAgICAgIGlmICh0aGlzLnJhbmdlQ291bnQgPT09IDAgJiYgdGhpcy5pbk11bHRpU2VsZWN0TW9kZSkge1xuICAgICAgICAgICAgdGhpcy5pbk11bHRpU2VsZWN0TW9kZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fc2lnbmFsKFwic2luZ2xlU2VsZWN0XCIpO1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLiR1bmRvU2VsZWN0ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMucmFuZ2VMaXN0LmRldGFjaCh0aGlzLnNlc3Npb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgbGFzdFJhbmdlID0gbGFzdFJhbmdlIHx8IHRoaXMucmFuZ2VzWzBdO1xuICAgICAgICBpZiAobGFzdFJhbmdlICYmICFsYXN0UmFuZ2UuaXNFcXVhbCh0aGlzLmdldFJhbmdlKCkpKVxuICAgICAgICAgICAgdGhpcy5mcm9tT3JpZW50ZWRSYW5nZShsYXN0UmFuZ2UpO1xuICAgIH07XG4gICAgdGhpcy4kaW5pdFJhbmdlTGlzdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5yYW5nZUxpc3QpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdGhpcy5yYW5nZUxpc3QgPSBuZXcgUmFuZ2VMaXN0KCk7XG4gICAgICAgIHRoaXMucmFuZ2VzID0gW107XG4gICAgICAgIHRoaXMucmFuZ2VDb3VudCA9IDA7XG4gICAgfTtcbiAgICB0aGlzLmdldEFsbFJhbmdlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYW5nZUNvdW50ID8gdGhpcy5yYW5nZUxpc3QucmFuZ2VzLmNvbmNhdCgpIDogW3RoaXMuZ2V0UmFuZ2UoKV07XG4gICAgfTtcbiAgICB0aGlzLnNwbGl0SW50b0xpbmVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmFuZ2VzID0gdGhpcy5yYW5nZXMubGVuZ3RoID8gdGhpcy5yYW5nZXMgOiBbdGhpcy5nZXRSYW5nZSgpXTtcbiAgICAgICAgdmFyIG5ld1JhbmdlcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHJhbmdlID0gcmFuZ2VzW2ldO1xuICAgICAgICAgICAgdmFyIHJvdyA9IHJhbmdlLnN0YXJ0LnJvdztcbiAgICAgICAgICAgIHZhciBlbmRSb3cgPSByYW5nZS5lbmQucm93O1xuICAgICAgICAgICAgaWYgKHJvdyA9PT0gZW5kUm93KSB7XG4gICAgICAgICAgICAgICAgbmV3UmFuZ2VzLnB1c2gocmFuZ2UuY2xvbmUoKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5ld1Jhbmdlcy5wdXNoKG5ldyBSYW5nZShyb3csIHJhbmdlLnN0YXJ0LmNvbHVtbiwgcm93LCB0aGlzLnNlc3Npb24uZ2V0TGluZShyb3cpLmxlbmd0aCkpO1xuICAgICAgICAgICAgICAgIHdoaWxlICgrK3JvdyA8IGVuZFJvdylcbiAgICAgICAgICAgICAgICAgICAgbmV3UmFuZ2VzLnB1c2godGhpcy5nZXRMaW5lUmFuZ2Uocm93LCB0cnVlKSk7XG4gICAgICAgICAgICAgICAgbmV3UmFuZ2VzLnB1c2gobmV3IFJhbmdlKGVuZFJvdywgMCwgZW5kUm93LCByYW5nZS5lbmQuY29sdW1uKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaSA9PSAwICYmICF0aGlzLmlzQmFja3dhcmRzKCkpXG4gICAgICAgICAgICAgICAgbmV3UmFuZ2VzID0gbmV3UmFuZ2VzLnJldmVyc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRvU2luZ2xlUmFuZ2UoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IG5ld1Jhbmdlcy5sZW5ndGg7IGktLTspXG4gICAgICAgICAgICB0aGlzLmFkZFJhbmdlKG5ld1Jhbmdlc1tpXSk7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLmpvaW5TZWxlY3Rpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmFuZ2VzID0gdGhpcy5yYW5nZUxpc3QucmFuZ2VzO1xuICAgICAgICB2YXIgbGFzdFJhbmdlID0gcmFuZ2VzW3Jhbmdlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgdmFyIHJhbmdlID0gUmFuZ2UuZnJvbVBvaW50cyhyYW5nZXNbMF0uc3RhcnQsIGxhc3RSYW5nZS5lbmQpO1xuXG4gICAgICAgIHRoaXMudG9TaW5nbGVSYW5nZSgpO1xuICAgICAgICB0aGlzLnNldFNlbGVjdGlvblJhbmdlKHJhbmdlLCBsYXN0UmFuZ2UuY3Vyc29yID09IGxhc3RSYW5nZS5zdGFydCk7XG4gICAgfTtcbiAgICB0aGlzLnRvZ2dsZUJsb2NrU2VsZWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5yYW5nZUNvdW50ID4gMSkge1xuICAgICAgICAgICAgdmFyIHJhbmdlcyA9IHRoaXMucmFuZ2VMaXN0LnJhbmdlcztcbiAgICAgICAgICAgIHZhciBsYXN0UmFuZ2UgPSByYW5nZXNbcmFuZ2VzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgdmFyIHJhbmdlID0gUmFuZ2UuZnJvbVBvaW50cyhyYW5nZXNbMF0uc3RhcnQsIGxhc3RSYW5nZS5lbmQpO1xuXG4gICAgICAgICAgICB0aGlzLnRvU2luZ2xlUmFuZ2UoKTtcbiAgICAgICAgICAgIHRoaXMuc2V0U2VsZWN0aW9uUmFuZ2UocmFuZ2UsIGxhc3RSYW5nZS5jdXJzb3IgPT0gbGFzdFJhbmdlLnN0YXJ0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBjdXJzb3IgPSB0aGlzLnNlc3Npb24uZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKHRoaXMuY3Vyc29yKTtcbiAgICAgICAgICAgIHZhciBhbmNob3IgPSB0aGlzLnNlc3Npb24uZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKHRoaXMuYW5jaG9yKTtcblxuICAgICAgICAgICAgdmFyIHJlY3RTZWwgPSB0aGlzLnJlY3Rhbmd1bGFyUmFuZ2VCbG9jayhjdXJzb3IsIGFuY2hvcik7XG4gICAgICAgICAgICByZWN0U2VsLmZvckVhY2godGhpcy5hZGRSYW5nZSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMucmVjdGFuZ3VsYXJSYW5nZUJsb2NrID0gZnVuY3Rpb24oc2NyZWVuQ3Vyc29yLCBzY3JlZW5BbmNob3IsIGluY2x1ZGVFbXB0eUxpbmVzKSB7XG4gICAgICAgIHZhciByZWN0U2VsID0gW107XG5cbiAgICAgICAgdmFyIHhCYWNrd2FyZHMgPSBzY3JlZW5DdXJzb3IuY29sdW1uIDwgc2NyZWVuQW5jaG9yLmNvbHVtbjtcbiAgICAgICAgaWYgKHhCYWNrd2FyZHMpIHtcbiAgICAgICAgICAgIHZhciBzdGFydENvbHVtbiA9IHNjcmVlbkN1cnNvci5jb2x1bW47XG4gICAgICAgICAgICB2YXIgZW5kQ29sdW1uID0gc2NyZWVuQW5jaG9yLmNvbHVtbjtcbiAgICAgICAgICAgIHZhciBzdGFydE9mZnNldFggPSBzY3JlZW5DdXJzb3Iub2Zmc2V0WDtcbiAgICAgICAgICAgIHZhciBlbmRPZmZzZXRYID0gc2NyZWVuQW5jaG9yLm9mZnNldFg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgc3RhcnRDb2x1bW4gPSBzY3JlZW5BbmNob3IuY29sdW1uO1xuICAgICAgICAgICAgdmFyIGVuZENvbHVtbiA9IHNjcmVlbkN1cnNvci5jb2x1bW47XG4gICAgICAgICAgICB2YXIgc3RhcnRPZmZzZXRYID0gc2NyZWVuQW5jaG9yLm9mZnNldFg7XG4gICAgICAgICAgICB2YXIgZW5kT2Zmc2V0WCA9IHNjcmVlbkN1cnNvci5vZmZzZXRYO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHlCYWNrd2FyZHMgPSBzY3JlZW5DdXJzb3Iucm93IDwgc2NyZWVuQW5jaG9yLnJvdztcbiAgICAgICAgaWYgKHlCYWNrd2FyZHMpIHtcbiAgICAgICAgICAgIHZhciBzdGFydFJvdyA9IHNjcmVlbkN1cnNvci5yb3c7XG4gICAgICAgICAgICB2YXIgZW5kUm93ID0gc2NyZWVuQW5jaG9yLnJvdztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBzdGFydFJvdyA9IHNjcmVlbkFuY2hvci5yb3c7XG4gICAgICAgICAgICB2YXIgZW5kUm93ID0gc2NyZWVuQ3Vyc29yLnJvdztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGFydENvbHVtbiA8IDApXG4gICAgICAgICAgICBzdGFydENvbHVtbiA9IDA7XG4gICAgICAgIGlmIChzdGFydFJvdyA8IDApXG4gICAgICAgICAgICBzdGFydFJvdyA9IDA7XG5cbiAgICAgICAgaWYgKHN0YXJ0Um93ID09IGVuZFJvdylcbiAgICAgICAgICAgIGluY2x1ZGVFbXB0eUxpbmVzID0gdHJ1ZTtcblxuICAgICAgICB2YXIgZG9jRW5kO1xuICAgICAgICBmb3IgKHZhciByb3cgPSBzdGFydFJvdzsgcm93IDw9IGVuZFJvdzsgcm93KyspIHtcbiAgICAgICAgICAgIHZhciByYW5nZSA9IFJhbmdlLmZyb21Qb2ludHMoXG4gICAgICAgICAgICAgICAgdGhpcy5zZXNzaW9uLnNjcmVlblRvRG9jdW1lbnRQb3NpdGlvbihyb3csIHN0YXJ0Q29sdW1uLCBzdGFydE9mZnNldFgpLFxuICAgICAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5zY3JlZW5Ub0RvY3VtZW50UG9zaXRpb24ocm93LCBlbmRDb2x1bW4sIGVuZE9mZnNldFgpXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKHJhbmdlLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgICAgIGlmIChkb2NFbmQgJiYgaXNTYW1lUG9pbnQocmFuZ2UuZW5kLCBkb2NFbmQpKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkb2NFbmQgPSByYW5nZS5lbmQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByYW5nZS5jdXJzb3IgPSB4QmFja3dhcmRzID8gcmFuZ2Uuc3RhcnQgOiByYW5nZS5lbmQ7XG4gICAgICAgICAgICByZWN0U2VsLnB1c2gocmFuZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHlCYWNrd2FyZHMpXG4gICAgICAgICAgICByZWN0U2VsLnJldmVyc2UoKTtcblxuICAgICAgICBpZiAoIWluY2x1ZGVFbXB0eUxpbmVzKSB7XG4gICAgICAgICAgICB2YXIgZW5kID0gcmVjdFNlbC5sZW5ndGggLSAxO1xuICAgICAgICAgICAgd2hpbGUgKHJlY3RTZWxbZW5kXS5pc0VtcHR5KCkgJiYgZW5kID4gMClcbiAgICAgICAgICAgICAgICBlbmQtLTtcbiAgICAgICAgICAgIGlmIChlbmQgPiAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0ID0gMDtcbiAgICAgICAgICAgICAgICB3aGlsZSAocmVjdFNlbFtzdGFydF0uaXNFbXB0eSgpKVxuICAgICAgICAgICAgICAgICAgICBzdGFydCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IGVuZDsgaSA+PSBzdGFydDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlY3RTZWxbaV0uaXNFbXB0eSgpKVxuICAgICAgICAgICAgICAgICAgICByZWN0U2VsLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZWN0U2VsO1xuICAgIH07XG59KS5jYWxsKFNlbGVjdGlvbi5wcm90b3R5cGUpO1xudmFyIEVkaXRvciA9IHJlcXVpcmUoXCIuL2VkaXRvclwiKS5FZGl0b3I7XG4oZnVuY3Rpb24oKSB7XG4gICAgdGhpcy51cGRhdGVTZWxlY3Rpb25NYXJrZXJzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIudXBkYXRlQ3Vyc29yKCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIudXBkYXRlQmFja01hcmtlcnMoKTtcbiAgICB9O1xuICAgIHRoaXMuYWRkU2VsZWN0aW9uTWFya2VyID0gZnVuY3Rpb24ob3JpZW50ZWRSYW5nZSkge1xuICAgICAgICBpZiAoIW9yaWVudGVkUmFuZ2UuY3Vyc29yKVxuICAgICAgICAgICAgb3JpZW50ZWRSYW5nZS5jdXJzb3IgPSBvcmllbnRlZFJhbmdlLmVuZDtcblxuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmdldFNlbGVjdGlvblN0eWxlKCk7XG4gICAgICAgIG9yaWVudGVkUmFuZ2UubWFya2VyID0gdGhpcy5zZXNzaW9uLmFkZE1hcmtlcihvcmllbnRlZFJhbmdlLCBcImFjZV9zZWxlY3Rpb25cIiwgc3R5bGUpO1xuXG4gICAgICAgIHRoaXMuc2Vzc2lvbi4kc2VsZWN0aW9uTWFya2Vycy5wdXNoKG9yaWVudGVkUmFuZ2UpO1xuICAgICAgICB0aGlzLnNlc3Npb24uc2VsZWN0aW9uTWFya2VyQ291bnQgPSB0aGlzLnNlc3Npb24uJHNlbGVjdGlvbk1hcmtlcnMubGVuZ3RoO1xuICAgICAgICByZXR1cm4gb3JpZW50ZWRSYW5nZTtcbiAgICB9O1xuICAgIHRoaXMucmVtb3ZlU2VsZWN0aW9uTWFya2VyID0gZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgICAgaWYgKCFyYW5nZS5tYXJrZXIpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMuc2Vzc2lvbi5yZW1vdmVNYXJrZXIocmFuZ2UubWFya2VyKTtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5zZXNzaW9uLiRzZWxlY3Rpb25NYXJrZXJzLmluZGV4T2YocmFuZ2UpO1xuICAgICAgICBpZiAoaW5kZXggIT0gLTEpXG4gICAgICAgICAgICB0aGlzLnNlc3Npb24uJHNlbGVjdGlvbk1hcmtlcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgdGhpcy5zZXNzaW9uLnNlbGVjdGlvbk1hcmtlckNvdW50ID0gdGhpcy5zZXNzaW9uLiRzZWxlY3Rpb25NYXJrZXJzLmxlbmd0aDtcbiAgICB9O1xuXG4gICAgdGhpcy5yZW1vdmVTZWxlY3Rpb25NYXJrZXJzID0gZnVuY3Rpb24ocmFuZ2VzKSB7XG4gICAgICAgIHZhciBtYXJrZXJMaXN0ID0gdGhpcy5zZXNzaW9uLiRzZWxlY3Rpb25NYXJrZXJzO1xuICAgICAgICBmb3IgKHZhciBpID0gcmFuZ2VzLmxlbmd0aDsgaS0tOyApIHtcbiAgICAgICAgICAgIHZhciByYW5nZSA9IHJhbmdlc1tpXTtcbiAgICAgICAgICAgIGlmICghcmFuZ2UubWFya2VyKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLnJlbW92ZU1hcmtlcihyYW5nZS5tYXJrZXIpO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gbWFya2VyTGlzdC5pbmRleE9mKHJhbmdlKTtcbiAgICAgICAgICAgIGlmIChpbmRleCAhPSAtMSlcbiAgICAgICAgICAgICAgICBtYXJrZXJMaXN0LnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXNzaW9uLnNlbGVjdGlvbk1hcmtlckNvdW50ID0gbWFya2VyTGlzdC5sZW5ndGg7XG4gICAgfTtcblxuICAgIHRoaXMuJG9uQWRkUmFuZ2UgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHRoaXMuYWRkU2VsZWN0aW9uTWFya2VyKGUucmFuZ2UpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnVwZGF0ZUN1cnNvcigpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnVwZGF0ZUJhY2tNYXJrZXJzKCk7XG4gICAgfTtcblxuICAgIHRoaXMuJG9uUmVtb3ZlUmFuZ2UgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlU2VsZWN0aW9uTWFya2VycyhlLnJhbmdlcyk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIudXBkYXRlQ3Vyc29yKCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIudXBkYXRlQmFja01hcmtlcnMoKTtcbiAgICB9O1xuXG4gICAgdGhpcy4kb25NdWx0aVNlbGVjdCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKHRoaXMuaW5NdWx0aVNlbGVjdE1vZGUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMuaW5NdWx0aVNlbGVjdE1vZGUgPSB0cnVlO1xuXG4gICAgICAgIHRoaXMuc2V0U3R5bGUoXCJhY2VfbXVsdGlzZWxlY3RcIik7XG4gICAgICAgIHRoaXMua2V5QmluZGluZy5hZGRLZXlib2FyZEhhbmRsZXIoY29tbWFuZHMua2V5Ym9hcmRIYW5kbGVyKTtcbiAgICAgICAgdGhpcy5jb21tYW5kcy5zZXREZWZhdWx0SGFuZGxlcihcImV4ZWNcIiwgdGhpcy4kb25NdWx0aVNlbGVjdEV4ZWMpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIudXBkYXRlQ3Vyc29yKCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIudXBkYXRlQmFja01hcmtlcnMoKTtcbiAgICB9O1xuXG4gICAgdGhpcy4kb25TaW5nbGVTZWxlY3QgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmICh0aGlzLnNlc3Npb24ubXVsdGlTZWxlY3QuaW5WaXJ0dWFsTW9kZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5pbk11bHRpU2VsZWN0TW9kZSA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMudW5zZXRTdHlsZShcImFjZV9tdWx0aXNlbGVjdFwiKTtcbiAgICAgICAgdGhpcy5rZXlCaW5kaW5nLnJlbW92ZUtleWJvYXJkSGFuZGxlcihjb21tYW5kcy5rZXlib2FyZEhhbmRsZXIpO1xuXG4gICAgICAgIHRoaXMuY29tbWFuZHMucmVtb3ZlRGVmYXVsdEhhbmRsZXIoXCJleGVjXCIsIHRoaXMuJG9uTXVsdGlTZWxlY3RFeGVjKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci51cGRhdGVDdXJzb3IoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci51cGRhdGVCYWNrTWFya2VycygpO1xuICAgICAgICB0aGlzLl9lbWl0KFwiY2hhbmdlU2VsZWN0aW9uXCIpO1xuICAgIH07XG5cbiAgICB0aGlzLiRvbk11bHRpU2VsZWN0RXhlYyA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIGNvbW1hbmQgPSBlLmNvbW1hbmQ7XG4gICAgICAgIHZhciBlZGl0b3IgPSBlLmVkaXRvcjtcbiAgICAgICAgaWYgKCFlZGl0b3IubXVsdGlTZWxlY3QpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmICghY29tbWFuZC5tdWx0aVNlbGVjdEFjdGlvbikge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGNvbW1hbmQuZXhlYyhlZGl0b3IsIGUuYXJncyB8fCB7fSk7XG4gICAgICAgICAgICBlZGl0b3IubXVsdGlTZWxlY3QuYWRkUmFuZ2UoZWRpdG9yLm11bHRpU2VsZWN0LnRvT3JpZW50ZWRSYW5nZSgpKTtcbiAgICAgICAgICAgIGVkaXRvci5tdWx0aVNlbGVjdC5tZXJnZU92ZXJsYXBwaW5nUmFuZ2VzKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoY29tbWFuZC5tdWx0aVNlbGVjdEFjdGlvbiA9PSBcImZvckVhY2hcIikge1xuICAgICAgICAgICAgcmVzdWx0ID0gZWRpdG9yLmZvckVhY2hTZWxlY3Rpb24oY29tbWFuZCwgZS5hcmdzKTtcbiAgICAgICAgfSBlbHNlIGlmIChjb21tYW5kLm11bHRpU2VsZWN0QWN0aW9uID09IFwiZm9yRWFjaExpbmVcIikge1xuICAgICAgICAgICAgcmVzdWx0ID0gZWRpdG9yLmZvckVhY2hTZWxlY3Rpb24oY29tbWFuZCwgZS5hcmdzLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChjb21tYW5kLm11bHRpU2VsZWN0QWN0aW9uID09IFwic2luZ2xlXCIpIHtcbiAgICAgICAgICAgIGVkaXRvci5leGl0TXVsdGlTZWxlY3RNb2RlKCk7XG4gICAgICAgICAgICByZXN1bHQgPSBjb21tYW5kLmV4ZWMoZWRpdG9yLCBlLmFyZ3MgfHwge30pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gY29tbWFuZC5tdWx0aVNlbGVjdEFjdGlvbihlZGl0b3IsIGUuYXJncyB8fCB7fSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9OyBcbiAgICB0aGlzLmZvckVhY2hTZWxlY3Rpb24gPSBmdW5jdGlvbihjbWQsIGFyZ3MsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMuaW5WaXJ0dWFsU2VsZWN0aW9uTW9kZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyIGtlZXBPcmRlciA9IG9wdGlvbnMgJiYgb3B0aW9ucy5rZWVwT3JkZXI7XG4gICAgICAgIHZhciAkYnlMaW5lcyA9IG9wdGlvbnMgPT0gdHJ1ZSB8fCBvcHRpb25zICYmIG9wdGlvbnMuJGJ5TGluZXM7XG4gICAgICAgIHZhciBzZXNzaW9uID0gdGhpcy5zZXNzaW9uO1xuICAgICAgICB2YXIgc2VsZWN0aW9uID0gdGhpcy5zZWxlY3Rpb247XG4gICAgICAgIHZhciByYW5nZUxpc3QgPSBzZWxlY3Rpb24ucmFuZ2VMaXN0O1xuICAgICAgICB2YXIgcmFuZ2VzID0gKGtlZXBPcmRlciA/IHNlbGVjdGlvbiA6IHJhbmdlTGlzdCkucmFuZ2VzO1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICBcbiAgICAgICAgaWYgKCFyYW5nZXMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIGNtZC5leGVjID8gY21kLmV4ZWModGhpcywgYXJncyB8fCB7fSkgOiBjbWQodGhpcywgYXJncyB8fCB7fSk7XG4gICAgICAgIFxuICAgICAgICB2YXIgcmVnID0gc2VsZWN0aW9uLl9ldmVudFJlZ2lzdHJ5O1xuICAgICAgICBzZWxlY3Rpb24uX2V2ZW50UmVnaXN0cnkgPSB7fTtcblxuICAgICAgICB2YXIgdG1wU2VsID0gbmV3IFNlbGVjdGlvbihzZXNzaW9uKTtcbiAgICAgICAgdGhpcy5pblZpcnR1YWxTZWxlY3Rpb25Nb2RlID0gdHJ1ZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IHJhbmdlcy5sZW5ndGg7IGktLTspIHtcbiAgICAgICAgICAgIGlmICgkYnlMaW5lcykge1xuICAgICAgICAgICAgICAgIHdoaWxlIChpID4gMCAmJiByYW5nZXNbaV0uc3RhcnQucm93ID09IHJhbmdlc1tpIC0gMV0uZW5kLnJvdylcbiAgICAgICAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdG1wU2VsLmZyb21PcmllbnRlZFJhbmdlKHJhbmdlc1tpXSk7XG4gICAgICAgICAgICB0bXBTZWwuaW5kZXggPSBpO1xuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24gPSBzZXNzaW9uLnNlbGVjdGlvbiA9IHRtcFNlbDtcbiAgICAgICAgICAgIHZhciBjbWRSZXN1bHQgPSBjbWQuZXhlYyA/IGNtZC5leGVjKHRoaXMsIGFyZ3MgfHwge30pIDogY21kKHRoaXMsIGFyZ3MgfHwge30pO1xuICAgICAgICAgICAgaWYgKCFyZXN1bHQgJiYgY21kUmVzdWx0ICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gY21kUmVzdWx0O1xuICAgICAgICAgICAgdG1wU2VsLnRvT3JpZW50ZWRSYW5nZShyYW5nZXNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHRtcFNlbC5kZXRhY2goKTtcblxuICAgICAgICB0aGlzLnNlbGVjdGlvbiA9IHNlc3Npb24uc2VsZWN0aW9uID0gc2VsZWN0aW9uO1xuICAgICAgICB0aGlzLmluVmlydHVhbFNlbGVjdGlvbk1vZGUgPSBmYWxzZTtcbiAgICAgICAgc2VsZWN0aW9uLl9ldmVudFJlZ2lzdHJ5ID0gcmVnO1xuICAgICAgICBzZWxlY3Rpb24ubWVyZ2VPdmVybGFwcGluZ1JhbmdlcygpO1xuICAgICAgICBpZiAoc2VsZWN0aW9uLnJhbmdlc1swXSlcbiAgICAgICAgICAgIHNlbGVjdGlvbi5mcm9tT3JpZW50ZWRSYW5nZShzZWxlY3Rpb24ucmFuZ2VzWzBdKTtcbiAgICAgICAgXG4gICAgICAgIHZhciBhbmltID0gdGhpcy5yZW5kZXJlci4kc2Nyb2xsQW5pbWF0aW9uO1xuICAgICAgICB0aGlzLm9uQ3Vyc29yQ2hhbmdlKCk7XG4gICAgICAgIHRoaXMub25TZWxlY3Rpb25DaGFuZ2UoKTtcbiAgICAgICAgaWYgKGFuaW0gJiYgYW5pbS5mcm9tID09IGFuaW0udG8pXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmFuaW1hdGVTY3JvbGxpbmcoYW5pbS5mcm9tKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICB0aGlzLmV4aXRNdWx0aVNlbGVjdE1vZGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLmluTXVsdGlTZWxlY3RNb2RlIHx8IHRoaXMuaW5WaXJ0dWFsU2VsZWN0aW9uTW9kZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5tdWx0aVNlbGVjdC50b1NpbmdsZVJhbmdlKCk7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0U2VsZWN0ZWRUZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB0ZXh0ID0gXCJcIjtcbiAgICAgICAgaWYgKHRoaXMuaW5NdWx0aVNlbGVjdE1vZGUgJiYgIXRoaXMuaW5WaXJ0dWFsU2VsZWN0aW9uTW9kZSkge1xuICAgICAgICAgICAgdmFyIHJhbmdlcyA9IHRoaXMubXVsdGlTZWxlY3QucmFuZ2VMaXN0LnJhbmdlcztcbiAgICAgICAgICAgIHZhciBidWYgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgYnVmLnB1c2godGhpcy5zZXNzaW9uLmdldFRleHRSYW5nZShyYW5nZXNbaV0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBubCA9IHRoaXMuc2Vzc2lvbi5nZXREb2N1bWVudCgpLmdldE5ld0xpbmVDaGFyYWN0ZXIoKTtcbiAgICAgICAgICAgIHRleHQgPSBidWYuam9pbihubCk7XG4gICAgICAgICAgICBpZiAodGV4dC5sZW5ndGggPT0gKGJ1Zi5sZW5ndGggLSAxKSAqIG5sLmxlbmd0aClcbiAgICAgICAgICAgICAgICB0ZXh0ID0gXCJcIjtcbiAgICAgICAgfSBlbHNlIGlmICghdGhpcy5zZWxlY3Rpb24uaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICB0ZXh0ID0gdGhpcy5zZXNzaW9uLmdldFRleHRSYW5nZSh0aGlzLmdldFNlbGVjdGlvblJhbmdlKCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgIH07XG4gICAgXG4gICAgdGhpcy4kY2hlY2tNdWx0aXNlbGVjdENoYW5nZSA9IGZ1bmN0aW9uKGUsIGFuY2hvcikge1xuICAgICAgICBpZiAodGhpcy5pbk11bHRpU2VsZWN0TW9kZSAmJiAhdGhpcy5pblZpcnR1YWxTZWxlY3Rpb25Nb2RlKSB7XG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSB0aGlzLm11bHRpU2VsZWN0LnJhbmdlc1swXTtcbiAgICAgICAgICAgIGlmICh0aGlzLm11bHRpU2VsZWN0LmlzRW1wdHkoKSAmJiBhbmNob3IgPT0gdGhpcy5tdWx0aVNlbGVjdC5hbmNob3IpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdmFyIHBvcyA9IGFuY2hvciA9PSB0aGlzLm11bHRpU2VsZWN0LmFuY2hvclxuICAgICAgICAgICAgICAgID8gcmFuZ2UuY3Vyc29yID09IHJhbmdlLnN0YXJ0ID8gcmFuZ2UuZW5kIDogcmFuZ2Uuc3RhcnRcbiAgICAgICAgICAgICAgICA6IHJhbmdlLmN1cnNvcjtcbiAgICAgICAgICAgIGlmIChwb3Mucm93ICE9IGFuY2hvci5yb3cgXG4gICAgICAgICAgICAgICAgfHwgdGhpcy5zZXNzaW9uLiRjbGlwUG9zaXRpb25Ub0RvY3VtZW50KHBvcy5yb3csIHBvcy5jb2x1bW4pLmNvbHVtbiAhPSBhbmNob3IuY29sdW1uKVxuICAgICAgICAgICAgICAgIHRoaXMubXVsdGlTZWxlY3QudG9TaW5nbGVSYW5nZSh0aGlzLm11bHRpU2VsZWN0LnRvT3JpZW50ZWRSYW5nZSgpKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aGlzLm11bHRpU2VsZWN0Lm1lcmdlT3ZlcmxhcHBpbmdSYW5nZXMoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5maW5kQWxsID0gZnVuY3Rpb24obmVlZGxlLCBvcHRpb25zLCBhZGRpdGl2ZSkge1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgb3B0aW9ucy5uZWVkbGUgPSBuZWVkbGUgfHwgb3B0aW9ucy5uZWVkbGU7XG4gICAgICAgIGlmIChvcHRpb25zLm5lZWRsZSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZhciByYW5nZSA9IHRoaXMuc2VsZWN0aW9uLmlzRW1wdHkoKVxuICAgICAgICAgICAgICAgID8gdGhpcy5zZWxlY3Rpb24uZ2V0V29yZFJhbmdlKClcbiAgICAgICAgICAgICAgICA6IHRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCk7XG4gICAgICAgICAgICBvcHRpb25zLm5lZWRsZSA9IHRoaXMuc2Vzc2lvbi5nZXRUZXh0UmFuZ2UocmFuZ2UpO1xuICAgICAgICB9ICAgIFxuICAgICAgICB0aGlzLiRzZWFyY2guc2V0KG9wdGlvbnMpO1xuICAgICAgICBcbiAgICAgICAgdmFyIHJhbmdlcyA9IHRoaXMuJHNlYXJjaC5maW5kQWxsKHRoaXMuc2Vzc2lvbik7XG4gICAgICAgIGlmICghcmFuZ2VzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiAwO1xuXG4gICAgICAgIHZhciBzZWxlY3Rpb24gPSB0aGlzLm11bHRpU2VsZWN0O1xuXG4gICAgICAgIGlmICghYWRkaXRpdmUpXG4gICAgICAgICAgICBzZWxlY3Rpb24udG9TaW5nbGVSYW5nZShyYW5nZXNbMF0pO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSByYW5nZXMubGVuZ3RoOyBpLS07IClcbiAgICAgICAgICAgIHNlbGVjdGlvbi5hZGRSYW5nZShyYW5nZXNbaV0sIHRydWUpO1xuICAgICAgICBpZiAocmFuZ2UgJiYgc2VsZWN0aW9uLnJhbmdlTGlzdC5yYW5nZUF0UG9pbnQocmFuZ2Uuc3RhcnQpKVxuICAgICAgICAgICAgc2VsZWN0aW9uLmFkZFJhbmdlKHJhbmdlLCB0cnVlKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiByYW5nZXMubGVuZ3RoO1xuICAgIH07XG4gICAgdGhpcy5zZWxlY3RNb3JlTGluZXMgPSBmdW5jdGlvbihkaXIsIHNraXApIHtcbiAgICAgICAgdmFyIHJhbmdlID0gdGhpcy5zZWxlY3Rpb24udG9PcmllbnRlZFJhbmdlKCk7XG4gICAgICAgIHZhciBpc0JhY2t3YXJkcyA9IHJhbmdlLmN1cnNvciA9PSByYW5nZS5lbmQ7XG5cbiAgICAgICAgdmFyIHNjcmVlbkxlYWQgPSB0aGlzLnNlc3Npb24uZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKHJhbmdlLmN1cnNvcik7XG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGlvbi4kZGVzaXJlZENvbHVtbilcbiAgICAgICAgICAgIHNjcmVlbkxlYWQuY29sdW1uID0gdGhpcy5zZWxlY3Rpb24uJGRlc2lyZWRDb2x1bW47XG5cbiAgICAgICAgdmFyIGxlYWQgPSB0aGlzLnNlc3Npb24uc2NyZWVuVG9Eb2N1bWVudFBvc2l0aW9uKHNjcmVlbkxlYWQucm93ICsgZGlyLCBzY3JlZW5MZWFkLmNvbHVtbik7XG5cbiAgICAgICAgaWYgKCFyYW5nZS5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIHZhciBzY3JlZW5BbmNob3IgPSB0aGlzLnNlc3Npb24uZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKGlzQmFja3dhcmRzID8gcmFuZ2UuZW5kIDogcmFuZ2Uuc3RhcnQpO1xuICAgICAgICAgICAgdmFyIGFuY2hvciA9IHRoaXMuc2Vzc2lvbi5zY3JlZW5Ub0RvY3VtZW50UG9zaXRpb24oc2NyZWVuQW5jaG9yLnJvdyArIGRpciwgc2NyZWVuQW5jaG9yLmNvbHVtbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgYW5jaG9yID0gbGVhZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0JhY2t3YXJkcykge1xuICAgICAgICAgICAgdmFyIG5ld1JhbmdlID0gUmFuZ2UuZnJvbVBvaW50cyhsZWFkLCBhbmNob3IpO1xuICAgICAgICAgICAgbmV3UmFuZ2UuY3Vyc29yID0gbmV3UmFuZ2Uuc3RhcnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgbmV3UmFuZ2UgPSBSYW5nZS5mcm9tUG9pbnRzKGFuY2hvciwgbGVhZCk7XG4gICAgICAgICAgICBuZXdSYW5nZS5jdXJzb3IgPSBuZXdSYW5nZS5lbmQ7XG4gICAgICAgIH1cblxuICAgICAgICBuZXdSYW5nZS5kZXNpcmVkQ29sdW1uID0gc2NyZWVuTGVhZC5jb2x1bW47XG4gICAgICAgIGlmICghdGhpcy5zZWxlY3Rpb24uaW5NdWx0aVNlbGVjdE1vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLmFkZFJhbmdlKHJhbmdlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChza2lwKVxuICAgICAgICAgICAgICAgIHZhciB0b1JlbW92ZSA9IHJhbmdlLmN1cnNvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2VsZWN0aW9uLmFkZFJhbmdlKG5ld1JhbmdlKTtcbiAgICAgICAgaWYgKHRvUmVtb3ZlKVxuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24uc3Vic3RyYWN0UG9pbnQodG9SZW1vdmUpO1xuICAgIH07XG4gICAgdGhpcy50cmFuc3Bvc2VTZWxlY3Rpb25zID0gZnVuY3Rpb24oZGlyKSB7XG4gICAgICAgIHZhciBzZXNzaW9uID0gdGhpcy5zZXNzaW9uO1xuICAgICAgICB2YXIgc2VsID0gc2Vzc2lvbi5tdWx0aVNlbGVjdDtcbiAgICAgICAgdmFyIGFsbCA9IHNlbC5yYW5nZXM7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IGFsbC5sZW5ndGg7IGktLTsgKSB7XG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSBhbGxbaV07XG4gICAgICAgICAgICBpZiAocmFuZ2UuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRtcCA9IHNlc3Npb24uZ2V0V29yZFJhbmdlKHJhbmdlLnN0YXJ0LnJvdywgcmFuZ2Uuc3RhcnQuY29sdW1uKTtcbiAgICAgICAgICAgICAgICByYW5nZS5zdGFydC5yb3cgPSB0bXAuc3RhcnQucm93O1xuICAgICAgICAgICAgICAgIHJhbmdlLnN0YXJ0LmNvbHVtbiA9IHRtcC5zdGFydC5jb2x1bW47XG4gICAgICAgICAgICAgICAgcmFuZ2UuZW5kLnJvdyA9IHRtcC5lbmQucm93O1xuICAgICAgICAgICAgICAgIHJhbmdlLmVuZC5jb2x1bW4gPSB0bXAuZW5kLmNvbHVtbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZWwubWVyZ2VPdmVybGFwcGluZ1JhbmdlcygpO1xuXG4gICAgICAgIHZhciB3b3JkcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gYWxsLmxlbmd0aDsgaS0tOyApIHtcbiAgICAgICAgICAgIHZhciByYW5nZSA9IGFsbFtpXTtcbiAgICAgICAgICAgIHdvcmRzLnVuc2hpZnQoc2Vzc2lvbi5nZXRUZXh0UmFuZ2UocmFuZ2UpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXIgPCAwKVxuICAgICAgICAgICAgd29yZHMudW5zaGlmdCh3b3Jkcy5wb3AoKSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHdvcmRzLnB1c2god29yZHMuc2hpZnQoKSk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IGFsbC5sZW5ndGg7IGktLTsgKSB7XG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSBhbGxbaV07XG4gICAgICAgICAgICB2YXIgdG1wID0gcmFuZ2UuY2xvbmUoKTtcbiAgICAgICAgICAgIHNlc3Npb24ucmVwbGFjZShyYW5nZSwgd29yZHNbaV0pO1xuICAgICAgICAgICAgcmFuZ2Uuc3RhcnQucm93ID0gdG1wLnN0YXJ0LnJvdztcbiAgICAgICAgICAgIHJhbmdlLnN0YXJ0LmNvbHVtbiA9IHRtcC5zdGFydC5jb2x1bW47XG4gICAgICAgIH1cbiAgICAgICAgc2VsLmZyb21PcmllbnRlZFJhbmdlKHNlbC5yYW5nZXNbMF0pO1xuICAgIH07XG4gICAgdGhpcy5zZWxlY3RNb3JlID0gZnVuY3Rpb24oZGlyLCBza2lwLCBzdG9wQXRGaXJzdCkge1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuc2Vzc2lvbjtcbiAgICAgICAgdmFyIHNlbCA9IHNlc3Npb24ubXVsdGlTZWxlY3Q7XG5cbiAgICAgICAgdmFyIHJhbmdlID0gc2VsLnRvT3JpZW50ZWRSYW5nZSgpO1xuICAgICAgICBpZiAocmFuZ2UuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICByYW5nZSA9IHNlc3Npb24uZ2V0V29yZFJhbmdlKHJhbmdlLnN0YXJ0LnJvdywgcmFuZ2Uuc3RhcnQuY29sdW1uKTtcbiAgICAgICAgICAgIHJhbmdlLmN1cnNvciA9IGRpciA9PSAtMSA/IHJhbmdlLnN0YXJ0IDogcmFuZ2UuZW5kO1xuICAgICAgICAgICAgdGhpcy5tdWx0aVNlbGVjdC5hZGRSYW5nZShyYW5nZSk7XG4gICAgICAgICAgICBpZiAoc3RvcEF0Rmlyc3QpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuZWVkbGUgPSBzZXNzaW9uLmdldFRleHRSYW5nZShyYW5nZSk7XG5cbiAgICAgICAgdmFyIG5ld1JhbmdlID0gZmluZChzZXNzaW9uLCBuZWVkbGUsIGRpcik7XG4gICAgICAgIGlmIChuZXdSYW5nZSkge1xuICAgICAgICAgICAgbmV3UmFuZ2UuY3Vyc29yID0gZGlyID09IC0xID8gbmV3UmFuZ2Uuc3RhcnQgOiBuZXdSYW5nZS5lbmQ7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24udW5mb2xkKG5ld1JhbmdlKTtcbiAgICAgICAgICAgIHRoaXMubXVsdGlTZWxlY3QuYWRkUmFuZ2UobmV3UmFuZ2UpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zY3JvbGxDdXJzb3JJbnRvVmlldyhudWxsLCAwLjUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChza2lwKVxuICAgICAgICAgICAgdGhpcy5tdWx0aVNlbGVjdC5zdWJzdHJhY3RQb2ludChyYW5nZS5jdXJzb3IpO1xuICAgIH07XG4gICAgdGhpcy5hbGlnbkN1cnNvcnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHNlc3Npb24gPSB0aGlzLnNlc3Npb247XG4gICAgICAgIHZhciBzZWwgPSBzZXNzaW9uLm11bHRpU2VsZWN0O1xuICAgICAgICB2YXIgcmFuZ2VzID0gc2VsLnJhbmdlcztcbiAgICAgICAgdmFyIHJvdyA9IC0xO1xuICAgICAgICB2YXIgc2FtZVJvd1JhbmdlcyA9IHJhbmdlcy5maWx0ZXIoZnVuY3Rpb24ocikge1xuICAgICAgICAgICAgaWYgKHIuY3Vyc29yLnJvdyA9PSByb3cpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICByb3cgPSByLmN1cnNvci5yb3c7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFyYW5nZXMubGVuZ3RoIHx8IHNhbWVSb3dSYW5nZXMubGVuZ3RoID09IHJhbmdlcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSB0aGlzLnNlbGVjdGlvbi5nZXRSYW5nZSgpO1xuICAgICAgICAgICAgdmFyIGZyID0gcmFuZ2Uuc3RhcnQucm93LCBsciA9IHJhbmdlLmVuZC5yb3c7XG4gICAgICAgICAgICB2YXIgZ3Vlc3NSYW5nZSA9IGZyID09IGxyO1xuICAgICAgICAgICAgaWYgKGd1ZXNzUmFuZ2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWF4ID0gdGhpcy5zZXNzaW9uLmdldExlbmd0aCgpO1xuICAgICAgICAgICAgICAgIHZhciBsaW5lO1xuICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZSA9IHRoaXMuc2Vzc2lvbi5nZXRMaW5lKGxyKTtcbiAgICAgICAgICAgICAgICB9IHdoaWxlICgvWz06XS8udGVzdChsaW5lKSAmJiArK2xyIDwgbWF4KTtcbiAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmUgPSB0aGlzLnNlc3Npb24uZ2V0TGluZShmcik7XG4gICAgICAgICAgICAgICAgfSB3aGlsZSAoL1s9Ol0vLnRlc3QobGluZSkgJiYgLS1mciA+IDApO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChmciA8IDApIGZyID0gMDtcbiAgICAgICAgICAgICAgICBpZiAobHIgPj0gbWF4KSBsciA9IG1heCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbGluZXMgPSB0aGlzLnNlc3Npb24ucmVtb3ZlRnVsbExpbmVzKGZyLCBscik7XG4gICAgICAgICAgICBsaW5lcyA9IHRoaXMuJHJlQWxpZ25UZXh0KGxpbmVzLCBndWVzc1JhbmdlKTtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5pbnNlcnQoe3JvdzogZnIsIGNvbHVtbjogMH0sIGxpbmVzLmpvaW4oXCJcXG5cIikgKyBcIlxcblwiKTtcbiAgICAgICAgICAgIGlmICghZ3Vlc3NSYW5nZSkge1xuICAgICAgICAgICAgICAgIHJhbmdlLnN0YXJ0LmNvbHVtbiA9IDA7XG4gICAgICAgICAgICAgICAgcmFuZ2UuZW5kLmNvbHVtbiA9IGxpbmVzW2xpbmVzLmxlbmd0aCAtIDFdLmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLnNldFJhbmdlKHJhbmdlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNhbWVSb3dSYW5nZXMuZm9yRWFjaChmdW5jdGlvbihyKSB7XG4gICAgICAgICAgICAgICAgc2VsLnN1YnN0cmFjdFBvaW50KHIuY3Vyc29yKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgbWF4Q29sID0gMDtcbiAgICAgICAgICAgIHZhciBtaW5TcGFjZSA9IEluZmluaXR5O1xuICAgICAgICAgICAgdmFyIHNwYWNlT2Zmc2V0cyA9IHJhbmdlcy5tYXAoZnVuY3Rpb24ocikge1xuICAgICAgICAgICAgICAgIHZhciBwID0gci5jdXJzb3I7XG4gICAgICAgICAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmdldExpbmUocC5yb3cpO1xuICAgICAgICAgICAgICAgIHZhciBzcGFjZU9mZnNldCA9IGxpbmUuc3Vic3RyKHAuY29sdW1uKS5zZWFyY2goL1xcUy9nKTtcbiAgICAgICAgICAgICAgICBpZiAoc3BhY2VPZmZzZXQgPT0gLTEpXG4gICAgICAgICAgICAgICAgICAgIHNwYWNlT2Zmc2V0ID0gMDtcblxuICAgICAgICAgICAgICAgIGlmIChwLmNvbHVtbiA+IG1heENvbClcbiAgICAgICAgICAgICAgICAgICAgbWF4Q29sID0gcC5jb2x1bW47XG4gICAgICAgICAgICAgICAgaWYgKHNwYWNlT2Zmc2V0IDwgbWluU3BhY2UpXG4gICAgICAgICAgICAgICAgICAgIG1pblNwYWNlID0gc3BhY2VPZmZzZXQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNwYWNlT2Zmc2V0O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByYW5nZXMuZm9yRWFjaChmdW5jdGlvbihyLCBpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHAgPSByLmN1cnNvcjtcbiAgICAgICAgICAgICAgICB2YXIgbCA9IG1heENvbCAtIHAuY29sdW1uO1xuICAgICAgICAgICAgICAgIHZhciBkID0gc3BhY2VPZmZzZXRzW2ldIC0gbWluU3BhY2U7XG4gICAgICAgICAgICAgICAgaWYgKGwgPiBkKVxuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uLmluc2VydChwLCBsYW5nLnN0cmluZ1JlcGVhdChcIiBcIiwgbCAtIGQpKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb24ucmVtb3ZlKG5ldyBSYW5nZShwLnJvdywgcC5jb2x1bW4sIHAucm93LCBwLmNvbHVtbiAtIGwgKyBkKSk7XG5cbiAgICAgICAgICAgICAgICByLnN0YXJ0LmNvbHVtbiA9IHIuZW5kLmNvbHVtbiA9IG1heENvbDtcbiAgICAgICAgICAgICAgICByLnN0YXJ0LnJvdyA9IHIuZW5kLnJvdyA9IHAucm93O1xuICAgICAgICAgICAgICAgIHIuY3Vyc29yID0gci5lbmQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNlbC5mcm9tT3JpZW50ZWRSYW5nZShyYW5nZXNbMF0pO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci51cGRhdGVDdXJzb3IoKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudXBkYXRlQmFja01hcmtlcnMoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLiRyZUFsaWduVGV4dCA9IGZ1bmN0aW9uKGxpbmVzLCBmb3JjZUxlZnQpIHtcbiAgICAgICAgdmFyIGlzTGVmdEFsaWduZWQgPSB0cnVlLCBpc1JpZ2h0QWxpZ25lZCA9IHRydWU7XG4gICAgICAgIHZhciBzdGFydFcsIHRleHRXLCBlbmRXO1xuXG4gICAgICAgIHJldHVybiBsaW5lcy5tYXAoZnVuY3Rpb24obGluZSkge1xuICAgICAgICAgICAgdmFyIG0gPSBsaW5lLm1hdGNoKC8oXFxzKikoLio/KShcXHMqKShbPTpdLiopLyk7XG4gICAgICAgICAgICBpZiAoIW0pXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtsaW5lXTtcblxuICAgICAgICAgICAgaWYgKHN0YXJ0VyA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgc3RhcnRXID0gbVsxXS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgdGV4dFcgPSBtWzJdLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBlbmRXID0gbVszXS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzdGFydFcgKyB0ZXh0VyArIGVuZFcgIT0gbVsxXS5sZW5ndGggKyBtWzJdLmxlbmd0aCArIG1bM10ubGVuZ3RoKVxuICAgICAgICAgICAgICAgIGlzUmlnaHRBbGlnbmVkID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoc3RhcnRXICE9IG1bMV0ubGVuZ3RoKVxuICAgICAgICAgICAgICAgIGlzTGVmdEFsaWduZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgaWYgKHN0YXJ0VyA+IG1bMV0ubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHN0YXJ0VyA9IG1bMV0ubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKHRleHRXIDwgbVsyXS5sZW5ndGgpXG4gICAgICAgICAgICAgICAgdGV4dFcgPSBtWzJdLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChlbmRXID4gbVszXS5sZW5ndGgpXG4gICAgICAgICAgICAgICAgZW5kVyA9IG1bM10ubGVuZ3RoO1xuXG4gICAgICAgICAgICByZXR1cm4gbTtcbiAgICAgICAgfSkubWFwKGZvcmNlTGVmdCA/IGFsaWduTGVmdCA6XG4gICAgICAgICAgICBpc0xlZnRBbGlnbmVkID8gaXNSaWdodEFsaWduZWQgPyBhbGlnblJpZ2h0IDogYWxpZ25MZWZ0IDogdW5BbGlnbik7XG5cbiAgICAgICAgZnVuY3Rpb24gc3BhY2VzKG4pIHtcbiAgICAgICAgICAgIHJldHVybiBsYW5nLnN0cmluZ1JlcGVhdChcIiBcIiwgbik7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBhbGlnbkxlZnQobSkge1xuICAgICAgICAgICAgcmV0dXJuICFtWzJdID8gbVswXSA6IHNwYWNlcyhzdGFydFcpICsgbVsyXVxuICAgICAgICAgICAgICAgICsgc3BhY2VzKHRleHRXIC0gbVsyXS5sZW5ndGggKyBlbmRXKVxuICAgICAgICAgICAgICAgICsgbVs0XS5yZXBsYWNlKC9eKFs9Ol0pXFxzKy8sIFwiJDEgXCIpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGFsaWduUmlnaHQobSkge1xuICAgICAgICAgICAgcmV0dXJuICFtWzJdID8gbVswXSA6IHNwYWNlcyhzdGFydFcgKyB0ZXh0VyAtIG1bMl0ubGVuZ3RoKSArIG1bMl1cbiAgICAgICAgICAgICAgICArIHNwYWNlcyhlbmRXKVxuICAgICAgICAgICAgICAgICsgbVs0XS5yZXBsYWNlKC9eKFs9Ol0pXFxzKy8sIFwiJDEgXCIpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHVuQWxpZ24obSkge1xuICAgICAgICAgICAgcmV0dXJuICFtWzJdID8gbVswXSA6IHNwYWNlcyhzdGFydFcpICsgbVsyXVxuICAgICAgICAgICAgICAgICsgc3BhY2VzKGVuZFcpXG4gICAgICAgICAgICAgICAgKyBtWzRdLnJlcGxhY2UoL14oWz06XSlcXHMrLywgXCIkMSBcIik7XG4gICAgICAgIH1cbiAgICB9O1xufSkuY2FsbChFZGl0b3IucHJvdG90eXBlKTtcblxuXG5mdW5jdGlvbiBpc1NhbWVQb2ludChwMSwgcDIpIHtcbiAgICByZXR1cm4gcDEucm93ID09IHAyLnJvdyAmJiBwMS5jb2x1bW4gPT0gcDIuY29sdW1uO1xufVxuZXhwb3J0cy5vblNlc3Npb25DaGFuZ2UgPSBmdW5jdGlvbihlKSB7XG4gICAgdmFyIHNlc3Npb24gPSBlLnNlc3Npb247XG4gICAgaWYgKHNlc3Npb24gJiYgIXNlc3Npb24ubXVsdGlTZWxlY3QpIHtcbiAgICAgICAgc2Vzc2lvbi4kc2VsZWN0aW9uTWFya2VycyA9IFtdO1xuICAgICAgICBzZXNzaW9uLnNlbGVjdGlvbi4kaW5pdFJhbmdlTGlzdCgpO1xuICAgICAgICBzZXNzaW9uLm11bHRpU2VsZWN0ID0gc2Vzc2lvbi5zZWxlY3Rpb247XG4gICAgfVxuICAgIHRoaXMubXVsdGlTZWxlY3QgPSBzZXNzaW9uICYmIHNlc3Npb24ubXVsdGlTZWxlY3Q7XG5cbiAgICB2YXIgb2xkU2Vzc2lvbiA9IGUub2xkU2Vzc2lvbjtcbiAgICBpZiAob2xkU2Vzc2lvbikge1xuICAgICAgICBvbGRTZXNzaW9uLm11bHRpU2VsZWN0Lm9mZihcImFkZFJhbmdlXCIsIHRoaXMuJG9uQWRkUmFuZ2UpO1xuICAgICAgICBvbGRTZXNzaW9uLm11bHRpU2VsZWN0Lm9mZihcInJlbW92ZVJhbmdlXCIsIHRoaXMuJG9uUmVtb3ZlUmFuZ2UpO1xuICAgICAgICBvbGRTZXNzaW9uLm11bHRpU2VsZWN0Lm9mZihcIm11bHRpU2VsZWN0XCIsIHRoaXMuJG9uTXVsdGlTZWxlY3QpO1xuICAgICAgICBvbGRTZXNzaW9uLm11bHRpU2VsZWN0Lm9mZihcInNpbmdsZVNlbGVjdFwiLCB0aGlzLiRvblNpbmdsZVNlbGVjdCk7XG4gICAgICAgIG9sZFNlc3Npb24ubXVsdGlTZWxlY3QubGVhZC5vZmYoXCJjaGFuZ2VcIiwgdGhpcy4kY2hlY2tNdWx0aXNlbGVjdENoYW5nZSk7XG4gICAgICAgIG9sZFNlc3Npb24ubXVsdGlTZWxlY3QuYW5jaG9yLm9mZihcImNoYW5nZVwiLCB0aGlzLiRjaGVja011bHRpc2VsZWN0Q2hhbmdlKTtcbiAgICB9XG5cbiAgICBpZiAoc2Vzc2lvbikge1xuICAgICAgICBzZXNzaW9uLm11bHRpU2VsZWN0Lm9uKFwiYWRkUmFuZ2VcIiwgdGhpcy4kb25BZGRSYW5nZSk7XG4gICAgICAgIHNlc3Npb24ubXVsdGlTZWxlY3Qub24oXCJyZW1vdmVSYW5nZVwiLCB0aGlzLiRvblJlbW92ZVJhbmdlKTtcbiAgICAgICAgc2Vzc2lvbi5tdWx0aVNlbGVjdC5vbihcIm11bHRpU2VsZWN0XCIsIHRoaXMuJG9uTXVsdGlTZWxlY3QpO1xuICAgICAgICBzZXNzaW9uLm11bHRpU2VsZWN0Lm9uKFwic2luZ2xlU2VsZWN0XCIsIHRoaXMuJG9uU2luZ2xlU2VsZWN0KTtcbiAgICAgICAgc2Vzc2lvbi5tdWx0aVNlbGVjdC5sZWFkLm9uKFwiY2hhbmdlXCIsIHRoaXMuJGNoZWNrTXVsdGlzZWxlY3RDaGFuZ2UpO1xuICAgICAgICBzZXNzaW9uLm11bHRpU2VsZWN0LmFuY2hvci5vbihcImNoYW5nZVwiLCB0aGlzLiRjaGVja011bHRpc2VsZWN0Q2hhbmdlKTtcbiAgICB9XG5cbiAgICBpZiAoc2Vzc2lvbiAmJiB0aGlzLmluTXVsdGlTZWxlY3RNb2RlICE9IHNlc3Npb24uc2VsZWN0aW9uLmluTXVsdGlTZWxlY3RNb2RlKSB7XG4gICAgICAgIGlmIChzZXNzaW9uLnNlbGVjdGlvbi5pbk11bHRpU2VsZWN0TW9kZSlcbiAgICAgICAgICAgIHRoaXMuJG9uTXVsdGlTZWxlY3QoKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy4kb25TaW5nbGVTZWxlY3QoKTtcbiAgICB9XG59O1xuZnVuY3Rpb24gTXVsdGlTZWxlY3QoZWRpdG9yKSB7XG4gICAgaWYgKGVkaXRvci4kbXVsdGlzZWxlY3RPblNlc3Npb25DaGFuZ2UpXG4gICAgICAgIHJldHVybjtcbiAgICBlZGl0b3IuJG9uQWRkUmFuZ2UgPSBlZGl0b3IuJG9uQWRkUmFuZ2UuYmluZChlZGl0b3IpO1xuICAgIGVkaXRvci4kb25SZW1vdmVSYW5nZSA9IGVkaXRvci4kb25SZW1vdmVSYW5nZS5iaW5kKGVkaXRvcik7XG4gICAgZWRpdG9yLiRvbk11bHRpU2VsZWN0ID0gZWRpdG9yLiRvbk11bHRpU2VsZWN0LmJpbmQoZWRpdG9yKTtcbiAgICBlZGl0b3IuJG9uU2luZ2xlU2VsZWN0ID0gZWRpdG9yLiRvblNpbmdsZVNlbGVjdC5iaW5kKGVkaXRvcik7XG4gICAgZWRpdG9yLiRtdWx0aXNlbGVjdE9uU2Vzc2lvbkNoYW5nZSA9IGV4cG9ydHMub25TZXNzaW9uQ2hhbmdlLmJpbmQoZWRpdG9yKTtcbiAgICBlZGl0b3IuJGNoZWNrTXVsdGlzZWxlY3RDaGFuZ2UgPSBlZGl0b3IuJGNoZWNrTXVsdGlzZWxlY3RDaGFuZ2UuYmluZChlZGl0b3IpO1xuXG4gICAgZWRpdG9yLiRtdWx0aXNlbGVjdE9uU2Vzc2lvbkNoYW5nZShlZGl0b3IpO1xuICAgIGVkaXRvci5vbihcImNoYW5nZVNlc3Npb25cIiwgZWRpdG9yLiRtdWx0aXNlbGVjdE9uU2Vzc2lvbkNoYW5nZSk7XG5cbiAgICBlZGl0b3Iub24oXCJtb3VzZWRvd25cIiwgb25Nb3VzZURvd24pO1xuICAgIGVkaXRvci5jb21tYW5kcy5hZGRDb21tYW5kcyhjb21tYW5kcy5kZWZhdWx0Q29tbWFuZHMpO1xuXG4gICAgYWRkQWx0Q3Vyc29yTGlzdGVuZXJzKGVkaXRvcik7XG59XG5cbmZ1bmN0aW9uIGFkZEFsdEN1cnNvckxpc3RlbmVycyhlZGl0b3Ipe1xuICAgIGlmICghZWRpdG9yLnRleHRJbnB1dCkgcmV0dXJuO1xuICAgIHZhciBlbCA9IGVkaXRvci50ZXh0SW5wdXQuZ2V0RWxlbWVudCgpO1xuICAgIHZhciBhbHRDdXJzb3IgPSBmYWxzZTtcbiAgICBldmVudC5hZGRMaXN0ZW5lcihlbCwgXCJrZXlkb3duXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIGFsdERvd24gPSBlLmtleUNvZGUgPT0gMTggJiYgIShlLmN0cmxLZXkgfHwgZS5zaGlmdEtleSB8fCBlLm1ldGFLZXkpO1xuICAgICAgICBpZiAoZWRpdG9yLiRibG9ja1NlbGVjdEVuYWJsZWQgJiYgYWx0RG93bikge1xuICAgICAgICAgICAgaWYgKCFhbHRDdXJzb3IpIHtcbiAgICAgICAgICAgICAgICBlZGl0b3IucmVuZGVyZXIuc2V0TW91c2VDdXJzb3IoXCJjcm9zc2hhaXJcIik7XG4gICAgICAgICAgICAgICAgYWx0Q3Vyc29yID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChhbHRDdXJzb3IpIHtcbiAgICAgICAgICAgIHJlc2V0KCk7XG4gICAgICAgIH1cbiAgICB9LCBlZGl0b3IpO1xuXG4gICAgZXZlbnQuYWRkTGlzdGVuZXIoZWwsIFwia2V5dXBcIiwgcmVzZXQsIGVkaXRvcik7XG4gICAgZXZlbnQuYWRkTGlzdGVuZXIoZWwsIFwiYmx1clwiLCByZXNldCwgZWRpdG9yKTtcbiAgICBmdW5jdGlvbiByZXNldChlKSB7XG4gICAgICAgIGlmIChhbHRDdXJzb3IpIHtcbiAgICAgICAgICAgIGVkaXRvci5yZW5kZXJlci5zZXRNb3VzZUN1cnNvcihcIlwiKTtcbiAgICAgICAgICAgIGFsdEN1cnNvciA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnRzLk11bHRpU2VsZWN0ID0gTXVsdGlTZWxlY3Q7XG5cblxucmVxdWlyZShcIi4vY29uZmlnXCIpLmRlZmluZU9wdGlvbnMoRWRpdG9yLnByb3RvdHlwZSwgXCJlZGl0b3JcIiwge1xuICAgIGVuYWJsZU11bHRpc2VsZWN0OiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24odmFsKSB7XG4gICAgICAgICAgICBNdWx0aVNlbGVjdCh0aGlzKTtcbiAgICAgICAgICAgIGlmICh2YWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uKFwiY2hhbmdlU2Vzc2lvblwiLCB0aGlzLiRtdWx0aXNlbGVjdE9uU2Vzc2lvbkNoYW5nZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5vbihcIm1vdXNlZG93blwiLCBvbk1vdXNlRG93bik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMub2ZmKFwiY2hhbmdlU2Vzc2lvblwiLCB0aGlzLiRtdWx0aXNlbGVjdE9uU2Vzc2lvbkNoYW5nZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5vZmYoXCJtb3VzZWRvd25cIiwgb25Nb3VzZURvd24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0sXG4gICAgZW5hYmxlQmxvY2tTZWxlY3Q6IHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgIHRoaXMuJGJsb2NrU2VsZWN0RW5hYmxlZCA9IHZhbDtcbiAgICAgICAgfSxcbiAgICAgICAgdmFsdWU6IHRydWVcbiAgICB9XG59KTtcblxuXG5cbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL21vZGUvZm9sZGluZy9mb2xkX21vZGVcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9yYW5nZVwiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIFJhbmdlID0gcmVxdWlyZShcIi4uLy4uL3JhbmdlXCIpLlJhbmdlO1xuXG52YXIgRm9sZE1vZGUgPSBleHBvcnRzLkZvbGRNb2RlID0gZnVuY3Rpb24oKSB7fTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgdGhpcy5mb2xkaW5nU3RhcnRNYXJrZXIgPSBudWxsO1xuICAgIHRoaXMuZm9sZGluZ1N0b3BNYXJrZXIgPSBudWxsO1xuICAgIHRoaXMuZ2V0Rm9sZFdpZGdldCA9IGZ1bmN0aW9uKHNlc3Npb24sIGZvbGRTdHlsZSwgcm93KSB7XG4gICAgICAgIHZhciBsaW5lID0gc2Vzc2lvbi5nZXRMaW5lKHJvdyk7XG4gICAgICAgIGlmICh0aGlzLmZvbGRpbmdTdGFydE1hcmtlci50ZXN0KGxpbmUpKVxuICAgICAgICAgICAgcmV0dXJuIFwic3RhcnRcIjtcbiAgICAgICAgaWYgKGZvbGRTdHlsZSA9PSBcIm1hcmtiZWdpbmVuZFwiXG4gICAgICAgICAgICAgICAgJiYgdGhpcy5mb2xkaW5nU3RvcE1hcmtlclxuICAgICAgICAgICAgICAgICYmIHRoaXMuZm9sZGluZ1N0b3BNYXJrZXIudGVzdChsaW5lKSlcbiAgICAgICAgICAgIHJldHVybiBcImVuZFwiO1xuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRGb2xkV2lkZ2V0UmFuZ2UgPSBmdW5jdGlvbihzZXNzaW9uLCBmb2xkU3R5bGUsIHJvdykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuXG4gICAgdGhpcy5pbmRlbnRhdGlvbkJsb2NrID0gZnVuY3Rpb24oc2Vzc2lvbiwgcm93LCBjb2x1bW4pIHtcbiAgICAgICAgdmFyIHJlID0gL1xcUy87XG4gICAgICAgIHZhciBsaW5lID0gc2Vzc2lvbi5nZXRMaW5lKHJvdyk7XG4gICAgICAgIHZhciBzdGFydExldmVsID0gbGluZS5zZWFyY2gocmUpO1xuICAgICAgICBpZiAoc3RhcnRMZXZlbCA9PSAtMSlcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB2YXIgc3RhcnRDb2x1bW4gPSBjb2x1bW4gfHwgbGluZS5sZW5ndGg7XG4gICAgICAgIHZhciBtYXhSb3cgPSBzZXNzaW9uLmdldExlbmd0aCgpO1xuICAgICAgICB2YXIgc3RhcnRSb3cgPSByb3c7XG4gICAgICAgIHZhciBlbmRSb3cgPSByb3c7XG5cbiAgICAgICAgd2hpbGUgKCsrcm93IDwgbWF4Um93KSB7XG4gICAgICAgICAgICB2YXIgbGV2ZWwgPSBzZXNzaW9uLmdldExpbmUocm93KS5zZWFyY2gocmUpO1xuXG4gICAgICAgICAgICBpZiAobGV2ZWwgPT0gLTEpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIGlmIChsZXZlbCA8PSBzdGFydExldmVsKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRva2VuID0gc2Vzc2lvbi5nZXRUb2tlbkF0KHJvdywgMCk7XG4gICAgICAgICAgICAgICAgaWYgKCF0b2tlbiB8fCB0b2tlbi50eXBlICE9PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZW5kUm93ID0gcm93O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVuZFJvdyA+IHN0YXJ0Um93KSB7XG4gICAgICAgICAgICB2YXIgZW5kQ29sdW1uID0gc2Vzc2lvbi5nZXRMaW5lKGVuZFJvdykubGVuZ3RoO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShzdGFydFJvdywgc3RhcnRDb2x1bW4sIGVuZFJvdywgZW5kQ29sdW1uKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLm9wZW5pbmdCcmFja2V0QmxvY2sgPSBmdW5jdGlvbihzZXNzaW9uLCBicmFja2V0LCByb3csIGNvbHVtbiwgdHlwZVJlKSB7XG4gICAgICAgIHZhciBzdGFydCA9IHtyb3c6IHJvdywgY29sdW1uOiBjb2x1bW4gKyAxfTtcbiAgICAgICAgdmFyIGVuZCA9IHNlc3Npb24uJGZpbmRDbG9zaW5nQnJhY2tldChicmFja2V0LCBzdGFydCwgdHlwZVJlKTtcbiAgICAgICAgaWYgKCFlbmQpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdmFyIGZ3ID0gc2Vzc2lvbi5mb2xkV2lkZ2V0c1tlbmQucm93XTtcbiAgICAgICAgaWYgKGZ3ID09IG51bGwpXG4gICAgICAgICAgICBmdyA9IHNlc3Npb24uZ2V0Rm9sZFdpZGdldChlbmQucm93KTtcblxuICAgICAgICBpZiAoZncgPT0gXCJzdGFydFwiICYmIGVuZC5yb3cgPiBzdGFydC5yb3cpIHtcbiAgICAgICAgICAgIGVuZC5yb3cgLS07XG4gICAgICAgICAgICBlbmQuY29sdW1uID0gc2Vzc2lvbi5nZXRMaW5lKGVuZC5yb3cpLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUmFuZ2UuZnJvbVBvaW50cyhzdGFydCwgZW5kKTtcbiAgICB9O1xuXG4gICAgdGhpcy5jbG9zaW5nQnJhY2tldEJsb2NrID0gZnVuY3Rpb24oc2Vzc2lvbiwgYnJhY2tldCwgcm93LCBjb2x1bW4sIHR5cGVSZSkge1xuICAgICAgICB2YXIgZW5kID0ge3Jvdzogcm93LCBjb2x1bW46IGNvbHVtbn07XG4gICAgICAgIHZhciBzdGFydCA9IHNlc3Npb24uJGZpbmRPcGVuaW5nQnJhY2tldChicmFja2V0LCBlbmQpO1xuXG4gICAgICAgIGlmICghc3RhcnQpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgc3RhcnQuY29sdW1uKys7XG4gICAgICAgIGVuZC5jb2x1bW4tLTtcblxuICAgICAgICByZXR1cm4gIFJhbmdlLmZyb21Qb2ludHMoc3RhcnQsIGVuZCk7XG4gICAgfTtcbn0pLmNhbGwoRm9sZE1vZGUucHJvdG90eXBlKTtcblxufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvbGluZV93aWRnZXRzXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL2RvbVwiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIGRvbSA9IHJlcXVpcmUoXCIuL2xpYi9kb21cIik7XG5cbmZ1bmN0aW9uIExpbmVXaWRnZXRzKHNlc3Npb24pIHtcbiAgICB0aGlzLnNlc3Npb24gPSBzZXNzaW9uO1xuICAgIHRoaXMuc2Vzc2lvbi53aWRnZXRNYW5hZ2VyID0gdGhpcztcbiAgICB0aGlzLnNlc3Npb24uZ2V0Um93TGVuZ3RoID0gdGhpcy5nZXRSb3dMZW5ndGg7XG4gICAgdGhpcy5zZXNzaW9uLiRnZXRXaWRnZXRTY3JlZW5MZW5ndGggPSB0aGlzLiRnZXRXaWRnZXRTY3JlZW5MZW5ndGg7XG4gICAgdGhpcy51cGRhdGVPbkNoYW5nZSA9IHRoaXMudXBkYXRlT25DaGFuZ2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLnJlbmRlcldpZGdldHMgPSB0aGlzLnJlbmRlcldpZGdldHMuYmluZCh0aGlzKTtcbiAgICB0aGlzLm1lYXN1cmVXaWRnZXRzID0gdGhpcy5tZWFzdXJlV2lkZ2V0cy5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc2Vzc2lvbi5fY2hhbmdlZFdpZGdldHMgPSBbXTtcbiAgICB0aGlzLiRvbkNoYW5nZUVkaXRvciA9IHRoaXMuJG9uQ2hhbmdlRWRpdG9yLmJpbmQodGhpcyk7XG4gICAgXG4gICAgdGhpcy5zZXNzaW9uLm9uKFwiY2hhbmdlXCIsIHRoaXMudXBkYXRlT25DaGFuZ2UpO1xuICAgIHRoaXMuc2Vzc2lvbi5vbihcImNoYW5nZUZvbGRcIiwgdGhpcy51cGRhdGVPbkZvbGQpO1xuICAgIHRoaXMuc2Vzc2lvbi5vbihcImNoYW5nZUVkaXRvclwiLCB0aGlzLiRvbkNoYW5nZUVkaXRvcik7XG59XG5cbihmdW5jdGlvbigpIHtcbiAgICB0aGlzLmdldFJvd0xlbmd0aCA9IGZ1bmN0aW9uKHJvdykge1xuICAgICAgICB2YXIgaDtcbiAgICAgICAgaWYgKHRoaXMubGluZVdpZGdldHMpXG4gICAgICAgICAgICBoID0gdGhpcy5saW5lV2lkZ2V0c1tyb3ddICYmIHRoaXMubGluZVdpZGdldHNbcm93XS5yb3dDb3VudCB8fCAwO1xuICAgICAgICBlbHNlIFxuICAgICAgICAgICAgaCA9IDA7XG4gICAgICAgIGlmICghdGhpcy4kdXNlV3JhcE1vZGUgfHwgIXRoaXMuJHdyYXBEYXRhW3Jvd10pIHtcbiAgICAgICAgICAgIHJldHVybiAxICsgaDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiR3cmFwRGF0YVtyb3ddLmxlbmd0aCArIDEgKyBoO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuJGdldFdpZGdldFNjcmVlbkxlbmd0aCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2NyZWVuUm93cyA9IDA7XG4gICAgICAgIHRoaXMubGluZVdpZGdldHMuZm9yRWFjaChmdW5jdGlvbih3KXtcbiAgICAgICAgICAgIGlmICh3ICYmIHcucm93Q291bnQgJiYgIXcuaGlkZGVuKVxuICAgICAgICAgICAgICAgIHNjcmVlblJvd3MgKz0gdy5yb3dDb3VudDtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzY3JlZW5Sb3dzO1xuICAgIH07ICAgIFxuICAgIFxuICAgIHRoaXMuJG9uQ2hhbmdlRWRpdG9yID0gZnVuY3Rpb24oZSkge1xuICAgICAgICB0aGlzLmF0dGFjaChlLmVkaXRvcik7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLmF0dGFjaCA9IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICBpZiAoZWRpdG9yICAmJiBlZGl0b3Iud2lkZ2V0TWFuYWdlciAmJiBlZGl0b3Iud2lkZ2V0TWFuYWdlciAhPSB0aGlzKVxuICAgICAgICAgICAgZWRpdG9yLndpZGdldE1hbmFnZXIuZGV0YWNoKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuZWRpdG9yID09IGVkaXRvcilcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB0aGlzLmRldGFjaCgpO1xuICAgICAgICB0aGlzLmVkaXRvciA9IGVkaXRvcjtcbiAgICAgICAgXG4gICAgICAgIGlmIChlZGl0b3IpIHtcbiAgICAgICAgICAgIGVkaXRvci53aWRnZXRNYW5hZ2VyID0gdGhpcztcbiAgICAgICAgICAgIGVkaXRvci5yZW5kZXJlci5vbihcImJlZm9yZVJlbmRlclwiLCB0aGlzLm1lYXN1cmVXaWRnZXRzKTtcbiAgICAgICAgICAgIGVkaXRvci5yZW5kZXJlci5vbihcImFmdGVyUmVuZGVyXCIsIHRoaXMucmVuZGVyV2lkZ2V0cyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuZGV0YWNoID0gZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7XG4gICAgICAgIGlmICghZWRpdG9yKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5lZGl0b3IgPSBudWxsO1xuICAgICAgICBlZGl0b3Iud2lkZ2V0TWFuYWdlciA9IG51bGw7XG4gICAgICAgIFxuICAgICAgICBlZGl0b3IucmVuZGVyZXIub2ZmKFwiYmVmb3JlUmVuZGVyXCIsIHRoaXMubWVhc3VyZVdpZGdldHMpO1xuICAgICAgICBlZGl0b3IucmVuZGVyZXIub2ZmKFwiYWZ0ZXJSZW5kZXJcIiwgdGhpcy5yZW5kZXJXaWRnZXRzKTtcbiAgICAgICAgdmFyIGxpbmVXaWRnZXRzID0gdGhpcy5zZXNzaW9uLmxpbmVXaWRnZXRzO1xuICAgICAgICBsaW5lV2lkZ2V0cyAmJiBsaW5lV2lkZ2V0cy5mb3JFYWNoKGZ1bmN0aW9uKHcpIHtcbiAgICAgICAgICAgIGlmICh3ICYmIHcuZWwgJiYgdy5lbC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgdy5faW5Eb2N1bWVudCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHcuZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh3LmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMudXBkYXRlT25Gb2xkID0gZnVuY3Rpb24oZSwgc2Vzc2lvbikge1xuICAgICAgICB2YXIgbGluZVdpZGdldHMgPSBzZXNzaW9uLmxpbmVXaWRnZXRzO1xuICAgICAgICBpZiAoIWxpbmVXaWRnZXRzIHx8ICFlLmFjdGlvbilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyIGZvbGQgPSBlLmRhdGE7XG4gICAgICAgIHZhciBzdGFydCA9IGZvbGQuc3RhcnQucm93O1xuICAgICAgICB2YXIgZW5kID0gZm9sZC5lbmQucm93O1xuICAgICAgICB2YXIgaGlkZSA9IGUuYWN0aW9uID09IFwiYWRkXCI7XG4gICAgICAgIGZvciAodmFyIGkgPSBzdGFydCArIDE7IGkgPCBlbmQ7IGkrKykge1xuICAgICAgICAgICAgaWYgKGxpbmVXaWRnZXRzW2ldKVxuICAgICAgICAgICAgICAgIGxpbmVXaWRnZXRzW2ldLmhpZGRlbiA9IGhpZGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxpbmVXaWRnZXRzW2VuZF0pIHtcbiAgICAgICAgICAgIGlmIChoaWRlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFsaW5lV2lkZ2V0c1tzdGFydF0pXG4gICAgICAgICAgICAgICAgICAgIGxpbmVXaWRnZXRzW3N0YXJ0XSA9IGxpbmVXaWRnZXRzW2VuZF07XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBsaW5lV2lkZ2V0c1tlbmRdLmhpZGRlbiA9IGhpZGU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChsaW5lV2lkZ2V0c1tzdGFydF0gPT0gbGluZVdpZGdldHNbZW5kXSlcbiAgICAgICAgICAgICAgICAgICAgbGluZVdpZGdldHNbc3RhcnRdID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGxpbmVXaWRnZXRzW2VuZF0uaGlkZGVuID0gaGlkZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgdGhpcy51cGRhdGVPbkNoYW5nZSA9IGZ1bmN0aW9uKGRlbHRhKSB7XG4gICAgICAgIHZhciBsaW5lV2lkZ2V0cyA9IHRoaXMuc2Vzc2lvbi5saW5lV2lkZ2V0cztcbiAgICAgICAgaWYgKCFsaW5lV2lkZ2V0cykgcmV0dXJuO1xuICAgICAgICBcbiAgICAgICAgdmFyIHN0YXJ0Um93ID0gZGVsdGEuc3RhcnQucm93O1xuICAgICAgICB2YXIgbGVuID0gZGVsdGEuZW5kLnJvdyAtIHN0YXJ0Um93O1xuXG4gICAgICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgICAgfSBlbHNlIGlmIChkZWx0YS5hY3Rpb24gPT0gXCJyZW1vdmVcIikge1xuICAgICAgICAgICAgdmFyIHJlbW92ZWQgPSBsaW5lV2lkZ2V0cy5zcGxpY2Uoc3RhcnRSb3cgKyAxLCBsZW4pO1xuICAgICAgICAgICAgaWYgKCFsaW5lV2lkZ2V0c1tzdGFydFJvd10gJiYgcmVtb3ZlZFtyZW1vdmVkLmxlbmd0aCAtIDFdKSB7XG4gICAgICAgICAgICAgICAgbGluZVdpZGdldHNbc3RhcnRSb3ddID0gcmVtb3ZlZC5wb3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlbW92ZWQuZm9yRWFjaChmdW5jdGlvbih3KSB7XG4gICAgICAgICAgICAgICAgdyAmJiB0aGlzLnJlbW92ZUxpbmVXaWRnZXQodyk7XG4gICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuJHVwZGF0ZVJvd3MoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGxlbik7XG4gICAgICAgICAgICBpZiAobGluZVdpZGdldHNbc3RhcnRSb3ddICYmIGxpbmVXaWRnZXRzW3N0YXJ0Um93XS5jb2x1bW4gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChkZWx0YS5zdGFydC5jb2x1bW4gPiBsaW5lV2lkZ2V0c1tzdGFydFJvd10uY29sdW1uKVxuICAgICAgICAgICAgICAgICAgICBzdGFydFJvdysrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXJncy51bnNoaWZ0KHN0YXJ0Um93LCAwKTtcbiAgICAgICAgICAgIGxpbmVXaWRnZXRzLnNwbGljZS5hcHBseShsaW5lV2lkZ2V0cywgYXJncyk7XG4gICAgICAgICAgICB0aGlzLiR1cGRhdGVSb3dzKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIHRoaXMuJHVwZGF0ZVJvd3MgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGxpbmVXaWRnZXRzID0gdGhpcy5zZXNzaW9uLmxpbmVXaWRnZXRzO1xuICAgICAgICBpZiAoIWxpbmVXaWRnZXRzKSByZXR1cm47XG4gICAgICAgIHZhciBub1dpZGdldHMgPSB0cnVlO1xuICAgICAgICBsaW5lV2lkZ2V0cy5mb3JFYWNoKGZ1bmN0aW9uKHcsIGkpIHtcbiAgICAgICAgICAgIGlmICh3KSB7XG4gICAgICAgICAgICAgICAgbm9XaWRnZXRzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdy5yb3cgPSBpO1xuICAgICAgICAgICAgICAgIHdoaWxlICh3LiRvbGRXaWRnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdy4kb2xkV2lkZ2V0LnJvdyA9IGk7XG4gICAgICAgICAgICAgICAgICAgIHcgPSB3LiRvbGRXaWRnZXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKG5vV2lkZ2V0cylcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5saW5lV2lkZ2V0cyA9IG51bGw7XG4gICAgfTtcblxuICAgIHRoaXMuJHJlZ2lzdGVyTGluZVdpZGdldCA9IGZ1bmN0aW9uKHcpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNlc3Npb24ubGluZVdpZGdldHMpXG4gICAgICAgICAgICB0aGlzLnNlc3Npb24ubGluZVdpZGdldHMgPSBuZXcgQXJyYXkodGhpcy5zZXNzaW9uLmdldExlbmd0aCgpKTtcbiAgICAgICAgXG4gICAgICAgIHZhciBvbGQgPSB0aGlzLnNlc3Npb24ubGluZVdpZGdldHNbdy5yb3ddO1xuICAgICAgICBpZiAob2xkKSB7XG4gICAgICAgICAgICB3LiRvbGRXaWRnZXQgPSBvbGQ7XG4gICAgICAgICAgICBpZiAob2xkLmVsICYmIG9sZC5lbC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgb2xkLmVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQob2xkLmVsKTtcbiAgICAgICAgICAgICAgICBvbGQuX2luRG9jdW1lbnQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgIHRoaXMuc2Vzc2lvbi5saW5lV2lkZ2V0c1t3LnJvd10gPSB3O1xuICAgICAgICByZXR1cm4gdztcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuYWRkTGluZVdpZGdldCA9IGZ1bmN0aW9uKHcpIHtcbiAgICAgICAgdGhpcy4kcmVnaXN0ZXJMaW5lV2lkZ2V0KHcpO1xuICAgICAgICB3LnNlc3Npb24gPSB0aGlzLnNlc3Npb247XG4gICAgICAgIFxuICAgICAgICBpZiAoIXRoaXMuZWRpdG9yKSByZXR1cm4gdztcbiAgICAgICAgXG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMuZWRpdG9yLnJlbmRlcmVyO1xuICAgICAgICBpZiAody5odG1sICYmICF3LmVsKSB7XG4gICAgICAgICAgICB3LmVsID0gZG9tLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICB3LmVsLmlubmVySFRNTCA9IHcuaHRtbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAody5lbCkge1xuICAgICAgICAgICAgZG9tLmFkZENzc0NsYXNzKHcuZWwsIFwiYWNlX2xpbmVXaWRnZXRDb250YWluZXJcIik7XG4gICAgICAgICAgICB3LmVsLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICAgICAgdy5lbC5zdHlsZS56SW5kZXggPSA1O1xuICAgICAgICAgICAgcmVuZGVyZXIuY29udGFpbmVyLmFwcGVuZENoaWxkKHcuZWwpO1xuICAgICAgICAgICAgdy5faW5Eb2N1bWVudCA9IHRydWU7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICghdy5jb3Zlckd1dHRlcikge1xuICAgICAgICAgICAgICAgIHcuZWwuc3R5bGUuekluZGV4ID0gMztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh3LnBpeGVsSGVpZ2h0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB3LnBpeGVsSGVpZ2h0ID0gdy5lbC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHcucm93Q291bnQgPT0gbnVsbCkge1xuICAgICAgICAgICAgdy5yb3dDb3VudCA9IHcucGl4ZWxIZWlnaHQgLyByZW5kZXJlci5sYXllckNvbmZpZy5saW5lSGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB2YXIgZm9sZCA9IHRoaXMuc2Vzc2lvbi5nZXRGb2xkQXQody5yb3csIDApO1xuICAgICAgICB3LiRmb2xkID0gZm9sZDtcbiAgICAgICAgaWYgKGZvbGQpIHtcbiAgICAgICAgICAgIHZhciBsaW5lV2lkZ2V0cyA9IHRoaXMuc2Vzc2lvbi5saW5lV2lkZ2V0cztcbiAgICAgICAgICAgIGlmICh3LnJvdyA9PSBmb2xkLmVuZC5yb3cgJiYgIWxpbmVXaWRnZXRzW2ZvbGQuc3RhcnQucm93XSlcbiAgICAgICAgICAgICAgICBsaW5lV2lkZ2V0c1tmb2xkLnN0YXJ0LnJvd10gPSB3O1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHcuaGlkZGVuID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgIHRoaXMuc2Vzc2lvbi5fZW1pdChcImNoYW5nZUZvbGRcIiwge2RhdGE6e3N0YXJ0Ontyb3c6IHcucm93fX19KTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuJHVwZGF0ZVJvd3MoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJXaWRnZXRzKG51bGwsIHJlbmRlcmVyKTtcbiAgICAgICAgdGhpcy5vbldpZGdldENoYW5nZWQodyk7XG4gICAgICAgIHJldHVybiB3O1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5yZW1vdmVMaW5lV2lkZ2V0ID0gZnVuY3Rpb24odykge1xuICAgICAgICB3Ll9pbkRvY3VtZW50ID0gZmFsc2U7XG4gICAgICAgIHcuc2Vzc2lvbiA9IG51bGw7XG4gICAgICAgIGlmICh3LmVsICYmIHcuZWwucGFyZW50Tm9kZSlcbiAgICAgICAgICAgIHcuZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh3LmVsKTtcbiAgICAgICAgaWYgKHcuZWRpdG9yICYmIHcuZWRpdG9yLmRlc3Ryb3kpIHRyeSB7XG4gICAgICAgICAgICB3LmVkaXRvci5kZXN0cm95KCk7XG4gICAgICAgIH0gY2F0Y2goZSl7fVxuICAgICAgICBpZiAodGhpcy5zZXNzaW9uLmxpbmVXaWRnZXRzKSB7XG4gICAgICAgICAgICB2YXIgdzEgPSB0aGlzLnNlc3Npb24ubGluZVdpZGdldHNbdy5yb3ddO1xuICAgICAgICAgICAgaWYgKHcxID09IHcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb24ubGluZVdpZGdldHNbdy5yb3ddID0gdy4kb2xkV2lkZ2V0O1xuICAgICAgICAgICAgICAgIGlmICh3LiRvbGRXaWRnZXQpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25XaWRnZXRDaGFuZ2VkKHcuJG9sZFdpZGdldCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHdoaWxlICh3MSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodzEuJG9sZFdpZGdldCA9PSB3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3MS4kb2xkV2lkZ2V0ID0gdy4kb2xkV2lkZ2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdzEgPSB3MS4kb2xkV2lkZ2V0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlc3Npb24uX2VtaXQoXCJjaGFuZ2VGb2xkXCIsIHtkYXRhOntzdGFydDp7cm93OiB3LnJvd319fSk7XG4gICAgICAgIHRoaXMuJHVwZGF0ZVJvd3MoKTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuZ2V0V2lkZ2V0c0F0Um93ID0gZnVuY3Rpb24ocm93KSB7XG4gICAgICAgIHZhciBsaW5lV2lkZ2V0cyA9IHRoaXMuc2Vzc2lvbi5saW5lV2lkZ2V0cztcbiAgICAgICAgdmFyIHcgPSBsaW5lV2lkZ2V0cyAmJiBsaW5lV2lkZ2V0c1tyb3ddO1xuICAgICAgICB2YXIgbGlzdCA9IFtdO1xuICAgICAgICB3aGlsZSAodykge1xuICAgICAgICAgICAgbGlzdC5wdXNoKHcpO1xuICAgICAgICAgICAgdyA9IHcuJG9sZFdpZGdldDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGlzdDtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMub25XaWRnZXRDaGFuZ2VkID0gZnVuY3Rpb24odykge1xuICAgICAgICB0aGlzLnNlc3Npb24uX2NoYW5nZWRXaWRnZXRzLnB1c2godyk7XG4gICAgICAgIHRoaXMuZWRpdG9yICYmIHRoaXMuZWRpdG9yLnJlbmRlcmVyLnVwZGF0ZUZ1bGwoKTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMubWVhc3VyZVdpZGdldHMgPSBmdW5jdGlvbihlLCByZW5kZXJlcikge1xuICAgICAgICB2YXIgY2hhbmdlZFdpZGdldHMgPSB0aGlzLnNlc3Npb24uX2NoYW5nZWRXaWRnZXRzO1xuICAgICAgICB2YXIgY29uZmlnID0gcmVuZGVyZXIubGF5ZXJDb25maWc7XG4gICAgICAgIFxuICAgICAgICBpZiAoIWNoYW5nZWRXaWRnZXRzIHx8ICFjaGFuZ2VkV2lkZ2V0cy5sZW5ndGgpIHJldHVybjtcbiAgICAgICAgdmFyIG1pbiA9IEluZmluaXR5O1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYW5nZWRXaWRnZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdyA9IGNoYW5nZWRXaWRnZXRzW2ldO1xuICAgICAgICAgICAgaWYgKCF3IHx8ICF3LmVsKSBjb250aW51ZTtcbiAgICAgICAgICAgIGlmICh3LnNlc3Npb24gIT0gdGhpcy5zZXNzaW9uKSBjb250aW51ZTtcbiAgICAgICAgICAgIGlmICghdy5faW5Eb2N1bWVudCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlc3Npb24ubGluZVdpZGdldHNbdy5yb3ddICE9IHcpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIHcuX2luRG9jdW1lbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh3LmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdy5oID0gdy5lbC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICghdy5maXhlZFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgdy53ID0gdy5lbC5vZmZzZXRXaWR0aDtcbiAgICAgICAgICAgICAgICB3LnNjcmVlbldpZHRoID0gTWF0aC5jZWlsKHcudyAvIGNvbmZpZy5jaGFyYWN0ZXJXaWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHZhciByb3dDb3VudCA9IHcuaCAvIGNvbmZpZy5saW5lSGVpZ2h0O1xuICAgICAgICAgICAgaWYgKHcuY292ZXJMaW5lKSB7XG4gICAgICAgICAgICAgICAgcm93Q291bnQgLT0gdGhpcy5zZXNzaW9uLmdldFJvd0xpbmVDb3VudCh3LnJvdyk7XG4gICAgICAgICAgICAgICAgaWYgKHJvd0NvdW50IDwgMClcbiAgICAgICAgICAgICAgICAgICAgcm93Q291bnQgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHcucm93Q291bnQgIT0gcm93Q291bnQpIHtcbiAgICAgICAgICAgICAgICB3LnJvd0NvdW50ID0gcm93Q291bnQ7XG4gICAgICAgICAgICAgICAgaWYgKHcucm93IDwgbWluKVxuICAgICAgICAgICAgICAgICAgICBtaW4gPSB3LnJvdztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobWluICE9IEluZmluaXR5KSB7XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24uX2VtaXQoXCJjaGFuZ2VGb2xkXCIsIHtkYXRhOntzdGFydDp7cm93OiBtaW59fX0pO1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLmxpbmVXaWRnZXRXaWR0aCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXNzaW9uLl9jaGFuZ2VkV2lkZ2V0cyA9IFtdO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5yZW5kZXJXaWRnZXRzID0gZnVuY3Rpb24oZSwgcmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIGNvbmZpZyA9IHJlbmRlcmVyLmxheWVyQ29uZmlnO1xuICAgICAgICB2YXIgbGluZVdpZGdldHMgPSB0aGlzLnNlc3Npb24ubGluZVdpZGdldHM7XG4gICAgICAgIGlmICghbGluZVdpZGdldHMpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciBmaXJzdCA9IE1hdGgubWluKHRoaXMuZmlyc3RSb3csIGNvbmZpZy5maXJzdFJvdyk7XG4gICAgICAgIHZhciBsYXN0ID0gTWF0aC5tYXgodGhpcy5sYXN0Um93LCBjb25maWcubGFzdFJvdywgbGluZVdpZGdldHMubGVuZ3RoKTtcbiAgICAgICAgXG4gICAgICAgIHdoaWxlIChmaXJzdCA+IDAgJiYgIWxpbmVXaWRnZXRzW2ZpcnN0XSlcbiAgICAgICAgICAgIGZpcnN0LS07XG4gICAgICAgIFxuICAgICAgICB0aGlzLmZpcnN0Um93ID0gY29uZmlnLmZpcnN0Um93O1xuICAgICAgICB0aGlzLmxhc3RSb3cgPSBjb25maWcubGFzdFJvdztcblxuICAgICAgICByZW5kZXJlci4kY3Vyc29yTGF5ZXIuY29uZmlnID0gY29uZmlnO1xuICAgICAgICBmb3IgKHZhciBpID0gZmlyc3Q7IGkgPD0gbGFzdDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdyA9IGxpbmVXaWRnZXRzW2ldO1xuICAgICAgICAgICAgaWYgKCF3IHx8ICF3LmVsKSBjb250aW51ZTtcbiAgICAgICAgICAgIGlmICh3LmhpZGRlbikge1xuICAgICAgICAgICAgICAgIHcuZWwuc3R5bGUudG9wID0gLTEwMCAtICh3LnBpeGVsSGVpZ2h0IHx8IDApICsgXCJweFwiO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF3Ll9pbkRvY3VtZW50KSB7XG4gICAgICAgICAgICAgICAgdy5faW5Eb2N1bWVudCA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuY29udGFpbmVyLmFwcGVuZENoaWxkKHcuZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHRvcCA9IHJlbmRlcmVyLiRjdXJzb3JMYXllci5nZXRQaXhlbFBvc2l0aW9uKHtyb3c6IGksIGNvbHVtbjowfSwgdHJ1ZSkudG9wO1xuICAgICAgICAgICAgaWYgKCF3LmNvdmVyTGluZSlcbiAgICAgICAgICAgICAgICB0b3AgKz0gY29uZmlnLmxpbmVIZWlnaHQgKiB0aGlzLnNlc3Npb24uZ2V0Um93TGluZUNvdW50KHcucm93KTtcbiAgICAgICAgICAgIHcuZWwuc3R5bGUudG9wID0gdG9wIC0gY29uZmlnLm9mZnNldCArIFwicHhcIjtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIGxlZnQgPSB3LmNvdmVyR3V0dGVyID8gMCA6IHJlbmRlcmVyLmd1dHRlcldpZHRoO1xuICAgICAgICAgICAgaWYgKCF3LmZpeGVkV2lkdGgpXG4gICAgICAgICAgICAgICAgbGVmdCAtPSByZW5kZXJlci5zY3JvbGxMZWZ0O1xuICAgICAgICAgICAgdy5lbC5zdHlsZS5sZWZ0ID0gbGVmdCArIFwicHhcIjtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHcuZnVsbFdpZHRoICYmIHcuc2NyZWVuV2lkdGgpIHtcbiAgICAgICAgICAgICAgICB3LmVsLnN0eWxlLm1pbldpZHRoID0gY29uZmlnLndpZHRoICsgMiAqIGNvbmZpZy5wYWRkaW5nICsgXCJweFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAody5maXhlZFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgdy5lbC5zdHlsZS5yaWdodCA9IHJlbmRlcmVyLnNjcm9sbEJhci5nZXRXaWR0aCgpICsgXCJweFwiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB3LmVsLnN0eWxlLnJpZ2h0ID0gXCJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgXG59KS5jYWxsKExpbmVXaWRnZXRzLnByb3RvdHlwZSk7XG5cblxuZXhwb3J0cy5MaW5lV2lkZ2V0cyA9IExpbmVXaWRnZXRzO1xuXG59KTtcblxuYWNlLmRlZmluZShcImFjZS9leHQvZXJyb3JfbWFya2VyXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGluZV93aWRnZXRzXCIsXCJhY2UvbGliL2RvbVwiLFwiYWNlL3JhbmdlXCJdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xudmFyIExpbmVXaWRnZXRzID0gcmVxdWlyZShcIi4uL2xpbmVfd2lkZ2V0c1wiKS5MaW5lV2lkZ2V0cztcbnZhciBkb20gPSByZXF1aXJlKFwiLi4vbGliL2RvbVwiKTtcbnZhciBSYW5nZSA9IHJlcXVpcmUoXCIuLi9yYW5nZVwiKS5SYW5nZTtcblxuZnVuY3Rpb24gYmluYXJ5U2VhcmNoKGFycmF5LCBuZWVkbGUsIGNvbXBhcmF0b3IpIHtcbiAgICB2YXIgZmlyc3QgPSAwO1xuICAgIHZhciBsYXN0ID0gYXJyYXkubGVuZ3RoIC0gMTtcblxuICAgIHdoaWxlIChmaXJzdCA8PSBsYXN0KSB7XG4gICAgICAgIHZhciBtaWQgPSAoZmlyc3QgKyBsYXN0KSA+PiAxO1xuICAgICAgICB2YXIgYyA9IGNvbXBhcmF0b3IobmVlZGxlLCBhcnJheVttaWRdKTtcbiAgICAgICAgaWYgKGMgPiAwKVxuICAgICAgICAgICAgZmlyc3QgPSBtaWQgKyAxO1xuICAgICAgICBlbHNlIGlmIChjIDwgMClcbiAgICAgICAgICAgIGxhc3QgPSBtaWQgLSAxO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gbWlkO1xuICAgIH1cbiAgICByZXR1cm4gLShmaXJzdCArIDEpO1xufVxuXG5mdW5jdGlvbiBmaW5kQW5ub3RhdGlvbnMoc2Vzc2lvbiwgcm93LCBkaXIpIHtcbiAgICB2YXIgYW5ub3RhdGlvbnMgPSBzZXNzaW9uLmdldEFubm90YXRpb25zKCkuc29ydChSYW5nZS5jb21wYXJlUG9pbnRzKTtcbiAgICBpZiAoIWFubm90YXRpb25zLmxlbmd0aClcbiAgICAgICAgcmV0dXJuO1xuICAgIFxuICAgIHZhciBpID0gYmluYXJ5U2VhcmNoKGFubm90YXRpb25zLCB7cm93OiByb3csIGNvbHVtbjogLTF9LCBSYW5nZS5jb21wYXJlUG9pbnRzKTtcbiAgICBpZiAoaSA8IDApXG4gICAgICAgIGkgPSAtaSAtIDE7XG4gICAgXG4gICAgaWYgKGkgPj0gYW5ub3RhdGlvbnMubGVuZ3RoKVxuICAgICAgICBpID0gZGlyID4gMCA/IDAgOiBhbm5vdGF0aW9ucy5sZW5ndGggLSAxO1xuICAgIGVsc2UgaWYgKGkgPT09IDAgJiYgZGlyIDwgMClcbiAgICAgICAgaSA9IGFubm90YXRpb25zLmxlbmd0aCAtIDE7XG4gICAgXG4gICAgdmFyIGFubm90YXRpb24gPSBhbm5vdGF0aW9uc1tpXTtcbiAgICBpZiAoIWFubm90YXRpb24gfHwgIWRpcilcbiAgICAgICAgcmV0dXJuO1xuXG4gICAgaWYgKGFubm90YXRpb24ucm93ID09PSByb3cpIHtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgYW5ub3RhdGlvbiA9IGFubm90YXRpb25zW2kgKz0gZGlyXTtcbiAgICAgICAgfSB3aGlsZSAoYW5ub3RhdGlvbiAmJiBhbm5vdGF0aW9uLnJvdyA9PT0gcm93KTtcbiAgICAgICAgaWYgKCFhbm5vdGF0aW9uKVxuICAgICAgICAgICAgcmV0dXJuIGFubm90YXRpb25zLnNsaWNlKCk7XG4gICAgfVxuICAgIFxuICAgIFxuICAgIHZhciBtYXRjaGVkID0gW107XG4gICAgcm93ID0gYW5ub3RhdGlvbi5yb3c7XG4gICAgZG8ge1xuICAgICAgICBtYXRjaGVkW2RpciA8IDAgPyBcInVuc2hpZnRcIiA6IFwicHVzaFwiXShhbm5vdGF0aW9uKTtcbiAgICAgICAgYW5ub3RhdGlvbiA9IGFubm90YXRpb25zW2kgKz0gZGlyXTtcbiAgICB9IHdoaWxlIChhbm5vdGF0aW9uICYmIGFubm90YXRpb24ucm93ID09IHJvdyk7XG4gICAgcmV0dXJuIG1hdGNoZWQubGVuZ3RoICYmIG1hdGNoZWQ7XG59XG5cbmV4cG9ydHMuc2hvd0Vycm9yTWFya2VyID0gZnVuY3Rpb24oZWRpdG9yLCBkaXIpIHtcbiAgICB2YXIgc2Vzc2lvbiA9IGVkaXRvci5zZXNzaW9uO1xuICAgIGlmICghc2Vzc2lvbi53aWRnZXRNYW5hZ2VyKSB7XG4gICAgICAgIHNlc3Npb24ud2lkZ2V0TWFuYWdlciA9IG5ldyBMaW5lV2lkZ2V0cyhzZXNzaW9uKTtcbiAgICAgICAgc2Vzc2lvbi53aWRnZXRNYW5hZ2VyLmF0dGFjaChlZGl0b3IpO1xuICAgIH1cbiAgICBcbiAgICB2YXIgcG9zID0gZWRpdG9yLmdldEN1cnNvclBvc2l0aW9uKCk7XG4gICAgdmFyIHJvdyA9IHBvcy5yb3c7XG4gICAgdmFyIG9sZFdpZGdldCA9IHNlc3Npb24ud2lkZ2V0TWFuYWdlci5nZXRXaWRnZXRzQXRSb3cocm93KS5maWx0ZXIoZnVuY3Rpb24odykge1xuICAgICAgICByZXR1cm4gdy50eXBlID09IFwiZXJyb3JNYXJrZXJcIjtcbiAgICB9KVswXTtcbiAgICBpZiAob2xkV2lkZ2V0KSB7XG4gICAgICAgIG9sZFdpZGdldC5kZXN0cm95KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcm93IC09IGRpcjtcbiAgICB9XG4gICAgdmFyIGFubm90YXRpb25zID0gZmluZEFubm90YXRpb25zKHNlc3Npb24sIHJvdywgZGlyKTtcbiAgICB2YXIgZ3V0dGVyQW5ubztcbiAgICBpZiAoYW5ub3RhdGlvbnMpIHtcbiAgICAgICAgdmFyIGFubm90YXRpb24gPSBhbm5vdGF0aW9uc1swXTtcbiAgICAgICAgcG9zLmNvbHVtbiA9IChhbm5vdGF0aW9uLnBvcyAmJiB0eXBlb2YgYW5ub3RhdGlvbi5jb2x1bW4gIT0gXCJudW1iZXJcIlxuICAgICAgICAgICAgPyBhbm5vdGF0aW9uLnBvcy5zY1xuICAgICAgICAgICAgOiBhbm5vdGF0aW9uLmNvbHVtbikgfHwgMDtcbiAgICAgICAgcG9zLnJvdyA9IGFubm90YXRpb24ucm93O1xuICAgICAgICBndXR0ZXJBbm5vID0gZWRpdG9yLnJlbmRlcmVyLiRndXR0ZXJMYXllci4kYW5ub3RhdGlvbnNbcG9zLnJvd107XG4gICAgfSBlbHNlIGlmIChvbGRXaWRnZXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGd1dHRlckFubm8gPSB7XG4gICAgICAgICAgICB0ZXh0OiBbXCJMb29rcyBnb29kIVwiXSxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJhY2Vfb2tcIlxuICAgICAgICB9O1xuICAgIH1cbiAgICBlZGl0b3Iuc2Vzc2lvbi51bmZvbGQocG9zLnJvdyk7XG4gICAgZWRpdG9yLnNlbGVjdGlvbi5tb3ZlVG9Qb3NpdGlvbihwb3MpO1xuICAgIFxuICAgIHZhciB3ID0ge1xuICAgICAgICByb3c6IHBvcy5yb3csIFxuICAgICAgICBmaXhlZFdpZHRoOiB0cnVlLFxuICAgICAgICBjb3Zlckd1dHRlcjogdHJ1ZSxcbiAgICAgICAgZWw6IGRvbS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgICAgICB0eXBlOiBcImVycm9yTWFya2VyXCJcbiAgICB9O1xuICAgIHZhciBlbCA9IHcuZWwuYXBwZW5kQ2hpbGQoZG9tLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO1xuICAgIHZhciBhcnJvdyA9IHcuZWwuYXBwZW5kQ2hpbGQoZG9tLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO1xuICAgIGFycm93LmNsYXNzTmFtZSA9IFwiZXJyb3Jfd2lkZ2V0X2Fycm93IFwiICsgZ3V0dGVyQW5uby5jbGFzc05hbWU7XG4gICAgXG4gICAgdmFyIGxlZnQgPSBlZGl0b3IucmVuZGVyZXIuJGN1cnNvckxheWVyXG4gICAgICAgIC5nZXRQaXhlbFBvc2l0aW9uKHBvcykubGVmdDtcbiAgICBhcnJvdy5zdHlsZS5sZWZ0ID0gbGVmdCArIGVkaXRvci5yZW5kZXJlci5ndXR0ZXJXaWR0aCAtIDUgKyBcInB4XCI7XG4gICAgXG4gICAgdy5lbC5jbGFzc05hbWUgPSBcImVycm9yX3dpZGdldF93cmFwcGVyXCI7XG4gICAgZWwuY2xhc3NOYW1lID0gXCJlcnJvcl93aWRnZXQgXCIgKyBndXR0ZXJBbm5vLmNsYXNzTmFtZTtcbiAgICBlbC5pbm5lckhUTUwgPSBndXR0ZXJBbm5vLnRleHQuam9pbihcIjxicj5cIik7XG4gICAgXG4gICAgZWwuYXBwZW5kQ2hpbGQoZG9tLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO1xuICAgIFxuICAgIHZhciBrYiA9IGZ1bmN0aW9uKF8sIGhhc2hJZCwga2V5U3RyaW5nKSB7XG4gICAgICAgIGlmIChoYXNoSWQgPT09IDAgJiYgKGtleVN0cmluZyA9PT0gXCJlc2NcIiB8fCBrZXlTdHJpbmcgPT09IFwicmV0dXJuXCIpKSB7XG4gICAgICAgICAgICB3LmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHJldHVybiB7Y29tbWFuZDogXCJudWxsXCJ9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICB3LmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGVkaXRvci4kbW91c2VIYW5kbGVyLmlzTW91c2VQcmVzc2VkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBlZGl0b3Iua2V5QmluZGluZy5yZW1vdmVLZXlib2FyZEhhbmRsZXIoa2IpO1xuICAgICAgICBzZXNzaW9uLndpZGdldE1hbmFnZXIucmVtb3ZlTGluZVdpZGdldCh3KTtcbiAgICAgICAgZWRpdG9yLm9mZihcImNoYW5nZVNlbGVjdGlvblwiLCB3LmRlc3Ryb3kpO1xuICAgICAgICBlZGl0b3Iub2ZmKFwiY2hhbmdlU2Vzc2lvblwiLCB3LmRlc3Ryb3kpO1xuICAgICAgICBlZGl0b3Iub2ZmKFwibW91c2V1cFwiLCB3LmRlc3Ryb3kpO1xuICAgICAgICBlZGl0b3Iub2ZmKFwiY2hhbmdlXCIsIHcuZGVzdHJveSk7XG4gICAgfTtcbiAgICBcbiAgICBlZGl0b3Iua2V5QmluZGluZy5hZGRLZXlib2FyZEhhbmRsZXIoa2IpO1xuICAgIGVkaXRvci5vbihcImNoYW5nZVNlbGVjdGlvblwiLCB3LmRlc3Ryb3kpO1xuICAgIGVkaXRvci5vbihcImNoYW5nZVNlc3Npb25cIiwgdy5kZXN0cm95KTtcbiAgICBlZGl0b3Iub24oXCJtb3VzZXVwXCIsIHcuZGVzdHJveSk7XG4gICAgZWRpdG9yLm9uKFwiY2hhbmdlXCIsIHcuZGVzdHJveSk7XG4gICAgXG4gICAgZWRpdG9yLnNlc3Npb24ud2lkZ2V0TWFuYWdlci5hZGRMaW5lV2lkZ2V0KHcpO1xuICAgIFxuICAgIHcuZWwub25tb3VzZWRvd24gPSBlZGl0b3IuZm9jdXMuYmluZChlZGl0b3IpO1xuICAgIFxuICAgIGVkaXRvci5yZW5kZXJlci5zY3JvbGxDdXJzb3JJbnRvVmlldyhudWxsLCAwLjUsIHtib3R0b206IHcuZWwub2Zmc2V0SGVpZ2h0fSk7XG59O1xuXG5cbmRvbS5pbXBvcnRDc3NTdHJpbmcoXCJcXFxuICAgIC5lcnJvcl93aWRnZXRfd3JhcHBlciB7XFxcbiAgICAgICAgYmFja2dyb3VuZDogaW5oZXJpdDtcXFxuICAgICAgICBjb2xvcjogaW5oZXJpdDtcXFxuICAgICAgICBib3JkZXI6bm9uZVxcXG4gICAgfVxcXG4gICAgLmVycm9yX3dpZGdldCB7XFxcbiAgICAgICAgYm9yZGVyLXRvcDogc29saWQgMnB4O1xcXG4gICAgICAgIGJvcmRlci1ib3R0b206IHNvbGlkIDJweDtcXFxuICAgICAgICBtYXJnaW46IDVweCAwO1xcXG4gICAgICAgIHBhZGRpbmc6IDEwcHggNDBweDtcXFxuICAgICAgICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7XFxcbiAgICB9XFxcbiAgICAuZXJyb3Jfd2lkZ2V0LmFjZV9lcnJvciwgLmVycm9yX3dpZGdldF9hcnJvdy5hY2VfZXJyb3J7XFxcbiAgICAgICAgYm9yZGVyLWNvbG9yOiAjZmY1YTVhXFxcbiAgICB9XFxcbiAgICAuZXJyb3Jfd2lkZ2V0LmFjZV93YXJuaW5nLCAuZXJyb3Jfd2lkZ2V0X2Fycm93LmFjZV93YXJuaW5ne1xcXG4gICAgICAgIGJvcmRlci1jb2xvcjogI0YxRDgxN1xcXG4gICAgfVxcXG4gICAgLmVycm9yX3dpZGdldC5hY2VfaW5mbywgLmVycm9yX3dpZGdldF9hcnJvdy5hY2VfaW5mb3tcXFxuICAgICAgICBib3JkZXItY29sb3I6ICM1YTVhNWFcXFxuICAgIH1cXFxuICAgIC5lcnJvcl93aWRnZXQuYWNlX29rLCAuZXJyb3Jfd2lkZ2V0X2Fycm93LmFjZV9va3tcXFxuICAgICAgICBib3JkZXItY29sb3I6ICM1YWFhNWFcXFxuICAgIH1cXFxuICAgIC5lcnJvcl93aWRnZXRfYXJyb3cge1xcXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXFxuICAgICAgICBib3JkZXI6IHNvbGlkIDVweDtcXFxuICAgICAgICBib3JkZXItdG9wLWNvbG9yOiB0cmFuc3BhcmVudCFpbXBvcnRhbnQ7XFxcbiAgICAgICAgYm9yZGVyLXJpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudCFpbXBvcnRhbnQ7XFxcbiAgICAgICAgYm9yZGVyLWxlZnQtY29sb3I6IHRyYW5zcGFyZW50IWltcG9ydGFudDtcXFxuICAgICAgICB0b3A6IC01cHg7XFxcbiAgICB9XFxcblwiLCBcImVycm9yX21hcmtlci5jc3NcIiwgZmFsc2UpO1xuXG59KTtcblxuYWNlLmRlZmluZShcImFjZS9hY2VcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvZG9tXCIsXCJhY2UvbGliL2V2ZW50XCIsXCJhY2UvcmFuZ2VcIixcImFjZS9lZGl0b3JcIixcImFjZS9lZGl0X3Nlc3Npb25cIixcImFjZS91bmRvbWFuYWdlclwiLFwiYWNlL3ZpcnR1YWxfcmVuZGVyZXJcIixcImFjZS93b3JrZXIvd29ya2VyX2NsaWVudFwiLFwiYWNlL2tleWJvYXJkL2hhc2hfaGFuZGxlclwiLFwiYWNlL3BsYWNlaG9sZGVyXCIsXCJhY2UvbXVsdGlfc2VsZWN0XCIsXCJhY2UvbW9kZS9mb2xkaW5nL2ZvbGRfbW9kZVwiLFwiYWNlL3RoZW1lL3RleHRtYXRlXCIsXCJhY2UvZXh0L2Vycm9yX21hcmtlclwiLFwiYWNlL2NvbmZpZ1wiLFwiYWNlL2xvYWRlcl9idWlsZFwiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcbnJlcXVpcmUoXCIuL2xvYWRlcl9idWlsZFwiKShleHBvcnRzKVxuXG52YXIgZG9tID0gcmVxdWlyZShcIi4vbGliL2RvbVwiKTtcbnZhciBldmVudCA9IHJlcXVpcmUoXCIuL2xpYi9ldmVudFwiKTtcblxudmFyIFJhbmdlID0gcmVxdWlyZShcIi4vcmFuZ2VcIikuUmFuZ2U7XG52YXIgRWRpdG9yID0gcmVxdWlyZShcIi4vZWRpdG9yXCIpLkVkaXRvcjtcbnZhciBFZGl0U2Vzc2lvbiA9IHJlcXVpcmUoXCIuL2VkaXRfc2Vzc2lvblwiKS5FZGl0U2Vzc2lvbjtcbnZhciBVbmRvTWFuYWdlciA9IHJlcXVpcmUoXCIuL3VuZG9tYW5hZ2VyXCIpLlVuZG9NYW5hZ2VyO1xudmFyIFJlbmRlcmVyID0gcmVxdWlyZShcIi4vdmlydHVhbF9yZW5kZXJlclwiKS5WaXJ0dWFsUmVuZGVyZXI7XG5yZXF1aXJlKFwiLi93b3JrZXIvd29ya2VyX2NsaWVudFwiKTtcbnJlcXVpcmUoXCIuL2tleWJvYXJkL2hhc2hfaGFuZGxlclwiKTtcbnJlcXVpcmUoXCIuL3BsYWNlaG9sZGVyXCIpO1xucmVxdWlyZShcIi4vbXVsdGlfc2VsZWN0XCIpO1xucmVxdWlyZShcIi4vbW9kZS9mb2xkaW5nL2ZvbGRfbW9kZVwiKTtcbnJlcXVpcmUoXCIuL3RoZW1lL3RleHRtYXRlXCIpO1xucmVxdWlyZShcIi4vZXh0L2Vycm9yX21hcmtlclwiKTtcblxuZXhwb3J0cy5jb25maWcgPSByZXF1aXJlKFwiLi9jb25maWdcIik7XG5leHBvcnRzLmVkaXQgPSBmdW5jdGlvbihlbCwgb3B0aW9ucykge1xuICAgIGlmICh0eXBlb2YgZWwgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICB2YXIgX2lkID0gZWw7XG4gICAgICAgIGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoX2lkKTtcbiAgICAgICAgaWYgKCFlbClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImFjZS5lZGl0IGNhbid0IGZpbmQgZGl2ICNcIiArIF9pZCk7XG4gICAgfVxuXG4gICAgaWYgKGVsICYmIGVsLmVudiAmJiBlbC5lbnYuZWRpdG9yIGluc3RhbmNlb2YgRWRpdG9yKVxuICAgICAgICByZXR1cm4gZWwuZW52LmVkaXRvcjtcblxuICAgIHZhciB2YWx1ZSA9IFwiXCI7XG4gICAgaWYgKGVsICYmIC9pbnB1dHx0ZXh0YXJlYS9pLnRlc3QoZWwudGFnTmFtZSkpIHtcbiAgICAgICAgdmFyIG9sZE5vZGUgPSBlbDtcbiAgICAgICAgdmFsdWUgPSBvbGROb2RlLnZhbHVlO1xuICAgICAgICBlbCA9IGRvbS5jcmVhdGVFbGVtZW50KFwicHJlXCIpO1xuICAgICAgICBvbGROb2RlLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGVsLCBvbGROb2RlKTtcbiAgICB9IGVsc2UgaWYgKGVsKSB7XG4gICAgICAgIHZhbHVlID0gZWwudGV4dENvbnRlbnQ7XG4gICAgICAgIGVsLmlubmVySFRNTCA9IFwiXCI7XG4gICAgfVxuXG4gICAgdmFyIGRvYyA9IGV4cG9ydHMuY3JlYXRlRWRpdFNlc3Npb24odmFsdWUpO1xuXG4gICAgdmFyIGVkaXRvciA9IG5ldyBFZGl0b3IobmV3IFJlbmRlcmVyKGVsKSwgZG9jLCBvcHRpb25zKTtcblxuICAgIHZhciBlbnYgPSB7XG4gICAgICAgIGRvY3VtZW50OiBkb2MsXG4gICAgICAgIGVkaXRvcjogZWRpdG9yLFxuICAgICAgICBvblJlc2l6ZTogZWRpdG9yLnJlc2l6ZS5iaW5kKGVkaXRvciwgbnVsbClcbiAgICB9O1xuICAgIGlmIChvbGROb2RlKSBlbnYudGV4dGFyZWEgPSBvbGROb2RlO1xuICAgIGV2ZW50LmFkZExpc3RlbmVyKHdpbmRvdywgXCJyZXNpemVcIiwgZW52Lm9uUmVzaXplKTtcbiAgICBlZGl0b3Iub24oXCJkZXN0cm95XCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICBldmVudC5yZW1vdmVMaXN0ZW5lcih3aW5kb3csIFwicmVzaXplXCIsIGVudi5vblJlc2l6ZSk7XG4gICAgICAgIGVudi5lZGl0b3IuY29udGFpbmVyLmVudiA9IG51bGw7IC8vIHByZXZlbnQgbWVtb3J5IGxlYWsgb24gb2xkIGllXG4gICAgfSk7XG4gICAgZWRpdG9yLmNvbnRhaW5lci5lbnYgPSBlZGl0b3IuZW52ID0gZW52O1xuICAgIHJldHVybiBlZGl0b3I7XG59O1xuZXhwb3J0cy5jcmVhdGVFZGl0U2Vzc2lvbiA9IGZ1bmN0aW9uKHRleHQsIG1vZGUpIHtcbiAgICB2YXIgZG9jID0gbmV3IEVkaXRTZXNzaW9uKHRleHQsIG1vZGUpO1xuICAgIGRvYy5zZXRVbmRvTWFuYWdlcihuZXcgVW5kb01hbmFnZXIoKSk7XG4gICAgcmV0dXJuIGRvYztcbn07XG5leHBvcnRzLlJhbmdlID0gUmFuZ2U7XG5leHBvcnRzLkVkaXRvciA9IEVkaXRvcjtcbmV4cG9ydHMuRWRpdFNlc3Npb24gPSBFZGl0U2Vzc2lvbjtcbmV4cG9ydHMuVW5kb01hbmFnZXIgPSBVbmRvTWFuYWdlcjtcbmV4cG9ydHMuVmlydHVhbFJlbmRlcmVyID0gUmVuZGVyZXI7XG5leHBvcnRzLnZlcnNpb24gPSBleHBvcnRzLmNvbmZpZy52ZXJzaW9uO1xufSk7ICAgICAgICAgICAgKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGFjZS5yZXF1aXJlKFtcImFjZS9hY2VcIl0sIGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGEuY29uZmlnLmluaXQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhLmRlZmluZSA9IGFjZS5kZWZpbmU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCF3aW5kb3cuYWNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmFjZSA9IGE7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBhKSBpZiAoYS5oYXNPd25Qcm9wZXJ0eShrZXkpKVxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmFjZVtrZXldID0gYVtrZXldO1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuYWNlW1wiZGVmYXVsdFwiXSA9IHdpbmRvdy5hY2U7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbW9kdWxlID09IFwib2JqZWN0XCIgJiYgdHlwZW9mIGV4cG9ydHMgPT0gXCJvYmplY3RcIiAmJiBtb2R1bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZS5leHBvcnRzID0gd2luZG93LmFjZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgIiwgImFjZS5kZWZpbmUoXCJhY2Uvc25pcHBldHNcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9saWIvZG9tXCIsXCJhY2UvbGliL29vcFwiLFwiYWNlL2xpYi9ldmVudF9lbWl0dGVyXCIsXCJhY2UvbGliL2xhbmdcIixcImFjZS9yYW5nZVwiLFwiYWNlL3JhbmdlX2xpc3RcIixcImFjZS9rZXlib2FyZC9oYXNoX2hhbmRsZXJcIixcImFjZS90b2tlbml6ZXJcIixcImFjZS9jbGlwYm9hcmRcIixcImFjZS9lZGl0b3JcIl0sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG52YXIgZG9tID0gcmVxdWlyZShcIi4vbGliL2RvbVwiKTtcbnZhciBvb3AgPSByZXF1aXJlKFwiLi9saWIvb29wXCIpO1xudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoXCIuL2xpYi9ldmVudF9lbWl0dGVyXCIpLkV2ZW50RW1pdHRlcjtcbnZhciBsYW5nID0gcmVxdWlyZShcIi4vbGliL2xhbmdcIik7XG52YXIgUmFuZ2UgPSByZXF1aXJlKFwiLi9yYW5nZVwiKS5SYW5nZTtcbnZhciBSYW5nZUxpc3QgPSByZXF1aXJlKFwiLi9yYW5nZV9saXN0XCIpLlJhbmdlTGlzdDtcbnZhciBIYXNoSGFuZGxlciA9IHJlcXVpcmUoXCIuL2tleWJvYXJkL2hhc2hfaGFuZGxlclwiKS5IYXNoSGFuZGxlcjtcbnZhciBUb2tlbml6ZXIgPSByZXF1aXJlKFwiLi90b2tlbml6ZXJcIikuVG9rZW5pemVyO1xudmFyIGNsaXBib2FyZCA9IHJlcXVpcmUoXCIuL2NsaXBib2FyZFwiKTtcblxudmFyIFZBUklBQkxFUyA9IHtcbiAgICBDVVJSRU5UX1dPUkQ6IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICByZXR1cm4gZWRpdG9yLnNlc3Npb24uZ2V0VGV4dFJhbmdlKGVkaXRvci5zZXNzaW9uLmdldFdvcmRSYW5nZSgpKTtcbiAgICB9LFxuICAgIFNFTEVDVElPTjogZnVuY3Rpb24oZWRpdG9yLCBuYW1lLCBpbmRlbnRhdGlvbikge1xuICAgICAgICB2YXIgdGV4dCA9IGVkaXRvci5zZXNzaW9uLmdldFRleHRSYW5nZSgpO1xuICAgICAgICBpZiAoaW5kZW50YXRpb24pXG4gICAgICAgICAgICByZXR1cm4gdGV4dC5yZXBsYWNlKC9cXG5cXHI/KFsgXFx0XSpcXFMpL2csIFwiXFxuXCIgKyBpbmRlbnRhdGlvbiArIFwiJDFcIik7XG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgIH0sXG4gICAgQ1VSUkVOVF9MSU5FOiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgcmV0dXJuIGVkaXRvci5zZXNzaW9uLmdldExpbmUoZWRpdG9yLmdldEN1cnNvclBvc2l0aW9uKCkucm93KTtcbiAgICB9LFxuICAgIFBSRVZfTElORTogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgIHJldHVybiBlZGl0b3Iuc2Vzc2lvbi5nZXRMaW5lKGVkaXRvci5nZXRDdXJzb3JQb3NpdGlvbigpLnJvdyAtIDEpO1xuICAgIH0sXG4gICAgTElORV9JTkRFWDogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgIHJldHVybiBlZGl0b3IuZ2V0Q3Vyc29yUG9zaXRpb24oKS5yb3c7XG4gICAgfSxcbiAgICBMSU5FX05VTUJFUjogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgIHJldHVybiBlZGl0b3IuZ2V0Q3Vyc29yUG9zaXRpb24oKS5yb3cgKyAxO1xuICAgIH0sXG4gICAgU09GVF9UQUJTOiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgcmV0dXJuIGVkaXRvci5zZXNzaW9uLmdldFVzZVNvZnRUYWJzKCkgPyBcIllFU1wiIDogXCJOT1wiO1xuICAgIH0sXG4gICAgVEFCX1NJWkU6IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICByZXR1cm4gZWRpdG9yLnNlc3Npb24uZ2V0VGFiU2l6ZSgpO1xuICAgIH0sXG4gICAgQ0xJUEJPQVJEOiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgcmV0dXJuIGNsaXBib2FyZC5nZXRUZXh0ICYmIGNsaXBib2FyZC5nZXRUZXh0KCk7XG4gICAgfSxcbiAgICBGSUxFTkFNRTogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgIHJldHVybiAvW14vXFxcXF0qJC8uZXhlYyh0aGlzLkZJTEVQQVRIKGVkaXRvcikpWzBdO1xuICAgIH0sXG4gICAgRklMRU5BTUVfQkFTRTogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgIHJldHVybiAvW14vXFxcXF0qJC8uZXhlYyh0aGlzLkZJTEVQQVRIKGVkaXRvcikpWzBdLnJlcGxhY2UoL1xcLlteLl0qJC8sIFwiXCIpO1xuICAgIH0sXG4gICAgRElSRUNUT1JZOiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuRklMRVBBVEgoZWRpdG9yKS5yZXBsYWNlKC9bXi9cXFxcXSokLywgXCJcIik7XG4gICAgfSxcbiAgICBGSUxFUEFUSDogZnVuY3Rpb24oZWRpdG9yKSB7IHJldHVybiBcIi9ub3QgaW1wbGVtZW50ZWQudHh0XCI7IH0sXG4gICAgV09SS1NQQUNFX05BTUU6IGZ1bmN0aW9uKCkgeyByZXR1cm4gXCJVbmtub3duXCI7IH0sXG4gICAgRlVMTE5BTUU6IGZ1bmN0aW9uKCkgeyByZXR1cm4gXCJVbmtub3duXCI7IH0sXG4gICAgQkxPQ0tfQ09NTUVOVF9TVEFSVDogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgIHZhciBtb2RlID0gZWRpdG9yLnNlc3Npb24uJG1vZGUgfHwge307XG4gICAgICAgIHJldHVybiBtb2RlLmJsb2NrQ29tbWVudCAmJiBtb2RlLmJsb2NrQ29tbWVudC5zdGFydCB8fCBcIlwiO1xuICAgIH0sXG4gICAgQkxPQ0tfQ09NTUVOVF9FTkQ6IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICB2YXIgbW9kZSA9IGVkaXRvci5zZXNzaW9uLiRtb2RlIHx8IHt9O1xuICAgICAgICByZXR1cm4gbW9kZS5ibG9ja0NvbW1lbnQgJiYgbW9kZS5ibG9ja0NvbW1lbnQuZW5kIHx8IFwiXCI7XG4gICAgfSxcbiAgICBMSU5FX0NPTU1FTlQ6IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICB2YXIgbW9kZSA9IGVkaXRvci5zZXNzaW9uLiRtb2RlIHx8IHt9O1xuICAgICAgICByZXR1cm4gbW9kZS5saW5lQ29tbWVudFN0YXJ0IHx8IFwiXCI7XG4gICAgfSxcbiAgICBDVVJSRU5UX1lFQVI6IGRhdGUuYmluZChudWxsLCB7eWVhcjogXCJudW1lcmljXCJ9KSxcbiAgICBDVVJSRU5UX1lFQVJfU0hPUlQ6IGRhdGUuYmluZChudWxsLCB7eWVhcjogXCIyLWRpZ2l0XCJ9KSxcbiAgICBDVVJSRU5UX01PTlRIOiBkYXRlLmJpbmQobnVsbCwge21vbnRoOiBcIm51bWVyaWNcIn0pLFxuICAgIENVUlJFTlRfTU9OVEhfTkFNRTogZGF0ZS5iaW5kKG51bGwsIHttb250aDogXCJsb25nXCJ9KSxcbiAgICBDVVJSRU5UX01PTlRIX05BTUVfU0hPUlQ6IGRhdGUuYmluZChudWxsLCB7bW9udGg6IFwic2hvcnRcIn0pLFxuICAgIENVUlJFTlRfREFURTogZGF0ZS5iaW5kKG51bGwsIHtkYXk6IFwiMi1kaWdpdFwifSksXG4gICAgQ1VSUkVOVF9EQVlfTkFNRTogZGF0ZS5iaW5kKG51bGwsIHt3ZWVrZGF5OiBcImxvbmdcIn0pLFxuICAgIENVUlJFTlRfREFZX05BTUVfU0hPUlQ6IGRhdGUuYmluZChudWxsLCB7d2Vla2RheTogXCJzaG9ydFwifSksXG4gICAgQ1VSUkVOVF9IT1VSOiBkYXRlLmJpbmQobnVsbCwge2hvdXI6IFwiMi1kaWdpdFwiLCBob3VyMTI6IGZhbHNlfSksXG4gICAgQ1VSUkVOVF9NSU5VVEU6IGRhdGUuYmluZChudWxsLCB7bWludXRlOiBcIjItZGlnaXRcIn0pLFxuICAgIENVUlJFTlRfU0VDT05EOiBkYXRlLmJpbmQobnVsbCwge3NlY29uZDogXCIyLWRpZ2l0XCJ9KVxufTtcblxuVkFSSUFCTEVTLlNFTEVDVEVEX1RFWFQgPSBWQVJJQUJMRVMuU0VMRUNUSU9OO1xuXG5mdW5jdGlvbiBkYXRlKGRhdGVGb3JtYXQpIHtcbiAgICB2YXIgc3RyID0gbmV3IERhdGUoKS50b0xvY2FsZVN0cmluZyhcImVuLXVzXCIsIGRhdGVGb3JtYXQpO1xuICAgIHJldHVybiBzdHIubGVuZ3RoID09IDEgPyBcIjBcIiArIHN0ciA6IHN0cjtcbn1cblxudmFyIFNuaXBwZXRNYW5hZ2VyID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5zbmlwcGV0TWFwID0ge307XG4gICAgdGhpcy5zbmlwcGV0TmFtZU1hcCA9IHt9O1xufTtcblxuKGZ1bmN0aW9uKCkge1xuICAgIG9vcC5pbXBsZW1lbnQodGhpcywgRXZlbnRFbWl0dGVyKTtcbiAgICBcbiAgICB0aGlzLmdldFRva2VuaXplciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gU25pcHBldE1hbmFnZXIuJHRva2VuaXplciB8fCB0aGlzLmNyZWF0ZVRva2VuaXplcigpO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5jcmVhdGVUb2tlbml6ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZnVuY3Rpb24gVGFic3RvcFRva2VuKHN0cikge1xuICAgICAgICAgICAgc3RyID0gc3RyLnN1YnN0cigxKTtcbiAgICAgICAgICAgIGlmICgvXlxcZCskLy50ZXN0KHN0cikpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFt7dGFic3RvcElkOiBwYXJzZUludChzdHIsIDEwKX1dO1xuICAgICAgICAgICAgcmV0dXJuIFt7dGV4dDogc3RyfV07XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gZXNjYXBlKGNoKSB7XG4gICAgICAgICAgICByZXR1cm4gXCIoPzpbXlxcXFxcXFxcXCIgKyBjaCArIFwiXXxcXFxcXFxcXC4pXCI7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZvcm1hdE1hdGNoZXIgPSB7XG4gICAgICAgICAgICByZWdleDogXCIvKFwiICsgZXNjYXBlKFwiL1wiKSArIFwiKykvXCIsIFxuICAgICAgICAgICAgb25NYXRjaDogZnVuY3Rpb24odmFsLCBzdGF0ZSwgc3RhY2spIHtcbiAgICAgICAgICAgICAgICB2YXIgdHMgPSBzdGFja1swXTtcbiAgICAgICAgICAgICAgICB0cy5mbXRTdHJpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRzLmd1YXJkID0gdmFsLnNsaWNlKDEsIC0xKTtcbiAgICAgICAgICAgICAgICB0cy5mbGFnID0gXCJcIjtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBuZXh0OiBcImZvcm1hdFN0cmluZ1wiXG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICBTbmlwcGV0TWFuYWdlci4kdG9rZW5pemVyID0gbmV3IFRva2VuaXplcih7XG4gICAgICAgICAgICBzdGFydDogW1xuICAgICAgICAgICAgICAgIHtyZWdleDogL1xcXFwuLywgb25NYXRjaDogZnVuY3Rpb24odmFsLCBzdGF0ZSwgc3RhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoID0gdmFsWzFdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2ggPT0gXCJ9XCIgJiYgc3RhY2subGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSBjaDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcImAkXFxcXFwiLmluZGV4T2YoY2gpICE9IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSBjaDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3ZhbF07XG4gICAgICAgICAgICAgICAgfX0sXG4gICAgICAgICAgICAgICAge3JlZ2V4OiAvfS8sIG9uTWF0Y2g6IGZ1bmN0aW9uKHZhbCwgc3RhdGUsIHN0YWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbc3RhY2subGVuZ3RoID8gc3RhY2suc2hpZnQoKSA6IHZhbF07XG4gICAgICAgICAgICAgICAgfX0sXG4gICAgICAgICAgICAgICAge3JlZ2V4OiAvXFwkKD86XFxkK3xcXHcrKS8sIG9uTWF0Y2g6IFRhYnN0b3BUb2tlbn0sXG4gICAgICAgICAgICAgICAge3JlZ2V4OiAvXFwkXFx7W1xcZEEtWl9hLXpdKy8sIG9uTWF0Y2g6IGZ1bmN0aW9uKHN0ciwgc3RhdGUsIHN0YWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ID0gVGFic3RvcFRva2VuKHN0ci5zdWJzdHIoMSkpO1xuICAgICAgICAgICAgICAgICAgICBzdGFjay51bnNoaWZ0KHRbMF0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgICAgICAgICB9LCBuZXh0OiBcInNuaXBwZXRWYXJcIn0sXG4gICAgICAgICAgICAgICAge3JlZ2V4OiAvXFxuLywgdG9rZW46IFwibmV3bGluZVwiLCBtZXJnZTogZmFsc2V9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgc25pcHBldFZhcjogW1xuICAgICAgICAgICAgICAgIHtyZWdleDogXCJcXFxcfFwiICsgZXNjYXBlKFwiXFxcXHxcIikgKyBcIipcXFxcfFwiLCBvbk1hdGNoOiBmdW5jdGlvbih2YWwsIHN0YXRlLCBzdGFjaykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2hvaWNlcyA9IHZhbC5zbGljZSgxLCAtMSkucmVwbGFjZSgvXFxcXFssfFxcXFxdfCwvZywgZnVuY3Rpb24ob3BlcmF0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcGVyYXRvci5sZW5ndGggPT0gMiA/IG9wZXJhdG9yWzFdIDogXCJcXHgwMFwiO1xuICAgICAgICAgICAgICAgICAgICB9KS5zcGxpdChcIlxceDAwXCIpLm1hcChmdW5jdGlvbih2YWx1ZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge3ZhbHVlOiB2YWx1ZX07XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGFja1swXS5jaG9pY2VzID0gY2hvaWNlcztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtjaG9pY2VzWzBdXTtcbiAgICAgICAgICAgICAgICB9LCBuZXh0OiBcInN0YXJ0XCJ9LFxuICAgICAgICAgICAgICAgIGZvcm1hdE1hdGNoZXIsXG4gICAgICAgICAgICAgICAge3JlZ2V4OiBcIihbXjp9XFxcXFxcXFxdfFxcXFxcXFxcLikqOj9cIiwgdG9rZW46IFwiXCIsIG5leHQ6IFwic3RhcnRcIn1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBmb3JtYXRTdHJpbmc6IFtcbiAgICAgICAgICAgICAgICB7cmVnZXg6IC86Lywgb25NYXRjaDogZnVuY3Rpb24odmFsLCBzdGF0ZSwgc3RhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YWNrLmxlbmd0aCAmJiBzdGFja1swXS5leHBlY3RFbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFja1swXS5leHBlY3RFbHNlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFja1swXS5pZkVuZCA9IHtlbHNlRW5kOiBzdGFja1swXX07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3N0YWNrWzBdLmlmRW5kXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCI6XCI7XG4gICAgICAgICAgICAgICAgfX0sXG4gICAgICAgICAgICAgICAge3JlZ2V4OiAvXFxcXC4vLCBvbk1hdGNoOiBmdW5jdGlvbih2YWwsIHN0YXRlLCBzdGFjaykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2ggPSB2YWxbMV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PSBcIn1cIiAmJiBzdGFjay5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSBjaDtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoXCJgJFxcXFxcIi5pbmRleE9mKGNoKSAhPSAtMSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IGNoO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjaCA9PSBcIm5cIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IFwiXFxuXCI7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNoID09IFwidFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0gXCJcXHRcIjtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoXCJ1bFVMRVwiLmluZGV4T2YoY2gpICE9IC0xKVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0ge2NoYW5nZUNhc2U6IGNoLCBsb2NhbDogY2ggPiBcImFcIn07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbdmFsXTtcbiAgICAgICAgICAgICAgICB9fSxcbiAgICAgICAgICAgICAgICB7cmVnZXg6IFwiL1xcXFx3Kn1cIiwgb25NYXRjaDogZnVuY3Rpb24odmFsLCBzdGF0ZSwgc3RhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5leHQgPSBzdGFjay5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dClcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQuZmxhZyA9IHZhbC5zbGljZSgxLCAtMSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dCA9IG5leHQgJiYgbmV4dC50YWJzdG9wSWQgPyBcInN0YXJ0XCIgOiBcIlwiO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW25leHQgfHwgdmFsXTtcbiAgICAgICAgICAgICAgICB9LCBuZXh0OiBcInN0YXJ0XCJ9LFxuICAgICAgICAgICAgICAgIHtyZWdleDogL1xcJCg/OlxcZCt8XFx3KykvLCBvbk1hdGNoOiBmdW5jdGlvbih2YWwsIHN0YXRlLCBzdGFjaykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3t0ZXh0OiB2YWwuc2xpY2UoMSl9XTtcbiAgICAgICAgICAgICAgICB9fSxcbiAgICAgICAgICAgICAgICB7cmVnZXg6IC9cXCR7XFx3Ky8sIG9uTWF0Y2g6IGZ1bmN0aW9uKHZhbCwgc3RhdGUsIHN0YWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0b2tlbiA9IHt0ZXh0OiB2YWwuc2xpY2UoMil9O1xuICAgICAgICAgICAgICAgICAgICBzdGFjay51bnNoaWZ0KHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFt0b2tlbl07XG4gICAgICAgICAgICAgICAgfSwgbmV4dDogXCJmb3JtYXRTdHJpbmdWYXJcIn0sXG4gICAgICAgICAgICAgICAge3JlZ2V4OiAvXFxuLywgdG9rZW46IFwibmV3bGluZVwiLCBtZXJnZTogZmFsc2V9LFxuICAgICAgICAgICAgICAgIHtyZWdleDogL30vLCBvbk1hdGNoOiBmdW5jdGlvbih2YWwsIHN0YXRlLCBzdGFjaykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dCA9IHN0YWNrLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dCA9IG5leHQgJiYgbmV4dC50YWJzdG9wSWQgPyBcInN0YXJ0XCIgOiBcIlwiO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW25leHQgfHwgdmFsXTtcbiAgICAgICAgICAgICAgICB9LCBuZXh0OiBcInN0YXJ0XCJ9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgZm9ybWF0U3RyaW5nVmFyOiBbXG4gICAgICAgICAgICAgICAge3JlZ2V4OiAvOlxcL1xcdyt9Lywgb25NYXRjaDogZnVuY3Rpb24odmFsLCBzdGF0ZSwgc3RhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRzID0gc3RhY2tbMF07XG4gICAgICAgICAgICAgICAgICAgIHRzLmZvcm1hdEZ1bmN0aW9uID0gdmFsLnNsaWNlKDIsIC0xKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtzdGFjay5zaGlmdCgpXTtcbiAgICAgICAgICAgICAgICB9LCBuZXh0OiBcImZvcm1hdFN0cmluZ1wifSxcbiAgICAgICAgICAgICAgICBmb3JtYXRNYXRjaGVyLFxuICAgICAgICAgICAgICAgIHtyZWdleDogLzpbXFw/XFwtK10/Lywgb25NYXRjaDogZnVuY3Rpb24odmFsLCBzdGF0ZSwgc3RhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbFsxXSA9PSBcIitcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrWzBdLmlmRW5kID0gc3RhY2tbMF07XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxbMV0gPT0gXCI/XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFja1swXS5leHBlY3RFbHNlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9LCBuZXh0OiBcImZvcm1hdFN0cmluZ1wifSxcbiAgICAgICAgICAgICAgICB7cmVnZXg6IFwiKFteOn1cXFxcXFxcXF18XFxcXFxcXFwuKSo6P1wiLCB0b2tlbjogXCJcIiwgbmV4dDogXCJmb3JtYXRTdHJpbmdcIn1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBTbmlwcGV0TWFuYWdlci4kdG9rZW5pemVyO1xuICAgIH07XG5cbiAgICB0aGlzLnRva2VuaXplVG1TbmlwcGV0ID0gZnVuY3Rpb24oc3RyLCBzdGFydFN0YXRlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFRva2VuaXplcigpLmdldExpbmVUb2tlbnMoc3RyLCBzdGFydFN0YXRlKS50b2tlbnMubWFwKGZ1bmN0aW9uKHgpIHtcbiAgICAgICAgICAgIHJldHVybiB4LnZhbHVlIHx8IHg7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5nZXRWYXJpYWJsZVZhbHVlID0gZnVuY3Rpb24oZWRpdG9yLCBuYW1lLCBpbmRlbnRhdGlvbikge1xuICAgICAgICBpZiAoL15cXGQrJC8udGVzdChuYW1lKSlcbiAgICAgICAgICAgIHJldHVybiAodGhpcy52YXJpYWJsZXMuX18gfHwge30pW25hbWVdIHx8IFwiXCI7XG4gICAgICAgIGlmICgvXltBLVpdXFxkKyQvLnRlc3QobmFtZSkpXG4gICAgICAgICAgICByZXR1cm4gKHRoaXMudmFyaWFibGVzW25hbWVbMF0gKyBcIl9fXCJdIHx8IHt9KVtuYW1lLnN1YnN0cigxKV0gfHwgXCJcIjtcbiAgICAgICAgXG4gICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoL15UTV8vLCBcIlwiKTtcbiAgICAgICAgaWYgKCF0aGlzLnZhcmlhYmxlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSlcbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnZhcmlhYmxlc1tuYW1lXTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgICB2YWx1ZSA9IHRoaXMudmFyaWFibGVzW25hbWVdKGVkaXRvciwgbmFtZSwgaW5kZW50YXRpb24pO1xuICAgICAgICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/IFwiXCIgOiB2YWx1ZTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMudmFyaWFibGVzID0gVkFSSUFCTEVTO1xuICAgIHRoaXMudG1TdHJGb3JtYXQgPSBmdW5jdGlvbihzdHIsIGNoLCBlZGl0b3IpIHtcbiAgICAgICAgaWYgKCFjaC5mbXQpIHJldHVybiBzdHI7XG4gICAgICAgIHZhciBmbGFnID0gY2guZmxhZyB8fCBcIlwiO1xuICAgICAgICB2YXIgcmUgPSBjaC5ndWFyZDtcbiAgICAgICAgcmUgPSBuZXcgUmVnRXhwKHJlLCBmbGFnLnJlcGxhY2UoL1teZ2ltXS9nLCBcIlwiKSk7XG4gICAgICAgIHZhciBmbXRUb2tlbnMgPSB0eXBlb2YgY2guZm10ID09IFwic3RyaW5nXCIgPyB0aGlzLnRva2VuaXplVG1TbmlwcGV0KGNoLmZtdCwgXCJmb3JtYXRTdHJpbmdcIikgOiBjaC5mbXQ7XG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBmb3JtYXR0ZWQgPSBzdHIucmVwbGFjZShyZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgb2xkQXJncyA9IF9zZWxmLnZhcmlhYmxlcy5fXztcbiAgICAgICAgICAgIF9zZWxmLnZhcmlhYmxlcy5fXyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICAgICAgICAgIHZhciBmbXRQYXJ0cyA9IF9zZWxmLnJlc29sdmVWYXJpYWJsZXMoZm10VG9rZW5zLCBlZGl0b3IpO1xuICAgICAgICAgICAgdmFyIGdDaGFuZ2VDYXNlID0gXCJFXCI7XG4gICAgICAgICAgICBmb3IgKHZhciBpICA9IDA7IGkgPCBmbXRQYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBjaCA9IGZtdFBhcnRzW2ldO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2ggPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgICAgICBmbXRQYXJ0c1tpXSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaC5jaGFuZ2VDYXNlICYmIGNoLmxvY2FsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dCA9IGZtdFBhcnRzW2kgKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0ICYmIHR5cGVvZiBuZXh0ID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2guY2hhbmdlQ2FzZSA9PSBcInVcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm10UGFydHNbaV0gPSBuZXh0WzBdLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbXRQYXJ0c1tpXSA9IG5leHRbMF0udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbXRQYXJ0c1tpICsgMV0gPSBuZXh0LnN1YnN0cigxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaC5jaGFuZ2VDYXNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnQ2hhbmdlQ2FzZSA9IGNoLmNoYW5nZUNhc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGdDaGFuZ2VDYXNlID09IFwiVVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGZtdFBhcnRzW2ldID0gY2gudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGdDaGFuZ2VDYXNlID09IFwiTFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGZtdFBhcnRzW2ldID0gY2gudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfc2VsZi52YXJpYWJsZXMuX18gPSBvbGRBcmdzO1xuICAgICAgICAgICAgcmV0dXJuIGZtdFBhcnRzLmpvaW4oXCJcIik7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZm9ybWF0dGVkO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy50bUZvcm1hdEZ1bmN0aW9uID0gZnVuY3Rpb24oc3RyLCBjaCwgZWRpdG9yKSB7XG4gICAgICAgIGlmIChjaC5mb3JtYXRGdW5jdGlvbiA9PSBcInVwY2FzZVwiKVxuICAgICAgICAgICAgcmV0dXJuIHN0ci50b1VwcGVyQ2FzZSgpO1xuICAgICAgICBpZiAoY2guZm9ybWF0RnVuY3Rpb24gPT0gXCJkb3duY2FzZVwiKVxuICAgICAgICAgICAgcmV0dXJuIHN0ci50b0xvd2VyQ2FzZSgpO1xuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH07XG5cbiAgICB0aGlzLnJlc29sdmVWYXJpYWJsZXMgPSBmdW5jdGlvbihzbmlwcGV0LCBlZGl0b3IpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgICB2YXIgaW5kZW50YXRpb24gPSBcIlwiO1xuICAgICAgICB2YXIgYWZ0ZXJOZXdMaW5lID0gdHJ1ZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzbmlwcGV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2ggPSBzbmlwcGV0W2ldO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjaCA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY2gpO1xuICAgICAgICAgICAgICAgIGlmIChjaCA9PSBcIlxcblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGFmdGVyTmV3TGluZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGluZGVudGF0aW9uID0gXCJcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYWZ0ZXJOZXdMaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgIGluZGVudGF0aW9uID0gL15cXHQqLy5leGVjKGNoKVswXTtcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXJOZXdMaW5lID0gL1xcUy8udGVzdChjaCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFjaCkgIGNvbnRpbnVlO1xuICAgICAgICAgICAgYWZ0ZXJOZXdMaW5lID0gZmFsc2U7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChjaC5mbXRTdHJpbmcpIHtcbiAgICAgICAgICAgICAgICB2YXIgaiA9IHNuaXBwZXQuaW5kZXhPZihjaCwgaSArIDEpO1xuICAgICAgICAgICAgICAgIGlmIChqID09IC0xKSBqID0gc25pcHBldC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgY2guZm10ID0gc25pcHBldC5zbGljZShpICsgMSwgaik7XG4gICAgICAgICAgICAgICAgaSA9IGo7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChjaC50ZXh0KSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5nZXRWYXJpYWJsZVZhbHVlKGVkaXRvciwgY2gudGV4dCwgaW5kZW50YXRpb24pICsgXCJcIjtcbiAgICAgICAgICAgICAgICBpZiAoY2guZm10U3RyaW5nKVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHRoaXMudG1TdHJGb3JtYXQodmFsdWUsIGNoLCBlZGl0b3IpO1xuICAgICAgICAgICAgICAgIGlmIChjaC5mb3JtYXRGdW5jdGlvbilcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLnRtRm9ybWF0RnVuY3Rpb24odmFsdWUsIGNoLCBlZGl0b3IpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAmJiAhY2guaWZFbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBnb3RvTmV4dChjaCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghdmFsdWUgJiYgY2guaWZFbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgZ290b05leHQoY2guaWZFbmQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2guZWxzZUVuZCkge1xuICAgICAgICAgICAgICAgIGdvdG9OZXh0KGNoLmVsc2VFbmQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjaC50YWJzdG9wSWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGNoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2guY2hhbmdlQ2FzZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGdvdG9OZXh0KGNoKSB7XG4gICAgICAgICAgICB2YXIgaTEgPSBzbmlwcGV0LmluZGV4T2YoY2gsIGkgKyAxKTtcbiAgICAgICAgICAgIGlmIChpMSAhPSAtMSlcbiAgICAgICAgICAgICAgICBpID0gaTE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gICAgdGhpcy5pbnNlcnRTbmlwcGV0Rm9yU2VsZWN0aW9uID0gZnVuY3Rpb24oZWRpdG9yLCBzbmlwcGV0VGV4dCkge1xuICAgICAgICB2YXIgY3Vyc29yID0gZWRpdG9yLmdldEN1cnNvclBvc2l0aW9uKCk7XG4gICAgICAgIHZhciBsaW5lID0gZWRpdG9yLnNlc3Npb24uZ2V0TGluZShjdXJzb3Iucm93KTtcbiAgICAgICAgdmFyIHRhYlN0cmluZyA9IGVkaXRvci5zZXNzaW9uLmdldFRhYlN0cmluZygpO1xuICAgICAgICB2YXIgaW5kZW50U3RyaW5nID0gbGluZS5tYXRjaCgvXlxccyovKVswXTtcbiAgICAgICAgXG4gICAgICAgIGlmIChjdXJzb3IuY29sdW1uIDwgaW5kZW50U3RyaW5nLmxlbmd0aClcbiAgICAgICAgICAgIGluZGVudFN0cmluZyA9IGluZGVudFN0cmluZy5zbGljZSgwLCBjdXJzb3IuY29sdW1uKTtcblxuICAgICAgICBzbmlwcGV0VGV4dCA9IHNuaXBwZXRUZXh0LnJlcGxhY2UoL1xcci9nLCBcIlwiKTtcbiAgICAgICAgdmFyIHRva2VucyA9IHRoaXMudG9rZW5pemVUbVNuaXBwZXQoc25pcHBldFRleHQpO1xuICAgICAgICB0b2tlbnMgPSB0aGlzLnJlc29sdmVWYXJpYWJsZXModG9rZW5zLCBlZGl0b3IpO1xuICAgICAgICB0b2tlbnMgPSB0b2tlbnMubWFwKGZ1bmN0aW9uKHgpIHtcbiAgICAgICAgICAgIGlmICh4ID09IFwiXFxuXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHggKyBpbmRlbnRTdHJpbmc7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHggPT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgICAgICByZXR1cm4geC5yZXBsYWNlKC9cXHQvZywgdGFiU3RyaW5nKTtcbiAgICAgICAgICAgIHJldHVybiB4O1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHRhYnN0b3BzID0gW107XG4gICAgICAgIHRva2Vucy5mb3JFYWNoKGZ1bmN0aW9uKHAsIGkpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcCAhPSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHZhciBpZCA9IHAudGFic3RvcElkO1xuICAgICAgICAgICAgdmFyIHRzID0gdGFic3RvcHNbaWRdO1xuICAgICAgICAgICAgaWYgKCF0cykge1xuICAgICAgICAgICAgICAgIHRzID0gdGFic3RvcHNbaWRdID0gW107XG4gICAgICAgICAgICAgICAgdHMuaW5kZXggPSBpZDtcbiAgICAgICAgICAgICAgICB0cy52YWx1ZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgdHMucGFyZW50cyA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRzLmluZGV4T2YocCkgIT09IC0xKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGlmIChwLmNob2ljZXMgJiYgIXRzLmNob2ljZXMpXG4gICAgICAgICAgICAgICAgdHMuY2hvaWNlcyA9IHAuY2hvaWNlcztcbiAgICAgICAgICAgIHRzLnB1c2gocCk7XG4gICAgICAgICAgICB2YXIgaTEgPSB0b2tlbnMuaW5kZXhPZihwLCBpICsgMSk7XG4gICAgICAgICAgICBpZiAoaTEgPT09IC0xKVxuICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgdmFyIHZhbHVlID0gdG9rZW5zLnNsaWNlKGkgKyAxLCBpMSk7XG4gICAgICAgICAgICB2YXIgaXNOZXN0ZWQgPSB2YWx1ZS5zb21lKGZ1bmN0aW9uKHQpIHtyZXR1cm4gdHlwZW9mIHQgPT09IFwib2JqZWN0XCI7fSk7XG4gICAgICAgICAgICBpZiAoaXNOZXN0ZWQgJiYgIXRzLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdHMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUubGVuZ3RoICYmICghdHMudmFsdWUgfHwgdHlwZW9mIHRzLnZhbHVlICE9PSBcInN0cmluZ1wiKSkge1xuICAgICAgICAgICAgICAgIHRzLnZhbHVlID0gdmFsdWUuam9pbihcIlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRhYnN0b3BzLmZvckVhY2goZnVuY3Rpb24odHMpIHt0cy5sZW5ndGggPSAwO30pO1xuICAgICAgICB2YXIgZXhwYW5kaW5nID0ge307XG4gICAgICAgIGZ1bmN0aW9uIGNvcHlWYWx1ZSh2YWwpIHtcbiAgICAgICAgICAgIHZhciBjb3B5ID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBwID0gdmFsW2ldO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcCA9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChleHBhbmRpbmdbcC50YWJzdG9wSWRdKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBqID0gdmFsLmxhc3RJbmRleE9mKHAsIGkgLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgcCA9IGNvcHlbal0gfHwge3RhYnN0b3BJZDogcC50YWJzdG9wSWR9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb3B5W2ldID0gcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb3B5O1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcCA9IHRva2Vuc1tpXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcCAhPSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgdmFyIGlkID0gcC50YWJzdG9wSWQ7XG4gICAgICAgICAgICB2YXIgdHMgPSB0YWJzdG9wc1tpZF07XG4gICAgICAgICAgICB2YXIgaTEgPSB0b2tlbnMuaW5kZXhPZihwLCBpICsgMSk7XG4gICAgICAgICAgICBpZiAoZXhwYW5kaW5nW2lkXSkge1xuICAgICAgICAgICAgICAgIGlmIChleHBhbmRpbmdbaWRdID09PSBwKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBleHBhbmRpbmdbaWRdO1xuICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhleHBhbmRpbmcpLmZvckVhY2goZnVuY3Rpb24ocGFyZW50SWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRzLnBhcmVudHNbcGFyZW50SWRdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZXhwYW5kaW5nW2lkXSA9IHA7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB0cy52YWx1ZTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBjb3B5VmFsdWUodmFsdWUpO1xuICAgICAgICAgICAgZWxzZSBpZiAocC5mbXQpXG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLnRtU3RyRm9ybWF0KHZhbHVlLCBwLCBlZGl0b3IpO1xuICAgICAgICAgICAgdG9rZW5zLnNwbGljZS5hcHBseSh0b2tlbnMsIFtpICsgMSwgTWF0aC5tYXgoMCwgaTEgLSBpKV0uY29uY2F0KHZhbHVlLCBwKSk7XG5cbiAgICAgICAgICAgIGlmICh0cy5pbmRleE9mKHApID09PSAtMSlcbiAgICAgICAgICAgICAgICB0cy5wdXNoKHApO1xuICAgICAgICB9XG4gICAgICAgIHZhciByb3cgPSAwLCBjb2x1bW4gPSAwO1xuICAgICAgICB2YXIgdGV4dCA9IFwiXCI7XG4gICAgICAgIHRva2Vucy5mb3JFYWNoKGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHZhciBsaW5lcyA9IHQuc3BsaXQoXCJcXG5cIik7XG4gICAgICAgICAgICAgICAgaWYgKGxpbmVzLmxlbmd0aCA+IDEpe1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW4gPSBsaW5lc1tsaW5lcy5sZW5ndGggLSAxXS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIHJvdyArPSBsaW5lcy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICAgICAgICBjb2x1bW4gKz0gdC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgdGV4dCArPSB0O1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0KSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0LnN0YXJ0KVxuICAgICAgICAgICAgICAgICAgICB0LnN0YXJ0ID0ge3Jvdzogcm93LCBjb2x1bW46IGNvbHVtbn07XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB0LmVuZCA9IHtyb3c6IHJvdywgY29sdW1uOiBjb2x1bW59O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHJhbmdlID0gZWRpdG9yLmdldFNlbGVjdGlvblJhbmdlKCk7XG4gICAgICAgIHZhciBlbmQgPSBlZGl0b3Iuc2Vzc2lvbi5yZXBsYWNlKHJhbmdlLCB0ZXh0KTtcblxuICAgICAgICB2YXIgdGFic3RvcE1hbmFnZXIgPSBuZXcgVGFic3RvcE1hbmFnZXIoZWRpdG9yKTtcbiAgICAgICAgdmFyIHNlbGVjdGlvbklkID0gZWRpdG9yLmluVmlydHVhbFNlbGVjdGlvbk1vZGUgJiYgZWRpdG9yLnNlbGVjdGlvbi5pbmRleDtcbiAgICAgICAgdGFic3RvcE1hbmFnZXIuYWRkVGFic3RvcHModGFic3RvcHMsIHJhbmdlLnN0YXJ0LCBlbmQsIHNlbGVjdGlvbklkKTtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuaW5zZXJ0U25pcHBldCA9IGZ1bmN0aW9uKGVkaXRvciwgc25pcHBldFRleHQpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBpZiAoZWRpdG9yLmluVmlydHVhbFNlbGVjdGlvbk1vZGUpXG4gICAgICAgICAgICByZXR1cm4gc2VsZi5pbnNlcnRTbmlwcGV0Rm9yU2VsZWN0aW9uKGVkaXRvciwgc25pcHBldFRleHQpO1xuICAgICAgICBcbiAgICAgICAgZWRpdG9yLmZvckVhY2hTZWxlY3Rpb24oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLmluc2VydFNuaXBwZXRGb3JTZWxlY3Rpb24oZWRpdG9yLCBzbmlwcGV0VGV4dCk7XG4gICAgICAgIH0sIG51bGwsIHtrZWVwT3JkZXI6IHRydWV9KTtcbiAgICAgICAgXG4gICAgICAgIGlmIChlZGl0b3IudGFic3RvcE1hbmFnZXIpXG4gICAgICAgICAgICBlZGl0b3IudGFic3RvcE1hbmFnZXIudGFiTmV4dCgpO1xuICAgIH07XG5cbiAgICB0aGlzLiRnZXRTY29wZSA9IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICB2YXIgc2NvcGUgPSBlZGl0b3Iuc2Vzc2lvbi4kbW9kZS4kaWQgfHwgXCJcIjtcbiAgICAgICAgc2NvcGUgPSBzY29wZS5zcGxpdChcIi9cIikucG9wKCk7XG4gICAgICAgIGlmIChzY29wZSA9PT0gXCJodG1sXCIgfHwgc2NvcGUgPT09IFwicGhwXCIpIHtcbiAgICAgICAgICAgIGlmIChzY29wZSA9PT0gXCJwaHBcIiAmJiAhZWRpdG9yLnNlc3Npb24uJG1vZGUuaW5saW5lUGhwKSBcbiAgICAgICAgICAgICAgICBzY29wZSA9IFwiaHRtbFwiO1xuICAgICAgICAgICAgdmFyIGMgPSBlZGl0b3IuZ2V0Q3Vyc29yUG9zaXRpb24oKTtcbiAgICAgICAgICAgIHZhciBzdGF0ZSA9IGVkaXRvci5zZXNzaW9uLmdldFN0YXRlKGMucm93KTtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IHN0YXRlWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN0YXRlLnN1YnN0cmluZykge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5zdWJzdHJpbmcoMCwgMykgPT0gXCJqcy1cIilcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUgPSBcImphdmFzY3JpcHRcIjtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5zdWJzdHJpbmcoMCwgNCkgPT0gXCJjc3MtXCIpXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlID0gXCJjc3NcIjtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5zdWJzdHJpbmcoMCwgNCkgPT0gXCJwaHAtXCIpXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlID0gXCJwaHBcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHNjb3BlO1xuICAgIH07XG5cbiAgICB0aGlzLmdldEFjdGl2ZVNjb3BlcyA9IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICB2YXIgc2NvcGUgPSB0aGlzLiRnZXRTY29wZShlZGl0b3IpO1xuICAgICAgICB2YXIgc2NvcGVzID0gW3Njb3BlXTtcbiAgICAgICAgdmFyIHNuaXBwZXRNYXAgPSB0aGlzLnNuaXBwZXRNYXA7XG4gICAgICAgIGlmIChzbmlwcGV0TWFwW3Njb3BlXSAmJiBzbmlwcGV0TWFwW3Njb3BlXS5pbmNsdWRlU2NvcGVzKSB7XG4gICAgICAgICAgICBzY29wZXMucHVzaC5hcHBseShzY29wZXMsIHNuaXBwZXRNYXBbc2NvcGVdLmluY2x1ZGVTY29wZXMpO1xuICAgICAgICB9XG4gICAgICAgIHNjb3Blcy5wdXNoKFwiX1wiKTtcbiAgICAgICAgcmV0dXJuIHNjb3BlcztcbiAgICB9O1xuXG4gICAgdGhpcy5leHBhbmRXaXRoVGFiID0gZnVuY3Rpb24oZWRpdG9yLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIHJlc3VsdCA9IGVkaXRvci5mb3JFYWNoU2VsZWN0aW9uKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHNlbGYuZXhwYW5kU25pcHBldEZvclNlbGVjdGlvbihlZGl0b3IsIG9wdGlvbnMpO1xuICAgICAgICB9LCBudWxsLCB7a2VlcE9yZGVyOiB0cnVlfSk7XG4gICAgICAgIGlmIChyZXN1bHQgJiYgZWRpdG9yLnRhYnN0b3BNYW5hZ2VyKVxuICAgICAgICAgICAgZWRpdG9yLnRhYnN0b3BNYW5hZ2VyLnRhYk5leHQoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuZXhwYW5kU25pcHBldEZvclNlbGVjdGlvbiA9IGZ1bmN0aW9uKGVkaXRvciwgb3B0aW9ucykge1xuICAgICAgICB2YXIgY3Vyc29yID0gZWRpdG9yLmdldEN1cnNvclBvc2l0aW9uKCk7XG4gICAgICAgIHZhciBsaW5lID0gZWRpdG9yLnNlc3Npb24uZ2V0TGluZShjdXJzb3Iucm93KTtcbiAgICAgICAgdmFyIGJlZm9yZSA9IGxpbmUuc3Vic3RyaW5nKDAsIGN1cnNvci5jb2x1bW4pO1xuICAgICAgICB2YXIgYWZ0ZXIgPSBsaW5lLnN1YnN0cihjdXJzb3IuY29sdW1uKTtcblxuICAgICAgICB2YXIgc25pcHBldE1hcCA9IHRoaXMuc25pcHBldE1hcDtcbiAgICAgICAgdmFyIHNuaXBwZXQ7XG4gICAgICAgIHRoaXMuZ2V0QWN0aXZlU2NvcGVzKGVkaXRvcikuc29tZShmdW5jdGlvbihzY29wZSkge1xuICAgICAgICAgICAgdmFyIHNuaXBwZXRzID0gc25pcHBldE1hcFtzY29wZV07XG4gICAgICAgICAgICBpZiAoc25pcHBldHMpXG4gICAgICAgICAgICAgICAgc25pcHBldCA9IHRoaXMuZmluZE1hdGNoaW5nU25pcHBldChzbmlwcGV0cywgYmVmb3JlLCBhZnRlcik7XG4gICAgICAgICAgICByZXR1cm4gISFzbmlwcGV0O1xuICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgaWYgKCFzbmlwcGV0KVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmRyeVJ1bilcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBlZGl0b3Iuc2Vzc2lvbi5kb2MucmVtb3ZlSW5MaW5lKGN1cnNvci5yb3csXG4gICAgICAgICAgICBjdXJzb3IuY29sdW1uIC0gc25pcHBldC5yZXBsYWNlQmVmb3JlLmxlbmd0aCxcbiAgICAgICAgICAgIGN1cnNvci5jb2x1bW4gKyBzbmlwcGV0LnJlcGxhY2VBZnRlci5sZW5ndGhcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLnZhcmlhYmxlcy5NX18gPSBzbmlwcGV0Lm1hdGNoQmVmb3JlO1xuICAgICAgICB0aGlzLnZhcmlhYmxlcy5UX18gPSBzbmlwcGV0Lm1hdGNoQWZ0ZXI7XG4gICAgICAgIHRoaXMuaW5zZXJ0U25pcHBldEZvclNlbGVjdGlvbihlZGl0b3IsIHNuaXBwZXQuY29udGVudCk7XG5cbiAgICAgICAgdGhpcy52YXJpYWJsZXMuTV9fID0gdGhpcy52YXJpYWJsZXMuVF9fID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIHRoaXMuZmluZE1hdGNoaW5nU25pcHBldCA9IGZ1bmN0aW9uKHNuaXBwZXRMaXN0LCBiZWZvcmUsIGFmdGVyKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSBzbmlwcGV0TGlzdC5sZW5ndGg7IGktLTspIHtcbiAgICAgICAgICAgIHZhciBzID0gc25pcHBldExpc3RbaV07XG4gICAgICAgICAgICBpZiAocy5zdGFydFJlICYmICFzLnN0YXJ0UmUudGVzdChiZWZvcmUpKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKHMuZW5kUmUgJiYgIXMuZW5kUmUudGVzdChhZnRlcikpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBpZiAoIXMuc3RhcnRSZSAmJiAhcy5lbmRSZSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgcy5tYXRjaEJlZm9yZSA9IHMuc3RhcnRSZSA/IHMuc3RhcnRSZS5leGVjKGJlZm9yZSkgOiBbXCJcIl07XG4gICAgICAgICAgICBzLm1hdGNoQWZ0ZXIgPSBzLmVuZFJlID8gcy5lbmRSZS5leGVjKGFmdGVyKSA6IFtcIlwiXTtcbiAgICAgICAgICAgIHMucmVwbGFjZUJlZm9yZSA9IHMudHJpZ2dlclJlID8gcy50cmlnZ2VyUmUuZXhlYyhiZWZvcmUpWzBdIDogXCJcIjtcbiAgICAgICAgICAgIHMucmVwbGFjZUFmdGVyID0gcy5lbmRUcmlnZ2VyUmUgPyBzLmVuZFRyaWdnZXJSZS5leGVjKGFmdGVyKVswXSA6IFwiXCI7XG4gICAgICAgICAgICByZXR1cm4gcztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLnNuaXBwZXRNYXAgPSB7fTtcbiAgICB0aGlzLnNuaXBwZXROYW1lTWFwID0ge307XG4gICAgdGhpcy5yZWdpc3RlciA9IGZ1bmN0aW9uKHNuaXBwZXRzLCBzY29wZSkge1xuICAgICAgICB2YXIgc25pcHBldE1hcCA9IHRoaXMuc25pcHBldE1hcDtcbiAgICAgICAgdmFyIHNuaXBwZXROYW1lTWFwID0gdGhpcy5zbmlwcGV0TmFtZU1hcDtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFzbmlwcGV0cykgXG4gICAgICAgICAgICBzbmlwcGV0cyA9IFtdO1xuICAgICAgICBcbiAgICAgICAgZnVuY3Rpb24gd3JhcFJlZ2V4cChzcmMpIHtcbiAgICAgICAgICAgIGlmIChzcmMgJiYgIS9eXFxeP1xcKC4qXFwpXFwkPyR8XlxcXFxiJC8udGVzdChzcmMpKVxuICAgICAgICAgICAgICAgIHNyYyA9IFwiKD86XCIgKyBzcmMgKyBcIilcIjtcblxuICAgICAgICAgICAgcmV0dXJuIHNyYyB8fCBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGd1YXJkZWRSZWdleHAocmUsIGd1YXJkLCBvcGVuaW5nKSB7XG4gICAgICAgICAgICByZSA9IHdyYXBSZWdleHAocmUpO1xuICAgICAgICAgICAgZ3VhcmQgPSB3cmFwUmVnZXhwKGd1YXJkKTtcbiAgICAgICAgICAgIGlmIChvcGVuaW5nKSB7XG4gICAgICAgICAgICAgICAgcmUgPSBndWFyZCArIHJlO1xuICAgICAgICAgICAgICAgIGlmIChyZSAmJiByZVtyZS5sZW5ndGggLSAxXSAhPSBcIiRcIilcbiAgICAgICAgICAgICAgICAgICAgcmUgPSByZSArIFwiJFwiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZSA9IHJlICsgZ3VhcmQ7XG4gICAgICAgICAgICAgICAgaWYgKHJlICYmIHJlWzBdICE9IFwiXlwiKVxuICAgICAgICAgICAgICAgICAgICByZSA9IFwiXlwiICsgcmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChyZSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBhZGRTbmlwcGV0KHMpIHtcbiAgICAgICAgICAgIGlmICghcy5zY29wZSlcbiAgICAgICAgICAgICAgICBzLnNjb3BlID0gc2NvcGUgfHwgXCJfXCI7XG4gICAgICAgICAgICBzY29wZSA9IHMuc2NvcGU7XG4gICAgICAgICAgICBpZiAoIXNuaXBwZXRNYXBbc2NvcGVdKSB7XG4gICAgICAgICAgICAgICAgc25pcHBldE1hcFtzY29wZV0gPSBbXTtcbiAgICAgICAgICAgICAgICBzbmlwcGV0TmFtZU1hcFtzY29wZV0gPSB7fTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIG1hcCA9IHNuaXBwZXROYW1lTWFwW3Njb3BlXTtcbiAgICAgICAgICAgIGlmIChzLm5hbWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgb2xkID0gbWFwW3MubmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKG9sZClcbiAgICAgICAgICAgICAgICAgICAgc2VsZi51bnJlZ2lzdGVyKG9sZCk7XG4gICAgICAgICAgICAgICAgbWFwW3MubmFtZV0gPSBzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc25pcHBldE1hcFtzY29wZV0ucHVzaChzKTtcblxuICAgICAgICAgICAgaWYgKHMucHJlZml4KVxuICAgICAgICAgICAgICAgIHMudGFiVHJpZ2dlciA9IHMucHJlZml4O1xuXG4gICAgICAgICAgICBpZiAoIXMuY29udGVudCAmJiBzLmJvZHkpXG4gICAgICAgICAgICAgICAgcy5jb250ZW50ID0gQXJyYXkuaXNBcnJheShzLmJvZHkpID8gcy5ib2R5LmpvaW4oXCJcXG5cIikgOiBzLmJvZHk7XG5cbiAgICAgICAgICAgIGlmIChzLnRhYlRyaWdnZXIgJiYgIXMudHJpZ2dlcikge1xuICAgICAgICAgICAgICAgIGlmICghcy5ndWFyZCAmJiAvXlxcdy8udGVzdChzLnRhYlRyaWdnZXIpKVxuICAgICAgICAgICAgICAgICAgICBzLmd1YXJkID0gXCJcXFxcYlwiO1xuICAgICAgICAgICAgICAgIHMudHJpZ2dlciA9IGxhbmcuZXNjYXBlUmVnRXhwKHMudGFiVHJpZ2dlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICghcy50cmlnZ2VyICYmICFzLmd1YXJkICYmICFzLmVuZFRyaWdnZXIgJiYgIXMuZW5kR3VhcmQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBzLnN0YXJ0UmUgPSBndWFyZGVkUmVnZXhwKHMudHJpZ2dlciwgcy5ndWFyZCwgdHJ1ZSk7XG4gICAgICAgICAgICBzLnRyaWdnZXJSZSA9IG5ldyBSZWdFeHAocy50cmlnZ2VyKTtcblxuICAgICAgICAgICAgcy5lbmRSZSA9IGd1YXJkZWRSZWdleHAocy5lbmRUcmlnZ2VyLCBzLmVuZEd1YXJkLCB0cnVlKTtcbiAgICAgICAgICAgIHMuZW5kVHJpZ2dlclJlID0gbmV3IFJlZ0V4cChzLmVuZFRyaWdnZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc25pcHBldHMpKSB7XG4gICAgICAgICAgICBzbmlwcGV0cy5mb3JFYWNoKGFkZFNuaXBwZXQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoc25pcHBldHMpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICAgICAgYWRkU25pcHBldChzbmlwcGV0c1trZXldKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0aGlzLl9zaWduYWwoXCJyZWdpc3RlclNuaXBwZXRzXCIsIHtzY29wZTogc2NvcGV9KTtcbiAgICB9O1xuICAgIHRoaXMudW5yZWdpc3RlciA9IGZ1bmN0aW9uKHNuaXBwZXRzLCBzY29wZSkge1xuICAgICAgICB2YXIgc25pcHBldE1hcCA9IHRoaXMuc25pcHBldE1hcDtcbiAgICAgICAgdmFyIHNuaXBwZXROYW1lTWFwID0gdGhpcy5zbmlwcGV0TmFtZU1hcDtcblxuICAgICAgICBmdW5jdGlvbiByZW1vdmVTbmlwcGV0KHMpIHtcbiAgICAgICAgICAgIHZhciBuYW1lTWFwID0gc25pcHBldE5hbWVNYXBbcy5zY29wZXx8c2NvcGVdO1xuICAgICAgICAgICAgaWYgKG5hbWVNYXAgJiYgbmFtZU1hcFtzLm5hbWVdKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIG5hbWVNYXBbcy5uYW1lXTtcbiAgICAgICAgICAgICAgICB2YXIgbWFwID0gc25pcHBldE1hcFtzLnNjb3BlfHxzY29wZV07XG4gICAgICAgICAgICAgICAgdmFyIGkgPSBtYXAgJiYgbWFwLmluZGV4T2Yocyk7XG4gICAgICAgICAgICAgICAgaWYgKGkgPj0gMClcbiAgICAgICAgICAgICAgICAgICAgbWFwLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc25pcHBldHMuY29udGVudClcbiAgICAgICAgICAgIHJlbW92ZVNuaXBwZXQoc25pcHBldHMpO1xuICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KHNuaXBwZXRzKSlcbiAgICAgICAgICAgIHNuaXBwZXRzLmZvckVhY2gocmVtb3ZlU25pcHBldCk7XG4gICAgfTtcbiAgICB0aGlzLnBhcnNlU25pcHBldEZpbGUgPSBmdW5jdGlvbihzdHIpIHtcbiAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UoL1xcci9nLCBcIlwiKTtcbiAgICAgICAgdmFyIGxpc3QgPSBbXSwgc25pcHBldCA9IHt9O1xuICAgICAgICB2YXIgcmUgPSAvXiMuKnxeKHtbXFxzXFxTXSp9KVxccyokfF4oXFxTKykgKC4qKSR8XigoPzpcXG4qXFx0LiopKykvZ207XG4gICAgICAgIHZhciBtO1xuICAgICAgICB3aGlsZSAobSA9IHJlLmV4ZWMoc3RyKSkge1xuICAgICAgICAgICAgaWYgKG1bMV0pIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBzbmlwcGV0ID0gSlNPTi5wYXJzZShtWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgbGlzdC5wdXNoKHNuaXBwZXQpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICAgICAgICB9IGlmIChtWzRdKSB7XG4gICAgICAgICAgICAgICAgc25pcHBldC5jb250ZW50ID0gbVs0XS5yZXBsYWNlKC9eXFx0L2dtLCBcIlwiKTtcbiAgICAgICAgICAgICAgICBsaXN0LnB1c2goc25pcHBldCk7XG4gICAgICAgICAgICAgICAgc25pcHBldCA9IHt9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gbVsyXSwgdmFsID0gbVszXTtcbiAgICAgICAgICAgICAgICBpZiAoa2V5ID09IFwicmVnZXhcIikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZ3VhcmRSZSA9IC9cXC8oKD86W15cXC9cXFxcXXxcXFxcLikqKXwkL2c7XG4gICAgICAgICAgICAgICAgICAgIHNuaXBwZXQuZ3VhcmQgPSBndWFyZFJlLmV4ZWModmFsKVsxXTtcbiAgICAgICAgICAgICAgICAgICAgc25pcHBldC50cmlnZ2VyID0gZ3VhcmRSZS5leGVjKHZhbClbMV07XG4gICAgICAgICAgICAgICAgICAgIHNuaXBwZXQuZW5kVHJpZ2dlciA9IGd1YXJkUmUuZXhlYyh2YWwpWzFdO1xuICAgICAgICAgICAgICAgICAgICBzbmlwcGV0LmVuZEd1YXJkID0gZ3VhcmRSZS5leGVjKHZhbClbMV07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChrZXkgPT0gXCJzbmlwcGV0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgc25pcHBldC50YWJUcmlnZ2VyID0gdmFsLm1hdGNoKC9eXFxTKi8pWzBdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXNuaXBwZXQubmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHNuaXBwZXQubmFtZSA9IHZhbDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGtleSkge1xuICAgICAgICAgICAgICAgICAgICBzbmlwcGV0W2tleV0gPSB2YWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaXN0O1xuICAgIH07XG4gICAgdGhpcy5nZXRTbmlwcGV0QnlOYW1lID0gZnVuY3Rpb24obmFtZSwgZWRpdG9yKSB7XG4gICAgICAgIHZhciBzbmlwcGV0TWFwID0gdGhpcy5zbmlwcGV0TmFtZU1hcDtcbiAgICAgICAgdmFyIHNuaXBwZXQ7XG4gICAgICAgIHRoaXMuZ2V0QWN0aXZlU2NvcGVzKGVkaXRvcikuc29tZShmdW5jdGlvbihzY29wZSkge1xuICAgICAgICAgICAgdmFyIHNuaXBwZXRzID0gc25pcHBldE1hcFtzY29wZV07XG4gICAgICAgICAgICBpZiAoc25pcHBldHMpXG4gICAgICAgICAgICAgICAgc25pcHBldCA9IHNuaXBwZXRzW25hbWVdO1xuICAgICAgICAgICAgcmV0dXJuICEhc25pcHBldDtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIHJldHVybiBzbmlwcGV0O1xuICAgIH07XG5cbn0pLmNhbGwoU25pcHBldE1hbmFnZXIucHJvdG90eXBlKTtcblxuXG52YXIgVGFic3RvcE1hbmFnZXIgPSBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICBpZiAoZWRpdG9yLnRhYnN0b3BNYW5hZ2VyKVxuICAgICAgICByZXR1cm4gZWRpdG9yLnRhYnN0b3BNYW5hZ2VyO1xuICAgIGVkaXRvci50YWJzdG9wTWFuYWdlciA9IHRoaXM7XG4gICAgdGhpcy4kb25DaGFuZ2UgPSB0aGlzLm9uQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy4kb25DaGFuZ2VTZWxlY3Rpb24gPSBsYW5nLmRlbGF5ZWRDYWxsKHRoaXMub25DaGFuZ2VTZWxlY3Rpb24uYmluZCh0aGlzKSkuc2NoZWR1bGU7XG4gICAgdGhpcy4kb25DaGFuZ2VTZXNzaW9uID0gdGhpcy5vbkNoYW5nZVNlc3Npb24uYmluZCh0aGlzKTtcbiAgICB0aGlzLiRvbkFmdGVyRXhlYyA9IHRoaXMub25BZnRlckV4ZWMuYmluZCh0aGlzKTtcbiAgICB0aGlzLmF0dGFjaChlZGl0b3IpO1xufTtcbihmdW5jdGlvbigpIHtcbiAgICB0aGlzLmF0dGFjaCA9IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICB0aGlzLmluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5yYW5nZXMgPSBbXTtcbiAgICAgICAgdGhpcy50YWJzdG9wcyA9IFtdO1xuICAgICAgICB0aGlzLiRvcGVuVGFic3RvcHMgPSBudWxsO1xuICAgICAgICB0aGlzLnNlbGVjdGVkVGFic3RvcCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5lZGl0b3IgPSBlZGl0b3I7XG4gICAgICAgIHRoaXMuZWRpdG9yLm9uKFwiY2hhbmdlXCIsIHRoaXMuJG9uQ2hhbmdlKTtcbiAgICAgICAgdGhpcy5lZGl0b3Iub24oXCJjaGFuZ2VTZWxlY3Rpb25cIiwgdGhpcy4kb25DaGFuZ2VTZWxlY3Rpb24pO1xuICAgICAgICB0aGlzLmVkaXRvci5vbihcImNoYW5nZVNlc3Npb25cIiwgdGhpcy4kb25DaGFuZ2VTZXNzaW9uKTtcbiAgICAgICAgdGhpcy5lZGl0b3IuY29tbWFuZHMub24oXCJhZnRlckV4ZWNcIiwgdGhpcy4kb25BZnRlckV4ZWMpO1xuICAgICAgICB0aGlzLmVkaXRvci5rZXlCaW5kaW5nLmFkZEtleWJvYXJkSGFuZGxlcih0aGlzLmtleWJvYXJkSGFuZGxlcik7XG4gICAgfTtcbiAgICB0aGlzLmRldGFjaCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnRhYnN0b3BzLmZvckVhY2godGhpcy5yZW1vdmVUYWJzdG9wTWFya2VycywgdGhpcyk7XG4gICAgICAgIHRoaXMucmFuZ2VzID0gbnVsbDtcbiAgICAgICAgdGhpcy50YWJzdG9wcyA9IG51bGw7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRUYWJzdG9wID0gbnVsbDtcbiAgICAgICAgdGhpcy5lZGl0b3IucmVtb3ZlTGlzdGVuZXIoXCJjaGFuZ2VcIiwgdGhpcy4kb25DaGFuZ2UpO1xuICAgICAgICB0aGlzLmVkaXRvci5yZW1vdmVMaXN0ZW5lcihcImNoYW5nZVNlbGVjdGlvblwiLCB0aGlzLiRvbkNoYW5nZVNlbGVjdGlvbik7XG4gICAgICAgIHRoaXMuZWRpdG9yLnJlbW92ZUxpc3RlbmVyKFwiY2hhbmdlU2Vzc2lvblwiLCB0aGlzLiRvbkNoYW5nZVNlc3Npb24pO1xuICAgICAgICB0aGlzLmVkaXRvci5jb21tYW5kcy5yZW1vdmVMaXN0ZW5lcihcImFmdGVyRXhlY1wiLCB0aGlzLiRvbkFmdGVyRXhlYyk7XG4gICAgICAgIHRoaXMuZWRpdG9yLmtleUJpbmRpbmcucmVtb3ZlS2V5Ym9hcmRIYW5kbGVyKHRoaXMua2V5Ym9hcmRIYW5kbGVyKTtcbiAgICAgICAgdGhpcy5lZGl0b3IudGFic3RvcE1hbmFnZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmVkaXRvciA9IG51bGw7XG4gICAgfTtcblxuICAgIHRoaXMub25DaGFuZ2UgPSBmdW5jdGlvbihkZWx0YSkge1xuICAgICAgICB2YXIgaXNSZW1vdmUgPSBkZWx0YS5hY3Rpb25bMF0gPT0gXCJyXCI7XG4gICAgICAgIHZhciBzZWxlY3RlZFRhYnN0b3AgPSB0aGlzLnNlbGVjdGVkVGFic3RvcCB8fCB7fTtcbiAgICAgICAgdmFyIHBhcmVudHMgPSBzZWxlY3RlZFRhYnN0b3AucGFyZW50cyB8fCB7fTtcbiAgICAgICAgdmFyIHRhYnN0b3BzID0gKHRoaXMudGFic3RvcHMgfHwgW10pLnNsaWNlKCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGFic3RvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB0cyA9IHRhYnN0b3BzW2ldO1xuICAgICAgICAgICAgdmFyIGFjdGl2ZSA9IHRzID09IHNlbGVjdGVkVGFic3RvcCB8fCBwYXJlbnRzW3RzLmluZGV4XTtcbiAgICAgICAgICAgIHRzLnJhbmdlTGlzdC4kYmlhcyA9IGFjdGl2ZSA/IDAgOiAxO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoZGVsdGEuYWN0aW9uID09IFwicmVtb3ZlXCIgJiYgdHMgIT09IHNlbGVjdGVkVGFic3RvcCkge1xuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRBY3RpdmUgPSB0cy5wYXJlbnRzICYmIHRzLnBhcmVudHNbc2VsZWN0ZWRUYWJzdG9wLmluZGV4XTtcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnRJbmRleCA9IHRzLnJhbmdlTGlzdC5wb2ludEluZGV4KGRlbHRhLnN0YXJ0LCBwYXJlbnRBY3RpdmUpO1xuICAgICAgICAgICAgICAgIHN0YXJ0SW5kZXggPSBzdGFydEluZGV4IDwgMCA/IC1zdGFydEluZGV4IC0gMSA6IHN0YXJ0SW5kZXggKyAxO1xuICAgICAgICAgICAgICAgIHZhciBlbmRJbmRleCA9IHRzLnJhbmdlTGlzdC5wb2ludEluZGV4KGRlbHRhLmVuZCwgcGFyZW50QWN0aXZlKTtcbiAgICAgICAgICAgICAgICBlbmRJbmRleCA9IGVuZEluZGV4IDwgMCA/IC1lbmRJbmRleCAtIDEgOiBlbmRJbmRleCAtIDE7XG4gICAgICAgICAgICAgICAgdmFyIHRvUmVtb3ZlID0gdHMucmFuZ2VMaXN0LnJhbmdlcy5zbGljZShzdGFydEluZGV4LCBlbmRJbmRleCk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0b1JlbW92ZS5sZW5ndGg7IGorKylcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVSYW5nZSh0b1JlbW92ZVtqXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cy5yYW5nZUxpc3QuJG9uQ2hhbmdlKGRlbHRhKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuZWRpdG9yLnNlc3Npb247XG4gICAgICAgIGlmICghdGhpcy4kaW5DaGFuZ2UgJiYgaXNSZW1vdmUgJiYgc2Vzc2lvbi5nZXRMZW5ndGgoKSA9PSAxICYmICFzZXNzaW9uLmdldFZhbHVlKCkpXG4gICAgICAgICAgICB0aGlzLmRldGFjaCgpO1xuICAgIH07XG4gICAgdGhpcy51cGRhdGVMaW5rZWRGaWVsZHMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHRzID0gdGhpcy5zZWxlY3RlZFRhYnN0b3A7XG4gICAgICAgIGlmICghdHMgfHwgIXRzLmhhc0xpbmtlZFJhbmdlcyB8fCAhdHMuZmlyc3ROb25MaW5rZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMuJGluQ2hhbmdlID0gdHJ1ZTtcbiAgICAgICAgdmFyIHNlc3Npb24gPSB0aGlzLmVkaXRvci5zZXNzaW9uO1xuICAgICAgICB2YXIgdGV4dCA9IHNlc3Npb24uZ2V0VGV4dFJhbmdlKHRzLmZpcnN0Tm9uTGlua2VkKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHJhbmdlID0gdHNbaV07XG4gICAgICAgICAgICBpZiAoIXJhbmdlLmxpbmtlZClcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIHZhciBvcmlnaW5hbCA9IHJhbmdlLm9yaWdpbmFsO1xuICAgICAgICAgICAgdmFyIGZtdCA9IGV4cG9ydHMuc25pcHBldE1hbmFnZXIudG1TdHJGb3JtYXQodGV4dCwgb3JpZ2luYWwsIHRoaXMuZWRpdG9yKTtcbiAgICAgICAgICAgIHNlc3Npb24ucmVwbGFjZShyYW5nZSwgZm10KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiRpbkNoYW5nZSA9IGZhbHNlO1xuICAgIH07XG4gICAgdGhpcy5vbkFmdGVyRXhlYyA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKGUuY29tbWFuZCAmJiAhZS5jb21tYW5kLnJlYWRPbmx5KVxuICAgICAgICAgICAgdGhpcy51cGRhdGVMaW5rZWRGaWVsZHMoKTtcbiAgICB9O1xuICAgIHRoaXMub25DaGFuZ2VTZWxlY3Rpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVkaXRvcilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyIGxlYWQgPSB0aGlzLmVkaXRvci5zZWxlY3Rpb24ubGVhZDtcbiAgICAgICAgdmFyIGFuY2hvciA9IHRoaXMuZWRpdG9yLnNlbGVjdGlvbi5hbmNob3I7XG4gICAgICAgIHZhciBpc0VtcHR5ID0gdGhpcy5lZGl0b3Iuc2VsZWN0aW9uLmlzRW1wdHkoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMucmFuZ2VzW2ldLmxpbmtlZClcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIHZhciBjb250YWluc0xlYWQgPSB0aGlzLnJhbmdlc1tpXS5jb250YWlucyhsZWFkLnJvdywgbGVhZC5jb2x1bW4pO1xuICAgICAgICAgICAgdmFyIGNvbnRhaW5zQW5jaG9yID0gaXNFbXB0eSB8fCB0aGlzLnJhbmdlc1tpXS5jb250YWlucyhhbmNob3Iucm93LCBhbmNob3IuY29sdW1uKTtcbiAgICAgICAgICAgIGlmIChjb250YWluc0xlYWQgJiYgY29udGFpbnNBbmNob3IpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGV0YWNoKCk7XG4gICAgfTtcbiAgICB0aGlzLm9uQ2hhbmdlU2Vzc2lvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmRldGFjaCgpO1xuICAgIH07XG4gICAgdGhpcy50YWJOZXh0ID0gZnVuY3Rpb24oZGlyKSB7XG4gICAgICAgIHZhciBtYXggPSB0aGlzLnRhYnN0b3BzLmxlbmd0aDtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleCArIChkaXIgfHwgMSk7XG4gICAgICAgIGluZGV4ID0gTWF0aC5taW4oTWF0aC5tYXgoaW5kZXgsIDEpLCBtYXgpO1xuICAgICAgICBpZiAoaW5kZXggPT0gbWF4KVxuICAgICAgICAgICAgaW5kZXggPSAwO1xuICAgICAgICB0aGlzLnNlbGVjdFRhYnN0b3AoaW5kZXgpO1xuICAgICAgICBpZiAoaW5kZXggPT09IDApXG4gICAgICAgICAgICB0aGlzLmRldGFjaCgpO1xuICAgIH07XG4gICAgdGhpcy5zZWxlY3RUYWJzdG9wID0gZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgdGhpcy4kb3BlblRhYnN0b3BzID0gbnVsbDtcbiAgICAgICAgdmFyIHRzID0gdGhpcy50YWJzdG9wc1t0aGlzLmluZGV4XTtcbiAgICAgICAgaWYgKHRzKVxuICAgICAgICAgICAgdGhpcy5hZGRUYWJzdG9wTWFya2Vycyh0cyk7XG4gICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgICAgICAgdHMgPSB0aGlzLnRhYnN0b3BzW3RoaXMuaW5kZXhdO1xuICAgICAgICBpZiAoIXRzIHx8ICF0cy5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIFxuICAgICAgICB0aGlzLnNlbGVjdGVkVGFic3RvcCA9IHRzO1xuICAgICAgICB2YXIgcmFuZ2UgPSB0cy5maXJzdE5vbkxpbmtlZCB8fCB0cztcbiAgICAgICAgaWYgKHRzLmNob2ljZXMpIHJhbmdlLmN1cnNvciA9IHJhbmdlLnN0YXJ0O1xuICAgICAgICBpZiAoIXRoaXMuZWRpdG9yLmluVmlydHVhbFNlbGVjdGlvbk1vZGUpIHtcbiAgICAgICAgICAgIHZhciBzZWwgPSB0aGlzLmVkaXRvci5tdWx0aVNlbGVjdDtcbiAgICAgICAgICAgIHNlbC50b1NpbmdsZVJhbmdlKHJhbmdlKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAodHMuaGFzTGlua2VkUmFuZ2VzICYmIHRzW2ldLmxpbmtlZClcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgc2VsLmFkZFJhbmdlKHRzW2ldLmNsb25lKCksIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5lZGl0b3Iuc2VsZWN0aW9uLmZyb21PcmllbnRlZFJhbmdlKHJhbmdlKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdGhpcy5lZGl0b3Iua2V5QmluZGluZy5hZGRLZXlib2FyZEhhbmRsZXIodGhpcy5rZXlib2FyZEhhbmRsZXIpO1xuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZFRhYnN0b3AgJiYgdGhpcy5zZWxlY3RlZFRhYnN0b3AuY2hvaWNlcylcbiAgICAgICAgICAgIHRoaXMuZWRpdG9yLmV4ZWNDb21tYW5kKFwic3RhcnRBdXRvY29tcGxldGVcIiwge21hdGNoZXM6IHRoaXMuc2VsZWN0ZWRUYWJzdG9wLmNob2ljZXN9KTtcbiAgICB9O1xuICAgIHRoaXMuYWRkVGFic3RvcHMgPSBmdW5jdGlvbih0YWJzdG9wcywgc3RhcnQsIGVuZCkge1xuICAgICAgICB2YXIgdXNlTGluayA9IHRoaXMudXNlTGluayB8fCAhdGhpcy5lZGl0b3IuZ2V0T3B0aW9uKFwiZW5hYmxlTXVsdGlzZWxlY3RcIik7XG4gICAgICAgIFxuICAgICAgICBpZiAoIXRoaXMuJG9wZW5UYWJzdG9wcylcbiAgICAgICAgICAgIHRoaXMuJG9wZW5UYWJzdG9wcyA9IFtdO1xuICAgICAgICBpZiAoIXRhYnN0b3BzWzBdKSB7XG4gICAgICAgICAgICB2YXIgcCA9IFJhbmdlLmZyb21Qb2ludHMoZW5kLCBlbmQpO1xuICAgICAgICAgICAgbW92ZVJlbGF0aXZlKHAuc3RhcnQsIHN0YXJ0KTtcbiAgICAgICAgICAgIG1vdmVSZWxhdGl2ZShwLmVuZCwgc3RhcnQpO1xuICAgICAgICAgICAgdGFic3RvcHNbMF0gPSBbcF07XG4gICAgICAgICAgICB0YWJzdG9wc1swXS5pbmRleCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaSA9IHRoaXMuaW5kZXg7XG4gICAgICAgIHZhciBhcmcgPSBbaSArIDEsIDBdO1xuICAgICAgICB2YXIgcmFuZ2VzID0gdGhpcy5yYW5nZXM7XG4gICAgICAgIHRhYnN0b3BzLmZvckVhY2goZnVuY3Rpb24odHMsIGluZGV4KSB7XG4gICAgICAgICAgICB2YXIgZGVzdCA9IHRoaXMuJG9wZW5UYWJzdG9wc1tpbmRleF0gfHwgdHM7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgcCA9IHRzW2ldO1xuICAgICAgICAgICAgICAgIHZhciByYW5nZSA9IFJhbmdlLmZyb21Qb2ludHMocC5zdGFydCwgcC5lbmQgfHwgcC5zdGFydCk7XG4gICAgICAgICAgICAgICAgbW92ZVBvaW50KHJhbmdlLnN0YXJ0LCBzdGFydCk7XG4gICAgICAgICAgICAgICAgbW92ZVBvaW50KHJhbmdlLmVuZCwgc3RhcnQpO1xuICAgICAgICAgICAgICAgIHJhbmdlLm9yaWdpbmFsID0gcDtcbiAgICAgICAgICAgICAgICByYW5nZS50YWJzdG9wID0gZGVzdDtcbiAgICAgICAgICAgICAgICByYW5nZXMucHVzaChyYW5nZSk7XG4gICAgICAgICAgICAgICAgaWYgKGRlc3QgIT0gdHMpXG4gICAgICAgICAgICAgICAgICAgIGRlc3QudW5zaGlmdChyYW5nZSk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBkZXN0W2ldID0gcmFuZ2U7XG4gICAgICAgICAgICAgICAgaWYgKHAuZm10U3RyaW5nIHx8IChkZXN0LmZpcnN0Tm9uTGlua2VkICYmIHVzZUxpbmspKSB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlLmxpbmtlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGRlc3QuaGFzTGlua2VkUmFuZ2VzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFkZXN0LmZpcnN0Tm9uTGlua2VkKVxuICAgICAgICAgICAgICAgICAgICBkZXN0LmZpcnN0Tm9uTGlua2VkID0gcmFuZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWRlc3QuZmlyc3ROb25MaW5rZWQpXG4gICAgICAgICAgICAgICAgZGVzdC5oYXNMaW5rZWRSYW5nZXMgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChkZXN0ID09PSB0cykge1xuICAgICAgICAgICAgICAgIGFyZy5wdXNoKGRlc3QpO1xuICAgICAgICAgICAgICAgIHRoaXMuJG9wZW5UYWJzdG9wc1tpbmRleF0gPSBkZXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5hZGRUYWJzdG9wTWFya2VycyhkZXN0KTtcbiAgICAgICAgICAgIGRlc3QucmFuZ2VMaXN0ID0gZGVzdC5yYW5nZUxpc3QgfHwgbmV3IFJhbmdlTGlzdCgpO1xuICAgICAgICAgICAgZGVzdC5yYW5nZUxpc3QuJGJpYXMgPSAwO1xuICAgICAgICAgICAgZGVzdC5yYW5nZUxpc3QuYWRkTGlzdChkZXN0KTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIFxuICAgICAgICBpZiAoYXJnLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRhYnN0b3BzLmxlbmd0aClcbiAgICAgICAgICAgICAgICBhcmcucHVzaChhcmcuc3BsaWNlKDIsIDEpWzBdKTtcbiAgICAgICAgICAgIHRoaXMudGFic3RvcHMuc3BsaWNlLmFwcGx5KHRoaXMudGFic3RvcHMsIGFyZyk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5hZGRUYWJzdG9wTWFya2VycyA9IGZ1bmN0aW9uKHRzKSB7XG4gICAgICAgIHZhciBzZXNzaW9uID0gdGhpcy5lZGl0b3Iuc2Vzc2lvbjtcbiAgICAgICAgdHMuZm9yRWFjaChmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICAgICAgaWYgICghcmFuZ2UubWFya2VySWQpXG4gICAgICAgICAgICAgICAgcmFuZ2UubWFya2VySWQgPSBzZXNzaW9uLmFkZE1hcmtlcihyYW5nZSwgXCJhY2Vfc25pcHBldC1tYXJrZXJcIiwgXCJ0ZXh0XCIpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHRoaXMucmVtb3ZlVGFic3RvcE1hcmtlcnMgPSBmdW5jdGlvbih0cykge1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuZWRpdG9yLnNlc3Npb247XG4gICAgICAgIHRzLmZvckVhY2goZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgICAgICAgIHNlc3Npb24ucmVtb3ZlTWFya2VyKHJhbmdlLm1hcmtlcklkKTtcbiAgICAgICAgICAgIHJhbmdlLm1hcmtlcklkID0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICB0aGlzLnJlbW92ZVJhbmdlID0gZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgICAgdmFyIGkgPSByYW5nZS50YWJzdG9wLmluZGV4T2YocmFuZ2UpO1xuICAgICAgICBpZiAoaSAhPSAtMSkgcmFuZ2UudGFic3RvcC5zcGxpY2UoaSwgMSk7XG4gICAgICAgIGkgPSB0aGlzLnJhbmdlcy5pbmRleE9mKHJhbmdlKTtcbiAgICAgICAgaWYgKGkgIT0gLTEpIHRoaXMucmFuZ2VzLnNwbGljZShpLCAxKTtcbiAgICAgICAgaSA9IHJhbmdlLnRhYnN0b3AucmFuZ2VMaXN0LnJhbmdlcy5pbmRleE9mKHJhbmdlKTtcbiAgICAgICAgaWYgKGkgIT0gLTEpIHJhbmdlLnRhYnN0b3Auc3BsaWNlKGksIDEpO1xuICAgICAgICB0aGlzLmVkaXRvci5zZXNzaW9uLnJlbW92ZU1hcmtlcihyYW5nZS5tYXJrZXJJZCk7XG4gICAgICAgIGlmICghcmFuZ2UudGFic3RvcC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGkgPSB0aGlzLnRhYnN0b3BzLmluZGV4T2YocmFuZ2UudGFic3RvcCk7XG4gICAgICAgICAgICBpZiAoaSAhPSAtMSlcbiAgICAgICAgICAgICAgICB0aGlzLnRhYnN0b3BzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIGlmICghdGhpcy50YWJzdG9wcy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgdGhpcy5kZXRhY2goKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmtleWJvYXJkSGFuZGxlciA9IG5ldyBIYXNoSGFuZGxlcigpO1xuICAgIHRoaXMua2V5Ym9hcmRIYW5kbGVyLmJpbmRLZXlzKHtcbiAgICAgICAgXCJUYWJcIjogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgICAgICBpZiAoZXhwb3J0cy5zbmlwcGV0TWFuYWdlciAmJiBleHBvcnRzLnNuaXBwZXRNYW5hZ2VyLmV4cGFuZFdpdGhUYWIoZWRpdG9yKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBlZGl0b3IudGFic3RvcE1hbmFnZXIudGFiTmV4dCgxKTtcbiAgICAgICAgICAgIGVkaXRvci5yZW5kZXJlci5zY3JvbGxDdXJzb3JJbnRvVmlldygpO1xuICAgICAgICB9LFxuICAgICAgICBcIlNoaWZ0LVRhYlwiOiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgICAgIGVkaXRvci50YWJzdG9wTWFuYWdlci50YWJOZXh0KC0xKTtcbiAgICAgICAgICAgIGVkaXRvci5yZW5kZXJlci5zY3JvbGxDdXJzb3JJbnRvVmlldygpO1xuICAgICAgICB9LFxuICAgICAgICBcIkVzY1wiOiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgICAgIGVkaXRvci50YWJzdG9wTWFuYWdlci5kZXRhY2goKTtcbiAgICAgICAgfVxuICAgIH0pO1xufSkuY2FsbChUYWJzdG9wTWFuYWdlci5wcm90b3R5cGUpO1xuXG5cblxudmFyIG1vdmVQb2ludCA9IGZ1bmN0aW9uKHBvaW50LCBkaWZmKSB7XG4gICAgaWYgKHBvaW50LnJvdyA9PSAwKVxuICAgICAgICBwb2ludC5jb2x1bW4gKz0gZGlmZi5jb2x1bW47XG4gICAgcG9pbnQucm93ICs9IGRpZmYucm93O1xufTtcblxudmFyIG1vdmVSZWxhdGl2ZSA9IGZ1bmN0aW9uKHBvaW50LCBzdGFydCkge1xuICAgIGlmIChwb2ludC5yb3cgPT0gc3RhcnQucm93KVxuICAgICAgICBwb2ludC5jb2x1bW4gLT0gc3RhcnQuY29sdW1uO1xuICAgIHBvaW50LnJvdyAtPSBzdGFydC5yb3c7XG59O1xuXG5cbmRvbS5pbXBvcnRDc3NTdHJpbmcoXCJcXFxuLmFjZV9zbmlwcGV0LW1hcmtlciB7XFxcbiAgICAtbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcXG4gICAgYmFja2dyb3VuZDogcmdiYSgxOTQsIDE5MywgMjA4LCAwLjA5KTtcXFxuICAgIGJvcmRlcjogMXB4IGRvdHRlZCByZ2JhKDIxMSwgMjA4LCAyMzUsIDAuNjIpO1xcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcXG59XCIsIFwic25pcHBldHMuY3NzXCIsIGZhbHNlKTtcblxuZXhwb3J0cy5zbmlwcGV0TWFuYWdlciA9IG5ldyBTbmlwcGV0TWFuYWdlcigpO1xuXG5cbnZhciBFZGl0b3IgPSByZXF1aXJlKFwiLi9lZGl0b3JcIikuRWRpdG9yO1xuKGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaW5zZXJ0U25pcHBldCA9IGZ1bmN0aW9uKGNvbnRlbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuc25pcHBldE1hbmFnZXIuaW5zZXJ0U25pcHBldCh0aGlzLCBjb250ZW50LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIHRoaXMuZXhwYW5kU25pcHBldCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuc25pcHBldE1hbmFnZXIuZXhwYW5kV2l0aFRhYih0aGlzLCBvcHRpb25zKTtcbiAgICB9O1xufSkuY2FsbChFZGl0b3IucHJvdG90eXBlKTtcblxufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvYXV0b2NvbXBsZXRlL3BvcHVwXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvdmlydHVhbF9yZW5kZXJlclwiLFwiYWNlL2VkaXRvclwiLFwiYWNlL3JhbmdlXCIsXCJhY2UvbGliL2V2ZW50XCIsXCJhY2UvbGliL2xhbmdcIixcImFjZS9saWIvZG9tXCJdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgUmVuZGVyZXIgPSByZXF1aXJlKFwiLi4vdmlydHVhbF9yZW5kZXJlclwiKS5WaXJ0dWFsUmVuZGVyZXI7XG52YXIgRWRpdG9yID0gcmVxdWlyZShcIi4uL2VkaXRvclwiKS5FZGl0b3I7XG52YXIgUmFuZ2UgPSByZXF1aXJlKFwiLi4vcmFuZ2VcIikuUmFuZ2U7XG52YXIgZXZlbnQgPSByZXF1aXJlKFwiLi4vbGliL2V2ZW50XCIpO1xudmFyIGxhbmcgPSByZXF1aXJlKFwiLi4vbGliL2xhbmdcIik7XG52YXIgZG9tID0gcmVxdWlyZShcIi4uL2xpYi9kb21cIik7XG5cbnZhciAkc2luZ2xlTGluZUVkaXRvciA9IGZ1bmN0aW9uKGVsKSB7XG4gICAgdmFyIHJlbmRlcmVyID0gbmV3IFJlbmRlcmVyKGVsKTtcblxuICAgIHJlbmRlcmVyLiRtYXhMaW5lcyA9IDQ7XG5cbiAgICB2YXIgZWRpdG9yID0gbmV3IEVkaXRvcihyZW5kZXJlcik7XG5cbiAgICBlZGl0b3Iuc2V0SGlnaGxpZ2h0QWN0aXZlTGluZShmYWxzZSk7XG4gICAgZWRpdG9yLnNldFNob3dQcmludE1hcmdpbihmYWxzZSk7XG4gICAgZWRpdG9yLnJlbmRlcmVyLnNldFNob3dHdXR0ZXIoZmFsc2UpO1xuICAgIGVkaXRvci5yZW5kZXJlci5zZXRIaWdobGlnaHRHdXR0ZXJMaW5lKGZhbHNlKTtcblxuICAgIGVkaXRvci4kbW91c2VIYW5kbGVyLiRmb2N1c1RpbWVvdXQgPSAwO1xuICAgIGVkaXRvci4kaGlnaGxpZ2h0VGFnUGVuZGluZyA9IHRydWU7XG5cbiAgICByZXR1cm4gZWRpdG9yO1xufTtcblxudmFyIEFjZVBvcHVwID0gZnVuY3Rpb24ocGFyZW50Tm9kZSkge1xuICAgIHZhciBlbCA9IGRvbS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHZhciBwb3B1cCA9IG5ldyAkc2luZ2xlTGluZUVkaXRvcihlbCk7XG5cbiAgICBpZiAocGFyZW50Tm9kZSlcbiAgICAgICAgcGFyZW50Tm9kZS5hcHBlbmRDaGlsZChlbCk7XG4gICAgZWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIHBvcHVwLnJlbmRlcmVyLmNvbnRlbnQuc3R5bGUuY3Vyc29yID0gXCJkZWZhdWx0XCI7XG4gICAgcG9wdXAucmVuZGVyZXIuc2V0U3R5bGUoXCJhY2VfYXV0b2NvbXBsZXRlXCIpO1xuXG4gICAgcG9wdXAuc2V0T3B0aW9uKFwiZGlzcGxheUluZGVudEd1aWRlc1wiLCBmYWxzZSk7XG4gICAgcG9wdXAuc2V0T3B0aW9uKFwiZHJhZ0RlbGF5XCIsIDE1MCk7XG5cbiAgICB2YXIgbm9vcCA9IGZ1bmN0aW9uKCl7fTtcblxuICAgIHBvcHVwLmZvY3VzID0gbm9vcDtcbiAgICBwb3B1cC4kaXNGb2N1c2VkID0gdHJ1ZTtcblxuICAgIHBvcHVwLnJlbmRlcmVyLiRjdXJzb3JMYXllci5yZXN0YXJ0VGltZXIgPSBub29wO1xuICAgIHBvcHVwLnJlbmRlcmVyLiRjdXJzb3JMYXllci5lbGVtZW50LnN0eWxlLm9wYWNpdHkgPSAwO1xuXG4gICAgcG9wdXAucmVuZGVyZXIuJG1heExpbmVzID0gODtcbiAgICBwb3B1cC5yZW5kZXJlci4ka2VlcFRleHRBcmVhQXRDdXJzb3IgPSBmYWxzZTtcblxuICAgIHBvcHVwLnNldEhpZ2hsaWdodEFjdGl2ZUxpbmUoZmFsc2UpO1xuICAgIHBvcHVwLnNlc3Npb24uaGlnaGxpZ2h0KFwiXCIpO1xuICAgIHBvcHVwLnNlc3Npb24uJHNlYXJjaEhpZ2hsaWdodC5jbGF6eiA9IFwiYWNlX2hpZ2hsaWdodC1tYXJrZXJcIjtcblxuICAgIHBvcHVwLm9uKFwibW91c2Vkb3duXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIHBvcyA9IGUuZ2V0RG9jdW1lbnRQb3NpdGlvbigpO1xuICAgICAgICBwb3B1cC5zZWxlY3Rpb24ubW92ZVRvUG9zaXRpb24ocG9zKTtcbiAgICAgICAgc2VsZWN0aW9uTWFya2VyLnN0YXJ0LnJvdyA9IHNlbGVjdGlvbk1hcmtlci5lbmQucm93ID0gcG9zLnJvdztcbiAgICAgICAgZS5zdG9wKCk7XG4gICAgfSk7XG5cbiAgICB2YXIgbGFzdE1vdXNlRXZlbnQ7XG4gICAgdmFyIGhvdmVyTWFya2VyID0gbmV3IFJhbmdlKC0xLDAsLTEsSW5maW5pdHkpO1xuICAgIHZhciBzZWxlY3Rpb25NYXJrZXIgPSBuZXcgUmFuZ2UoLTEsMCwtMSxJbmZpbml0eSk7XG4gICAgc2VsZWN0aW9uTWFya2VyLmlkID0gcG9wdXAuc2Vzc2lvbi5hZGRNYXJrZXIoc2VsZWN0aW9uTWFya2VyLCBcImFjZV9hY3RpdmUtbGluZVwiLCBcImZ1bGxMaW5lXCIpO1xuICAgIHBvcHVwLnNldFNlbGVjdE9uSG92ZXIgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgaWYgKCF2YWwpIHtcbiAgICAgICAgICAgIGhvdmVyTWFya2VyLmlkID0gcG9wdXAuc2Vzc2lvbi5hZGRNYXJrZXIoaG92ZXJNYXJrZXIsIFwiYWNlX2xpbmUtaG92ZXJcIiwgXCJmdWxsTGluZVwiKTtcbiAgICAgICAgfSBlbHNlIGlmIChob3Zlck1hcmtlci5pZCkge1xuICAgICAgICAgICAgcG9wdXAuc2Vzc2lvbi5yZW1vdmVNYXJrZXIoaG92ZXJNYXJrZXIuaWQpO1xuICAgICAgICAgICAgaG92ZXJNYXJrZXIuaWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBwb3B1cC5zZXRTZWxlY3RPbkhvdmVyKGZhbHNlKTtcbiAgICBwb3B1cC5vbihcIm1vdXNlbW92ZVwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmICghbGFzdE1vdXNlRXZlbnQpIHtcbiAgICAgICAgICAgIGxhc3RNb3VzZUV2ZW50ID0gZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGFzdE1vdXNlRXZlbnQueCA9PSBlLnggJiYgbGFzdE1vdXNlRXZlbnQueSA9PSBlLnkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsYXN0TW91c2VFdmVudCA9IGU7XG4gICAgICAgIGxhc3RNb3VzZUV2ZW50LnNjcm9sbFRvcCA9IHBvcHVwLnJlbmRlcmVyLnNjcm9sbFRvcDtcbiAgICAgICAgdmFyIHJvdyA9IGxhc3RNb3VzZUV2ZW50LmdldERvY3VtZW50UG9zaXRpb24oKS5yb3c7XG4gICAgICAgIGlmIChob3Zlck1hcmtlci5zdGFydC5yb3cgIT0gcm93KSB7XG4gICAgICAgICAgICBpZiAoIWhvdmVyTWFya2VyLmlkKVxuICAgICAgICAgICAgICAgIHBvcHVwLnNldFJvdyhyb3cpO1xuICAgICAgICAgICAgc2V0SG92ZXJNYXJrZXIocm93KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHBvcHVwLnJlbmRlcmVyLm9uKFwiYmVmb3JlUmVuZGVyXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAobGFzdE1vdXNlRXZlbnQgJiYgaG92ZXJNYXJrZXIuc3RhcnQucm93ICE9IC0xKSB7XG4gICAgICAgICAgICBsYXN0TW91c2VFdmVudC4kcG9zID0gbnVsbDtcbiAgICAgICAgICAgIHZhciByb3cgPSBsYXN0TW91c2VFdmVudC5nZXREb2N1bWVudFBvc2l0aW9uKCkucm93O1xuICAgICAgICAgICAgaWYgKCFob3Zlck1hcmtlci5pZClcbiAgICAgICAgICAgICAgICBwb3B1cC5zZXRSb3cocm93KTtcbiAgICAgICAgICAgIHNldEhvdmVyTWFya2VyKHJvdywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBwb3B1cC5yZW5kZXJlci5vbihcImFmdGVyUmVuZGVyXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcm93ID0gcG9wdXAuZ2V0Um93KCk7XG4gICAgICAgIHZhciB0ID0gcG9wdXAucmVuZGVyZXIuJHRleHRMYXllcjtcbiAgICAgICAgdmFyIHNlbGVjdGVkID0gdC5lbGVtZW50LmNoaWxkTm9kZXNbcm93IC0gdC5jb25maWcuZmlyc3RSb3ddO1xuICAgICAgICBpZiAoc2VsZWN0ZWQgIT09IHQuc2VsZWN0ZWROb2RlICYmIHQuc2VsZWN0ZWROb2RlKVxuICAgICAgICAgICAgZG9tLnJlbW92ZUNzc0NsYXNzKHQuc2VsZWN0ZWROb2RlLCBcImFjZV9zZWxlY3RlZFwiKTtcbiAgICAgICAgdC5zZWxlY3RlZE5vZGUgPSBzZWxlY3RlZDtcbiAgICAgICAgaWYgKHNlbGVjdGVkKVxuICAgICAgICAgICAgZG9tLmFkZENzc0NsYXNzKHNlbGVjdGVkLCBcImFjZV9zZWxlY3RlZFwiKTtcbiAgICB9KTtcbiAgICB2YXIgaGlkZUhvdmVyTWFya2VyID0gZnVuY3Rpb24oKSB7IHNldEhvdmVyTWFya2VyKC0xKTsgfTtcbiAgICB2YXIgc2V0SG92ZXJNYXJrZXIgPSBmdW5jdGlvbihyb3csIHN1cHByZXNzUmVkcmF3KSB7XG4gICAgICAgIGlmIChyb3cgIT09IGhvdmVyTWFya2VyLnN0YXJ0LnJvdykge1xuICAgICAgICAgICAgaG92ZXJNYXJrZXIuc3RhcnQucm93ID0gaG92ZXJNYXJrZXIuZW5kLnJvdyA9IHJvdztcbiAgICAgICAgICAgIGlmICghc3VwcHJlc3NSZWRyYXcpXG4gICAgICAgICAgICAgICAgcG9wdXAuc2Vzc2lvbi5fZW1pdChcImNoYW5nZUJhY2tNYXJrZXJcIik7XG4gICAgICAgICAgICBwb3B1cC5fZW1pdChcImNoYW5nZUhvdmVyTWFya2VyXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBwb3B1cC5nZXRIb3ZlcmVkUm93ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBob3Zlck1hcmtlci5zdGFydC5yb3c7XG4gICAgfTtcblxuICAgIGV2ZW50LmFkZExpc3RlbmVyKHBvcHVwLmNvbnRhaW5lciwgXCJtb3VzZW91dFwiLCBoaWRlSG92ZXJNYXJrZXIpO1xuICAgIHBvcHVwLm9uKFwiaGlkZVwiLCBoaWRlSG92ZXJNYXJrZXIpO1xuICAgIHBvcHVwLm9uKFwiY2hhbmdlU2VsZWN0aW9uXCIsIGhpZGVIb3Zlck1hcmtlcik7XG5cbiAgICBwb3B1cC5zZXNzaW9uLmRvYy5nZXRMZW5ndGggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHBvcHVwLmRhdGEubGVuZ3RoO1xuICAgIH07XG4gICAgcG9wdXAuc2Vzc2lvbi5kb2MuZ2V0TGluZSA9IGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBwb3B1cC5kYXRhW2ldO1xuICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICByZXR1cm4gKGRhdGEgJiYgZGF0YS52YWx1ZSkgfHwgXCJcIjtcbiAgICB9O1xuXG4gICAgdmFyIGJnVG9rZW5pemVyID0gcG9wdXAuc2Vzc2lvbi5iZ1Rva2VuaXplcjtcbiAgICBiZ1Rva2VuaXplci4kdG9rZW5pemVSb3cgPSBmdW5jdGlvbihyb3cpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBwb3B1cC5kYXRhW3Jvd107XG4gICAgICAgIHZhciB0b2tlbnMgPSBbXTtcbiAgICAgICAgaWYgKCFkYXRhKVxuICAgICAgICAgICAgcmV0dXJuIHRva2VucztcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICBkYXRhID0ge3ZhbHVlOiBkYXRhfTtcbiAgICAgICAgdmFyIGNhcHRpb24gPSBkYXRhLmNhcHRpb24gfHwgZGF0YS52YWx1ZSB8fCBkYXRhLm5hbWU7XG5cbiAgICAgICAgZnVuY3Rpb24gYWRkVG9rZW4odmFsdWUsIGNsYXNzTmFtZSkge1xuICAgICAgICAgICAgdmFsdWUgJiYgdG9rZW5zLnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6IChkYXRhLmNsYXNzTmFtZSB8fCBcIlwiKSArIChjbGFzc05hbWUgfHwgXCJcIiksIFxuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHZhciBsb3dlciA9IGNhcHRpb24udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgdmFyIGZpbHRlclRleHQgPSAocG9wdXAuZmlsdGVyVGV4dCB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB2YXIgbGFzdEluZGV4ID0gMDtcbiAgICAgICAgdmFyIGxhc3RJID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gZmlsdGVyVGV4dC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgIT0gbGFzdEkgJiYgKGRhdGEubWF0Y2hNYXNrICYgKDEgPDwgaSkgfHwgaSA9PSBmaWx0ZXJUZXh0Lmxlbmd0aCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3ViID0gZmlsdGVyVGV4dC5zbGljZShsYXN0SSwgaSk7XG4gICAgICAgICAgICAgICAgbGFzdEkgPSBpO1xuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGxvd2VyLmluZGV4T2Yoc3ViLCBsYXN0SW5kZXgpO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PSAtMSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgYWRkVG9rZW4oY2FwdGlvbi5zbGljZShsYXN0SW5kZXgsIGluZGV4KSwgXCJcIik7XG4gICAgICAgICAgICAgICAgbGFzdEluZGV4ID0gaW5kZXggKyBzdWIubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGFkZFRva2VuKGNhcHRpb24uc2xpY2UoaW5kZXgsIGxhc3RJbmRleCksIFwiY29tcGxldGlvbi1oaWdobGlnaHRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYWRkVG9rZW4oY2FwdGlvbi5zbGljZShsYXN0SW5kZXgsIGNhcHRpb24ubGVuZ3RoKSwgXCJcIik7XG4gICAgICAgIFxuICAgICAgICBpZiAoZGF0YS5tZXRhKVxuICAgICAgICAgICAgdG9rZW5zLnB1c2goe3R5cGU6IFwiY29tcGxldGlvbi1tZXRhXCIsIHZhbHVlOiBkYXRhLm1ldGF9KTtcbiAgICAgICAgaWYgKGRhdGEubWVzc2FnZSlcbiAgICAgICAgICAgIHRva2Vucy5wdXNoKHt0eXBlOiBcImNvbXBsZXRpb24tbWVzc2FnZVwiLCB2YWx1ZTogZGF0YS5tZXNzYWdlfSk7XG5cbiAgICAgICAgcmV0dXJuIHRva2VucztcbiAgICB9O1xuICAgIGJnVG9rZW5pemVyLiR1cGRhdGVPbkNoYW5nZSA9IG5vb3A7XG4gICAgYmdUb2tlbml6ZXIuc3RhcnQgPSBub29wO1xuXG4gICAgcG9wdXAuc2Vzc2lvbi4kY29tcHV0ZVdpZHRoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjcmVlbldpZHRoID0gMDtcbiAgICB9O1xuICAgIHBvcHVwLmlzT3BlbiA9IGZhbHNlO1xuICAgIHBvcHVwLmlzVG9wZG93biA9IGZhbHNlO1xuICAgIHBvcHVwLmF1dG9TZWxlY3QgPSB0cnVlO1xuICAgIHBvcHVwLmZpbHRlclRleHQgPSBcIlwiO1xuXG4gICAgcG9wdXAuZGF0YSA9IFtdO1xuICAgIHBvcHVwLnNldERhdGEgPSBmdW5jdGlvbihsaXN0LCBmaWx0ZXJUZXh0KSB7XG4gICAgICAgIHBvcHVwLmZpbHRlclRleHQgPSBmaWx0ZXJUZXh0IHx8IFwiXCI7XG4gICAgICAgIHBvcHVwLnNldFZhbHVlKGxhbmcuc3RyaW5nUmVwZWF0KFwiXFxuXCIsIGxpc3QubGVuZ3RoKSwgLTEpO1xuICAgICAgICBwb3B1cC5kYXRhID0gbGlzdCB8fCBbXTtcbiAgICAgICAgcG9wdXAuc2V0Um93KDApO1xuICAgIH07XG4gICAgcG9wdXAuZ2V0RGF0YSA9IGZ1bmN0aW9uKHJvdykge1xuICAgICAgICByZXR1cm4gcG9wdXAuZGF0YVtyb3ddO1xuICAgIH07XG5cbiAgICBwb3B1cC5nZXRSb3cgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHNlbGVjdGlvbk1hcmtlci5zdGFydC5yb3c7XG4gICAgfTtcbiAgICBwb3B1cC5zZXRSb3cgPSBmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgIGxpbmUgPSBNYXRoLm1heCh0aGlzLmF1dG9TZWxlY3QgPyAwIDogLTEsIE1hdGgubWluKHRoaXMuZGF0YS5sZW5ndGgsIGxpbmUpKTtcbiAgICAgICAgaWYgKHNlbGVjdGlvbk1hcmtlci5zdGFydC5yb3cgIT0gbGluZSkge1xuICAgICAgICAgICAgcG9wdXAuc2VsZWN0aW9uLmNsZWFyU2VsZWN0aW9uKCk7XG4gICAgICAgICAgICBzZWxlY3Rpb25NYXJrZXIuc3RhcnQucm93ID0gc2VsZWN0aW9uTWFya2VyLmVuZC5yb3cgPSBsaW5lIHx8IDA7XG4gICAgICAgICAgICBwb3B1cC5zZXNzaW9uLl9lbWl0KFwiY2hhbmdlQmFja01hcmtlclwiKTtcbiAgICAgICAgICAgIHBvcHVwLm1vdmVDdXJzb3JUbyhsaW5lIHx8IDAsIDApO1xuICAgICAgICAgICAgaWYgKHBvcHVwLmlzT3BlbilcbiAgICAgICAgICAgICAgICBwb3B1cC5fc2lnbmFsKFwic2VsZWN0XCIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHBvcHVwLm9uKFwiY2hhbmdlU2VsZWN0aW9uXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAocG9wdXAuaXNPcGVuKVxuICAgICAgICAgICAgcG9wdXAuc2V0Um93KHBvcHVwLnNlbGVjdGlvbi5sZWFkLnJvdyk7XG4gICAgICAgIHBvcHVwLnJlbmRlcmVyLnNjcm9sbEN1cnNvckludG9WaWV3KCk7XG4gICAgfSk7XG5cbiAgICBwb3B1cC5oaWRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgdGhpcy5fc2lnbmFsKFwiaGlkZVwiKTtcbiAgICAgICAgcG9wdXAuaXNPcGVuID0gZmFsc2U7XG4gICAgfTtcbiAgICBwb3B1cC5zaG93ID0gZnVuY3Rpb24ocG9zLCBsaW5lSGVpZ2h0LCB0b3Bkb3duT25seSkge1xuICAgICAgICB2YXIgZWwgPSB0aGlzLmNvbnRhaW5lcjtcbiAgICAgICAgdmFyIHNjcmVlbkhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgICAgdmFyIHNjcmVlbldpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciBtYXhIID0gcmVuZGVyZXIuJG1heExpbmVzICogbGluZUhlaWdodCAqIDEuNDtcbiAgICAgICAgdmFyIHRvcCA9IHBvcy50b3AgKyB0aGlzLiRib3JkZXJTaXplO1xuICAgICAgICB2YXIgYWxsb3dUb3Bkb3duID0gdG9wID4gc2NyZWVuSGVpZ2h0IC8gMiAmJiAhdG9wZG93bk9ubHk7XG4gICAgICAgIGlmIChhbGxvd1RvcGRvd24gJiYgdG9wICsgbGluZUhlaWdodCArIG1heEggPiBzY3JlZW5IZWlnaHQpIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLiRtYXhQaXhlbEhlaWdodCA9IHRvcCAtIDIgKiB0aGlzLiRib3JkZXJTaXplO1xuICAgICAgICAgICAgZWwuc3R5bGUudG9wID0gXCJcIjtcbiAgICAgICAgICAgIGVsLnN0eWxlLmJvdHRvbSA9IHNjcmVlbkhlaWdodCAtIHRvcCArIFwicHhcIjtcbiAgICAgICAgICAgIHBvcHVwLmlzVG9wZG93biA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdG9wICs9IGxpbmVIZWlnaHQ7XG4gICAgICAgICAgICByZW5kZXJlci4kbWF4UGl4ZWxIZWlnaHQgPSBzY3JlZW5IZWlnaHQgLSB0b3AgLSAwLjIgKiBsaW5lSGVpZ2h0O1xuICAgICAgICAgICAgZWwuc3R5bGUudG9wID0gdG9wICsgXCJweFwiO1xuICAgICAgICAgICAgZWwuc3R5bGUuYm90dG9tID0gXCJcIjtcbiAgICAgICAgICAgIHBvcHVwLmlzVG9wZG93biA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcblxuICAgICAgICB2YXIgbGVmdCA9IHBvcy5sZWZ0O1xuICAgICAgICBpZiAobGVmdCArIGVsLm9mZnNldFdpZHRoID4gc2NyZWVuV2lkdGgpXG4gICAgICAgICAgICBsZWZ0ID0gc2NyZWVuV2lkdGggLSBlbC5vZmZzZXRXaWR0aDtcblxuICAgICAgICBlbC5zdHlsZS5sZWZ0ID0gbGVmdCArIFwicHhcIjtcblxuICAgICAgICB0aGlzLl9zaWduYWwoXCJzaG93XCIpO1xuICAgICAgICBsYXN0TW91c2VFdmVudCA9IG51bGw7XG4gICAgICAgIHBvcHVwLmlzT3BlbiA9IHRydWU7XG4gICAgfTtcblxuICAgIHBvcHVwLmdvVG8gPSBmdW5jdGlvbih3aGVyZSkge1xuICAgICAgICB2YXIgcm93ID0gdGhpcy5nZXRSb3coKTtcbiAgICAgICAgdmFyIG1heCA9IHRoaXMuc2Vzc2lvbi5nZXRMZW5ndGgoKSAtIDE7XG5cbiAgICAgICAgc3dpdGNoKHdoZXJlKSB7XG4gICAgICAgICAgICBjYXNlIFwidXBcIjogcm93ID0gcm93IDw9IDAgPyBtYXggOiByb3cgLSAxOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJkb3duXCI6IHJvdyA9IHJvdyA+PSBtYXggPyAtMSA6IHJvdyArIDE7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInN0YXJ0XCI6IHJvdyA9IDA7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImVuZFwiOiByb3cgPSBtYXg7IGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXRSb3cocm93KTtcbiAgICB9O1xuXG5cbiAgICBwb3B1cC5nZXRUZXh0TGVmdE9mZnNldCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kYm9yZGVyU2l6ZSArIHRoaXMucmVuZGVyZXIuJHBhZGRpbmcgKyB0aGlzLiRpbWFnZVNpemU7XG4gICAgfTtcblxuICAgIHBvcHVwLiRpbWFnZVNpemUgPSAwO1xuICAgIHBvcHVwLiRib3JkZXJTaXplID0gMTtcblxuICAgIHJldHVybiBwb3B1cDtcbn07XG5cbmRvbS5pbXBvcnRDc3NTdHJpbmcoXCJcXFxuLmFjZV9lZGl0b3IuYWNlX2F1dG9jb21wbGV0ZSAuYWNlX21hcmtlci1sYXllciAuYWNlX2FjdGl2ZS1saW5lIHtcXFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNDQUQ2RkE7XFxcbiAgICB6LWluZGV4OiAxO1xcXG59XFxcbi5hY2VfZGFyay5hY2VfZWRpdG9yLmFjZV9hdXRvY29tcGxldGUgLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9hY3RpdmUtbGluZSB7XFxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjM2E2NzRlO1xcXG59XFxcbi5hY2VfZWRpdG9yLmFjZV9hdXRvY29tcGxldGUgLmFjZV9saW5lLWhvdmVyIHtcXFxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNhYmJmZmU7XFxcbiAgICBtYXJnaW4tdG9wOiAtMXB4O1xcXG4gICAgYmFja2dyb3VuZDogcmdiYSgyMzMsMjMzLDI1MywwLjQpO1xcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcXG4gICAgei1pbmRleDogMjtcXFxufVxcXG4uYWNlX2RhcmsuYWNlX2VkaXRvci5hY2VfYXV0b2NvbXBsZXRlIC5hY2VfbGluZS1ob3ZlciB7XFxcbiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDEwOSwgMTUwLCAxMywgMC44KTtcXFxuICAgIGJhY2tncm91bmQ6IHJnYmEoNTgsIDEwMywgNzgsIDAuNjIpO1xcXG59XFxcbi5hY2VfY29tcGxldGlvbi1tZXRhIHtcXFxuICAgIG9wYWNpdHk6IDAuNTtcXFxuICAgIG1hcmdpbjogMC45ZW07XFxcbn1cXFxuLmFjZV9jb21wbGV0aW9uLW1lc3NhZ2Uge1xcXG4gICAgY29sb3I6IGJsdWU7XFxcbn1cXFxuLmFjZV9lZGl0b3IuYWNlX2F1dG9jb21wbGV0ZSAuYWNlX2NvbXBsZXRpb24taGlnaGxpZ2h0e1xcXG4gICAgY29sb3I6ICMyZDY5Yzc7XFxcbn1cXFxuLmFjZV9kYXJrLmFjZV9lZGl0b3IuYWNlX2F1dG9jb21wbGV0ZSAuYWNlX2NvbXBsZXRpb24taGlnaGxpZ2h0e1xcXG4gICAgY29sb3I6ICM5M2NhMTI7XFxcbn1cXFxuLmFjZV9lZGl0b3IuYWNlX2F1dG9jb21wbGV0ZSB7XFxcbiAgICB3aWR0aDogMzAwcHg7XFxcbiAgICB6LWluZGV4OiAyMDAwMDA7XFxcbiAgICBib3JkZXI6IDFweCBsaWdodGdyYXkgc29saWQ7XFxcbiAgICBwb3NpdGlvbjogZml4ZWQ7XFxcbiAgICBib3gtc2hhZG93OiAycHggM3B4IDVweCByZ2JhKDAsMCwwLC4yKTtcXFxuICAgIGxpbmUtaGVpZ2h0OiAxLjQ7XFxcbiAgICBiYWNrZ3JvdW5kOiAjZmVmZWZlO1xcXG4gICAgY29sb3I6ICMxMTE7XFxcbn1cXFxuLmFjZV9kYXJrLmFjZV9lZGl0b3IuYWNlX2F1dG9jb21wbGV0ZSB7XFxcbiAgICBib3JkZXI6IDFweCAjNDg0NzQ3IHNvbGlkO1xcXG4gICAgYm94LXNoYWRvdzogMnB4IDNweCA1cHggcmdiYSgwLCAwLCAwLCAwLjUxKTtcXFxuICAgIGxpbmUtaGVpZ2h0OiAxLjQ7XFxcbiAgICBiYWNrZ3JvdW5kOiAjMjUyODJjO1xcXG4gICAgY29sb3I6ICNjMWMxYzE7XFxcbn1cIiwgXCJhdXRvY29tcGxldGlvbi5jc3NcIiwgZmFsc2UpO1xuXG5leHBvcnRzLkFjZVBvcHVwID0gQWNlUG9wdXA7XG5leHBvcnRzLiRzaW5nbGVMaW5lRWRpdG9yID0gJHNpbmdsZUxpbmVFZGl0b3I7XG59KTtcblxuYWNlLmRlZmluZShcImFjZS9hdXRvY29tcGxldGUvdXRpbFwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5wYXJGb3JFYWNoID0gZnVuY3Rpb24oYXJyYXksIGZuLCBjYWxsYmFjaykge1xuICAgIHZhciBjb21wbGV0ZWQgPSAwO1xuICAgIHZhciBhckxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICBpZiAoYXJMZW5ndGggPT09IDApXG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhckxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGZuKGFycmF5W2ldLCBmdW5jdGlvbihyZXN1bHQsIGVycikge1xuICAgICAgICAgICAgY29tcGxldGVkKys7XG4gICAgICAgICAgICBpZiAoY29tcGxldGVkID09PSBhckxlbmd0aClcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhyZXN1bHQsIGVycik7XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5cbnZhciBJRF9SRUdFWCA9IC9bYS16QS1aXzAtOVxcJFxcLVxcdTAwQTItXFx1MjAwMFxcdTIwNzAtXFx1RkZGRl0vO1xuXG5leHBvcnRzLnJldHJpZXZlUHJlY2VkaW5nSWRlbnRpZmllciA9IGZ1bmN0aW9uKHRleHQsIHBvcywgcmVnZXgpIHtcbiAgICByZWdleCA9IHJlZ2V4IHx8IElEX1JFR0VYO1xuICAgIHZhciBidWYgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gcG9zLTE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGlmIChyZWdleC50ZXN0KHRleHRbaV0pKVxuICAgICAgICAgICAgYnVmLnB1c2godGV4dFtpXSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gYnVmLnJldmVyc2UoKS5qb2luKFwiXCIpO1xufTtcblxuZXhwb3J0cy5yZXRyaWV2ZUZvbGxvd2luZ0lkZW50aWZpZXIgPSBmdW5jdGlvbih0ZXh0LCBwb3MsIHJlZ2V4KSB7XG4gICAgcmVnZXggPSByZWdleCB8fCBJRF9SRUdFWDtcbiAgICB2YXIgYnVmID0gW107XG4gICAgZm9yICh2YXIgaSA9IHBvczsgaSA8IHRleHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHJlZ2V4LnRlc3QodGV4dFtpXSkpXG4gICAgICAgICAgICBidWYucHVzaCh0ZXh0W2ldKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBidWY7XG59O1xuXG5leHBvcnRzLmdldENvbXBsZXRpb25QcmVmaXggPSBmdW5jdGlvbiAoZWRpdG9yKSB7XG4gICAgdmFyIHBvcyA9IGVkaXRvci5nZXRDdXJzb3JQb3NpdGlvbigpO1xuICAgIHZhciBsaW5lID0gZWRpdG9yLnNlc3Npb24uZ2V0TGluZShwb3Mucm93KTtcbiAgICB2YXIgcHJlZml4O1xuICAgIGVkaXRvci5jb21wbGV0ZXJzLmZvckVhY2goZnVuY3Rpb24oY29tcGxldGVyKSB7XG4gICAgICAgIGlmIChjb21wbGV0ZXIuaWRlbnRpZmllclJlZ2V4cHMpIHtcbiAgICAgICAgICAgIGNvbXBsZXRlci5pZGVudGlmaWVyUmVnZXhwcy5mb3JFYWNoKGZ1bmN0aW9uKGlkZW50aWZpZXJSZWdleCkge1xuICAgICAgICAgICAgICAgIGlmICghcHJlZml4ICYmIGlkZW50aWZpZXJSZWdleClcbiAgICAgICAgICAgICAgICAgICAgcHJlZml4ID0gdGhpcy5yZXRyaWV2ZVByZWNlZGluZ0lkZW50aWZpZXIobGluZSwgcG9zLmNvbHVtbiwgaWRlbnRpZmllclJlZ2V4KTtcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICB9LmJpbmQodGhpcykpO1xuICAgIHJldHVybiBwcmVmaXggfHwgdGhpcy5yZXRyaWV2ZVByZWNlZGluZ0lkZW50aWZpZXIobGluZSwgcG9zLmNvbHVtbik7XG59O1xuXG59KTtcblxuYWNlLmRlZmluZShcImFjZS9hdXRvY29tcGxldGVcIixbXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIixcImFjZS9rZXlib2FyZC9oYXNoX2hhbmRsZXJcIixcImFjZS9hdXRvY29tcGxldGUvcG9wdXBcIixcImFjZS9hdXRvY29tcGxldGUvdXRpbFwiLFwiYWNlL2xpYi9sYW5nXCIsXCJhY2UvbGliL2RvbVwiLFwiYWNlL3NuaXBwZXRzXCIsXCJhY2UvY29uZmlnXCJdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgSGFzaEhhbmRsZXIgPSByZXF1aXJlKFwiLi9rZXlib2FyZC9oYXNoX2hhbmRsZXJcIikuSGFzaEhhbmRsZXI7XG52YXIgQWNlUG9wdXAgPSByZXF1aXJlKFwiLi9hdXRvY29tcGxldGUvcG9wdXBcIikuQWNlUG9wdXA7XG52YXIgdXRpbCA9IHJlcXVpcmUoXCIuL2F1dG9jb21wbGV0ZS91dGlsXCIpO1xudmFyIGxhbmcgPSByZXF1aXJlKFwiLi9saWIvbGFuZ1wiKTtcbnZhciBkb20gPSByZXF1aXJlKFwiLi9saWIvZG9tXCIpO1xudmFyIHNuaXBwZXRNYW5hZ2VyID0gcmVxdWlyZShcIi4vc25pcHBldHNcIikuc25pcHBldE1hbmFnZXI7XG52YXIgY29uZmlnID0gcmVxdWlyZShcIi4vY29uZmlnXCIpO1xuXG52YXIgQXV0b2NvbXBsZXRlID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5hdXRvSW5zZXJ0ID0gZmFsc2U7XG4gICAgdGhpcy5hdXRvU2VsZWN0ID0gdHJ1ZTtcbiAgICB0aGlzLmV4YWN0TWF0Y2ggPSBmYWxzZTtcbiAgICB0aGlzLmdhdGhlckNvbXBsZXRpb25zSWQgPSAwO1xuICAgIHRoaXMua2V5Ym9hcmRIYW5kbGVyID0gbmV3IEhhc2hIYW5kbGVyKCk7XG4gICAgdGhpcy5rZXlib2FyZEhhbmRsZXIuYmluZEtleXModGhpcy5jb21tYW5kcyk7XG5cbiAgICB0aGlzLmJsdXJMaXN0ZW5lciA9IHRoaXMuYmx1ckxpc3RlbmVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5jaGFuZ2VMaXN0ZW5lciA9IHRoaXMuY2hhbmdlTGlzdGVuZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLm1vdXNlZG93bkxpc3RlbmVyID0gdGhpcy5tb3VzZWRvd25MaXN0ZW5lci5iaW5kKHRoaXMpO1xuICAgIHRoaXMubW91c2V3aGVlbExpc3RlbmVyID0gdGhpcy5tb3VzZXdoZWVsTGlzdGVuZXIuYmluZCh0aGlzKTtcblxuICAgIHRoaXMuY2hhbmdlVGltZXIgPSBsYW5nLmRlbGF5ZWRDYWxsKGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnVwZGF0ZUNvbXBsZXRpb25zKHRydWUpO1xuICAgIH0uYmluZCh0aGlzKSk7XG5cbiAgICB0aGlzLnRvb2x0aXBUaW1lciA9IGxhbmcuZGVsYXllZENhbGwodGhpcy51cGRhdGVEb2NUb29sdGlwLmJpbmQodGhpcyksIDUwKTtcbn07XG5cbihmdW5jdGlvbigpIHtcblxuICAgIHRoaXMuJGluaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5wb3B1cCA9IG5ldyBBY2VQb3B1cChkb2N1bWVudC5ib2R5IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCk7XG4gICAgICAgIHRoaXMucG9wdXAub24oXCJjbGlja1wiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICB0aGlzLmluc2VydE1hdGNoKCk7XG4gICAgICAgICAgICBlLnN0b3AoKTtcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5wb3B1cC5mb2N1cyA9IHRoaXMuZWRpdG9yLmZvY3VzLmJpbmQodGhpcy5lZGl0b3IpO1xuICAgICAgICB0aGlzLnBvcHVwLm9uKFwic2hvd1wiLCB0aGlzLnRvb2x0aXBUaW1lci5iaW5kKG51bGwsIG51bGwpKTtcbiAgICAgICAgdGhpcy5wb3B1cC5vbihcInNlbGVjdFwiLCB0aGlzLnRvb2x0aXBUaW1lci5iaW5kKG51bGwsIG51bGwpKTtcbiAgICAgICAgdGhpcy5wb3B1cC5vbihcImNoYW5nZUhvdmVyTWFya2VyXCIsIHRoaXMudG9vbHRpcFRpbWVyLmJpbmQobnVsbCwgbnVsbCkpO1xuICAgICAgICByZXR1cm4gdGhpcy5wb3B1cDtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRQb3B1cCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wb3B1cCB8fCB0aGlzLiRpbml0KCk7XG4gICAgfTtcblxuICAgIHRoaXMub3BlblBvcHVwID0gZnVuY3Rpb24oZWRpdG9yLCBwcmVmaXgsIGtlZXBQb3B1cFBvc2l0aW9uKSB7XG4gICAgICAgIGlmICghdGhpcy5wb3B1cClcbiAgICAgICAgICAgIHRoaXMuJGluaXQoKTtcblxuICAgICAgICB0aGlzLnBvcHVwLmF1dG9TZWxlY3QgPSB0aGlzLmF1dG9TZWxlY3Q7XG5cbiAgICAgICAgdGhpcy5wb3B1cC5zZXREYXRhKHRoaXMuY29tcGxldGlvbnMuZmlsdGVyZWQsIHRoaXMuY29tcGxldGlvbnMuZmlsdGVyVGV4dCk7XG5cbiAgICAgICAgZWRpdG9yLmtleUJpbmRpbmcuYWRkS2V5Ym9hcmRIYW5kbGVyKHRoaXMua2V5Ym9hcmRIYW5kbGVyKTtcbiAgICAgICAgXG4gICAgICAgIHZhciByZW5kZXJlciA9IGVkaXRvci5yZW5kZXJlcjtcbiAgICAgICAgdGhpcy5wb3B1cC5zZXRSb3codGhpcy5hdXRvU2VsZWN0ID8gMCA6IC0xKTtcbiAgICAgICAgaWYgKCFrZWVwUG9wdXBQb3NpdGlvbikge1xuICAgICAgICAgICAgdGhpcy5wb3B1cC5zZXRUaGVtZShlZGl0b3IuZ2V0VGhlbWUoKSk7XG4gICAgICAgICAgICB0aGlzLnBvcHVwLnNldEZvbnRTaXplKGVkaXRvci5nZXRGb250U2l6ZSgpKTtcblxuICAgICAgICAgICAgdmFyIGxpbmVIZWlnaHQgPSByZW5kZXJlci5sYXllckNvbmZpZy5saW5lSGVpZ2h0O1xuXG4gICAgICAgICAgICB2YXIgcG9zID0gcmVuZGVyZXIuJGN1cnNvckxheWVyLmdldFBpeGVsUG9zaXRpb24odGhpcy5iYXNlLCB0cnVlKTtcbiAgICAgICAgICAgIHBvcy5sZWZ0IC09IHRoaXMucG9wdXAuZ2V0VGV4dExlZnRPZmZzZXQoKTtcblxuICAgICAgICAgICAgdmFyIHJlY3QgPSBlZGl0b3IuY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgcG9zLnRvcCArPSByZWN0LnRvcCAtIHJlbmRlcmVyLmxheWVyQ29uZmlnLm9mZnNldDtcbiAgICAgICAgICAgIHBvcy5sZWZ0ICs9IHJlY3QubGVmdCAtIGVkaXRvci5yZW5kZXJlci5zY3JvbGxMZWZ0O1xuICAgICAgICAgICAgcG9zLmxlZnQgKz0gcmVuZGVyZXIuZ3V0dGVyV2lkdGg7XG5cbiAgICAgICAgICAgIHRoaXMucG9wdXAuc2hvdyhwb3MsIGxpbmVIZWlnaHQpO1xuICAgICAgICB9IGVsc2UgaWYgKGtlZXBQb3B1cFBvc2l0aW9uICYmICFwcmVmaXgpIHtcbiAgICAgICAgICAgIHRoaXMuZGV0YWNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGFuZ2VUaW1lci5jYW5jZWwoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5kZXRhY2ggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5lZGl0b3Iua2V5QmluZGluZy5yZW1vdmVLZXlib2FyZEhhbmRsZXIodGhpcy5rZXlib2FyZEhhbmRsZXIpO1xuICAgICAgICB0aGlzLmVkaXRvci5vZmYoXCJjaGFuZ2VTZWxlY3Rpb25cIiwgdGhpcy5jaGFuZ2VMaXN0ZW5lcik7XG4gICAgICAgIHRoaXMuZWRpdG9yLm9mZihcImJsdXJcIiwgdGhpcy5ibHVyTGlzdGVuZXIpO1xuICAgICAgICB0aGlzLmVkaXRvci5vZmYoXCJtb3VzZWRvd25cIiwgdGhpcy5tb3VzZWRvd25MaXN0ZW5lcik7XG4gICAgICAgIHRoaXMuZWRpdG9yLm9mZihcIm1vdXNld2hlZWxcIiwgdGhpcy5tb3VzZXdoZWVsTGlzdGVuZXIpO1xuICAgICAgICB0aGlzLmNoYW5nZVRpbWVyLmNhbmNlbCgpO1xuICAgICAgICB0aGlzLmhpZGVEb2NUb29sdGlwKCk7XG5cbiAgICAgICAgdGhpcy5nYXRoZXJDb21wbGV0aW9uc0lkICs9IDE7XG4gICAgICAgIGlmICh0aGlzLnBvcHVwICYmIHRoaXMucG9wdXAuaXNPcGVuKVxuICAgICAgICAgICAgdGhpcy5wb3B1cC5oaWRlKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuYmFzZSlcbiAgICAgICAgICAgIHRoaXMuYmFzZS5kZXRhY2goKTtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jb21wbGV0aW9ucyA9IHRoaXMuYmFzZSA9IG51bGw7XG4gICAgfTtcblxuICAgIHRoaXMuY2hhbmdlTGlzdGVuZXIgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBjdXJzb3IgPSB0aGlzLmVkaXRvci5zZWxlY3Rpb24ubGVhZDtcbiAgICAgICAgaWYgKGN1cnNvci5yb3cgIT0gdGhpcy5iYXNlLnJvdyB8fCBjdXJzb3IuY29sdW1uIDwgdGhpcy5iYXNlLmNvbHVtbikge1xuICAgICAgICAgICAgdGhpcy5kZXRhY2goKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5hY3RpdmF0ZWQpXG4gICAgICAgICAgICB0aGlzLmNoYW5nZVRpbWVyLnNjaGVkdWxlKCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuZGV0YWNoKCk7XG4gICAgfTtcblxuICAgIHRoaXMuYmx1ckxpc3RlbmVyID0gZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgZWwgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgICAgICB2YXIgdGV4dCA9IHRoaXMuZWRpdG9yLnRleHRJbnB1dC5nZXRFbGVtZW50KCk7XG4gICAgICAgIHZhciBmcm9tVG9vbHRpcCA9IGUucmVsYXRlZFRhcmdldCAmJiB0aGlzLnRvb2x0aXBOb2RlICYmIHRoaXMudG9vbHRpcE5vZGUuY29udGFpbnMoZS5yZWxhdGVkVGFyZ2V0KTtcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMucG9wdXAgJiYgdGhpcy5wb3B1cC5jb250YWluZXI7XG4gICAgICAgIGlmIChlbCAhPSB0ZXh0ICYmIGVsLnBhcmVudE5vZGUgIT0gY29udGFpbmVyICYmICFmcm9tVG9vbHRpcFxuICAgICAgICAgICAgJiYgZWwgIT0gdGhpcy50b29sdGlwTm9kZSAmJiBlLnJlbGF0ZWRUYXJnZXQgIT0gdGV4dFxuICAgICAgICApIHtcbiAgICAgICAgICAgIHRoaXMuZGV0YWNoKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5tb3VzZWRvd25MaXN0ZW5lciA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdGhpcy5kZXRhY2goKTtcbiAgICB9O1xuXG4gICAgdGhpcy5tb3VzZXdoZWVsTGlzdGVuZXIgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHRoaXMuZGV0YWNoKCk7XG4gICAgfTtcblxuICAgIHRoaXMuZ29UbyA9IGZ1bmN0aW9uKHdoZXJlKSB7XG4gICAgICAgIHRoaXMucG9wdXAuZ29Ubyh3aGVyZSk7XG4gICAgfTtcblxuICAgIHRoaXMuaW5zZXJ0TWF0Y2ggPSBmdW5jdGlvbihkYXRhLCBvcHRpb25zKSB7XG4gICAgICAgIGlmICghZGF0YSlcbiAgICAgICAgICAgIGRhdGEgPSB0aGlzLnBvcHVwLmdldERhdGEodGhpcy5wb3B1cC5nZXRSb3coKSk7XG4gICAgICAgIGlmICghZGF0YSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICB2YXIgY29tcGxldGlvbnMgPSB0aGlzLmNvbXBsZXRpb25zO1xuICAgICAgICB0aGlzLmVkaXRvci5zdGFydE9wZXJhdGlvbih7Y29tbWFuZDoge25hbWU6IFwiaW5zZXJ0TWF0Y2hcIn19KTtcbiAgICAgICAgaWYgKGRhdGEuY29tcGxldGVyICYmIGRhdGEuY29tcGxldGVyLmluc2VydE1hdGNoKSB7XG4gICAgICAgICAgICBkYXRhLmNvbXBsZXRlci5pbnNlcnRNYXRjaCh0aGlzLmVkaXRvciwgZGF0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIWNvbXBsZXRpb25zKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGlmIChjb21wbGV0aW9ucy5maWx0ZXJUZXh0KSB7XG4gICAgICAgICAgICAgICAgdmFyIHJhbmdlcyA9IHRoaXMuZWRpdG9yLnNlbGVjdGlvbi5nZXRBbGxSYW5nZXMoKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgcmFuZ2U7IHJhbmdlID0gcmFuZ2VzW2ldOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc3RhcnQuY29sdW1uIC09IGNvbXBsZXRpb25zLmZpbHRlclRleHQubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRvci5zZXNzaW9uLnJlbW92ZShyYW5nZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGEuc25pcHBldClcbiAgICAgICAgICAgICAgICBzbmlwcGV0TWFuYWdlci5pbnNlcnRTbmlwcGV0KHRoaXMuZWRpdG9yLCBkYXRhLnNuaXBwZXQpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRoaXMuZWRpdG9yLmV4ZWNDb21tYW5kKFwiaW5zZXJ0c3RyaW5nXCIsIGRhdGEudmFsdWUgfHwgZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY29tcGxldGlvbnMgPT0gY29tcGxldGlvbnMpXG4gICAgICAgICAgICB0aGlzLmRldGFjaCgpO1xuICAgICAgICB0aGlzLmVkaXRvci5lbmRPcGVyYXRpb24oKTtcbiAgICB9O1xuXG5cbiAgICB0aGlzLmNvbW1hbmRzID0ge1xuICAgICAgICBcIlVwXCI6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IuY29tcGxldGVyLmdvVG8oXCJ1cFwiKTsgfSxcbiAgICAgICAgXCJEb3duXCI6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IuY29tcGxldGVyLmdvVG8oXCJkb3duXCIpOyB9LFxuICAgICAgICBcIkN0cmwtVXB8Q3RybC1Ib21lXCI6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IuY29tcGxldGVyLmdvVG8oXCJzdGFydFwiKTsgfSxcbiAgICAgICAgXCJDdHJsLURvd258Q3RybC1FbmRcIjogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5jb21wbGV0ZXIuZ29UbyhcImVuZFwiKTsgfSxcblxuICAgICAgICBcIkVzY1wiOiBmdW5jdGlvbihlZGl0b3IpIHsgZWRpdG9yLmNvbXBsZXRlci5kZXRhY2goKTsgfSxcbiAgICAgICAgXCJSZXR1cm5cIjogZnVuY3Rpb24oZWRpdG9yKSB7IHJldHVybiBlZGl0b3IuY29tcGxldGVyLmluc2VydE1hdGNoKCk7IH0sXG4gICAgICAgIFwiU2hpZnQtUmV0dXJuXCI6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IuY29tcGxldGVyLmluc2VydE1hdGNoKG51bGwsIHtkZWxldGVTdWZmaXg6IHRydWV9KTsgfSxcbiAgICAgICAgXCJUYWJcIjogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gZWRpdG9yLmNvbXBsZXRlci5pbnNlcnRNYXRjaCgpO1xuICAgICAgICAgICAgaWYgKCFyZXN1bHQgJiYgIWVkaXRvci50YWJzdG9wTWFuYWdlcilcbiAgICAgICAgICAgICAgICBlZGl0b3IuY29tcGxldGVyLmdvVG8oXCJkb3duXCIpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgXCJQYWdlVXBcIjogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRvci5jb21wbGV0ZXIucG9wdXAuZ290b1BhZ2VVcCgpOyB9LFxuICAgICAgICBcIlBhZ2VEb3duXCI6IGZ1bmN0aW9uKGVkaXRvcikgeyBlZGl0b3IuY29tcGxldGVyLnBvcHVwLmdvdG9QYWdlRG93bigpOyB9XG4gICAgfTtcblxuICAgIHRoaXMuZ2F0aGVyQ29tcGxldGlvbnMgPSBmdW5jdGlvbihlZGl0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBzZXNzaW9uID0gZWRpdG9yLmdldFNlc3Npb24oKTtcbiAgICAgICAgdmFyIHBvcyA9IGVkaXRvci5nZXRDdXJzb3JQb3NpdGlvbigpO1xuXG4gICAgICAgIHZhciBwcmVmaXggPSB1dGlsLmdldENvbXBsZXRpb25QcmVmaXgoZWRpdG9yKTtcblxuICAgICAgICB0aGlzLmJhc2UgPSBzZXNzaW9uLmRvYy5jcmVhdGVBbmNob3IocG9zLnJvdywgcG9zLmNvbHVtbiAtIHByZWZpeC5sZW5ndGgpO1xuICAgICAgICB0aGlzLmJhc2UuJGluc2VydFJpZ2h0ID0gdHJ1ZTtcblxuICAgICAgICB2YXIgbWF0Y2hlcyA9IFtdO1xuICAgICAgICB2YXIgdG90YWwgPSBlZGl0b3IuY29tcGxldGVycy5sZW5ndGg7XG4gICAgICAgIGVkaXRvci5jb21wbGV0ZXJzLmZvckVhY2goZnVuY3Rpb24oY29tcGxldGVyLCBpKSB7XG4gICAgICAgICAgICBjb21wbGV0ZXIuZ2V0Q29tcGxldGlvbnMoZWRpdG9yLCBzZXNzaW9uLCBwb3MsIHByZWZpeCwgZnVuY3Rpb24oZXJyLCByZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFlcnIgJiYgcmVzdWx0cylcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcyA9IG1hdGNoZXMuY29uY2F0KHJlc3VsdHMpO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHtcbiAgICAgICAgICAgICAgICAgICAgcHJlZml4OiB1dGlsLmdldENvbXBsZXRpb25QcmVmaXgoZWRpdG9yKSxcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlczogbWF0Y2hlcyxcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoZWQ6ICgtLXRvdGFsID09PSAwKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgdGhpcy5zaG93UG9wdXAgPSBmdW5jdGlvbihlZGl0b3IsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMuZWRpdG9yKVxuICAgICAgICAgICAgdGhpcy5kZXRhY2goKTtcblxuICAgICAgICB0aGlzLmFjdGl2YXRlZCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5lZGl0b3IgPSBlZGl0b3I7XG4gICAgICAgIGlmIChlZGl0b3IuY29tcGxldGVyICE9IHRoaXMpIHtcbiAgICAgICAgICAgIGlmIChlZGl0b3IuY29tcGxldGVyKVxuICAgICAgICAgICAgICAgIGVkaXRvci5jb21wbGV0ZXIuZGV0YWNoKCk7XG4gICAgICAgICAgICBlZGl0b3IuY29tcGxldGVyID0gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGVkaXRvci5vbihcImNoYW5nZVNlbGVjdGlvblwiLCB0aGlzLmNoYW5nZUxpc3RlbmVyKTtcbiAgICAgICAgZWRpdG9yLm9uKFwiYmx1clwiLCB0aGlzLmJsdXJMaXN0ZW5lcik7XG4gICAgICAgIGVkaXRvci5vbihcIm1vdXNlZG93blwiLCB0aGlzLm1vdXNlZG93bkxpc3RlbmVyKTtcbiAgICAgICAgZWRpdG9yLm9uKFwibW91c2V3aGVlbFwiLCB0aGlzLm1vdXNld2hlZWxMaXN0ZW5lcik7XG5cbiAgICAgICAgdGhpcy51cGRhdGVDb21wbGV0aW9ucyhmYWxzZSwgb3B0aW9ucyk7XG4gICAgfTtcblxuICAgIHRoaXMudXBkYXRlQ29tcGxldGlvbnMgPSBmdW5jdGlvbihrZWVwUG9wdXBQb3NpdGlvbiwgb3B0aW9ucykge1xuICAgICAgICBpZiAoa2VlcFBvcHVwUG9zaXRpb24gJiYgdGhpcy5iYXNlICYmIHRoaXMuY29tcGxldGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBwb3MgPSB0aGlzLmVkaXRvci5nZXRDdXJzb3JQb3NpdGlvbigpO1xuICAgICAgICAgICAgdmFyIHByZWZpeCA9IHRoaXMuZWRpdG9yLnNlc3Npb24uZ2V0VGV4dFJhbmdlKHtzdGFydDogdGhpcy5iYXNlLCBlbmQ6IHBvc30pO1xuICAgICAgICAgICAgaWYgKHByZWZpeCA9PSB0aGlzLmNvbXBsZXRpb25zLmZpbHRlclRleHQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5jb21wbGV0aW9ucy5zZXRGaWx0ZXIocHJlZml4KTtcbiAgICAgICAgICAgIGlmICghdGhpcy5jb21wbGV0aW9ucy5maWx0ZXJlZC5sZW5ndGgpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGV0YWNoKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5jb21wbGV0aW9ucy5maWx0ZXJlZC5sZW5ndGggPT0gMVxuICAgICAgICAgICAgJiYgdGhpcy5jb21wbGV0aW9ucy5maWx0ZXJlZFswXS52YWx1ZSA9PSBwcmVmaXhcbiAgICAgICAgICAgICYmICF0aGlzLmNvbXBsZXRpb25zLmZpbHRlcmVkWzBdLnNuaXBwZXQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGV0YWNoKCk7XG4gICAgICAgICAgICB0aGlzLm9wZW5Qb3B1cCh0aGlzLmVkaXRvciwgcHJlZml4LCBrZWVwUG9wdXBQb3NpdGlvbik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMubWF0Y2hlcykge1xuICAgICAgICAgICAgdmFyIHBvcyA9IHRoaXMuZWRpdG9yLmdldFNlbGVjdGlvblJhbmdlKCkuc3RhcnQ7XG4gICAgICAgICAgICB0aGlzLmJhc2UgPSB0aGlzLmVkaXRvci5zZXNzaW9uLmRvYy5jcmVhdGVBbmNob3IocG9zLnJvdywgcG9zLmNvbHVtbik7XG4gICAgICAgICAgICB0aGlzLmJhc2UuJGluc2VydFJpZ2h0ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuY29tcGxldGlvbnMgPSBuZXcgRmlsdGVyZWRMaXN0KG9wdGlvbnMubWF0Y2hlcyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vcGVuUG9wdXAodGhpcy5lZGl0b3IsIFwiXCIsIGtlZXBQb3B1cFBvc2l0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2lkID0gdGhpcy5nYXRoZXJDb21wbGV0aW9uc0lkO1xuICAgICAgICB2YXIgZGV0YWNoSWZGaW5pc2hlZCA9IGZ1bmN0aW9uKHJlc3VsdHMpIHtcbiAgICAgICAgICAgIGlmICghcmVzdWx0cy5maW5pc2hlZCkgcmV0dXJuO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGV0YWNoKCk7XG4gICAgICAgIH0uYmluZCh0aGlzKTtcblxuICAgICAgICB2YXIgcHJvY2Vzc1Jlc3VsdHMgPSBmdW5jdGlvbihyZXN1bHRzKSB7XG4gICAgICAgICAgICB2YXIgcHJlZml4ID0gcmVzdWx0cy5wcmVmaXg7XG4gICAgICAgICAgICB2YXIgbWF0Y2hlcyA9IHJlc3VsdHMubWF0Y2hlcztcblxuICAgICAgICAgICAgdGhpcy5jb21wbGV0aW9ucyA9IG5ldyBGaWx0ZXJlZExpc3QobWF0Y2hlcyk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmV4YWN0TWF0Y2gpXG4gICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0aW9ucy5leGFjdE1hdGNoID0gdHJ1ZTtcblxuICAgICAgICAgICAgdGhpcy5jb21wbGV0aW9ucy5zZXRGaWx0ZXIocHJlZml4KTtcbiAgICAgICAgICAgIHZhciBmaWx0ZXJlZCA9IHRoaXMuY29tcGxldGlvbnMuZmlsdGVyZWQ7XG4gICAgICAgICAgICBpZiAoIWZpbHRlcmVkLmxlbmd0aClcbiAgICAgICAgICAgICAgICByZXR1cm4gZGV0YWNoSWZGaW5pc2hlZChyZXN1bHRzKTtcbiAgICAgICAgICAgIGlmIChmaWx0ZXJlZC5sZW5ndGggPT0gMSAmJiBmaWx0ZXJlZFswXS52YWx1ZSA9PSBwcmVmaXggJiYgIWZpbHRlcmVkWzBdLnNuaXBwZXQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRldGFjaElmRmluaXNoZWQocmVzdWx0cyk7XG4gICAgICAgICAgICBpZiAodGhpcy5hdXRvSW5zZXJ0ICYmIGZpbHRlcmVkLmxlbmd0aCA9PSAxICYmIHJlc3VsdHMuZmluaXNoZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0TWF0Y2goZmlsdGVyZWRbMF0pO1xuXG4gICAgICAgICAgICB0aGlzLm9wZW5Qb3B1cCh0aGlzLmVkaXRvciwgcHJlZml4LCBrZWVwUG9wdXBQb3NpdGlvbik7XG4gICAgICAgIH0uYmluZCh0aGlzKTtcblxuICAgICAgICB2YXIgaXNJbW1lZGlhdGUgPSB0cnVlO1xuICAgICAgICB2YXIgaW1tZWRpYXRlUmVzdWx0cyA9IG51bGw7XG4gICAgICAgIHRoaXMuZ2F0aGVyQ29tcGxldGlvbnModGhpcy5lZGl0b3IsIGZ1bmN0aW9uKGVyciwgcmVzdWx0cykge1xuICAgICAgICAgICAgdmFyIHByZWZpeCA9IHJlc3VsdHMucHJlZml4O1xuICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSByZXN1bHRzICYmIHJlc3VsdHMubWF0Y2hlcztcblxuICAgICAgICAgICAgaWYgKCFtYXRjaGVzIHx8ICFtYXRjaGVzLmxlbmd0aClcbiAgICAgICAgICAgICAgICByZXR1cm4gZGV0YWNoSWZGaW5pc2hlZChyZXN1bHRzKTtcbiAgICAgICAgICAgIGlmIChwcmVmaXguaW5kZXhPZihyZXN1bHRzLnByZWZpeCkgIT09IDAgfHwgX2lkICE9IHRoaXMuZ2F0aGVyQ29tcGxldGlvbnNJZClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBpZiAoaXNJbW1lZGlhdGUpIHtcbiAgICAgICAgICAgICAgICBpbW1lZGlhdGVSZXN1bHRzID0gcmVzdWx0cztcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHByb2Nlc3NSZXN1bHRzKHJlc3VsdHMpO1xuICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICBcbiAgICAgICAgaXNJbW1lZGlhdGUgPSBmYWxzZTtcbiAgICAgICAgaWYgKGltbWVkaWF0ZVJlc3VsdHMpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHRzID0gaW1tZWRpYXRlUmVzdWx0cztcbiAgICAgICAgICAgIGltbWVkaWF0ZVJlc3VsdHMgPSBudWxsO1xuICAgICAgICAgICAgcHJvY2Vzc1Jlc3VsdHMocmVzdWx0cyk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5jYW5jZWxDb250ZXh0TWVudSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmVkaXRvci4kbW91c2VIYW5kbGVyLmNhbmNlbENvbnRleHRNZW51KCk7XG4gICAgfTtcblxuICAgIHRoaXMudXBkYXRlRG9jVG9vbHRpcCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcG9wdXAgPSB0aGlzLnBvcHVwO1xuICAgICAgICB2YXIgYWxsID0gcG9wdXAuZGF0YTtcbiAgICAgICAgdmFyIHNlbGVjdGVkID0gYWxsICYmIChhbGxbcG9wdXAuZ2V0SG92ZXJlZFJvdygpXSB8fCBhbGxbcG9wdXAuZ2V0Um93KCldKTtcbiAgICAgICAgdmFyIGRvYyA9IG51bGw7XG4gICAgICAgIGlmICghc2VsZWN0ZWQgfHwgIXRoaXMuZWRpdG9yIHx8ICF0aGlzLnBvcHVwLmlzT3BlbilcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhpZGVEb2NUb29sdGlwKCk7XG4gICAgICAgIHRoaXMuZWRpdG9yLmNvbXBsZXRlcnMuc29tZShmdW5jdGlvbihjb21wbGV0ZXIpIHtcbiAgICAgICAgICAgIGlmIChjb21wbGV0ZXIuZ2V0RG9jVG9vbHRpcClcbiAgICAgICAgICAgICAgICBkb2MgPSBjb21wbGV0ZXIuZ2V0RG9jVG9vbHRpcChzZWxlY3RlZCk7XG4gICAgICAgICAgICByZXR1cm4gZG9jO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFkb2MgJiYgdHlwZW9mIHNlbGVjdGVkICE9IFwic3RyaW5nXCIpXG4gICAgICAgICAgICBkb2MgPSBzZWxlY3RlZDtcblxuICAgICAgICBpZiAodHlwZW9mIGRvYyA9PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgZG9jID0ge2RvY1RleHQ6IGRvY307XG4gICAgICAgIGlmICghZG9jIHx8ICEoZG9jLmRvY0hUTUwgfHwgZG9jLmRvY1RleHQpKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGlkZURvY1Rvb2x0aXAoKTtcbiAgICAgICAgdGhpcy5zaG93RG9jVG9vbHRpcChkb2MpO1xuICAgIH07XG5cbiAgICB0aGlzLnNob3dEb2NUb29sdGlwID0gZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICBpZiAoIXRoaXMudG9vbHRpcE5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMudG9vbHRpcE5vZGUgPSBkb20uY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIHRoaXMudG9vbHRpcE5vZGUuY2xhc3NOYW1lID0gXCJhY2VfdG9vbHRpcCBhY2VfZG9jLXRvb2x0aXBcIjtcbiAgICAgICAgICAgIHRoaXMudG9vbHRpcE5vZGUuc3R5bGUubWFyZ2luID0gMDtcbiAgICAgICAgICAgIHRoaXMudG9vbHRpcE5vZGUuc3R5bGUucG9pbnRlckV2ZW50cyA9IFwiYXV0b1wiO1xuICAgICAgICAgICAgdGhpcy50b29sdGlwTm9kZS50YWJJbmRleCA9IC0xO1xuICAgICAgICAgICAgdGhpcy50b29sdGlwTm9kZS5vbmJsdXIgPSB0aGlzLmJsdXJMaXN0ZW5lci5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy50b29sdGlwTm9kZS5vbmNsaWNrID0gdGhpcy5vblRvb2x0aXBDbGljay5iaW5kKHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRvb2x0aXBOb2RlID0gdGhpcy50b29sdGlwTm9kZTtcbiAgICAgICAgaWYgKGl0ZW0uZG9jSFRNTCkge1xuICAgICAgICAgICAgdG9vbHRpcE5vZGUuaW5uZXJIVE1MID0gaXRlbS5kb2NIVE1MO1xuICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uZG9jVGV4dCkge1xuICAgICAgICAgICAgdG9vbHRpcE5vZGUudGV4dENvbnRlbnQgPSBpdGVtLmRvY1RleHQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRvb2x0aXBOb2RlLnBhcmVudE5vZGUpXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRvb2x0aXBOb2RlKTtcbiAgICAgICAgdmFyIHBvcHVwID0gdGhpcy5wb3B1cDtcbiAgICAgICAgdmFyIHJlY3QgPSBwb3B1cC5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHRvb2x0aXBOb2RlLnN0eWxlLnRvcCA9IHBvcHVwLmNvbnRhaW5lci5zdHlsZS50b3A7XG4gICAgICAgIHRvb2x0aXBOb2RlLnN0eWxlLmJvdHRvbSA9IHBvcHVwLmNvbnRhaW5lci5zdHlsZS5ib3R0b207XG5cbiAgICAgICAgdG9vbHRpcE5vZGUuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIC0gcmVjdC5yaWdodCA8IDMyMCkge1xuICAgICAgICAgICAgaWYgKHJlY3QubGVmdCA8IDMyMCkge1xuICAgICAgICAgICAgICAgIGlmKHBvcHVwLmlzVG9wZG93bikge1xuICAgICAgICAgICAgICAgICAgICB0b29sdGlwTm9kZS5zdHlsZS50b3AgPSByZWN0LmJvdHRvbSArIFwicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcE5vZGUuc3R5bGUubGVmdCA9IHJlY3QubGVmdCArIFwicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcE5vZGUuc3R5bGUucmlnaHQgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICB0b29sdGlwTm9kZS5zdHlsZS5ib3R0b20gPSBcIlwiO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXBOb2RlLnN0eWxlLnRvcCA9IHBvcHVwLmNvbnRhaW5lci5vZmZzZXRUb3AgLSB0b29sdGlwTm9kZS5vZmZzZXRIZWlnaHQgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXBOb2RlLnN0eWxlLmxlZnQgPSByZWN0LmxlZnQgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXBOb2RlLnN0eWxlLnJpZ2h0ID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcE5vZGUuc3R5bGUuYm90dG9tID0gXCJcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRvb2x0aXBOb2RlLnN0eWxlLnJpZ2h0ID0gd2luZG93LmlubmVyV2lkdGggLSByZWN0LmxlZnQgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgdG9vbHRpcE5vZGUuc3R5bGUubGVmdCA9IFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0b29sdGlwTm9kZS5zdHlsZS5sZWZ0ID0gKHJlY3QucmlnaHQgKyAxKSArIFwicHhcIjtcbiAgICAgICAgICAgIHRvb2x0aXBOb2RlLnN0eWxlLnJpZ2h0ID0gXCJcIjtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmhpZGVEb2NUb29sdGlwID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMudG9vbHRpcFRpbWVyLmNhbmNlbCgpO1xuICAgICAgICBpZiAoIXRoaXMudG9vbHRpcE5vZGUpIHJldHVybjtcbiAgICAgICAgdmFyIGVsID0gdGhpcy50b29sdGlwTm9kZTtcbiAgICAgICAgaWYgKCF0aGlzLmVkaXRvci5pc0ZvY3VzZWQoKSAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09IGVsKVxuICAgICAgICAgICAgdGhpcy5lZGl0b3IuZm9jdXMoKTtcbiAgICAgICAgdGhpcy50b29sdGlwTm9kZSA9IG51bGw7XG4gICAgICAgIGlmIChlbC5wYXJlbnROb2RlKVxuICAgICAgICAgICAgZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbCk7XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLm9uVG9vbHRpcENsaWNrID0gZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgYSA9IGUudGFyZ2V0O1xuICAgICAgICB3aGlsZSAoYSAmJiBhICE9IHRoaXMudG9vbHRpcE5vZGUpIHtcbiAgICAgICAgICAgIGlmIChhLm5vZGVOYW1lID09IFwiQVwiICYmIGEuaHJlZikge1xuICAgICAgICAgICAgICAgIGEucmVsID0gXCJub3JlZmVycmVyXCI7XG4gICAgICAgICAgICAgICAgYS50YXJnZXQgPSBcIl9ibGFua1wiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYSA9IGEucGFyZW50Tm9kZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5kZXRhY2goKTtcbiAgICAgICAgaWYgKHRoaXMucG9wdXApIHtcbiAgICAgICAgICAgIHRoaXMucG9wdXAuZGVzdHJveSgpO1xuICAgICAgICAgICAgdmFyIGVsID0gdGhpcy5wb3B1cC5jb250YWluZXI7XG4gICAgICAgICAgICBpZiAoZWwgJiYgZWwucGFyZW50Tm9kZSlcbiAgICAgICAgICAgICAgICBlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5lZGl0b3IgJiYgdGhpcy5lZGl0b3IuY29tcGxldGVyID09IHRoaXMpXG4gICAgICAgICAgICB0aGlzLmVkaXRvci5jb21wbGV0ZXIgPT0gbnVsbDtcbiAgICAgICAgdGhpcy5wb3B1cCA9IG51bGw7XG4gICAgfTtcblxufSkuY2FsbChBdXRvY29tcGxldGUucHJvdG90eXBlKTtcblxuXG5BdXRvY29tcGxldGUuZm9yID0gZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgaWYgKGVkaXRvci5jb21wbGV0ZXIpIHtcbiAgICAgICAgcmV0dXJuIGVkaXRvci5jb21wbGV0ZXI7XG4gICAgfVxuICAgIGlmIChjb25maWcuZ2V0KFwic2hhcmVkUG9wdXBzXCIpKSB7XG4gICAgICAgIGlmICghQXV0b2NvbXBsZXRlLiRzaGFyZWQpXG4gICAgICAgICAgICBBdXRvY29tcGxldGUuJHNoYXJlZEluc3RhbmNlID0gbmV3IEF1dG9jb21wbGV0ZSgpO1xuICAgICAgICBlZGl0b3IuY29tcGxldGVyID0gQXV0b2NvbXBsZXRlLiRzaGFyZWRJbnN0YW5jZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBlZGl0b3IuY29tcGxldGVyID0gbmV3IEF1dG9jb21wbGV0ZSgpO1xuICAgICAgICBlZGl0b3Iub25jZShcImRlc3Ryb3lcIiwgZnVuY3Rpb24oZSwgZWRpdG9yKSB7XG4gICAgICAgICAgICBlZGl0b3IuY29tcGxldGVyLmRlc3Ryb3koKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlZGl0b3IuY29tcGxldGVyO1xufTtcblxuQXV0b2NvbXBsZXRlLnN0YXJ0Q29tbWFuZCA9IHtcbiAgICBuYW1lOiBcInN0YXJ0QXV0b2NvbXBsZXRlXCIsXG4gICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBjb21wbGV0ZXIgPSBBdXRvY29tcGxldGUuZm9yKGVkaXRvcik7XG4gICAgICAgIGNvbXBsZXRlci5hdXRvSW5zZXJ0ID0gZmFsc2U7XG4gICAgICAgIGNvbXBsZXRlci5hdXRvU2VsZWN0ID0gdHJ1ZTtcbiAgICAgICAgY29tcGxldGVyLnNob3dQb3B1cChlZGl0b3IsIG9wdGlvbnMpO1xuICAgICAgICBjb21wbGV0ZXIuY2FuY2VsQ29udGV4dE1lbnUoKTtcbiAgICB9LFxuICAgIGJpbmRLZXk6IFwiQ3RybC1TcGFjZXxDdHJsLVNoaWZ0LVNwYWNlfEFsdC1TcGFjZVwiXG59O1xuXG52YXIgRmlsdGVyZWRMaXN0ID0gZnVuY3Rpb24oYXJyYXksIGZpbHRlclRleHQpIHtcbiAgICB0aGlzLmFsbCA9IGFycmF5O1xuICAgIHRoaXMuZmlsdGVyZWQgPSBhcnJheTtcbiAgICB0aGlzLmZpbHRlclRleHQgPSBmaWx0ZXJUZXh0IHx8IFwiXCI7XG4gICAgdGhpcy5leGFjdE1hdGNoID0gZmFsc2U7XG59O1xuKGZ1bmN0aW9uKCl7XG4gICAgdGhpcy5zZXRGaWx0ZXIgPSBmdW5jdGlvbihzdHIpIHtcbiAgICAgICAgaWYgKHN0ci5sZW5ndGggPiB0aGlzLmZpbHRlclRleHQgJiYgc3RyLmxhc3RJbmRleE9mKHRoaXMuZmlsdGVyVGV4dCwgMCkgPT09IDApXG4gICAgICAgICAgICB2YXIgbWF0Y2hlcyA9IHRoaXMuZmlsdGVyZWQ7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHZhciBtYXRjaGVzID0gdGhpcy5hbGw7XG5cbiAgICAgICAgdGhpcy5maWx0ZXJUZXh0ID0gc3RyO1xuICAgICAgICBtYXRjaGVzID0gdGhpcy5maWx0ZXJDb21wbGV0aW9ucyhtYXRjaGVzLCB0aGlzLmZpbHRlclRleHQpO1xuICAgICAgICBtYXRjaGVzID0gbWF0Y2hlcy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBiLmV4YWN0TWF0Y2ggLSBhLmV4YWN0TWF0Y2ggfHwgYi4kc2NvcmUgLSBhLiRzY29yZSBcbiAgICAgICAgICAgICAgICB8fCAoYS5jYXB0aW9uIHx8IGEudmFsdWUpLmxvY2FsZUNvbXBhcmUoYi5jYXB0aW9uIHx8IGIudmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHByZXYgPSBudWxsO1xuICAgICAgICBtYXRjaGVzID0gbWF0Y2hlcy5maWx0ZXIoZnVuY3Rpb24oaXRlbSl7XG4gICAgICAgICAgICB2YXIgY2FwdGlvbiA9IGl0ZW0uc25pcHBldCB8fCBpdGVtLmNhcHRpb24gfHwgaXRlbS52YWx1ZTtcbiAgICAgICAgICAgIGlmIChjYXB0aW9uID09PSBwcmV2KSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBwcmV2ID0gY2FwdGlvbjtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmZpbHRlcmVkID0gbWF0Y2hlcztcbiAgICB9O1xuICAgIHRoaXMuZmlsdGVyQ29tcGxldGlvbnMgPSBmdW5jdGlvbihpdGVtcywgbmVlZGxlKSB7XG4gICAgICAgIHZhciByZXN1bHRzID0gW107XG4gICAgICAgIHZhciB1cHBlciA9IG5lZWRsZS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICB2YXIgbG93ZXIgPSBuZWVkbGUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgbG9vcDogZm9yICh2YXIgaSA9IDAsIGl0ZW07IGl0ZW0gPSBpdGVtc1tpXTsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2FwdGlvbiA9IGl0ZW0uY2FwdGlvbiB8fCBpdGVtLnZhbHVlIHx8IGl0ZW0uc25pcHBldDtcbiAgICAgICAgICAgIGlmICghY2FwdGlvbikgY29udGludWU7XG4gICAgICAgICAgICB2YXIgbGFzdEluZGV4ID0gLTE7XG4gICAgICAgICAgICB2YXIgbWF0Y2hNYXNrID0gMDtcbiAgICAgICAgICAgIHZhciBwZW5hbHR5ID0gMDtcbiAgICAgICAgICAgIHZhciBpbmRleCwgZGlzdGFuY2U7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmV4YWN0TWF0Y2gpIHtcbiAgICAgICAgICAgICAgICBpZiAobmVlZGxlICE9PSBjYXB0aW9uLnN1YnN0cigwLCBuZWVkbGUubGVuZ3RoKSlcbiAgICAgICAgICAgICAgICAgICAgY29udGludWUgbG9vcDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGZ1bGxNYXRjaEluZGV4ID0gY2FwdGlvbi50b0xvd2VyQ2FzZSgpLmluZGV4T2YobG93ZXIpO1xuICAgICAgICAgICAgICAgIGlmIChmdWxsTWF0Y2hJbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHBlbmFsdHkgPSBmdWxsTWF0Y2hJbmRleDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG5lZWRsZS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGkxID0gY2FwdGlvbi5pbmRleE9mKGxvd2VyW2pdLCBsYXN0SW5kZXggKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpMiA9IGNhcHRpb24uaW5kZXhPZih1cHBlcltqXSwgbGFzdEluZGV4ICsgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IChpMSA+PSAwKSA/ICgoaTIgPCAwIHx8IGkxIDwgaTIpID8gaTEgOiBpMikgOiBpMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA8IDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUgbG9vcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlID0gaW5kZXggLSBsYXN0SW5kZXggLSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXN0SW5kZXggPT09IC0xKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZW5hbHR5ICs9IDEwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlbmFsdHkgKz0gZGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hNYXNrID0gbWF0Y2hNYXNrIHwgKDEgPDwgaik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0SW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGl0ZW0ubWF0Y2hNYXNrID0gbWF0Y2hNYXNrO1xuICAgICAgICAgICAgaXRlbS5leGFjdE1hdGNoID0gcGVuYWx0eSA/IDAgOiAxO1xuICAgICAgICAgICAgaXRlbS4kc2NvcmUgPSAoaXRlbS5zY29yZSB8fCAwKSAtIHBlbmFsdHk7XG4gICAgICAgICAgICByZXN1bHRzLnB1c2goaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfTtcbn0pLmNhbGwoRmlsdGVyZWRMaXN0LnByb3RvdHlwZSk7XG5cbmV4cG9ydHMuQXV0b2NvbXBsZXRlID0gQXV0b2NvbXBsZXRlO1xuZXhwb3J0cy5GaWx0ZXJlZExpc3QgPSBGaWx0ZXJlZExpc3Q7XG5cbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL2F1dG9jb21wbGV0ZS90ZXh0X2NvbXBsZXRlclwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL3JhbmdlXCJdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcbiAgICB2YXIgUmFuZ2UgPSByZXF1aXJlKFwiLi4vcmFuZ2VcIikuUmFuZ2U7XG4gICAgXG4gICAgdmFyIHNwbGl0UmVnZXggPSAvW15hLXpBLVpfMC05XFwkXFwtXFx1MDBDMC1cXHUxRkZGXFx1MkMwMC1cXHVEN0ZGXFx3XSsvO1xuXG4gICAgZnVuY3Rpb24gZ2V0V29yZEluZGV4KGRvYywgcG9zKSB7XG4gICAgICAgIHZhciB0ZXh0QmVmb3JlID0gZG9jLmdldFRleHRSYW5nZShSYW5nZS5mcm9tUG9pbnRzKHtyb3c6IDAsIGNvbHVtbjowfSwgcG9zKSk7XG4gICAgICAgIHJldHVybiB0ZXh0QmVmb3JlLnNwbGl0KHNwbGl0UmVnZXgpLmxlbmd0aCAtIDE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdvcmREaXN0YW5jZShkb2MsIHBvcykge1xuICAgICAgICB2YXIgcHJlZml4UG9zID0gZ2V0V29yZEluZGV4KGRvYywgcG9zKTtcbiAgICAgICAgdmFyIHdvcmRzID0gZG9jLmdldFZhbHVlKCkuc3BsaXQoc3BsaXRSZWdleCk7XG4gICAgICAgIHZhciB3b3JkU2NvcmVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgXG4gICAgICAgIHZhciBjdXJyZW50V29yZCA9IHdvcmRzW3ByZWZpeFBvc107XG5cbiAgICAgICAgd29yZHMuZm9yRWFjaChmdW5jdGlvbih3b3JkLCBpZHgpIHtcbiAgICAgICAgICAgIGlmICghd29yZCB8fCB3b3JkID09PSBjdXJyZW50V29yZCkgcmV0dXJuO1xuXG4gICAgICAgICAgICB2YXIgZGlzdGFuY2UgPSBNYXRoLmFicyhwcmVmaXhQb3MgLSBpZHgpO1xuICAgICAgICAgICAgdmFyIHNjb3JlID0gd29yZHMubGVuZ3RoIC0gZGlzdGFuY2U7XG4gICAgICAgICAgICBpZiAod29yZFNjb3Jlc1t3b3JkXSkge1xuICAgICAgICAgICAgICAgIHdvcmRTY29yZXNbd29yZF0gPSBNYXRoLm1heChzY29yZSwgd29yZFNjb3Jlc1t3b3JkXSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHdvcmRTY29yZXNbd29yZF0gPSBzY29yZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB3b3JkU2NvcmVzO1xuICAgIH1cblxuICAgIGV4cG9ydHMuZ2V0Q29tcGxldGlvbnMgPSBmdW5jdGlvbihlZGl0b3IsIHNlc3Npb24sIHBvcywgcHJlZml4LCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgd29yZFNjb3JlID0gd29yZERpc3RhbmNlKHNlc3Npb24sIHBvcyk7XG4gICAgICAgIHZhciB3b3JkTGlzdCA9IE9iamVjdC5rZXlzKHdvcmRTY29yZSk7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHdvcmRMaXN0Lm1hcChmdW5jdGlvbih3b3JkKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGNhcHRpb246IHdvcmQsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHdvcmQsXG4gICAgICAgICAgICAgICAgc2NvcmU6IHdvcmRTY29yZVt3b3JkXSxcbiAgICAgICAgICAgICAgICBtZXRhOiBcImxvY2FsXCJcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pKTtcbiAgICB9O1xufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvZXh0L2xhbmd1YWdlX3Rvb2xzXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2Uvc25pcHBldHNcIixcImFjZS9hdXRvY29tcGxldGVcIixcImFjZS9jb25maWdcIixcImFjZS9saWIvbGFuZ1wiLFwiYWNlL2F1dG9jb21wbGV0ZS91dGlsXCIsXCJhY2UvYXV0b2NvbXBsZXRlL3RleHRfY29tcGxldGVyXCIsXCJhY2UvZWRpdG9yXCIsXCJhY2UvY29uZmlnXCJdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgc25pcHBldE1hbmFnZXIgPSByZXF1aXJlKFwiLi4vc25pcHBldHNcIikuc25pcHBldE1hbmFnZXI7XG52YXIgQXV0b2NvbXBsZXRlID0gcmVxdWlyZShcIi4uL2F1dG9jb21wbGV0ZVwiKS5BdXRvY29tcGxldGU7XG52YXIgY29uZmlnID0gcmVxdWlyZShcIi4uL2NvbmZpZ1wiKTtcbnZhciBsYW5nID0gcmVxdWlyZShcIi4uL2xpYi9sYW5nXCIpO1xudmFyIHV0aWwgPSByZXF1aXJlKFwiLi4vYXV0b2NvbXBsZXRlL3V0aWxcIik7XG5cbnZhciB0ZXh0Q29tcGxldGVyID0gcmVxdWlyZShcIi4uL2F1dG9jb21wbGV0ZS90ZXh0X2NvbXBsZXRlclwiKTtcbnZhciBrZXlXb3JkQ29tcGxldGVyID0ge1xuICAgIGdldENvbXBsZXRpb25zOiBmdW5jdGlvbihlZGl0b3IsIHNlc3Npb24sIHBvcywgcHJlZml4LCBjYWxsYmFjaykge1xuICAgICAgICBpZiAoc2Vzc2lvbi4kbW9kZS5jb21wbGV0ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBzZXNzaW9uLiRtb2RlLmNvbXBsZXRlci5nZXRDb21wbGV0aW9ucyhlZGl0b3IsIHNlc3Npb24sIHBvcywgcHJlZml4LCBjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0YXRlID0gZWRpdG9yLnNlc3Npb24uZ2V0U3RhdGUocG9zLnJvdyk7XG4gICAgICAgIHZhciBjb21wbGV0aW9ucyA9IHNlc3Npb24uJG1vZGUuZ2V0Q29tcGxldGlvbnMoc3RhdGUsIHNlc3Npb24sIHBvcywgcHJlZml4KTtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgY29tcGxldGlvbnMpO1xuICAgIH1cbn07XG5cbnZhciB0cmFuc2Zvcm1TbmlwcGV0VG9vbHRpcCA9IGZ1bmN0aW9uKHN0cikge1xuICAgIHZhciByZWNvcmQgPSB7fTtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoL1xcJHsoXFxkKykoOiguKj8pKT99L2csIGZ1bmN0aW9uKF8sIHAxLCBwMiwgcDMpIHtcbiAgICAgICAgcmV0dXJuIChyZWNvcmRbcDFdID0gcDMgfHwgJycpO1xuICAgIH0pLnJlcGxhY2UoL1xcJChcXGQrPykvZywgZnVuY3Rpb24gKF8sIHAxKSB7XG4gICAgICAgIHJldHVybiByZWNvcmRbcDFdO1xuICAgIH0pO1xufTtcblxudmFyIHNuaXBwZXRDb21wbGV0ZXIgPSB7XG4gICAgZ2V0Q29tcGxldGlvbnM6IGZ1bmN0aW9uKGVkaXRvciwgc2Vzc2lvbiwgcG9zLCBwcmVmaXgsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBzY29wZXMgPSBbXTtcbiAgICAgICAgdmFyIHRva2VuID0gc2Vzc2lvbi5nZXRUb2tlbkF0KHBvcy5yb3csIHBvcy5jb2x1bW4pO1xuICAgICAgICBpZiAodG9rZW4gJiYgdG9rZW4udHlwZS5tYXRjaCgvKHRhZy1uYW1lfHRhZy1vcGVufHRhZy13aGl0ZXNwYWNlfGF0dHJpYnV0ZS1uYW1lfGF0dHJpYnV0ZS12YWx1ZSlcXC54bWwkLykpXG4gICAgICAgICAgICBzY29wZXMucHVzaCgnaHRtbC10YWcnKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgc2NvcGVzID0gc25pcHBldE1hbmFnZXIuZ2V0QWN0aXZlU2NvcGVzKGVkaXRvcik7XG5cbiAgICAgICAgdmFyIHNuaXBwZXRNYXAgPSBzbmlwcGV0TWFuYWdlci5zbmlwcGV0TWFwO1xuICAgICAgICB2YXIgY29tcGxldGlvbnMgPSBbXTtcbiAgICAgICAgc2NvcGVzLmZvckVhY2goZnVuY3Rpb24oc2NvcGUpIHtcbiAgICAgICAgICAgIHZhciBzbmlwcGV0cyA9IHNuaXBwZXRNYXBbc2NvcGVdIHx8IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IHNuaXBwZXRzLmxlbmd0aDsgaS0tOykge1xuICAgICAgICAgICAgICAgIHZhciBzID0gc25pcHBldHNbaV07XG4gICAgICAgICAgICAgICAgdmFyIGNhcHRpb24gPSBzLm5hbWUgfHwgcy50YWJUcmlnZ2VyO1xuICAgICAgICAgICAgICAgIGlmICghY2FwdGlvbilcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY29tcGxldGlvbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGNhcHRpb246IGNhcHRpb24sXG4gICAgICAgICAgICAgICAgICAgIHNuaXBwZXQ6IHMuY29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgbWV0YTogcy50YWJUcmlnZ2VyICYmICFzLm5hbWUgPyBzLnRhYlRyaWdnZXIgKyBcIlxcdTIxRTUgXCIgOiBcInNuaXBwZXRcIixcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzbmlwcGV0XCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIGNvbXBsZXRpb25zKTtcbiAgICB9LFxuICAgIGdldERvY1Rvb2x0aXA6IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgaWYgKGl0ZW0udHlwZSA9PSBcInNuaXBwZXRcIiAmJiAhaXRlbS5kb2NIVE1MKSB7XG4gICAgICAgICAgICBpdGVtLmRvY0hUTUwgPSBbXG4gICAgICAgICAgICAgICAgXCI8Yj5cIiwgbGFuZy5lc2NhcGVIVE1MKGl0ZW0uY2FwdGlvbiksIFwiPC9iPlwiLCBcIjxocj48L2hyPlwiLFxuICAgICAgICAgICAgICAgIGxhbmcuZXNjYXBlSFRNTCh0cmFuc2Zvcm1TbmlwcGV0VG9vbHRpcChpdGVtLnNuaXBwZXQpKVxuICAgICAgICAgICAgXS5qb2luKFwiXCIpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxudmFyIGNvbXBsZXRlcnMgPSBbc25pcHBldENvbXBsZXRlciwgdGV4dENvbXBsZXRlciwga2V5V29yZENvbXBsZXRlcl07XG5leHBvcnRzLnNldENvbXBsZXRlcnMgPSBmdW5jdGlvbih2YWwpIHtcbiAgICBjb21wbGV0ZXJzLmxlbmd0aCA9IDA7XG4gICAgaWYgKHZhbCkgY29tcGxldGVycy5wdXNoLmFwcGx5KGNvbXBsZXRlcnMsIHZhbCk7XG59O1xuZXhwb3J0cy5hZGRDb21wbGV0ZXIgPSBmdW5jdGlvbihjb21wbGV0ZXIpIHtcbiAgICBjb21wbGV0ZXJzLnB1c2goY29tcGxldGVyKTtcbn07XG5leHBvcnRzLnRleHRDb21wbGV0ZXIgPSB0ZXh0Q29tcGxldGVyO1xuZXhwb3J0cy5rZXlXb3JkQ29tcGxldGVyID0ga2V5V29yZENvbXBsZXRlcjtcbmV4cG9ydHMuc25pcHBldENvbXBsZXRlciA9IHNuaXBwZXRDb21wbGV0ZXI7XG5cbnZhciBleHBhbmRTbmlwcGV0ID0ge1xuICAgIG5hbWU6IFwiZXhwYW5kU25pcHBldFwiLFxuICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICByZXR1cm4gc25pcHBldE1hbmFnZXIuZXhwYW5kV2l0aFRhYihlZGl0b3IpO1xuICAgIH0sXG4gICAgYmluZEtleTogXCJUYWJcIlxufTtcblxudmFyIG9uQ2hhbmdlTW9kZSA9IGZ1bmN0aW9uKGUsIGVkaXRvcikge1xuICAgIGxvYWRTbmlwcGV0c0Zvck1vZGUoZWRpdG9yLnNlc3Npb24uJG1vZGUpO1xufTtcblxudmFyIGxvYWRTbmlwcGV0c0Zvck1vZGUgPSBmdW5jdGlvbihtb2RlKSB7XG4gICAgaWYgKHR5cGVvZiBtb2RlID09IFwic3RyaW5nXCIpXG4gICAgICAgIG1vZGUgPSBjb25maWcuJG1vZGVzW21vZGVdO1xuICAgIGlmICghbW9kZSlcbiAgICAgICAgcmV0dXJuO1xuICAgIGlmICghc25pcHBldE1hbmFnZXIuZmlsZXMpXG4gICAgICAgIHNuaXBwZXRNYW5hZ2VyLmZpbGVzID0ge307XG4gICAgXG4gICAgbG9hZFNuaXBwZXRGaWxlKG1vZGUuJGlkLCBtb2RlLnNuaXBwZXRGaWxlSWQpO1xuICAgIGlmIChtb2RlLm1vZGVzKVxuICAgICAgICBtb2RlLm1vZGVzLmZvckVhY2gobG9hZFNuaXBwZXRzRm9yTW9kZSk7XG59O1xuXG52YXIgbG9hZFNuaXBwZXRGaWxlID0gZnVuY3Rpb24oaWQsIHNuaXBwZXRGaWxlUGF0aCkge1xuICAgIGlmICghc25pcHBldEZpbGVQYXRoIHx8ICFpZCB8fCBzbmlwcGV0TWFuYWdlci5maWxlc1tpZF0pXG4gICAgICAgIHJldHVybjtcbiAgICBzbmlwcGV0TWFuYWdlci5maWxlc1tpZF0gPSB7fTtcbiAgICBjb25maWcubG9hZE1vZHVsZShzbmlwcGV0RmlsZVBhdGgsIGZ1bmN0aW9uKG0pIHtcbiAgICAgICAgaWYgKCFtKSByZXR1cm47XG4gICAgICAgIHNuaXBwZXRNYW5hZ2VyLmZpbGVzW2lkXSA9IG07XG4gICAgICAgIGlmICghbS5zbmlwcGV0cyAmJiBtLnNuaXBwZXRUZXh0KVxuICAgICAgICAgICAgbS5zbmlwcGV0cyA9IHNuaXBwZXRNYW5hZ2VyLnBhcnNlU25pcHBldEZpbGUobS5zbmlwcGV0VGV4dCk7XG4gICAgICAgIHNuaXBwZXRNYW5hZ2VyLnJlZ2lzdGVyKG0uc25pcHBldHMgfHwgW10sIG0uc2NvcGUpO1xuICAgICAgICBpZiAobS5pbmNsdWRlU2NvcGVzKSB7XG4gICAgICAgICAgICBzbmlwcGV0TWFuYWdlci5zbmlwcGV0TWFwW20uc2NvcGVdLmluY2x1ZGVTY29wZXMgPSBtLmluY2x1ZGVTY29wZXM7XG4gICAgICAgICAgICBtLmluY2x1ZGVTY29wZXMuZm9yRWFjaChmdW5jdGlvbih4KSB7XG4gICAgICAgICAgICAgICAgbG9hZFNuaXBwZXRzRm9yTW9kZShcImFjZS9tb2RlL1wiICsgeCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxudmFyIGRvTGl2ZUF1dG9jb21wbGV0ZSA9IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgZWRpdG9yID0gZS5lZGl0b3I7XG4gICAgdmFyIGhhc0NvbXBsZXRlciA9IGVkaXRvci5jb21wbGV0ZXIgJiYgZWRpdG9yLmNvbXBsZXRlci5hY3RpdmF0ZWQ7XG4gICAgaWYgKGUuY29tbWFuZC5uYW1lID09PSBcImJhY2tzcGFjZVwiKSB7XG4gICAgICAgIGlmIChoYXNDb21wbGV0ZXIgJiYgIXV0aWwuZ2V0Q29tcGxldGlvblByZWZpeChlZGl0b3IpKVxuICAgICAgICAgICAgZWRpdG9yLmNvbXBsZXRlci5kZXRhY2goKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZS5jb21tYW5kLm5hbWUgPT09IFwiaW5zZXJ0c3RyaW5nXCIpIHtcbiAgICAgICAgdmFyIHByZWZpeCA9IHV0aWwuZ2V0Q29tcGxldGlvblByZWZpeChlZGl0b3IpO1xuICAgICAgICBpZiAocHJlZml4ICYmICFoYXNDb21wbGV0ZXIpIHtcbiAgICAgICAgICAgIHZhciBjb21wbGV0ZXIgPSBBdXRvY29tcGxldGUuZm9yKGVkaXRvcik7XG4gICAgICAgICAgICBjb21wbGV0ZXIuYXV0b0luc2VydCA9IGZhbHNlO1xuICAgICAgICAgICAgY29tcGxldGVyLnNob3dQb3B1cChlZGl0b3IpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxudmFyIEVkaXRvciA9IHJlcXVpcmUoXCIuLi9lZGl0b3JcIikuRWRpdG9yO1xucmVxdWlyZShcIi4uL2NvbmZpZ1wiKS5kZWZpbmVPcHRpb25zKEVkaXRvci5wcm90b3R5cGUsIFwiZWRpdG9yXCIsIHtcbiAgICBlbmFibGVCYXNpY0F1dG9jb21wbGV0aW9uOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24odmFsKSB7XG4gICAgICAgICAgICBpZiAodmFsKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNvbXBsZXRlcnMpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcGxldGVycyA9IEFycmF5LmlzQXJyYXkodmFsKT8gdmFsOiBjb21wbGV0ZXJzO1xuICAgICAgICAgICAgICAgIHRoaXMuY29tbWFuZHMuYWRkQ29tbWFuZChBdXRvY29tcGxldGUuc3RhcnRDb21tYW5kKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21tYW5kcy5yZW1vdmVDb21tYW5kKEF1dG9jb21wbGV0ZS5zdGFydENvbW1hbmQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICB9LFxuICAgIGVuYWJsZUxpdmVBdXRvY29tcGxldGlvbjoge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgaWYgKHZhbCkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jb21wbGV0ZXJzKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBsZXRlcnMgPSBBcnJheS5pc0FycmF5KHZhbCk/IHZhbDogY29tcGxldGVycztcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1hbmRzLm9uKCdhZnRlckV4ZWMnLCBkb0xpdmVBdXRvY29tcGxldGUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1hbmRzLnJlbW92ZUxpc3RlbmVyKCdhZnRlckV4ZWMnLCBkb0xpdmVBdXRvY29tcGxldGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICB9LFxuICAgIGVuYWJsZVNuaXBwZXRzOiB7XG4gICAgICAgIHNldDogZnVuY3Rpb24odmFsKSB7XG4gICAgICAgICAgICBpZiAodmFsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21tYW5kcy5hZGRDb21tYW5kKGV4cGFuZFNuaXBwZXQpO1xuICAgICAgICAgICAgICAgIHRoaXMub24oXCJjaGFuZ2VNb2RlXCIsIG9uQ2hhbmdlTW9kZSk7XG4gICAgICAgICAgICAgICAgb25DaGFuZ2VNb2RlKG51bGwsIHRoaXMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1hbmRzLnJlbW92ZUNvbW1hbmQoZXhwYW5kU25pcHBldCk7XG4gICAgICAgICAgICAgICAgdGhpcy5vZmYoXCJjaGFuZ2VNb2RlXCIsIG9uQ2hhbmdlTW9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHZhbHVlOiBmYWxzZVxuICAgIH1cbn0pO1xufSk7ICAgICAgICAgICAgICAgIChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgYWNlLnJlcXVpcmUoW1wiYWNlL2V4dC9sYW5ndWFnZV90b29sc1wiXSwgZnVuY3Rpb24obSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtb2R1bGUgPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgZXhwb3J0cyA9PSBcIm9iamVjdFwiICYmIG1vZHVsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZS5leHBvcnRzID0gbTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgICAgICIsICIhZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24oZSx0KXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSx0KTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLmJ1bG1hQ29sbGFwc2libGU9dCgpOmUuYnVsbWFDb2xsYXBzaWJsZT10KCl9KHdpbmRvdyxmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD17fTtmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG4pe2lmKHRbbl0pcmV0dXJuIHRbbl0uZXhwb3J0czt2YXIgcj10W25dPXtpOm4sbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gZVtuXS5jYWxsKHIuZXhwb3J0cyxyLHIuZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKSxyLmw9ITAsci5leHBvcnRzfXJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLm09ZSxfX3dlYnBhY2tfcmVxdWlyZV9fLmM9dCxfX3dlYnBhY2tfcmVxdWlyZV9fLmQ9ZnVuY3Rpb24oZSx0LG4pe19fd2VicGFja19yZXF1aXJlX18ubyhlLHQpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpufSl9LF9fd2VicGFja19yZXF1aXJlX18ucj1mdW5jdGlvbihlKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxfX3dlYnBhY2tfcmVxdWlyZV9fLnQ9ZnVuY3Rpb24oZSx0KXtpZigxJnQmJihlPV9fd2VicGFja19yZXF1aXJlX18oZSkpLDgmdClyZXR1cm4gZTtpZig0JnQmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIG49T2JqZWN0LmNyZWF0ZShudWxsKTtpZihfX3dlYnBhY2tfcmVxdWlyZV9fLnIobiksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6ZX0pLDImdCYmXCJzdHJpbmdcIiE9dHlwZW9mIGUpZm9yKHZhciByIGluIGUpX193ZWJwYWNrX3JlcXVpcmVfXy5kKG4scixmdW5jdGlvbih0KXtyZXR1cm4gZVt0XX0uYmluZChudWxsLHIpKTtyZXR1cm4gbn0sX193ZWJwYWNrX3JlcXVpcmVfXy5uPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbiBnZXREZWZhdWx0KCl7cmV0dXJuIGUuZGVmYXVsdH06ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpe3JldHVybiBlfTtyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5kKHQsXCJhXCIsdCksdH0sX193ZWJwYWNrX3JlcXVpcmVfXy5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSxfX3dlYnBhY2tfcmVxdWlyZV9fLnA9XCJcIixfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucz0xMil9KFtmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIF9nZXRQcm90b3R5cGVPZih0KXtyZXR1cm4gZS5leHBvcnRzPV9nZXRQcm90b3R5cGVPZj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mOmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihlKXtyZXR1cm4gZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihlKX0sX2dldFByb3RvdHlwZU9mKHQpfWUuZXhwb3J0cz1fZ2V0UHJvdG90eXBlT2Z9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9fSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXRbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIua2V5LHIpfX1lLmV4cG9ydHM9ZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKGUsdCxuKXtyZXR1cm4gdCYmX2RlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsdCksbiYmX2RlZmluZVByb3BlcnRpZXMoZSxuKSxlfX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChlKXtpZih2b2lkIDA9PT1lKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gZX19LGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDgpO2UuZXhwb3J0cz1mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e30sbz1PYmplY3Qua2V5cyhuKTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzJiYobz1vLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG4pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLGUpLmVudW1lcmFibGV9KSkpLG8uZm9yRWFjaChmdW5jdGlvbih0KXtyKGUsdCxuW3RdKX0pfXJldHVybiBlfX0sZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNiksbz1uKDMpO2UuZXhwb3J0cz1mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihlLHQpe3JldHVybiF0fHxcIm9iamVjdFwiIT09cih0KSYmXCJmdW5jdGlvblwiIT10eXBlb2YgdD9vKGUpOnR9fSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIF90eXBlb2YyKGUpe3JldHVybihfdHlwZW9mMj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24gX3R5cGVvZjIoZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbiBfdHlwZW9mMihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gX3R5cGVvZih0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PT1fdHlwZW9mMihTeW1ib2wuaXRlcmF0b3IpP2UuZXhwb3J0cz1fdHlwZW9mPWZ1bmN0aW9uIF90eXBlb2YoZSl7cmV0dXJuIF90eXBlb2YyKGUpfTplLmV4cG9ydHM9X3R5cGVvZj1mdW5jdGlvbiBfdHlwZW9mKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6X3R5cGVvZjIoZSl9LF90eXBlb2YodCl9ZS5leHBvcnRzPV90eXBlb2Z9LGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDExKTtlLmV4cG9ydHM9ZnVuY3Rpb24gX2luaGVyaXRzKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiZyKGUsdCl9fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkoZSx0LG4pe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09bixlfX0sZnVuY3Rpb24oZSx0LG4pe24oMCk7dmFyIHI9bigxMCk7ZnVuY3Rpb24gX2dldCh0LG4sbyl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFJlZmxlY3QmJlJlZmxlY3QuZ2V0P2UuZXhwb3J0cz1fZ2V0PVJlZmxlY3QuZ2V0OmUuZXhwb3J0cz1fZ2V0PWZ1bmN0aW9uIF9nZXQoZSx0LG4pe3ZhciBvPXIoZSx0KTtpZihvKXt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG8sdCk7cmV0dXJuIGkuZ2V0P2kuZ2V0LmNhbGwobik6aS52YWx1ZX19LF9nZXQodCxuLG98fHQpfWUuZXhwb3J0cz1fZ2V0fSxmdW5jdGlvbihlLHQsbil7dmFyIHI9bigwKTtlLmV4cG9ydHM9ZnVuY3Rpb24gX3N1cGVyUHJvcEJhc2UoZSx0KXtmb3IoOyFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KSYmbnVsbCE9PShlPXIoZSkpOyk7cmV0dXJuIGV9fSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIF9zZXRQcm90b3R5cGVPZih0LG4pe3JldHVybiBlLmV4cG9ydHM9X3NldFByb3RvdHlwZU9mPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8ZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKGUsdCl7cmV0dXJuIGUuX19wcm90b19fPXQsZX0sX3NldFByb3RvdHlwZU9mKHQsbil9ZS5leHBvcnRzPV9zZXRQcm90b3R5cGVPZn0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO24ucih0KTt2YXIgcj1uKDEpLG89bi5uKHIpLGk9bigyKSxzPW4ubihpKSxsPW4oNSksYT1uLm4obCksYz1uKDMpLHU9bi5uKGMpLGY9bigwKSxwPW4ubihmKSxkPW4oOSksaD1uLm4oZCksXz1uKDcpLHk9bi5uKF8pLHY9big0KSxtPW4ubih2KSxiPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOltdO28oKSh0aGlzLEV2ZW50RW1pdHRlciksdGhpcy5fbGlzdGVuZXJzPW5ldyBNYXAoZSksdGhpcy5fbWlkZGxld2FyZXM9bmV3IE1hcH1yZXR1cm4gcygpKEV2ZW50RW1pdHRlcixbe2tleTpcImxpc3RlbmVyQ291bnRcIix2YWx1ZTpmdW5jdGlvbiBsaXN0ZW5lckNvdW50KGUpe3JldHVybiB0aGlzLl9saXN0ZW5lcnMuaGFzKGUpP3RoaXMuX2xpc3RlbmVycy5nZXQoZSkubGVuZ3RoOjB9fSx7a2V5OlwicmVtb3ZlTGlzdGVuZXJzXCIsdmFsdWU6ZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXJzKCl7dmFyIGU9dGhpcyx0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpudWxsLG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXTtudWxsIT09dD9BcnJheS5pc0FycmF5KHQpP25hbWUuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gZS5yZW1vdmVMaXN0ZW5lcnModCxuKX0pOih0aGlzLl9saXN0ZW5lcnMuZGVsZXRlKHQpLG4mJnRoaXMucmVtb3ZlTWlkZGxld2FyZSh0KSk6dGhpcy5fbGlzdGVuZXJzPW5ldyBNYXB9fSx7a2V5OlwibWlkZGxld2FyZVwiLHZhbHVlOmZ1bmN0aW9uIG1pZGRsZXdhcmUoZSx0KXt2YXIgbj10aGlzO0FycmF5LmlzQXJyYXkoZSk/bmFtZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBuLm1pZGRsZXdhcmUoZSx0KX0pOihBcnJheS5pc0FycmF5KHRoaXMuX21pZGRsZXdhcmVzLmdldChlKSl8fHRoaXMuX21pZGRsZXdhcmVzLnNldChlLFtdKSx0aGlzLl9taWRkbGV3YXJlcy5nZXQoZSkucHVzaCh0KSl9fSx7a2V5OlwicmVtb3ZlTWlkZGxld2FyZVwiLHZhbHVlOmZ1bmN0aW9uIHJlbW92ZU1pZGRsZXdhcmUoKXt2YXIgZT10aGlzLHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOm51bGw7bnVsbCE9PXQ/QXJyYXkuaXNBcnJheSh0KT9uYW1lLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIGUucmVtb3ZlTWlkZGxld2FyZSh0KX0pOnRoaXMuX21pZGRsZXdhcmVzLmRlbGV0ZSh0KTp0aGlzLl9taWRkbGV3YXJlcz1uZXcgTWFwfX0se2tleTpcIm9uXCIsdmFsdWU6ZnVuY3Rpb24gb24oZSx0KXt2YXIgbj10aGlzLHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXTtpZihBcnJheS5pc0FycmF5KGUpKWUuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gbi5vbihlLHQpfSk7ZWxzZXt2YXIgbz0oZT1lLnRvU3RyaW5nKCkpLnNwbGl0KC8sfCwgfCAvKTtvLmxlbmd0aD4xP28uZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gbi5vbihlLHQpfSk6KEFycmF5LmlzQXJyYXkodGhpcy5fbGlzdGVuZXJzLmdldChlKSl8fHRoaXMuX2xpc3RlbmVycy5zZXQoZSxbXSksdGhpcy5fbGlzdGVuZXJzLmdldChlKS5wdXNoKHtvbmNlOnIsY2FsbGJhY2s6dH0pKX19fSx7a2V5Olwib25jZVwiLHZhbHVlOmZ1bmN0aW9uIG9uY2UoZSx0KXt0aGlzLm9uKGUsdCwhMCl9fSx7a2V5OlwiZW1pdFwiLHZhbHVlOmZ1bmN0aW9uIGVtaXQoZSx0KXt2YXIgbj10aGlzLHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXTtlPWUudG9TdHJpbmcoKTt2YXIgbz10aGlzLl9saXN0ZW5lcnMuZ2V0KGUpLGk9bnVsbCxzPTAsbD1yO2lmKEFycmF5LmlzQXJyYXkobykpZm9yKG8uZm9yRWFjaChmdW5jdGlvbihhLGMpe3J8fChpPW4uX21pZGRsZXdhcmVzLmdldChlKSxBcnJheS5pc0FycmF5KGkpPyhpLmZvckVhY2goZnVuY3Rpb24obil7bih0LGZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOm51bGw7bnVsbCE9PWUmJih0PWUpLHMrK30sZSl9KSxzPj1pLmxlbmd0aCYmKGw9ITApKTpsPSEwKSxsJiYoYS5vbmNlJiYob1tjXT1udWxsKSxhLmNhbGxiYWNrKHQpKX0pOy0xIT09by5pbmRleE9mKG51bGwpOylvLnNwbGljZShvLmluZGV4T2YobnVsbCksMSl9fV0pLEV2ZW50RW1pdHRlcn0oKSxnPW4oOCksdz1uLm4oZyksaz1uKDYpLE89bi5uKGspLEU9ZnVuY3Rpb24gaXNGdW5jdGlvbihlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlfSx4PWZ1bmN0aW9uIGlzU3RyaW5nKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlfHwhIWUmJlwib2JqZWN0XCI9PT1PKCkoZSkmJlwiW29iamVjdCBTdHJpbmddXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9LFA9ZnVuY3Rpb24gaXNOb2RlKGUpe3RyeXtyZXR1cm4gTm9kZS5wcm90b3R5cGUuY2xvbmVOb2RlLmNhbGwoZSwhMSksITB9Y2F0Y2goZSl7cmV0dXJuITF9fSxTPWZ1bmN0aW9uIGlzTm9kZUxpc3QoZSl7cmV0dXJuIE5vZGVMaXN0LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGUpfSxqPS9eKD86Zig/OmFsc2UpP3xubz98MCspJC9pLEM9ZnVuY3Rpb24gdXVpZCgpe3JldHVybihhcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06XCJcIikrKFsxZTddKy0xZTMrLTRlMystOGUzKy0xZTExKS5yZXBsYWNlKC9bMDE4XS9nLGZ1bmN0aW9uKGUpe3JldHVybihlXmNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoMSkpWzBdJjE1Pj5lLzQpLnRvU3RyaW5nKDE2KX0pfSxBPWZ1bmN0aW9uIGRldGVjdFN1cHBvcnRzUGFzc2l2ZSgpe3ZhciBlPSExO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKXt2YXIgdD1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sXCJwYXNzaXZlXCIse2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gZT0hMCwhMH19KSxuPWZ1bmN0aW9uIG5vb3AoKXt9O3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidGVzdFBhc3NpdmVcIixuLHQpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwidGVzdFBhc3NpdmVcIixuLHQpfXJldHVybiBlfSxUPWZ1bmN0aW9uIHF1ZXJ5U2VsZWN0b3JBbGwoZSx0KXtyZXR1cm4gRShlKT9lKHR8fChcInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQ/ZG9jdW1lbnQ6bnVsbCkpOngoZSk/dCYmUCh0KT90LnF1ZXJ5U2VsZWN0b3JBbGwoZSk6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50P2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZSk6bnVsbDpQKGUpP1tlXTpTKGUpP2U6bnVsbH0scT1mdW5jdGlvbiBvcHRpb25zRnJvbURhdGFzZXQoZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3JldHVybiBQKGUpJiZlLmRhdGFzZXQ/T2JqZWN0LmtleXMoZS5kYXRhc2V0KS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5rZXlzKHQpLmluY2x1ZGVzKGUpfSkucmVkdWNlKGZ1bmN0aW9uKHQsbil7cmV0dXJuIG0oKSh7fSx0LHcoKSh7fSxuLGUuZGF0YXNldFtuXSkpfSx7fSk6e319O1widW5kZWZpbmVkXCI9PXR5cGVvZiBOb2RlfHxOb2RlLnByb3RvdHlwZS5vbnx8KE5vZGUucHJvdG90eXBlLm9uPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztyZXR1cm4gQXJyYXkuaXNBcnJheShlKXx8KGU9ZS5zcGxpdChcIiBcIikpLGUuZm9yRWFjaChmdW5jdGlvbihlKXtuLmFkZEV2ZW50TGlzdGVuZXIoZS50cmltKCksdCwhIUEoKSYme3Bhc3NpdmU6ITF9KX0pLHRoaXN9KSxcInVuZGVmaW5lZFwiPT10eXBlb2YgTm9kZUxpc3R8fE5vZGVMaXN0LnByb3RvdHlwZS5vbnx8KE5vZGVMaXN0LnByb3RvdHlwZS5vbj1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmZvckVhY2goZnVuY3Rpb24obil7bi5vbihlLHQpfSksdGhpc30pLFwidW5kZWZpbmVkXCI9PXR5cGVvZiBOb2RlfHxOb2RlLnByb3RvdHlwZS5vZmZ8fChOb2RlLnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3JldHVybiBBcnJheS5pc0FycmF5KGUpfHwoZT1lLnNwbGl0KFwiIFwiKSksZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLnRyaW0oKSx0LCEhQSgpJiZ7cGFzc2l2ZTohMX0pfSksdGhpc30pLFwidW5kZWZpbmVkXCI9PXR5cGVvZiBOb2RlTGlzdHx8Tm9kZUxpc3QucHJvdG90eXBlLm9mZnx8KE5vZGVMaXN0LnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKG4pe24ub2ZmKGUsdCl9KSx0aGlzfSk7dmFyIEw9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gQ29tcG9uZW50KGUpe3ZhciB0LG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9O2lmKG8oKSh0aGlzLENvbXBvbmVudCksKHQ9YSgpKHRoaXMscCgpKENvbXBvbmVudCkuY2FsbCh0aGlzKSkpLmVsZW1lbnQ9eChlKT90Lm9wdGlvbnMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoZSk6ZSwhdC5lbGVtZW50KXRocm93IG5ldyBFcnJvcihcIkFuIGludmFsaWQgc2VsZWN0b3Igb3Igbm9uLURPTSBub2RlIGhhcyBiZWVuIHByb3ZpZGVkIGZvciBcIi5jb25jYXQodC5jb25zdHJ1Y3Rvci5uYW1lLFwiLlwiKSk7cmV0dXJuIHQuZWxlbWVudFt0LmNvbnN0cnVjdG9yLm5hbWVdPXQuY29uc3RydWN0b3IuX2ludGVyZmFjZS5iaW5kKHUoKSh0KSksdC5lbGVtZW50W3QuY29uc3RydWN0b3IubmFtZV0uQ29uc3RydWN0b3I9dC5jb25zdHJ1Y3Rvci5uYW1lLHQuaWQ9Qyh0LmNvbnN0cnVjdG9yLm5hbWUrXCItXCIpLHQub3B0aW9ucz1tKCkoe30scixuLHEodC5lbGVtZW50LHIpKSx0fXJldHVybiB5KCkoQ29tcG9uZW50LGUpLHMoKShDb21wb25lbnQsbnVsbCxbe2tleTpcImF0dGFjaFwiLHZhbHVlOmZ1bmN0aW9uIGF0dGFjaCgpe3ZhciBlPXRoaXMsdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06bnVsbCxuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxyPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxvPW5ldyBBcnJheTtyZXR1cm4gbnVsbD09PXQ/bzoobj1tKCkoe30scixuLHEodGhpcy5lbGVtZW50LHIpKSwoVCh0LG4uY29udGFpbmVyKXx8W10pLmZvckVhY2goZnVuY3Rpb24ocil7dm9pZCAwPT09cltlLmNvbnN0cnVjdG9yLm5hbWVdP28ucHVzaChuZXcgZShyLG0oKSh7c2VsZWN0b3I6dH0sbikpKTpvLnB1c2gocltlLmNvbnN0cnVjdG9yLm5hbWVdKX0pLG8pfX0se2tleTpcIl9pbnRlcmZhY2VcIix2YWx1ZTpmdW5jdGlvbiBfaW50ZXJmYWNlKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXtpZih2b2lkIDA9PT10aGlzW2VdKXRocm93IG5ldyBUeXBlRXJyb3IoJ05vIG1ldGhvZCBuYW1lZCBcIicuY29uY2F0KGUsJ1wiJykpO3JldHVybiB0aGlzW2VdKGUpfXJldHVybiB0aGlzfX1dKSxDb21wb25lbnR9KGIpLE49e2FsbG93TXVsdGlwbGU6ITEsY29udGFpbmVyOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudD9kb2N1bWVudDpudWxsfTtuLmQodCxcImRlZmF1bHRcIixmdW5jdGlvbigpe3JldHVybiBNfSk7dmFyIE09ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gYnVsbWFDb2xsYXBzaWJsZShlKXt2YXIgdCxuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtyZXR1cm4gbygpKHRoaXMsYnVsbWFDb2xsYXBzaWJsZSksKHQ9YSgpKHRoaXMscCgpKGJ1bG1hQ29sbGFwc2libGUpLmNhbGwodGhpcyxlLG4sTikpKS5vblRyaWdnZXJDbGljaz10Lm9uVHJpZ2dlckNsaWNrLmJpbmQodSgpKHQpKSx0Lm9uVHJhbnNpdGlvbkVuZD10Lm9uVHJhbnNpdGlvbkVuZC5iaW5kKHUoKSh0KSksdC5faW5pdCgpLHR9cmV0dXJuIHkoKShidWxtYUNvbGxhcHNpYmxlLGUpLHMoKShidWxtYUNvbGxhcHNpYmxlLFt7a2V5OlwiX2luaXRcIix2YWx1ZTpmdW5jdGlvbiBfaW5pdCgpe2lmKHRoaXMuX29yaWdpbmFsSGVpZ2h0PXRoaXMuZWxlbWVudC5zdHlsZS5oZWlnaHQsdGhpcy5fcGFyZW50PXRoaXMuZWxlbWVudC5kYXRhc2V0LnBhcmVudCx0aGlzLl9wYXJlbnQpe3ZhciBlPXRoaXMub3B0aW9ucy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIiNcIi5jb25jYXQodGhpcy5fcGFyZW50KSk7dGhpcy5fc2libGluZ3M9VCh0aGlzLm9wdGlvbnMuc2VsZWN0b3IsZSl8fFtdfXRoaXMuX3RyaWdnZXJzPXRoaXMub3B0aW9ucy5jb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYWN0aW9uPVwiY29sbGFwc2VcIl1baHJlZj1cIiMnLmNvbmNhdCh0aGlzLmVsZW1lbnQuaWQsJ1wiXSwgW2RhdGEtYWN0aW9uPVwiY29sbGFwc2VcIl1bZGF0YS10YXJnZXQ9XCInKS5jb25jYXQodGhpcy5lbGVtZW50LmlkLCdcIl0nKSl8fG51bGwsdGhpcy5fdHJpZ2dlcnMmJnRoaXMuX3RyaWdnZXJzLm9uKFwiY2xpY2sgdG91Y2hcIix0aGlzLm9uVHJpZ2dlckNsaWNrKSx0aGlzLl90cmFuc2l0aW9uRXZlbnQ9ZnVuY3Rpb24gd2hpY2hUcmFuc2l0aW9uRXZlbnQoKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZmFrZWVsZW1lbnRcIiksdD17dHJhbnNpdGlvbjpcInRyYW5zaXRpb25lbmRcIixPVHJhbnNpdGlvbjpcIm9UcmFuc2l0aW9uRW5kXCIsTW96VHJhbnNpdGlvbjpcInRyYW5zaXRpb25lbmRcIixXZWJraXRUcmFuc2l0aW9uOlwid2Via2l0VHJhbnNpdGlvbkVuZFwifTtmb3IodmFyIG4gaW4gdClpZih2b2lkIDAhPT1lLnN0eWxlW25dKXJldHVybiB0W25dfSgpLHRoaXMuX3RyYW5zaXRpb25FdmVudCYmdGhpcy5lbGVtZW50Lm9uKHRoaXMuX3RyYW5zaXRpb25FdmVudCx0aGlzLm9uVHJhbnNpdGlvbkVuZCksdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImlzLWFjdGl2ZVwiKT90aGlzLmV4cGFuZCgpOnRoaXMuY29sbGFwc2UoKX19LHtrZXk6XCJkZXN0cm95XCIsdmFsdWU6ZnVuY3Rpb24gZGVzdHJveSgpe3RoaXMuX3RyaWdnZXJzJiZ0aGlzLl90cmlnZ2Vycy5vZmYoXCJjbGljayB0b3VjaFwiLHRoaXMub25UcmlnZ2VyQ2xpY2ssITEpfX0se2tleTpcImNvbGxhcHNlZFwiLHZhbHVlOmZ1bmN0aW9uIGNvbGxhcHNlZCgpe3JldHVybiB0aGlzLl9jb2xsYXBzZWR9fSx7a2V5OlwiZXhwYW5kXCIsdmFsdWU6ZnVuY3Rpb24gZXhwYW5kKCl7dmFyIGU9dGhpczsodm9pZCAwPT09dGhpcy5fY29sbGFwc2VkfHx0aGlzLl9jb2xsYXBzZWQpJiYodGhpcy5lbWl0KFwiYmVmb3JlOmV4cGFuZFwiLHRoaXMpLHRoaXMuX2NvbGxhcHNlZD0hMSx0aGlzLl9wYXJlbnQmJiFmdW5jdGlvbiBCb29sZWFuUGFyc2UoZSl7cmV0dXJuIWoudGVzdChlKSYmISFlfSh0aGlzLm9wdGlvbnMuYWxsb3dNdWx0aXBsZSkmJnRoaXMuX3NpYmxpbmdzLmZvckVhY2goZnVuY3Rpb24odCl7dC5pc1NhbWVOb2RlKGUuZWxlbWVudCl8fHQuYnVsbWFDb2xsYXBzaWJsZSYmdC5idWxtYUNvbGxhcHNpYmxlKFwiY2xvc2VcIil9KSx0aGlzLmVsZW1lbnQuc3R5bGUuaGVpZ2h0PXRoaXMuZWxlbWVudC5zY3JvbGxIZWlnaHQrXCJweFwiLHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiaXMtYWN0aXZlXCIpLHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsITApLHRoaXMuX3RyaWdnZXJzJiZ0aGlzLl90cmlnZ2Vycy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuY2xhc3NMaXN0LmFkZChcImlzLWFjdGl2ZVwiKX0pLHRoaXMuZW1pdChcImFmdGVyOmV4cGFuZFwiLHRoaXMpKX19LHtrZXk6XCJvcGVuXCIsdmFsdWU6ZnVuY3Rpb24gb3Blbigpe3RoaXMuZXhwYW5kKCl9fSx7a2V5OlwiY29sbGFwc2VcIix2YWx1ZTpmdW5jdGlvbiBjb2xsYXBzZSgpe3ZvaWQgMCE9PXRoaXMuX2NvbGxhcHNlZCYmdGhpcy5fY29sbGFwc2VkfHwodGhpcy5lbWl0KFwiYmVmb3JlOmNvbGxhcHNlXCIsdGhpcyksdGhpcy5fY29sbGFwc2VkPSEwLHRoaXMuZWxlbWVudC5zdHlsZS5oZWlnaHQ9MCx0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImlzLWFjdGl2ZVwiKSx0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLCExKSx0aGlzLl90cmlnZ2VycyYmdGhpcy5fdHJpZ2dlcnMuZm9yRWFjaChmdW5jdGlvbihlKXtlLmNsYXNzTGlzdC5yZW1vdmUoXCJpcy1hY3RpdmVcIil9KSx0aGlzLmVtaXQoXCJhZnRlcjpjb2xsYXBzZVwiLHRoaXMpKX19LHtrZXk6XCJjbG9zZVwiLHZhbHVlOmZ1bmN0aW9uIGNsb3NlKCl7dGhpcy5jb2xsYXBzZSgpfX0se2tleTpcIm9uVHJpZ2dlckNsaWNrXCIsdmFsdWU6ZnVuY3Rpb24gb25UcmlnZ2VyQ2xpY2soZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuY29sbGFwc2VkKCk/KGUuY3VycmVudFRhcmdldC5jbGFzc0xpc3QuYWRkKFwiaXMtYWN0aXZlXCIpLHRoaXMuZXhwYW5kKCkpOihlLmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LnJlbW92ZShcImlzLWFjdGl2ZVwiKSx0aGlzLmNvbGxhcHNlKCkpfX0se2tleTpcIm9uVHJhbnNpdGlvbkVuZFwiLHZhbHVlOmZ1bmN0aW9uIG9uVHJhbnNpdGlvbkVuZChlKXt0aGlzLl9jb2xsYXBzZWR8fCh0aGlzLmVsZW1lbnQuc3R5bGUuaGVpZ2h0PXRoaXMuX29yaWdpbmFsSGVpZ2h0KX19XSxbe2tleTpcImF0dGFjaFwiLHZhbHVlOmZ1bmN0aW9uIGF0dGFjaCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpcIi5pcy1jb2xsYXBzaWJsZVwiLHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3JldHVybiBoKCkocCgpKGJ1bG1hQ29sbGFwc2libGUpLFwiYXR0YWNoXCIsdGhpcykuY2FsbCh0aGlzLGUsdCxOKX19XSksYnVsbWFDb2xsYXBzaWJsZX0oTCl9XSkuZGVmYXVsdH0pOyIsICIvLyA8Y29weXJpZ2h0X3N0YXRlbWVudD5cbi8vICAgQ29kZUJ1ZGR5OiBBIHByb2dyYW1taW5nIGFzc2lnbm1lbnQgbWFuYWdlbWVudCBzeXN0ZW0gZm9yIHNob3J0LWZvcm0gZXhlcmNpc2VzXG4vLyAgIENvcHlyaWdodCAoQykgMjAyMyBTdGVwaGVuIFBpY2NvbG9cbi8vICAgVGhpcyBwcm9ncmFtIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnkgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uIFRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLCBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4vLyA8L2NvcHlyaWdodF9zdGF0ZW1lbnQ+XG5cbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb24gKi9cbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHlwZXMgKi9cbmV4cG9ydCBmdW5jdGlvbiBiaW5kPFQgZXh0ZW5kcyBGdW5jdGlvbj4odGFyZ2V0OiBvYmplY3QsIHByb3BlcnR5S2V5OiBzdHJpbmcsIGRlc2NyaXB0b3I6IFR5cGVkUHJvcGVydHlEZXNjcmlwdG9yPFQ+KTogVHlwZWRQcm9wZXJ0eURlc2NyaXB0b3I8VD4gfCB2b2lkIHtcblx0aWYoIWRlc2NyaXB0b3IgfHwgKHR5cGVvZiBkZXNjcmlwdG9yLnZhbHVlICE9PSAnZnVuY3Rpb24nKSkge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoYE9ubHkgbWV0aG9kcyBjYW4gYmUgZGVjb3JhdGVkIHdpdGggQGJpbmQuIDwke3Byb3BlcnR5S2V5fT4gaXMgbm90IGEgbWV0aG9kIWApO1xuXHR9XG5cblx0cmV0dXJuIHtcblx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0Z2V0KHRoaXM6IFQpOiBUIHtcblx0XHRcdGNvbnN0IGJvdW5kOiBUID0gZGVzY3JpcHRvci52YWx1ZSEuYmluZCh0aGlzKTtcblx0XHRcdC8vIENyZWRpdHMgdG8gaHR0cHM6Ly9naXRodWIuY29tL2FuZHJleXBvcHAvYXV0b2JpbmQtZGVjb3JhdG9yIGZvciBtZW1vaXppbmcgdGhlIHJlc3VsdCBvZiBiaW5kIGFnYWluc3QgYSBzeW1ib2wgb24gdGhlIGluc3RhbmNlLlxuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIHByb3BlcnR5S2V5LCB7XG5cdFx0XHRcdHZhbHVlOiBib3VuZCxcblx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXHRcdFx0XHR3cml0YWJsZTogdHJ1ZSxcblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIGJvdW5kO1xuXHRcdH0sXG5cdH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGJpbmQ7IiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuXG4vKipcbiAqIFdoZXRoZXIgdGhlIGN1cnJlbnQgYnJvd3NlciBzdXBwb3J0cyBgYWRvcHRlZFN0eWxlU2hlZXRzYC5cbiAqL1xuZXhwb3J0IGNvbnN0IHN1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0cyA9XG4gIHdpbmRvdy5TaGFkb3dSb290ICYmXG4gICh3aW5kb3cuU2hhZHlDU1MgPT09IHVuZGVmaW5lZCB8fCB3aW5kb3cuU2hhZHlDU1MubmF0aXZlU2hhZG93KSAmJlxuICAnYWRvcHRlZFN0eWxlU2hlZXRzJyBpbiBEb2N1bWVudC5wcm90b3R5cGUgJiZcbiAgJ3JlcGxhY2UnIGluIENTU1N0eWxlU2hlZXQucHJvdG90eXBlO1xuXG4vKipcbiAqIEEgQ1NTUmVzdWx0IG9yIG5hdGl2ZSBDU1NTdHlsZVNoZWV0LlxuICpcbiAqIEluIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCBjb25zdHJ1Y3RpYmxlIENTUyBzdHlsZSBzaGVldHMsIENTU1N0eWxlU2hlZXRcbiAqIG9iamVjdCBjYW4gYmUgdXNlZCBmb3Igc3R5bGluZyBhbG9uZyBzaWRlIENTU1Jlc3VsdCBmcm9tIHRoZSBgY3NzYFxuICogdGVtcGxhdGUgdGFnLlxuICovXG5leHBvcnQgdHlwZSBDU1NSZXN1bHRPck5hdGl2ZSA9IENTU1Jlc3VsdCB8IENTU1N0eWxlU2hlZXQ7XG5cbmV4cG9ydCB0eXBlIENTU1Jlc3VsdEFycmF5ID0gQXJyYXk8Q1NTUmVzdWx0T3JOYXRpdmUgfCBDU1NSZXN1bHRBcnJheT47XG5cbi8qKlxuICogQSBzaW5nbGUgQ1NTUmVzdWx0LCBDU1NTdHlsZVNoZWV0LCBvciBhbiBhcnJheSBvciBuZXN0ZWQgYXJyYXlzIG9mIHRob3NlLlxuICovXG5leHBvcnQgdHlwZSBDU1NSZXN1bHRHcm91cCA9IENTU1Jlc3VsdE9yTmF0aXZlIHwgQ1NTUmVzdWx0QXJyYXk7XG5cbmNvbnN0IGNvbnN0cnVjdGlvblRva2VuID0gU3ltYm9sKCk7XG5cbmNvbnN0IGNzc1RhZ0NhY2hlID0gbmV3IFdlYWtNYXA8VGVtcGxhdGVTdHJpbmdzQXJyYXksIENTU1N0eWxlU2hlZXQ+KCk7XG5cbi8qKlxuICogQSBjb250YWluZXIgZm9yIGEgc3RyaW5nIG9mIENTUyB0ZXh0LCB0aGF0IG1heSBiZSB1c2VkIHRvIGNyZWF0ZSBhIENTU1N0eWxlU2hlZXQuXG4gKlxuICogQ1NTUmVzdWx0IGlzIHRoZSByZXR1cm4gdmFsdWUgb2YgYGNzc2AtdGFnZ2VkIHRlbXBsYXRlIGxpdGVyYWxzIGFuZFxuICogYHVuc2FmZUNTUygpYC4gSW4gb3JkZXIgdG8gZW5zdXJlIHRoYXQgQ1NTUmVzdWx0cyBhcmUgb25seSBjcmVhdGVkIHZpYSB0aGVcbiAqIGBjc3NgIHRhZyBhbmQgYHVuc2FmZUNTUygpYCwgQ1NTUmVzdWx0IGNhbm5vdCBiZSBjb25zdHJ1Y3RlZCBkaXJlY3RseS5cbiAqL1xuZXhwb3J0IGNsYXNzIENTU1Jlc3VsdCB7XG4gIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gIFsnXyRjc3NSZXN1bHQkJ10gPSB0cnVlO1xuICByZWFkb25seSBjc3NUZXh0OiBzdHJpbmc7XG4gIHByaXZhdGUgX3N0eWxlU2hlZXQ/OiBDU1NTdHlsZVNoZWV0O1xuICBwcml2YXRlIF9zdHJpbmdzOiBUZW1wbGF0ZVN0cmluZ3NBcnJheSB8IHVuZGVmaW5lZDtcblxuICBwcml2YXRlIGNvbnN0cnVjdG9yKFxuICAgIGNzc1RleHQ6IHN0cmluZyxcbiAgICBzdHJpbmdzOiBUZW1wbGF0ZVN0cmluZ3NBcnJheSB8IHVuZGVmaW5lZCxcbiAgICBzYWZlVG9rZW46IHN5bWJvbFxuICApIHtcbiAgICBpZiAoc2FmZVRva2VuICE9PSBjb25zdHJ1Y3Rpb25Ub2tlbikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnQ1NTUmVzdWx0IGlzIG5vdCBjb25zdHJ1Y3RhYmxlLiBVc2UgYHVuc2FmZUNTU2Agb3IgYGNzc2AgaW5zdGVhZC4nXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLmNzc1RleHQgPSBjc3NUZXh0O1xuICAgIHRoaXMuX3N0cmluZ3MgPSBzdHJpbmdzO1xuICB9XG5cbiAgLy8gVGhpcyBpcyBhIGdldHRlciBzbyB0aGF0IGl0J3MgbGF6eS4gSW4gcHJhY3RpY2UsIHRoaXMgbWVhbnMgc3R5bGVzaGVldHNcbiAgLy8gYXJlIG5vdCBjcmVhdGVkIHVudGlsIHRoZSBmaXJzdCBlbGVtZW50IGluc3RhbmNlIGlzIG1hZGUuXG4gIGdldCBzdHlsZVNoZWV0KCk6IENTU1N0eWxlU2hlZXQgfCB1bmRlZmluZWQge1xuICAgIC8vIElmIGBzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHNgIGlzIHRydWUgdGhlbiB3ZSBhc3N1bWUgQ1NTU3R5bGVTaGVldCBpc1xuICAgIC8vIGNvbnN0cnVjdGFibGUuXG4gICAgbGV0IHN0eWxlU2hlZXQgPSB0aGlzLl9zdHlsZVNoZWV0O1xuICAgIGNvbnN0IHN0cmluZ3MgPSB0aGlzLl9zdHJpbmdzO1xuICAgIGlmIChzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHMgJiYgc3R5bGVTaGVldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBjYWNoZWFibGUgPSBzdHJpbmdzICE9PSB1bmRlZmluZWQgJiYgc3RyaW5ncy5sZW5ndGggPT09IDE7XG4gICAgICBpZiAoY2FjaGVhYmxlKSB7XG4gICAgICAgIHN0eWxlU2hlZXQgPSBjc3NUYWdDYWNoZS5nZXQoc3RyaW5ncyk7XG4gICAgICB9XG4gICAgICBpZiAoc3R5bGVTaGVldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICh0aGlzLl9zdHlsZVNoZWV0ID0gc3R5bGVTaGVldCA9IG5ldyBDU1NTdHlsZVNoZWV0KCkpLnJlcGxhY2VTeW5jKFxuICAgICAgICAgIHRoaXMuY3NzVGV4dFxuICAgICAgICApO1xuICAgICAgICBpZiAoY2FjaGVhYmxlKSB7XG4gICAgICAgICAgY3NzVGFnQ2FjaGUuc2V0KHN0cmluZ3MsIHN0eWxlU2hlZXQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdHlsZVNoZWV0O1xuICB9XG5cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5jc3NUZXh0O1xuICB9XG59XG5cbnR5cGUgQ29uc3RydWN0YWJsZUNTU1Jlc3VsdCA9IENTU1Jlc3VsdCAmIHtcbiAgbmV3IChcbiAgICBjc3NUZXh0OiBzdHJpbmcsXG4gICAgc3RyaW5nczogVGVtcGxhdGVTdHJpbmdzQXJyYXkgfCB1bmRlZmluZWQsXG4gICAgc2FmZVRva2VuOiBzeW1ib2xcbiAgKTogQ1NTUmVzdWx0O1xufTtcblxuY29uc3QgdGV4dEZyb21DU1NSZXN1bHQgPSAodmFsdWU6IENTU1Jlc3VsdEdyb3VwIHwgbnVtYmVyKSA9PiB7XG4gIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gIGlmICgodmFsdWUgYXMgQ1NTUmVzdWx0KVsnXyRjc3NSZXN1bHQkJ10gPT09IHRydWUpIHtcbiAgICByZXR1cm4gKHZhbHVlIGFzIENTU1Jlc3VsdCkuY3NzVGV4dDtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBWYWx1ZSBwYXNzZWQgdG8gJ2NzcycgZnVuY3Rpb24gbXVzdCBiZSBhICdjc3MnIGZ1bmN0aW9uIHJlc3VsdDogYCArXG4gICAgICAgIGAke3ZhbHVlfS4gVXNlICd1bnNhZmVDU1MnIHRvIHBhc3Mgbm9uLWxpdGVyYWwgdmFsdWVzLCBidXQgdGFrZSBjYXJlIGAgK1xuICAgICAgICBgdG8gZW5zdXJlIHBhZ2Ugc2VjdXJpdHkuYFxuICAgICk7XG4gIH1cbn07XG5cbi8qKlxuICogV3JhcCBhIHZhbHVlIGZvciBpbnRlcnBvbGF0aW9uIGluIGEge0BsaW5rY29kZSBjc3N9IHRhZ2dlZCB0ZW1wbGF0ZSBsaXRlcmFsLlxuICpcbiAqIFRoaXMgaXMgdW5zYWZlIGJlY2F1c2UgdW50cnVzdGVkIENTUyB0ZXh0IGNhbiBiZSB1c2VkIHRvIHBob25lIGhvbWVcbiAqIG9yIGV4ZmlsdHJhdGUgZGF0YSB0byBhbiBhdHRhY2tlciBjb250cm9sbGVkIHNpdGUuIFRha2UgY2FyZSB0byBvbmx5IHVzZVxuICogdGhpcyB3aXRoIHRydXN0ZWQgaW5wdXQuXG4gKi9cbmV4cG9ydCBjb25zdCB1bnNhZmVDU1MgPSAodmFsdWU6IHVua25vd24pID0+XG4gIG5ldyAoQ1NTUmVzdWx0IGFzIENvbnN0cnVjdGFibGVDU1NSZXN1bHQpKFxuICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyB2YWx1ZSA6IFN0cmluZyh2YWx1ZSksXG4gICAgdW5kZWZpbmVkLFxuICAgIGNvbnN0cnVjdGlvblRva2VuXG4gICk7XG5cbi8qKlxuICogQSB0ZW1wbGF0ZSBsaXRlcmFsIHRhZyB3aGljaCBjYW4gYmUgdXNlZCB3aXRoIExpdEVsZW1lbnQnc1xuICoge0BsaW5rY29kZSBMaXRFbGVtZW50LnN0eWxlc30gcHJvcGVydHkgdG8gc2V0IGVsZW1lbnQgc3R5bGVzLlxuICpcbiAqIEZvciBzZWN1cml0eSByZWFzb25zLCBvbmx5IGxpdGVyYWwgc3RyaW5nIHZhbHVlcyBhbmQgbnVtYmVyIG1heSBiZSB1c2VkIGluXG4gKiBlbWJlZGRlZCBleHByZXNzaW9ucy4gVG8gaW5jb3Jwb3JhdGUgbm9uLWxpdGVyYWwgdmFsdWVzIHtAbGlua2NvZGUgdW5zYWZlQ1NTfVxuICogbWF5IGJlIHVzZWQgaW5zaWRlIGFuIGV4cHJlc3Npb24uXG4gKi9cbmV4cG9ydCBjb25zdCBjc3MgPSAoXG4gIHN0cmluZ3M6IFRlbXBsYXRlU3RyaW5nc0FycmF5LFxuICAuLi52YWx1ZXM6IChDU1NSZXN1bHRHcm91cCB8IG51bWJlcilbXVxuKTogQ1NTUmVzdWx0ID0+IHtcbiAgY29uc3QgY3NzVGV4dCA9XG4gICAgc3RyaW5ncy5sZW5ndGggPT09IDFcbiAgICAgID8gc3RyaW5nc1swXVxuICAgICAgOiB2YWx1ZXMucmVkdWNlKFxuICAgICAgICAgIChhY2MsIHYsIGlkeCkgPT4gYWNjICsgdGV4dEZyb21DU1NSZXN1bHQodikgKyBzdHJpbmdzW2lkeCArIDFdLFxuICAgICAgICAgIHN0cmluZ3NbMF1cbiAgICAgICAgKTtcbiAgcmV0dXJuIG5ldyAoQ1NTUmVzdWx0IGFzIENvbnN0cnVjdGFibGVDU1NSZXN1bHQpKFxuICAgIGNzc1RleHQsXG4gICAgc3RyaW5ncyxcbiAgICBjb25zdHJ1Y3Rpb25Ub2tlblxuICApO1xufTtcblxuLyoqXG4gKiBBcHBsaWVzIHRoZSBnaXZlbiBzdHlsZXMgdG8gYSBgc2hhZG93Um9vdGAuIFdoZW4gU2hhZG93IERPTSBpc1xuICogYXZhaWxhYmxlIGJ1dCBgYWRvcHRlZFN0eWxlU2hlZXRzYCBpcyBub3QsIHN0eWxlcyBhcmUgYXBwZW5kZWQgdG8gdGhlXG4gKiBgc2hhZG93Um9vdGAgdG8gW21pbWljIHNwZWMgYmVoYXZpb3JdKGh0dHBzOi8vd2ljZy5naXRodWIuaW8vY29uc3RydWN0LXN0eWxlc2hlZXRzLyN1c2luZy1jb25zdHJ1Y3RlZC1zdHlsZXNoZWV0cykuXG4gKiBOb3RlLCB3aGVuIHNoaW1taW5nIGlzIHVzZWQsIGFueSBzdHlsZXMgdGhhdCBhcmUgc3Vic2VxdWVudGx5IHBsYWNlZCBpbnRvXG4gKiB0aGUgc2hhZG93Um9vdCBzaG91bGQgYmUgcGxhY2VkICpiZWZvcmUqIGFueSBzaGltbWVkIGFkb3B0ZWQgc3R5bGVzLiBUaGlzXG4gKiB3aWxsIG1hdGNoIHNwZWMgYmVoYXZpb3IgdGhhdCBnaXZlcyBhZG9wdGVkIHNoZWV0cyBwcmVjZWRlbmNlIG92ZXIgc3R5bGVzIGluXG4gKiBzaGFkb3dSb290LlxuICovXG5leHBvcnQgY29uc3QgYWRvcHRTdHlsZXMgPSAoXG4gIHJlbmRlclJvb3Q6IFNoYWRvd1Jvb3QsXG4gIHN0eWxlczogQXJyYXk8Q1NTUmVzdWx0T3JOYXRpdmU+XG4pID0+IHtcbiAgaWYgKHN1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0cykge1xuICAgIChyZW5kZXJSb290IGFzIFNoYWRvd1Jvb3QpLmFkb3B0ZWRTdHlsZVNoZWV0cyA9IHN0eWxlcy5tYXAoKHMpID0+XG4gICAgICBzIGluc3RhbmNlb2YgQ1NTU3R5bGVTaGVldCA/IHMgOiBzLnN0eWxlU2hlZXQhXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZXMuZm9yRWFjaCgocykgPT4ge1xuICAgICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgIGNvbnN0IG5vbmNlID0gKHdpbmRvdyBhcyBhbnkpWydsaXROb25jZSddO1xuICAgICAgaWYgKG5vbmNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc3R5bGUuc2V0QXR0cmlidXRlKCdub25jZScsIG5vbmNlKTtcbiAgICAgIH1cbiAgICAgIHN0eWxlLnRleHRDb250ZW50ID0gKHMgYXMgQ1NTUmVzdWx0KS5jc3NUZXh0O1xuICAgICAgcmVuZGVyUm9vdC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgfSk7XG4gIH1cbn07XG5cbmNvbnN0IGNzc1Jlc3VsdEZyb21TdHlsZVNoZWV0ID0gKHNoZWV0OiBDU1NTdHlsZVNoZWV0KSA9PiB7XG4gIGxldCBjc3NUZXh0ID0gJyc7XG4gIGZvciAoY29uc3QgcnVsZSBvZiBzaGVldC5jc3NSdWxlcykge1xuICAgIGNzc1RleHQgKz0gcnVsZS5jc3NUZXh0O1xuICB9XG4gIHJldHVybiB1bnNhZmVDU1MoY3NzVGV4dCk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0Q29tcGF0aWJsZVN0eWxlID0gc3VwcG9ydHNBZG9wdGluZ1N0eWxlU2hlZXRzXG4gID8gKHM6IENTU1Jlc3VsdE9yTmF0aXZlKSA9PiBzXG4gIDogKHM6IENTU1Jlc3VsdE9yTmF0aXZlKSA9PlxuICAgICAgcyBpbnN0YW5jZW9mIENTU1N0eWxlU2hlZXQgPyBjc3NSZXN1bHRGcm9tU3R5bGVTaGVldChzKSA6IHM7XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG5cbi8qKlxuICogVXNlIHRoaXMgbW9kdWxlIGlmIHlvdSB3YW50IHRvIGNyZWF0ZSB5b3VyIG93biBiYXNlIGNsYXNzIGV4dGVuZGluZ1xuICoge0BsaW5rIFJlYWN0aXZlRWxlbWVudH0uXG4gKiBAcGFja2FnZURvY3VtZW50YXRpb25cbiAqL1xuXG5pbXBvcnQge1xuICBnZXRDb21wYXRpYmxlU3R5bGUsXG4gIGFkb3B0U3R5bGVzLFxuICBDU1NSZXN1bHRHcm91cCxcbiAgQ1NTUmVzdWx0T3JOYXRpdmUsXG59IGZyb20gJy4vY3NzLXRhZy5qcyc7XG5pbXBvcnQgdHlwZSB7XG4gIFJlYWN0aXZlQ29udHJvbGxlcixcbiAgUmVhY3RpdmVDb250cm9sbGVySG9zdCxcbn0gZnJvbSAnLi9yZWFjdGl2ZS1jb250cm9sbGVyLmpzJztcblxuZXhwb3J0ICogZnJvbSAnLi9jc3MtdGFnLmpzJztcbmV4cG9ydCB0eXBlIHtcbiAgUmVhY3RpdmVDb250cm9sbGVyLFxuICBSZWFjdGl2ZUNvbnRyb2xsZXJIb3N0LFxufSBmcm9tICcuL3JlYWN0aXZlLWNvbnRyb2xsZXIuanMnO1xuXG5jb25zdCBERVZfTU9ERSA9IHRydWU7XG5cbmxldCByZXF1ZXN0VXBkYXRlVGhlbmFibGU6IChuYW1lOiBzdHJpbmcpID0+IHtcbiAgdGhlbjogKFxuICAgIG9uZnVsZmlsbGVkPzogKHZhbHVlOiBib29sZWFuKSA9PiB2b2lkLFxuICAgIF9vbnJlamVjdGVkPzogKCkgPT4gdm9pZFxuICApID0+IHZvaWQ7XG59O1xuXG5sZXQgaXNzdWVXYXJuaW5nOiAoY29kZTogc3RyaW5nLCB3YXJuaW5nOiBzdHJpbmcpID0+IHZvaWQ7XG5cbmNvbnN0IHRydXN0ZWRUeXBlcyA9ICh3aW5kb3cgYXMgdW5rbm93biBhcyB7dHJ1c3RlZFR5cGVzPzoge2VtcHR5U2NyaXB0OiAnJ319KVxuICAudHJ1c3RlZFR5cGVzO1xuXG4vLyBUZW1wb3Jhcnkgd29ya2Fyb3VuZCBmb3IgaHR0cHM6Ly9jcmJ1Zy5jb20vOTkzMjY4XG4vLyBDdXJyZW50bHksIGFueSBhdHRyaWJ1dGUgc3RhcnRpbmcgd2l0aCBcIm9uXCIgaXMgY29uc2lkZXJlZCB0byBiZSBhXG4vLyBUcnVzdGVkU2NyaXB0IHNvdXJjZS4gU3VjaCBib29sZWFuIGF0dHJpYnV0ZXMgbXVzdCBiZSBzZXQgdG8gdGhlIGVxdWl2YWxlbnRcbi8vIHRydXN0ZWQgZW1wdHlTY3JpcHQgdmFsdWUuXG5jb25zdCBlbXB0eVN0cmluZ0ZvckJvb2xlYW5BdHRyaWJ1dGUgPSB0cnVzdGVkVHlwZXNcbiAgPyAodHJ1c3RlZFR5cGVzLmVtcHR5U2NyaXB0IGFzIHVua25vd24gYXMgJycpXG4gIDogJyc7XG5cbmNvbnN0IHBvbHlmaWxsU3VwcG9ydCA9IERFVl9NT0RFXG4gID8gd2luZG93LnJlYWN0aXZlRWxlbWVudFBvbHlmaWxsU3VwcG9ydERldk1vZGVcbiAgOiB3aW5kb3cucmVhY3RpdmVFbGVtZW50UG9seWZpbGxTdXBwb3J0O1xuXG5pZiAoREVWX01PREUpIHtcbiAgLy8gRW5zdXJlIHdhcm5pbmdzIGFyZSBpc3N1ZWQgb25seSAxeCwgZXZlbiBpZiBtdWx0aXBsZSB2ZXJzaW9ucyBvZiBMaXRcbiAgLy8gYXJlIGxvYWRlZC5cbiAgY29uc3QgaXNzdWVkV2FybmluZ3M6IFNldDxzdHJpbmcgfCB1bmRlZmluZWQ+ID1cbiAgICAoZ2xvYmFsVGhpcy5saXRJc3N1ZWRXYXJuaW5ncyA/Pz0gbmV3IFNldCgpKTtcblxuICAvLyBJc3N1ZSBhIHdhcm5pbmcsIGlmIHdlIGhhdmVuJ3QgYWxyZWFkeS5cbiAgaXNzdWVXYXJuaW5nID0gKGNvZGU6IHN0cmluZywgd2FybmluZzogc3RyaW5nKSA9PiB7XG4gICAgd2FybmluZyArPSBgIFNlZSBodHRwczovL2xpdC5kZXYvbXNnLyR7Y29kZX0gZm9yIG1vcmUgaW5mb3JtYXRpb24uYDtcbiAgICBpZiAoIWlzc3VlZFdhcm5pbmdzLmhhcyh3YXJuaW5nKSkge1xuICAgICAgY29uc29sZS53YXJuKHdhcm5pbmcpO1xuICAgICAgaXNzdWVkV2FybmluZ3MuYWRkKHdhcm5pbmcpO1xuICAgIH1cbiAgfTtcblxuICBpc3N1ZVdhcm5pbmcoXG4gICAgJ2Rldi1tb2RlJyxcbiAgICBgTGl0IGlzIGluIGRldiBtb2RlLiBOb3QgcmVjb21tZW5kZWQgZm9yIHByb2R1Y3Rpb24hYFxuICApO1xuXG4gIC8vIElzc3VlIHBvbHlmaWxsIHN1cHBvcnQgd2FybmluZy5cbiAgaWYgKHdpbmRvdy5TaGFkeURPTT8uaW5Vc2UgJiYgcG9seWZpbGxTdXBwb3J0ID09PSB1bmRlZmluZWQpIHtcbiAgICBpc3N1ZVdhcm5pbmcoXG4gICAgICAncG9seWZpbGwtc3VwcG9ydC1taXNzaW5nJyxcbiAgICAgIGBTaGFkb3cgRE9NIGlzIGJlaW5nIHBvbHlmaWxsZWQgdmlhIFxcYFNoYWR5RE9NXFxgIGJ1dCBgICtcbiAgICAgICAgYHRoZSBcXGBwb2x5ZmlsbC1zdXBwb3J0XFxgIG1vZHVsZSBoYXMgbm90IGJlZW4gbG9hZGVkLmBcbiAgICApO1xuICB9XG5cbiAgcmVxdWVzdFVwZGF0ZVRoZW5hYmxlID0gKG5hbWUpID0+ICh7XG4gICAgdGhlbjogKFxuICAgICAgb25mdWxmaWxsZWQ/OiAodmFsdWU6IGJvb2xlYW4pID0+IHZvaWQsXG4gICAgICBfb25yZWplY3RlZD86ICgpID0+IHZvaWRcbiAgICApID0+IHtcbiAgICAgIGlzc3VlV2FybmluZyhcbiAgICAgICAgJ3JlcXVlc3QtdXBkYXRlLXByb21pc2UnLFxuICAgICAgICBgVGhlIFxcYHJlcXVlc3RVcGRhdGVcXGAgbWV0aG9kIHNob3VsZCBubyBsb25nZXIgcmV0dXJuIGEgUHJvbWlzZSBidXQgYCArXG4gICAgICAgICAgYGRvZXMgc28gb24gXFxgJHtuYW1lfVxcYC4gVXNlIFxcYHVwZGF0ZUNvbXBsZXRlXFxgIGluc3RlYWQuYFxuICAgICAgKTtcbiAgICAgIGlmIChvbmZ1bGZpbGxlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG9uZnVsZmlsbGVkKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9LFxuICB9KTtcbn1cblxuLyoqXG4gKiBDb250YWlucyB0eXBlcyB0aGF0IGFyZSBwYXJ0IG9mIHRoZSB1bnN0YWJsZSBkZWJ1ZyBBUEkuXG4gKlxuICogRXZlcnl0aGluZyBpbiB0aGlzIEFQSSBpcyBub3Qgc3RhYmxlIGFuZCBtYXkgY2hhbmdlIG9yIGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZSxcbiAqIGV2ZW4gb24gcGF0Y2ggcmVsZWFzZXMuXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbmFtZXNwYWNlXG5leHBvcnQgbmFtZXNwYWNlIFJlYWN0aXZlVW5zdGFibGUge1xuICAvKipcbiAgICogV2hlbiBMaXQgaXMgcnVubmluZyBpbiBkZXYgbW9kZSBhbmQgYHdpbmRvdy5lbWl0TGl0RGVidWdMb2dFdmVudHNgIGlzIHRydWUsXG4gICAqIHdlIHdpbGwgZW1pdCAnbGl0LWRlYnVnJyBldmVudHMgdG8gd2luZG93LCB3aXRoIGxpdmUgZGV0YWlscyBhYm91dCB0aGUgdXBkYXRlIGFuZCByZW5kZXJcbiAgICogbGlmZWN5Y2xlLiBUaGVzZSBjYW4gYmUgdXNlZnVsIGZvciB3cml0aW5nIGRlYnVnIHRvb2xpbmcgYW5kIHZpc3VhbGl6YXRpb25zLlxuICAgKlxuICAgKiBQbGVhc2UgYmUgYXdhcmUgdGhhdCBydW5uaW5nIHdpdGggd2luZG93LmVtaXRMaXREZWJ1Z0xvZ0V2ZW50cyBoYXMgcGVyZm9ybWFuY2Ugb3ZlcmhlYWQsXG4gICAqIG1ha2luZyBjZXJ0YWluIG9wZXJhdGlvbnMgdGhhdCBhcmUgbm9ybWFsbHkgdmVyeSBjaGVhcCAobGlrZSBhIG5vLW9wIHJlbmRlcikgbXVjaCBzbG93ZXIsXG4gICAqIGJlY2F1c2Ugd2UgbXVzdCBjb3B5IGRhdGEgYW5kIGRpc3BhdGNoIGV2ZW50cy5cbiAgICovXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbmFtZXNwYWNlXG4gIGV4cG9ydCBuYW1lc3BhY2UgRGVidWdMb2cge1xuICAgIGV4cG9ydCB0eXBlIEVudHJ5ID0gVXBkYXRlO1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlIHtcbiAgICAgIGtpbmQ6ICd1cGRhdGUnO1xuICAgIH1cbiAgfVxufVxuXG5pbnRlcmZhY2UgRGVidWdMb2dnaW5nV2luZG93IHtcbiAgLy8gRXZlbiBpbiBkZXYgbW9kZSwgd2UgZ2VuZXJhbGx5IGRvbid0IHdhbnQgdG8gZW1pdCB0aGVzZSBldmVudHMsIGFzIHRoYXQnc1xuICAvLyBhbm90aGVyIGxldmVsIG9mIGNvc3QsIHNvIG9ubHkgZW1pdCB0aGVtIHdoZW4gREVWX01PREUgaXMgdHJ1ZSBfYW5kXyB3aGVuXG4gIC8vIHdpbmRvdy5lbWl0TGl0RGVidWdFdmVudHMgaXMgdHJ1ZS5cbiAgZW1pdExpdERlYnVnTG9nRXZlbnRzPzogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBVc2VmdWwgZm9yIHZpc3VhbGl6aW5nIGFuZCBsb2dnaW5nIGluc2lnaHRzIGludG8gd2hhdCB0aGUgTGl0IHRlbXBsYXRlIHN5c3RlbSBpcyBkb2luZy5cbiAqXG4gKiBDb21waWxlZCBvdXQgb2YgcHJvZCBtb2RlIGJ1aWxkcy5cbiAqL1xuY29uc3QgZGVidWdMb2dFdmVudCA9IERFVl9NT0RFXG4gID8gKGV2ZW50OiBSZWFjdGl2ZVVuc3RhYmxlLkRlYnVnTG9nLkVudHJ5KSA9PiB7XG4gICAgICBjb25zdCBzaG91bGRFbWl0ID0gKHdpbmRvdyBhcyB1bmtub3duIGFzIERlYnVnTG9nZ2luZ1dpbmRvdylcbiAgICAgICAgLmVtaXRMaXREZWJ1Z0xvZ0V2ZW50cztcbiAgICAgIGlmICghc2hvdWxkRW1pdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChcbiAgICAgICAgbmV3IEN1c3RvbUV2ZW50PFJlYWN0aXZlVW5zdGFibGUuRGVidWdMb2cuRW50cnk+KCdsaXQtZGVidWcnLCB7XG4gICAgICAgICAgZGV0YWlsOiBldmVudCxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICA6IHVuZGVmaW5lZDtcblxuLypcbiAqIFdoZW4gdXNpbmcgQ2xvc3VyZSBDb21waWxlciwgSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eShwcm9wZXJ0eSwgb2JqZWN0KSBpc1xuICogcmVwbGFjZWQgYXQgY29tcGlsZSB0aW1lIGJ5IHRoZSBtdW5nZWQgbmFtZSBmb3Igb2JqZWN0W3Byb3BlcnR5XS4gV2UgY2Fubm90XG4gKiBhbGlhcyB0aGlzIGZ1bmN0aW9uLCBzbyB3ZSBoYXZlIHRvIHVzZSBhIHNtYWxsIHNoaW0gdGhhdCBoYXMgdGhlIHNhbWVcbiAqIGJlaGF2aW9yIHdoZW4gbm90IGNvbXBpbGluZy5cbiAqL1xuLypAX19JTkxJTkVfXyovXG5jb25zdCBKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5ID0gPFAgZXh0ZW5kcyBQcm9wZXJ0eUtleT4oXG4gIHByb3A6IFAsXG4gIF9vYmo6IHVua25vd25cbik6IFAgPT4gcHJvcDtcblxuLyoqXG4gKiBDb252ZXJ0cyBwcm9wZXJ0eSB2YWx1ZXMgdG8gYW5kIGZyb20gYXR0cmlidXRlIHZhbHVlcy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb21wbGV4QXR0cmlidXRlQ29udmVydGVyPFR5cGUgPSB1bmtub3duLCBUeXBlSGludCA9IHVua25vd24+IHtcbiAgLyoqXG4gICAqIENhbGxlZCB0byBjb252ZXJ0IGFuIGF0dHJpYnV0ZSB2YWx1ZSB0byBhIHByb3BlcnR5XG4gICAqIHZhbHVlLlxuICAgKi9cbiAgZnJvbUF0dHJpYnV0ZT8odmFsdWU6IHN0cmluZyB8IG51bGwsIHR5cGU/OiBUeXBlSGludCk6IFR5cGU7XG5cbiAgLyoqXG4gICAqIENhbGxlZCB0byBjb252ZXJ0IGEgcHJvcGVydHkgdmFsdWUgdG8gYW4gYXR0cmlidXRlXG4gICAqIHZhbHVlLlxuICAgKlxuICAgKiBJdCByZXR1cm5zIHVua25vd24gaW5zdGVhZCBvZiBzdHJpbmcsIHRvIGJlIGNvbXBhdGlibGUgd2l0aFxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vV0lDRy90cnVzdGVkLXR5cGVzIChhbmQgc2ltaWxhciBlZmZvcnRzKS5cbiAgICovXG4gIHRvQXR0cmlidXRlPyh2YWx1ZTogVHlwZSwgdHlwZT86IFR5cGVIaW50KTogdW5rbm93bjtcbn1cblxudHlwZSBBdHRyaWJ1dGVDb252ZXJ0ZXI8VHlwZSA9IHVua25vd24sIFR5cGVIaW50ID0gdW5rbm93bj4gPVxuICB8IENvbXBsZXhBdHRyaWJ1dGVDb252ZXJ0ZXI8VHlwZT5cbiAgfCAoKHZhbHVlOiBzdHJpbmcgfCBudWxsLCB0eXBlPzogVHlwZUhpbnQpID0+IFR5cGUpO1xuXG4vKipcbiAqIERlZmluZXMgb3B0aW9ucyBmb3IgYSBwcm9wZXJ0eSBhY2Nlc3Nvci5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQcm9wZXJ0eURlY2xhcmF0aW9uPFR5cGUgPSB1bmtub3duLCBUeXBlSGludCA9IHVua25vd24+IHtcbiAgLyoqXG4gICAqIFdoZW4gc2V0IHRvIGB0cnVlYCwgaW5kaWNhdGVzIHRoZSBwcm9wZXJ0eSBpcyBpbnRlcm5hbCBwcml2YXRlIHN0YXRlLiBUaGVcbiAgICogcHJvcGVydHkgc2hvdWxkIG5vdCBiZSBzZXQgYnkgdXNlcnMuIFdoZW4gdXNpbmcgVHlwZVNjcmlwdCwgdGhpcyBwcm9wZXJ0eVxuICAgKiBzaG91bGQgYmUgbWFya2VkIGFzIGBwcml2YXRlYCBvciBgcHJvdGVjdGVkYCwgYW5kIGl0IGlzIGFsc28gYSBjb21tb25cbiAgICogcHJhY3RpY2UgdG8gdXNlIGEgbGVhZGluZyBgX2AgaW4gdGhlIG5hbWUuIFRoZSBwcm9wZXJ0eSBpcyBub3QgYWRkZWQgdG9cbiAgICogYG9ic2VydmVkQXR0cmlidXRlc2AuXG4gICAqL1xuICByZWFkb25seSBzdGF0ZT86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEluZGljYXRlcyBob3cgYW5kIHdoZXRoZXIgdGhlIHByb3BlcnR5IGJlY29tZXMgYW4gb2JzZXJ2ZWQgYXR0cmlidXRlLlxuICAgKiBJZiB0aGUgdmFsdWUgaXMgYGZhbHNlYCwgdGhlIHByb3BlcnR5IGlzIG5vdCBhZGRlZCB0byBgb2JzZXJ2ZWRBdHRyaWJ1dGVzYC5cbiAgICogSWYgdHJ1ZSBvciBhYnNlbnQsIHRoZSBsb3dlcmNhc2VkIHByb3BlcnR5IG5hbWUgaXMgb2JzZXJ2ZWQgKGUuZy4gYGZvb0JhcmBcbiAgICogYmVjb21lcyBgZm9vYmFyYCkuIElmIGEgc3RyaW5nLCB0aGUgc3RyaW5nIHZhbHVlIGlzIG9ic2VydmVkIChlLmdcbiAgICogYGF0dHJpYnV0ZTogJ2Zvby1iYXInYCkuXG4gICAqL1xuICByZWFkb25seSBhdHRyaWJ1dGU/OiBib29sZWFuIHwgc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBJbmRpY2F0ZXMgdGhlIHR5cGUgb2YgdGhlIHByb3BlcnR5LiBUaGlzIGlzIHVzZWQgb25seSBhcyBhIGhpbnQgZm9yIHRoZVxuICAgKiBgY29udmVydGVyYCB0byBkZXRlcm1pbmUgaG93IHRvIGNvbnZlcnQgdGhlIGF0dHJpYnV0ZVxuICAgKiB0by9mcm9tIGEgcHJvcGVydHkuXG4gICAqL1xuICByZWFkb25seSB0eXBlPzogVHlwZUhpbnQ7XG5cbiAgLyoqXG4gICAqIEluZGljYXRlcyBob3cgdG8gY29udmVydCB0aGUgYXR0cmlidXRlIHRvL2Zyb20gYSBwcm9wZXJ0eS4gSWYgdGhpcyB2YWx1ZVxuICAgKiBpcyBhIGZ1bmN0aW9uLCBpdCBpcyB1c2VkIHRvIGNvbnZlcnQgdGhlIGF0dHJpYnV0ZSB2YWx1ZSBhIHRoZSBwcm9wZXJ0eVxuICAgKiB2YWx1ZS4gSWYgaXQncyBhbiBvYmplY3QsIGl0IGNhbiBoYXZlIGtleXMgZm9yIGBmcm9tQXR0cmlidXRlYCBhbmRcbiAgICogYHRvQXR0cmlidXRlYC4gSWYgbm8gYHRvQXR0cmlidXRlYCBmdW5jdGlvbiBpcyBwcm92aWRlZCBhbmRcbiAgICogYHJlZmxlY3RgIGlzIHNldCB0byBgdHJ1ZWAsIHRoZSBwcm9wZXJ0eSB2YWx1ZSBpcyBzZXQgZGlyZWN0bHkgdG8gdGhlXG4gICAqIGF0dHJpYnV0ZS4gQSBkZWZhdWx0IGBjb252ZXJ0ZXJgIGlzIHVzZWQgaWYgbm9uZSBpcyBwcm92aWRlZDsgaXQgc3VwcG9ydHNcbiAgICogYEJvb2xlYW5gLCBgU3RyaW5nYCwgYE51bWJlcmAsIGBPYmplY3RgLCBhbmQgYEFycmF5YC4gTm90ZSxcbiAgICogd2hlbiBhIHByb3BlcnR5IGNoYW5nZXMgYW5kIHRoZSBjb252ZXJ0ZXIgaXMgdXNlZCB0byB1cGRhdGUgdGhlIGF0dHJpYnV0ZSxcbiAgICogdGhlIHByb3BlcnR5IGlzIG5ldmVyIHVwZGF0ZWQgYWdhaW4gYXMgYSByZXN1bHQgb2YgdGhlIGF0dHJpYnV0ZSBjaGFuZ2luZyxcbiAgICogYW5kIHZpY2UgdmVyc2EuXG4gICAqL1xuICByZWFkb25seSBjb252ZXJ0ZXI/OiBBdHRyaWJ1dGVDb252ZXJ0ZXI8VHlwZSwgVHlwZUhpbnQ+O1xuXG4gIC8qKlxuICAgKiBJbmRpY2F0ZXMgaWYgdGhlIHByb3BlcnR5IHNob3VsZCByZWZsZWN0IHRvIGFuIGF0dHJpYnV0ZS5cbiAgICogSWYgYHRydWVgLCB3aGVuIHRoZSBwcm9wZXJ0eSBpcyBzZXQsIHRoZSBhdHRyaWJ1dGUgaXMgc2V0IHVzaW5nIHRoZVxuICAgKiBhdHRyaWJ1dGUgbmFtZSBkZXRlcm1pbmVkIGFjY29yZGluZyB0byB0aGUgcnVsZXMgZm9yIHRoZSBgYXR0cmlidXRlYFxuICAgKiBwcm9wZXJ0eSBvcHRpb24gYW5kIHRoZSB2YWx1ZSBvZiB0aGUgcHJvcGVydHkgY29udmVydGVkIHVzaW5nIHRoZSBydWxlc1xuICAgKiBmcm9tIHRoZSBgY29udmVydGVyYCBwcm9wZXJ0eSBvcHRpb24uXG4gICAqL1xuICByZWFkb25seSByZWZsZWN0PzogYm9vbGVhbjtcblxuICAvKipcbiAgICogQSBmdW5jdGlvbiB0aGF0IGluZGljYXRlcyBpZiBhIHByb3BlcnR5IHNob3VsZCBiZSBjb25zaWRlcmVkIGNoYW5nZWQgd2hlblxuICAgKiBpdCBpcyBzZXQuIFRoZSBmdW5jdGlvbiBzaG91bGQgdGFrZSB0aGUgYG5ld1ZhbHVlYCBhbmQgYG9sZFZhbHVlYCBhbmRcbiAgICogcmV0dXJuIGB0cnVlYCBpZiBhbiB1cGRhdGUgc2hvdWxkIGJlIHJlcXVlc3RlZC5cbiAgICovXG4gIGhhc0NoYW5nZWQ/KHZhbHVlOiBUeXBlLCBvbGRWYWx1ZTogVHlwZSk6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEluZGljYXRlcyB3aGV0aGVyIGFuIGFjY2Vzc29yIHdpbGwgYmUgY3JlYXRlZCBmb3IgdGhpcyBwcm9wZXJ0eS4gQnlcbiAgICogZGVmYXVsdCwgYW4gYWNjZXNzb3Igd2lsbCBiZSBnZW5lcmF0ZWQgZm9yIHRoaXMgcHJvcGVydHkgdGhhdCByZXF1ZXN0cyBhblxuICAgKiB1cGRhdGUgd2hlbiBzZXQuIElmIHRoaXMgZmxhZyBpcyBgdHJ1ZWAsIG5vIGFjY2Vzc29yIHdpbGwgYmUgY3JlYXRlZCwgYW5kXG4gICAqIGl0IHdpbGwgYmUgdGhlIHVzZXIncyByZXNwb25zaWJpbGl0eSB0byBjYWxsXG4gICAqIGB0aGlzLnJlcXVlc3RVcGRhdGUocHJvcGVydHlOYW1lLCBvbGRWYWx1ZSlgIHRvIHJlcXVlc3QgYW4gdXBkYXRlIHdoZW5cbiAgICogdGhlIHByb3BlcnR5IGNoYW5nZXMuXG4gICAqL1xuICByZWFkb25seSBub0FjY2Vzc29yPzogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBNYXAgb2YgcHJvcGVydGllcyB0byBQcm9wZXJ0eURlY2xhcmF0aW9uIG9wdGlvbnMuIEZvciBlYWNoIHByb3BlcnR5IGFuXG4gKiBhY2Nlc3NvciBpcyBtYWRlLCBhbmQgdGhlIHByb3BlcnR5IGlzIHByb2Nlc3NlZCBhY2NvcmRpbmcgdG8gdGhlXG4gKiBQcm9wZXJ0eURlY2xhcmF0aW9uIG9wdGlvbnMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUHJvcGVydHlEZWNsYXJhdGlvbnMge1xuICByZWFkb25seSBba2V5OiBzdHJpbmddOiBQcm9wZXJ0eURlY2xhcmF0aW9uO1xufVxuXG50eXBlIFByb3BlcnR5RGVjbGFyYXRpb25NYXAgPSBNYXA8UHJvcGVydHlLZXksIFByb3BlcnR5RGVjbGFyYXRpb24+O1xuXG50eXBlIEF0dHJpYnV0ZU1hcCA9IE1hcDxzdHJpbmcsIFByb3BlcnR5S2V5PjtcblxuLyoqXG4gKiBBIE1hcCBvZiBwcm9wZXJ0eSBrZXlzIHRvIHZhbHVlcy5cbiAqXG4gKiBUYWtlcyBhbiBvcHRpb25hbCB0eXBlIHBhcmFtZXRlciBULCB3aGljaCB3aGVuIHNwZWNpZmllZCBhcyBhIG5vbi1hbnksXG4gKiBub24tdW5rbm93biB0eXBlLCB3aWxsIG1ha2UgdGhlIE1hcCBtb3JlIHN0cm9uZ2x5LXR5cGVkLCBhc3NvY2lhdGluZyB0aGUgbWFwXG4gKiBrZXlzIHdpdGggdGhlaXIgY29ycmVzcG9uZGluZyB2YWx1ZSB0eXBlIG9uIFQuXG4gKlxuICogVXNlIGBQcm9wZXJ0eVZhbHVlczx0aGlzPmAgd2hlbiBvdmVycmlkaW5nIFJlYWN0aXZlRWxlbWVudC51cGRhdGUoKSBhbmRcbiAqIG90aGVyIGxpZmVjeWNsZSBtZXRob2RzIGluIG9yZGVyIHRvIGdldCBzdHJvbmdlciB0eXBlLWNoZWNraW5nIG9uIGtleXNcbiAqIGFuZCB2YWx1ZXMuXG4gKi9cbi8vIFRoaXMgdHlwZSBpcyBjb25kaXRpb25hbCBzbyB0aGF0IGlmIHRoZSBwYXJhbWV0ZXIgVCBpcyBub3Qgc3BlY2lmaWVkLCBvclxuLy8gaXMgYGFueWAsIHRoZSB0eXBlIHdpbGwgaW5jbHVkZSBgTWFwPFByb3BlcnR5S2V5LCB1bmtub3duPmAuIFNpbmNlIFQgaXMgbm90XG4vLyBnaXZlbiBpbiB0aGUgdXNlcyBvZiBQcm9wZXJ0eVZhbHVlcyBpbiB0aGlzIGZpbGUsIGFsbCB1c2VzIGhlcmUgZmFsbGJhY2sgdG9cbi8vIG1lYW5pbmcgYE1hcDxQcm9wZXJ0eUtleSwgdW5rbm93bj5gLCBidXQgaWYgYSBkZXZlbG9wZXIgdXNlc1xuLy8gYFByb3BlcnR5VmFsdWVzPHRoaXM+YCAob3IgYW55IG90aGVyIHZhbHVlIGZvciBUKSB0aGV5IHdpbGwgZ2V0IGFcbi8vIHN0cm9uZ2x5LXR5cGVkIE1hcCB0eXBlLlxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmV4cG9ydCB0eXBlIFByb3BlcnR5VmFsdWVzPFQgPSBhbnk+ID0gVCBleHRlbmRzIG9iamVjdFxuICA/IFByb3BlcnR5VmFsdWVNYXA8VD5cbiAgOiBNYXA8UHJvcGVydHlLZXksIHVua25vd24+O1xuXG4vKipcbiAqIERvIG5vdCB1c2UsIGluc3RlYWQgcHJlZmVyIHtAbGlua2NvZGUgUHJvcGVydHlWYWx1ZXN9LlxuICovXG4vLyBUaGlzIHR5cGUgbXVzdCBiZSBleHBvcnRlZCBzdWNoIHRoYXQgSmF2YVNjcmlwdCBnZW5lcmF0ZWQgYnkgdGhlIEdvb2dsZVxuLy8gQ2xvc3VyZSBDb21waWxlciBjYW4gaW1wb3J0IGEgdHlwZSByZWZlcmVuY2UuXG5leHBvcnQgaW50ZXJmYWNlIFByb3BlcnR5VmFsdWVNYXA8VD4gZXh0ZW5kcyBNYXA8UHJvcGVydHlLZXksIHVua25vd24+IHtcbiAgZ2V0PEsgZXh0ZW5kcyBrZXlvZiBUPihrOiBLKTogVFtLXTtcbiAgc2V0PEsgZXh0ZW5kcyBrZXlvZiBUPihrZXk6IEssIHZhbHVlOiBUW0tdKTogdGhpcztcbiAgaGFzPEsgZXh0ZW5kcyBrZXlvZiBUPihrOiBLKTogYm9vbGVhbjtcbiAgZGVsZXRlPEsgZXh0ZW5kcyBrZXlvZiBUPihrOiBLKTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRDb252ZXJ0ZXI6IENvbXBsZXhBdHRyaWJ1dGVDb252ZXJ0ZXIgPSB7XG4gIHRvQXR0cmlidXRlKHZhbHVlOiB1bmtub3duLCB0eXBlPzogdW5rbm93bik6IHVua25vd24ge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBCb29sZWFuOlxuICAgICAgICB2YWx1ZSA9IHZhbHVlID8gZW1wdHlTdHJpbmdGb3JCb29sZWFuQXR0cmlidXRlIDogbnVsbDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIE9iamVjdDpcbiAgICAgIGNhc2UgQXJyYXk6XG4gICAgICAgIC8vIGlmIHRoZSB2YWx1ZSBpcyBgbnVsbGAgb3IgYHVuZGVmaW5lZGAgcGFzcyB0aGlzIHRocm91Z2hcbiAgICAgICAgLy8gdG8gYWxsb3cgcmVtb3Zpbmcvbm8gY2hhbmdlIGJlaGF2aW9yLlxuICAgICAgICB2YWx1ZSA9IHZhbHVlID09IG51bGwgPyB2YWx1ZSA6IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfSxcblxuICBmcm9tQXR0cmlidXRlKHZhbHVlOiBzdHJpbmcgfCBudWxsLCB0eXBlPzogdW5rbm93bikge1xuICAgIGxldCBmcm9tVmFsdWU6IHVua25vd24gPSB2YWx1ZTtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgQm9vbGVhbjpcbiAgICAgICAgZnJvbVZhbHVlID0gdmFsdWUgIT09IG51bGw7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBOdW1iZXI6XG4gICAgICAgIGZyb21WYWx1ZSA9IHZhbHVlID09PSBudWxsID8gbnVsbCA6IE51bWJlcih2YWx1ZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBPYmplY3Q6XG4gICAgICBjYXNlIEFycmF5OlxuICAgICAgICAvLyBEbyAqbm90KiBnZW5lcmF0ZSBleGNlcHRpb24gd2hlbiBpbnZhbGlkIEpTT04gaXMgc2V0IGFzIGVsZW1lbnRzXG4gICAgICAgIC8vIGRvbid0IG5vcm1hbGx5IGNvbXBsYWluIG9uIGJlaW5nIG1pcy1jb25maWd1cmVkLlxuICAgICAgICAvLyBUT0RPKHNvcnZlbGwpOiBEbyBnZW5lcmF0ZSBleGNlcHRpb24gaW4gKmRldiBtb2RlKi5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBBc3NlcnQgdG8gYWRoZXJlIHRvIEJhemVsJ3MgXCJtdXN0IHR5cGUgYXNzZXJ0IEpTT04gcGFyc2VcIiBydWxlLlxuICAgICAgICAgIGZyb21WYWx1ZSA9IEpTT04ucGFyc2UodmFsdWUhKSBhcyB1bmtub3duO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgZnJvbVZhbHVlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIGZyb21WYWx1ZTtcbiAgfSxcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgSGFzQ2hhbmdlZCB7XG4gICh2YWx1ZTogdW5rbm93biwgb2xkOiB1bmtub3duKTogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBDaGFuZ2UgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRydWUgaWYgYHZhbHVlYCBpcyBkaWZmZXJlbnQgZnJvbSBgb2xkVmFsdWVgLlxuICogVGhpcyBtZXRob2QgaXMgdXNlZCBhcyB0aGUgZGVmYXVsdCBmb3IgYSBwcm9wZXJ0eSdzIGBoYXNDaGFuZ2VkYCBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGNvbnN0IG5vdEVxdWFsOiBIYXNDaGFuZ2VkID0gKHZhbHVlOiB1bmtub3duLCBvbGQ6IHVua25vd24pOiBib29sZWFuID0+IHtcbiAgLy8gVGhpcyBlbnN1cmVzIChvbGQ9PU5hTiwgdmFsdWU9PU5hTikgYWx3YXlzIHJldHVybnMgZmFsc2VcbiAgcmV0dXJuIG9sZCAhPT0gdmFsdWUgJiYgKG9sZCA9PT0gb2xkIHx8IHZhbHVlID09PSB2YWx1ZSk7XG59O1xuXG5jb25zdCBkZWZhdWx0UHJvcGVydHlEZWNsYXJhdGlvbjogUHJvcGVydHlEZWNsYXJhdGlvbiA9IHtcbiAgYXR0cmlidXRlOiB0cnVlLFxuICB0eXBlOiBTdHJpbmcsXG4gIGNvbnZlcnRlcjogZGVmYXVsdENvbnZlcnRlcixcbiAgcmVmbGVjdDogZmFsc2UsXG4gIGhhc0NoYW5nZWQ6IG5vdEVxdWFsLFxufTtcblxuLyoqXG4gKiBUaGUgQ2xvc3VyZSBKUyBDb21waWxlciBkb2Vzbid0IGN1cnJlbnRseSBoYXZlIGdvb2Qgc3VwcG9ydCBmb3Igc3RhdGljXG4gKiBwcm9wZXJ0eSBzZW1hbnRpY3Mgd2hlcmUgXCJ0aGlzXCIgaXMgZHluYW1pYyAoZS5nLlxuICogaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9jbG9zdXJlLWNvbXBpbGVyL2lzc3Vlcy8zMTc3IGFuZCBvdGhlcnMpIHNvIHdlIHVzZVxuICogdGhpcyBoYWNrIHRvIGJ5cGFzcyBhbnkgcmV3cml0aW5nIGJ5IHRoZSBjb21waWxlci5cbiAqL1xuY29uc3QgZmluYWxpemVkID0gJ2ZpbmFsaXplZCc7XG5cbi8qKlxuICogQSBzdHJpbmcgcmVwcmVzZW50aW5nIG9uZSBvZiB0aGUgc3VwcG9ydGVkIGRldiBtb2RlIHdhcm5pbmcgY2F0ZWdvcmllcy5cbiAqL1xuZXhwb3J0IHR5cGUgV2FybmluZ0tpbmQgPSAnY2hhbmdlLWluLXVwZGF0ZScgfCAnbWlncmF0aW9uJztcblxuZXhwb3J0IHR5cGUgSW5pdGlhbGl6ZXIgPSAoZWxlbWVudDogUmVhY3RpdmVFbGVtZW50KSA9PiB2b2lkO1xuXG4vKipcbiAqIEJhc2UgZWxlbWVudCBjbGFzcyB3aGljaCBtYW5hZ2VzIGVsZW1lbnQgcHJvcGVydGllcyBhbmQgYXR0cmlidXRlcy4gV2hlblxuICogcHJvcGVydGllcyBjaGFuZ2UsIHRoZSBgdXBkYXRlYCBtZXRob2QgaXMgYXN5bmNocm9ub3VzbHkgY2FsbGVkLiBUaGlzIG1ldGhvZFxuICogc2hvdWxkIGJlIHN1cHBsaWVkIGJ5IHN1YmNsYXNzZXJzIHRvIHJlbmRlciB1cGRhdGVzIGFzIGRlc2lyZWQuXG4gKiBAbm9Jbmhlcml0RG9jXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBSZWFjdGl2ZUVsZW1lbnRcbiAgZXh0ZW5kcyBIVE1MRWxlbWVudFxuICBpbXBsZW1lbnRzIFJlYWN0aXZlQ29udHJvbGxlckhvc3RcbntcbiAgLy8gTm90ZTogdGhlc2UgYXJlIHBhdGNoZWQgaW4gb25seSBpbiBERVZfTU9ERS5cbiAgLyoqXG4gICAqIFJlYWQgb3Igc2V0IGFsbCB0aGUgZW5hYmxlZCB3YXJuaW5nIGNhdGVnb3JpZXMgZm9yIHRoaXMgY2xhc3MuXG4gICAqXG4gICAqIFRoaXMgcHJvcGVydHkgaXMgb25seSB1c2VkIGluIGRldmVsb3BtZW50IGJ1aWxkcy5cbiAgICpcbiAgICogQG5vY29sbGFwc2VcbiAgICogQGNhdGVnb3J5IGRldi1tb2RlXG4gICAqL1xuICBzdGF0aWMgZW5hYmxlZFdhcm5pbmdzPzogV2FybmluZ0tpbmRbXTtcblxuICAvKipcbiAgICogRW5hYmxlIHRoZSBnaXZlbiB3YXJuaW5nIGNhdGVnb3J5IGZvciB0aGlzIGNsYXNzLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBvbmx5IGV4aXN0cyBpbiBkZXZlbG9wbWVudCBidWlsZHMsIHNvIGl0IHNob3VsZCBiZSBhY2Nlc3NlZFxuICAgKiB3aXRoIGEgZ3VhcmQgbGlrZTpcbiAgICpcbiAgICogYGBgdHNcbiAgICogLy8gRW5hYmxlIGZvciBhbGwgUmVhY3RpdmVFbGVtZW50IHN1YmNsYXNzZXNcbiAgICogUmVhY3RpdmVFbGVtZW50LmVuYWJsZVdhcm5pbmc/LignbWlncmF0aW9uJyk7XG4gICAqXG4gICAqIC8vIEVuYWJsZSBmb3Igb25seSBNeUVsZW1lbnQgYW5kIHN1YmNsYXNzZXNcbiAgICogTXlFbGVtZW50LmVuYWJsZVdhcm5pbmc/LignbWlncmF0aW9uJyk7XG4gICAqIGBgYFxuICAgKlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKiBAY2F0ZWdvcnkgZGV2LW1vZGVcbiAgICovXG4gIHN0YXRpYyBlbmFibGVXYXJuaW5nPzogKHdhcm5pbmdLaW5kOiBXYXJuaW5nS2luZCkgPT4gdm9pZDtcblxuICAvKipcbiAgICogRGlzYWJsZSB0aGUgZ2l2ZW4gd2FybmluZyBjYXRlZ29yeSBmb3IgdGhpcyBjbGFzcy5cbiAgICpcbiAgICogVGhpcyBtZXRob2Qgb25seSBleGlzdHMgaW4gZGV2ZWxvcG1lbnQgYnVpbGRzLCBzbyBpdCBzaG91bGQgYmUgYWNjZXNzZWRcbiAgICogd2l0aCBhIGd1YXJkIGxpa2U6XG4gICAqXG4gICAqIGBgYHRzXG4gICAqIC8vIERpc2FibGUgZm9yIGFsbCBSZWFjdGl2ZUVsZW1lbnQgc3ViY2xhc3Nlc1xuICAgKiBSZWFjdGl2ZUVsZW1lbnQuZGlzYWJsZVdhcm5pbmc/LignbWlncmF0aW9uJyk7XG4gICAqXG4gICAqIC8vIERpc2FibGUgZm9yIG9ubHkgTXlFbGVtZW50IGFuZCBzdWJjbGFzc2VzXG4gICAqIE15RWxlbWVudC5kaXNhYmxlV2FybmluZz8uKCdtaWdyYXRpb24nKTtcbiAgICogYGBgXG4gICAqXG4gICAqIEBub2NvbGxhcHNlXG4gICAqIEBjYXRlZ29yeSBkZXYtbW9kZVxuICAgKi9cbiAgc3RhdGljIGRpc2FibGVXYXJuaW5nPzogKHdhcm5pbmdLaW5kOiBXYXJuaW5nS2luZCkgPT4gdm9pZDtcblxuICAvKipcbiAgICogQWRkcyBhbiBpbml0aWFsaXplciBmdW5jdGlvbiB0byB0aGUgY2xhc3MgdGhhdCBpcyBjYWxsZWQgZHVyaW5nIGluc3RhbmNlXG4gICAqIGNvbnN0cnVjdGlvbi5cbiAgICpcbiAgICogVGhpcyBpcyB1c2VmdWwgZm9yIGNvZGUgdGhhdCBydW5zIGFnYWluc3QgYSBgUmVhY3RpdmVFbGVtZW50YFxuICAgKiBzdWJjbGFzcywgc3VjaCBhcyBhIGRlY29yYXRvciwgdGhhdCBuZWVkcyB0byBkbyB3b3JrIGZvciBlYWNoXG4gICAqIGluc3RhbmNlLCBzdWNoIGFzIHNldHRpbmcgdXAgYSBgUmVhY3RpdmVDb250cm9sbGVyYC5cbiAgICpcbiAgICogYGBgdHNcbiAgICogY29uc3QgbXlEZWNvcmF0b3IgPSAodGFyZ2V0OiB0eXBlb2YgUmVhY3RpdmVFbGVtZW50LCBrZXk6IHN0cmluZykgPT4ge1xuICAgKiAgIHRhcmdldC5hZGRJbml0aWFsaXplcigoaW5zdGFuY2U6IFJlYWN0aXZlRWxlbWVudCkgPT4ge1xuICAgKiAgICAgLy8gVGhpcyBpcyBydW4gZHVyaW5nIGNvbnN0cnVjdGlvbiBvZiB0aGUgZWxlbWVudFxuICAgKiAgICAgbmV3IE15Q29udHJvbGxlcihpbnN0YW5jZSk7XG4gICAqICAgfSk7XG4gICAqIH1cbiAgICogYGBgXG4gICAqXG4gICAqIERlY29yYXRpbmcgYSBmaWVsZCB3aWxsIHRoZW4gY2F1c2UgZWFjaCBpbnN0YW5jZSB0byBydW4gYW4gaW5pdGlhbGl6ZXJcbiAgICogdGhhdCBhZGRzIGEgY29udHJvbGxlcjpcbiAgICpcbiAgICogYGBgdHNcbiAgICogY2xhc3MgTXlFbGVtZW50IGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gICAqICAgQG15RGVjb3JhdG9yIGZvbztcbiAgICogfVxuICAgKiBgYGBcbiAgICpcbiAgICogSW5pdGlhbGl6ZXJzIGFyZSBzdG9yZWQgcGVyLWNvbnN0cnVjdG9yLiBBZGRpbmcgYW4gaW5pdGlhbGl6ZXIgdG8gYVxuICAgKiBzdWJjbGFzcyBkb2VzIG5vdCBhZGQgaXQgdG8gYSBzdXBlcmNsYXNzLiBTaW5jZSBpbml0aWFsaXplcnMgYXJlIHJ1biBpblxuICAgKiBjb25zdHJ1Y3RvcnMsIGluaXRpYWxpemVycyB3aWxsIHJ1biBpbiBvcmRlciBvZiB0aGUgY2xhc3MgaGllcmFyY2h5LFxuICAgKiBzdGFydGluZyB3aXRoIHN1cGVyY2xhc3NlcyBhbmQgcHJvZ3Jlc3NpbmcgdG8gdGhlIGluc3RhbmNlJ3MgY2xhc3MuXG4gICAqXG4gICAqIEBub2NvbGxhcHNlXG4gICAqL1xuICBzdGF0aWMgYWRkSW5pdGlhbGl6ZXIoaW5pdGlhbGl6ZXI6IEluaXRpYWxpemVyKSB7XG4gICAgdGhpcy5faW5pdGlhbGl6ZXJzID8/PSBbXTtcbiAgICB0aGlzLl9pbml0aWFsaXplcnMucHVzaChpbml0aWFsaXplcik7XG4gIH1cblxuICBzdGF0aWMgX2luaXRpYWxpemVycz86IEluaXRpYWxpemVyW107XG5cbiAgLypcbiAgICogRHVlIHRvIGNsb3N1cmUgY29tcGlsZXIgRVM2IGNvbXBpbGF0aW9uIGJ1Z3MsIEBub2NvbGxhcHNlIGlzIHJlcXVpcmVkIG9uXG4gICAqIGFsbCBzdGF0aWMgbWV0aG9kcyBhbmQgcHJvcGVydGllcyB3aXRoIGluaXRpYWxpemVycy4gIFJlZmVyZW5jZTpcbiAgICogLSBodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Nsb3N1cmUtY29tcGlsZXIvaXNzdWVzLzE3NzZcbiAgICovXG5cbiAgLyoqXG4gICAqIE1hcHMgYXR0cmlidXRlIG5hbWVzIHRvIHByb3BlcnRpZXM7IGZvciBleGFtcGxlIGBmb29iYXJgIGF0dHJpYnV0ZSB0b1xuICAgKiBgZm9vQmFyYCBwcm9wZXJ0eS4gQ3JlYXRlZCBsYXppbHkgb24gdXNlciBzdWJjbGFzc2VzIHdoZW4gZmluYWxpemluZyB0aGVcbiAgICogY2xhc3MuXG4gICAqIEBub2NvbGxhcHNlXG4gICAqL1xuICBwcml2YXRlIHN0YXRpYyBfX2F0dHJpYnV0ZVRvUHJvcGVydHlNYXA6IEF0dHJpYnV0ZU1hcDtcblxuICAvKipcbiAgICogTWFya3MgY2xhc3MgYXMgaGF2aW5nIGZpbmlzaGVkIGNyZWF0aW5nIHByb3BlcnRpZXMuXG4gICAqL1xuICBwcm90ZWN0ZWQgc3RhdGljIFtmaW5hbGl6ZWRdID0gdHJ1ZTtcblxuICAvKipcbiAgICogTWVtb2l6ZWQgbGlzdCBvZiBhbGwgZWxlbWVudCBwcm9wZXJ0aWVzLCBpbmNsdWRpbmcgYW55IHN1cGVyY2xhc3MgcHJvcGVydGllcy5cbiAgICogQ3JlYXRlZCBsYXppbHkgb24gdXNlciBzdWJjbGFzc2VzIHdoZW4gZmluYWxpemluZyB0aGUgY2xhc3MuXG4gICAqIEBub2NvbGxhcHNlXG4gICAqIEBjYXRlZ29yeSBwcm9wZXJ0aWVzXG4gICAqL1xuICBzdGF0aWMgZWxlbWVudFByb3BlcnRpZXM6IFByb3BlcnR5RGVjbGFyYXRpb25NYXAgPSBuZXcgTWFwKCk7XG5cbiAgLyoqXG4gICAqIFVzZXItc3VwcGxpZWQgb2JqZWN0IHRoYXQgbWFwcyBwcm9wZXJ0eSBuYW1lcyB0byBgUHJvcGVydHlEZWNsYXJhdGlvbmBcbiAgICogb2JqZWN0cyBjb250YWluaW5nIG9wdGlvbnMgZm9yIGNvbmZpZ3VyaW5nIHJlYWN0aXZlIHByb3BlcnRpZXMuIFdoZW5cbiAgICogYSByZWFjdGl2ZSBwcm9wZXJ0eSBpcyBzZXQgdGhlIGVsZW1lbnQgd2lsbCB1cGRhdGUgYW5kIHJlbmRlci5cbiAgICpcbiAgICogQnkgZGVmYXVsdCBwcm9wZXJ0aWVzIGFyZSBwdWJsaWMgZmllbGRzLCBhbmQgYXMgc3VjaCwgdGhleSBzaG91bGQgYmVcbiAgICogY29uc2lkZXJlZCBhcyBwcmltYXJpbHkgc2V0dGFibGUgYnkgZWxlbWVudCB1c2VycywgZWl0aGVyIHZpYSBhdHRyaWJ1dGUgb3JcbiAgICogdGhlIHByb3BlcnR5IGl0c2VsZi5cbiAgICpcbiAgICogR2VuZXJhbGx5LCBwcm9wZXJ0aWVzIHRoYXQgYXJlIGNoYW5nZWQgYnkgdGhlIGVsZW1lbnQgc2hvdWxkIGJlIHByaXZhdGUgb3JcbiAgICogcHJvdGVjdGVkIGZpZWxkcyBhbmQgc2hvdWxkIHVzZSB0aGUgYHN0YXRlOiB0cnVlYCBvcHRpb24uIFByb3BlcnRpZXNcbiAgICogbWFya2VkIGFzIGBzdGF0ZWAgZG8gbm90IHJlZmxlY3QgZnJvbSB0aGUgY29ycmVzcG9uZGluZyBhdHRyaWJ1dGVcbiAgICpcbiAgICogSG93ZXZlciwgc29tZXRpbWVzIGVsZW1lbnQgY29kZSBkb2VzIG5lZWQgdG8gc2V0IGEgcHVibGljIHByb3BlcnR5LiBUaGlzXG4gICAqIHNob3VsZCB0eXBpY2FsbHkgb25seSBiZSBkb25lIGluIHJlc3BvbnNlIHRvIHVzZXIgaW50ZXJhY3Rpb24sIGFuZCBhbiBldmVudFxuICAgKiBzaG91bGQgYmUgZmlyZWQgaW5mb3JtaW5nIHRoZSB1c2VyOyBmb3IgZXhhbXBsZSwgYSBjaGVja2JveCBzZXRzIGl0c1xuICAgKiBgY2hlY2tlZGAgcHJvcGVydHkgd2hlbiBjbGlja2VkIGFuZCBmaXJlcyBhIGBjaGFuZ2VkYCBldmVudC4gTXV0YXRpbmdcbiAgICogcHVibGljIHByb3BlcnRpZXMgc2hvdWxkIHR5cGljYWxseSBub3QgYmUgZG9uZSBmb3Igbm9uLXByaW1pdGl2ZSAob2JqZWN0IG9yXG4gICAqIGFycmF5KSBwcm9wZXJ0aWVzLiBJbiBvdGhlciBjYXNlcyB3aGVuIGFuIGVsZW1lbnQgbmVlZHMgdG8gbWFuYWdlIHN0YXRlLCBhXG4gICAqIHByaXZhdGUgcHJvcGVydHkgc2V0IHdpdGggdGhlIGBzdGF0ZTogdHJ1ZWAgb3B0aW9uIHNob3VsZCBiZSB1c2VkLiBXaGVuXG4gICAqIG5lZWRlZCwgc3RhdGUgcHJvcGVydGllcyBjYW4gYmUgaW5pdGlhbGl6ZWQgdmlhIHB1YmxpYyBwcm9wZXJ0aWVzIHRvXG4gICAqIGZhY2lsaXRhdGUgY29tcGxleCBpbnRlcmFjdGlvbnMuXG4gICAqIEBub2NvbGxhcHNlXG4gICAqIEBjYXRlZ29yeSBwcm9wZXJ0aWVzXG4gICAqL1xuICBzdGF0aWMgcHJvcGVydGllczogUHJvcGVydHlEZWNsYXJhdGlvbnM7XG5cbiAgLyoqXG4gICAqIE1lbW9pemVkIGxpc3Qgb2YgYWxsIGVsZW1lbnQgc3R5bGVzLlxuICAgKiBDcmVhdGVkIGxhemlseSBvbiB1c2VyIHN1YmNsYXNzZXMgd2hlbiBmaW5hbGl6aW5nIHRoZSBjbGFzcy5cbiAgICogQG5vY29sbGFwc2VcbiAgICogQGNhdGVnb3J5IHN0eWxlc1xuICAgKi9cbiAgc3RhdGljIGVsZW1lbnRTdHlsZXM6IEFycmF5PENTU1Jlc3VsdE9yTmF0aXZlPiA9IFtdO1xuXG4gIC8qKlxuICAgKiBBcnJheSBvZiBzdHlsZXMgdG8gYXBwbHkgdG8gdGhlIGVsZW1lbnQuIFRoZSBzdHlsZXMgc2hvdWxkIGJlIGRlZmluZWRcbiAgICogdXNpbmcgdGhlIHtAbGlua2NvZGUgY3NzfSB0YWcgZnVuY3Rpb24sIHZpYSBjb25zdHJ1Y3RpYmxlIHN0eWxlc2hlZXRzLCBvclxuICAgKiBpbXBvcnRlZCBmcm9tIG5hdGl2ZSBDU1MgbW9kdWxlIHNjcmlwdHMuXG4gICAqXG4gICAqIE5vdGUgb24gQ29udGVudCBTZWN1cml0eSBQb2xpY3k6XG4gICAqXG4gICAqIEVsZW1lbnQgc3R5bGVzIGFyZSBpbXBsZW1lbnRlZCB3aXRoIGA8c3R5bGU+YCB0YWdzIHdoZW4gdGhlIGJyb3dzZXIgZG9lc24ndFxuICAgKiBzdXBwb3J0IGFkb3B0ZWQgU3R5bGVTaGVldHMuIFRvIHVzZSBzdWNoIGA8c3R5bGU+YCB0YWdzIHdpdGggdGhlIHN0eWxlLXNyY1xuICAgKiBDU1AgZGlyZWN0aXZlLCB0aGUgc3R5bGUtc3JjIHZhbHVlIG11c3QgZWl0aGVyIGluY2x1ZGUgJ3Vuc2FmZS1pbmxpbmUnIG9yXG4gICAqICdub25jZS08YmFzZTY0LXZhbHVlPicgd2l0aCA8YmFzZTY0LXZhbHVlPiByZXBsYWNlZCBiZSBhIHNlcnZlci1nZW5lcmF0ZWRcbiAgICogbm9uY2UuXG4gICAqXG4gICAqIFRvIHByb3ZpZGUgYSBub25jZSB0byB1c2Ugb24gZ2VuZXJhdGVkIDxzdHlsZT4gZWxlbWVudHMsIHNldFxuICAgKiBgd2luZG93LmxpdE5vbmNlYCB0byBhIHNlcnZlci1nZW5lcmF0ZWQgbm9uY2UgaW4geW91ciBwYWdlJ3MgSFRNTCwgYmVmb3JlXG4gICAqIGxvYWRpbmcgYXBwbGljYXRpb24gY29kZTpcbiAgICpcbiAgICogYGBgaHRtbFxuICAgKiA8c2NyaXB0PlxuICAgKiAgIC8vIEdlbmVyYXRlZCBhbmQgdW5pcXVlIHBlciByZXF1ZXN0OlxuICAgKiAgIHdpbmRvdy5saXROb25jZSA9ICdhMWIyYzNkNCc7XG4gICAqIDwvc2NyaXB0PlxuICAgKiBgYGBcbiAgICogQG5vY29sbGFwc2VcbiAgICogQGNhdGVnb3J5IHN0eWxlc1xuICAgKi9cbiAgc3RhdGljIHN0eWxlcz86IENTU1Jlc3VsdEdyb3VwO1xuXG4gIC8qKlxuICAgKiBUaGUgc2V0IG9mIHByb3BlcnRpZXMgZGVmaW5lZCBieSB0aGlzIGNsYXNzIHRoYXQgY2F1c2VkIGFuIGFjY2Vzc29yIHRvIGJlXG4gICAqIGFkZGVkIGR1cmluZyBgY3JlYXRlUHJvcGVydHlgLlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKi9cbiAgcHJpdmF0ZSBzdGF0aWMgX19yZWFjdGl2ZVByb3BlcnR5S2V5cz86IFNldDxQcm9wZXJ0eUtleT47XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBsaXN0IG9mIGF0dHJpYnV0ZXMgY29ycmVzcG9uZGluZyB0byB0aGUgcmVnaXN0ZXJlZCBwcm9wZXJ0aWVzLlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKiBAY2F0ZWdvcnkgYXR0cmlidXRlc1xuICAgKi9cbiAgc3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKSB7XG4gICAgLy8gbm90ZTogcGlnZ3kgYmFja2luZyBvbiB0aGlzIHRvIGVuc3VyZSB3ZSdyZSBmaW5hbGl6ZWQuXG4gICAgdGhpcy5maW5hbGl6ZSgpO1xuICAgIGNvbnN0IGF0dHJpYnV0ZXM6IHN0cmluZ1tdID0gW107XG4gICAgLy8gVXNlIGZvckVhY2ggc28gdGhpcyB3b3JrcyBldmVuIGlmIGZvci9vZiBsb29wcyBhcmUgY29tcGlsZWQgdG8gZm9yIGxvb3BzXG4gICAgLy8gZXhwZWN0aW5nIGFycmF5c1xuICAgIHRoaXMuZWxlbWVudFByb3BlcnRpZXMuZm9yRWFjaCgodiwgcCkgPT4ge1xuICAgICAgY29uc3QgYXR0ciA9IHRoaXMuX19hdHRyaWJ1dGVOYW1lRm9yUHJvcGVydHkocCwgdik7XG4gICAgICBpZiAoYXR0ciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuX19hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwLnNldChhdHRyLCBwKTtcbiAgICAgICAgYXR0cmlidXRlcy5wdXNoKGF0dHIpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBhdHRyaWJ1dGVzO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBwcm9wZXJ0eSBhY2Nlc3NvciBvbiB0aGUgZWxlbWVudCBwcm90b3R5cGUgaWYgb25lIGRvZXMgbm90IGV4aXN0XG4gICAqIGFuZCBzdG9yZXMgYSB7QGxpbmtjb2RlIFByb3BlcnR5RGVjbGFyYXRpb259IGZvciB0aGUgcHJvcGVydHkgd2l0aCB0aGVcbiAgICogZ2l2ZW4gb3B0aW9ucy4gVGhlIHByb3BlcnR5IHNldHRlciBjYWxscyB0aGUgcHJvcGVydHkncyBgaGFzQ2hhbmdlZGBcbiAgICogcHJvcGVydHkgb3B0aW9uIG9yIHVzZXMgYSBzdHJpY3QgaWRlbnRpdHkgY2hlY2sgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgb3Igbm90XG4gICAqIHRvIHJlcXVlc3QgYW4gdXBkYXRlLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBtYXkgYmUgb3ZlcnJpZGRlbiB0byBjdXN0b21pemUgcHJvcGVydGllczsgaG93ZXZlcixcbiAgICogd2hlbiBkb2luZyBzbywgaXQncyBpbXBvcnRhbnQgdG8gY2FsbCBgc3VwZXIuY3JlYXRlUHJvcGVydHlgIHRvIGVuc3VyZVxuICAgKiB0aGUgcHJvcGVydHkgaXMgc2V0dXAgY29ycmVjdGx5LiBUaGlzIG1ldGhvZCBjYWxsc1xuICAgKiBgZ2V0UHJvcGVydHlEZXNjcmlwdG9yYCBpbnRlcm5hbGx5IHRvIGdldCBhIGRlc2NyaXB0b3IgdG8gaW5zdGFsbC5cbiAgICogVG8gY3VzdG9taXplIHdoYXQgcHJvcGVydGllcyBkbyB3aGVuIHRoZXkgYXJlIGdldCBvciBzZXQsIG92ZXJyaWRlXG4gICAqIGBnZXRQcm9wZXJ0eURlc2NyaXB0b3JgLiBUbyBjdXN0b21pemUgdGhlIG9wdGlvbnMgZm9yIGEgcHJvcGVydHksXG4gICAqIGltcGxlbWVudCBgY3JlYXRlUHJvcGVydHlgIGxpa2UgdGhpczpcbiAgICpcbiAgICogYGBgdHNcbiAgICogc3RhdGljIGNyZWF0ZVByb3BlcnR5KG5hbWUsIG9wdGlvbnMpIHtcbiAgICogICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbihvcHRpb25zLCB7bXlPcHRpb246IHRydWV9KTtcbiAgICogICBzdXBlci5jcmVhdGVQcm9wZXJ0eShuYW1lLCBvcHRpb25zKTtcbiAgICogfVxuICAgKiBgYGBcbiAgICpcbiAgICogQG5vY29sbGFwc2VcbiAgICogQGNhdGVnb3J5IHByb3BlcnRpZXNcbiAgICovXG4gIHN0YXRpYyBjcmVhdGVQcm9wZXJ0eShcbiAgICBuYW1lOiBQcm9wZXJ0eUtleSxcbiAgICBvcHRpb25zOiBQcm9wZXJ0eURlY2xhcmF0aW9uID0gZGVmYXVsdFByb3BlcnR5RGVjbGFyYXRpb25cbiAgKSB7XG4gICAgLy8gaWYgdGhpcyBpcyBhIHN0YXRlIHByb3BlcnR5LCBmb3JjZSB0aGUgYXR0cmlidXRlIHRvIGZhbHNlLlxuICAgIGlmIChvcHRpb25zLnN0YXRlKSB7XG4gICAgICAvLyBDYXN0IGFzIGFueSBzaW5jZSB0aGlzIGlzIHJlYWRvbmx5LlxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgIChvcHRpb25zIGFzIGFueSkuYXR0cmlidXRlID0gZmFsc2U7XG4gICAgfVxuICAgIC8vIE5vdGUsIHNpbmNlIHRoaXMgY2FuIGJlIGNhbGxlZCBieSB0aGUgYEBwcm9wZXJ0eWAgZGVjb3JhdG9yIHdoaWNoXG4gICAgLy8gaXMgY2FsbGVkIGJlZm9yZSBgZmluYWxpemVgLCB3ZSBlbnN1cmUgZmluYWxpemF0aW9uIGhhcyBiZWVuIGtpY2tlZCBvZmYuXG4gICAgdGhpcy5maW5hbGl6ZSgpO1xuICAgIHRoaXMuZWxlbWVudFByb3BlcnRpZXMuc2V0KG5hbWUsIG9wdGlvbnMpO1xuICAgIC8vIERvIG5vdCBnZW5lcmF0ZSBhbiBhY2Nlc3NvciBpZiB0aGUgcHJvdG90eXBlIGFscmVhZHkgaGFzIG9uZSwgc2luY2VcbiAgICAvLyBpdCB3b3VsZCBiZSBsb3N0IG90aGVyd2lzZSBhbmQgdGhhdCB3b3VsZCBuZXZlciBiZSB0aGUgdXNlcidzIGludGVudGlvbjtcbiAgICAvLyBJbnN0ZWFkLCB3ZSBleHBlY3QgdXNlcnMgdG8gY2FsbCBgcmVxdWVzdFVwZGF0ZWAgdGhlbXNlbHZlcyBmcm9tXG4gICAgLy8gdXNlci1kZWZpbmVkIGFjY2Vzc29ycy4gTm90ZSB0aGF0IGlmIHRoZSBzdXBlciBoYXMgYW4gYWNjZXNzb3Igd2Ugd2lsbFxuICAgIC8vIHN0aWxsIG92ZXJ3cml0ZSBpdFxuICAgIGlmICghb3B0aW9ucy5ub0FjY2Vzc29yICYmICF0aGlzLnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgY29uc3Qga2V5ID0gdHlwZW9mIG5hbWUgPT09ICdzeW1ib2wnID8gU3ltYm9sKCkgOiBgX18ke25hbWV9YDtcbiAgICAgIGNvbnN0IGRlc2NyaXB0b3IgPSB0aGlzLmdldFByb3BlcnR5RGVzY3JpcHRvcihuYW1lLCBrZXksIG9wdGlvbnMpO1xuICAgICAgaWYgKGRlc2NyaXB0b3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5wcm90b3R5cGUsIG5hbWUsIGRlc2NyaXB0b3IpO1xuICAgICAgICBpZiAoREVWX01PREUpIHtcbiAgICAgICAgICAvLyBJZiB0aGlzIGNsYXNzIGRvZXNuJ3QgaGF2ZSBpdHMgb3duIHNldCwgY3JlYXRlIG9uZSBhbmQgaW5pdGlhbGl6ZVxuICAgICAgICAgIC8vIHdpdGggdGhlIHZhbHVlcyBpbiB0aGUgc2V0IGZyb20gdGhlIG5lYXJlc3QgYW5jZXN0b3IgY2xhc3MsIGlmIGFueS5cbiAgICAgICAgICBpZiAoIXRoaXMuaGFzT3duUHJvcGVydHkoJ19fcmVhY3RpdmVQcm9wZXJ0eUtleXMnKSkge1xuICAgICAgICAgICAgdGhpcy5fX3JlYWN0aXZlUHJvcGVydHlLZXlzID0gbmV3IFNldChcbiAgICAgICAgICAgICAgdGhpcy5fX3JlYWN0aXZlUHJvcGVydHlLZXlzID8/IFtdXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLl9fcmVhY3RpdmVQcm9wZXJ0eUtleXMhLmFkZChuYW1lKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcHJvcGVydHkgZGVzY3JpcHRvciB0byBiZSBkZWZpbmVkIG9uIHRoZSBnaXZlbiBuYW1lZCBwcm9wZXJ0eS5cbiAgICogSWYgbm8gZGVzY3JpcHRvciBpcyByZXR1cm5lZCwgdGhlIHByb3BlcnR5IHdpbGwgbm90IGJlY29tZSBhbiBhY2Nlc3Nvci5cbiAgICogRm9yIGV4YW1wbGUsXG4gICAqXG4gICAqIGBgYHRzXG4gICAqIGNsYXNzIE15RWxlbWVudCBleHRlbmRzIExpdEVsZW1lbnQge1xuICAgKiAgIHN0YXRpYyBnZXRQcm9wZXJ0eURlc2NyaXB0b3IobmFtZSwga2V5LCBvcHRpb25zKSB7XG4gICAqICAgICBjb25zdCBkZWZhdWx0RGVzY3JpcHRvciA9XG4gICAqICAgICAgICAgc3VwZXIuZ2V0UHJvcGVydHlEZXNjcmlwdG9yKG5hbWUsIGtleSwgb3B0aW9ucyk7XG4gICAqICAgICBjb25zdCBzZXR0ZXIgPSBkZWZhdWx0RGVzY3JpcHRvci5zZXQ7XG4gICAqICAgICByZXR1cm4ge1xuICAgKiAgICAgICBnZXQ6IGRlZmF1bHREZXNjcmlwdG9yLmdldCxcbiAgICogICAgICAgc2V0KHZhbHVlKSB7XG4gICAqICAgICAgICAgc2V0dGVyLmNhbGwodGhpcywgdmFsdWUpO1xuICAgKiAgICAgICAgIC8vIGN1c3RvbSBhY3Rpb24uXG4gICAqICAgICAgIH0sXG4gICAqICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICogICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgKiAgICAgfVxuICAgKiAgIH1cbiAgICogfVxuICAgKiBgYGBcbiAgICpcbiAgICogQG5vY29sbGFwc2VcbiAgICogQGNhdGVnb3J5IHByb3BlcnRpZXNcbiAgICovXG4gIHByb3RlY3RlZCBzdGF0aWMgZ2V0UHJvcGVydHlEZXNjcmlwdG9yKFxuICAgIG5hbWU6IFByb3BlcnR5S2V5LFxuICAgIGtleTogc3RyaW5nIHwgc3ltYm9sLFxuICAgIG9wdGlvbnM6IFByb3BlcnR5RGVjbGFyYXRpb25cbiAgKTogUHJvcGVydHlEZXNjcmlwdG9yIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4ge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgIGdldCgpOiBhbnkge1xuICAgICAgICByZXR1cm4gKHRoaXMgYXMge1trZXk6IHN0cmluZ106IHVua25vd259KVtrZXkgYXMgc3RyaW5nXTtcbiAgICAgIH0sXG4gICAgICBzZXQodGhpczogUmVhY3RpdmVFbGVtZW50LCB2YWx1ZTogdW5rbm93bikge1xuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9ICh0aGlzIGFzIHt9IGFzIHtba2V5OiBzdHJpbmddOiB1bmtub3dufSlbXG4gICAgICAgICAgbmFtZSBhcyBzdHJpbmdcbiAgICAgICAgXTtcbiAgICAgICAgKHRoaXMgYXMge30gYXMge1trZXk6IHN0cmluZ106IHVua25vd259KVtrZXkgYXMgc3RyaW5nXSA9IHZhbHVlO1xuICAgICAgICAodGhpcyBhcyB1bmtub3duIGFzIFJlYWN0aXZlRWxlbWVudCkucmVxdWVzdFVwZGF0ZShcbiAgICAgICAgICBuYW1lLFxuICAgICAgICAgIG9sZFZhbHVlLFxuICAgICAgICAgIG9wdGlvbnNcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgcHJvcGVydHkgb3B0aW9ucyBhc3NvY2lhdGVkIHdpdGggdGhlIGdpdmVuIHByb3BlcnR5LlxuICAgKiBUaGVzZSBvcHRpb25zIGFyZSBkZWZpbmVkIHdpdGggYSBgUHJvcGVydHlEZWNsYXJhdGlvbmAgdmlhIHRoZSBgcHJvcGVydGllc2BcbiAgICogb2JqZWN0IG9yIHRoZSBgQHByb3BlcnR5YCBkZWNvcmF0b3IgYW5kIGFyZSByZWdpc3RlcmVkIGluXG4gICAqIGBjcmVhdGVQcm9wZXJ0eSguLi4pYC5cbiAgICpcbiAgICogTm90ZSwgdGhpcyBtZXRob2Qgc2hvdWxkIGJlIGNvbnNpZGVyZWQgXCJmaW5hbFwiIGFuZCBub3Qgb3ZlcnJpZGRlbi4gVG9cbiAgICogY3VzdG9taXplIHRoZSBvcHRpb25zIGZvciBhIGdpdmVuIHByb3BlcnR5LCBvdmVycmlkZVxuICAgKiB7QGxpbmtjb2RlIGNyZWF0ZVByb3BlcnR5fS5cbiAgICpcbiAgICogQG5vY29sbGFwc2VcbiAgICogQGZpbmFsXG4gICAqIEBjYXRlZ29yeSBwcm9wZXJ0aWVzXG4gICAqL1xuICBzdGF0aWMgZ2V0UHJvcGVydHlPcHRpb25zKG5hbWU6IFByb3BlcnR5S2V5KSB7XG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudFByb3BlcnRpZXMuZ2V0KG5hbWUpIHx8IGRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgcHJvcGVydHkgYWNjZXNzb3JzIGZvciByZWdpc3RlcmVkIHByb3BlcnRpZXMsIHNldHMgdXAgZWxlbWVudFxuICAgKiBzdHlsaW5nLCBhbmQgZW5zdXJlcyBhbnkgc3VwZXJjbGFzc2VzIGFyZSBhbHNvIGZpbmFsaXplZC4gUmV0dXJucyB0cnVlIGlmXG4gICAqIHRoZSBlbGVtZW50IHdhcyBmaW5hbGl6ZWQuXG4gICAqIEBub2NvbGxhcHNlXG4gICAqL1xuICBwcm90ZWN0ZWQgc3RhdGljIGZpbmFsaXplKCkge1xuICAgIGlmICh0aGlzLmhhc093blByb3BlcnR5KGZpbmFsaXplZCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdGhpc1tmaW5hbGl6ZWRdID0gdHJ1ZTtcbiAgICAvLyBmaW5hbGl6ZSBhbnkgc3VwZXJjbGFzc2VzXG4gICAgY29uc3Qgc3VwZXJDdG9yID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpIGFzIHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnQ7XG4gICAgc3VwZXJDdG9yLmZpbmFsaXplKCk7XG4gICAgdGhpcy5lbGVtZW50UHJvcGVydGllcyA9IG5ldyBNYXAoc3VwZXJDdG9yLmVsZW1lbnRQcm9wZXJ0aWVzKTtcbiAgICAvLyBpbml0aWFsaXplIE1hcCBwb3B1bGF0ZWQgaW4gb2JzZXJ2ZWRBdHRyaWJ1dGVzXG4gICAgdGhpcy5fX2F0dHJpYnV0ZVRvUHJvcGVydHlNYXAgPSBuZXcgTWFwKCk7XG4gICAgLy8gbWFrZSBhbnkgcHJvcGVydGllc1xuICAgIC8vIE5vdGUsIG9ubHkgcHJvY2VzcyBcIm93blwiIHByb3BlcnRpZXMgc2luY2UgdGhpcyBlbGVtZW50IHdpbGwgaW5oZXJpdFxuICAgIC8vIGFueSBwcm9wZXJ0aWVzIGRlZmluZWQgb24gdGhlIHN1cGVyQ2xhc3MsIGFuZCBmaW5hbGl6YXRpb24gZW5zdXJlc1xuICAgIC8vIHRoZSBlbnRpcmUgcHJvdG90eXBlIGNoYWluIGlzIGZpbmFsaXplZC5cbiAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdwcm9wZXJ0aWVzJywgdGhpcykpKSB7XG4gICAgICBjb25zdCBwcm9wcyA9IHRoaXMucHJvcGVydGllcztcbiAgICAgIC8vIHN1cHBvcnQgc3ltYm9scyBpbiBwcm9wZXJ0aWVzIChJRTExIGRvZXMgbm90IHN1cHBvcnQgdGhpcylcbiAgICAgIGNvbnN0IHByb3BLZXlzID0gW1xuICAgICAgICAuLi5PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhwcm9wcyksXG4gICAgICAgIC4uLk9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocHJvcHMpLFxuICAgICAgXTtcbiAgICAgIC8vIFRoaXMgZm9yL29mIGlzIG9rIGJlY2F1c2UgcHJvcEtleXMgaXMgYW4gYXJyYXlcbiAgICAgIGZvciAoY29uc3QgcCBvZiBwcm9wS2V5cykge1xuICAgICAgICAvLyBub3RlLCB1c2Ugb2YgYGFueWAgaXMgZHVlIHRvIFR5cGVTY3JpcHQgbGFjayBvZiBzdXBwb3J0IGZvciBzeW1ib2wgaW5cbiAgICAgICAgLy8gaW5kZXggdHlwZXNcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgdGhpcy5jcmVhdGVQcm9wZXJ0eShwLCAocHJvcHMgYXMgYW55KVtwXSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuZWxlbWVudFN0eWxlcyA9IHRoaXMuZmluYWxpemVTdHlsZXModGhpcy5zdHlsZXMpO1xuICAgIC8vIERFViBtb2RlIHdhcm5pbmdzXG4gICAgaWYgKERFVl9NT0RFKSB7XG4gICAgICBjb25zdCB3YXJuUmVtb3ZlZE9yUmVuYW1lZCA9IChuYW1lOiBzdHJpbmcsIHJlbmFtZWQgPSBmYWxzZSkgPT4ge1xuICAgICAgICBpZiAodGhpcy5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICBpc3N1ZVdhcm5pbmcoXG4gICAgICAgICAgICByZW5hbWVkID8gJ3JlbmFtZWQtYXBpJyA6ICdyZW1vdmVkLWFwaScsXG4gICAgICAgICAgICBgXFxgJHtuYW1lfVxcYCBpcyBpbXBsZW1lbnRlZCBvbiBjbGFzcyAke3RoaXMubmFtZX0uIEl0IGAgK1xuICAgICAgICAgICAgICBgaGFzIGJlZW4gJHtyZW5hbWVkID8gJ3JlbmFtZWQnIDogJ3JlbW92ZWQnfSBgICtcbiAgICAgICAgICAgICAgYGluIHRoaXMgdmVyc2lvbiBvZiBMaXRFbGVtZW50LmBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgd2FyblJlbW92ZWRPclJlbmFtZWQoJ2luaXRpYWxpemUnKTtcbiAgICAgIHdhcm5SZW1vdmVkT3JSZW5hbWVkKCdyZXF1ZXN0VXBkYXRlSW50ZXJuYWwnKTtcbiAgICAgIHdhcm5SZW1vdmVkT3JSZW5hbWVkKCdfZ2V0VXBkYXRlQ29tcGxldGUnLCB0cnVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogT3B0aW9ucyB1c2VkIHdoZW4gY2FsbGluZyBgYXR0YWNoU2hhZG93YC4gU2V0IHRoaXMgcHJvcGVydHkgdG8gY3VzdG9taXplXG4gICAqIHRoZSBvcHRpb25zIGZvciB0aGUgc2hhZG93Um9vdDsgZm9yIGV4YW1wbGUsIHRvIGNyZWF0ZSBhIGNsb3NlZFxuICAgKiBzaGFkb3dSb290OiBge21vZGU6ICdjbG9zZWQnfWAuXG4gICAqXG4gICAqIE5vdGUsIHRoZXNlIG9wdGlvbnMgYXJlIHVzZWQgaW4gYGNyZWF0ZVJlbmRlclJvb3RgLiBJZiB0aGlzIG1ldGhvZFxuICAgKiBpcyBjdXN0b21pemVkLCBvcHRpb25zIHNob3VsZCBiZSByZXNwZWN0ZWQgaWYgcG9zc2libGUuXG4gICAqIEBub2NvbGxhcHNlXG4gICAqIEBjYXRlZ29yeSByZW5kZXJpbmdcbiAgICovXG4gIHN0YXRpYyBzaGFkb3dSb290T3B0aW9uczogU2hhZG93Um9vdEluaXQgPSB7bW9kZTogJ29wZW4nfTtcblxuICAvKipcbiAgICogVGFrZXMgdGhlIHN0eWxlcyB0aGUgdXNlciBzdXBwbGllZCB2aWEgdGhlIGBzdGF0aWMgc3R5bGVzYCBwcm9wZXJ0eSBhbmRcbiAgICogcmV0dXJucyB0aGUgYXJyYXkgb2Ygc3R5bGVzIHRvIGFwcGx5IHRvIHRoZSBlbGVtZW50LlxuICAgKiBPdmVycmlkZSB0aGlzIG1ldGhvZCB0byBpbnRlZ3JhdGUgaW50byBhIHN0eWxlIG1hbmFnZW1lbnQgc3lzdGVtLlxuICAgKlxuICAgKiBTdHlsZXMgYXJlIGRlZHVwbGljYXRlZCBwcmVzZXJ2aW5nIHRoZSBfbGFzdF8gaW5zdGFuY2UgaW4gdGhlIGxpc3QuIFRoaXNcbiAgICogaXMgYSBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb24gdG8gYXZvaWQgZHVwbGljYXRlZCBzdHlsZXMgdGhhdCBjYW4gb2NjdXJcbiAgICogZXNwZWNpYWxseSB3aGVuIGNvbXBvc2luZyB2aWEgc3ViY2xhc3NpbmcuIFRoZSBsYXN0IGl0ZW0gaXMga2VwdCB0byB0cnlcbiAgICogdG8gcHJlc2VydmUgdGhlIGNhc2NhZGUgb3JkZXIgd2l0aCB0aGUgYXNzdW1wdGlvbiB0aGF0IGl0J3MgbW9zdCBpbXBvcnRhbnRcbiAgICogdGhhdCBsYXN0IGFkZGVkIHN0eWxlcyBvdmVycmlkZSBwcmV2aW91cyBzdHlsZXMuXG4gICAqXG4gICAqIEBub2NvbGxhcHNlXG4gICAqIEBjYXRlZ29yeSBzdHlsZXNcbiAgICovXG4gIHByb3RlY3RlZCBzdGF0aWMgZmluYWxpemVTdHlsZXMoXG4gICAgc3R5bGVzPzogQ1NTUmVzdWx0R3JvdXBcbiAgKTogQXJyYXk8Q1NTUmVzdWx0T3JOYXRpdmU+IHtcbiAgICBjb25zdCBlbGVtZW50U3R5bGVzID0gW107XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoc3R5bGVzKSkge1xuICAgICAgLy8gRGVkdXBlIHRoZSBmbGF0dGVuZWQgYXJyYXkgaW4gcmV2ZXJzZSBvcmRlciB0byBwcmVzZXJ2ZSB0aGUgbGFzdCBpdGVtcy5cbiAgICAgIC8vIENhc3RpbmcgdG8gQXJyYXk8dW5rbm93bj4gd29ya3MgYXJvdW5kIFRTIGVycm9yIHRoYXRcbiAgICAgIC8vIGFwcGVhcnMgdG8gY29tZSBmcm9tIHRyeWluZyB0byBmbGF0dGVuIGEgdHlwZSBDU1NSZXN1bHRBcnJheS5cbiAgICAgIGNvbnN0IHNldCA9IG5ldyBTZXQoKHN0eWxlcyBhcyBBcnJheTx1bmtub3duPikuZmxhdChJbmZpbml0eSkucmV2ZXJzZSgpKTtcbiAgICAgIC8vIFRoZW4gcHJlc2VydmUgb3JpZ2luYWwgb3JkZXIgYnkgYWRkaW5nIHRoZSBzZXQgaXRlbXMgaW4gcmV2ZXJzZSBvcmRlci5cbiAgICAgIGZvciAoY29uc3QgcyBvZiBzZXQpIHtcbiAgICAgICAgZWxlbWVudFN0eWxlcy51bnNoaWZ0KGdldENvbXBhdGlibGVTdHlsZShzIGFzIENTU1Jlc3VsdE9yTmF0aXZlKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChzdHlsZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgZWxlbWVudFN0eWxlcy5wdXNoKGdldENvbXBhdGlibGVTdHlsZShzdHlsZXMpKTtcbiAgICB9XG4gICAgcmV0dXJuIGVsZW1lbnRTdHlsZXM7XG4gIH1cblxuICAvKipcbiAgICogTm9kZSBvciBTaGFkb3dSb290IGludG8gd2hpY2ggZWxlbWVudCBET00gc2hvdWxkIGJlIHJlbmRlcmVkLiBEZWZhdWx0c1xuICAgKiB0byBhbiBvcGVuIHNoYWRvd1Jvb3QuXG4gICAqIEBjYXRlZ29yeSByZW5kZXJpbmdcbiAgICovXG4gIHJlYWRvbmx5IHJlbmRlclJvb3QhOiBIVE1MRWxlbWVudCB8IFNoYWRvd1Jvb3Q7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHByb3BlcnR5IG5hbWUgZm9yIHRoZSBnaXZlbiBhdHRyaWJ1dGUgYG5hbWVgLlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKi9cbiAgcHJpdmF0ZSBzdGF0aWMgX19hdHRyaWJ1dGVOYW1lRm9yUHJvcGVydHkoXG4gICAgbmFtZTogUHJvcGVydHlLZXksXG4gICAgb3B0aW9uczogUHJvcGVydHlEZWNsYXJhdGlvblxuICApIHtcbiAgICBjb25zdCBhdHRyaWJ1dGUgPSBvcHRpb25zLmF0dHJpYnV0ZTtcbiAgICByZXR1cm4gYXR0cmlidXRlID09PSBmYWxzZVxuICAgICAgPyB1bmRlZmluZWRcbiAgICAgIDogdHlwZW9mIGF0dHJpYnV0ZSA9PT0gJ3N0cmluZydcbiAgICAgID8gYXR0cmlidXRlXG4gICAgICA6IHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJ1xuICAgICAgPyBuYW1lLnRvTG93ZXJDYXNlKClcbiAgICAgIDogdW5kZWZpbmVkO1xuICB9XG5cbiAgcHJpdmF0ZSBfX2luc3RhbmNlUHJvcGVydGllcz86IFByb3BlcnR5VmFsdWVzID0gbmV3IE1hcCgpO1xuICAvLyBJbml0aWFsaXplIHRvIGFuIHVucmVzb2x2ZWQgUHJvbWlzZSBzbyB3ZSBjYW4gbWFrZSBzdXJlIHRoZSBlbGVtZW50IGhhc1xuICAvLyBjb25uZWN0ZWQgYmVmb3JlIGZpcnN0IHVwZGF0ZS5cbiAgcHJpdmF0ZSBfX3VwZGF0ZVByb21pc2UhOiBQcm9taXNlPGJvb2xlYW4+O1xuXG4gIC8qKlxuICAgKiBUcnVlIGlmIHRoZXJlIGlzIGEgcGVuZGluZyB1cGRhdGUgYXMgYSByZXN1bHQgb2YgY2FsbGluZyBgcmVxdWVzdFVwZGF0ZSgpYC5cbiAgICogU2hvdWxkIG9ubHkgYmUgcmVhZC5cbiAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICovXG4gIGlzVXBkYXRlUGVuZGluZyA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBJcyBzZXQgdG8gYHRydWVgIGFmdGVyIHRoZSBmaXJzdCB1cGRhdGUuIFRoZSBlbGVtZW50IGNvZGUgY2Fubm90IGFzc3VtZVxuICAgKiB0aGF0IGByZW5kZXJSb290YCBleGlzdHMgYmVmb3JlIHRoZSBlbGVtZW50IGBoYXNVcGRhdGVkYC5cbiAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICovXG4gIGhhc1VwZGF0ZWQgPSBmYWxzZTtcblxuICAvKipcbiAgICogTWFwIHdpdGgga2V5cyBmb3IgYW55IHByb3BlcnRpZXMgdGhhdCBoYXZlIGNoYW5nZWQgc2luY2UgdGhlIGxhc3RcbiAgICogdXBkYXRlIGN5Y2xlIHdpdGggcHJldmlvdXMgdmFsdWVzLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIF8kY2hhbmdlZFByb3BlcnRpZXMhOiBQcm9wZXJ0eVZhbHVlcztcblxuICAvKipcbiAgICogTWFwIHdpdGgga2V5cyBvZiBwcm9wZXJ0aWVzIHRoYXQgc2hvdWxkIGJlIHJlZmxlY3RlZCB3aGVuIHVwZGF0ZWQuXG4gICAqL1xuICBwcml2YXRlIF9fcmVmbGVjdGluZ1Byb3BlcnRpZXM/OiBNYXA8UHJvcGVydHlLZXksIFByb3BlcnR5RGVjbGFyYXRpb24+O1xuXG4gIC8qKlxuICAgKiBOYW1lIG9mIGN1cnJlbnRseSByZWZsZWN0aW5nIHByb3BlcnR5XG4gICAqL1xuICBwcml2YXRlIF9fcmVmbGVjdGluZ1Byb3BlcnR5OiBQcm9wZXJ0eUtleSB8IG51bGwgPSBudWxsO1xuXG4gIC8qKlxuICAgKiBTZXQgb2YgY29udHJvbGxlcnMuXG4gICAqL1xuICBwcml2YXRlIF9fY29udHJvbGxlcnM/OiBSZWFjdGl2ZUNvbnRyb2xsZXJbXTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX2luaXRpYWxpemUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnRlcm5hbCBvbmx5IG92ZXJyaWRlIHBvaW50IGZvciBjdXN0b21pemluZyB3b3JrIGRvbmUgd2hlbiBlbGVtZW50c1xuICAgKiBhcmUgY29uc3RydWN0ZWQuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgX2luaXRpYWxpemUoKSB7XG4gICAgdGhpcy5fX3VwZGF0ZVByb21pc2UgPSBuZXcgUHJvbWlzZTxib29sZWFuPihcbiAgICAgIChyZXMpID0+ICh0aGlzLmVuYWJsZVVwZGF0aW5nID0gcmVzKVxuICAgICk7XG4gICAgdGhpcy5fJGNoYW5nZWRQcm9wZXJ0aWVzID0gbmV3IE1hcCgpO1xuICAgIHRoaXMuX19zYXZlSW5zdGFuY2VQcm9wZXJ0aWVzKCk7XG4gICAgLy8gZW5zdXJlcyBmaXJzdCB1cGRhdGUgd2lsbCBiZSBjYXVnaHQgYnkgYW4gZWFybHkgYWNjZXNzIG9mXG4gICAgLy8gYHVwZGF0ZUNvbXBsZXRlYFxuICAgIHRoaXMucmVxdWVzdFVwZGF0ZSgpO1xuICAgICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnQpLl9pbml0aWFsaXplcnM/LmZvckVhY2goKGkpID0+XG4gICAgICBpKHRoaXMpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgYSBgUmVhY3RpdmVDb250cm9sbGVyYCB0byBwYXJ0aWNpcGF0ZSBpbiB0aGUgZWxlbWVudCdzIHJlYWN0aXZlXG4gICAqIHVwZGF0ZSBjeWNsZS4gVGhlIGVsZW1lbnQgYXV0b21hdGljYWxseSBjYWxscyBpbnRvIGFueSByZWdpc3RlcmVkXG4gICAqIGNvbnRyb2xsZXJzIGR1cmluZyBpdHMgbGlmZWN5Y2xlIGNhbGxiYWNrcy5cbiAgICpcbiAgICogSWYgdGhlIGVsZW1lbnQgaXMgY29ubmVjdGVkIHdoZW4gYGFkZENvbnRyb2xsZXIoKWAgaXMgY2FsbGVkLCB0aGVcbiAgICogY29udHJvbGxlcidzIGBob3N0Q29ubmVjdGVkKClgIGNhbGxiYWNrIHdpbGwgYmUgaW1tZWRpYXRlbHkgY2FsbGVkLlxuICAgKiBAY2F0ZWdvcnkgY29udHJvbGxlcnNcbiAgICovXG4gIGFkZENvbnRyb2xsZXIoY29udHJvbGxlcjogUmVhY3RpdmVDb250cm9sbGVyKSB7XG4gICAgKHRoaXMuX19jb250cm9sbGVycyA/Pz0gW10pLnB1c2goY29udHJvbGxlcik7XG4gICAgLy8gSWYgYSBjb250cm9sbGVyIGlzIGFkZGVkIGFmdGVyIHRoZSBlbGVtZW50IGhhcyBiZWVuIGNvbm5lY3RlZCxcbiAgICAvLyBjYWxsIGhvc3RDb25uZWN0ZWQuIE5vdGUsIHJlLXVzaW5nIGV4aXN0ZW5jZSBvZiBgcmVuZGVyUm9vdGAgaGVyZVxuICAgIC8vICh3aGljaCBpcyBzZXQgaW4gY29ubmVjdGVkQ2FsbGJhY2spIHRvIGF2b2lkIHRoZSBuZWVkIHRvIHRyYWNrIGFcbiAgICAvLyBmaXJzdCBjb25uZWN0ZWQgc3RhdGUuXG4gICAgaWYgKHRoaXMucmVuZGVyUm9vdCAhPT0gdW5kZWZpbmVkICYmIHRoaXMuaXNDb25uZWN0ZWQpIHtcbiAgICAgIGNvbnRyb2xsZXIuaG9zdENvbm5lY3RlZD8uKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYSBgUmVhY3RpdmVDb250cm9sbGVyYCBmcm9tIHRoZSBlbGVtZW50LlxuICAgKiBAY2F0ZWdvcnkgY29udHJvbGxlcnNcbiAgICovXG4gIHJlbW92ZUNvbnRyb2xsZXIoY29udHJvbGxlcjogUmVhY3RpdmVDb250cm9sbGVyKSB7XG4gICAgLy8gTm90ZSwgaWYgdGhlIGluZGV4T2YgaXMgLTEsIHRoZSA+Pj4gd2lsbCBmbGlwIHRoZSBzaWduIHdoaWNoIG1ha2VzIHRoZVxuICAgIC8vIHNwbGljZSBkbyBub3RoaW5nLlxuICAgIHRoaXMuX19jb250cm9sbGVycz8uc3BsaWNlKHRoaXMuX19jb250cm9sbGVycy5pbmRleE9mKGNvbnRyb2xsZXIpID4+PiAwLCAxKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaXhlcyBhbnkgcHJvcGVydGllcyBzZXQgb24gdGhlIGluc3RhbmNlIGJlZm9yZSB1cGdyYWRlIHRpbWUuXG4gICAqIE90aGVyd2lzZSB0aGVzZSB3b3VsZCBzaGFkb3cgdGhlIGFjY2Vzc29yIGFuZCBicmVhayB0aGVzZSBwcm9wZXJ0aWVzLlxuICAgKiBUaGUgcHJvcGVydGllcyBhcmUgc3RvcmVkIGluIGEgTWFwIHdoaWNoIGlzIHBsYXllZCBiYWNrIGFmdGVyIHRoZVxuICAgKiBjb25zdHJ1Y3RvciBydW5zLiBOb3RlLCBvbiB2ZXJ5IG9sZCB2ZXJzaW9ucyBvZiBTYWZhcmkgKDw9OSkgb3IgQ2hyb21lXG4gICAqICg8PTQxKSwgcHJvcGVydGllcyBjcmVhdGVkIGZvciBuYXRpdmUgcGxhdGZvcm0gcHJvcGVydGllcyBsaWtlIChgaWRgIG9yXG4gICAqIGBuYW1lYCkgbWF5IG5vdCBoYXZlIGRlZmF1bHQgdmFsdWVzIHNldCBpbiB0aGUgZWxlbWVudCBjb25zdHJ1Y3Rvci4gT25cbiAgICogdGhlc2UgYnJvd3NlcnMgbmF0aXZlIHByb3BlcnRpZXMgYXBwZWFyIG9uIGluc3RhbmNlcyBhbmQgdGhlcmVmb3JlIHRoZWlyXG4gICAqIGRlZmF1bHQgdmFsdWUgd2lsbCBvdmVyd3JpdGUgYW55IGVsZW1lbnQgZGVmYXVsdCAoZS5nLiBpZiB0aGUgZWxlbWVudCBzZXRzXG4gICAqIHRoaXMuaWQgPSAnaWQnIGluIHRoZSBjb25zdHJ1Y3RvciwgdGhlICdpZCcgd2lsbCBiZWNvbWUgJycgc2luY2UgdGhpcyBpc1xuICAgKiB0aGUgbmF0aXZlIHBsYXRmb3JtIGRlZmF1bHQpLlxuICAgKi9cbiAgcHJpdmF0ZSBfX3NhdmVJbnN0YW5jZVByb3BlcnRpZXMoKSB7XG4gICAgLy8gVXNlIGZvckVhY2ggc28gdGhpcyB3b3JrcyBldmVuIGlmIGZvci9vZiBsb29wcyBhcmUgY29tcGlsZWQgdG8gZm9yIGxvb3BzXG4gICAgLy8gZXhwZWN0aW5nIGFycmF5c1xuICAgICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnQpLmVsZW1lbnRQcm9wZXJ0aWVzLmZvckVhY2goXG4gICAgICAoX3YsIHApID0+IHtcbiAgICAgICAgaWYgKHRoaXMuaGFzT3duUHJvcGVydHkocCkpIHtcbiAgICAgICAgICB0aGlzLl9faW5zdGFuY2VQcm9wZXJ0aWVzIS5zZXQocCwgdGhpc1twIGFzIGtleW9mIHRoaXNdKTtcbiAgICAgICAgICBkZWxldGUgdGhpc1twIGFzIGtleW9mIHRoaXNdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBub2RlIGludG8gd2hpY2ggdGhlIGVsZW1lbnQgc2hvdWxkIHJlbmRlciBhbmQgYnkgZGVmYXVsdFxuICAgKiBjcmVhdGVzIGFuZCByZXR1cm5zIGFuIG9wZW4gc2hhZG93Um9vdC4gSW1wbGVtZW50IHRvIGN1c3RvbWl6ZSB3aGVyZSB0aGVcbiAgICogZWxlbWVudCdzIERPTSBpcyByZW5kZXJlZC4gRm9yIGV4YW1wbGUsIHRvIHJlbmRlciBpbnRvIHRoZSBlbGVtZW50J3NcbiAgICogY2hpbGROb2RlcywgcmV0dXJuIGB0aGlzYC5cbiAgICpcbiAgICogQHJldHVybiBSZXR1cm5zIGEgbm9kZSBpbnRvIHdoaWNoIHRvIHJlbmRlci5cbiAgICogQGNhdGVnb3J5IHJlbmRlcmluZ1xuICAgKi9cbiAgcHJvdGVjdGVkIGNyZWF0ZVJlbmRlclJvb3QoKTogRWxlbWVudCB8IFNoYWRvd1Jvb3Qge1xuICAgIGNvbnN0IHJlbmRlclJvb3QgPVxuICAgICAgdGhpcy5zaGFkb3dSb290ID8/XG4gICAgICB0aGlzLmF0dGFjaFNoYWRvdyhcbiAgICAgICAgKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIFJlYWN0aXZlRWxlbWVudCkuc2hhZG93Um9vdE9wdGlvbnNcbiAgICAgICk7XG4gICAgYWRvcHRTdHlsZXMoXG4gICAgICByZW5kZXJSb290LFxuICAgICAgKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIFJlYWN0aXZlRWxlbWVudCkuZWxlbWVudFN0eWxlc1xuICAgICk7XG4gICAgcmV0dXJuIHJlbmRlclJvb3Q7XG4gIH1cblxuICAvKipcbiAgICogT24gZmlyc3QgY29ubmVjdGlvbiwgY3JlYXRlcyB0aGUgZWxlbWVudCdzIHJlbmRlclJvb3QsIHNldHMgdXBcbiAgICogZWxlbWVudCBzdHlsaW5nLCBhbmQgZW5hYmxlcyB1cGRhdGluZy5cbiAgICogQGNhdGVnb3J5IGxpZmVjeWNsZVxuICAgKi9cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgLy8gY3JlYXRlIHJlbmRlclJvb3QgYmVmb3JlIGZpcnN0IHVwZGF0ZS5cbiAgICBpZiAodGhpcy5yZW5kZXJSb290ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIChcbiAgICAgICAgdGhpcyBhcyB7XG4gICAgICAgICAgcmVuZGVyUm9vdDogRWxlbWVudCB8IERvY3VtZW50RnJhZ21lbnQ7XG4gICAgICAgIH1cbiAgICAgICkucmVuZGVyUm9vdCA9IHRoaXMuY3JlYXRlUmVuZGVyUm9vdCgpO1xuICAgIH1cbiAgICB0aGlzLmVuYWJsZVVwZGF0aW5nKHRydWUpO1xuICAgIHRoaXMuX19jb250cm9sbGVycz8uZm9yRWFjaCgoYykgPT4gYy5ob3N0Q29ubmVjdGVkPy4oKSk7XG4gIH1cblxuICAvKipcbiAgICogTm90ZSwgdGhpcyBtZXRob2Qgc2hvdWxkIGJlIGNvbnNpZGVyZWQgZmluYWwgYW5kIG5vdCBvdmVycmlkZGVuLiBJdCBpc1xuICAgKiBvdmVycmlkZGVuIG9uIHRoZSBlbGVtZW50IGluc3RhbmNlIHdpdGggYSBmdW5jdGlvbiB0aGF0IHRyaWdnZXJzIHRoZSBmaXJzdFxuICAgKiB1cGRhdGUuXG4gICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAqL1xuICBwcm90ZWN0ZWQgZW5hYmxlVXBkYXRpbmcoX3JlcXVlc3RlZFVwZGF0ZTogYm9vbGVhbikge31cblxuICAvKipcbiAgICogQWxsb3dzIGZvciBgc3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2soKWAgaW4gZXh0ZW5zaW9ucyB3aGlsZVxuICAgKiByZXNlcnZpbmcgdGhlIHBvc3NpYmlsaXR5IG9mIG1ha2luZyBub24tYnJlYWtpbmcgZmVhdHVyZSBhZGRpdGlvbnNcbiAgICogd2hlbiBkaXNjb25uZWN0aW5nIGF0IHNvbWUgcG9pbnQgaW4gdGhlIGZ1dHVyZS5cbiAgICogQGNhdGVnb3J5IGxpZmVjeWNsZVxuICAgKi9cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5fX2NvbnRyb2xsZXJzPy5mb3JFYWNoKChjKSA9PiBjLmhvc3REaXNjb25uZWN0ZWQ/LigpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTeW5jaHJvbml6ZXMgcHJvcGVydHkgdmFsdWVzIHdoZW4gYXR0cmlidXRlcyBjaGFuZ2UuXG4gICAqXG4gICAqIFNwZWNpZmljYWxseSwgd2hlbiBhbiBhdHRyaWJ1dGUgaXMgc2V0LCB0aGUgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSBpcyBzZXQuXG4gICAqIFlvdSBzaG91bGQgcmFyZWx5IG5lZWQgdG8gaW1wbGVtZW50IHRoaXMgY2FsbGJhY2suIElmIHRoaXMgbWV0aG9kIGlzXG4gICAqIG92ZXJyaWRkZW4sIGBzdXBlci5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sobmFtZSwgX29sZCwgdmFsdWUpYCBtdXN0IGJlXG4gICAqIGNhbGxlZC5cbiAgICpcbiAgICogU2VlIFt1c2luZyB0aGUgbGlmZWN5Y2xlIGNhbGxiYWNrc10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvV2ViX0NvbXBvbmVudHMvVXNpbmdfY3VzdG9tX2VsZW1lbnRzI3VzaW5nX3RoZV9saWZlY3ljbGVfY2FsbGJhY2tzKVxuICAgKiBvbiBNRE4gZm9yIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2tgLlxuICAgKiBAY2F0ZWdvcnkgYXR0cmlidXRlc1xuICAgKi9cbiAgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBfb2xkOiBzdHJpbmcgfCBudWxsLFxuICAgIHZhbHVlOiBzdHJpbmcgfCBudWxsXG4gICkge1xuICAgIHRoaXMuXyRhdHRyaWJ1dGVUb1Byb3BlcnR5KG5hbWUsIHZhbHVlKTtcbiAgfVxuXG4gIHByaXZhdGUgX19wcm9wZXJ0eVRvQXR0cmlidXRlKFxuICAgIG5hbWU6IFByb3BlcnR5S2V5LFxuICAgIHZhbHVlOiB1bmtub3duLFxuICAgIG9wdGlvbnM6IFByb3BlcnR5RGVjbGFyYXRpb24gPSBkZWZhdWx0UHJvcGVydHlEZWNsYXJhdGlvblxuICApIHtcbiAgICBjb25zdCBhdHRyID0gKFxuICAgICAgdGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgUmVhY3RpdmVFbGVtZW50XG4gICAgKS5fX2F0dHJpYnV0ZU5hbWVGb3JQcm9wZXJ0eShuYW1lLCBvcHRpb25zKTtcbiAgICBpZiAoYXR0ciAhPT0gdW5kZWZpbmVkICYmIG9wdGlvbnMucmVmbGVjdCA9PT0gdHJ1ZSkge1xuICAgICAgY29uc3QgdG9BdHRyaWJ1dGUgPVxuICAgICAgICAob3B0aW9ucy5jb252ZXJ0ZXIgYXMgQ29tcGxleEF0dHJpYnV0ZUNvbnZlcnRlcik/LnRvQXR0cmlidXRlID8/XG4gICAgICAgIGRlZmF1bHRDb252ZXJ0ZXIudG9BdHRyaWJ1dGU7XG4gICAgICBjb25zdCBhdHRyVmFsdWUgPSB0b0F0dHJpYnV0ZSEodmFsdWUsIG9wdGlvbnMudHlwZSk7XG4gICAgICBpZiAoXG4gICAgICAgIERFVl9NT0RFICYmXG4gICAgICAgICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnQpLmVuYWJsZWRXYXJuaW5ncyEuaW5kZXhPZihcbiAgICAgICAgICAnbWlncmF0aW9uJ1xuICAgICAgICApID49IDAgJiZcbiAgICAgICAgYXR0clZhbHVlID09PSB1bmRlZmluZWRcbiAgICAgICkge1xuICAgICAgICBpc3N1ZVdhcm5pbmcoXG4gICAgICAgICAgJ3VuZGVmaW5lZC1hdHRyaWJ1dGUtdmFsdWUnLFxuICAgICAgICAgIGBUaGUgYXR0cmlidXRlIHZhbHVlIGZvciB0aGUgJHtuYW1lIGFzIHN0cmluZ30gcHJvcGVydHkgaXMgYCArXG4gICAgICAgICAgICBgdW5kZWZpbmVkIG9uIGVsZW1lbnQgJHt0aGlzLmxvY2FsTmFtZX0uIFRoZSBhdHRyaWJ1dGUgd2lsbCBiZSBgICtcbiAgICAgICAgICAgIGByZW1vdmVkLCBidXQgaW4gdGhlIHByZXZpb3VzIHZlcnNpb24gb2YgXFxgUmVhY3RpdmVFbGVtZW50XFxgLCBgICtcbiAgICAgICAgICAgIGB0aGUgYXR0cmlidXRlIHdvdWxkIG5vdCBoYXZlIGNoYW5nZWQuYFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgLy8gVHJhY2sgaWYgdGhlIHByb3BlcnR5IGlzIGJlaW5nIHJlZmxlY3RlZCB0byBhdm9pZFxuICAgICAgLy8gc2V0dGluZyB0aGUgcHJvcGVydHkgYWdhaW4gdmlhIGBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2tgLiBOb3RlOlxuICAgICAgLy8gMS4gdGhpcyB0YWtlcyBhZHZhbnRhZ2Ugb2YgdGhlIGZhY3QgdGhhdCB0aGUgY2FsbGJhY2sgaXMgc3luY2hyb25vdXMuXG4gICAgICAvLyAyLiB3aWxsIGJlaGF2ZSBpbmNvcnJlY3RseSBpZiBtdWx0aXBsZSBhdHRyaWJ1dGVzIGFyZSBpbiB0aGUgcmVhY3Rpb25cbiAgICAgIC8vIHN0YWNrIGF0IHRpbWUgb2YgY2FsbGluZy4gSG93ZXZlciwgc2luY2Ugd2UgcHJvY2VzcyBhdHRyaWJ1dGVzXG4gICAgICAvLyBpbiBgdXBkYXRlYCB0aGlzIHNob3VsZCBub3QgYmUgcG9zc2libGUgKG9yIGFuIGV4dHJlbWUgY29ybmVyIGNhc2VcbiAgICAgIC8vIHRoYXQgd2UnZCBsaWtlIHRvIGRpc2NvdmVyKS5cbiAgICAgIC8vIG1hcmsgc3RhdGUgcmVmbGVjdGluZ1xuICAgICAgdGhpcy5fX3JlZmxlY3RpbmdQcm9wZXJ0eSA9IG5hbWU7XG4gICAgICBpZiAoYXR0clZhbHVlID09IG51bGwpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoYXR0cik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShhdHRyLCBhdHRyVmFsdWUgYXMgc3RyaW5nKTtcbiAgICAgIH1cbiAgICAgIC8vIG1hcmsgc3RhdGUgbm90IHJlZmxlY3RpbmdcbiAgICAgIHRoaXMuX19yZWZsZWN0aW5nUHJvcGVydHkgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgXyRhdHRyaWJ1dGVUb1Byb3BlcnR5KG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZyB8IG51bGwpIHtcbiAgICBjb25zdCBjdG9yID0gdGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgUmVhY3RpdmVFbGVtZW50O1xuICAgIC8vIE5vdGUsIGhpbnQgdGhpcyBhcyBhbiBgQXR0cmlidXRlTWFwYCBzbyBjbG9zdXJlIGNsZWFybHkgdW5kZXJzdGFuZHNcbiAgICAvLyB0aGUgdHlwZTsgaXQgaGFzIGlzc3VlcyB3aXRoIHRyYWNraW5nIHR5cGVzIHRocm91Z2ggc3RhdGljc1xuICAgIGNvbnN0IHByb3BOYW1lID0gKGN0b3IuX19hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwIGFzIEF0dHJpYnV0ZU1hcCkuZ2V0KG5hbWUpO1xuICAgIC8vIFVzZSB0cmFja2luZyBpbmZvIHRvIGF2b2lkIHJlZmxlY3RpbmcgYSBwcm9wZXJ0eSB2YWx1ZSB0byBhbiBhdHRyaWJ1dGVcbiAgICAvLyBpZiBpdCB3YXMganVzdCBzZXQgYmVjYXVzZSB0aGUgYXR0cmlidXRlIGNoYW5nZWQuXG4gICAgaWYgKHByb3BOYW1lICE9PSB1bmRlZmluZWQgJiYgdGhpcy5fX3JlZmxlY3RpbmdQcm9wZXJ0eSAhPT0gcHJvcE5hbWUpIHtcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSBjdG9yLmdldFByb3BlcnR5T3B0aW9ucyhwcm9wTmFtZSk7XG4gICAgICBjb25zdCBjb252ZXJ0ZXIgPSBvcHRpb25zLmNvbnZlcnRlcjtcbiAgICAgIGNvbnN0IGZyb21BdHRyaWJ1dGUgPVxuICAgICAgICAoY29udmVydGVyIGFzIENvbXBsZXhBdHRyaWJ1dGVDb252ZXJ0ZXIpPy5mcm9tQXR0cmlidXRlID8/XG4gICAgICAgICh0eXBlb2YgY29udmVydGVyID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgPyAoY29udmVydGVyIGFzICh2YWx1ZTogc3RyaW5nIHwgbnVsbCwgdHlwZT86IHVua25vd24pID0+IHVua25vd24pXG4gICAgICAgICAgOiBudWxsKSA/P1xuICAgICAgICBkZWZhdWx0Q29udmVydGVyLmZyb21BdHRyaWJ1dGU7XG4gICAgICAvLyBtYXJrIHN0YXRlIHJlZmxlY3RpbmdcbiAgICAgIHRoaXMuX19yZWZsZWN0aW5nUHJvcGVydHkgPSBwcm9wTmFtZTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICB0aGlzW3Byb3BOYW1lIGFzIGtleW9mIHRoaXNdID0gZnJvbUF0dHJpYnV0ZSEodmFsdWUsIG9wdGlvbnMudHlwZSkgYXMgYW55O1xuICAgICAgLy8gbWFyayBzdGF0ZSBub3QgcmVmbGVjdGluZ1xuICAgICAgdGhpcy5fX3JlZmxlY3RpbmdQcm9wZXJ0eSA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlcXVlc3RzIGFuIHVwZGF0ZSB3aGljaCBpcyBwcm9jZXNzZWQgYXN5bmNocm9ub3VzbHkuIFRoaXMgc2hvdWxkIGJlIGNhbGxlZFxuICAgKiB3aGVuIGFuIGVsZW1lbnQgc2hvdWxkIHVwZGF0ZSBiYXNlZCBvbiBzb21lIHN0YXRlIG5vdCB0cmlnZ2VyZWQgYnkgc2V0dGluZ1xuICAgKiBhIHJlYWN0aXZlIHByb3BlcnR5LiBJbiB0aGlzIGNhc2UsIHBhc3Mgbm8gYXJndW1lbnRzLiBJdCBzaG91bGQgYWxzbyBiZVxuICAgKiBjYWxsZWQgd2hlbiBtYW51YWxseSBpbXBsZW1lbnRpbmcgYSBwcm9wZXJ0eSBzZXR0ZXIuIEluIHRoaXMgY2FzZSwgcGFzcyB0aGVcbiAgICogcHJvcGVydHkgYG5hbWVgIGFuZCBgb2xkVmFsdWVgIHRvIGVuc3VyZSB0aGF0IGFueSBjb25maWd1cmVkIHByb3BlcnR5XG4gICAqIG9wdGlvbnMgYXJlIGhvbm9yZWQuXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIG5hbWUgb2YgcmVxdWVzdGluZyBwcm9wZXJ0eVxuICAgKiBAcGFyYW0gb2xkVmFsdWUgb2xkIHZhbHVlIG9mIHJlcXVlc3RpbmcgcHJvcGVydHlcbiAgICogQHBhcmFtIG9wdGlvbnMgcHJvcGVydHkgb3B0aW9ucyB0byB1c2UgaW5zdGVhZCBvZiB0aGUgcHJldmlvdXNseVxuICAgKiAgICAgY29uZmlndXJlZCBvcHRpb25zXG4gICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAqL1xuICByZXF1ZXN0VXBkYXRlKFxuICAgIG5hbWU/OiBQcm9wZXJ0eUtleSxcbiAgICBvbGRWYWx1ZT86IHVua25vd24sXG4gICAgb3B0aW9ucz86IFByb3BlcnR5RGVjbGFyYXRpb25cbiAgKTogdm9pZCB7XG4gICAgbGV0IHNob3VsZFJlcXVlc3RVcGRhdGUgPSB0cnVlO1xuICAgIC8vIElmIHdlIGhhdmUgYSBwcm9wZXJ0eSBrZXksIHBlcmZvcm0gcHJvcGVydHkgdXBkYXRlIHN0ZXBzLlxuICAgIGlmIChuYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG9wdGlvbnMgPVxuICAgICAgICBvcHRpb25zIHx8XG4gICAgICAgICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnQpLmdldFByb3BlcnR5T3B0aW9ucyhuYW1lKTtcbiAgICAgIGNvbnN0IGhhc0NoYW5nZWQgPSBvcHRpb25zLmhhc0NoYW5nZWQgfHwgbm90RXF1YWw7XG4gICAgICBpZiAoaGFzQ2hhbmdlZCh0aGlzW25hbWUgYXMga2V5b2YgdGhpc10sIG9sZFZhbHVlKSkge1xuICAgICAgICBpZiAoIXRoaXMuXyRjaGFuZ2VkUHJvcGVydGllcy5oYXMobmFtZSkpIHtcbiAgICAgICAgICB0aGlzLl8kY2hhbmdlZFByb3BlcnRpZXMuc2V0KG5hbWUsIG9sZFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBZGQgdG8gcmVmbGVjdGluZyBwcm9wZXJ0aWVzIHNldC5cbiAgICAgICAgLy8gTm90ZSwgaXQncyBpbXBvcnRhbnQgdGhhdCBldmVyeSBjaGFuZ2UgaGFzIGEgY2hhbmNlIHRvIGFkZCB0aGVcbiAgICAgICAgLy8gcHJvcGVydHkgdG8gYF9yZWZsZWN0aW5nUHJvcGVydGllc2AuIFRoaXMgZW5zdXJlcyBzZXR0aW5nXG4gICAgICAgIC8vIGF0dHJpYnV0ZSArIHByb3BlcnR5IHJlZmxlY3RzIGNvcnJlY3RseS5cbiAgICAgICAgaWYgKG9wdGlvbnMucmVmbGVjdCA9PT0gdHJ1ZSAmJiB0aGlzLl9fcmVmbGVjdGluZ1Byb3BlcnR5ICE9PSBuYW1lKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX19yZWZsZWN0aW5nUHJvcGVydGllcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLl9fcmVmbGVjdGluZ1Byb3BlcnRpZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuX19yZWZsZWN0aW5nUHJvcGVydGllcy5zZXQobmFtZSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEFib3J0IHRoZSByZXF1ZXN0IGlmIHRoZSBwcm9wZXJ0eSBzaG91bGQgbm90IGJlIGNvbnNpZGVyZWQgY2hhbmdlZC5cbiAgICAgICAgc2hvdWxkUmVxdWVzdFVwZGF0ZSA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXRoaXMuaXNVcGRhdGVQZW5kaW5nICYmIHNob3VsZFJlcXVlc3RVcGRhdGUpIHtcbiAgICAgIHRoaXMuX191cGRhdGVQcm9taXNlID0gdGhpcy5fX2VucXVldWVVcGRhdGUoKTtcbiAgICB9XG4gICAgLy8gTm90ZSwgc2luY2UgdGhpcyBubyBsb25nZXIgcmV0dXJucyBhIHByb21pc2UsIGluIGRldiBtb2RlIHdlIHJldHVybiBhXG4gICAgLy8gdGhlbmFibGUgd2hpY2ggd2FybnMgaWYgaXQncyBjYWxsZWQuXG4gICAgcmV0dXJuIERFVl9NT0RFXG4gICAgICA/IChyZXF1ZXN0VXBkYXRlVGhlbmFibGUodGhpcy5sb2NhbE5hbWUpIGFzIHVua25vd24gYXMgdm9pZClcbiAgICAgIDogdW5kZWZpbmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdXAgdGhlIGVsZW1lbnQgdG8gYXN5bmNocm9ub3VzbHkgdXBkYXRlLlxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBfX2VucXVldWVVcGRhdGUoKSB7XG4gICAgdGhpcy5pc1VwZGF0ZVBlbmRpbmcgPSB0cnVlO1xuICAgIHRyeSB7XG4gICAgICAvLyBFbnN1cmUgYW55IHByZXZpb3VzIHVwZGF0ZSBoYXMgcmVzb2x2ZWQgYmVmb3JlIHVwZGF0aW5nLlxuICAgICAgLy8gVGhpcyBgYXdhaXRgIGFsc28gZW5zdXJlcyB0aGF0IHByb3BlcnR5IGNoYW5nZXMgYXJlIGJhdGNoZWQuXG4gICAgICBhd2FpdCB0aGlzLl9fdXBkYXRlUHJvbWlzZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBSZWZpcmUgYW55IHByZXZpb3VzIGVycm9ycyBhc3luYyBzbyB0aGV5IGRvIG5vdCBkaXNydXB0IHRoZSB1cGRhdGVcbiAgICAgIC8vIGN5Y2xlLiBFcnJvcnMgYXJlIHJlZmlyZWQgc28gZGV2ZWxvcGVycyBoYXZlIGEgY2hhbmNlIHRvIG9ic2VydmVcbiAgICAgIC8vIHRoZW0sIGFuZCB0aGlzIGNhbiBiZSBkb25lIGJ5IGltcGxlbWVudGluZ1xuICAgICAgLy8gYHdpbmRvdy5vbnVuaGFuZGxlZHJlamVjdGlvbmAuXG4gICAgICBQcm9taXNlLnJlamVjdChlKTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5zY2hlZHVsZVVwZGF0ZSgpO1xuICAgIC8vIElmIGBzY2hlZHVsZVVwZGF0ZWAgcmV0dXJucyBhIFByb21pc2UsIHdlIGF3YWl0IGl0LiBUaGlzIGlzIGRvbmUgdG9cbiAgICAvLyBlbmFibGUgY29vcmRpbmF0aW5nIHVwZGF0ZXMgd2l0aCBhIHNjaGVkdWxlci4gTm90ZSwgdGhlIHJlc3VsdCBpc1xuICAgIC8vIGNoZWNrZWQgdG8gYXZvaWQgZGVsYXlpbmcgYW4gYWRkaXRpb25hbCBtaWNyb3Rhc2sgdW5sZXNzIHdlIG5lZWQgdG8uXG4gICAgaWYgKHJlc3VsdCAhPSBudWxsKSB7XG4gICAgICBhd2FpdCByZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiAhdGhpcy5pc1VwZGF0ZVBlbmRpbmc7XG4gIH1cblxuICAvKipcbiAgICogU2NoZWR1bGVzIGFuIGVsZW1lbnQgdXBkYXRlLiBZb3UgY2FuIG92ZXJyaWRlIHRoaXMgbWV0aG9kIHRvIGNoYW5nZSB0aGVcbiAgICogdGltaW5nIG9mIHVwZGF0ZXMgYnkgcmV0dXJuaW5nIGEgUHJvbWlzZS4gVGhlIHVwZGF0ZSB3aWxsIGF3YWl0IHRoZVxuICAgKiByZXR1cm5lZCBQcm9taXNlLCBhbmQgeW91IHNob3VsZCByZXNvbHZlIHRoZSBQcm9taXNlIHRvIGFsbG93IHRoZSB1cGRhdGVcbiAgICogdG8gcHJvY2VlZC4gSWYgdGhpcyBtZXRob2QgaXMgb3ZlcnJpZGRlbiwgYHN1cGVyLnNjaGVkdWxlVXBkYXRlKClgXG4gICAqIG11c3QgYmUgY2FsbGVkLlxuICAgKlxuICAgKiBGb3IgaW5zdGFuY2UsIHRvIHNjaGVkdWxlIHVwZGF0ZXMgdG8gb2NjdXIganVzdCBiZWZvcmUgdGhlIG5leHQgZnJhbWU6XG4gICAqXG4gICAqIGBgYHRzXG4gICAqIG92ZXJyaWRlIHByb3RlY3RlZCBhc3luYyBzY2hlZHVsZVVwZGF0ZSgpOiBQcm9taXNlPHVua25vd24+IHtcbiAgICogICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHJlc29sdmUoKSkpO1xuICAgKiAgIHN1cGVyLnNjaGVkdWxlVXBkYXRlKCk7XG4gICAqIH1cbiAgICogYGBgXG4gICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAqL1xuICBwcm90ZWN0ZWQgc2NoZWR1bGVVcGRhdGUoKTogdm9pZCB8IFByb21pc2U8dW5rbm93bj4ge1xuICAgIHJldHVybiB0aGlzLnBlcmZvcm1VcGRhdGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQZXJmb3JtcyBhbiBlbGVtZW50IHVwZGF0ZS4gTm90ZSwgaWYgYW4gZXhjZXB0aW9uIGlzIHRocm93biBkdXJpbmcgdGhlXG4gICAqIHVwZGF0ZSwgYGZpcnN0VXBkYXRlZGAgYW5kIGB1cGRhdGVkYCB3aWxsIG5vdCBiZSBjYWxsZWQuXG4gICAqXG4gICAqIENhbGwgYHBlcmZvcm1VcGRhdGUoKWAgdG8gaW1tZWRpYXRlbHkgcHJvY2VzcyBhIHBlbmRpbmcgdXBkYXRlLiBUaGlzIHNob3VsZFxuICAgKiBnZW5lcmFsbHkgbm90IGJlIG5lZWRlZCwgYnV0IGl0IGNhbiBiZSBkb25lIGluIHJhcmUgY2FzZXMgd2hlbiB5b3UgbmVlZCB0b1xuICAgKiB1cGRhdGUgc3luY2hyb25vdXNseS5cbiAgICpcbiAgICogTm90ZTogVG8gZW5zdXJlIGBwZXJmb3JtVXBkYXRlKClgIHN5bmNocm9ub3VzbHkgY29tcGxldGVzIGEgcGVuZGluZyB1cGRhdGUsXG4gICAqIGl0IHNob3VsZCBub3QgYmUgb3ZlcnJpZGRlbi4gSW4gTGl0RWxlbWVudCAyLnggaXQgd2FzIHN1Z2dlc3RlZCB0byBvdmVycmlkZVxuICAgKiBgcGVyZm9ybVVwZGF0ZSgpYCB0byBhbHNvIGN1c3RvbWl6aW5nIHVwZGF0ZSBzY2hlZHVsaW5nLiBJbnN0ZWFkLCB5b3Ugc2hvdWxkIG5vd1xuICAgKiBvdmVycmlkZSBgc2NoZWR1bGVVcGRhdGUoKWAuIEZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSB3aXRoIExpdEVsZW1lbnQgMi54LFxuICAgKiBzY2hlZHVsaW5nIHVwZGF0ZXMgdmlhIGBwZXJmb3JtVXBkYXRlKClgIGNvbnRpbnVlcyB0byB3b3JrLCBidXQgd2lsbCBtYWtlXG4gICAqIGFsc28gY2FsbGluZyBgcGVyZm9ybVVwZGF0ZSgpYCB0byBzeW5jaHJvbm91c2x5IHByb2Nlc3MgdXBkYXRlcyBkaWZmaWN1bHQuXG4gICAqXG4gICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAqL1xuICBwcm90ZWN0ZWQgcGVyZm9ybVVwZGF0ZSgpOiB2b2lkIHwgUHJvbWlzZTx1bmtub3duPiB7XG4gICAgLy8gQWJvcnQgYW55IHVwZGF0ZSBpZiBvbmUgaXMgbm90IHBlbmRpbmcgd2hlbiB0aGlzIGlzIGNhbGxlZC5cbiAgICAvLyBUaGlzIGNhbiBoYXBwZW4gaWYgYHBlcmZvcm1VcGRhdGVgIGlzIGNhbGxlZCBlYXJseSB0byBcImZsdXNoXCJcbiAgICAvLyB0aGUgdXBkYXRlLlxuICAgIGlmICghdGhpcy5pc1VwZGF0ZVBlbmRpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZGVidWdMb2dFdmVudD8uKHtraW5kOiAndXBkYXRlJ30pO1xuICAgIC8vIGNyZWF0ZSByZW5kZXJSb290IGJlZm9yZSBmaXJzdCB1cGRhdGUuXG4gICAgaWYgKCF0aGlzLmhhc1VwZGF0ZWQpIHtcbiAgICAgIC8vIFByb2R1Y2Ugd2FybmluZyBpZiBhbnkgY2xhc3MgcHJvcGVydGllcyBhcmUgc2hhZG93ZWQgYnkgY2xhc3MgZmllbGRzXG4gICAgICBpZiAoREVWX01PREUpIHtcbiAgICAgICAgY29uc3Qgc2hhZG93ZWRQcm9wZXJ0aWVzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICAoXG4gICAgICAgICAgdGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgUmVhY3RpdmVFbGVtZW50XG4gICAgICAgICkuX19yZWFjdGl2ZVByb3BlcnR5S2V5cz8uZm9yRWFjaCgocCkgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLmhhc093blByb3BlcnR5KHApICYmICF0aGlzLl9faW5zdGFuY2VQcm9wZXJ0aWVzPy5oYXMocCkpIHtcbiAgICAgICAgICAgIHNoYWRvd2VkUHJvcGVydGllcy5wdXNoKHAgYXMgc3RyaW5nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoc2hhZG93ZWRQcm9wZXJ0aWVzLmxlbmd0aCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgIGBUaGUgZm9sbG93aW5nIHByb3BlcnRpZXMgb24gZWxlbWVudCAke3RoaXMubG9jYWxOYW1lfSB3aWxsIG5vdCBgICtcbiAgICAgICAgICAgICAgYHRyaWdnZXIgdXBkYXRlcyBhcyBleHBlY3RlZCBiZWNhdXNlIHRoZXkgYXJlIHNldCB1c2luZyBjbGFzcyBgICtcbiAgICAgICAgICAgICAgYGZpZWxkczogJHtzaGFkb3dlZFByb3BlcnRpZXMuam9pbignLCAnKX0uIGAgK1xuICAgICAgICAgICAgICBgTmF0aXZlIGNsYXNzIGZpZWxkcyBhbmQgc29tZSBjb21waWxlZCBvdXRwdXQgd2lsbCBvdmVyd3JpdGUgYCArXG4gICAgICAgICAgICAgIGBhY2Nlc3NvcnMgdXNlZCBmb3IgZGV0ZWN0aW5nIGNoYW5nZXMuIFNlZSBgICtcbiAgICAgICAgICAgICAgYGh0dHBzOi8vbGl0LmRldi9tc2cvY2xhc3MtZmllbGQtc2hhZG93aW5nIGAgK1xuICAgICAgICAgICAgICBgZm9yIG1vcmUgaW5mb3JtYXRpb24uYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLy8gTWl4aW4gaW5zdGFuY2UgcHJvcGVydGllcyBvbmNlLCBpZiB0aGV5IGV4aXN0LlxuICAgIGlmICh0aGlzLl9faW5zdGFuY2VQcm9wZXJ0aWVzKSB7XG4gICAgICAvLyBVc2UgZm9yRWFjaCBzbyB0aGlzIHdvcmtzIGV2ZW4gaWYgZm9yL29mIGxvb3BzIGFyZSBjb21waWxlZCB0byBmb3IgbG9vcHNcbiAgICAgIC8vIGV4cGVjdGluZyBhcnJheXNcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICB0aGlzLl9faW5zdGFuY2VQcm9wZXJ0aWVzIS5mb3JFYWNoKCh2LCBwKSA9PiAoKHRoaXMgYXMgYW55KVtwXSA9IHYpKTtcbiAgICAgIHRoaXMuX19pbnN0YW5jZVByb3BlcnRpZXMgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGxldCBzaG91bGRVcGRhdGUgPSBmYWxzZTtcbiAgICBjb25zdCBjaGFuZ2VkUHJvcGVydGllcyA9IHRoaXMuXyRjaGFuZ2VkUHJvcGVydGllcztcbiAgICB0cnkge1xuICAgICAgc2hvdWxkVXBkYXRlID0gdGhpcy5zaG91bGRVcGRhdGUoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgaWYgKHNob3VsZFVwZGF0ZSkge1xuICAgICAgICB0aGlzLndpbGxVcGRhdGUoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgICB0aGlzLl9fY29udHJvbGxlcnM/LmZvckVhY2goKGMpID0+IGMuaG9zdFVwZGF0ZT8uKCkpO1xuICAgICAgICB0aGlzLnVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9fbWFya1VwZGF0ZWQoKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBQcmV2ZW50IGBmaXJzdFVwZGF0ZWRgIGFuZCBgdXBkYXRlZGAgZnJvbSBydW5uaW5nIHdoZW4gdGhlcmUncyBhblxuICAgICAgLy8gdXBkYXRlIGV4Y2VwdGlvbi5cbiAgICAgIHNob3VsZFVwZGF0ZSA9IGZhbHNlO1xuICAgICAgLy8gRW5zdXJlIGVsZW1lbnQgY2FuIGFjY2VwdCBhZGRpdGlvbmFsIHVwZGF0ZXMgYWZ0ZXIgYW4gZXhjZXB0aW9uLlxuICAgICAgdGhpcy5fX21hcmtVcGRhdGVkKCk7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cbiAgICAvLyBUaGUgdXBkYXRlIGlzIG5vIGxvbmdlciBjb25zaWRlcmVkIHBlbmRpbmcgYW5kIGZ1cnRoZXIgdXBkYXRlcyBhcmUgbm93IGFsbG93ZWQuXG4gICAgaWYgKHNob3VsZFVwZGF0ZSkge1xuICAgICAgdGhpcy5fJGRpZFVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEludm9rZWQgYmVmb3JlIGB1cGRhdGUoKWAgdG8gY29tcHV0ZSB2YWx1ZXMgbmVlZGVkIGR1cmluZyB0aGUgdXBkYXRlLlxuICAgKlxuICAgKiBJbXBsZW1lbnQgYHdpbGxVcGRhdGVgIHRvIGNvbXB1dGUgcHJvcGVydHkgdmFsdWVzIHRoYXQgZGVwZW5kIG9uIG90aGVyXG4gICAqIHByb3BlcnRpZXMgYW5kIGFyZSB1c2VkIGluIHRoZSByZXN0IG9mIHRoZSB1cGRhdGUgcHJvY2Vzcy5cbiAgICpcbiAgICogYGBgdHNcbiAgICogd2lsbFVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcykge1xuICAgKiAgIC8vIG9ubHkgbmVlZCB0byBjaGVjayBjaGFuZ2VkIHByb3BlcnRpZXMgZm9yIGFuIGV4cGVuc2l2ZSBjb21wdXRhdGlvbi5cbiAgICogICBpZiAoY2hhbmdlZFByb3BlcnRpZXMuaGFzKCdmaXJzdE5hbWUnKSB8fCBjaGFuZ2VkUHJvcGVydGllcy5oYXMoJ2xhc3ROYW1lJykpIHtcbiAgICogICAgIHRoaXMuc2hhID0gY29tcHV0ZVNIQShgJHt0aGlzLmZpcnN0TmFtZX0gJHt0aGlzLmxhc3ROYW1lfWApO1xuICAgKiAgIH1cbiAgICogfVxuICAgKlxuICAgKiByZW5kZXIoKSB7XG4gICAqICAgcmV0dXJuIGh0bWxgU0hBOiAke3RoaXMuc2hhfWA7XG4gICAqIH1cbiAgICogYGBgXG4gICAqXG4gICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAqL1xuICBwcm90ZWN0ZWQgd2lsbFVwZGF0ZShfY2hhbmdlZFByb3BlcnRpZXM6IFByb3BlcnR5VmFsdWVzKTogdm9pZCB7fVxuXG4gIC8vIE5vdGUsIHRoaXMgaXMgYW4gb3ZlcnJpZGUgcG9pbnQgZm9yIHBvbHlmaWxsLXN1cHBvcnQuXG4gIC8vIEBpbnRlcm5hbFxuICBfJGRpZFVwZGF0ZShjaGFuZ2VkUHJvcGVydGllczogUHJvcGVydHlWYWx1ZXMpIHtcbiAgICB0aGlzLl9fY29udHJvbGxlcnM/LmZvckVhY2goKGMpID0+IGMuaG9zdFVwZGF0ZWQ/LigpKTtcbiAgICBpZiAoIXRoaXMuaGFzVXBkYXRlZCkge1xuICAgICAgdGhpcy5oYXNVcGRhdGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuZmlyc3RVcGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICB9XG4gICAgdGhpcy51cGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICBpZiAoXG4gICAgICBERVZfTU9ERSAmJlxuICAgICAgdGhpcy5pc1VwZGF0ZVBlbmRpbmcgJiZcbiAgICAgICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnQpLmVuYWJsZWRXYXJuaW5ncyEuaW5kZXhPZihcbiAgICAgICAgJ2NoYW5nZS1pbi11cGRhdGUnXG4gICAgICApID49IDBcbiAgICApIHtcbiAgICAgIGlzc3VlV2FybmluZyhcbiAgICAgICAgJ2NoYW5nZS1pbi11cGRhdGUnLFxuICAgICAgICBgRWxlbWVudCAke3RoaXMubG9jYWxOYW1lfSBzY2hlZHVsZWQgYW4gdXBkYXRlIGAgK1xuICAgICAgICAgIGAoZ2VuZXJhbGx5IGJlY2F1c2UgYSBwcm9wZXJ0eSB3YXMgc2V0KSBgICtcbiAgICAgICAgICBgYWZ0ZXIgYW4gdXBkYXRlIGNvbXBsZXRlZCwgY2F1c2luZyBhIG5ldyB1cGRhdGUgdG8gYmUgc2NoZWR1bGVkLiBgICtcbiAgICAgICAgICBgVGhpcyBpcyBpbmVmZmljaWVudCBhbmQgc2hvdWxkIGJlIGF2b2lkZWQgdW5sZXNzIHRoZSBuZXh0IHVwZGF0ZSBgICtcbiAgICAgICAgICBgY2FuIG9ubHkgYmUgc2NoZWR1bGVkIGFzIGEgc2lkZSBlZmZlY3Qgb2YgdGhlIHByZXZpb3VzIHVwZGF0ZS5gXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX19tYXJrVXBkYXRlZCgpIHtcbiAgICB0aGlzLl8kY2hhbmdlZFByb3BlcnRpZXMgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5pc1VwZGF0ZVBlbmRpbmcgPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIGVsZW1lbnQgaGFzIGNvbXBsZXRlZCB1cGRhdGluZy5cbiAgICogVGhlIFByb21pc2UgdmFsdWUgaXMgYSBib29sZWFuIHRoYXQgaXMgYHRydWVgIGlmIHRoZSBlbGVtZW50IGNvbXBsZXRlZCB0aGVcbiAgICogdXBkYXRlIHdpdGhvdXQgdHJpZ2dlcmluZyBhbm90aGVyIHVwZGF0ZS4gVGhlIFByb21pc2UgcmVzdWx0IGlzIGBmYWxzZWAgaWZcbiAgICogYSBwcm9wZXJ0eSB3YXMgc2V0IGluc2lkZSBgdXBkYXRlZCgpYC4gSWYgdGhlIFByb21pc2UgaXMgcmVqZWN0ZWQsIGFuXG4gICAqIGV4Y2VwdGlvbiB3YXMgdGhyb3duIGR1cmluZyB0aGUgdXBkYXRlLlxuICAgKlxuICAgKiBUbyBhd2FpdCBhZGRpdGlvbmFsIGFzeW5jaHJvbm91cyB3b3JrLCBvdmVycmlkZSB0aGUgYGdldFVwZGF0ZUNvbXBsZXRlYFxuICAgKiBtZXRob2QuIEZvciBleGFtcGxlLCBpdCBpcyBzb21ldGltZXMgdXNlZnVsIHRvIGF3YWl0IGEgcmVuZGVyZWQgZWxlbWVudFxuICAgKiBiZWZvcmUgZnVsZmlsbGluZyB0aGlzIFByb21pc2UuIFRvIGRvIHRoaXMsIGZpcnN0IGF3YWl0XG4gICAqIGBzdXBlci5nZXRVcGRhdGVDb21wbGV0ZSgpYCwgdGhlbiBhbnkgc3Vic2VxdWVudCBzdGF0ZS5cbiAgICpcbiAgICogQHJldHVybiBBIHByb21pc2Ugb2YgYSBib29sZWFuIHRoYXQgcmVzb2x2ZXMgdG8gdHJ1ZSBpZiB0aGUgdXBkYXRlIGNvbXBsZXRlZFxuICAgKiAgICAgd2l0aG91dCB0cmlnZ2VyaW5nIGFub3RoZXIgdXBkYXRlLlxuICAgKiBAY2F0ZWdvcnkgdXBkYXRlc1xuICAgKi9cbiAgZ2V0IHVwZGF0ZUNvbXBsZXRlKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHJldHVybiB0aGlzLmdldFVwZGF0ZUNvbXBsZXRlKCk7XG4gIH1cblxuICAvKipcbiAgICogT3ZlcnJpZGUgcG9pbnQgZm9yIHRoZSBgdXBkYXRlQ29tcGxldGVgIHByb21pc2UuXG4gICAqXG4gICAqIEl0IGlzIG5vdCBzYWZlIHRvIG92ZXJyaWRlIHRoZSBgdXBkYXRlQ29tcGxldGVgIGdldHRlciBkaXJlY3RseSBkdWUgdG8gYVxuICAgKiBsaW1pdGF0aW9uIGluIFR5cGVTY3JpcHQgd2hpY2ggbWVhbnMgaXQgaXMgbm90IHBvc3NpYmxlIHRvIGNhbGwgYVxuICAgKiBzdXBlcmNsYXNzIGdldHRlciAoZS5nLiBgc3VwZXIudXBkYXRlQ29tcGxldGUudGhlbiguLi4pYCkgd2hlbiB0aGUgdGFyZ2V0XG4gICAqIGxhbmd1YWdlIGlzIEVTNSAoaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8zMzgpLlxuICAgKiBUaGlzIG1ldGhvZCBzaG91bGQgYmUgb3ZlcnJpZGRlbiBpbnN0ZWFkLiBGb3IgZXhhbXBsZTpcbiAgICpcbiAgICogYGBgdHNcbiAgICogY2xhc3MgTXlFbGVtZW50IGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gICAqICAgb3ZlcnJpZGUgYXN5bmMgZ2V0VXBkYXRlQ29tcGxldGUoKSB7XG4gICAqICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzdXBlci5nZXRVcGRhdGVDb21wbGV0ZSgpO1xuICAgKiAgICAgYXdhaXQgdGhpcy5fbXlDaGlsZC51cGRhdGVDb21wbGV0ZTtcbiAgICogICAgIHJldHVybiByZXN1bHQ7XG4gICAqICAgfVxuICAgKiB9XG4gICAqIGBgYFxuICAgKlxuICAgKiBAcmV0dXJuIEEgcHJvbWlzZSBvZiBhIGJvb2xlYW4gdGhhdCByZXNvbHZlcyB0byB0cnVlIGlmIHRoZSB1cGRhdGUgY29tcGxldGVkXG4gICAqICAgICB3aXRob3V0IHRyaWdnZXJpbmcgYW5vdGhlciB1cGRhdGUuXG4gICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAqL1xuICBwcm90ZWN0ZWQgZ2V0VXBkYXRlQ29tcGxldGUoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgcmV0dXJuIHRoaXMuX191cGRhdGVQcm9taXNlO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnRyb2xzIHdoZXRoZXIgb3Igbm90IGB1cGRhdGUoKWAgc2hvdWxkIGJlIGNhbGxlZCB3aGVuIHRoZSBlbGVtZW50IHJlcXVlc3RzXG4gICAqIGFuIHVwZGF0ZS4gQnkgZGVmYXVsdCwgdGhpcyBtZXRob2QgYWx3YXlzIHJldHVybnMgYHRydWVgLCBidXQgdGhpcyBjYW4gYmVcbiAgICogY3VzdG9taXplZCB0byBjb250cm9sIHdoZW4gdG8gdXBkYXRlLlxuICAgKlxuICAgKiBAcGFyYW0gX2NoYW5nZWRQcm9wZXJ0aWVzIE1hcCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMgd2l0aCBvbGQgdmFsdWVzXG4gICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAqL1xuICBwcm90ZWN0ZWQgc2hvdWxkVXBkYXRlKF9jaGFuZ2VkUHJvcGVydGllczogUHJvcGVydHlWYWx1ZXMpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBlbGVtZW50LiBUaGlzIG1ldGhvZCByZWZsZWN0cyBwcm9wZXJ0eSB2YWx1ZXMgdG8gYXR0cmlidXRlcy5cbiAgICogSXQgY2FuIGJlIG92ZXJyaWRkZW4gdG8gcmVuZGVyIGFuZCBrZWVwIHVwZGF0ZWQgZWxlbWVudCBET00uXG4gICAqIFNldHRpbmcgcHJvcGVydGllcyBpbnNpZGUgdGhpcyBtZXRob2Qgd2lsbCAqbm90KiB0cmlnZ2VyXG4gICAqIGFub3RoZXIgdXBkYXRlLlxuICAgKlxuICAgKiBAcGFyYW0gX2NoYW5nZWRQcm9wZXJ0aWVzIE1hcCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMgd2l0aCBvbGQgdmFsdWVzXG4gICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAqL1xuICBwcm90ZWN0ZWQgdXBkYXRlKF9jaGFuZ2VkUHJvcGVydGllczogUHJvcGVydHlWYWx1ZXMpIHtcbiAgICBpZiAodGhpcy5fX3JlZmxlY3RpbmdQcm9wZXJ0aWVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIFVzZSBmb3JFYWNoIHNvIHRoaXMgd29ya3MgZXZlbiBpZiBmb3Ivb2YgbG9vcHMgYXJlIGNvbXBpbGVkIHRvIGZvclxuICAgICAgLy8gbG9vcHMgZXhwZWN0aW5nIGFycmF5c1xuICAgICAgdGhpcy5fX3JlZmxlY3RpbmdQcm9wZXJ0aWVzLmZvckVhY2goKHYsIGspID0+XG4gICAgICAgIHRoaXMuX19wcm9wZXJ0eVRvQXR0cmlidXRlKGssIHRoaXNbayBhcyBrZXlvZiB0aGlzXSwgdilcbiAgICAgICk7XG4gICAgICB0aGlzLl9fcmVmbGVjdGluZ1Byb3BlcnRpZXMgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHRoaXMuX19tYXJrVXBkYXRlZCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEludm9rZWQgd2hlbmV2ZXIgdGhlIGVsZW1lbnQgaXMgdXBkYXRlZC4gSW1wbGVtZW50IHRvIHBlcmZvcm1cbiAgICogcG9zdC11cGRhdGluZyB0YXNrcyB2aWEgRE9NIEFQSXMsIGZvciBleGFtcGxlLCBmb2N1c2luZyBhbiBlbGVtZW50LlxuICAgKlxuICAgKiBTZXR0aW5nIHByb3BlcnRpZXMgaW5zaWRlIHRoaXMgbWV0aG9kIHdpbGwgdHJpZ2dlciB0aGUgZWxlbWVudCB0byB1cGRhdGVcbiAgICogYWdhaW4gYWZ0ZXIgdGhpcyB1cGRhdGUgY3ljbGUgY29tcGxldGVzLlxuICAgKlxuICAgKiBAcGFyYW0gX2NoYW5nZWRQcm9wZXJ0aWVzIE1hcCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMgd2l0aCBvbGQgdmFsdWVzXG4gICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAqL1xuICBwcm90ZWN0ZWQgdXBkYXRlZChfY2hhbmdlZFByb3BlcnRpZXM6IFByb3BlcnR5VmFsdWVzKSB7fVxuXG4gIC8qKlxuICAgKiBJbnZva2VkIHdoZW4gdGhlIGVsZW1lbnQgaXMgZmlyc3QgdXBkYXRlZC4gSW1wbGVtZW50IHRvIHBlcmZvcm0gb25lIHRpbWVcbiAgICogd29yayBvbiB0aGUgZWxlbWVudCBhZnRlciB1cGRhdGUuXG4gICAqXG4gICAqIGBgYHRzXG4gICAqIGZpcnN0VXBkYXRlZCgpIHtcbiAgICogICB0aGlzLnJlbmRlclJvb3QuZ2V0RWxlbWVudEJ5SWQoJ215LXRleHQtYXJlYScpLmZvY3VzKCk7XG4gICAqIH1cbiAgICogYGBgXG4gICAqXG4gICAqIFNldHRpbmcgcHJvcGVydGllcyBpbnNpZGUgdGhpcyBtZXRob2Qgd2lsbCB0cmlnZ2VyIHRoZSBlbGVtZW50IHRvIHVwZGF0ZVxuICAgKiBhZ2FpbiBhZnRlciB0aGlzIHVwZGF0ZSBjeWNsZSBjb21wbGV0ZXMuXG4gICAqXG4gICAqIEBwYXJhbSBfY2hhbmdlZFByb3BlcnRpZXMgTWFwIG9mIGNoYW5nZWQgcHJvcGVydGllcyB3aXRoIG9sZCB2YWx1ZXNcbiAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICovXG4gIHByb3RlY3RlZCBmaXJzdFVwZGF0ZWQoX2NoYW5nZWRQcm9wZXJ0aWVzOiBQcm9wZXJ0eVZhbHVlcykge31cbn1cblxuLy8gQXBwbHkgcG9seWZpbGxzIGlmIGF2YWlsYWJsZVxucG9seWZpbGxTdXBwb3J0Py4oe1JlYWN0aXZlRWxlbWVudH0pO1xuXG4vLyBEZXYgbW9kZSB3YXJuaW5ncy4uLlxuaWYgKERFVl9NT0RFKSB7XG4gIC8vIERlZmF1bHQgd2FybmluZyBzZXQuXG4gIFJlYWN0aXZlRWxlbWVudC5lbmFibGVkV2FybmluZ3MgPSBbJ2NoYW5nZS1pbi11cGRhdGUnXTtcbiAgY29uc3QgZW5zdXJlT3duV2FybmluZ3MgPSBmdW5jdGlvbiAoY3RvcjogdHlwZW9mIFJlYWN0aXZlRWxlbWVudCkge1xuICAgIGlmIChcbiAgICAgICFjdG9yLmhhc093blByb3BlcnR5KEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ2VuYWJsZWRXYXJuaW5ncycsIGN0b3IpKVxuICAgICkge1xuICAgICAgY3Rvci5lbmFibGVkV2FybmluZ3MgPSBjdG9yLmVuYWJsZWRXYXJuaW5ncyEuc2xpY2UoKTtcbiAgICB9XG4gIH07XG4gIFJlYWN0aXZlRWxlbWVudC5lbmFibGVXYXJuaW5nID0gZnVuY3Rpb24gKFxuICAgIHRoaXM6IHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnQsXG4gICAgd2FybmluZzogV2FybmluZ0tpbmRcbiAgKSB7XG4gICAgZW5zdXJlT3duV2FybmluZ3ModGhpcyk7XG4gICAgaWYgKHRoaXMuZW5hYmxlZFdhcm5pbmdzIS5pbmRleE9mKHdhcm5pbmcpIDwgMCkge1xuICAgICAgdGhpcy5lbmFibGVkV2FybmluZ3MhLnB1c2god2FybmluZyk7XG4gICAgfVxuICB9O1xuICBSZWFjdGl2ZUVsZW1lbnQuZGlzYWJsZVdhcm5pbmcgPSBmdW5jdGlvbiAoXG4gICAgdGhpczogdHlwZW9mIFJlYWN0aXZlRWxlbWVudCxcbiAgICB3YXJuaW5nOiBXYXJuaW5nS2luZFxuICApIHtcbiAgICBlbnN1cmVPd25XYXJuaW5ncyh0aGlzKTtcbiAgICBjb25zdCBpID0gdGhpcy5lbmFibGVkV2FybmluZ3MhLmluZGV4T2Yod2FybmluZyk7XG4gICAgaWYgKGkgPj0gMCkge1xuICAgICAgdGhpcy5lbmFibGVkV2FybmluZ3MhLnNwbGljZShpLCAxKTtcbiAgICB9XG4gIH07XG59XG5cbi8vIElNUE9SVEFOVDogZG8gbm90IGNoYW5nZSB0aGUgcHJvcGVydHkgbmFtZSBvciB0aGUgYXNzaWdubWVudCBleHByZXNzaW9uLlxuLy8gVGhpcyBsaW5lIHdpbGwgYmUgdXNlZCBpbiByZWdleGVzIHRvIHNlYXJjaCBmb3IgUmVhY3RpdmVFbGVtZW50IHVzYWdlLlxuKGdsb2JhbFRoaXMucmVhY3RpdmVFbGVtZW50VmVyc2lvbnMgPz89IFtdKS5wdXNoKCcxLjMuNCcpO1xuaWYgKERFVl9NT0RFICYmIGdsb2JhbFRoaXMucmVhY3RpdmVFbGVtZW50VmVyc2lvbnMubGVuZ3RoID4gMSkge1xuICBpc3N1ZVdhcm5pbmchKFxuICAgICdtdWx0aXBsZS12ZXJzaW9ucycsXG4gICAgYE11bHRpcGxlIHZlcnNpb25zIG9mIExpdCBsb2FkZWQuIExvYWRpbmcgbXVsdGlwbGUgdmVyc2lvbnMgYCArXG4gICAgICBgaXMgbm90IHJlY29tbWVuZGVkLmBcbiAgKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cblxuLy8gSU1QT1JUQU5UOiB0aGVzZSBpbXBvcnRzIG11c3QgYmUgdHlwZS1vbmx5XG5pbXBvcnQgdHlwZSB7RGlyZWN0aXZlLCBEaXJlY3RpdmVSZXN1bHQsIFBhcnRJbmZvfSBmcm9tICcuL2RpcmVjdGl2ZS5qcyc7XG5cbmNvbnN0IERFVl9NT0RFID0gdHJ1ZTtcbmNvbnN0IEVOQUJMRV9FWFRSQV9TRUNVUklUWV9IT09LUyA9IHRydWU7XG5jb25zdCBFTkFCTEVfU0hBRFlET01fTk9QQVRDSCA9IHRydWU7XG5cbi8qKlxuICogQ29udGFpbnMgdHlwZXMgdGhhdCBhcmUgcGFydCBvZiB0aGUgdW5zdGFibGUgZGVidWcgQVBJLlxuICpcbiAqIEV2ZXJ5dGhpbmcgaW4gdGhpcyBBUEkgaXMgbm90IHN0YWJsZSBhbmQgbWF5IGNoYW5nZSBvciBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmUsXG4gKiBldmVuIG9uIHBhdGNoIHJlbGVhc2VzLlxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5hbWVzcGFjZVxuZXhwb3J0IG5hbWVzcGFjZSBMaXRVbnN0YWJsZSB7XG4gIC8qKlxuICAgKiBXaGVuIExpdCBpcyBydW5uaW5nIGluIGRldiBtb2RlIGFuZCBgd2luZG93LmVtaXRMaXREZWJ1Z0xvZ0V2ZW50c2AgaXMgdHJ1ZSxcbiAgICogd2Ugd2lsbCBlbWl0ICdsaXQtZGVidWcnIGV2ZW50cyB0byB3aW5kb3csIHdpdGggbGl2ZSBkZXRhaWxzIGFib3V0IHRoZSB1cGRhdGUgYW5kIHJlbmRlclxuICAgKiBsaWZlY3ljbGUuIFRoZXNlIGNhbiBiZSB1c2VmdWwgZm9yIHdyaXRpbmcgZGVidWcgdG9vbGluZyBhbmQgdmlzdWFsaXphdGlvbnMuXG4gICAqXG4gICAqIFBsZWFzZSBiZSBhd2FyZSB0aGF0IHJ1bm5pbmcgd2l0aCB3aW5kb3cuZW1pdExpdERlYnVnTG9nRXZlbnRzIGhhcyBwZXJmb3JtYW5jZSBvdmVyaGVhZCxcbiAgICogbWFraW5nIGNlcnRhaW4gb3BlcmF0aW9ucyB0aGF0IGFyZSBub3JtYWxseSB2ZXJ5IGNoZWFwIChsaWtlIGEgbm8tb3AgcmVuZGVyKSBtdWNoIHNsb3dlcixcbiAgICogYmVjYXVzZSB3ZSBtdXN0IGNvcHkgZGF0YSBhbmQgZGlzcGF0Y2ggZXZlbnRzLlxuICAgKi9cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1uYW1lc3BhY2VcbiAgZXhwb3J0IG5hbWVzcGFjZSBEZWJ1Z0xvZyB7XG4gICAgZXhwb3J0IHR5cGUgRW50cnkgPVxuICAgICAgfCBUZW1wbGF0ZVByZXBcbiAgICAgIHwgVGVtcGxhdGVJbnN0YW50aWF0ZWRcbiAgICAgIHwgVGVtcGxhdGVJbnN0YW50aWF0ZWRBbmRVcGRhdGVkXG4gICAgICB8IFRlbXBsYXRlVXBkYXRpbmdcbiAgICAgIHwgQmVnaW5SZW5kZXJcbiAgICAgIHwgRW5kUmVuZGVyXG4gICAgICB8IENvbW1pdFBhcnRFbnRyeVxuICAgICAgfCBTZXRQYXJ0VmFsdWU7XG4gICAgZXhwb3J0IGludGVyZmFjZSBUZW1wbGF0ZVByZXAge1xuICAgICAga2luZDogJ3RlbXBsYXRlIHByZXAnO1xuICAgICAgdGVtcGxhdGU6IFRlbXBsYXRlO1xuICAgICAgc3RyaW5nczogVGVtcGxhdGVTdHJpbmdzQXJyYXk7XG4gICAgICBjbG9uYWJsZVRlbXBsYXRlOiBIVE1MVGVtcGxhdGVFbGVtZW50O1xuICAgICAgcGFydHM6IFRlbXBsYXRlUGFydFtdO1xuICAgIH1cbiAgICBleHBvcnQgaW50ZXJmYWNlIEJlZ2luUmVuZGVyIHtcbiAgICAgIGtpbmQ6ICdiZWdpbiByZW5kZXInO1xuICAgICAgaWQ6IG51bWJlcjtcbiAgICAgIHZhbHVlOiB1bmtub3duO1xuICAgICAgY29udGFpbmVyOiBIVE1MRWxlbWVudCB8IERvY3VtZW50RnJhZ21lbnQ7XG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgICAgcGFydDogQ2hpbGRQYXJ0IHwgdW5kZWZpbmVkO1xuICAgIH1cbiAgICBleHBvcnQgaW50ZXJmYWNlIEVuZFJlbmRlciB7XG4gICAgICBraW5kOiAnZW5kIHJlbmRlcic7XG4gICAgICBpZDogbnVtYmVyO1xuICAgICAgdmFsdWU6IHVua25vd247XG4gICAgICBjb250YWluZXI6IEhUTUxFbGVtZW50IHwgRG9jdW1lbnRGcmFnbWVudDtcbiAgICAgIG9wdGlvbnM6IFJlbmRlck9wdGlvbnMgfCB1bmRlZmluZWQ7XG4gICAgICBwYXJ0OiBDaGlsZFBhcnQ7XG4gICAgfVxuICAgIGV4cG9ydCBpbnRlcmZhY2UgVGVtcGxhdGVJbnN0YW50aWF0ZWQge1xuICAgICAga2luZDogJ3RlbXBsYXRlIGluc3RhbnRpYXRlZCc7XG4gICAgICB0ZW1wbGF0ZTogVGVtcGxhdGUgfCBDb21waWxlZFRlbXBsYXRlO1xuICAgICAgaW5zdGFuY2U6IFRlbXBsYXRlSW5zdGFuY2U7XG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgICAgZnJhZ21lbnQ6IE5vZGU7XG4gICAgICBwYXJ0czogQXJyYXk8UGFydCB8IHVuZGVmaW5lZD47XG4gICAgICB2YWx1ZXM6IHVua25vd25bXTtcbiAgICB9XG4gICAgZXhwb3J0IGludGVyZmFjZSBUZW1wbGF0ZUluc3RhbnRpYXRlZEFuZFVwZGF0ZWQge1xuICAgICAga2luZDogJ3RlbXBsYXRlIGluc3RhbnRpYXRlZCBhbmQgdXBkYXRlZCc7XG4gICAgICB0ZW1wbGF0ZTogVGVtcGxhdGUgfCBDb21waWxlZFRlbXBsYXRlO1xuICAgICAgaW5zdGFuY2U6IFRlbXBsYXRlSW5zdGFuY2U7XG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgICAgZnJhZ21lbnQ6IE5vZGU7XG4gICAgICBwYXJ0czogQXJyYXk8UGFydCB8IHVuZGVmaW5lZD47XG4gICAgICB2YWx1ZXM6IHVua25vd25bXTtcbiAgICB9XG4gICAgZXhwb3J0IGludGVyZmFjZSBUZW1wbGF0ZVVwZGF0aW5nIHtcbiAgICAgIGtpbmQ6ICd0ZW1wbGF0ZSB1cGRhdGluZyc7XG4gICAgICB0ZW1wbGF0ZTogVGVtcGxhdGUgfCBDb21waWxlZFRlbXBsYXRlO1xuICAgICAgaW5zdGFuY2U6IFRlbXBsYXRlSW5zdGFuY2U7XG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgICAgcGFydHM6IEFycmF5PFBhcnQgfCB1bmRlZmluZWQ+O1xuICAgICAgdmFsdWVzOiB1bmtub3duW107XG4gICAgfVxuICAgIGV4cG9ydCBpbnRlcmZhY2UgU2V0UGFydFZhbHVlIHtcbiAgICAgIGtpbmQ6ICdzZXQgcGFydCc7XG4gICAgICBwYXJ0OiBQYXJ0O1xuICAgICAgdmFsdWU6IHVua25vd247XG4gICAgICB2YWx1ZUluZGV4OiBudW1iZXI7XG4gICAgICB2YWx1ZXM6IHVua25vd25bXTtcbiAgICAgIHRlbXBsYXRlSW5zdGFuY2U6IFRlbXBsYXRlSW5zdGFuY2U7XG4gICAgfVxuXG4gICAgZXhwb3J0IHR5cGUgQ29tbWl0UGFydEVudHJ5ID1cbiAgICAgIHwgQ29tbWl0Tm90aGluZ1RvQ2hpbGRFbnRyeVxuICAgICAgfCBDb21taXRUZXh0XG4gICAgICB8IENvbW1pdE5vZGVcbiAgICAgIHwgQ29tbWl0QXR0cmlidXRlXG4gICAgICB8IENvbW1pdFByb3BlcnR5XG4gICAgICB8IENvbW1pdEJvb2xlYW5BdHRyaWJ1dGVcbiAgICAgIHwgQ29tbWl0RXZlbnRMaXN0ZW5lclxuICAgICAgfCBDb21taXRUb0VsZW1lbnRCaW5kaW5nO1xuXG4gICAgZXhwb3J0IGludGVyZmFjZSBDb21taXROb3RoaW5nVG9DaGlsZEVudHJ5IHtcbiAgICAgIGtpbmQ6ICdjb21taXQgbm90aGluZyB0byBjaGlsZCc7XG4gICAgICBzdGFydDogQ2hpbGROb2RlO1xuICAgICAgZW5kOiBDaGlsZE5vZGUgfCBudWxsO1xuICAgICAgcGFyZW50OiBEaXNjb25uZWN0YWJsZSB8IHVuZGVmaW5lZDtcbiAgICAgIG9wdGlvbnM6IFJlbmRlck9wdGlvbnMgfCB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZXhwb3J0IGludGVyZmFjZSBDb21taXRUZXh0IHtcbiAgICAgIGtpbmQ6ICdjb21taXQgdGV4dCc7XG4gICAgICBub2RlOiBUZXh0O1xuICAgICAgdmFsdWU6IHVua25vd247XG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgQ29tbWl0Tm9kZSB7XG4gICAgICBraW5kOiAnY29tbWl0IG5vZGUnO1xuICAgICAgc3RhcnQ6IE5vZGU7XG4gICAgICBwYXJlbnQ6IERpc2Nvbm5lY3RhYmxlIHwgdW5kZWZpbmVkO1xuICAgICAgdmFsdWU6IE5vZGU7XG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgQ29tbWl0QXR0cmlidXRlIHtcbiAgICAgIGtpbmQ6ICdjb21taXQgYXR0cmlidXRlJztcbiAgICAgIGVsZW1lbnQ6IEVsZW1lbnQ7XG4gICAgICBuYW1lOiBzdHJpbmc7XG4gICAgICB2YWx1ZTogdW5rbm93bjtcbiAgICAgIG9wdGlvbnM6IFJlbmRlck9wdGlvbnMgfCB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZXhwb3J0IGludGVyZmFjZSBDb21taXRQcm9wZXJ0eSB7XG4gICAgICBraW5kOiAnY29tbWl0IHByb3BlcnR5JztcbiAgICAgIGVsZW1lbnQ6IEVsZW1lbnQ7XG4gICAgICBuYW1lOiBzdHJpbmc7XG4gICAgICB2YWx1ZTogdW5rbm93bjtcbiAgICAgIG9wdGlvbnM6IFJlbmRlck9wdGlvbnMgfCB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZXhwb3J0IGludGVyZmFjZSBDb21taXRCb29sZWFuQXR0cmlidXRlIHtcbiAgICAgIGtpbmQ6ICdjb21taXQgYm9vbGVhbiBhdHRyaWJ1dGUnO1xuICAgICAgZWxlbWVudDogRWxlbWVudDtcbiAgICAgIG5hbWU6IHN0cmluZztcbiAgICAgIHZhbHVlOiBib29sZWFuO1xuICAgICAgb3B0aW9uczogUmVuZGVyT3B0aW9ucyB8IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBleHBvcnQgaW50ZXJmYWNlIENvbW1pdEV2ZW50TGlzdGVuZXIge1xuICAgICAga2luZDogJ2NvbW1pdCBldmVudCBsaXN0ZW5lcic7XG4gICAgICBlbGVtZW50OiBFbGVtZW50O1xuICAgICAgbmFtZTogc3RyaW5nO1xuICAgICAgdmFsdWU6IHVua25vd247XG4gICAgICBvbGRMaXN0ZW5lcjogdW5rbm93bjtcbiAgICAgIG9wdGlvbnM6IFJlbmRlck9wdGlvbnMgfCB1bmRlZmluZWQ7XG4gICAgICAvLyBUcnVlIGlmIHdlJ3JlIHJlbW92aW5nIHRoZSBvbGQgZXZlbnQgbGlzdGVuZXIgKGUuZy4gYmVjYXVzZSBzZXR0aW5ncyBjaGFuZ2VkLCBvciB2YWx1ZSBpcyBub3RoaW5nKVxuICAgICAgcmVtb3ZlTGlzdGVuZXI6IGJvb2xlYW47XG4gICAgICAvLyBUcnVlIGlmIHdlJ3JlIGFkZGluZyBhIG5ldyBldmVudCBsaXN0ZW5lciAoZS5nLiBiZWNhdXNlIGZpcnN0IHJlbmRlciwgb3Igc2V0dGluZ3MgY2hhbmdlZClcbiAgICAgIGFkZExpc3RlbmVyOiBib29sZWFuO1xuICAgIH1cblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgQ29tbWl0VG9FbGVtZW50QmluZGluZyB7XG4gICAgICBraW5kOiAnY29tbWl0IHRvIGVsZW1lbnQgYmluZGluZyc7XG4gICAgICBlbGVtZW50OiBFbGVtZW50O1xuICAgICAgdmFsdWU6IHVua25vd247XG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxufVxuXG5pbnRlcmZhY2UgRGVidWdMb2dnaW5nV2luZG93IHtcbiAgLy8gRXZlbiBpbiBkZXYgbW9kZSwgd2UgZ2VuZXJhbGx5IGRvbid0IHdhbnQgdG8gZW1pdCB0aGVzZSBldmVudHMsIGFzIHRoYXQnc1xuICAvLyBhbm90aGVyIGxldmVsIG9mIGNvc3QsIHNvIG9ubHkgZW1pdCB0aGVtIHdoZW4gREVWX01PREUgaXMgdHJ1ZSBfYW5kXyB3aGVuXG4gIC8vIHdpbmRvdy5lbWl0TGl0RGVidWdFdmVudHMgaXMgdHJ1ZS5cbiAgZW1pdExpdERlYnVnTG9nRXZlbnRzPzogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBVc2VmdWwgZm9yIHZpc3VhbGl6aW5nIGFuZCBsb2dnaW5nIGluc2lnaHRzIGludG8gd2hhdCB0aGUgTGl0IHRlbXBsYXRlIHN5c3RlbSBpcyBkb2luZy5cbiAqXG4gKiBDb21waWxlZCBvdXQgb2YgcHJvZCBtb2RlIGJ1aWxkcy5cbiAqL1xuY29uc3QgZGVidWdMb2dFdmVudCA9IERFVl9NT0RFXG4gID8gKGV2ZW50OiBMaXRVbnN0YWJsZS5EZWJ1Z0xvZy5FbnRyeSkgPT4ge1xuICAgICAgY29uc3Qgc2hvdWxkRW1pdCA9ICh3aW5kb3cgYXMgdW5rbm93biBhcyBEZWJ1Z0xvZ2dpbmdXaW5kb3cpXG4gICAgICAgIC5lbWl0TGl0RGVidWdMb2dFdmVudHM7XG4gICAgICBpZiAoIXNob3VsZEVtaXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQoXG4gICAgICAgIG5ldyBDdXN0b21FdmVudDxMaXRVbnN0YWJsZS5EZWJ1Z0xvZy5FbnRyeT4oJ2xpdC1kZWJ1ZycsIHtcbiAgICAgICAgICBkZXRhaWw6IGV2ZW50LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gIDogdW5kZWZpbmVkO1xuLy8gVXNlZCBmb3IgY29ubmVjdGluZyBiZWdpblJlbmRlciBhbmQgZW5kUmVuZGVyIGV2ZW50cyB3aGVuIHRoZXJlIGFyZSBuZXN0ZWRcbi8vIHJlbmRlcnMgd2hlbiBlcnJvcnMgYXJlIHRocm93biBwcmV2ZW50aW5nIGFuIGVuZFJlbmRlciBldmVudCBmcm9tIGJlaW5nXG4vLyBjYWxsZWQuXG5sZXQgZGVidWdMb2dSZW5kZXJJZCA9IDA7XG5cbmxldCBpc3N1ZVdhcm5pbmc6IChjb2RlOiBzdHJpbmcsIHdhcm5pbmc6IHN0cmluZykgPT4gdm9pZDtcblxuaWYgKERFVl9NT0RFKSB7XG4gIGdsb2JhbFRoaXMubGl0SXNzdWVkV2FybmluZ3MgPz89IG5ldyBTZXQoKTtcblxuICAvLyBJc3N1ZSBhIHdhcm5pbmcsIGlmIHdlIGhhdmVuJ3QgYWxyZWFkeS5cbiAgaXNzdWVXYXJuaW5nID0gKGNvZGU6IHN0cmluZywgd2FybmluZzogc3RyaW5nKSA9PiB7XG4gICAgd2FybmluZyArPSBjb2RlXG4gICAgICA/IGAgU2VlIGh0dHBzOi8vbGl0LmRldi9tc2cvJHtjb2RlfSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5gXG4gICAgICA6ICcnO1xuICAgIGlmICghZ2xvYmFsVGhpcy5saXRJc3N1ZWRXYXJuaW5ncyEuaGFzKHdhcm5pbmcpKSB7XG4gICAgICBjb25zb2xlLndhcm4od2FybmluZyk7XG4gICAgICBnbG9iYWxUaGlzLmxpdElzc3VlZFdhcm5pbmdzIS5hZGQod2FybmluZyk7XG4gICAgfVxuICB9O1xuXG4gIGlzc3VlV2FybmluZyhcbiAgICAnZGV2LW1vZGUnLFxuICAgIGBMaXQgaXMgaW4gZGV2IG1vZGUuIE5vdCByZWNvbW1lbmRlZCBmb3IgcHJvZHVjdGlvbiFgXG4gICk7XG59XG5cbmNvbnN0IHdyYXAgPVxuICBFTkFCTEVfU0hBRFlET01fTk9QQVRDSCAmJlxuICB3aW5kb3cuU2hhZHlET00/LmluVXNlICYmXG4gIHdpbmRvdy5TaGFkeURPTT8ubm9QYXRjaCA9PT0gdHJ1ZVxuICAgID8gd2luZG93LlNoYWR5RE9NIS53cmFwXG4gICAgOiAobm9kZTogTm9kZSkgPT4gbm9kZTtcblxuY29uc3QgdHJ1c3RlZFR5cGVzID0gKGdsb2JhbFRoaXMgYXMgdW5rbm93biBhcyBQYXJ0aWFsPFdpbmRvdz4pLnRydXN0ZWRUeXBlcztcblxuLyoqXG4gKiBPdXIgVHJ1c3RlZFR5cGVQb2xpY3kgZm9yIEhUTUwgd2hpY2ggaXMgZGVjbGFyZWQgdXNpbmcgdGhlIGh0bWwgdGVtcGxhdGVcbiAqIHRhZyBmdW5jdGlvbi5cbiAqXG4gKiBUaGF0IEhUTUwgaXMgYSBkZXZlbG9wZXItYXV0aG9yZWQgY29uc3RhbnQsIGFuZCBpcyBwYXJzZWQgd2l0aCBpbm5lckhUTUxcbiAqIGJlZm9yZSBhbnkgdW50cnVzdGVkIGV4cHJlc3Npb25zIGhhdmUgYmVlbiBtaXhlZCBpbi4gVGhlcmVmb3IgaXQgaXNcbiAqIGNvbnNpZGVyZWQgc2FmZSBieSBjb25zdHJ1Y3Rpb24uXG4gKi9cbmNvbnN0IHBvbGljeSA9IHRydXN0ZWRUeXBlc1xuICA/IHRydXN0ZWRUeXBlcy5jcmVhdGVQb2xpY3koJ2xpdC1odG1sJywge1xuICAgICAgY3JlYXRlSFRNTDogKHMpID0+IHMsXG4gICAgfSlcbiAgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogVXNlZCB0byBzYW5pdGl6ZSBhbnkgdmFsdWUgYmVmb3JlIGl0IGlzIHdyaXR0ZW4gaW50byB0aGUgRE9NLiBUaGlzIGNhbiBiZVxuICogdXNlZCB0byBpbXBsZW1lbnQgYSBzZWN1cml0eSBwb2xpY3kgb2YgYWxsb3dlZCBhbmQgZGlzYWxsb3dlZCB2YWx1ZXMgaW5cbiAqIG9yZGVyIHRvIHByZXZlbnQgWFNTIGF0dGFja3MuXG4gKlxuICogT25lIHdheSBvZiB1c2luZyB0aGlzIGNhbGxiYWNrIHdvdWxkIGJlIHRvIGNoZWNrIGF0dHJpYnV0ZXMgYW5kIHByb3BlcnRpZXNcbiAqIGFnYWluc3QgYSBsaXN0IG9mIGhpZ2ggcmlzayBmaWVsZHMsIGFuZCByZXF1aXJlIHRoYXQgdmFsdWVzIHdyaXR0ZW4gdG8gc3VjaFxuICogZmllbGRzIGJlIGluc3RhbmNlcyBvZiBhIGNsYXNzIHdoaWNoIGlzIHNhZmUgYnkgY29uc3RydWN0aW9uLiBDbG9zdXJlJ3MgU2FmZVxuICogSFRNTCBUeXBlcyBpcyBvbmUgaW1wbGVtZW50YXRpb24gb2YgdGhpcyB0ZWNobmlxdWUgKFxuICogaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9zYWZlLWh0bWwtdHlwZXMvYmxvYi9tYXN0ZXIvZG9jL3NhZmVodG1sLXR5cGVzLm1kKS5cbiAqIFRoZSBUcnVzdGVkVHlwZXMgcG9seWZpbGwgaW4gQVBJLW9ubHkgbW9kZSBjb3VsZCBhbHNvIGJlIHVzZWQgYXMgYSBiYXNpc1xuICogZm9yIHRoaXMgdGVjaG5pcXVlIChodHRwczovL2dpdGh1Yi5jb20vV0lDRy90cnVzdGVkLXR5cGVzKS5cbiAqXG4gKiBAcGFyYW0gbm9kZSBUaGUgSFRNTCBub2RlICh1c3VhbGx5IGVpdGhlciBhICN0ZXh0IG5vZGUgb3IgYW4gRWxlbWVudCkgdGhhdFxuICogICAgIGlzIGJlaW5nIHdyaXR0ZW4gdG8uIE5vdGUgdGhhdCB0aGlzIGlzIGp1c3QgYW4gZXhlbXBsYXIgbm9kZSwgdGhlIHdyaXRlXG4gKiAgICAgbWF5IHRha2UgcGxhY2UgYWdhaW5zdCBhbm90aGVyIGluc3RhbmNlIG9mIHRoZSBzYW1lIGNsYXNzIG9mIG5vZGUuXG4gKiBAcGFyYW0gbmFtZSBUaGUgbmFtZSBvZiBhbiBhdHRyaWJ1dGUgb3IgcHJvcGVydHkgKGZvciBleGFtcGxlLCAnaHJlZicpLlxuICogQHBhcmFtIHR5cGUgSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHdyaXRlIHRoYXQncyBhYm91dCB0byBiZSBwZXJmb3JtZWQgd2lsbFxuICogICAgIGJlIHRvIGEgcHJvcGVydHkgb3IgYSBub2RlLlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgd2lsbCBzYW5pdGl6ZSB0aGlzIGNsYXNzIG9mIHdyaXRlcy5cbiAqL1xuZXhwb3J0IHR5cGUgU2FuaXRpemVyRmFjdG9yeSA9IChcbiAgbm9kZTogTm9kZSxcbiAgbmFtZTogc3RyaW5nLFxuICB0eXBlOiAncHJvcGVydHknIHwgJ2F0dHJpYnV0ZSdcbikgPT4gVmFsdWVTYW5pdGl6ZXI7XG5cbi8qKlxuICogQSBmdW5jdGlvbiB3aGljaCBjYW4gc2FuaXRpemUgdmFsdWVzIHRoYXQgd2lsbCBiZSB3cml0dGVuIHRvIGEgc3BlY2lmaWMga2luZFxuICogb2YgRE9NIHNpbmsuXG4gKlxuICogU2VlIFNhbml0aXplckZhY3RvcnkuXG4gKlxuICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byBzYW5pdGl6ZS4gV2lsbCBiZSB0aGUgYWN0dWFsIHZhbHVlIHBhc3NlZCBpbnRvXG4gKiAgICAgdGhlIGxpdC1odG1sIHRlbXBsYXRlIGxpdGVyYWwsIHNvIHRoaXMgY291bGQgYmUgb2YgYW55IHR5cGUuXG4gKiBAcmV0dXJuIFRoZSB2YWx1ZSB0byB3cml0ZSB0byB0aGUgRE9NLiBVc3VhbGx5IHRoZSBzYW1lIGFzIHRoZSBpbnB1dCB2YWx1ZSxcbiAqICAgICB1bmxlc3Mgc2FuaXRpemF0aW9uIGlzIG5lZWRlZC5cbiAqL1xuZXhwb3J0IHR5cGUgVmFsdWVTYW5pdGl6ZXIgPSAodmFsdWU6IHVua25vd24pID0+IHVua25vd247XG5cbmNvbnN0IGlkZW50aXR5RnVuY3Rpb246IFZhbHVlU2FuaXRpemVyID0gKHZhbHVlOiB1bmtub3duKSA9PiB2YWx1ZTtcbmNvbnN0IG5vb3BTYW5pdGl6ZXI6IFNhbml0aXplckZhY3RvcnkgPSAoXG4gIF9ub2RlOiBOb2RlLFxuICBfbmFtZTogc3RyaW5nLFxuICBfdHlwZTogJ3Byb3BlcnR5JyB8ICdhdHRyaWJ1dGUnXG4pID0+IGlkZW50aXR5RnVuY3Rpb247XG5cbi8qKiBTZXRzIHRoZSBnbG9iYWwgc2FuaXRpemVyIGZhY3RvcnkuICovXG5jb25zdCBzZXRTYW5pdGl6ZXIgPSAobmV3U2FuaXRpemVyOiBTYW5pdGl6ZXJGYWN0b3J5KSA9PiB7XG4gIGlmICghRU5BQkxFX0VYVFJBX1NFQ1VSSVRZX0hPT0tTKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChzYW5pdGl6ZXJGYWN0b3J5SW50ZXJuYWwgIT09IG5vb3BTYW5pdGl6ZXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgQXR0ZW1wdGVkIHRvIG92ZXJ3cml0ZSBleGlzdGluZyBsaXQtaHRtbCBzZWN1cml0eSBwb2xpY3kuYCArXG4gICAgICAgIGAgc2V0U2FuaXRpemVET01WYWx1ZUZhY3Rvcnkgc2hvdWxkIGJlIGNhbGxlZCBhdCBtb3N0IG9uY2UuYFxuICAgICk7XG4gIH1cbiAgc2FuaXRpemVyRmFjdG9yeUludGVybmFsID0gbmV3U2FuaXRpemVyO1xufTtcblxuLyoqXG4gKiBPbmx5IHVzZWQgaW4gaW50ZXJuYWwgdGVzdHMsIG5vdCBhIHBhcnQgb2YgdGhlIHB1YmxpYyBBUEkuXG4gKi9cbmNvbnN0IF90ZXN0T25seUNsZWFyU2FuaXRpemVyRmFjdG9yeURvTm90Q2FsbE9yRWxzZSA9ICgpID0+IHtcbiAgc2FuaXRpemVyRmFjdG9yeUludGVybmFsID0gbm9vcFNhbml0aXplcjtcbn07XG5cbmNvbnN0IGNyZWF0ZVNhbml0aXplcjogU2FuaXRpemVyRmFjdG9yeSA9IChub2RlLCBuYW1lLCB0eXBlKSA9PiB7XG4gIHJldHVybiBzYW5pdGl6ZXJGYWN0b3J5SW50ZXJuYWwobm9kZSwgbmFtZSwgdHlwZSk7XG59O1xuXG4vLyBBZGRlZCB0byBhbiBhdHRyaWJ1dGUgbmFtZSB0byBtYXJrIHRoZSBhdHRyaWJ1dGUgYXMgYm91bmQgc28gd2UgY2FuIGZpbmRcbi8vIGl0IGVhc2lseS5cbmNvbnN0IGJvdW5kQXR0cmlidXRlU3VmZml4ID0gJyRsaXQkJztcblxuLy8gVGhpcyBtYXJrZXIgaXMgdXNlZCBpbiBtYW55IHN5bnRhY3RpYyBwb3NpdGlvbnMgaW4gSFRNTCwgc28gaXQgbXVzdCBiZVxuLy8gYSB2YWxpZCBlbGVtZW50IG5hbWUgYW5kIGF0dHJpYnV0ZSBuYW1lLiBXZSBkb24ndCBzdXBwb3J0IGR5bmFtaWMgbmFtZXMgKHlldClcbi8vIGJ1dCB0aGlzIGF0IGxlYXN0IGVuc3VyZXMgdGhhdCB0aGUgcGFyc2UgdHJlZSBpcyBjbG9zZXIgdG8gdGhlIHRlbXBsYXRlXG4vLyBpbnRlbnRpb24uXG5jb25zdCBtYXJrZXIgPSBgbGl0JCR7U3RyaW5nKE1hdGgucmFuZG9tKCkpLnNsaWNlKDkpfSRgO1xuXG4vLyBTdHJpbmcgdXNlZCB0byB0ZWxsIGlmIGEgY29tbWVudCBpcyBhIG1hcmtlciBjb21tZW50XG5jb25zdCBtYXJrZXJNYXRjaCA9ICc/JyArIG1hcmtlcjtcblxuLy8gVGV4dCB1c2VkIHRvIGluc2VydCBhIGNvbW1lbnQgbWFya2VyIG5vZGUuIFdlIHVzZSBwcm9jZXNzaW5nIGluc3RydWN0aW9uXG4vLyBzeW50YXggYmVjYXVzZSBpdCdzIHNsaWdodGx5IHNtYWxsZXIsIGJ1dCBwYXJzZXMgYXMgYSBjb21tZW50IG5vZGUuXG5jb25zdCBub2RlTWFya2VyID0gYDwke21hcmtlck1hdGNofT5gO1xuXG5jb25zdCBkID0gZG9jdW1lbnQ7XG5cbi8vIENyZWF0ZXMgYSBkeW5hbWljIG1hcmtlci4gV2UgbmV2ZXIgaGF2ZSB0byBzZWFyY2ggZm9yIHRoZXNlIGluIHRoZSBET00uXG5jb25zdCBjcmVhdGVNYXJrZXIgPSAodiA9ICcnKSA9PiBkLmNyZWF0ZUNvbW1lbnQodik7XG5cbi8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLXR5cGVvZi1vcGVyYXRvclxudHlwZSBQcmltaXRpdmUgPSBudWxsIHwgdW5kZWZpbmVkIHwgYm9vbGVhbiB8IG51bWJlciB8IHN0cmluZyB8IHN5bWJvbCB8IGJpZ2ludDtcbmNvbnN0IGlzUHJpbWl0aXZlID0gKHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgUHJpbWl0aXZlID0+XG4gIHZhbHVlID09PSBudWxsIHx8ICh0eXBlb2YgdmFsdWUgIT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbHVlICE9ICdmdW5jdGlvbicpO1xuY29uc3QgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5jb25zdCBpc0l0ZXJhYmxlID0gKHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgSXRlcmFibGU8dW5rbm93bj4gPT5cbiAgaXNBcnJheSh2YWx1ZSkgfHxcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgdHlwZW9mICh2YWx1ZSBhcyBhbnkpPy5bU3ltYm9sLml0ZXJhdG9yXSA9PT0gJ2Z1bmN0aW9uJztcblxuY29uc3QgU1BBQ0VfQ0hBUiA9IGBbIFxcdFxcblxcZlxccl1gO1xuY29uc3QgQVRUUl9WQUxVRV9DSEFSID0gYFteIFxcdFxcblxcZlxcclwiJ1xcYDw+PV1gO1xuY29uc3QgTkFNRV9DSEFSID0gYFteXFxcXHNcIic+PS9dYDtcblxuLy8gVGhlc2UgcmVnZXhlcyByZXByZXNlbnQgdGhlIGZpdmUgcGFyc2luZyBzdGF0ZXMgdGhhdCB3ZSBjYXJlIGFib3V0IGluIHRoZVxuLy8gVGVtcGxhdGUncyBIVE1MIHNjYW5uZXIuIFRoZXkgbWF0Y2ggdGhlICplbmQqIG9mIHRoZSBzdGF0ZSB0aGV5J3JlIG5hbWVkXG4vLyBhZnRlci5cbi8vIERlcGVuZGluZyBvbiB0aGUgbWF0Y2gsIHdlIHRyYW5zaXRpb24gdG8gYSBuZXcgc3RhdGUuIElmIHRoZXJlJ3Mgbm8gbWF0Y2gsXG4vLyB3ZSBzdGF5IGluIHRoZSBzYW1lIHN0YXRlLlxuLy8gTm90ZSB0aGF0IHRoZSByZWdleGVzIGFyZSBzdGF0ZWZ1bC4gV2UgdXRpbGl6ZSBsYXN0SW5kZXggYW5kIHN5bmMgaXRcbi8vIGFjcm9zcyB0aGUgbXVsdGlwbGUgcmVnZXhlcyB1c2VkLiBJbiBhZGRpdGlvbiB0byB0aGUgZml2ZSByZWdleGVzIGJlbG93XG4vLyB3ZSBhbHNvIGR5bmFtaWNhbGx5IGNyZWF0ZSBhIHJlZ2V4IHRvIGZpbmQgdGhlIG1hdGNoaW5nIGVuZCB0YWdzIGZvciByYXdcbi8vIHRleHQgZWxlbWVudHMuXG5cbi8qKlxuICogRW5kIG9mIHRleHQgaXM6IGA8YCBmb2xsb3dlZCBieTpcbiAqICAgKGNvbW1lbnQgc3RhcnQpIG9yICh0YWcpIG9yIChkeW5hbWljIHRhZyBiaW5kaW5nKVxuICovXG5jb25zdCB0ZXh0RW5kUmVnZXggPSAvPCg/OighLS18XFwvW15hLXpBLVpdKXwoXFwvP1thLXpBLVpdW14+XFxzXSopfChcXC8/JCkpL2c7XG5jb25zdCBDT01NRU5UX1NUQVJUID0gMTtcbmNvbnN0IFRBR19OQU1FID0gMjtcbmNvbnN0IERZTkFNSUNfVEFHX05BTUUgPSAzO1xuXG5jb25zdCBjb21tZW50RW5kUmVnZXggPSAvLS0+L2c7XG4vKipcbiAqIENvbW1lbnRzIG5vdCBzdGFydGVkIHdpdGggPCEtLSwgbGlrZSA8L3ssIGNhbiBiZSBlbmRlZCBieSBhIHNpbmdsZSBgPmBcbiAqL1xuY29uc3QgY29tbWVudDJFbmRSZWdleCA9IC8+L2c7XG5cbi8qKlxuICogVGhlIHRhZ0VuZCByZWdleCBtYXRjaGVzIHRoZSBlbmQgb2YgdGhlIFwiaW5zaWRlIGFuIG9wZW5pbmdcIiB0YWcgc3ludGF4XG4gKiBwb3NpdGlvbi4gSXQgZWl0aGVyIG1hdGNoZXMgYSBgPmAsIGFuIGF0dHJpYnV0ZS1saWtlIHNlcXVlbmNlLCBvciB0aGUgZW5kXG4gKiBvZiB0aGUgc3RyaW5nIGFmdGVyIGEgc3BhY2UgKGF0dHJpYnV0ZS1uYW1lIHBvc2l0aW9uIGVuZGluZykuXG4gKlxuICogU2VlIGF0dHJpYnV0ZXMgaW4gdGhlIEhUTUwgc3BlYzpcbiAqIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNS9zeW50YXguaHRtbCNlbGVtZW50cy1hdHRyaWJ1dGVzXG4gKlxuICogXCIgXFx0XFxuXFxmXFxyXCIgYXJlIEhUTUwgc3BhY2UgY2hhcmFjdGVyczpcbiAqIGh0dHBzOi8vaW5mcmEuc3BlYy53aGF0d2cub3JnLyNhc2NpaS13aGl0ZXNwYWNlXG4gKlxuICogU28gYW4gYXR0cmlidXRlIGlzOlxuICogICogVGhlIG5hbWU6IGFueSBjaGFyYWN0ZXIgZXhjZXB0IGEgd2hpdGVzcGFjZSBjaGFyYWN0ZXIsIChcIiksICgnKSwgXCI+XCIsXG4gKiAgICBcIj1cIiwgb3IgXCIvXCIuIE5vdGU6IHRoaXMgaXMgZGlmZmVyZW50IGZyb20gdGhlIEhUTUwgc3BlYyB3aGljaCBhbHNvIGV4Y2x1ZGVzIGNvbnRyb2wgY2hhcmFjdGVycy5cbiAqICAqIEZvbGxvd2VkIGJ5IHplcm8gb3IgbW9yZSBzcGFjZSBjaGFyYWN0ZXJzXG4gKiAgKiBGb2xsb3dlZCBieSBcIj1cIlxuICogICogRm9sbG93ZWQgYnkgemVybyBvciBtb3JlIHNwYWNlIGNoYXJhY3RlcnNcbiAqICAqIEZvbGxvd2VkIGJ5OlxuICogICAgKiBBbnkgY2hhcmFjdGVyIGV4Y2VwdCBzcGFjZSwgKCcpLCAoXCIpLCBcIjxcIiwgXCI+XCIsIFwiPVwiLCAoYCksIG9yXG4gKiAgICAqIChcIikgdGhlbiBhbnkgbm9uLShcIiksIG9yXG4gKiAgICAqICgnKSB0aGVuIGFueSBub24tKCcpXG4gKi9cbmNvbnN0IHRhZ0VuZFJlZ2V4ID0gbmV3IFJlZ0V4cChcbiAgYD58JHtTUEFDRV9DSEFSfSg/Oigke05BTUVfQ0hBUn0rKSgke1NQQUNFX0NIQVJ9Kj0ke1NQQUNFX0NIQVJ9Kig/OiR7QVRUUl9WQUxVRV9DSEFSfXwoXCJ8Jyl8KSl8JClgLFxuICAnZydcbik7XG5jb25zdCBFTlRJUkVfTUFUQ0ggPSAwO1xuY29uc3QgQVRUUklCVVRFX05BTUUgPSAxO1xuY29uc3QgU1BBQ0VTX0FORF9FUVVBTFMgPSAyO1xuY29uc3QgUVVPVEVfQ0hBUiA9IDM7XG5cbmNvbnN0IHNpbmdsZVF1b3RlQXR0ckVuZFJlZ2V4ID0gLycvZztcbmNvbnN0IGRvdWJsZVF1b3RlQXR0ckVuZFJlZ2V4ID0gL1wiL2c7XG4vKipcbiAqIE1hdGNoZXMgdGhlIHJhdyB0ZXh0IGVsZW1lbnRzLlxuICpcbiAqIENvbW1lbnRzIGFyZSBub3QgcGFyc2VkIHdpdGhpbiByYXcgdGV4dCBlbGVtZW50cywgc28gd2UgbmVlZCB0byBzZWFyY2ggdGhlaXJcbiAqIHRleHQgY29udGVudCBmb3IgbWFya2VyIHN0cmluZ3MuXG4gKi9cbmNvbnN0IHJhd1RleHRFbGVtZW50ID0gL14oPzpzY3JpcHR8c3R5bGV8dGV4dGFyZWF8dGl0bGUpJC9pO1xuXG4vKiogVGVtcGxhdGVSZXN1bHQgdHlwZXMgKi9cbmNvbnN0IEhUTUxfUkVTVUxUID0gMTtcbmNvbnN0IFNWR19SRVNVTFQgPSAyO1xuXG50eXBlIFJlc3VsdFR5cGUgPSB0eXBlb2YgSFRNTF9SRVNVTFQgfCB0eXBlb2YgU1ZHX1JFU1VMVDtcblxuLy8gVGVtcGxhdGVQYXJ0IHR5cGVzXG4vLyBJTVBPUlRBTlQ6IHRoZXNlIG11c3QgbWF0Y2ggdGhlIHZhbHVlcyBpbiBQYXJ0VHlwZVxuY29uc3QgQVRUUklCVVRFX1BBUlQgPSAxO1xuY29uc3QgQ0hJTERfUEFSVCA9IDI7XG5jb25zdCBQUk9QRVJUWV9QQVJUID0gMztcbmNvbnN0IEJPT0xFQU5fQVRUUklCVVRFX1BBUlQgPSA0O1xuY29uc3QgRVZFTlRfUEFSVCA9IDU7XG5jb25zdCBFTEVNRU5UX1BBUlQgPSA2O1xuY29uc3QgQ09NTUVOVF9QQVJUID0gNztcblxuLyoqXG4gKiBUaGUgcmV0dXJuIHR5cGUgb2YgdGhlIHRlbXBsYXRlIHRhZyBmdW5jdGlvbnMsIHtAbGlua2NvZGUgaHRtbH0gYW5kXG4gKiB7QGxpbmtjb2RlIHN2Z30uXG4gKlxuICogQSBgVGVtcGxhdGVSZXN1bHRgIG9iamVjdCBob2xkcyBhbGwgdGhlIGluZm9ybWF0aW9uIGFib3V0IGEgdGVtcGxhdGVcbiAqIGV4cHJlc3Npb24gcmVxdWlyZWQgdG8gcmVuZGVyIGl0OiB0aGUgdGVtcGxhdGUgc3RyaW5ncywgZXhwcmVzc2lvbiB2YWx1ZXMsXG4gKiBhbmQgdHlwZSBvZiB0ZW1wbGF0ZSAoaHRtbCBvciBzdmcpLlxuICpcbiAqIGBUZW1wbGF0ZVJlc3VsdGAgb2JqZWN0cyBkbyBub3QgY3JlYXRlIGFueSBET00gb24gdGhlaXIgb3duLiBUbyBjcmVhdGUgb3JcbiAqIHVwZGF0ZSBET00geW91IG5lZWQgdG8gcmVuZGVyIHRoZSBgVGVtcGxhdGVSZXN1bHRgLiBTZWVcbiAqIFtSZW5kZXJpbmddKGh0dHBzOi8vbGl0LmRldi9kb2NzL2NvbXBvbmVudHMvcmVuZGVyaW5nKSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKi9cbmV4cG9ydCB0eXBlIFRlbXBsYXRlUmVzdWx0PFQgZXh0ZW5kcyBSZXN1bHRUeXBlID0gUmVzdWx0VHlwZT4gPSB7XG4gIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gIFsnXyRsaXRUeXBlJCddOiBUO1xuICBzdHJpbmdzOiBUZW1wbGF0ZVN0cmluZ3NBcnJheTtcbiAgdmFsdWVzOiB1bmtub3duW107XG59O1xuXG5leHBvcnQgdHlwZSBIVE1MVGVtcGxhdGVSZXN1bHQgPSBUZW1wbGF0ZVJlc3VsdDx0eXBlb2YgSFRNTF9SRVNVTFQ+O1xuXG5leHBvcnQgdHlwZSBTVkdUZW1wbGF0ZVJlc3VsdCA9IFRlbXBsYXRlUmVzdWx0PHR5cGVvZiBTVkdfUkVTVUxUPjtcblxuZXhwb3J0IGludGVyZmFjZSBDb21waWxlZFRlbXBsYXRlUmVzdWx0IHtcbiAgLy8gVGhpcyBpcyBhIGZhY3RvcnkgaW4gb3JkZXIgdG8gbWFrZSB0ZW1wbGF0ZSBpbml0aWFsaXphdGlvbiBsYXp5XG4gIC8vIGFuZCBhbGxvdyBTaGFkeVJlbmRlck9wdGlvbnMgc2NvcGUgdG8gYmUgcGFzc2VkIGluLlxuICAvLyBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICBbJ18kbGl0VHlwZSQnXTogQ29tcGlsZWRUZW1wbGF0ZTtcbiAgdmFsdWVzOiB1bmtub3duW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGlsZWRUZW1wbGF0ZSBleHRlbmRzIE9taXQ8VGVtcGxhdGUsICdlbCc+IHtcbiAgLy8gZWwgaXMgb3ZlcnJpZGRlbiB0byBiZSBvcHRpb25hbC4gV2UgaW5pdGlhbGl6ZSBpdCBvbiBmaXJzdCByZW5kZXJcbiAgZWw/OiBIVE1MVGVtcGxhdGVFbGVtZW50O1xuXG4gIC8vIFRoZSBwcmVwYXJlZCBIVE1MIHN0cmluZyB0byBjcmVhdGUgYSB0ZW1wbGF0ZSBlbGVtZW50IGZyb20uXG4gIGg6IFRydXN0ZWRIVE1MO1xufVxuXG4vKipcbiAqIEdlbmVyYXRlcyBhIHRlbXBsYXRlIGxpdGVyYWwgdGFnIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIFRlbXBsYXRlUmVzdWx0IHdpdGhcbiAqIHRoZSBnaXZlbiByZXN1bHQgdHlwZS5cbiAqL1xuY29uc3QgdGFnID1cbiAgPFQgZXh0ZW5kcyBSZXN1bHRUeXBlPih0eXBlOiBUKSA9PlxuICAoc3RyaW5nczogVGVtcGxhdGVTdHJpbmdzQXJyYXksIC4uLnZhbHVlczogdW5rbm93bltdKTogVGVtcGxhdGVSZXN1bHQ8VD4gPT4ge1xuICAgIC8vIFdhcm4gYWdhaW5zdCB0ZW1wbGF0ZXMgb2N0YWwgZXNjYXBlIHNlcXVlbmNlc1xuICAgIC8vIFdlIGRvIHRoaXMgaGVyZSByYXRoZXIgdGhhbiBpbiByZW5kZXIgc28gdGhhdCB0aGUgd2FybmluZyBpcyBjbG9zZXIgdG8gdGhlXG4gICAgLy8gdGVtcGxhdGUgZGVmaW5pdGlvbi5cbiAgICBpZiAoREVWX01PREUgJiYgc3RyaW5ncy5zb21lKChzKSA9PiBzID09PSB1bmRlZmluZWQpKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdTb21lIHRlbXBsYXRlIHN0cmluZ3MgYXJlIHVuZGVmaW5lZC5cXG4nICtcbiAgICAgICAgICAnVGhpcyBpcyBwcm9iYWJseSBjYXVzZWQgYnkgaWxsZWdhbCBvY3RhbCBlc2NhcGUgc2VxdWVuY2VzLidcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAvLyBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICAgICAgWydfJGxpdFR5cGUkJ106IHR5cGUsXG4gICAgICBzdHJpbmdzLFxuICAgICAgdmFsdWVzLFxuICAgIH07XG4gIH07XG5cbi8qKlxuICogSW50ZXJwcmV0cyBhIHRlbXBsYXRlIGxpdGVyYWwgYXMgYW4gSFRNTCB0ZW1wbGF0ZSB0aGF0IGNhbiBlZmZpY2llbnRseVxuICogcmVuZGVyIHRvIGFuZCB1cGRhdGUgYSBjb250YWluZXIuXG4gKlxuICogYGBgdHNcbiAqIGNvbnN0IGhlYWRlciA9ICh0aXRsZTogc3RyaW5nKSA9PiBodG1sYDxoMT4ke3RpdGxlfTwvaDE+YDtcbiAqIGBgYFxuICpcbiAqIFRoZSBgaHRtbGAgdGFnIHJldHVybnMgYSBkZXNjcmlwdGlvbiBvZiB0aGUgRE9NIHRvIHJlbmRlciBhcyBhIHZhbHVlLiBJdCBpc1xuICogbGF6eSwgbWVhbmluZyBubyB3b3JrIGlzIGRvbmUgdW50aWwgdGhlIHRlbXBsYXRlIGlzIHJlbmRlcmVkLiBXaGVuIHJlbmRlcmluZyxcbiAqIGlmIGEgdGVtcGxhdGUgY29tZXMgZnJvbSB0aGUgc2FtZSBleHByZXNzaW9uIGFzIGEgcHJldmlvdXNseSByZW5kZXJlZCByZXN1bHQsXG4gKiBpdCdzIGVmZmljaWVudGx5IHVwZGF0ZWQgaW5zdGVhZCBvZiByZXBsYWNlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IGh0bWwgPSB0YWcoSFRNTF9SRVNVTFQpO1xuXG4vKipcbiAqIEludGVycHJldHMgYSB0ZW1wbGF0ZSBsaXRlcmFsIGFzIGFuIFNWRyBmcmFnbWVudCB0aGF0IGNhbiBlZmZpY2llbnRseVxuICogcmVuZGVyIHRvIGFuZCB1cGRhdGUgYSBjb250YWluZXIuXG4gKlxuICogYGBgdHNcbiAqIGNvbnN0IHJlY3QgPSBzdmdgPHJlY3Qgd2lkdGg9XCIxMFwiIGhlaWdodD1cIjEwXCI+PC9yZWN0PmA7XG4gKlxuICogY29uc3QgbXlJbWFnZSA9IGh0bWxgXG4gKiAgIDxzdmcgdmlld0JveD1cIjAgMCAxMCAxMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj5cbiAqICAgICAke3JlY3R9XG4gKiAgIDwvc3ZnPmA7XG4gKiBgYGBcbiAqXG4gKiBUaGUgYHN2Z2AgKnRhZyBmdW5jdGlvbiogc2hvdWxkIG9ubHkgYmUgdXNlZCBmb3IgU1ZHIGZyYWdtZW50cywgb3IgZWxlbWVudHNcbiAqIHRoYXQgd291bGQgYmUgY29udGFpbmVkICoqaW5zaWRlKiogYW4gYDxzdmc+YCBIVE1MIGVsZW1lbnQuIEEgY29tbW9uIGVycm9yIGlzXG4gKiBwbGFjaW5nIGFuIGA8c3ZnPmAgKmVsZW1lbnQqIGluIGEgdGVtcGxhdGUgdGFnZ2VkIHdpdGggdGhlIGBzdmdgIHRhZ1xuICogZnVuY3Rpb24uIFRoZSBgPHN2Zz5gIGVsZW1lbnQgaXMgYW4gSFRNTCBlbGVtZW50IGFuZCBzaG91bGQgYmUgdXNlZCB3aXRoaW4gYVxuICogdGVtcGxhdGUgdGFnZ2VkIHdpdGggdGhlIHtAbGlua2NvZGUgaHRtbH0gdGFnIGZ1bmN0aW9uLlxuICpcbiAqIEluIExpdEVsZW1lbnQgdXNhZ2UsIGl0J3MgaW52YWxpZCB0byByZXR1cm4gYW4gU1ZHIGZyYWdtZW50IGZyb20gdGhlXG4gKiBgcmVuZGVyKClgIG1ldGhvZCwgYXMgdGhlIFNWRyBmcmFnbWVudCB3aWxsIGJlIGNvbnRhaW5lZCB3aXRoaW4gdGhlIGVsZW1lbnQnc1xuICogc2hhZG93IHJvb3QgYW5kIHRodXMgY2Fubm90IGJlIHVzZWQgd2l0aGluIGFuIGA8c3ZnPmAgSFRNTCBlbGVtZW50LlxuICovXG5leHBvcnQgY29uc3Qgc3ZnID0gdGFnKFNWR19SRVNVTFQpO1xuXG4vKipcbiAqIEEgc2VudGluZWwgdmFsdWUgdGhhdCBzaWduYWxzIHRoYXQgYSB2YWx1ZSB3YXMgaGFuZGxlZCBieSBhIGRpcmVjdGl2ZSBhbmRcbiAqIHNob3VsZCBub3QgYmUgd3JpdHRlbiB0byB0aGUgRE9NLlxuICovXG5leHBvcnQgY29uc3Qgbm9DaGFuZ2UgPSBTeW1ib2wuZm9yKCdsaXQtbm9DaGFuZ2UnKTtcblxuLyoqXG4gKiBBIHNlbnRpbmVsIHZhbHVlIHRoYXQgc2lnbmFscyBhIENoaWxkUGFydCB0byBmdWxseSBjbGVhciBpdHMgY29udGVudC5cbiAqXG4gKiBgYGB0c1xuICogY29uc3QgYnV0dG9uID0gaHRtbGAke1xuICogIHVzZXIuaXNBZG1pblxuICogICAgPyBodG1sYDxidXR0b24+REVMRVRFPC9idXR0b24+YFxuICogICAgOiBub3RoaW5nXG4gKiB9YDtcbiAqIGBgYFxuICpcbiAqIFByZWZlciB1c2luZyBgbm90aGluZ2Agb3ZlciBvdGhlciBmYWxzeSB2YWx1ZXMgYXMgaXQgcHJvdmlkZXMgYSBjb25zaXN0ZW50XG4gKiBiZWhhdmlvciBiZXR3ZWVuIHZhcmlvdXMgZXhwcmVzc2lvbiBiaW5kaW5nIGNvbnRleHRzLlxuICpcbiAqIEluIGNoaWxkIGV4cHJlc3Npb25zLCBgdW5kZWZpbmVkYCwgYG51bGxgLCBgJydgLCBhbmQgYG5vdGhpbmdgIGFsbCBiZWhhdmUgdGhlXG4gKiBzYW1lIGFuZCByZW5kZXIgbm8gbm9kZXMuIEluIGF0dHJpYnV0ZSBleHByZXNzaW9ucywgYG5vdGhpbmdgIF9yZW1vdmVzXyB0aGVcbiAqIGF0dHJpYnV0ZSwgd2hpbGUgYHVuZGVmaW5lZGAgYW5kIGBudWxsYCB3aWxsIHJlbmRlciBhbiBlbXB0eSBzdHJpbmcuIEluXG4gKiBwcm9wZXJ0eSBleHByZXNzaW9ucyBgbm90aGluZ2AgYmVjb21lcyBgdW5kZWZpbmVkYC5cbiAqL1xuZXhwb3J0IGNvbnN0IG5vdGhpbmcgPSBTeW1ib2wuZm9yKCdsaXQtbm90aGluZycpO1xuXG4vKipcbiAqIFRoZSBjYWNoZSBvZiBwcmVwYXJlZCB0ZW1wbGF0ZXMsIGtleWVkIGJ5IHRoZSB0YWdnZWQgVGVtcGxhdGVTdHJpbmdzQXJyYXlcbiAqIGFuZCBfbm90XyBhY2NvdW50aW5nIGZvciB0aGUgc3BlY2lmaWMgdGVtcGxhdGUgdGFnIHVzZWQuIFRoaXMgbWVhbnMgdGhhdFxuICogdGVtcGxhdGUgdGFncyBjYW5ub3QgYmUgZHluYW1pYyAtIHRoZSBtdXN0IHN0YXRpY2FsbHkgYmUgb25lIG9mIGh0bWwsIHN2ZyxcbiAqIG9yIGF0dHIuIFRoaXMgcmVzdHJpY3Rpb24gc2ltcGxpZmllcyB0aGUgY2FjaGUgbG9va3VwLCB3aGljaCBpcyBvbiB0aGUgaG90XG4gKiBwYXRoIGZvciByZW5kZXJpbmcuXG4gKi9cbmNvbnN0IHRlbXBsYXRlQ2FjaGUgPSBuZXcgV2Vha01hcDxUZW1wbGF0ZVN0cmluZ3NBcnJheSwgVGVtcGxhdGU+KCk7XG5cbi8qKlxuICogT2JqZWN0IHNwZWNpZnlpbmcgb3B0aW9ucyBmb3IgY29udHJvbGxpbmcgbGl0LWh0bWwgcmVuZGVyaW5nLiBOb3RlIHRoYXRcbiAqIHdoaWxlIGByZW5kZXJgIG1heSBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMgb24gdGhlIHNhbWUgYGNvbnRhaW5lcmAgKGFuZFxuICogYHJlbmRlckJlZm9yZWAgcmVmZXJlbmNlIG5vZGUpIHRvIGVmZmljaWVudGx5IHVwZGF0ZSB0aGUgcmVuZGVyZWQgY29udGVudCxcbiAqIG9ubHkgdGhlIG9wdGlvbnMgcGFzc2VkIGluIGR1cmluZyB0aGUgZmlyc3QgcmVuZGVyIGFyZSByZXNwZWN0ZWQgZHVyaW5nXG4gKiB0aGUgbGlmZXRpbWUgb2YgcmVuZGVycyB0byB0aGF0IHVuaXF1ZSBgY29udGFpbmVyYCArIGByZW5kZXJCZWZvcmVgXG4gKiBjb21iaW5hdGlvbi5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZW5kZXJPcHRpb25zIHtcbiAgLyoqXG4gICAqIEFuIG9iamVjdCB0byB1c2UgYXMgdGhlIGB0aGlzYCB2YWx1ZSBmb3IgZXZlbnQgbGlzdGVuZXJzLiBJdCdzIG9mdGVuXG4gICAqIHVzZWZ1bCB0byBzZXQgdGhpcyB0byB0aGUgaG9zdCBjb21wb25lbnQgcmVuZGVyaW5nIGEgdGVtcGxhdGUuXG4gICAqL1xuICBob3N0Pzogb2JqZWN0O1xuICAvKipcbiAgICogQSBET00gbm9kZSBiZWZvcmUgd2hpY2ggdG8gcmVuZGVyIGNvbnRlbnQgaW4gdGhlIGNvbnRhaW5lci5cbiAgICovXG4gIHJlbmRlckJlZm9yZT86IENoaWxkTm9kZSB8IG51bGw7XG4gIC8qKlxuICAgKiBOb2RlIHVzZWQgZm9yIGNsb25pbmcgdGhlIHRlbXBsYXRlIChgaW1wb3J0Tm9kZWAgd2lsbCBiZSBjYWxsZWQgb24gdGhpc1xuICAgKiBub2RlKS4gVGhpcyBjb250cm9scyB0aGUgYG93bmVyRG9jdW1lbnRgIG9mIHRoZSByZW5kZXJlZCBET00sIGFsb25nIHdpdGhcbiAgICogYW55IGluaGVyaXRlZCBjb250ZXh0LiBEZWZhdWx0cyB0byB0aGUgZ2xvYmFsIGBkb2N1bWVudGAuXG4gICAqL1xuICBjcmVhdGlvblNjb3BlPzoge2ltcG9ydE5vZGUobm9kZTogTm9kZSwgZGVlcD86IGJvb2xlYW4pOiBOb2RlfTtcbiAgLyoqXG4gICAqIFRoZSBpbml0aWFsIGNvbm5lY3RlZCBzdGF0ZSBmb3IgdGhlIHRvcC1sZXZlbCBwYXJ0IGJlaW5nIHJlbmRlcmVkLiBJZiBub1xuICAgKiBgaXNDb25uZWN0ZWRgIG9wdGlvbiBpcyBzZXQsIGBBc3luY0RpcmVjdGl2ZWBzIHdpbGwgYmUgY29ubmVjdGVkIGJ5XG4gICAqIGRlZmF1bHQuIFNldCB0byBgZmFsc2VgIGlmIHRoZSBpbml0aWFsIHJlbmRlciBvY2N1cnMgaW4gYSBkaXNjb25uZWN0ZWQgdHJlZVxuICAgKiBhbmQgYEFzeW5jRGlyZWN0aXZlYHMgc2hvdWxkIHNlZSBgaXNDb25uZWN0ZWQgPT09IGZhbHNlYCBmb3IgdGhlaXIgaW5pdGlhbFxuICAgKiByZW5kZXIuIFRoZSBgcGFydC5zZXRDb25uZWN0ZWQoKWAgbWV0aG9kIG11c3QgYmUgdXNlZCBzdWJzZXF1ZW50IHRvIGluaXRpYWxcbiAgICogcmVuZGVyIHRvIGNoYW5nZSB0aGUgY29ubmVjdGVkIHN0YXRlIG9mIHRoZSBwYXJ0LlxuICAgKi9cbiAgaXNDb25uZWN0ZWQ/OiBib29sZWFuO1xufVxuXG4vKipcbiAqIFJlbmRlcnMgYSB2YWx1ZSwgdXN1YWxseSBhIGxpdC1odG1sIFRlbXBsYXRlUmVzdWx0LCB0byB0aGUgY29udGFpbmVyLlxuICpcbiAqIFRoaXMgZXhhbXBsZSByZW5kZXJzIHRoZSB0ZXh0IFwiSGVsbG8sIFpvZSFcIiBpbnNpZGUgYSBwYXJhZ3JhcGggdGFnLCBhcHBlbmRpbmdcbiAqIGl0IHRvIHRoZSBjb250YWluZXIgYGRvY3VtZW50LmJvZHlgLlxuICpcbiAqIGBgYGpzXG4gKiBpbXBvcnQge2h0bWwsIHJlbmRlcn0gZnJvbSAnbGl0JztcbiAqXG4gKiBjb25zdCBuYW1lID0gXCJab2VcIjtcbiAqIHJlbmRlcihodG1sYDxwPkhlbGxvLCAke25hbWV9ITwvcD5gLCBkb2N1bWVudC5ib2R5KTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB2YWx1ZSBBbnkgW3JlbmRlcmFibGVcbiAqICAgdmFsdWVdKGh0dHBzOi8vbGl0LmRldi9kb2NzL3RlbXBsYXRlcy9leHByZXNzaW9ucy8jY2hpbGQtZXhwcmVzc2lvbnMpLFxuICogICB0eXBpY2FsbHkgYSB7QGxpbmtjb2RlIFRlbXBsYXRlUmVzdWx0fSBjcmVhdGVkIGJ5IGV2YWx1YXRpbmcgYSB0ZW1wbGF0ZSB0YWdcbiAqICAgbGlrZSB7QGxpbmtjb2RlIGh0bWx9IG9yIHtAbGlua2NvZGUgc3ZnfS5cbiAqIEBwYXJhbSBjb250YWluZXIgQSBET00gY29udGFpbmVyIHRvIHJlbmRlciB0by4gVGhlIGZpcnN0IHJlbmRlciB3aWxsIGFwcGVuZFxuICogICB0aGUgcmVuZGVyZWQgdmFsdWUgdG8gdGhlIGNvbnRhaW5lciwgYW5kIHN1YnNlcXVlbnQgcmVuZGVycyB3aWxsXG4gKiAgIGVmZmljaWVudGx5IHVwZGF0ZSB0aGUgcmVuZGVyZWQgdmFsdWUgaWYgdGhlIHNhbWUgcmVzdWx0IHR5cGUgd2FzXG4gKiAgIHByZXZpb3VzbHkgcmVuZGVyZWQgdGhlcmUuXG4gKiBAcGFyYW0gb3B0aW9ucyBTZWUge0BsaW5rY29kZSBSZW5kZXJPcHRpb25zfSBmb3Igb3B0aW9ucyBkb2N1bWVudGF0aW9uLlxuICogQHNlZVxuICoge0BsaW5rIGh0dHBzOi8vbGl0LmRldi9kb2NzL2xpYnJhcmllcy9zdGFuZGFsb25lLXRlbXBsYXRlcy8jcmVuZGVyaW5nLWxpdC1odG1sLXRlbXBsYXRlc3wgUmVuZGVyaW5nIExpdCBIVE1MIFRlbXBsYXRlc31cbiAqL1xuZXhwb3J0IGNvbnN0IHJlbmRlciA9IChcbiAgdmFsdWU6IHVua25vd24sXG4gIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQgfCBEb2N1bWVudEZyYWdtZW50LFxuICBvcHRpb25zPzogUmVuZGVyT3B0aW9uc1xuKTogUm9vdFBhcnQgPT4ge1xuICBpZiAoREVWX01PREUgJiYgY29udGFpbmVyID09IG51bGwpIHtcbiAgICAvLyBHaXZlIGEgY2xlYXJlciBlcnJvciBtZXNzYWdlIHRoYW5cbiAgICAvLyAgICAgVW5jYXVnaHQgVHlwZUVycm9yOiBDYW5ub3QgcmVhZCBwcm9wZXJ0aWVzIG9mIG51bGwgKHJlYWRpbmdcbiAgICAvLyAgICAgJ18kbGl0UGFydCQnKVxuICAgIC8vIHdoaWNoIHJlYWRzIGxpa2UgYW4gaW50ZXJuYWwgTGl0IGVycm9yLlxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFRoZSBjb250YWluZXIgdG8gcmVuZGVyIGludG8gbWF5IG5vdCBiZSAke2NvbnRhaW5lcn1gKTtcbiAgfVxuICBjb25zdCByZW5kZXJJZCA9IERFVl9NT0RFID8gZGVidWdMb2dSZW5kZXJJZCsrIDogMDtcbiAgY29uc3QgcGFydE93bmVyTm9kZSA9IG9wdGlvbnM/LnJlbmRlckJlZm9yZSA/PyBjb250YWluZXI7XG4gIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gIGxldCBwYXJ0OiBDaGlsZFBhcnQgPSAocGFydE93bmVyTm9kZSBhcyBhbnkpWydfJGxpdFBhcnQkJ107XG4gIGRlYnVnTG9nRXZlbnQ/Lih7XG4gICAga2luZDogJ2JlZ2luIHJlbmRlcicsXG4gICAgaWQ6IHJlbmRlcklkLFxuICAgIHZhbHVlLFxuICAgIGNvbnRhaW5lcixcbiAgICBvcHRpb25zLFxuICAgIHBhcnQsXG4gIH0pO1xuICBpZiAocGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY29uc3QgZW5kTm9kZSA9IG9wdGlvbnM/LnJlbmRlckJlZm9yZSA/PyBudWxsO1xuICAgIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAocGFydE93bmVyTm9kZSBhcyBhbnkpWydfJGxpdFBhcnQkJ10gPSBwYXJ0ID0gbmV3IENoaWxkUGFydChcbiAgICAgIGNvbnRhaW5lci5pbnNlcnRCZWZvcmUoY3JlYXRlTWFya2VyKCksIGVuZE5vZGUpLFxuICAgICAgZW5kTm9kZSxcbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgIG9wdGlvbnMgPz8ge31cbiAgICApO1xuICB9XG4gIHBhcnQuXyRzZXRWYWx1ZSh2YWx1ZSk7XG4gIGRlYnVnTG9nRXZlbnQ/Lih7XG4gICAga2luZDogJ2VuZCByZW5kZXInLFxuICAgIGlkOiByZW5kZXJJZCxcbiAgICB2YWx1ZSxcbiAgICBjb250YWluZXIsXG4gICAgb3B0aW9ucyxcbiAgICBwYXJ0LFxuICB9KTtcbiAgcmV0dXJuIHBhcnQgYXMgUm9vdFBhcnQ7XG59O1xuXG5pZiAoRU5BQkxFX0VYVFJBX1NFQ1VSSVRZX0hPT0tTKSB7XG4gIHJlbmRlci5zZXRTYW5pdGl6ZXIgPSBzZXRTYW5pdGl6ZXI7XG4gIHJlbmRlci5jcmVhdGVTYW5pdGl6ZXIgPSBjcmVhdGVTYW5pdGl6ZXI7XG4gIGlmIChERVZfTU9ERSkge1xuICAgIHJlbmRlci5fdGVzdE9ubHlDbGVhclNhbml0aXplckZhY3RvcnlEb05vdENhbGxPckVsc2UgPVxuICAgICAgX3Rlc3RPbmx5Q2xlYXJTYW5pdGl6ZXJGYWN0b3J5RG9Ob3RDYWxsT3JFbHNlO1xuICB9XG59XG5cbmNvbnN0IHdhbGtlciA9IGQuY3JlYXRlVHJlZVdhbGtlcihcbiAgZCxcbiAgMTI5IC8qIE5vZGVGaWx0ZXIuU0hPV197RUxFTUVOVHxDT01NRU5UfSAqLyxcbiAgbnVsbCxcbiAgZmFsc2Vcbik7XG5cbmxldCBzYW5pdGl6ZXJGYWN0b3J5SW50ZXJuYWw6IFNhbml0aXplckZhY3RvcnkgPSBub29wU2FuaXRpemVyO1xuXG4vL1xuLy8gQ2xhc3NlcyBvbmx5IGJlbG93IGhlcmUsIGNvbnN0IHZhcmlhYmxlIGRlY2xhcmF0aW9ucyBvbmx5IGFib3ZlIGhlcmUuLi5cbi8vXG4vLyBLZWVwaW5nIHZhcmlhYmxlIGRlY2xhcmF0aW9ucyBhbmQgY2xhc3NlcyB0b2dldGhlciBpbXByb3ZlcyBtaW5pZmljYXRpb24uXG4vLyBJbnRlcmZhY2VzIGFuZCB0eXBlIGFsaWFzZXMgY2FuIGJlIGludGVybGVhdmVkIGZyZWVseS5cbi8vXG5cbi8vIFR5cGUgZm9yIGNsYXNzZXMgdGhhdCBoYXZlIGEgYF9kaXJlY3RpdmVgIG9yIGBfZGlyZWN0aXZlc1tdYCBmaWVsZCwgdXNlZCBieVxuLy8gYHJlc29sdmVEaXJlY3RpdmVgXG5leHBvcnQgaW50ZXJmYWNlIERpcmVjdGl2ZVBhcmVudCB7XG4gIF8kcGFyZW50PzogRGlyZWN0aXZlUGFyZW50O1xuICBfJGlzQ29ubmVjdGVkOiBib29sZWFuO1xuICBfX2RpcmVjdGl2ZT86IERpcmVjdGl2ZTtcbiAgX19kaXJlY3RpdmVzPzogQXJyYXk8RGlyZWN0aXZlIHwgdW5kZWZpbmVkPjtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGFuIEhUTUwgc3RyaW5nIGZvciB0aGUgZ2l2ZW4gVGVtcGxhdGVTdHJpbmdzQXJyYXkgYW5kIHJlc3VsdCB0eXBlXG4gKiAoSFRNTCBvciBTVkcpLCBhbG9uZyB3aXRoIHRoZSBjYXNlLXNlbnNpdGl2ZSBib3VuZCBhdHRyaWJ1dGUgbmFtZXMgaW5cbiAqIHRlbXBsYXRlIG9yZGVyLiBUaGUgSFRNTCBjb250YWlucyBjb21tZW50IGNvbW1lbnQgbWFya2VycyBkZW5vdGluZyB0aGVcbiAqIGBDaGlsZFBhcnRgcyBhbmQgc3VmZml4ZXMgb24gYm91bmQgYXR0cmlidXRlcyBkZW5vdGluZyB0aGUgYEF0dHJpYnV0ZVBhcnRzYC5cbiAqXG4gKiBAcGFyYW0gc3RyaW5ncyB0ZW1wbGF0ZSBzdHJpbmdzIGFycmF5XG4gKiBAcGFyYW0gdHlwZSBIVE1MIG9yIFNWR1xuICogQHJldHVybiBBcnJheSBjb250YWluaW5nIGBbaHRtbCwgYXR0ck5hbWVzXWAgKGFycmF5IHJldHVybmVkIGZvciB0ZXJzZW5lc3MsXG4gKiAgICAgdG8gYXZvaWQgb2JqZWN0IGZpZWxkcyBzaW5jZSB0aGlzIGNvZGUgaXMgc2hhcmVkIHdpdGggbm9uLW1pbmlmaWVkIFNTUlxuICogICAgIGNvZGUpXG4gKi9cbmNvbnN0IGdldFRlbXBsYXRlSHRtbCA9IChcbiAgc3RyaW5nczogVGVtcGxhdGVTdHJpbmdzQXJyYXksXG4gIHR5cGU6IFJlc3VsdFR5cGVcbik6IFtUcnVzdGVkSFRNTCwgQXJyYXk8c3RyaW5nIHwgdW5kZWZpbmVkPl0gPT4ge1xuICAvLyBJbnNlcnQgbWFrZXJzIGludG8gdGhlIHRlbXBsYXRlIEhUTUwgdG8gcmVwcmVzZW50IHRoZSBwb3NpdGlvbiBvZlxuICAvLyBiaW5kaW5ncy4gVGhlIGZvbGxvd2luZyBjb2RlIHNjYW5zIHRoZSB0ZW1wbGF0ZSBzdHJpbmdzIHRvIGRldGVybWluZSB0aGVcbiAgLy8gc3ludGFjdGljIHBvc2l0aW9uIG9mIHRoZSBiaW5kaW5ncy4gVGhleSBjYW4gYmUgaW4gdGV4dCBwb3NpdGlvbiwgd2hlcmVcbiAgLy8gd2UgaW5zZXJ0IGFuIEhUTUwgY29tbWVudCwgYXR0cmlidXRlIHZhbHVlIHBvc2l0aW9uLCB3aGVyZSB3ZSBpbnNlcnQgYVxuICAvLyBzZW50aW5lbCBzdHJpbmcgYW5kIHJlLXdyaXRlIHRoZSBhdHRyaWJ1dGUgbmFtZSwgb3IgaW5zaWRlIGEgdGFnIHdoZXJlXG4gIC8vIHdlIGluc2VydCB0aGUgc2VudGluZWwgc3RyaW5nLlxuICBjb25zdCBsID0gc3RyaW5ncy5sZW5ndGggLSAxO1xuICAvLyBTdG9yZXMgdGhlIGNhc2Utc2Vuc2l0aXZlIGJvdW5kIGF0dHJpYnV0ZSBuYW1lcyBpbiB0aGUgb3JkZXIgb2YgdGhlaXJcbiAgLy8gcGFydHMuIEVsZW1lbnRQYXJ0cyBhcmUgYWxzbyByZWZsZWN0ZWQgaW4gdGhpcyBhcnJheSBhcyB1bmRlZmluZWRcbiAgLy8gcmF0aGVyIHRoYW4gYSBzdHJpbmcsIHRvIGRpc2FtYmlndWF0ZSBmcm9tIGF0dHJpYnV0ZSBiaW5kaW5ncy5cbiAgY29uc3QgYXR0ck5hbWVzOiBBcnJheTxzdHJpbmcgfCB1bmRlZmluZWQ+ID0gW107XG4gIGxldCBodG1sID0gdHlwZSA9PT0gU1ZHX1JFU1VMVCA/ICc8c3ZnPicgOiAnJztcblxuICAvLyBXaGVuIHdlJ3JlIGluc2lkZSBhIHJhdyB0ZXh0IHRhZyAobm90IGl0J3MgdGV4dCBjb250ZW50KSwgdGhlIHJlZ2V4XG4gIC8vIHdpbGwgc3RpbGwgYmUgdGFnUmVnZXggc28gd2UgY2FuIGZpbmQgYXR0cmlidXRlcywgYnV0IHdpbGwgc3dpdGNoIHRvXG4gIC8vIHRoaXMgcmVnZXggd2hlbiB0aGUgdGFnIGVuZHMuXG4gIGxldCByYXdUZXh0RW5kUmVnZXg6IFJlZ0V4cCB8IHVuZGVmaW5lZDtcblxuICAvLyBUaGUgY3VycmVudCBwYXJzaW5nIHN0YXRlLCByZXByZXNlbnRlZCBhcyBhIHJlZmVyZW5jZSB0byBvbmUgb2YgdGhlXG4gIC8vIHJlZ2V4ZXNcbiAgbGV0IHJlZ2V4ID0gdGV4dEVuZFJlZ2V4O1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgY29uc3QgcyA9IHN0cmluZ3NbaV07XG4gICAgLy8gVGhlIGluZGV4IG9mIHRoZSBlbmQgb2YgdGhlIGxhc3QgYXR0cmlidXRlIG5hbWUuIFdoZW4gdGhpcyBpc1xuICAgIC8vIHBvc2l0aXZlIGF0IGVuZCBvZiBhIHN0cmluZywgaXQgbWVhbnMgd2UncmUgaW4gYW4gYXR0cmlidXRlIHZhbHVlXG4gICAgLy8gcG9zaXRpb24gYW5kIG5lZWQgdG8gcmV3cml0ZSB0aGUgYXR0cmlidXRlIG5hbWUuXG4gICAgLy8gV2UgYWxzbyB1c2UgYSBzcGVjaWFsIHZhbHVlIG9mIC0yIHRvIGluZGljYXRlIHRoYXQgd2UgZW5jb3VudGVyZWRcbiAgICAvLyB0aGUgZW5kIG9mIGEgc3RyaW5nIGluIGF0dHJpYnV0ZSBuYW1lIHBvc2l0aW9uLlxuICAgIGxldCBhdHRyTmFtZUVuZEluZGV4ID0gLTE7XG4gICAgbGV0IGF0dHJOYW1lOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgbGV0IGxhc3RJbmRleCA9IDA7XG4gICAgbGV0IG1hdGNoITogUmVnRXhwRXhlY0FycmF5IHwgbnVsbDtcblxuICAgIC8vIFRoZSBjb25kaXRpb25zIGluIHRoaXMgbG9vcCBoYW5kbGUgdGhlIGN1cnJlbnQgcGFyc2Ugc3RhdGUsIGFuZCB0aGVcbiAgICAvLyBhc3NpZ25tZW50cyB0byB0aGUgYHJlZ2V4YCB2YXJpYWJsZSBhcmUgdGhlIHN0YXRlIHRyYW5zaXRpb25zLlxuICAgIHdoaWxlIChsYXN0SW5kZXggPCBzLmxlbmd0aCkge1xuICAgICAgLy8gTWFrZSBzdXJlIHdlIHN0YXJ0IHNlYXJjaGluZyBmcm9tIHdoZXJlIHdlIHByZXZpb3VzbHkgbGVmdCBvZmZcbiAgICAgIHJlZ2V4Lmxhc3RJbmRleCA9IGxhc3RJbmRleDtcbiAgICAgIG1hdGNoID0gcmVnZXguZXhlYyhzKTtcbiAgICAgIGlmIChtYXRjaCA9PT0gbnVsbCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGxhc3RJbmRleCA9IHJlZ2V4Lmxhc3RJbmRleDtcbiAgICAgIGlmIChyZWdleCA9PT0gdGV4dEVuZFJlZ2V4KSB7XG4gICAgICAgIGlmIChtYXRjaFtDT01NRU5UX1NUQVJUXSA9PT0gJyEtLScpIHtcbiAgICAgICAgICByZWdleCA9IGNvbW1lbnRFbmRSZWdleDtcbiAgICAgICAgfSBlbHNlIGlmIChtYXRjaFtDT01NRU5UX1NUQVJUXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgLy8gV2Ugc3RhcnRlZCBhIHdlaXJkIGNvbW1lbnQsIGxpa2UgPC97XG4gICAgICAgICAgcmVnZXggPSBjb21tZW50MkVuZFJlZ2V4O1xuICAgICAgICB9IGVsc2UgaWYgKG1hdGNoW1RBR19OQU1FXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKHJhd1RleHRFbGVtZW50LnRlc3QobWF0Y2hbVEFHX05BTUVdKSkge1xuICAgICAgICAgICAgLy8gUmVjb3JkIGlmIHdlIGVuY291bnRlciBhIHJhdy10ZXh0IGVsZW1lbnQuIFdlJ2xsIHN3aXRjaCB0b1xuICAgICAgICAgICAgLy8gdGhpcyByZWdleCBhdCB0aGUgZW5kIG9mIHRoZSB0YWcuXG4gICAgICAgICAgICByYXdUZXh0RW5kUmVnZXggPSBuZXcgUmVnRXhwKGA8LyR7bWF0Y2hbVEFHX05BTUVdfWAsICdnJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlZ2V4ID0gdGFnRW5kUmVnZXg7XG4gICAgICAgIH0gZWxzZSBpZiAobWF0Y2hbRFlOQU1JQ19UQUdfTkFNRV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmIChERVZfTU9ERSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAnQmluZGluZ3MgaW4gdGFnIG5hbWVzIGFyZSBub3Qgc3VwcG9ydGVkLiBQbGVhc2UgdXNlIHN0YXRpYyB0ZW1wbGF0ZXMgaW5zdGVhZC4gJyArXG4gICAgICAgICAgICAgICAgJ1NlZSBodHRwczovL2xpdC5kZXYvZG9jcy90ZW1wbGF0ZXMvZXhwcmVzc2lvbnMvI3N0YXRpYy1leHByZXNzaW9ucydcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlZ2V4ID0gdGFnRW5kUmVnZXg7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocmVnZXggPT09IHRhZ0VuZFJlZ2V4KSB7XG4gICAgICAgIGlmIChtYXRjaFtFTlRJUkVfTUFUQ0hdID09PSAnPicpIHtcbiAgICAgICAgICAvLyBFbmQgb2YgYSB0YWcuIElmIHdlIGhhZCBzdGFydGVkIGEgcmF3LXRleHQgZWxlbWVudCwgdXNlIHRoYXRcbiAgICAgICAgICAvLyByZWdleFxuICAgICAgICAgIHJlZ2V4ID0gcmF3VGV4dEVuZFJlZ2V4ID8/IHRleHRFbmRSZWdleDtcbiAgICAgICAgICAvLyBXZSBtYXkgYmUgZW5kaW5nIGFuIHVucXVvdGVkIGF0dHJpYnV0ZSB2YWx1ZSwgc28gbWFrZSBzdXJlIHdlXG4gICAgICAgICAgLy8gY2xlYXIgYW55IHBlbmRpbmcgYXR0ck5hbWVFbmRJbmRleFxuICAgICAgICAgIGF0dHJOYW1lRW5kSW5kZXggPSAtMTtcbiAgICAgICAgfSBlbHNlIGlmIChtYXRjaFtBVFRSSUJVVEVfTkFNRV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIC8vIEF0dHJpYnV0ZSBuYW1lIHBvc2l0aW9uXG4gICAgICAgICAgYXR0ck5hbWVFbmRJbmRleCA9IC0yO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGF0dHJOYW1lRW5kSW5kZXggPSByZWdleC5sYXN0SW5kZXggLSBtYXRjaFtTUEFDRVNfQU5EX0VRVUFMU10ubGVuZ3RoO1xuICAgICAgICAgIGF0dHJOYW1lID0gbWF0Y2hbQVRUUklCVVRFX05BTUVdO1xuICAgICAgICAgIHJlZ2V4ID1cbiAgICAgICAgICAgIG1hdGNoW1FVT1RFX0NIQVJdID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgPyB0YWdFbmRSZWdleFxuICAgICAgICAgICAgICA6IG1hdGNoW1FVT1RFX0NIQVJdID09PSAnXCInXG4gICAgICAgICAgICAgID8gZG91YmxlUXVvdGVBdHRyRW5kUmVnZXhcbiAgICAgICAgICAgICAgOiBzaW5nbGVRdW90ZUF0dHJFbmRSZWdleDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgcmVnZXggPT09IGRvdWJsZVF1b3RlQXR0ckVuZFJlZ2V4IHx8XG4gICAgICAgIHJlZ2V4ID09PSBzaW5nbGVRdW90ZUF0dHJFbmRSZWdleFxuICAgICAgKSB7XG4gICAgICAgIHJlZ2V4ID0gdGFnRW5kUmVnZXg7XG4gICAgICB9IGVsc2UgaWYgKHJlZ2V4ID09PSBjb21tZW50RW5kUmVnZXggfHwgcmVnZXggPT09IGNvbW1lbnQyRW5kUmVnZXgpIHtcbiAgICAgICAgcmVnZXggPSB0ZXh0RW5kUmVnZXg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBOb3Qgb25lIG9mIHRoZSBmaXZlIHN0YXRlIHJlZ2V4ZXMsIHNvIGl0IG11c3QgYmUgdGhlIGR5bmFtaWNhbGx5XG4gICAgICAgIC8vIGNyZWF0ZWQgcmF3IHRleHQgcmVnZXggYW5kIHdlJ3JlIGF0IHRoZSBjbG9zZSBvZiB0aGF0IGVsZW1lbnQuXG4gICAgICAgIHJlZ2V4ID0gdGFnRW5kUmVnZXg7XG4gICAgICAgIHJhd1RleHRFbmRSZWdleCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoREVWX01PREUpIHtcbiAgICAgIC8vIElmIHdlIGhhdmUgYSBhdHRyTmFtZUVuZEluZGV4LCB3aGljaCBpbmRpY2F0ZXMgdGhhdCB3ZSBzaG91bGRcbiAgICAgIC8vIHJld3JpdGUgdGhlIGF0dHJpYnV0ZSBuYW1lLCBhc3NlcnQgdGhhdCB3ZSdyZSBpbiBhIHZhbGlkIGF0dHJpYnV0ZVxuICAgICAgLy8gcG9zaXRpb24gLSBlaXRoZXIgaW4gYSB0YWcsIG9yIGEgcXVvdGVkIGF0dHJpYnV0ZSB2YWx1ZS5cbiAgICAgIGNvbnNvbGUuYXNzZXJ0KFxuICAgICAgICBhdHRyTmFtZUVuZEluZGV4ID09PSAtMSB8fFxuICAgICAgICAgIHJlZ2V4ID09PSB0YWdFbmRSZWdleCB8fFxuICAgICAgICAgIHJlZ2V4ID09PSBzaW5nbGVRdW90ZUF0dHJFbmRSZWdleCB8fFxuICAgICAgICAgIHJlZ2V4ID09PSBkb3VibGVRdW90ZUF0dHJFbmRSZWdleCxcbiAgICAgICAgJ3VuZXhwZWN0ZWQgcGFyc2Ugc3RhdGUgQidcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gV2UgaGF2ZSBmb3VyIGNhc2VzOlxuICAgIC8vICAxLiBXZSdyZSBpbiB0ZXh0IHBvc2l0aW9uLCBhbmQgbm90IGluIGEgcmF3IHRleHQgZWxlbWVudFxuICAgIC8vICAgICAocmVnZXggPT09IHRleHRFbmRSZWdleCk6IGluc2VydCBhIGNvbW1lbnQgbWFya2VyLlxuICAgIC8vICAyLiBXZSBoYXZlIGEgbm9uLW5lZ2F0aXZlIGF0dHJOYW1lRW5kSW5kZXggd2hpY2ggbWVhbnMgd2UgbmVlZCB0b1xuICAgIC8vICAgICByZXdyaXRlIHRoZSBhdHRyaWJ1dGUgbmFtZSB0byBhZGQgYSBib3VuZCBhdHRyaWJ1dGUgc3VmZml4LlxuICAgIC8vICAzLiBXZSdyZSBhdCB0aGUgbm9uLWZpcnN0IGJpbmRpbmcgaW4gYSBtdWx0aS1iaW5kaW5nIGF0dHJpYnV0ZSwgdXNlIGFcbiAgICAvLyAgICAgcGxhaW4gbWFya2VyLlxuICAgIC8vICA0LiBXZSdyZSBzb21ld2hlcmUgZWxzZSBpbnNpZGUgdGhlIHRhZy4gSWYgd2UncmUgaW4gYXR0cmlidXRlIG5hbWVcbiAgICAvLyAgICAgcG9zaXRpb24gKGF0dHJOYW1lRW5kSW5kZXggPT09IC0yKSwgYWRkIGEgc2VxdWVudGlhbCBzdWZmaXggdG9cbiAgICAvLyAgICAgZ2VuZXJhdGUgYSB1bmlxdWUgYXR0cmlidXRlIG5hbWUuXG5cbiAgICAvLyBEZXRlY3QgYSBiaW5kaW5nIG5leHQgdG8gc2VsZi1jbG9zaW5nIHRhZyBlbmQgYW5kIGluc2VydCBhIHNwYWNlIHRvXG4gICAgLy8gc2VwYXJhdGUgdGhlIG1hcmtlciBmcm9tIHRoZSB0YWcgZW5kOlxuICAgIGNvbnN0IGVuZCA9XG4gICAgICByZWdleCA9PT0gdGFnRW5kUmVnZXggJiYgc3RyaW5nc1tpICsgMV0uc3RhcnRzV2l0aCgnLz4nKSA/ICcgJyA6ICcnO1xuICAgIGh0bWwgKz1cbiAgICAgIHJlZ2V4ID09PSB0ZXh0RW5kUmVnZXhcbiAgICAgICAgPyBzICsgbm9kZU1hcmtlclxuICAgICAgICA6IGF0dHJOYW1lRW5kSW5kZXggPj0gMFxuICAgICAgICA/IChhdHRyTmFtZXMucHVzaChhdHRyTmFtZSEpLFxuICAgICAgICAgIHMuc2xpY2UoMCwgYXR0ck5hbWVFbmRJbmRleCkgK1xuICAgICAgICAgICAgYm91bmRBdHRyaWJ1dGVTdWZmaXggK1xuICAgICAgICAgICAgcy5zbGljZShhdHRyTmFtZUVuZEluZGV4KSkgK1xuICAgICAgICAgIG1hcmtlciArXG4gICAgICAgICAgZW5kXG4gICAgICAgIDogcyArXG4gICAgICAgICAgbWFya2VyICtcbiAgICAgICAgICAoYXR0ck5hbWVFbmRJbmRleCA9PT0gLTIgPyAoYXR0ck5hbWVzLnB1c2godW5kZWZpbmVkKSwgaSkgOiBlbmQpO1xuICB9XG5cbiAgY29uc3QgaHRtbFJlc3VsdDogc3RyaW5nIHwgVHJ1c3RlZEhUTUwgPVxuICAgIGh0bWwgKyAoc3RyaW5nc1tsXSB8fCAnPD8+JykgKyAodHlwZSA9PT0gU1ZHX1JFU1VMVCA/ICc8L3N2Zz4nIDogJycpO1xuXG4gIC8vIEEgc2VjdXJpdHkgY2hlY2sgdG8gcHJldmVudCBzcG9vZmluZyBvZiBMaXQgdGVtcGxhdGUgcmVzdWx0cy5cbiAgLy8gSW4gdGhlIGZ1dHVyZSwgd2UgbWF5IGJlIGFibGUgdG8gcmVwbGFjZSB0aGlzIHdpdGggQXJyYXkuaXNUZW1wbGF0ZU9iamVjdCxcbiAgLy8gdGhvdWdoIHdlIG1pZ2h0IG5lZWQgdG8gbWFrZSB0aGF0IGNoZWNrIGluc2lkZSBvZiB0aGUgaHRtbCBhbmQgc3ZnXG4gIC8vIGZ1bmN0aW9ucywgYmVjYXVzZSBwcmVjb21waWxlZCB0ZW1wbGF0ZXMgZG9uJ3QgY29tZSBpbiBhc1xuICAvLyBUZW1wbGF0ZVN0cmluZ0FycmF5IG9iamVjdHMuXG4gIGlmICghQXJyYXkuaXNBcnJheShzdHJpbmdzKSB8fCAhc3RyaW5ncy5oYXNPd25Qcm9wZXJ0eSgncmF3JykpIHtcbiAgICBsZXQgbWVzc2FnZSA9ICdpbnZhbGlkIHRlbXBsYXRlIHN0cmluZ3MgYXJyYXknO1xuICAgIGlmIChERVZfTU9ERSkge1xuICAgICAgbWVzc2FnZSA9IGBcbiAgICAgICAgICBJbnRlcm5hbCBFcnJvcjogZXhwZWN0ZWQgdGVtcGxhdGUgc3RyaW5ncyB0byBiZSBhbiBhcnJheVxuICAgICAgICAgIHdpdGggYSAncmF3JyBmaWVsZC4gRmFraW5nIGEgdGVtcGxhdGUgc3RyaW5ncyBhcnJheSBieVxuICAgICAgICAgIGNhbGxpbmcgaHRtbCBvciBzdmcgbGlrZSBhbiBvcmRpbmFyeSBmdW5jdGlvbiBpcyBlZmZlY3RpdmVseVxuICAgICAgICAgIHRoZSBzYW1lIGFzIGNhbGxpbmcgdW5zYWZlSHRtbCBhbmQgY2FuIGxlYWQgdG8gbWFqb3Igc2VjdXJpdHlcbiAgICAgICAgICBpc3N1ZXMsIGUuZy4gb3BlbmluZyB5b3VyIGNvZGUgdXAgdG8gWFNTIGF0dGFja3MuXG5cbiAgICAgICAgICBJZiB5b3UncmUgdXNpbmcgdGhlIGh0bWwgb3Igc3ZnIHRhZ2dlZCB0ZW1wbGF0ZSBmdW5jdGlvbnMgbm9ybWFsbHlcbiAgICAgICAgICBhbmQgYW5kIHN0aWxsIHNlZWluZyB0aGlzIGVycm9yLCBwbGVhc2UgZmlsZSBhIGJ1ZyBhdFxuICAgICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9saXQvbGl0L2lzc3Vlcy9uZXc/dGVtcGxhdGU9YnVnX3JlcG9ydC5tZFxuICAgICAgICAgIGFuZCBpbmNsdWRlIGluZm9ybWF0aW9uIGFib3V0IHlvdXIgYnVpbGQgdG9vbGluZywgaWYgYW55LlxuICAgICAgICBgXG4gICAgICAgIC50cmltKClcbiAgICAgICAgLnJlcGxhY2UoL1xcbiAqL2csICdcXG4nKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICB9XG4gIC8vIFJldHVybmVkIGFzIGFuIGFycmF5IGZvciB0ZXJzZW5lc3NcbiAgcmV0dXJuIFtcbiAgICBwb2xpY3kgIT09IHVuZGVmaW5lZFxuICAgICAgPyBwb2xpY3kuY3JlYXRlSFRNTChodG1sUmVzdWx0KVxuICAgICAgOiAoaHRtbFJlc3VsdCBhcyB1bmtub3duIGFzIFRydXN0ZWRIVE1MKSxcbiAgICBhdHRyTmFtZXMsXG4gIF07XG59O1xuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgdHlwZSB7VGVtcGxhdGV9O1xuY2xhc3MgVGVtcGxhdGUge1xuICAvKiogQGludGVybmFsICovXG4gIGVsITogSFRNTFRlbXBsYXRlRWxlbWVudDtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBwYXJ0czogQXJyYXk8VGVtcGxhdGVQYXJ0PiA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gICAge3N0cmluZ3MsIFsnXyRsaXRUeXBlJCddOiB0eXBlfTogVGVtcGxhdGVSZXN1bHQsXG4gICAgb3B0aW9ucz86IFJlbmRlck9wdGlvbnNcbiAgKSB7XG4gICAgbGV0IG5vZGU6IE5vZGUgfCBudWxsO1xuICAgIGxldCBub2RlSW5kZXggPSAwO1xuICAgIGxldCBhdHRyTmFtZUluZGV4ID0gMDtcbiAgICBjb25zdCBwYXJ0Q291bnQgPSBzdHJpbmdzLmxlbmd0aCAtIDE7XG4gICAgY29uc3QgcGFydHMgPSB0aGlzLnBhcnRzO1xuXG4gICAgLy8gQ3JlYXRlIHRlbXBsYXRlIGVsZW1lbnRcbiAgICBjb25zdCBbaHRtbCwgYXR0ck5hbWVzXSA9IGdldFRlbXBsYXRlSHRtbChzdHJpbmdzLCB0eXBlKTtcbiAgICB0aGlzLmVsID0gVGVtcGxhdGUuY3JlYXRlRWxlbWVudChodG1sLCBvcHRpb25zKTtcbiAgICB3YWxrZXIuY3VycmVudE5vZGUgPSB0aGlzLmVsLmNvbnRlbnQ7XG5cbiAgICAvLyBSZXBhcmVudCBTVkcgbm9kZXMgaW50byB0ZW1wbGF0ZSByb290XG4gICAgaWYgKHR5cGUgPT09IFNWR19SRVNVTFQpIHtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSB0aGlzLmVsLmNvbnRlbnQ7XG4gICAgICBjb25zdCBzdmdFbGVtZW50ID0gY29udGVudC5maXJzdENoaWxkITtcbiAgICAgIHN2Z0VsZW1lbnQucmVtb3ZlKCk7XG4gICAgICBjb250ZW50LmFwcGVuZCguLi5zdmdFbGVtZW50LmNoaWxkTm9kZXMpO1xuICAgIH1cblxuICAgIC8vIFdhbGsgdGhlIHRlbXBsYXRlIHRvIGZpbmQgYmluZGluZyBtYXJrZXJzIGFuZCBjcmVhdGUgVGVtcGxhdGVQYXJ0c1xuICAgIHdoaWxlICgobm9kZSA9IHdhbGtlci5uZXh0Tm9kZSgpKSAhPT0gbnVsbCAmJiBwYXJ0cy5sZW5ndGggPCBwYXJ0Q291bnQpIHtcbiAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgIGlmIChERVZfTU9ERSkge1xuICAgICAgICAgIGNvbnN0IHRhZyA9IChub2RlIGFzIEVsZW1lbnQpLmxvY2FsTmFtZTtcbiAgICAgICAgICAvLyBXYXJuIGlmIGB0ZXh0YXJlYWAgaW5jbHVkZXMgYW4gZXhwcmVzc2lvbiBhbmQgdGhyb3cgaWYgYHRlbXBsYXRlYFxuICAgICAgICAgIC8vIGRvZXMgc2luY2UgdGhlc2UgYXJlIG5vdCBzdXBwb3J0ZWQuIFdlIGRvIHRoaXMgYnkgY2hlY2tpbmdcbiAgICAgICAgICAvLyBpbm5lckhUTUwgZm9yIGFueXRoaW5nIHRoYXQgbG9va3MgbGlrZSBhIG1hcmtlci4gVGhpcyBjYXRjaGVzXG4gICAgICAgICAgLy8gY2FzZXMgbGlrZSBiaW5kaW5ncyBpbiB0ZXh0YXJlYSB0aGVyZSBtYXJrZXJzIHR1cm4gaW50byB0ZXh0IG5vZGVzLlxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIC9eKD86dGV4dGFyZWF8dGVtcGxhdGUpJC9pIS50ZXN0KHRhZykgJiZcbiAgICAgICAgICAgIChub2RlIGFzIEVsZW1lbnQpLmlubmVySFRNTC5pbmNsdWRlcyhtYXJrZXIpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjb25zdCBtID1cbiAgICAgICAgICAgICAgYEV4cHJlc3Npb25zIGFyZSBub3Qgc3VwcG9ydGVkIGluc2lkZSBcXGAke3RhZ31cXGAgYCArXG4gICAgICAgICAgICAgIGBlbGVtZW50cy4gU2VlIGh0dHBzOi8vbGl0LmRldi9tc2cvZXhwcmVzc2lvbi1pbi0ke3RhZ30gZm9yIG1vcmUgYCArXG4gICAgICAgICAgICAgIGBpbmZvcm1hdGlvbi5gO1xuICAgICAgICAgICAgaWYgKHRhZyA9PT0gJ3RlbXBsYXRlJykge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobSk7XG4gICAgICAgICAgICB9IGVsc2UgaXNzdWVXYXJuaW5nKCcnLCBtKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETyAoanVzdGluZmFnbmFuaSk6IGZvciBhdHRlbXB0ZWQgZHluYW1pYyB0YWcgbmFtZXMsIHdlIGRvbid0XG4gICAgICAgIC8vIGluY3JlbWVudCB0aGUgYmluZGluZ0luZGV4LCBhbmQgaXQnbGwgYmUgb2ZmIGJ5IDEgaW4gdGhlIGVsZW1lbnRcbiAgICAgICAgLy8gYW5kIG9mZiBieSB0d28gYWZ0ZXIgaXQuXG4gICAgICAgIGlmICgobm9kZSBhcyBFbGVtZW50KS5oYXNBdHRyaWJ1dGVzKCkpIHtcbiAgICAgICAgICAvLyBXZSBkZWZlciByZW1vdmluZyBib3VuZCBhdHRyaWJ1dGVzIGJlY2F1c2Ugb24gSUUgd2UgbWlnaHQgbm90IGJlXG4gICAgICAgICAgLy8gaXRlcmF0aW5nIGF0dHJpYnV0ZXMgaW4gdGhlaXIgdGVtcGxhdGUgb3JkZXIsIGFuZCB3b3VsZCBzb21ldGltZXNcbiAgICAgICAgICAvLyByZW1vdmUgYW4gYXR0cmlidXRlIHRoYXQgd2Ugc3RpbGwgbmVlZCB0byBjcmVhdGUgYSBwYXJ0IGZvci5cbiAgICAgICAgICBjb25zdCBhdHRyc1RvUmVtb3ZlID0gW107XG4gICAgICAgICAgZm9yIChjb25zdCBuYW1lIG9mIChub2RlIGFzIEVsZW1lbnQpLmdldEF0dHJpYnV0ZU5hbWVzKCkpIHtcbiAgICAgICAgICAgIC8vIGBuYW1lYCBpcyB0aGUgbmFtZSBvZiB0aGUgYXR0cmlidXRlIHdlJ3JlIGl0ZXJhdGluZyBvdmVyLCBidXQgbm90XG4gICAgICAgICAgICAvLyBfbmVjY2Vzc2FyaWx5XyB0aGUgbmFtZSBvZiB0aGUgYXR0cmlidXRlIHdlIHdpbGwgY3JlYXRlIGEgcGFydFxuICAgICAgICAgICAgLy8gZm9yLiBUaGV5IGNhbiBiZSBkaWZmZXJlbnQgaW4gYnJvd3NlcnMgdGhhdCBkb24ndCBpdGVyYXRlIG9uXG4gICAgICAgICAgICAvLyBhdHRyaWJ1dGVzIGluIHNvdXJjZSBvcmRlci4gSW4gdGhhdCBjYXNlIHRoZSBhdHRyTmFtZXMgYXJyYXlcbiAgICAgICAgICAgIC8vIGNvbnRhaW5zIHRoZSBhdHRyaWJ1dGUgbmFtZSB3ZSdsbCBwcm9jZXNzIG5leHQuIFdlIG9ubHkgbmVlZCB0aGVcbiAgICAgICAgICAgIC8vIGF0dHJpYnV0ZSBuYW1lIGhlcmUgdG8ga25vdyBpZiB3ZSBzaG91bGQgcHJvY2VzcyBhIGJvdW5kIGF0dHJpYnV0ZVxuICAgICAgICAgICAgLy8gb24gdGhpcyBlbGVtZW50LlxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBuYW1lLmVuZHNXaXRoKGJvdW5kQXR0cmlidXRlU3VmZml4KSB8fFxuICAgICAgICAgICAgICBuYW1lLnN0YXJ0c1dpdGgobWFya2VyKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHJlYWxOYW1lID0gYXR0ck5hbWVzW2F0dHJOYW1lSW5kZXgrK107XG4gICAgICAgICAgICAgIGF0dHJzVG9SZW1vdmUucHVzaChuYW1lKTtcbiAgICAgICAgICAgICAgaWYgKHJlYWxOYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBMb3dlcmNhc2UgZm9yIGNhc2Utc2Vuc2l0aXZlIFNWRyBhdHRyaWJ1dGVzIGxpa2Ugdmlld0JveFxuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gKG5vZGUgYXMgRWxlbWVudCkuZ2V0QXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgcmVhbE5hbWUudG9Mb3dlckNhc2UoKSArIGJvdW5kQXR0cmlidXRlU3VmZml4XG4gICAgICAgICAgICAgICAgKSE7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdGljcyA9IHZhbHVlLnNwbGl0KG1hcmtlcik7XG4gICAgICAgICAgICAgICAgY29uc3QgbSA9IC8oWy4/QF0pPyguKikvLmV4ZWMocmVhbE5hbWUpITtcbiAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6IEFUVFJJQlVURV9QQVJULFxuICAgICAgICAgICAgICAgICAgaW5kZXg6IG5vZGVJbmRleCxcbiAgICAgICAgICAgICAgICAgIG5hbWU6IG1bMl0sXG4gICAgICAgICAgICAgICAgICBzdHJpbmdzOiBzdGF0aWNzLFxuICAgICAgICAgICAgICAgICAgY3RvcjpcbiAgICAgICAgICAgICAgICAgICAgbVsxXSA9PT0gJy4nXG4gICAgICAgICAgICAgICAgICAgICAgPyBQcm9wZXJ0eVBhcnRcbiAgICAgICAgICAgICAgICAgICAgICA6IG1bMV0gPT09ICc/J1xuICAgICAgICAgICAgICAgICAgICAgID8gQm9vbGVhbkF0dHJpYnV0ZVBhcnRcbiAgICAgICAgICAgICAgICAgICAgICA6IG1bMV0gPT09ICdAJ1xuICAgICAgICAgICAgICAgICAgICAgID8gRXZlbnRQYXJ0XG4gICAgICAgICAgICAgICAgICAgICAgOiBBdHRyaWJ1dGVQYXJ0LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcnRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgdHlwZTogRUxFTUVOVF9QQVJULFxuICAgICAgICAgICAgICAgICAgaW5kZXg6IG5vZGVJbmRleCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBmb3IgKGNvbnN0IG5hbWUgb2YgYXR0cnNUb1JlbW92ZSkge1xuICAgICAgICAgICAgKG5vZGUgYXMgRWxlbWVudCkucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPIChqdXN0aW5mYWduYW5pKTogYmVuY2htYXJrIHRoZSByZWdleCBhZ2FpbnN0IHRlc3RpbmcgZm9yIGVhY2hcbiAgICAgICAgLy8gb2YgdGhlIDMgcmF3IHRleHQgZWxlbWVudCBuYW1lcy5cbiAgICAgICAgaWYgKHJhd1RleHRFbGVtZW50LnRlc3QoKG5vZGUgYXMgRWxlbWVudCkudGFnTmFtZSkpIHtcbiAgICAgICAgICAvLyBGb3IgcmF3IHRleHQgZWxlbWVudHMgd2UgbmVlZCB0byBzcGxpdCB0aGUgdGV4dCBjb250ZW50IG9uXG4gICAgICAgICAgLy8gbWFya2VycywgY3JlYXRlIGEgVGV4dCBub2RlIGZvciBlYWNoIHNlZ21lbnQsIGFuZCBjcmVhdGVcbiAgICAgICAgICAvLyBhIFRlbXBsYXRlUGFydCBmb3IgZWFjaCBtYXJrZXIuXG4gICAgICAgICAgY29uc3Qgc3RyaW5ncyA9IChub2RlIGFzIEVsZW1lbnQpLnRleHRDb250ZW50IS5zcGxpdChtYXJrZXIpO1xuICAgICAgICAgIGNvbnN0IGxhc3RJbmRleCA9IHN0cmluZ3MubGVuZ3RoIC0gMTtcbiAgICAgICAgICBpZiAobGFzdEluZGV4ID4gMCkge1xuICAgICAgICAgICAgKG5vZGUgYXMgRWxlbWVudCkudGV4dENvbnRlbnQgPSB0cnVzdGVkVHlwZXNcbiAgICAgICAgICAgICAgPyAodHJ1c3RlZFR5cGVzLmVtcHR5U2NyaXB0IGFzIHVua25vd24gYXMgJycpXG4gICAgICAgICAgICAgIDogJyc7XG4gICAgICAgICAgICAvLyBHZW5lcmF0ZSBhIG5ldyB0ZXh0IG5vZGUgZm9yIGVhY2ggbGl0ZXJhbCBzZWN0aW9uXG4gICAgICAgICAgICAvLyBUaGVzZSBub2RlcyBhcmUgYWxzbyB1c2VkIGFzIHRoZSBtYXJrZXJzIGZvciBub2RlIHBhcnRzXG4gICAgICAgICAgICAvLyBXZSBjYW4ndCB1c2UgZW1wdHkgdGV4dCBub2RlcyBhcyBtYXJrZXJzIGJlY2F1c2UgdGhleSdyZVxuICAgICAgICAgICAgLy8gbm9ybWFsaXplZCB3aGVuIGNsb25pbmcgaW4gSUUgKGNvdWxkIHNpbXBsaWZ5IHdoZW5cbiAgICAgICAgICAgIC8vIElFIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQpXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxhc3RJbmRleDsgaSsrKSB7XG4gICAgICAgICAgICAgIChub2RlIGFzIEVsZW1lbnQpLmFwcGVuZChzdHJpbmdzW2ldLCBjcmVhdGVNYXJrZXIoKSk7XG4gICAgICAgICAgICAgIC8vIFdhbGsgcGFzdCB0aGUgbWFya2VyIG5vZGUgd2UganVzdCBhZGRlZFxuICAgICAgICAgICAgICB3YWxrZXIubmV4dE5vZGUoKTtcbiAgICAgICAgICAgICAgcGFydHMucHVzaCh7dHlwZTogQ0hJTERfUEFSVCwgaW5kZXg6ICsrbm9kZUluZGV4fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBOb3RlIGJlY2F1c2UgdGhpcyBtYXJrZXIgaXMgYWRkZWQgYWZ0ZXIgdGhlIHdhbGtlcidzIGN1cnJlbnRcbiAgICAgICAgICAgIC8vIG5vZGUsIGl0IHdpbGwgYmUgd2Fsa2VkIHRvIGluIHRoZSBvdXRlciBsb29wIChhbmQgaWdub3JlZCksIHNvXG4gICAgICAgICAgICAvLyB3ZSBkb24ndCBuZWVkIHRvIGFkanVzdCBub2RlSW5kZXggaGVyZVxuICAgICAgICAgICAgKG5vZGUgYXMgRWxlbWVudCkuYXBwZW5kKHN0cmluZ3NbbGFzdEluZGV4XSwgY3JlYXRlTWFya2VyKCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChub2RlLm5vZGVUeXBlID09PSA4KSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSAobm9kZSBhcyBDb21tZW50KS5kYXRhO1xuICAgICAgICBpZiAoZGF0YSA9PT0gbWFya2VyTWF0Y2gpIHtcbiAgICAgICAgICBwYXJ0cy5wdXNoKHt0eXBlOiBDSElMRF9QQVJULCBpbmRleDogbm9kZUluZGV4fSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGV0IGkgPSAtMTtcbiAgICAgICAgICB3aGlsZSAoKGkgPSAobm9kZSBhcyBDb21tZW50KS5kYXRhLmluZGV4T2YobWFya2VyLCBpICsgMSkpICE9PSAtMSkge1xuICAgICAgICAgICAgLy8gQ29tbWVudCBub2RlIGhhcyBhIGJpbmRpbmcgbWFya2VyIGluc2lkZSwgbWFrZSBhbiBpbmFjdGl2ZSBwYXJ0XG4gICAgICAgICAgICAvLyBUaGUgYmluZGluZyB3b24ndCB3b3JrLCBidXQgc3Vic2VxdWVudCBiaW5kaW5ncyB3aWxsXG4gICAgICAgICAgICBwYXJ0cy5wdXNoKHt0eXBlOiBDT01NRU5UX1BBUlQsIGluZGV4OiBub2RlSW5kZXh9KTtcbiAgICAgICAgICAgIC8vIE1vdmUgdG8gdGhlIGVuZCBvZiB0aGUgbWF0Y2hcbiAgICAgICAgICAgIGkgKz0gbWFya2VyLmxlbmd0aCAtIDE7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBub2RlSW5kZXgrKztcbiAgICB9XG4gICAgZGVidWdMb2dFdmVudD8uKHtcbiAgICAgIGtpbmQ6ICd0ZW1wbGF0ZSBwcmVwJyxcbiAgICAgIHRlbXBsYXRlOiB0aGlzLFxuICAgICAgY2xvbmFibGVUZW1wbGF0ZTogdGhpcy5lbCxcbiAgICAgIHBhcnRzOiB0aGlzLnBhcnRzLFxuICAgICAgc3RyaW5ncyxcbiAgICB9KTtcbiAgfVxuXG4gIC8vIE92ZXJyaWRkZW4gdmlhIGBsaXRIdG1sUG9seWZpbGxTdXBwb3J0YCB0byBwcm92aWRlIHBsYXRmb3JtIHN1cHBvcnQuXG4gIC8qKiBAbm9jb2xsYXBzZSAqL1xuICBzdGF0aWMgY3JlYXRlRWxlbWVudChodG1sOiBUcnVzdGVkSFRNTCwgX29wdGlvbnM/OiBSZW5kZXJPcHRpb25zKSB7XG4gICAgY29uc3QgZWwgPSBkLmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG4gICAgZWwuaW5uZXJIVE1MID0gaHRtbCBhcyB1bmtub3duIGFzIHN0cmluZztcbiAgICByZXR1cm4gZWw7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBEaXNjb25uZWN0YWJsZSB7XG4gIF8kcGFyZW50PzogRGlzY29ubmVjdGFibGU7XG4gIF8kZGlzY29ubmVjdGFibGVDaGlsZHJlbj86IFNldDxEaXNjb25uZWN0YWJsZT47XG4gIC8vIFJhdGhlciB0aGFuIGhvbGQgY29ubmVjdGlvbiBzdGF0ZSBvbiBpbnN0YW5jZXMsIERpc2Nvbm5lY3RhYmxlcyByZWN1cnNpdmVseVxuICAvLyBmZXRjaCB0aGUgY29ubmVjdGlvbiBzdGF0ZSBmcm9tIHRoZSBSb290UGFydCB0aGV5IGFyZSBjb25uZWN0ZWQgaW4gdmlhXG4gIC8vIGdldHRlcnMgdXAgdGhlIERpc2Nvbm5lY3RhYmxlIHRyZWUgdmlhIF8kcGFyZW50IHJlZmVyZW5jZXMuIFRoaXMgcHVzaGVzIHRoZVxuICAvLyBjb3N0IG9mIHRyYWNraW5nIHRoZSBpc0Nvbm5lY3RlZCBzdGF0ZSB0byBgQXN5bmNEaXJlY3RpdmVzYCwgYW5kIGF2b2lkc1xuICAvLyBuZWVkaW5nIHRvIHBhc3MgYWxsIERpc2Nvbm5lY3RhYmxlcyAocGFydHMsIHRlbXBsYXRlIGluc3RhbmNlcywgYW5kXG4gIC8vIGRpcmVjdGl2ZXMpIHRoZWlyIGNvbm5lY3Rpb24gc3RhdGUgZWFjaCB0aW1lIGl0IGNoYW5nZXMsIHdoaWNoIHdvdWxkIGJlXG4gIC8vIGNvc3RseSBmb3IgdHJlZXMgdGhhdCBoYXZlIG5vIEFzeW5jRGlyZWN0aXZlcy5cbiAgXyRpc0Nvbm5lY3RlZDogYm9vbGVhbjtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZURpcmVjdGl2ZShcbiAgcGFydDogQ2hpbGRQYXJ0IHwgQXR0cmlidXRlUGFydCB8IEVsZW1lbnRQYXJ0LFxuICB2YWx1ZTogdW5rbm93bixcbiAgcGFyZW50OiBEaXJlY3RpdmVQYXJlbnQgPSBwYXJ0LFxuICBhdHRyaWJ1dGVJbmRleD86IG51bWJlclxuKTogdW5rbm93biB7XG4gIC8vIEJhaWwgZWFybHkgaWYgdGhlIHZhbHVlIGlzIGV4cGxpY2l0bHkgbm9DaGFuZ2UuIE5vdGUsIHRoaXMgbWVhbnMgYW55XG4gIC8vIG5lc3RlZCBkaXJlY3RpdmUgaXMgc3RpbGwgYXR0YWNoZWQgYW5kIGlzIG5vdCBydW4uXG4gIGlmICh2YWx1ZSA9PT0gbm9DaGFuZ2UpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgbGV0IGN1cnJlbnREaXJlY3RpdmUgPVxuICAgIGF0dHJpYnV0ZUluZGV4ICE9PSB1bmRlZmluZWRcbiAgICAgID8gKHBhcmVudCBhcyBBdHRyaWJ1dGVQYXJ0KS5fX2RpcmVjdGl2ZXM/LlthdHRyaWJ1dGVJbmRleF1cbiAgICAgIDogKHBhcmVudCBhcyBDaGlsZFBhcnQgfCBFbGVtZW50UGFydCB8IERpcmVjdGl2ZSkuX19kaXJlY3RpdmU7XG4gIGNvbnN0IG5leHREaXJlY3RpdmVDb25zdHJ1Y3RvciA9IGlzUHJpbWl0aXZlKHZhbHVlKVxuICAgID8gdW5kZWZpbmVkXG4gICAgOiAvLyBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICAgICAgKHZhbHVlIGFzIERpcmVjdGl2ZVJlc3VsdClbJ18kbGl0RGlyZWN0aXZlJCddO1xuICBpZiAoY3VycmVudERpcmVjdGl2ZT8uY29uc3RydWN0b3IgIT09IG5leHREaXJlY3RpdmVDb25zdHJ1Y3Rvcikge1xuICAgIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gICAgY3VycmVudERpcmVjdGl2ZT8uWydfJG5vdGlmeURpcmVjdGl2ZUNvbm5lY3Rpb25DaGFuZ2VkJ10/LihmYWxzZSk7XG4gICAgaWYgKG5leHREaXJlY3RpdmVDb25zdHJ1Y3RvciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjdXJyZW50RGlyZWN0aXZlID0gdW5kZWZpbmVkO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50RGlyZWN0aXZlID0gbmV3IG5leHREaXJlY3RpdmVDb25zdHJ1Y3RvcihwYXJ0IGFzIFBhcnRJbmZvKTtcbiAgICAgIGN1cnJlbnREaXJlY3RpdmUuXyRpbml0aWFsaXplKHBhcnQsIHBhcmVudCwgYXR0cmlidXRlSW5kZXgpO1xuICAgIH1cbiAgICBpZiAoYXR0cmlidXRlSW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgKChwYXJlbnQgYXMgQXR0cmlidXRlUGFydCkuX19kaXJlY3RpdmVzID8/PSBbXSlbYXR0cmlidXRlSW5kZXhdID1cbiAgICAgICAgY3VycmVudERpcmVjdGl2ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgKHBhcmVudCBhcyBDaGlsZFBhcnQgfCBEaXJlY3RpdmUpLl9fZGlyZWN0aXZlID0gY3VycmVudERpcmVjdGl2ZTtcbiAgICB9XG4gIH1cbiAgaWYgKGN1cnJlbnREaXJlY3RpdmUgIT09IHVuZGVmaW5lZCkge1xuICAgIHZhbHVlID0gcmVzb2x2ZURpcmVjdGl2ZShcbiAgICAgIHBhcnQsXG4gICAgICBjdXJyZW50RGlyZWN0aXZlLl8kcmVzb2x2ZShwYXJ0LCAodmFsdWUgYXMgRGlyZWN0aXZlUmVzdWx0KS52YWx1ZXMpLFxuICAgICAgY3VycmVudERpcmVjdGl2ZSxcbiAgICAgIGF0dHJpYnV0ZUluZGV4XG4gICAgKTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5cbi8qKlxuICogQW4gdXBkYXRlYWJsZSBpbnN0YW5jZSBvZiBhIFRlbXBsYXRlLiBIb2xkcyByZWZlcmVuY2VzIHRvIHRoZSBQYXJ0cyB1c2VkIHRvXG4gKiB1cGRhdGUgdGhlIHRlbXBsYXRlIGluc3RhbmNlLlxuICovXG5jbGFzcyBUZW1wbGF0ZUluc3RhbmNlIGltcGxlbWVudHMgRGlzY29ubmVjdGFibGUge1xuICAvKiogQGludGVybmFsICovXG4gIF8kdGVtcGxhdGU6IFRlbXBsYXRlO1xuICAvKiogQGludGVybmFsICovXG4gIF9wYXJ0czogQXJyYXk8UGFydCB8IHVuZGVmaW5lZD4gPSBbXTtcblxuICAvKiogQGludGVybmFsICovXG4gIF8kcGFyZW50OiBDaGlsZFBhcnQ7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgXyRkaXNjb25uZWN0YWJsZUNoaWxkcmVuPzogU2V0PERpc2Nvbm5lY3RhYmxlPiA9IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3Rvcih0ZW1wbGF0ZTogVGVtcGxhdGUsIHBhcmVudDogQ2hpbGRQYXJ0KSB7XG4gICAgdGhpcy5fJHRlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgdGhpcy5fJHBhcmVudCA9IHBhcmVudDtcbiAgfVxuXG4gIC8vIENhbGxlZCBieSBDaGlsZFBhcnQgcGFyZW50Tm9kZSBnZXR0ZXJcbiAgZ2V0IHBhcmVudE5vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuXyRwYXJlbnQucGFyZW50Tm9kZTtcbiAgfVxuXG4gIC8vIFNlZSBjb21tZW50IGluIERpc2Nvbm5lY3RhYmxlIGludGVyZmFjZSBmb3Igd2h5IHRoaXMgaXMgYSBnZXR0ZXJcbiAgZ2V0IF8kaXNDb25uZWN0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuXyRwYXJlbnQuXyRpc0Nvbm5lY3RlZDtcbiAgfVxuXG4gIC8vIFRoaXMgbWV0aG9kIGlzIHNlcGFyYXRlIGZyb20gdGhlIGNvbnN0cnVjdG9yIGJlY2F1c2Ugd2UgbmVlZCB0byByZXR1cm4gYVxuICAvLyBEb2N1bWVudEZyYWdtZW50IGFuZCB3ZSBkb24ndCB3YW50IHRvIGhvbGQgb250byBpdCB3aXRoIGFuIGluc3RhbmNlIGZpZWxkLlxuICBfY2xvbmUob3B0aW9uczogUmVuZGVyT3B0aW9ucyB8IHVuZGVmaW5lZCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGVsOiB7Y29udGVudH0sXG4gICAgICBwYXJ0czogcGFydHMsXG4gICAgfSA9IHRoaXMuXyR0ZW1wbGF0ZTtcbiAgICBjb25zdCBmcmFnbWVudCA9IChvcHRpb25zPy5jcmVhdGlvblNjb3BlID8/IGQpLmltcG9ydE5vZGUoY29udGVudCwgdHJ1ZSk7XG4gICAgd2Fsa2VyLmN1cnJlbnROb2RlID0gZnJhZ21lbnQ7XG5cbiAgICBsZXQgbm9kZSA9IHdhbGtlci5uZXh0Tm9kZSgpITtcbiAgICBsZXQgbm9kZUluZGV4ID0gMDtcbiAgICBsZXQgcGFydEluZGV4ID0gMDtcbiAgICBsZXQgdGVtcGxhdGVQYXJ0ID0gcGFydHNbMF07XG5cbiAgICB3aGlsZSAodGVtcGxhdGVQYXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChub2RlSW5kZXggPT09IHRlbXBsYXRlUGFydC5pbmRleCkge1xuICAgICAgICBsZXQgcGFydDogUGFydCB8IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHRlbXBsYXRlUGFydC50eXBlID09PSBDSElMRF9QQVJUKSB7XG4gICAgICAgICAgcGFydCA9IG5ldyBDaGlsZFBhcnQoXG4gICAgICAgICAgICBub2RlIGFzIEhUTUxFbGVtZW50LFxuICAgICAgICAgICAgbm9kZS5uZXh0U2libGluZyxcbiAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICBvcHRpb25zXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmICh0ZW1wbGF0ZVBhcnQudHlwZSA9PT0gQVRUUklCVVRFX1BBUlQpIHtcbiAgICAgICAgICBwYXJ0ID0gbmV3IHRlbXBsYXRlUGFydC5jdG9yKFxuICAgICAgICAgICAgbm9kZSBhcyBIVE1MRWxlbWVudCxcbiAgICAgICAgICAgIHRlbXBsYXRlUGFydC5uYW1lLFxuICAgICAgICAgICAgdGVtcGxhdGVQYXJ0LnN0cmluZ3MsXG4gICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgb3B0aW9uc1xuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAodGVtcGxhdGVQYXJ0LnR5cGUgPT09IEVMRU1FTlRfUEFSVCkge1xuICAgICAgICAgIHBhcnQgPSBuZXcgRWxlbWVudFBhcnQobm9kZSBhcyBIVE1MRWxlbWVudCwgdGhpcywgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcGFydHMucHVzaChwYXJ0KTtcbiAgICAgICAgdGVtcGxhdGVQYXJ0ID0gcGFydHNbKytwYXJ0SW5kZXhdO1xuICAgICAgfVxuICAgICAgaWYgKG5vZGVJbmRleCAhPT0gdGVtcGxhdGVQYXJ0Py5pbmRleCkge1xuICAgICAgICBub2RlID0gd2Fsa2VyLm5leHROb2RlKCkhO1xuICAgICAgICBub2RlSW5kZXgrKztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZyYWdtZW50O1xuICB9XG5cbiAgX3VwZGF0ZSh2YWx1ZXM6IEFycmF5PHVua25vd24+KSB7XG4gICAgbGV0IGkgPSAwO1xuICAgIGZvciAoY29uc3QgcGFydCBvZiB0aGlzLl9wYXJ0cykge1xuICAgICAgaWYgKHBhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBkZWJ1Z0xvZ0V2ZW50Py4oe1xuICAgICAgICAgIGtpbmQ6ICdzZXQgcGFydCcsXG4gICAgICAgICAgcGFydCxcbiAgICAgICAgICB2YWx1ZTogdmFsdWVzW2ldLFxuICAgICAgICAgIHZhbHVlSW5kZXg6IGksXG4gICAgICAgICAgdmFsdWVzLFxuICAgICAgICAgIHRlbXBsYXRlSW5zdGFuY2U6IHRoaXMsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoKHBhcnQgYXMgQXR0cmlidXRlUGFydCkuc3RyaW5ncyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgKHBhcnQgYXMgQXR0cmlidXRlUGFydCkuXyRzZXRWYWx1ZSh2YWx1ZXMsIHBhcnQgYXMgQXR0cmlidXRlUGFydCwgaSk7XG4gICAgICAgICAgLy8gVGhlIG51bWJlciBvZiB2YWx1ZXMgdGhlIHBhcnQgY29uc3VtZXMgaXMgcGFydC5zdHJpbmdzLmxlbmd0aCAtIDFcbiAgICAgICAgICAvLyBzaW5jZSB2YWx1ZXMgYXJlIGluIGJldHdlZW4gdGVtcGxhdGUgc3BhbnMuIFdlIGluY3JlbWVudCBpIGJ5IDFcbiAgICAgICAgICAvLyBsYXRlciBpbiB0aGUgbG9vcCwgc28gaW5jcmVtZW50IGl0IGJ5IHBhcnQuc3RyaW5ncy5sZW5ndGggLSAyIGhlcmVcbiAgICAgICAgICBpICs9IChwYXJ0IGFzIEF0dHJpYnV0ZVBhcnQpLnN0cmluZ3MhLmxlbmd0aCAtIDI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFydC5fJHNldFZhbHVlKHZhbHVlc1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGkrKztcbiAgICB9XG4gIH1cbn1cblxuLypcbiAqIFBhcnRzXG4gKi9cbnR5cGUgQXR0cmlidXRlVGVtcGxhdGVQYXJ0ID0ge1xuICByZWFkb25seSB0eXBlOiB0eXBlb2YgQVRUUklCVVRFX1BBUlQ7XG4gIHJlYWRvbmx5IGluZGV4OiBudW1iZXI7XG4gIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICByZWFkb25seSBjdG9yOiB0eXBlb2YgQXR0cmlidXRlUGFydDtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICByZWFkb25seSBzdHJpbmdzOiBSZWFkb25seUFycmF5PHN0cmluZz47XG59O1xudHlwZSBOb2RlVGVtcGxhdGVQYXJ0ID0ge1xuICByZWFkb25seSB0eXBlOiB0eXBlb2YgQ0hJTERfUEFSVDtcbiAgcmVhZG9ubHkgaW5kZXg6IG51bWJlcjtcbn07XG50eXBlIEVsZW1lbnRUZW1wbGF0ZVBhcnQgPSB7XG4gIHJlYWRvbmx5IHR5cGU6IHR5cGVvZiBFTEVNRU5UX1BBUlQ7XG4gIHJlYWRvbmx5IGluZGV4OiBudW1iZXI7XG59O1xudHlwZSBDb21tZW50VGVtcGxhdGVQYXJ0ID0ge1xuICByZWFkb25seSB0eXBlOiB0eXBlb2YgQ09NTUVOVF9QQVJUO1xuICByZWFkb25seSBpbmRleDogbnVtYmVyO1xufTtcblxuLyoqXG4gKiBBIFRlbXBsYXRlUGFydCByZXByZXNlbnRzIGEgZHluYW1pYyBwYXJ0IGluIGEgdGVtcGxhdGUsIGJlZm9yZSB0aGUgdGVtcGxhdGVcbiAqIGlzIGluc3RhbnRpYXRlZC4gV2hlbiBhIHRlbXBsYXRlIGlzIGluc3RhbnRpYXRlZCBQYXJ0cyBhcmUgY3JlYXRlZCBmcm9tXG4gKiBUZW1wbGF0ZVBhcnRzLlxuICovXG50eXBlIFRlbXBsYXRlUGFydCA9XG4gIHwgTm9kZVRlbXBsYXRlUGFydFxuICB8IEF0dHJpYnV0ZVRlbXBsYXRlUGFydFxuICB8IEVsZW1lbnRUZW1wbGF0ZVBhcnRcbiAgfCBDb21tZW50VGVtcGxhdGVQYXJ0O1xuXG5leHBvcnQgdHlwZSBQYXJ0ID1cbiAgfCBDaGlsZFBhcnRcbiAgfCBBdHRyaWJ1dGVQYXJ0XG4gIHwgUHJvcGVydHlQYXJ0XG4gIHwgQm9vbGVhbkF0dHJpYnV0ZVBhcnRcbiAgfCBFbGVtZW50UGFydFxuICB8IEV2ZW50UGFydDtcblxuZXhwb3J0IHR5cGUge0NoaWxkUGFydH07XG5jbGFzcyBDaGlsZFBhcnQgaW1wbGVtZW50cyBEaXNjb25uZWN0YWJsZSB7XG4gIHJlYWRvbmx5IHR5cGUgPSBDSElMRF9QQVJUO1xuICByZWFkb25seSBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuICBfJGNvbW1pdHRlZFZhbHVlOiB1bmtub3duID0gbm90aGluZztcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfX2RpcmVjdGl2ZT86IERpcmVjdGl2ZTtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfJHN0YXJ0Tm9kZTogQ2hpbGROb2RlO1xuICAvKiogQGludGVybmFsICovXG4gIF8kZW5kTm9kZTogQ2hpbGROb2RlIHwgbnVsbDtcbiAgcHJpdmF0ZSBfdGV4dFNhbml0aXplcjogVmFsdWVTYW5pdGl6ZXIgfCB1bmRlZmluZWQ7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgXyRwYXJlbnQ6IERpc2Nvbm5lY3RhYmxlIHwgdW5kZWZpbmVkO1xuICAvKipcbiAgICogQ29ubmVjdGlvbiBzdGF0ZSBmb3IgUm9vdFBhcnRzIG9ubHkgKGkuZS4gQ2hpbGRQYXJ0IHdpdGhvdXQgXyRwYXJlbnRcbiAgICogcmV0dXJuZWQgZnJvbSB0b3AtbGV2ZWwgYHJlbmRlcmApLiBUaGlzIGZpZWxkIGlzIHVuc2VkIG90aGVyd2lzZS4gVGhlXG4gICAqIGludGVudGlvbiB3b3VsZCBjbGVhcmVyIGlmIHdlIG1hZGUgYFJvb3RQYXJ0YCBhIHN1YmNsYXNzIG9mIGBDaGlsZFBhcnRgXG4gICAqIHdpdGggdGhpcyBmaWVsZCAoYW5kIGEgZGlmZmVyZW50IF8kaXNDb25uZWN0ZWQgZ2V0dGVyKSwgYnV0IHRoZSBzdWJjbGFzc1xuICAgKiBjYXVzZWQgYSBwZXJmIHJlZ3Jlc3Npb24sIHBvc3NpYmx5IGR1ZSB0byBtYWtpbmcgY2FsbCBzaXRlcyBwb2x5bW9ycGhpYy5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBfX2lzQ29ubmVjdGVkOiBib29sZWFuO1xuXG4gIC8vIFNlZSBjb21tZW50IGluIERpc2Nvbm5lY3RhYmxlIGludGVyZmFjZSBmb3Igd2h5IHRoaXMgaXMgYSBnZXR0ZXJcbiAgZ2V0IF8kaXNDb25uZWN0ZWQoKSB7XG4gICAgLy8gQ2hpbGRQYXJ0cyB0aGF0IGFyZSBub3QgYXQgdGhlIHJvb3Qgc2hvdWxkIGFsd2F5cyBiZSBjcmVhdGVkIHdpdGggYVxuICAgIC8vIHBhcmVudDsgb25seSBSb290Q2hpbGROb2RlJ3Mgd29uJ3QsIHNvIHRoZXkgcmV0dXJuIHRoZSBsb2NhbCBpc0Nvbm5lY3RlZFxuICAgIC8vIHN0YXRlXG4gICAgcmV0dXJuIHRoaXMuXyRwYXJlbnQ/Ll8kaXNDb25uZWN0ZWQgPz8gdGhpcy5fX2lzQ29ubmVjdGVkO1xuICB9XG5cbiAgLy8gVGhlIGZvbGxvd2luZyBmaWVsZHMgd2lsbCBiZSBwYXRjaGVkIG9udG8gQ2hpbGRQYXJ0cyB3aGVuIHJlcXVpcmVkIGJ5XG4gIC8vIEFzeW5jRGlyZWN0aXZlXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgXyRkaXNjb25uZWN0YWJsZUNoaWxkcmVuPzogU2V0PERpc2Nvbm5lY3RhYmxlPiA9IHVuZGVmaW5lZDtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfJG5vdGlmeUNvbm5lY3Rpb25DaGFuZ2VkPyhcbiAgICBpc0Nvbm5lY3RlZDogYm9vbGVhbixcbiAgICByZW1vdmVGcm9tUGFyZW50PzogYm9vbGVhbixcbiAgICBmcm9tPzogbnVtYmVyXG4gICk6IHZvaWQ7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgXyRyZXBhcmVudERpc2Nvbm5lY3RhYmxlcz8ocGFyZW50OiBEaXNjb25uZWN0YWJsZSk6IHZvaWQ7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgc3RhcnROb2RlOiBDaGlsZE5vZGUsXG4gICAgZW5kTm9kZTogQ2hpbGROb2RlIHwgbnVsbCxcbiAgICBwYXJlbnQ6IFRlbXBsYXRlSW5zdGFuY2UgfCBDaGlsZFBhcnQgfCB1bmRlZmluZWQsXG4gICAgb3B0aW9uczogUmVuZGVyT3B0aW9ucyB8IHVuZGVmaW5lZFxuICApIHtcbiAgICB0aGlzLl8kc3RhcnROb2RlID0gc3RhcnROb2RlO1xuICAgIHRoaXMuXyRlbmROb2RlID0gZW5kTm9kZTtcbiAgICB0aGlzLl8kcGFyZW50ID0gcGFyZW50O1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgLy8gTm90ZSBfX2lzQ29ubmVjdGVkIGlzIG9ubHkgZXZlciBhY2Nlc3NlZCBvbiBSb290UGFydHMgKGkuZS4gd2hlbiB0aGVyZSBpc1xuICAgIC8vIG5vIF8kcGFyZW50KTsgdGhlIHZhbHVlIG9uIGEgbm9uLXJvb3QtcGFydCBpcyBcImRvbid0IGNhcmVcIiwgYnV0IGNoZWNraW5nXG4gICAgLy8gZm9yIHBhcmVudCB3b3VsZCBiZSBtb3JlIGNvZGVcbiAgICB0aGlzLl9faXNDb25uZWN0ZWQgPSBvcHRpb25zPy5pc0Nvbm5lY3RlZCA/PyB0cnVlO1xuICAgIGlmIChFTkFCTEVfRVhUUkFfU0VDVVJJVFlfSE9PS1MpIHtcbiAgICAgIC8vIEV4cGxpY2l0bHkgaW5pdGlhbGl6ZSBmb3IgY29uc2lzdGVudCBjbGFzcyBzaGFwZS5cbiAgICAgIHRoaXMuX3RleHRTYW5pdGl6ZXIgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBwYXJlbnQgbm9kZSBpbnRvIHdoaWNoIHRoZSBwYXJ0IHJlbmRlcnMgaXRzIGNvbnRlbnQuXG4gICAqXG4gICAqIEEgQ2hpbGRQYXJ0J3MgY29udGVudCBjb25zaXN0cyBvZiBhIHJhbmdlIG9mIGFkamFjZW50IGNoaWxkIG5vZGVzIG9mXG4gICAqIGAucGFyZW50Tm9kZWAsIHBvc3NpYmx5IGJvcmRlcmVkIGJ5ICdtYXJrZXIgbm9kZXMnIChgLnN0YXJ0Tm9kZWAgYW5kXG4gICAqIGAuZW5kTm9kZWApLlxuICAgKlxuICAgKiAtIElmIGJvdGggYC5zdGFydE5vZGVgIGFuZCBgLmVuZE5vZGVgIGFyZSBub24tbnVsbCwgdGhlbiB0aGUgcGFydCdzIGNvbnRlbnRcbiAgICogY29uc2lzdHMgb2YgYWxsIHNpYmxpbmdzIGJldHdlZW4gYC5zdGFydE5vZGVgIGFuZCBgLmVuZE5vZGVgLCBleGNsdXNpdmVseS5cbiAgICpcbiAgICogLSBJZiBgLnN0YXJ0Tm9kZWAgaXMgbm9uLW51bGwgYnV0IGAuZW5kTm9kZWAgaXMgbnVsbCwgdGhlbiB0aGUgcGFydCdzXG4gICAqIGNvbnRlbnQgY29uc2lzdHMgb2YgYWxsIHNpYmxpbmdzIGZvbGxvd2luZyBgLnN0YXJ0Tm9kZWAsIHVwIHRvIGFuZFxuICAgKiBpbmNsdWRpbmcgdGhlIGxhc3QgY2hpbGQgb2YgYC5wYXJlbnROb2RlYC4gSWYgYC5lbmROb2RlYCBpcyBub24tbnVsbCwgdGhlblxuICAgKiBgLnN0YXJ0Tm9kZWAgd2lsbCBhbHdheXMgYmUgbm9uLW51bGwuXG4gICAqXG4gICAqIC0gSWYgYm90aCBgLmVuZE5vZGVgIGFuZCBgLnN0YXJ0Tm9kZWAgYXJlIG51bGwsIHRoZW4gdGhlIHBhcnQncyBjb250ZW50XG4gICAqIGNvbnNpc3RzIG9mIGFsbCBjaGlsZCBub2RlcyBvZiBgLnBhcmVudE5vZGVgLlxuICAgKi9cbiAgZ2V0IHBhcmVudE5vZGUoKTogTm9kZSB7XG4gICAgbGV0IHBhcmVudE5vZGU6IE5vZGUgPSB3cmFwKHRoaXMuXyRzdGFydE5vZGUpLnBhcmVudE5vZGUhO1xuICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuXyRwYXJlbnQ7XG4gICAgaWYgKFxuICAgICAgcGFyZW50ICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIHBhcmVudE5vZGUubm9kZVR5cGUgPT09IDExIC8qIE5vZGUuRE9DVU1FTlRfRlJBR01FTlQgKi9cbiAgICApIHtcbiAgICAgIC8vIElmIHRoZSBwYXJlbnROb2RlIGlzIGEgRG9jdW1lbnRGcmFnbWVudCwgaXQgbWF5IGJlIGJlY2F1c2UgdGhlIERPTSBpc1xuICAgICAgLy8gc3RpbGwgaW4gdGhlIGNsb25lZCBmcmFnbWVudCBkdXJpbmcgaW5pdGlhbCByZW5kZXI7IGlmIHNvLCBnZXQgdGhlIHJlYWxcbiAgICAgIC8vIHBhcmVudE5vZGUgdGhlIHBhcnQgd2lsbCBiZSBjb21taXR0ZWQgaW50byBieSBhc2tpbmcgdGhlIHBhcmVudC5cbiAgICAgIHBhcmVudE5vZGUgPSAocGFyZW50IGFzIENoaWxkUGFydCB8IFRlbXBsYXRlSW5zdGFuY2UpLnBhcmVudE5vZGU7XG4gICAgfVxuICAgIHJldHVybiBwYXJlbnROb2RlO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBwYXJ0J3MgbGVhZGluZyBtYXJrZXIgbm9kZSwgaWYgYW55LiBTZWUgYC5wYXJlbnROb2RlYCBmb3IgbW9yZVxuICAgKiBpbmZvcm1hdGlvbi5cbiAgICovXG4gIGdldCBzdGFydE5vZGUoKTogTm9kZSB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLl8kc3RhcnROb2RlO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBwYXJ0J3MgdHJhaWxpbmcgbWFya2VyIG5vZGUsIGlmIGFueS4gU2VlIGAucGFyZW50Tm9kZWAgZm9yIG1vcmVcbiAgICogaW5mb3JtYXRpb24uXG4gICAqL1xuICBnZXQgZW5kTm9kZSgpOiBOb2RlIHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMuXyRlbmROb2RlO1xuICB9XG5cbiAgXyRzZXRWYWx1ZSh2YWx1ZTogdW5rbm93biwgZGlyZWN0aXZlUGFyZW50OiBEaXJlY3RpdmVQYXJlbnQgPSB0aGlzKTogdm9pZCB7XG4gICAgaWYgKERFVl9NT0RFICYmIHRoaXMucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgVGhpcyBcXGBDaGlsZFBhcnRcXGAgaGFzIG5vIFxcYHBhcmVudE5vZGVcXGAgYW5kIHRoZXJlZm9yZSBjYW5ub3QgYWNjZXB0IGEgdmFsdWUuIFRoaXMgbGlrZWx5IG1lYW5zIHRoZSBlbGVtZW50IGNvbnRhaW5pbmcgdGhlIHBhcnQgd2FzIG1hbmlwdWxhdGVkIGluIGFuIHVuc3VwcG9ydGVkIHdheSBvdXRzaWRlIG9mIExpdCdzIGNvbnRyb2wgc3VjaCB0aGF0IHRoZSBwYXJ0J3MgbWFya2VyIG5vZGVzIHdlcmUgZWplY3RlZCBmcm9tIERPTS4gRm9yIGV4YW1wbGUsIHNldHRpbmcgdGhlIGVsZW1lbnQncyBcXGBpbm5lckhUTUxcXGAgb3IgXFxgdGV4dENvbnRlbnRcXGAgY2FuIGRvIHRoaXMuYFxuICAgICAgKTtcbiAgICB9XG4gICAgdmFsdWUgPSByZXNvbHZlRGlyZWN0aXZlKHRoaXMsIHZhbHVlLCBkaXJlY3RpdmVQYXJlbnQpO1xuICAgIGlmIChpc1ByaW1pdGl2ZSh2YWx1ZSkpIHtcbiAgICAgIC8vIE5vbi1yZW5kZXJpbmcgY2hpbGQgdmFsdWVzLiBJdCdzIGltcG9ydGFudCB0aGF0IHRoZXNlIGRvIG5vdCByZW5kZXJcbiAgICAgIC8vIGVtcHR5IHRleHQgbm9kZXMgdG8gYXZvaWQgaXNzdWVzIHdpdGggcHJldmVudGluZyBkZWZhdWx0IDxzbG90PlxuICAgICAgLy8gZmFsbGJhY2sgY29udGVudC5cbiAgICAgIGlmICh2YWx1ZSA9PT0gbm90aGluZyB8fCB2YWx1ZSA9PSBudWxsIHx8IHZhbHVlID09PSAnJykge1xuICAgICAgICBpZiAodGhpcy5fJGNvbW1pdHRlZFZhbHVlICE9PSBub3RoaW5nKSB7XG4gICAgICAgICAgZGVidWdMb2dFdmVudD8uKHtcbiAgICAgICAgICAgIGtpbmQ6ICdjb21taXQgbm90aGluZyB0byBjaGlsZCcsXG4gICAgICAgICAgICBzdGFydDogdGhpcy5fJHN0YXJ0Tm9kZSxcbiAgICAgICAgICAgIGVuZDogdGhpcy5fJGVuZE5vZGUsXG4gICAgICAgICAgICBwYXJlbnQ6IHRoaXMuXyRwYXJlbnQsXG4gICAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGhpcy5fJGNsZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlID0gbm90aGluZztcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUgIT09IHRoaXMuXyRjb21taXR0ZWRWYWx1ZSAmJiB2YWx1ZSAhPT0gbm9DaGFuZ2UpIHtcbiAgICAgICAgdGhpcy5fY29tbWl0VGV4dCh2YWx1ZSk7XG4gICAgICB9XG4gICAgICAvLyBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICAgIH0gZWxzZSBpZiAoKHZhbHVlIGFzIFRlbXBsYXRlUmVzdWx0KVsnXyRsaXRUeXBlJCddICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuX2NvbW1pdFRlbXBsYXRlUmVzdWx0KHZhbHVlIGFzIFRlbXBsYXRlUmVzdWx0KTtcbiAgICB9IGVsc2UgaWYgKCh2YWx1ZSBhcyBOb2RlKS5ub2RlVHlwZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLl9jb21taXROb2RlKHZhbHVlIGFzIE5vZGUpO1xuICAgIH0gZWxzZSBpZiAoaXNJdGVyYWJsZSh2YWx1ZSkpIHtcbiAgICAgIHRoaXMuX2NvbW1pdEl0ZXJhYmxlKHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRmFsbGJhY2ssIHdpbGwgcmVuZGVyIHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiAgICAgIHRoaXMuX2NvbW1pdFRleHQodmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX2luc2VydDxUIGV4dGVuZHMgTm9kZT4obm9kZTogVCwgcmVmID0gdGhpcy5fJGVuZE5vZGUpIHtcbiAgICByZXR1cm4gd3JhcCh3cmFwKHRoaXMuXyRzdGFydE5vZGUpLnBhcmVudE5vZGUhKS5pbnNlcnRCZWZvcmUobm9kZSwgcmVmKTtcbiAgfVxuXG4gIHByaXZhdGUgX2NvbW1pdE5vZGUodmFsdWU6IE5vZGUpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5fJGNvbW1pdHRlZFZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgdGhpcy5fJGNsZWFyKCk7XG4gICAgICBpZiAoXG4gICAgICAgIEVOQUJMRV9FWFRSQV9TRUNVUklUWV9IT09LUyAmJlxuICAgICAgICBzYW5pdGl6ZXJGYWN0b3J5SW50ZXJuYWwgIT09IG5vb3BTYW5pdGl6ZXJcbiAgICAgICkge1xuICAgICAgICBjb25zdCBwYXJlbnROb2RlTmFtZSA9IHRoaXMuXyRzdGFydE5vZGUucGFyZW50Tm9kZT8ubm9kZU5hbWU7XG4gICAgICAgIGlmIChwYXJlbnROb2RlTmFtZSA9PT0gJ1NUWUxFJyB8fCBwYXJlbnROb2RlTmFtZSA9PT0gJ1NDUklQVCcpIHtcbiAgICAgICAgICBsZXQgbWVzc2FnZSA9ICdGb3JiaWRkZW4nO1xuICAgICAgICAgIGlmIChERVZfTU9ERSkge1xuICAgICAgICAgICAgaWYgKHBhcmVudE5vZGVOYW1lID09PSAnU1RZTEUnKSB7XG4gICAgICAgICAgICAgIG1lc3NhZ2UgPVxuICAgICAgICAgICAgICAgIGBMaXQgZG9lcyBub3Qgc3VwcG9ydCBiaW5kaW5nIGluc2lkZSBzdHlsZSBub2Rlcy4gYCArXG4gICAgICAgICAgICAgICAgYFRoaXMgaXMgYSBzZWN1cml0eSByaXNrLCBhcyBzdHlsZSBpbmplY3Rpb24gYXR0YWNrcyBjYW4gYCArXG4gICAgICAgICAgICAgICAgYGV4ZmlsdHJhdGUgZGF0YSBhbmQgc3Bvb2YgVUlzLiBgICtcbiAgICAgICAgICAgICAgICBgQ29uc2lkZXIgaW5zdGVhZCB1c2luZyBjc3NcXGAuLi5cXGAgbGl0ZXJhbHMgYCArXG4gICAgICAgICAgICAgICAgYHRvIGNvbXBvc2Ugc3R5bGVzLCBhbmQgbWFrZSBkbyBkeW5hbWljIHN0eWxpbmcgd2l0aCBgICtcbiAgICAgICAgICAgICAgICBgY3NzIGN1c3RvbSBwcm9wZXJ0aWVzLCA6OnBhcnRzLCA8c2xvdD5zLCBgICtcbiAgICAgICAgICAgICAgICBgYW5kIGJ5IG11dGF0aW5nIHRoZSBET00gcmF0aGVyIHRoYW4gc3R5bGVzaGVldHMuYDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG1lc3NhZ2UgPVxuICAgICAgICAgICAgICAgIGBMaXQgZG9lcyBub3Qgc3VwcG9ydCBiaW5kaW5nIGluc2lkZSBzY3JpcHQgbm9kZXMuIGAgK1xuICAgICAgICAgICAgICAgIGBUaGlzIGlzIGEgc2VjdXJpdHkgcmlzaywgYXMgaXQgY291bGQgYWxsb3cgYXJiaXRyYXJ5IGAgK1xuICAgICAgICAgICAgICAgIGBjb2RlIGV4ZWN1dGlvbi5gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGRlYnVnTG9nRXZlbnQ/Lih7XG4gICAgICAgIGtpbmQ6ICdjb21taXQgbm9kZScsXG4gICAgICAgIHN0YXJ0OiB0aGlzLl8kc3RhcnROb2RlLFxuICAgICAgICBwYXJlbnQ6IHRoaXMuXyRwYXJlbnQsXG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgfSk7XG4gICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWUgPSB0aGlzLl9pbnNlcnQodmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX2NvbW1pdFRleHQodmFsdWU6IHVua25vd24pOiB2b2lkIHtcbiAgICAvLyBJZiB0aGUgY29tbWl0dGVkIHZhbHVlIGlzIGEgcHJpbWl0aXZlIGl0IG1lYW5zIHdlIGNhbGxlZCBfY29tbWl0VGV4dCBvblxuICAgIC8vIHRoZSBwcmV2aW91cyByZW5kZXIsIGFuZCB3ZSBrbm93IHRoYXQgdGhpcy5fJHN0YXJ0Tm9kZS5uZXh0U2libGluZyBpcyBhXG4gICAgLy8gVGV4dCBub2RlLiBXZSBjYW4gbm93IGp1c3QgcmVwbGFjZSB0aGUgdGV4dCBjb250ZW50ICguZGF0YSkgb2YgdGhlIG5vZGUuXG4gICAgaWYgKFxuICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlICE9PSBub3RoaW5nICYmXG4gICAgICBpc1ByaW1pdGl2ZSh0aGlzLl8kY29tbWl0dGVkVmFsdWUpXG4gICAgKSB7XG4gICAgICBjb25zdCBub2RlID0gd3JhcCh0aGlzLl8kc3RhcnROb2RlKS5uZXh0U2libGluZyBhcyBUZXh0O1xuICAgICAgaWYgKEVOQUJMRV9FWFRSQV9TRUNVUklUWV9IT09LUykge1xuICAgICAgICBpZiAodGhpcy5fdGV4dFNhbml0aXplciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGhpcy5fdGV4dFNhbml0aXplciA9IGNyZWF0ZVNhbml0aXplcihub2RlLCAnZGF0YScsICdwcm9wZXJ0eScpO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlID0gdGhpcy5fdGV4dFNhbml0aXplcih2YWx1ZSk7XG4gICAgICB9XG4gICAgICBkZWJ1Z0xvZ0V2ZW50Py4oe1xuICAgICAgICBraW5kOiAnY29tbWl0IHRleHQnLFxuICAgICAgICBub2RlLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgfSk7XG4gICAgICAobm9kZSBhcyBUZXh0KS5kYXRhID0gdmFsdWUgYXMgc3RyaW5nO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoRU5BQkxFX0VYVFJBX1NFQ1VSSVRZX0hPT0tTKSB7XG4gICAgICAgIGNvbnN0IHRleHROb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICAgICAgICB0aGlzLl9jb21taXROb2RlKHRleHROb2RlKTtcbiAgICAgICAgLy8gV2hlbiBzZXR0aW5nIHRleHQgY29udGVudCwgZm9yIHNlY3VyaXR5IHB1cnBvc2VzIGl0IG1hdHRlcnMgYSBsb3RcbiAgICAgICAgLy8gd2hhdCB0aGUgcGFyZW50IGlzLiBGb3IgZXhhbXBsZSwgPHN0eWxlPiBhbmQgPHNjcmlwdD4gbmVlZCB0byBiZVxuICAgICAgICAvLyBoYW5kbGVkIHdpdGggY2FyZSwgd2hpbGUgPHNwYW4+IGRvZXMgbm90LiBTbyBmaXJzdCB3ZSBuZWVkIHRvIHB1dCBhXG4gICAgICAgIC8vIHRleHQgbm9kZSBpbnRvIHRoZSBkb2N1bWVudCwgdGhlbiB3ZSBjYW4gc2FuaXRpemUgaXRzIGNvbnRlbnQuXG4gICAgICAgIGlmICh0aGlzLl90ZXh0U2FuaXRpemVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0aGlzLl90ZXh0U2FuaXRpemVyID0gY3JlYXRlU2FuaXRpemVyKHRleHROb2RlLCAnZGF0YScsICdwcm9wZXJ0eScpO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlID0gdGhpcy5fdGV4dFNhbml0aXplcih2YWx1ZSk7XG4gICAgICAgIGRlYnVnTG9nRXZlbnQ/Lih7XG4gICAgICAgICAga2luZDogJ2NvbW1pdCB0ZXh0JyxcbiAgICAgICAgICBub2RlOiB0ZXh0Tm9kZSxcbiAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgIH0pO1xuICAgICAgICB0ZXh0Tm9kZS5kYXRhID0gdmFsdWUgYXMgc3RyaW5nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fY29tbWl0Tm9kZShkLmNyZWF0ZVRleHROb2RlKHZhbHVlIGFzIHN0cmluZykpO1xuICAgICAgICBkZWJ1Z0xvZ0V2ZW50Py4oe1xuICAgICAgICAgIGtpbmQ6ICdjb21taXQgdGV4dCcsXG4gICAgICAgICAgbm9kZTogd3JhcCh0aGlzLl8kc3RhcnROb2RlKS5uZXh0U2libGluZyBhcyBUZXh0LFxuICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuXyRjb21taXR0ZWRWYWx1ZSA9IHZhbHVlO1xuICB9XG5cbiAgcHJpdmF0ZSBfY29tbWl0VGVtcGxhdGVSZXN1bHQoXG4gICAgcmVzdWx0OiBUZW1wbGF0ZVJlc3VsdCB8IENvbXBpbGVkVGVtcGxhdGVSZXN1bHRcbiAgKTogdm9pZCB7XG4gICAgLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgICBjb25zdCB7dmFsdWVzLCBbJ18kbGl0VHlwZSQnXTogdHlwZX0gPSByZXN1bHQ7XG4gICAgLy8gSWYgJGxpdFR5cGUkIGlzIGEgbnVtYmVyLCByZXN1bHQgaXMgYSBwbGFpbiBUZW1wbGF0ZVJlc3VsdCBhbmQgd2UgZ2V0XG4gICAgLy8gdGhlIHRlbXBsYXRlIGZyb20gdGhlIHRlbXBsYXRlIGNhY2hlLiBJZiBub3QsIHJlc3VsdCBpcyBhXG4gICAgLy8gQ29tcGlsZWRUZW1wbGF0ZVJlc3VsdCBhbmQgXyRsaXRUeXBlJCBpcyBhIENvbXBpbGVkVGVtcGxhdGUgYW5kIHdlIG5lZWRcbiAgICAvLyB0byBjcmVhdGUgdGhlIDx0ZW1wbGF0ZT4gZWxlbWVudCB0aGUgZmlyc3QgdGltZSB3ZSBzZWUgaXQuXG4gICAgY29uc3QgdGVtcGxhdGU6IFRlbXBsYXRlIHwgQ29tcGlsZWRUZW1wbGF0ZSA9XG4gICAgICB0eXBlb2YgdHlwZSA9PT0gJ251bWJlcidcbiAgICAgICAgPyB0aGlzLl8kZ2V0VGVtcGxhdGUocmVzdWx0IGFzIFRlbXBsYXRlUmVzdWx0KVxuICAgICAgICA6ICh0eXBlLmVsID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICh0eXBlLmVsID0gVGVtcGxhdGUuY3JlYXRlRWxlbWVudCh0eXBlLmgsIHRoaXMub3B0aW9ucykpLFxuICAgICAgICAgIHR5cGUpO1xuXG4gICAgaWYgKCh0aGlzLl8kY29tbWl0dGVkVmFsdWUgYXMgVGVtcGxhdGVJbnN0YW5jZSk/Ll8kdGVtcGxhdGUgPT09IHRlbXBsYXRlKSB7XG4gICAgICBkZWJ1Z0xvZ0V2ZW50Py4oe1xuICAgICAgICBraW5kOiAndGVtcGxhdGUgdXBkYXRpbmcnLFxuICAgICAgICB0ZW1wbGF0ZSxcbiAgICAgICAgaW5zdGFuY2U6IHRoaXMuXyRjb21taXR0ZWRWYWx1ZSBhcyBUZW1wbGF0ZUluc3RhbmNlLFxuICAgICAgICBwYXJ0czogKHRoaXMuXyRjb21taXR0ZWRWYWx1ZSBhcyBUZW1wbGF0ZUluc3RhbmNlKS5fcGFydHMsXG4gICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgICAgdmFsdWVzLFxuICAgICAgfSk7XG4gICAgICAodGhpcy5fJGNvbW1pdHRlZFZhbHVlIGFzIFRlbXBsYXRlSW5zdGFuY2UpLl91cGRhdGUodmFsdWVzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgaW5zdGFuY2UgPSBuZXcgVGVtcGxhdGVJbnN0YW5jZSh0ZW1wbGF0ZSBhcyBUZW1wbGF0ZSwgdGhpcyk7XG4gICAgICBjb25zdCBmcmFnbWVudCA9IGluc3RhbmNlLl9jbG9uZSh0aGlzLm9wdGlvbnMpO1xuICAgICAgZGVidWdMb2dFdmVudD8uKHtcbiAgICAgICAga2luZDogJ3RlbXBsYXRlIGluc3RhbnRpYXRlZCcsXG4gICAgICAgIHRlbXBsYXRlLFxuICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgcGFydHM6IGluc3RhbmNlLl9wYXJ0cyxcbiAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICBmcmFnbWVudCxcbiAgICAgICAgdmFsdWVzLFxuICAgICAgfSk7XG4gICAgICBpbnN0YW5jZS5fdXBkYXRlKHZhbHVlcyk7XG4gICAgICBkZWJ1Z0xvZ0V2ZW50Py4oe1xuICAgICAgICBraW5kOiAndGVtcGxhdGUgaW5zdGFudGlhdGVkIGFuZCB1cGRhdGVkJyxcbiAgICAgICAgdGVtcGxhdGUsXG4gICAgICAgIGluc3RhbmNlLFxuICAgICAgICBwYXJ0czogaW5zdGFuY2UuX3BhcnRzLFxuICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgIGZyYWdtZW50LFxuICAgICAgICB2YWx1ZXMsXG4gICAgICB9KTtcbiAgICAgIHRoaXMuX2NvbW1pdE5vZGUoZnJhZ21lbnQpO1xuICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlID0gaW5zdGFuY2U7XG4gICAgfVxuICB9XG5cbiAgLy8gT3ZlcnJpZGRlbiB2aWEgYGxpdEh0bWxQb2x5ZmlsbFN1cHBvcnRgIHRvIHByb3ZpZGUgcGxhdGZvcm0gc3VwcG9ydC5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfJGdldFRlbXBsYXRlKHJlc3VsdDogVGVtcGxhdGVSZXN1bHQpIHtcbiAgICBsZXQgdGVtcGxhdGUgPSB0ZW1wbGF0ZUNhY2hlLmdldChyZXN1bHQuc3RyaW5ncyk7XG4gICAgaWYgKHRlbXBsYXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRlbXBsYXRlQ2FjaGUuc2V0KHJlc3VsdC5zdHJpbmdzLCAodGVtcGxhdGUgPSBuZXcgVGVtcGxhdGUocmVzdWx0KSkpO1xuICAgIH1cbiAgICByZXR1cm4gdGVtcGxhdGU7XG4gIH1cblxuICBwcml2YXRlIF9jb21taXRJdGVyYWJsZSh2YWx1ZTogSXRlcmFibGU8dW5rbm93bj4pOiB2b2lkIHtcbiAgICAvLyBGb3IgYW4gSXRlcmFibGUsIHdlIGNyZWF0ZSBhIG5ldyBJbnN0YW5jZVBhcnQgcGVyIGl0ZW0sIHRoZW4gc2V0IGl0c1xuICAgIC8vIHZhbHVlIHRvIHRoZSBpdGVtLiBUaGlzIGlzIGEgbGl0dGxlIGJpdCBvZiBvdmVyaGVhZCBmb3IgZXZlcnkgaXRlbSBpblxuICAgIC8vIGFuIEl0ZXJhYmxlLCBidXQgaXQgbGV0cyB1cyByZWN1cnNlIGVhc2lseSBhbmQgZWZmaWNpZW50bHkgdXBkYXRlIEFycmF5c1xuICAgIC8vIG9mIFRlbXBsYXRlUmVzdWx0cyB0aGF0IHdpbGwgYmUgY29tbW9ubHkgcmV0dXJuZWQgZnJvbSBleHByZXNzaW9ucyBsaWtlOlxuICAgIC8vIGFycmF5Lm1hcCgoaSkgPT4gaHRtbGAke2l9YCksIGJ5IHJldXNpbmcgZXhpc3RpbmcgVGVtcGxhdGVJbnN0YW5jZXMuXG5cbiAgICAvLyBJZiB2YWx1ZSBpcyBhbiBhcnJheSwgdGhlbiB0aGUgcHJldmlvdXMgcmVuZGVyIHdhcyBvZiBhblxuICAgIC8vIGl0ZXJhYmxlIGFuZCB2YWx1ZSB3aWxsIGNvbnRhaW4gdGhlIENoaWxkUGFydHMgZnJvbSB0aGUgcHJldmlvdXNcbiAgICAvLyByZW5kZXIuIElmIHZhbHVlIGlzIG5vdCBhbiBhcnJheSwgY2xlYXIgdGhpcyBwYXJ0IGFuZCBtYWtlIGEgbmV3XG4gICAgLy8gYXJyYXkgZm9yIENoaWxkUGFydHMuXG4gICAgaWYgKCFpc0FycmF5KHRoaXMuXyRjb21taXR0ZWRWYWx1ZSkpIHtcbiAgICAgIHRoaXMuXyRjb21taXR0ZWRWYWx1ZSA9IFtdO1xuICAgICAgdGhpcy5fJGNsZWFyKCk7XG4gICAgfVxuXG4gICAgLy8gTGV0cyB1cyBrZWVwIHRyYWNrIG9mIGhvdyBtYW55IGl0ZW1zIHdlIHN0YW1wZWQgc28gd2UgY2FuIGNsZWFyIGxlZnRvdmVyXG4gICAgLy8gaXRlbXMgZnJvbSBhIHByZXZpb3VzIHJlbmRlclxuICAgIGNvbnN0IGl0ZW1QYXJ0cyA9IHRoaXMuXyRjb21taXR0ZWRWYWx1ZSBhcyBDaGlsZFBhcnRbXTtcbiAgICBsZXQgcGFydEluZGV4ID0gMDtcbiAgICBsZXQgaXRlbVBhcnQ6IENoaWxkUGFydCB8IHVuZGVmaW5lZDtcblxuICAgIGZvciAoY29uc3QgaXRlbSBvZiB2YWx1ZSkge1xuICAgICAgaWYgKHBhcnRJbmRleCA9PT0gaXRlbVBhcnRzLmxlbmd0aCkge1xuICAgICAgICAvLyBJZiBubyBleGlzdGluZyBwYXJ0LCBjcmVhdGUgYSBuZXcgb25lXG4gICAgICAgIC8vIFRPRE8gKGp1c3RpbmZhZ25hbmkpOiB0ZXN0IHBlcmYgaW1wYWN0IG9mIGFsd2F5cyBjcmVhdGluZyB0d28gcGFydHNcbiAgICAgICAgLy8gaW5zdGVhZCBvZiBzaGFyaW5nIHBhcnRzIGJldHdlZW4gbm9kZXNcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2xpdC9saXQvaXNzdWVzLzEyNjZcbiAgICAgICAgaXRlbVBhcnRzLnB1c2goXG4gICAgICAgICAgKGl0ZW1QYXJ0ID0gbmV3IENoaWxkUGFydChcbiAgICAgICAgICAgIHRoaXMuX2luc2VydChjcmVhdGVNYXJrZXIoKSksXG4gICAgICAgICAgICB0aGlzLl9pbnNlcnQoY3JlYXRlTWFya2VyKCkpLFxuICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgIHRoaXMub3B0aW9uc1xuICAgICAgICAgICkpXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBSZXVzZSBhbiBleGlzdGluZyBwYXJ0XG4gICAgICAgIGl0ZW1QYXJ0ID0gaXRlbVBhcnRzW3BhcnRJbmRleF07XG4gICAgICB9XG4gICAgICBpdGVtUGFydC5fJHNldFZhbHVlKGl0ZW0pO1xuICAgICAgcGFydEluZGV4Kys7XG4gICAgfVxuXG4gICAgaWYgKHBhcnRJbmRleCA8IGl0ZW1QYXJ0cy5sZW5ndGgpIHtcbiAgICAgIC8vIGl0ZW1QYXJ0cyBhbHdheXMgaGF2ZSBlbmQgbm9kZXNcbiAgICAgIHRoaXMuXyRjbGVhcihcbiAgICAgICAgaXRlbVBhcnQgJiYgd3JhcChpdGVtUGFydC5fJGVuZE5vZGUhKS5uZXh0U2libGluZyxcbiAgICAgICAgcGFydEluZGV4XG4gICAgICApO1xuICAgICAgLy8gVHJ1bmNhdGUgdGhlIHBhcnRzIGFycmF5IHNvIF92YWx1ZSByZWZsZWN0cyB0aGUgY3VycmVudCBzdGF0ZVxuICAgICAgaXRlbVBhcnRzLmxlbmd0aCA9IHBhcnRJbmRleDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyB0aGUgbm9kZXMgY29udGFpbmVkIHdpdGhpbiB0aGlzIFBhcnQgZnJvbSB0aGUgRE9NLlxuICAgKlxuICAgKiBAcGFyYW0gc3RhcnQgU3RhcnQgbm9kZSB0byBjbGVhciBmcm9tLCBmb3IgY2xlYXJpbmcgYSBzdWJzZXQgb2YgdGhlIHBhcnQnc1xuICAgKiAgICAgRE9NICh1c2VkIHdoZW4gdHJ1bmNhdGluZyBpdGVyYWJsZXMpXG4gICAqIEBwYXJhbSBmcm9tICBXaGVuIGBzdGFydGAgaXMgc3BlY2lmaWVkLCB0aGUgaW5kZXggd2l0aGluIHRoZSBpdGVyYWJsZSBmcm9tXG4gICAqICAgICB3aGljaCBDaGlsZFBhcnRzIGFyZSBiZWluZyByZW1vdmVkLCB1c2VkIGZvciBkaXNjb25uZWN0aW5nIGRpcmVjdGl2ZXMgaW5cbiAgICogICAgIHRob3NlIFBhcnRzLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIF8kY2xlYXIoXG4gICAgc3RhcnQ6IENoaWxkTm9kZSB8IG51bGwgPSB3cmFwKHRoaXMuXyRzdGFydE5vZGUpLm5leHRTaWJsaW5nLFxuICAgIGZyb20/OiBudW1iZXJcbiAgKSB7XG4gICAgdGhpcy5fJG5vdGlmeUNvbm5lY3Rpb25DaGFuZ2VkPy4oZmFsc2UsIHRydWUsIGZyb20pO1xuICAgIHdoaWxlIChzdGFydCAmJiBzdGFydCAhPT0gdGhpcy5fJGVuZE5vZGUpIHtcbiAgICAgIGNvbnN0IG4gPSB3cmFwKHN0YXJ0ISkubmV4dFNpYmxpbmc7XG4gICAgICAod3JhcChzdGFydCEpIGFzIEVsZW1lbnQpLnJlbW92ZSgpO1xuICAgICAgc3RhcnQgPSBuO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogSW1wbGVtZW50YXRpb24gb2YgUm9vdFBhcnQncyBgaXNDb25uZWN0ZWRgLiBOb3RlIHRoYXQgdGhpcyBtZXRvZFxuICAgKiBzaG91bGQgb25seSBiZSBjYWxsZWQgb24gYFJvb3RQYXJ0YHMgKHRoZSBgQ2hpbGRQYXJ0YCByZXR1cm5lZCBmcm9tIGFcbiAgICogdG9wLWxldmVsIGByZW5kZXIoKWAgY2FsbCkuIEl0IGhhcyBubyBlZmZlY3Qgb24gbm9uLXJvb3QgQ2hpbGRQYXJ0cy5cbiAgICogQHBhcmFtIGlzQ29ubmVjdGVkIFdoZXRoZXIgdG8gc2V0XG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgc2V0Q29ubmVjdGVkKGlzQ29ubmVjdGVkOiBib29sZWFuKSB7XG4gICAgaWYgKHRoaXMuXyRwYXJlbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5fX2lzQ29ubmVjdGVkID0gaXNDb25uZWN0ZWQ7XG4gICAgICB0aGlzLl8kbm90aWZ5Q29ubmVjdGlvbkNoYW5nZWQ/Lihpc0Nvbm5lY3RlZCk7XG4gICAgfSBlbHNlIGlmIChERVZfTU9ERSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAncGFydC5zZXRDb25uZWN0ZWQoKSBtYXkgb25seSBiZSBjYWxsZWQgb24gYSAnICtcbiAgICAgICAgICAnUm9vdFBhcnQgcmV0dXJuZWQgZnJvbSByZW5kZXIoKS4nXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEEgdG9wLWxldmVsIGBDaGlsZFBhcnRgIHJldHVybmVkIGZyb20gYHJlbmRlcmAgdGhhdCBtYW5hZ2VzIHRoZSBjb25uZWN0ZWRcbiAqIHN0YXRlIG9mIGBBc3luY0RpcmVjdGl2ZWBzIGNyZWF0ZWQgdGhyb3VnaG91dCB0aGUgdHJlZSBiZWxvdyBpdC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSb290UGFydCBleHRlbmRzIENoaWxkUGFydCB7XG4gIC8qKlxuICAgKiBTZXRzIHRoZSBjb25uZWN0aW9uIHN0YXRlIGZvciBgQXN5bmNEaXJlY3RpdmVgcyBjb250YWluZWQgd2l0aGluIHRoaXMgcm9vdFxuICAgKiBDaGlsZFBhcnQuXG4gICAqXG4gICAqIGxpdC1odG1sIGRvZXMgbm90IGF1dG9tYXRpY2FsbHkgbW9uaXRvciB0aGUgY29ubmVjdGVkbmVzcyBvZiBET00gcmVuZGVyZWQ7XG4gICAqIGFzIHN1Y2gsIGl0IGlzIHRoZSByZXNwb25zaWJpbGl0eSBvZiB0aGUgY2FsbGVyIHRvIGByZW5kZXJgIHRvIGVuc3VyZSB0aGF0XG4gICAqIGBwYXJ0LnNldENvbm5lY3RlZChmYWxzZSlgIGlzIGNhbGxlZCBiZWZvcmUgdGhlIHBhcnQgb2JqZWN0IGlzIHBvdGVudGlhbGx5XG4gICAqIGRpc2NhcmRlZCwgdG8gZW5zdXJlIHRoYXQgYEFzeW5jRGlyZWN0aXZlYHMgaGF2ZSBhIGNoYW5jZSB0byBkaXNwb3NlIG9mXG4gICAqIGFueSByZXNvdXJjZXMgYmVpbmcgaGVsZC4gSWYgYSBgUm9vdFBhcnRgIHRoYXQgd2FzIHByZXZvdXNseVxuICAgKiBkaXNjb25uZWN0ZWQgaXMgc3Vic2VxdWVudGx5IHJlLWNvbm5lY3RlZCAoYW5kIGl0cyBgQXN5bmNEaXJlY3RpdmVgcyBzaG91bGRcbiAgICogcmUtY29ubmVjdCksIGBzZXRDb25uZWN0ZWQodHJ1ZSlgIHNob3VsZCBiZSBjYWxsZWQuXG4gICAqXG4gICAqIEBwYXJhbSBpc0Nvbm5lY3RlZCBXaGV0aGVyIGRpcmVjdGl2ZXMgd2l0aGluIHRoaXMgdHJlZSBzaG91bGQgYmUgY29ubmVjdGVkXG4gICAqIG9yIG5vdFxuICAgKi9cbiAgc2V0Q29ubmVjdGVkKGlzQ29ubmVjdGVkOiBib29sZWFuKTogdm9pZDtcbn1cblxuZXhwb3J0IHR5cGUge0F0dHJpYnV0ZVBhcnR9O1xuY2xhc3MgQXR0cmlidXRlUGFydCBpbXBsZW1lbnRzIERpc2Nvbm5lY3RhYmxlIHtcbiAgcmVhZG9ubHkgdHlwZSA9IEFUVFJJQlVURV9QQVJUIGFzXG4gICAgfCB0eXBlb2YgQVRUUklCVVRFX1BBUlRcbiAgICB8IHR5cGVvZiBQUk9QRVJUWV9QQVJUXG4gICAgfCB0eXBlb2YgQk9PTEVBTl9BVFRSSUJVVEVfUEFSVFxuICAgIHwgdHlwZW9mIEVWRU5UX1BBUlQ7XG4gIHJlYWRvbmx5IGVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICByZWFkb25seSBuYW1lOiBzdHJpbmc7XG4gIHJlYWRvbmx5IG9wdGlvbnM6IFJlbmRlck9wdGlvbnMgfCB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIElmIHRoaXMgYXR0cmlidXRlIHBhcnQgcmVwcmVzZW50cyBhbiBpbnRlcnBvbGF0aW9uLCB0aGlzIGNvbnRhaW5zIHRoZVxuICAgKiBzdGF0aWMgc3RyaW5ncyBvZiB0aGUgaW50ZXJwb2xhdGlvbi4gRm9yIHNpbmdsZS12YWx1ZSwgY29tcGxldGUgYmluZGluZ3MsXG4gICAqIHRoaXMgaXMgdW5kZWZpbmVkLlxuICAgKi9cbiAgcmVhZG9ubHkgc3RyaW5ncz86IFJlYWRvbmx5QXJyYXk8c3RyaW5nPjtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfJGNvbW1pdHRlZFZhbHVlOiB1bmtub3duIHwgQXJyYXk8dW5rbm93bj4gPSBub3RoaW5nO1xuICAvKiogQGludGVybmFsICovXG4gIF9fZGlyZWN0aXZlcz86IEFycmF5PERpcmVjdGl2ZSB8IHVuZGVmaW5lZD47XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgXyRwYXJlbnQ6IERpc2Nvbm5lY3RhYmxlO1xuICAvKiogQGludGVybmFsICovXG4gIF8kZGlzY29ubmVjdGFibGVDaGlsZHJlbj86IFNldDxEaXNjb25uZWN0YWJsZT4gPSB1bmRlZmluZWQ7XG5cbiAgcHJvdGVjdGVkIF9zYW5pdGl6ZXI6IFZhbHVlU2FuaXRpemVyIHwgdW5kZWZpbmVkO1xuXG4gIGdldCB0YWdOYW1lKCkge1xuICAgIHJldHVybiB0aGlzLmVsZW1lbnQudGFnTmFtZTtcbiAgfVxuXG4gIC8vIFNlZSBjb21tZW50IGluIERpc2Nvbm5lY3RhYmxlIGludGVyZmFjZSBmb3Igd2h5IHRoaXMgaXMgYSBnZXR0ZXJcbiAgZ2V0IF8kaXNDb25uZWN0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuXyRwYXJlbnQuXyRpc0Nvbm5lY3RlZDtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGVsZW1lbnQ6IEhUTUxFbGVtZW50LFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBzdHJpbmdzOiBSZWFkb25seUFycmF5PHN0cmluZz4sXG4gICAgcGFyZW50OiBEaXNjb25uZWN0YWJsZSxcbiAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkXG4gICkge1xuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLl8kcGFyZW50ID0gcGFyZW50O1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgaWYgKHN0cmluZ3MubGVuZ3RoID4gMiB8fCBzdHJpbmdzWzBdICE9PSAnJyB8fCBzdHJpbmdzWzFdICE9PSAnJykge1xuICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlID0gbmV3IEFycmF5KHN0cmluZ3MubGVuZ3RoIC0gMSkuZmlsbChuZXcgU3RyaW5nKCkpO1xuICAgICAgdGhpcy5zdHJpbmdzID0gc3RyaW5ncztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlID0gbm90aGluZztcbiAgICB9XG4gICAgaWYgKEVOQUJMRV9FWFRSQV9TRUNVUklUWV9IT09LUykge1xuICAgICAgdGhpcy5fc2FuaXRpemVyID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSB2YWx1ZSBvZiB0aGlzIHBhcnQgYnkgcmVzb2x2aW5nIHRoZSB2YWx1ZSBmcm9tIHBvc3NpYmx5IG11bHRpcGxlXG4gICAqIHZhbHVlcyBhbmQgc3RhdGljIHN0cmluZ3MgYW5kIGNvbW1pdHRpbmcgaXQgdG8gdGhlIERPTS5cbiAgICogSWYgdGhpcyBwYXJ0IGlzIHNpbmdsZS12YWx1ZWQsIGB0aGlzLl9zdHJpbmdzYCB3aWxsIGJlIHVuZGVmaW5lZCwgYW5kIHRoZVxuICAgKiBtZXRob2Qgd2lsbCBiZSBjYWxsZWQgd2l0aCBhIHNpbmdsZSB2YWx1ZSBhcmd1bWVudC4gSWYgdGhpcyBwYXJ0IGlzXG4gICAqIG11bHRpLXZhbHVlLCBgdGhpcy5fc3RyaW5nc2Agd2lsbCBiZSBkZWZpbmVkLCBhbmQgdGhlIG1ldGhvZCBpcyBjYWxsZWRcbiAgICogd2l0aCB0aGUgdmFsdWUgYXJyYXkgb2YgdGhlIHBhcnQncyBvd25pbmcgVGVtcGxhdGVJbnN0YW5jZSwgYW5kIGFuIG9mZnNldFxuICAgKiBpbnRvIHRoZSB2YWx1ZSBhcnJheSBmcm9tIHdoaWNoIHRoZSB2YWx1ZXMgc2hvdWxkIGJlIHJlYWQuXG4gICAqIFRoaXMgbWV0aG9kIGlzIG92ZXJsb2FkZWQgdGhpcyB3YXkgdG8gZWxpbWluYXRlIHNob3J0LWxpdmVkIGFycmF5IHNsaWNlc1xuICAgKiBvZiB0aGUgdGVtcGxhdGUgaW5zdGFuY2UgdmFsdWVzLCBhbmQgYWxsb3cgYSBmYXN0LXBhdGggZm9yIHNpbmdsZS12YWx1ZWRcbiAgICogcGFydHMuXG4gICAqXG4gICAqIEBwYXJhbSB2YWx1ZSBUaGUgcGFydCB2YWx1ZSwgb3IgYW4gYXJyYXkgb2YgdmFsdWVzIGZvciBtdWx0aS12YWx1ZWQgcGFydHNcbiAgICogQHBhcmFtIHZhbHVlSW5kZXggdGhlIGluZGV4IHRvIHN0YXJ0IHJlYWRpbmcgdmFsdWVzIGZyb20uIGB1bmRlZmluZWRgIGZvclxuICAgKiAgIHNpbmdsZS12YWx1ZWQgcGFydHNcbiAgICogQHBhcmFtIG5vQ29tbWl0IGNhdXNlcyB0aGUgcGFydCB0byBub3QgY29tbWl0IGl0cyB2YWx1ZSB0byB0aGUgRE9NLiBVc2VkXG4gICAqICAgaW4gaHlkcmF0aW9uIHRvIHByaW1lIGF0dHJpYnV0ZSBwYXJ0cyB3aXRoIHRoZWlyIGZpcnN0LXJlbmRlcmVkIHZhbHVlLFxuICAgKiAgIGJ1dCBub3Qgc2V0IHRoZSBhdHRyaWJ1dGUsIGFuZCBpbiBTU1IgdG8gbm8tb3AgdGhlIERPTSBvcGVyYXRpb24gYW5kXG4gICAqICAgY2FwdHVyZSB0aGUgdmFsdWUgZm9yIHNlcmlhbGl6YXRpb24uXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgXyRzZXRWYWx1ZShcbiAgICB2YWx1ZTogdW5rbm93biB8IEFycmF5PHVua25vd24+LFxuICAgIGRpcmVjdGl2ZVBhcmVudDogRGlyZWN0aXZlUGFyZW50ID0gdGhpcyxcbiAgICB2YWx1ZUluZGV4PzogbnVtYmVyLFxuICAgIG5vQ29tbWl0PzogYm9vbGVhblxuICApIHtcbiAgICBjb25zdCBzdHJpbmdzID0gdGhpcy5zdHJpbmdzO1xuXG4gICAgLy8gV2hldGhlciBhbnkgb2YgdGhlIHZhbHVlcyBoYXMgY2hhbmdlZCwgZm9yIGRpcnR5LWNoZWNraW5nXG4gICAgbGV0IGNoYW5nZSA9IGZhbHNlO1xuXG4gICAgaWYgKHN0cmluZ3MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gU2luZ2xlLXZhbHVlIGJpbmRpbmcgY2FzZVxuICAgICAgdmFsdWUgPSByZXNvbHZlRGlyZWN0aXZlKHRoaXMsIHZhbHVlLCBkaXJlY3RpdmVQYXJlbnQsIDApO1xuICAgICAgY2hhbmdlID1cbiAgICAgICAgIWlzUHJpbWl0aXZlKHZhbHVlKSB8fFxuICAgICAgICAodmFsdWUgIT09IHRoaXMuXyRjb21taXR0ZWRWYWx1ZSAmJiB2YWx1ZSAhPT0gbm9DaGFuZ2UpO1xuICAgICAgaWYgKGNoYW5nZSkge1xuICAgICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWUgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSW50ZXJwb2xhdGlvbiBjYXNlXG4gICAgICBjb25zdCB2YWx1ZXMgPSB2YWx1ZSBhcyBBcnJheTx1bmtub3duPjtcbiAgICAgIHZhbHVlID0gc3RyaW5nc1swXTtcblxuICAgICAgbGV0IGksIHY7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgc3RyaW5ncy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgdiA9IHJlc29sdmVEaXJlY3RpdmUodGhpcywgdmFsdWVzW3ZhbHVlSW5kZXghICsgaV0sIGRpcmVjdGl2ZVBhcmVudCwgaSk7XG5cbiAgICAgICAgaWYgKHYgPT09IG5vQ2hhbmdlKSB7XG4gICAgICAgICAgLy8gSWYgdGhlIHVzZXItcHJvdmlkZWQgdmFsdWUgaXMgYG5vQ2hhbmdlYCwgdXNlIHRoZSBwcmV2aW91cyB2YWx1ZVxuICAgICAgICAgIHYgPSAodGhpcy5fJGNvbW1pdHRlZFZhbHVlIGFzIEFycmF5PHVua25vd24+KVtpXTtcbiAgICAgICAgfVxuICAgICAgICBjaGFuZ2UgfHw9XG4gICAgICAgICAgIWlzUHJpbWl0aXZlKHYpIHx8IHYgIT09ICh0aGlzLl8kY29tbWl0dGVkVmFsdWUgYXMgQXJyYXk8dW5rbm93bj4pW2ldO1xuICAgICAgICBpZiAodiA9PT0gbm90aGluZykge1xuICAgICAgICAgIHZhbHVlID0gbm90aGluZztcbiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSAhPT0gbm90aGluZykge1xuICAgICAgICAgIHZhbHVlICs9ICh2ID8/ICcnKSArIHN0cmluZ3NbaSArIDFdO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdlIGFsd2F5cyByZWNvcmQgZWFjaCB2YWx1ZSwgZXZlbiBpZiBvbmUgaXMgYG5vdGhpbmdgLCBmb3IgZnV0dXJlXG4gICAgICAgIC8vIGNoYW5nZSBkZXRlY3Rpb24uXG4gICAgICAgICh0aGlzLl8kY29tbWl0dGVkVmFsdWUgYXMgQXJyYXk8dW5rbm93bj4pW2ldID0gdjtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNoYW5nZSAmJiAhbm9Db21taXQpIHtcbiAgICAgIHRoaXMuX2NvbW1pdFZhbHVlKHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIF9jb21taXRWYWx1ZSh2YWx1ZTogdW5rbm93bikge1xuICAgIGlmICh2YWx1ZSA9PT0gbm90aGluZykge1xuICAgICAgKHdyYXAodGhpcy5lbGVtZW50KSBhcyBFbGVtZW50KS5yZW1vdmVBdHRyaWJ1dGUodGhpcy5uYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKEVOQUJMRV9FWFRSQV9TRUNVUklUWV9IT09LUykge1xuICAgICAgICBpZiAodGhpcy5fc2FuaXRpemVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0aGlzLl9zYW5pdGl6ZXIgPSBzYW5pdGl6ZXJGYWN0b3J5SW50ZXJuYWwoXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQsXG4gICAgICAgICAgICB0aGlzLm5hbWUsXG4gICAgICAgICAgICAnYXR0cmlidXRlJ1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWUgPSB0aGlzLl9zYW5pdGl6ZXIodmFsdWUgPz8gJycpO1xuICAgICAgfVxuICAgICAgZGVidWdMb2dFdmVudD8uKHtcbiAgICAgICAga2luZDogJ2NvbW1pdCBhdHRyaWJ1dGUnLFxuICAgICAgICBlbGVtZW50OiB0aGlzLmVsZW1lbnQsXG4gICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgIH0pO1xuICAgICAgKHdyYXAodGhpcy5lbGVtZW50KSBhcyBFbGVtZW50KS5zZXRBdHRyaWJ1dGUoXG4gICAgICAgIHRoaXMubmFtZSxcbiAgICAgICAgKHZhbHVlID8/ICcnKSBhcyBzdHJpbmdcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB0eXBlIHtQcm9wZXJ0eVBhcnR9O1xuY2xhc3MgUHJvcGVydHlQYXJ0IGV4dGVuZHMgQXR0cmlidXRlUGFydCB7XG4gIG92ZXJyaWRlIHJlYWRvbmx5IHR5cGUgPSBQUk9QRVJUWV9QQVJUO1xuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgb3ZlcnJpZGUgX2NvbW1pdFZhbHVlKHZhbHVlOiB1bmtub3duKSB7XG4gICAgaWYgKEVOQUJMRV9FWFRSQV9TRUNVUklUWV9IT09LUykge1xuICAgICAgaWYgKHRoaXMuX3Nhbml0aXplciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuX3Nhbml0aXplciA9IHNhbml0aXplckZhY3RvcnlJbnRlcm5hbChcbiAgICAgICAgICB0aGlzLmVsZW1lbnQsXG4gICAgICAgICAgdGhpcy5uYW1lLFxuICAgICAgICAgICdwcm9wZXJ0eSdcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gdGhpcy5fc2FuaXRpemVyKHZhbHVlKTtcbiAgICB9XG4gICAgZGVidWdMb2dFdmVudD8uKHtcbiAgICAgIGtpbmQ6ICdjb21taXQgcHJvcGVydHknLFxuICAgICAgZWxlbWVudDogdGhpcy5lbGVtZW50LFxuICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgdmFsdWUsXG4gICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgfSk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAodGhpcy5lbGVtZW50IGFzIGFueSlbdGhpcy5uYW1lXSA9IHZhbHVlID09PSBub3RoaW5nID8gdW5kZWZpbmVkIDogdmFsdWU7XG4gIH1cbn1cblxuLy8gVGVtcG9yYXJ5IHdvcmthcm91bmQgZm9yIGh0dHBzOi8vY3JidWcuY29tLzk5MzI2OFxuLy8gQ3VycmVudGx5LCBhbnkgYXR0cmlidXRlIHN0YXJ0aW5nIHdpdGggXCJvblwiIGlzIGNvbnNpZGVyZWQgdG8gYmUgYVxuLy8gVHJ1c3RlZFNjcmlwdCBzb3VyY2UuIFN1Y2ggYm9vbGVhbiBhdHRyaWJ1dGVzIG11c3QgYmUgc2V0IHRvIHRoZSBlcXVpdmFsZW50XG4vLyB0cnVzdGVkIGVtcHR5U2NyaXB0IHZhbHVlLlxuY29uc3QgZW1wdHlTdHJpbmdGb3JCb29sZWFuQXR0cmlidXRlID0gdHJ1c3RlZFR5cGVzXG4gID8gKHRydXN0ZWRUeXBlcy5lbXB0eVNjcmlwdCBhcyB1bmtub3duIGFzICcnKVxuICA6ICcnO1xuXG5leHBvcnQgdHlwZSB7Qm9vbGVhbkF0dHJpYnV0ZVBhcnR9O1xuY2xhc3MgQm9vbGVhbkF0dHJpYnV0ZVBhcnQgZXh0ZW5kcyBBdHRyaWJ1dGVQYXJ0IHtcbiAgb3ZlcnJpZGUgcmVhZG9ubHkgdHlwZSA9IEJPT0xFQU5fQVRUUklCVVRFX1BBUlQ7XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBvdmVycmlkZSBfY29tbWl0VmFsdWUodmFsdWU6IHVua25vd24pIHtcbiAgICBkZWJ1Z0xvZ0V2ZW50Py4oe1xuICAgICAga2luZDogJ2NvbW1pdCBib29sZWFuIGF0dHJpYnV0ZScsXG4gICAgICBlbGVtZW50OiB0aGlzLmVsZW1lbnQsXG4gICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICB2YWx1ZTogISEodmFsdWUgJiYgdmFsdWUgIT09IG5vdGhpbmcpLFxuICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgIH0pO1xuICAgIGlmICh2YWx1ZSAmJiB2YWx1ZSAhPT0gbm90aGluZykge1xuICAgICAgKHdyYXAodGhpcy5lbGVtZW50KSBhcyBFbGVtZW50KS5zZXRBdHRyaWJ1dGUoXG4gICAgICAgIHRoaXMubmFtZSxcbiAgICAgICAgZW1wdHlTdHJpbmdGb3JCb29sZWFuQXR0cmlidXRlXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICAod3JhcCh0aGlzLmVsZW1lbnQpIGFzIEVsZW1lbnQpLnJlbW92ZUF0dHJpYnV0ZSh0aGlzLm5hbWUpO1xuICAgIH1cbiAgfVxufVxuXG50eXBlIEV2ZW50TGlzdGVuZXJXaXRoT3B0aW9ucyA9IEV2ZW50TGlzdGVuZXJPckV2ZW50TGlzdGVuZXJPYmplY3QgJlxuICBQYXJ0aWFsPEFkZEV2ZW50TGlzdGVuZXJPcHRpb25zPjtcblxuLyoqXG4gKiBBbiBBdHRyaWJ1dGVQYXJ0IHRoYXQgbWFuYWdlcyBhbiBldmVudCBsaXN0ZW5lciB2aWEgYWRkL3JlbW92ZUV2ZW50TGlzdGVuZXIuXG4gKlxuICogVGhpcyBwYXJ0IHdvcmtzIGJ5IGFkZGluZyBpdHNlbGYgYXMgdGhlIGV2ZW50IGxpc3RlbmVyIG9uIGFuIGVsZW1lbnQsIHRoZW5cbiAqIGRlbGVnYXRpbmcgdG8gdGhlIHZhbHVlIHBhc3NlZCB0byBpdC4gVGhpcyByZWR1Y2VzIHRoZSBudW1iZXIgb2YgY2FsbHMgdG9cbiAqIGFkZC9yZW1vdmVFdmVudExpc3RlbmVyIGlmIHRoZSBsaXN0ZW5lciBjaGFuZ2VzIGZyZXF1ZW50bHksIHN1Y2ggYXMgd2hlbiBhblxuICogaW5saW5lIGZ1bmN0aW9uIGlzIHVzZWQgYXMgYSBsaXN0ZW5lci5cbiAqXG4gKiBCZWNhdXNlIGV2ZW50IG9wdGlvbnMgYXJlIHBhc3NlZCB3aGVuIGFkZGluZyBsaXN0ZW5lcnMsIHdlIG11c3QgdGFrZSBjYXNlXG4gKiB0byBhZGQgYW5kIHJlbW92ZSB0aGUgcGFydCBhcyBhIGxpc3RlbmVyIHdoZW4gdGhlIGV2ZW50IG9wdGlvbnMgY2hhbmdlLlxuICovXG5leHBvcnQgdHlwZSB7RXZlbnRQYXJ0fTtcbmNsYXNzIEV2ZW50UGFydCBleHRlbmRzIEF0dHJpYnV0ZVBhcnQge1xuICBvdmVycmlkZSByZWFkb25seSB0eXBlID0gRVZFTlRfUEFSVDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBlbGVtZW50OiBIVE1MRWxlbWVudCxcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgc3RyaW5nczogUmVhZG9ubHlBcnJheTxzdHJpbmc+LFxuICAgIHBhcmVudDogRGlzY29ubmVjdGFibGUsXG4gICAgb3B0aW9uczogUmVuZGVyT3B0aW9ucyB8IHVuZGVmaW5lZFxuICApIHtcbiAgICBzdXBlcihlbGVtZW50LCBuYW1lLCBzdHJpbmdzLCBwYXJlbnQsIG9wdGlvbnMpO1xuXG4gICAgaWYgKERFVl9NT0RFICYmIHRoaXMuc3RyaW5ncyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBBIFxcYDwke2VsZW1lbnQubG9jYWxOYW1lfT5cXGAgaGFzIGEgXFxgQCR7bmFtZX09Li4uXFxgIGxpc3RlbmVyIHdpdGggYCArXG4gICAgICAgICAgJ2ludmFsaWQgY29udGVudC4gRXZlbnQgbGlzdGVuZXJzIGluIHRlbXBsYXRlcyBtdXN0IGhhdmUgZXhhY3RseSAnICtcbiAgICAgICAgICAnb25lIGV4cHJlc3Npb24gYW5kIG5vIHN1cnJvdW5kaW5nIHRleHQuJ1xuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvLyBFdmVudFBhcnQgZG9lcyBub3QgdXNlIHRoZSBiYXNlIF8kc2V0VmFsdWUvX3Jlc29sdmVWYWx1ZSBpbXBsZW1lbnRhdGlvblxuICAvLyBzaW5jZSB0aGUgZGlydHkgY2hlY2tpbmcgaXMgbW9yZSBjb21wbGV4XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgb3ZlcnJpZGUgXyRzZXRWYWx1ZShcbiAgICBuZXdMaXN0ZW5lcjogdW5rbm93bixcbiAgICBkaXJlY3RpdmVQYXJlbnQ6IERpcmVjdGl2ZVBhcmVudCA9IHRoaXNcbiAgKSB7XG4gICAgbmV3TGlzdGVuZXIgPVxuICAgICAgcmVzb2x2ZURpcmVjdGl2ZSh0aGlzLCBuZXdMaXN0ZW5lciwgZGlyZWN0aXZlUGFyZW50LCAwKSA/PyBub3RoaW5nO1xuICAgIGlmIChuZXdMaXN0ZW5lciA9PT0gbm9DaGFuZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgb2xkTGlzdGVuZXIgPSB0aGlzLl8kY29tbWl0dGVkVmFsdWU7XG5cbiAgICAvLyBJZiB0aGUgbmV3IHZhbHVlIGlzIG5vdGhpbmcgb3IgYW55IG9wdGlvbnMgY2hhbmdlIHdlIGhhdmUgdG8gcmVtb3ZlIHRoZVxuICAgIC8vIHBhcnQgYXMgYSBsaXN0ZW5lci5cbiAgICBjb25zdCBzaG91bGRSZW1vdmVMaXN0ZW5lciA9XG4gICAgICAobmV3TGlzdGVuZXIgPT09IG5vdGhpbmcgJiYgb2xkTGlzdGVuZXIgIT09IG5vdGhpbmcpIHx8XG4gICAgICAobmV3TGlzdGVuZXIgYXMgRXZlbnRMaXN0ZW5lcldpdGhPcHRpb25zKS5jYXB0dXJlICE9PVxuICAgICAgICAob2xkTGlzdGVuZXIgYXMgRXZlbnRMaXN0ZW5lcldpdGhPcHRpb25zKS5jYXB0dXJlIHx8XG4gICAgICAobmV3TGlzdGVuZXIgYXMgRXZlbnRMaXN0ZW5lcldpdGhPcHRpb25zKS5vbmNlICE9PVxuICAgICAgICAob2xkTGlzdGVuZXIgYXMgRXZlbnRMaXN0ZW5lcldpdGhPcHRpb25zKS5vbmNlIHx8XG4gICAgICAobmV3TGlzdGVuZXIgYXMgRXZlbnRMaXN0ZW5lcldpdGhPcHRpb25zKS5wYXNzaXZlICE9PVxuICAgICAgICAob2xkTGlzdGVuZXIgYXMgRXZlbnRMaXN0ZW5lcldpdGhPcHRpb25zKS5wYXNzaXZlO1xuXG4gICAgLy8gSWYgdGhlIG5ldyB2YWx1ZSBpcyBub3Qgbm90aGluZyBhbmQgd2UgcmVtb3ZlZCB0aGUgbGlzdGVuZXIsIHdlIGhhdmVcbiAgICAvLyB0byBhZGQgdGhlIHBhcnQgYXMgYSBsaXN0ZW5lci5cbiAgICBjb25zdCBzaG91bGRBZGRMaXN0ZW5lciA9XG4gICAgICBuZXdMaXN0ZW5lciAhPT0gbm90aGluZyAmJlxuICAgICAgKG9sZExpc3RlbmVyID09PSBub3RoaW5nIHx8IHNob3VsZFJlbW92ZUxpc3RlbmVyKTtcblxuICAgIGRlYnVnTG9nRXZlbnQ/Lih7XG4gICAgICBraW5kOiAnY29tbWl0IGV2ZW50IGxpc3RlbmVyJyxcbiAgICAgIGVsZW1lbnQ6IHRoaXMuZWxlbWVudCxcbiAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgIHZhbHVlOiBuZXdMaXN0ZW5lcixcbiAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgIHJlbW92ZUxpc3RlbmVyOiBzaG91bGRSZW1vdmVMaXN0ZW5lcixcbiAgICAgIGFkZExpc3RlbmVyOiBzaG91bGRBZGRMaXN0ZW5lcixcbiAgICAgIG9sZExpc3RlbmVyLFxuICAgIH0pO1xuICAgIGlmIChzaG91bGRSZW1vdmVMaXN0ZW5lcikge1xuICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgIHRoaXMubmFtZSxcbiAgICAgICAgdGhpcyxcbiAgICAgICAgb2xkTGlzdGVuZXIgYXMgRXZlbnRMaXN0ZW5lcldpdGhPcHRpb25zXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoc2hvdWxkQWRkTGlzdGVuZXIpIHtcbiAgICAgIC8vIEJld2FyZTogSUUxMSBhbmQgQ2hyb21lIDQxIGRvbid0IGxpa2UgdXNpbmcgdGhlIGxpc3RlbmVyIGFzIHRoZVxuICAgICAgLy8gb3B0aW9ucyBvYmplY3QuIEZpZ3VyZSBvdXQgaG93IHRvIGRlYWwgdy8gdGhpcyBpbiBJRTExIC0gbWF5YmVcbiAgICAgIC8vIHBhdGNoIGFkZEV2ZW50TGlzdGVuZXI/XG4gICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgdGhpcy5uYW1lLFxuICAgICAgICB0aGlzLFxuICAgICAgICBuZXdMaXN0ZW5lciBhcyBFdmVudExpc3RlbmVyV2l0aE9wdGlvbnNcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMuXyRjb21taXR0ZWRWYWx1ZSA9IG5ld0xpc3RlbmVyO1xuICB9XG5cbiAgaGFuZGxlRXZlbnQoZXZlbnQ6IEV2ZW50KSB7XG4gICAgaWYgKHR5cGVvZiB0aGlzLl8kY29tbWl0dGVkVmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMuXyRjb21taXR0ZWRWYWx1ZS5jYWxsKHRoaXMub3B0aW9ucz8uaG9zdCA/PyB0aGlzLmVsZW1lbnQsIGV2ZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgKHRoaXMuXyRjb21taXR0ZWRWYWx1ZSBhcyBFdmVudExpc3RlbmVyT2JqZWN0KS5oYW5kbGVFdmVudChldmVudCk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB0eXBlIHtFbGVtZW50UGFydH07XG5jbGFzcyBFbGVtZW50UGFydCBpbXBsZW1lbnRzIERpc2Nvbm5lY3RhYmxlIHtcbiAgcmVhZG9ubHkgdHlwZSA9IEVMRU1FTlRfUEFSVDtcblxuICAvKiogQGludGVybmFsICovXG4gIF9fZGlyZWN0aXZlPzogRGlyZWN0aXZlO1xuXG4gIC8vIFRoaXMgaXMgdG8gZW5zdXJlIHRoYXQgZXZlcnkgUGFydCBoYXMgYSBfJGNvbW1pdHRlZFZhbHVlXG4gIF8kY29tbWl0dGVkVmFsdWU6IHVuZGVmaW5lZDtcblxuICAvKiogQGludGVybmFsICovXG4gIF8kcGFyZW50ITogRGlzY29ubmVjdGFibGU7XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfJGRpc2Nvbm5lY3RhYmxlQ2hpbGRyZW4/OiBTZXQ8RGlzY29ubmVjdGFibGU+ID0gdW5kZWZpbmVkO1xuXG4gIG9wdGlvbnM6IFJlbmRlck9wdGlvbnMgfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIGVsZW1lbnQ6IEVsZW1lbnQsXG4gICAgcGFyZW50OiBEaXNjb25uZWN0YWJsZSxcbiAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkXG4gICkge1xuICAgIHRoaXMuXyRwYXJlbnQgPSBwYXJlbnQ7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgfVxuXG4gIC8vIFNlZSBjb21tZW50IGluIERpc2Nvbm5lY3RhYmxlIGludGVyZmFjZSBmb3Igd2h5IHRoaXMgaXMgYSBnZXR0ZXJcbiAgZ2V0IF8kaXNDb25uZWN0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuXyRwYXJlbnQuXyRpc0Nvbm5lY3RlZDtcbiAgfVxuXG4gIF8kc2V0VmFsdWUodmFsdWU6IHVua25vd24pOiB2b2lkIHtcbiAgICBkZWJ1Z0xvZ0V2ZW50Py4oe1xuICAgICAga2luZDogJ2NvbW1pdCB0byBlbGVtZW50IGJpbmRpbmcnLFxuICAgICAgZWxlbWVudDogdGhpcy5lbGVtZW50LFxuICAgICAgdmFsdWUsXG4gICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgfSk7XG4gICAgcmVzb2x2ZURpcmVjdGl2ZSh0aGlzLCB2YWx1ZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBFTkQgVVNFUlMgU0hPVUxEIE5PVCBSRUxZIE9OIFRISVMgT0JKRUNULlxuICpcbiAqIFByaXZhdGUgZXhwb3J0cyBmb3IgdXNlIGJ5IG90aGVyIExpdCBwYWNrYWdlcywgbm90IGludGVuZGVkIGZvciB1c2UgYnlcbiAqIGV4dGVybmFsIHVzZXJzLlxuICpcbiAqIFdlIGN1cnJlbnRseSBkbyBub3QgbWFrZSBhIG1hbmdsZWQgcm9sbHVwIGJ1aWxkIG9mIHRoZSBsaXQtc3NyIGNvZGUuIEluIG9yZGVyXG4gKiB0byBrZWVwIGEgbnVtYmVyIG9mIChvdGhlcndpc2UgcHJpdmF0ZSkgdG9wLWxldmVsIGV4cG9ydHMgIG1hbmdsZWQgaW4gdGhlXG4gKiBjbGllbnQgc2lkZSBjb2RlLCB3ZSBleHBvcnQgYSBfJExIIG9iamVjdCBjb250YWluaW5nIHRob3NlIG1lbWJlcnMgKG9yXG4gKiBoZWxwZXIgbWV0aG9kcyBmb3IgYWNjZXNzaW5nIHByaXZhdGUgZmllbGRzIG9mIHRob3NlIG1lbWJlcnMpLCBhbmQgdGhlblxuICogcmUtZXhwb3J0IHRoZW0gZm9yIHVzZSBpbiBsaXQtc3NyLiBUaGlzIGtlZXBzIGxpdC1zc3IgYWdub3N0aWMgdG8gd2hldGhlciB0aGVcbiAqIGNsaWVudC1zaWRlIGNvZGUgaXMgYmVpbmcgdXNlZCBpbiBgZGV2YCBtb2RlIG9yIGBwcm9kYCBtb2RlLlxuICpcbiAqIFRoaXMgaGFzIGEgdW5pcXVlIG5hbWUsIHRvIGRpc2FtYmlndWF0ZSBpdCBmcm9tIHByaXZhdGUgZXhwb3J0cyBpblxuICogbGl0LWVsZW1lbnQsIHdoaWNoIHJlLWV4cG9ydHMgYWxsIG9mIGxpdC1odG1sLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBjb25zdCBfJExIID0ge1xuICAvLyBVc2VkIGluIGxpdC1zc3JcbiAgX2JvdW5kQXR0cmlidXRlU3VmZml4OiBib3VuZEF0dHJpYnV0ZVN1ZmZpeCxcbiAgX21hcmtlcjogbWFya2VyLFxuICBfbWFya2VyTWF0Y2g6IG1hcmtlck1hdGNoLFxuICBfSFRNTF9SRVNVTFQ6IEhUTUxfUkVTVUxULFxuICBfZ2V0VGVtcGxhdGVIdG1sOiBnZXRUZW1wbGF0ZUh0bWwsXG4gIC8vIFVzZWQgaW4gaHlkcmF0ZVxuICBfVGVtcGxhdGVJbnN0YW5jZTogVGVtcGxhdGVJbnN0YW5jZSxcbiAgX2lzSXRlcmFibGU6IGlzSXRlcmFibGUsXG4gIF9yZXNvbHZlRGlyZWN0aXZlOiByZXNvbHZlRGlyZWN0aXZlLFxuICAvLyBVc2VkIGluIHRlc3RzIGFuZCBwcml2YXRlLXNzci1zdXBwb3J0XG4gIF9DaGlsZFBhcnQ6IENoaWxkUGFydCxcbiAgX0F0dHJpYnV0ZVBhcnQ6IEF0dHJpYnV0ZVBhcnQsXG4gIF9Cb29sZWFuQXR0cmlidXRlUGFydDogQm9vbGVhbkF0dHJpYnV0ZVBhcnQsXG4gIF9FdmVudFBhcnQ6IEV2ZW50UGFydCxcbiAgX1Byb3BlcnR5UGFydDogUHJvcGVydHlQYXJ0LFxuICBfRWxlbWVudFBhcnQ6IEVsZW1lbnRQYXJ0LFxufTtcblxuLy8gQXBwbHkgcG9seWZpbGxzIGlmIGF2YWlsYWJsZVxuY29uc3QgcG9seWZpbGxTdXBwb3J0ID0gREVWX01PREVcbiAgPyB3aW5kb3cubGl0SHRtbFBvbHlmaWxsU3VwcG9ydERldk1vZGVcbiAgOiB3aW5kb3cubGl0SHRtbFBvbHlmaWxsU3VwcG9ydDtcbnBvbHlmaWxsU3VwcG9ydD8uKFRlbXBsYXRlLCBDaGlsZFBhcnQpO1xuXG4vLyBJTVBPUlRBTlQ6IGRvIG5vdCBjaGFuZ2UgdGhlIHByb3BlcnR5IG5hbWUgb3IgdGhlIGFzc2lnbm1lbnQgZXhwcmVzc2lvbi5cbi8vIFRoaXMgbGluZSB3aWxsIGJlIHVzZWQgaW4gcmVnZXhlcyB0byBzZWFyY2ggZm9yIGxpdC1odG1sIHVzYWdlLlxuKGdsb2JhbFRoaXMubGl0SHRtbFZlcnNpb25zID8/PSBbXSkucHVzaCgnMi4yLjcnKTtcbmlmIChERVZfTU9ERSAmJiBnbG9iYWxUaGlzLmxpdEh0bWxWZXJzaW9ucy5sZW5ndGggPiAxKSB7XG4gIGlzc3VlV2FybmluZyEoXG4gICAgJ211bHRpcGxlLXZlcnNpb25zJyxcbiAgICBgTXVsdGlwbGUgdmVyc2lvbnMgb2YgTGl0IGxvYWRlZC4gYCArXG4gICAgICBgTG9hZGluZyBtdWx0aXBsZSB2ZXJzaW9ucyBpcyBub3QgcmVjb21tZW5kZWQuYFxuICApO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuXG4vKipcbiAqIFRoZSBtYWluIExpdEVsZW1lbnQgbW9kdWxlLCB3aGljaCBkZWZpbmVzIHRoZSB7QGxpbmtjb2RlIExpdEVsZW1lbnR9IGJhc2VcbiAqIGNsYXNzIGFuZCByZWxhdGVkIEFQSXMuXG4gKlxuICogIExpdEVsZW1lbnQgY29tcG9uZW50cyBjYW4gZGVmaW5lIGEgdGVtcGxhdGUgYW5kIGEgc2V0IG9mIG9ic2VydmVkXG4gKiBwcm9wZXJ0aWVzLiBDaGFuZ2luZyBhbiBvYnNlcnZlZCBwcm9wZXJ0eSB0cmlnZ2VycyBhIHJlLXJlbmRlciBvZiB0aGVcbiAqIGVsZW1lbnQuXG4gKlxuICogIEltcG9ydCB7QGxpbmtjb2RlIExpdEVsZW1lbnR9IGFuZCB7QGxpbmtjb2RlIGh0bWx9IGZyb20gdGhpcyBtb2R1bGUgdG9cbiAqIGNyZWF0ZSBhIGNvbXBvbmVudDpcbiAqXG4gKiAgYGBganNcbiAqIGltcG9ydCB7TGl0RWxlbWVudCwgaHRtbH0gZnJvbSAnbGl0LWVsZW1lbnQnO1xuICpcbiAqIGNsYXNzIE15RWxlbWVudCBleHRlbmRzIExpdEVsZW1lbnQge1xuICpcbiAqICAgLy8gRGVjbGFyZSBvYnNlcnZlZCBwcm9wZXJ0aWVzXG4gKiAgIHN0YXRpYyBnZXQgcHJvcGVydGllcygpIHtcbiAqICAgICByZXR1cm4ge1xuICogICAgICAgYWRqZWN0aXZlOiB7fVxuICogICAgIH1cbiAqICAgfVxuICpcbiAqICAgY29uc3RydWN0b3IoKSB7XG4gKiAgICAgdGhpcy5hZGplY3RpdmUgPSAnYXdlc29tZSc7XG4gKiAgIH1cbiAqXG4gKiAgIC8vIERlZmluZSB0aGUgZWxlbWVudCdzIHRlbXBsYXRlXG4gKiAgIHJlbmRlcigpIHtcbiAqICAgICByZXR1cm4gaHRtbGA8cD55b3VyICR7YWRqZWN0aXZlfSB0ZW1wbGF0ZSBoZXJlPC9wPmA7XG4gKiAgIH1cbiAqIH1cbiAqXG4gKiBjdXN0b21FbGVtZW50cy5kZWZpbmUoJ215LWVsZW1lbnQnLCBNeUVsZW1lbnQpO1xuICogYGBgXG4gKlxuICogYExpdEVsZW1lbnRgIGV4dGVuZHMge0BsaW5rY29kZSBSZWFjdGl2ZUVsZW1lbnR9IGFuZCBhZGRzIGxpdC1odG1sXG4gKiB0ZW1wbGF0aW5nLiBUaGUgYFJlYWN0aXZlRWxlbWVudGAgY2xhc3MgaXMgcHJvdmlkZWQgZm9yIHVzZXJzIHRoYXQgd2FudCB0b1xuICogYnVpbGQgdGhlaXIgb3duIGN1c3RvbSBlbGVtZW50IGJhc2UgY2xhc3NlcyB0aGF0IGRvbid0IHVzZSBsaXQtaHRtbC5cbiAqXG4gKiBAcGFja2FnZURvY3VtZW50YXRpb25cbiAqL1xuaW1wb3J0IHtQcm9wZXJ0eVZhbHVlcywgUmVhY3RpdmVFbGVtZW50fSBmcm9tICdAbGl0L3JlYWN0aXZlLWVsZW1lbnQnO1xuaW1wb3J0IHtyZW5kZXIsIFJlbmRlck9wdGlvbnMsIG5vQ2hhbmdlLCBSb290UGFydH0gZnJvbSAnbGl0LWh0bWwnO1xuZXhwb3J0ICogZnJvbSAnQGxpdC9yZWFjdGl2ZS1lbGVtZW50JztcbmV4cG9ydCAqIGZyb20gJ2xpdC1odG1sJztcblxuaW1wb3J0IHtMaXRVbnN0YWJsZX0gZnJvbSAnbGl0LWh0bWwnO1xuaW1wb3J0IHtSZWFjdGl2ZVVuc3RhYmxlfSBmcm9tICdAbGl0L3JlYWN0aXZlLWVsZW1lbnQnO1xuXG4vKipcbiAqIENvbnRhaW5zIHR5cGVzIHRoYXQgYXJlIHBhcnQgb2YgdGhlIHVuc3RhYmxlIGRlYnVnIEFQSS5cbiAqXG4gKiBFdmVyeXRoaW5nIGluIHRoaXMgQVBJIGlzIG5vdCBzdGFibGUgYW5kIG1heSBjaGFuZ2Ugb3IgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLFxuICogZXZlbiBvbiBwYXRjaCByZWxlYXNlcy5cbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1uYW1lc3BhY2VcbmV4cG9ydCBuYW1lc3BhY2UgVW5zdGFibGUge1xuICAvKipcbiAgICogV2hlbiBMaXQgaXMgcnVubmluZyBpbiBkZXYgbW9kZSBhbmQgYHdpbmRvdy5lbWl0TGl0RGVidWdMb2dFdmVudHNgIGlzIHRydWUsXG4gICAqIHdlIHdpbGwgZW1pdCAnbGl0LWRlYnVnJyBldmVudHMgdG8gd2luZG93LCB3aXRoIGxpdmUgZGV0YWlscyBhYm91dCB0aGUgdXBkYXRlIGFuZCByZW5kZXJcbiAgICogbGlmZWN5Y2xlLiBUaGVzZSBjYW4gYmUgdXNlZnVsIGZvciB3cml0aW5nIGRlYnVnIHRvb2xpbmcgYW5kIHZpc3VhbGl6YXRpb25zLlxuICAgKlxuICAgKiBQbGVhc2UgYmUgYXdhcmUgdGhhdCBydW5uaW5nIHdpdGggd2luZG93LmVtaXRMaXREZWJ1Z0xvZ0V2ZW50cyBoYXMgcGVyZm9ybWFuY2Ugb3ZlcmhlYWQsXG4gICAqIG1ha2luZyBjZXJ0YWluIG9wZXJhdGlvbnMgdGhhdCBhcmUgbm9ybWFsbHkgdmVyeSBjaGVhcCAobGlrZSBhIG5vLW9wIHJlbmRlcikgbXVjaCBzbG93ZXIsXG4gICAqIGJlY2F1c2Ugd2UgbXVzdCBjb3B5IGRhdGEgYW5kIGRpc3BhdGNoIGV2ZW50cy5cbiAgICovXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbmFtZXNwYWNlXG4gIGV4cG9ydCBuYW1lc3BhY2UgRGVidWdMb2cge1xuICAgIGV4cG9ydCB0eXBlIEVudHJ5ID1cbiAgICAgIHwgTGl0VW5zdGFibGUuRGVidWdMb2cuRW50cnlcbiAgICAgIHwgUmVhY3RpdmVVbnN0YWJsZS5EZWJ1Z0xvZy5FbnRyeTtcbiAgfVxufVxuXG4vLyBGb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgZXhwb3J0IFJlYWN0aXZlRWxlbWVudCBhcyBVcGRhdGluZ0VsZW1lbnQuIE5vdGUsXG4vLyBJRSB0cmFuc3BpbGF0aW9uIHJlcXVpcmVzIGV4cG9ydGluZyBsaWtlIHRoaXMuXG5leHBvcnQgY29uc3QgVXBkYXRpbmdFbGVtZW50ID0gUmVhY3RpdmVFbGVtZW50O1xuXG5jb25zdCBERVZfTU9ERSA9IHRydWU7XG5cbmxldCBpc3N1ZVdhcm5pbmc6IChjb2RlOiBzdHJpbmcsIHdhcm5pbmc6IHN0cmluZykgPT4gdm9pZDtcblxuaWYgKERFVl9NT0RFKSB7XG4gIC8vIEVuc3VyZSB3YXJuaW5ncyBhcmUgaXNzdWVkIG9ubHkgMXgsIGV2ZW4gaWYgbXVsdGlwbGUgdmVyc2lvbnMgb2YgTGl0XG4gIC8vIGFyZSBsb2FkZWQuXG4gIGNvbnN0IGlzc3VlZFdhcm5pbmdzOiBTZXQ8c3RyaW5nIHwgdW5kZWZpbmVkPiA9XG4gICAgKGdsb2JhbFRoaXMubGl0SXNzdWVkV2FybmluZ3MgPz89IG5ldyBTZXQoKSk7XG5cbiAgLy8gSXNzdWUgYSB3YXJuaW5nLCBpZiB3ZSBoYXZlbid0IGFscmVhZHkuXG4gIGlzc3VlV2FybmluZyA9IChjb2RlOiBzdHJpbmcsIHdhcm5pbmc6IHN0cmluZykgPT4ge1xuICAgIHdhcm5pbmcgKz0gYCBTZWUgaHR0cHM6Ly9saXQuZGV2L21zZy8ke2NvZGV9IGZvciBtb3JlIGluZm9ybWF0aW9uLmA7XG4gICAgaWYgKCFpc3N1ZWRXYXJuaW5ncy5oYXMod2FybmluZykpIHtcbiAgICAgIGNvbnNvbGUud2Fybih3YXJuaW5nKTtcbiAgICAgIGlzc3VlZFdhcm5pbmdzLmFkZCh3YXJuaW5nKTtcbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogQmFzZSBlbGVtZW50IGNsYXNzIHRoYXQgbWFuYWdlcyBlbGVtZW50IHByb3BlcnRpZXMgYW5kIGF0dHJpYnV0ZXMsIGFuZFxuICogcmVuZGVycyBhIGxpdC1odG1sIHRlbXBsYXRlLlxuICpcbiAqIFRvIGRlZmluZSBhIGNvbXBvbmVudCwgc3ViY2xhc3MgYExpdEVsZW1lbnRgIGFuZCBpbXBsZW1lbnQgYVxuICogYHJlbmRlcmAgbWV0aG9kIHRvIHByb3ZpZGUgdGhlIGNvbXBvbmVudCdzIHRlbXBsYXRlLiBEZWZpbmUgcHJvcGVydGllc1xuICogdXNpbmcgdGhlIHtAbGlua2NvZGUgTGl0RWxlbWVudC5wcm9wZXJ0aWVzIHByb3BlcnRpZXN9IHByb3BlcnR5IG9yIHRoZVxuICoge0BsaW5rY29kZSBwcm9wZXJ0eX0gZGVjb3JhdG9yLlxuICovXG5leHBvcnQgY2xhc3MgTGl0RWxlbWVudCBleHRlbmRzIFJlYWN0aXZlRWxlbWVudCB7XG4gIC8qKlxuICAgKiBFbnN1cmUgdGhpcyBjbGFzcyBpcyBtYXJrZWQgYXMgYGZpbmFsaXplZGAgYXMgYW4gb3B0aW1pemF0aW9uIGVuc3VyaW5nXG4gICAqIGl0IHdpbGwgbm90IG5lZWRsZXNzbHkgdHJ5IHRvIGBmaW5hbGl6ZWAuXG4gICAqXG4gICAqIE5vdGUgdGhpcyBwcm9wZXJ0eSBuYW1lIGlzIGEgc3RyaW5nIHRvIHByZXZlbnQgYnJlYWtpbmcgQ2xvc3VyZSBKUyBDb21waWxlclxuICAgKiBvcHRpbWl6YXRpb25zLiBTZWUgQGxpdC9yZWFjdGl2ZS1lbGVtZW50IGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgKi9cbiAgcHJvdGVjdGVkIHN0YXRpYyBvdmVycmlkZSBbJ2ZpbmFsaXplZCddID0gdHJ1ZTtcblxuICAvLyBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICBzdGF0aWMgWydfJGxpdEVsZW1lbnQkJ10gPSB0cnVlO1xuXG4gIC8qKlxuICAgKiBAY2F0ZWdvcnkgcmVuZGVyaW5nXG4gICAqL1xuICByZWFkb25seSByZW5kZXJPcHRpb25zOiBSZW5kZXJPcHRpb25zID0ge2hvc3Q6IHRoaXN9O1xuXG4gIHByaXZhdGUgX19jaGlsZFBhcnQ6IFJvb3RQYXJ0IHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBAY2F0ZWdvcnkgcmVuZGVyaW5nXG4gICAqL1xuICBwcm90ZWN0ZWQgb3ZlcnJpZGUgY3JlYXRlUmVuZGVyUm9vdCgpIHtcbiAgICBjb25zdCByZW5kZXJSb290ID0gc3VwZXIuY3JlYXRlUmVuZGVyUm9vdCgpO1xuICAgIC8vIFdoZW4gYWRvcHRlZFN0eWxlU2hlZXRzIGFyZSBzaGltbWVkLCB0aGV5IGFyZSBpbnNlcnRlZCBpbnRvIHRoZVxuICAgIC8vIHNoYWRvd1Jvb3QgYnkgY3JlYXRlUmVuZGVyUm9vdC4gQWRqdXN0IHRoZSByZW5kZXJCZWZvcmUgbm9kZSBzbyB0aGF0XG4gICAgLy8gYW55IHN0eWxlcyBpbiBMaXQgY29udGVudCByZW5kZXIgYmVmb3JlIGFkb3B0ZWRTdHlsZVNoZWV0cy4gVGhpcyBpc1xuICAgIC8vIGltcG9ydGFudCBzbyB0aGF0IGFkb3B0ZWRTdHlsZVNoZWV0cyBoYXZlIHByZWNlZGVuY2Ugb3ZlciBzdHlsZXMgaW5cbiAgICAvLyB0aGUgc2hhZG93Um9vdC5cbiAgICB0aGlzLnJlbmRlck9wdGlvbnMucmVuZGVyQmVmb3JlID8/PSByZW5kZXJSb290IS5maXJzdENoaWxkIGFzIENoaWxkTm9kZTtcbiAgICByZXR1cm4gcmVuZGVyUm9vdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBlbGVtZW50LiBUaGlzIG1ldGhvZCByZWZsZWN0cyBwcm9wZXJ0eSB2YWx1ZXMgdG8gYXR0cmlidXRlc1xuICAgKiBhbmQgY2FsbHMgYHJlbmRlcmAgdG8gcmVuZGVyIERPTSB2aWEgbGl0LWh0bWwuIFNldHRpbmcgcHJvcGVydGllcyBpbnNpZGVcbiAgICogdGhpcyBtZXRob2Qgd2lsbCAqbm90KiB0cmlnZ2VyIGFub3RoZXIgdXBkYXRlLlxuICAgKiBAcGFyYW0gY2hhbmdlZFByb3BlcnRpZXMgTWFwIG9mIGNoYW5nZWQgcHJvcGVydGllcyB3aXRoIG9sZCB2YWx1ZXNcbiAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICovXG4gIHByb3RlY3RlZCBvdmVycmlkZSB1cGRhdGUoY2hhbmdlZFByb3BlcnRpZXM6IFByb3BlcnR5VmFsdWVzKSB7XG4gICAgLy8gU2V0dGluZyBwcm9wZXJ0aWVzIGluIGByZW5kZXJgIHNob3VsZCBub3QgdHJpZ2dlciBhbiB1cGRhdGUuIFNpbmNlXG4gICAgLy8gdXBkYXRlcyBhcmUgYWxsb3dlZCBhZnRlciBzdXBlci51cGRhdGUsIGl0J3MgaW1wb3J0YW50IHRvIGNhbGwgYHJlbmRlcmBcbiAgICAvLyBiZWZvcmUgdGhhdC5cbiAgICBjb25zdCB2YWx1ZSA9IHRoaXMucmVuZGVyKCk7XG4gICAgaWYgKCF0aGlzLmhhc1VwZGF0ZWQpIHtcbiAgICAgIHRoaXMucmVuZGVyT3B0aW9ucy5pc0Nvbm5lY3RlZCA9IHRoaXMuaXNDb25uZWN0ZWQ7XG4gICAgfVxuICAgIHN1cGVyLnVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgdGhpcy5fX2NoaWxkUGFydCA9IHJlbmRlcih2YWx1ZSwgdGhpcy5yZW5kZXJSb290LCB0aGlzLnJlbmRlck9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEludm9rZWQgd2hlbiB0aGUgY29tcG9uZW50IGlzIGFkZGVkIHRvIHRoZSBkb2N1bWVudCdzIERPTS5cbiAgICpcbiAgICogSW4gYGNvbm5lY3RlZENhbGxiYWNrKClgIHlvdSBzaG91bGQgc2V0dXAgdGFza3MgdGhhdCBzaG91bGQgb25seSBvY2N1ciB3aGVuXG4gICAqIHRoZSBlbGVtZW50IGlzIGNvbm5lY3RlZCB0byB0aGUgZG9jdW1lbnQuIFRoZSBtb3N0IGNvbW1vbiBvZiB0aGVzZSBpc1xuICAgKiBhZGRpbmcgZXZlbnQgbGlzdGVuZXJzIHRvIG5vZGVzIGV4dGVybmFsIHRvIHRoZSBlbGVtZW50LCBsaWtlIGEga2V5ZG93blxuICAgKiBldmVudCBoYW5kbGVyIGFkZGVkIHRvIHRoZSB3aW5kb3cuXG4gICAqXG4gICAqIGBgYHRzXG4gICAqIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgKiAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAqICAgYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUtleWRvd24pO1xuICAgKiB9XG4gICAqIGBgYFxuICAgKlxuICAgKiBUeXBpY2FsbHksIGFueXRoaW5nIGRvbmUgaW4gYGNvbm5lY3RlZENhbGxiYWNrKClgIHNob3VsZCBiZSB1bmRvbmUgd2hlbiB0aGVcbiAgICogZWxlbWVudCBpcyBkaXNjb25uZWN0ZWQsIGluIGBkaXNjb25uZWN0ZWRDYWxsYmFjaygpYC5cbiAgICpcbiAgICogQGNhdGVnb3J5IGxpZmVjeWNsZVxuICAgKi9cbiAgb3ZlcnJpZGUgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICB0aGlzLl9fY2hpbGRQYXJ0Py5zZXRDb25uZWN0ZWQodHJ1ZSk7XG4gIH1cblxuICAvKipcbiAgICogSW52b2tlZCB3aGVuIHRoZSBjb21wb25lbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBkb2N1bWVudCdzIERPTS5cbiAgICpcbiAgICogVGhpcyBjYWxsYmFjayBpcyB0aGUgbWFpbiBzaWduYWwgdG8gdGhlIGVsZW1lbnQgdGhhdCBpdCBtYXkgbm8gbG9uZ2VyIGJlXG4gICAqIHVzZWQuIGBkaXNjb25uZWN0ZWRDYWxsYmFjaygpYCBzaG91bGQgZW5zdXJlIHRoYXQgbm90aGluZyBpcyBob2xkaW5nIGFcbiAgICogcmVmZXJlbmNlIHRvIHRoZSBlbGVtZW50IChzdWNoIGFzIGV2ZW50IGxpc3RlbmVycyBhZGRlZCB0byBub2RlcyBleHRlcm5hbFxuICAgKiB0byB0aGUgZWxlbWVudCksIHNvIHRoYXQgaXQgaXMgZnJlZSB0byBiZSBnYXJiYWdlIGNvbGxlY3RlZC5cbiAgICpcbiAgICogYGBgdHNcbiAgICogZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAqICAgc3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICogICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUtleWRvd24pO1xuICAgKiB9XG4gICAqIGBgYFxuICAgKlxuICAgKiBBbiBlbGVtZW50IG1heSBiZSByZS1jb25uZWN0ZWQgYWZ0ZXIgYmVpbmcgZGlzY29ubmVjdGVkLlxuICAgKlxuICAgKiBAY2F0ZWdvcnkgbGlmZWN5Y2xlXG4gICAqL1xuICBvdmVycmlkZSBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIHRoaXMuX19jaGlsZFBhcnQ/LnNldENvbm5lY3RlZChmYWxzZSk7XG4gIH1cblxuICAvKipcbiAgICogSW52b2tlZCBvbiBlYWNoIHVwZGF0ZSB0byBwZXJmb3JtIHJlbmRlcmluZyB0YXNrcy4gVGhpcyBtZXRob2QgbWF5IHJldHVyblxuICAgKiBhbnkgdmFsdWUgcmVuZGVyYWJsZSBieSBsaXQtaHRtbCdzIGBDaGlsZFBhcnRgIC0gdHlwaWNhbGx5IGFcbiAgICogYFRlbXBsYXRlUmVzdWx0YC4gU2V0dGluZyBwcm9wZXJ0aWVzIGluc2lkZSB0aGlzIG1ldGhvZCB3aWxsICpub3QqIHRyaWdnZXJcbiAgICogdGhlIGVsZW1lbnQgdG8gdXBkYXRlLlxuICAgKiBAY2F0ZWdvcnkgcmVuZGVyaW5nXG4gICAqL1xuICBwcm90ZWN0ZWQgcmVuZGVyKCk6IHVua25vd24ge1xuICAgIHJldHVybiBub0NoYW5nZTtcbiAgfVxufVxuXG4vLyBJbnN0YWxsIGh5ZHJhdGlvbiBpZiBhdmFpbGFibGVcbmdsb2JhbFRoaXMubGl0RWxlbWVudEh5ZHJhdGVTdXBwb3J0Py4oe0xpdEVsZW1lbnR9KTtcblxuLy8gQXBwbHkgcG9seWZpbGxzIGlmIGF2YWlsYWJsZVxuY29uc3QgcG9seWZpbGxTdXBwb3J0ID0gREVWX01PREVcbiAgPyBnbG9iYWxUaGlzLmxpdEVsZW1lbnRQb2x5ZmlsbFN1cHBvcnREZXZNb2RlXG4gIDogZ2xvYmFsVGhpcy5saXRFbGVtZW50UG9seWZpbGxTdXBwb3J0O1xucG9seWZpbGxTdXBwb3J0Py4oe0xpdEVsZW1lbnR9KTtcblxuLy8gREVWIG1vZGUgd2FybmluZ3NcbmlmIChERVZfTU9ERSkge1xuICAvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG4gIC8vIE5vdGUsIGZvciBjb21wYXRpYmlsaXR5IHdpdGggY2xvc3VyZSBjb21waWxhdGlvbiwgdGhpcyBhY2Nlc3NcbiAgLy8gbmVlZHMgdG8gYmUgYXMgYSBzdHJpbmcgcHJvcGVydHkgaW5kZXguXG4gIChMaXRFbGVtZW50IGFzIGFueSlbJ2ZpbmFsaXplJ10gPSBmdW5jdGlvbiAodGhpczogdHlwZW9mIExpdEVsZW1lbnQpIHtcbiAgICBjb25zdCBmaW5hbGl6ZWQgPSAoUmVhY3RpdmVFbGVtZW50IGFzIGFueSkuZmluYWxpemUuY2FsbCh0aGlzKTtcbiAgICBpZiAoIWZpbmFsaXplZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCB3YXJuUmVtb3ZlZE9yUmVuYW1lZCA9IChvYmo6IGFueSwgbmFtZTogc3RyaW5nLCByZW5hbWVkID0gZmFsc2UpID0+IHtcbiAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgY29uc3QgY3Rvck5hbWUgPSAodHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJyA/IG9iaiA6IG9iai5jb25zdHJ1Y3RvcilcbiAgICAgICAgICAubmFtZTtcbiAgICAgICAgaXNzdWVXYXJuaW5nKFxuICAgICAgICAgIHJlbmFtZWQgPyAncmVuYW1lZC1hcGknIDogJ3JlbW92ZWQtYXBpJyxcbiAgICAgICAgICBgXFxgJHtuYW1lfVxcYCBpcyBpbXBsZW1lbnRlZCBvbiBjbGFzcyAke2N0b3JOYW1lfS4gSXQgYCArXG4gICAgICAgICAgICBgaGFzIGJlZW4gJHtyZW5hbWVkID8gJ3JlbmFtZWQnIDogJ3JlbW92ZWQnfSBgICtcbiAgICAgICAgICAgIGBpbiB0aGlzIHZlcnNpb24gb2YgTGl0RWxlbWVudC5gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfTtcbiAgICB3YXJuUmVtb3ZlZE9yUmVuYW1lZCh0aGlzLCAncmVuZGVyJyk7XG4gICAgd2FyblJlbW92ZWRPclJlbmFtZWQodGhpcywgJ2dldFN0eWxlcycsIHRydWUpO1xuICAgIHdhcm5SZW1vdmVkT3JSZW5hbWVkKCh0aGlzIGFzIHR5cGVvZiBMaXRFbGVtZW50KS5wcm90b3R5cGUsICdhZG9wdFN0eWxlcycpO1xuICAgIHJldHVybiB0cnVlO1xuICB9O1xuICAvKiBlc2xpbnQtZW5hYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbn1cblxuLyoqXG4gKiBFTkQgVVNFUlMgU0hPVUxEIE5PVCBSRUxZIE9OIFRISVMgT0JKRUNULlxuICpcbiAqIFByaXZhdGUgZXhwb3J0cyBmb3IgdXNlIGJ5IG90aGVyIExpdCBwYWNrYWdlcywgbm90IGludGVuZGVkIGZvciB1c2UgYnlcbiAqIGV4dGVybmFsIHVzZXJzLlxuICpcbiAqIFdlIGN1cnJlbnRseSBkbyBub3QgbWFrZSBhIG1hbmdsZWQgcm9sbHVwIGJ1aWxkIG9mIHRoZSBsaXQtc3NyIGNvZGUuIEluIG9yZGVyXG4gKiB0byBrZWVwIGEgbnVtYmVyIG9mIChvdGhlcndpc2UgcHJpdmF0ZSkgdG9wLWxldmVsIGV4cG9ydHMgIG1hbmdsZWQgaW4gdGhlXG4gKiBjbGllbnQgc2lkZSBjb2RlLCB3ZSBleHBvcnQgYSBfJExFIG9iamVjdCBjb250YWluaW5nIHRob3NlIG1lbWJlcnMgKG9yXG4gKiBoZWxwZXIgbWV0aG9kcyBmb3IgYWNjZXNzaW5nIHByaXZhdGUgZmllbGRzIG9mIHRob3NlIG1lbWJlcnMpLCBhbmQgdGhlblxuICogcmUtZXhwb3J0IHRoZW0gZm9yIHVzZSBpbiBsaXQtc3NyLiBUaGlzIGtlZXBzIGxpdC1zc3IgYWdub3N0aWMgdG8gd2hldGhlciB0aGVcbiAqIGNsaWVudC1zaWRlIGNvZGUgaXMgYmVpbmcgdXNlZCBpbiBgZGV2YCBtb2RlIG9yIGBwcm9kYCBtb2RlLlxuICpcbiAqIFRoaXMgaGFzIGEgdW5pcXVlIG5hbWUsIHRvIGRpc2FtYmlndWF0ZSBpdCBmcm9tIHByaXZhdGUgZXhwb3J0cyBpblxuICogbGl0LWh0bWwsIHNpbmNlIHRoaXMgbW9kdWxlIHJlLWV4cG9ydHMgYWxsIG9mIGxpdC1odG1sLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBjb25zdCBfJExFID0ge1xuICBfJGF0dHJpYnV0ZVRvUHJvcGVydHk6IChcbiAgICBlbDogTGl0RWxlbWVudCxcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgdmFsdWU6IHN0cmluZyB8IG51bGxcbiAgKSA9PiB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgKGVsIGFzIGFueSkuXyRhdHRyaWJ1dGVUb1Byb3BlcnR5KG5hbWUsIHZhbHVlKTtcbiAgfSxcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gIF8kY2hhbmdlZFByb3BlcnRpZXM6IChlbDogTGl0RWxlbWVudCkgPT4gKGVsIGFzIGFueSkuXyRjaGFuZ2VkUHJvcGVydGllcyxcbn07XG5cbi8vIElNUE9SVEFOVDogZG8gbm90IGNoYW5nZSB0aGUgcHJvcGVydHkgbmFtZSBvciB0aGUgYXNzaWdubWVudCBleHByZXNzaW9uLlxuLy8gVGhpcyBsaW5lIHdpbGwgYmUgdXNlZCBpbiByZWdleGVzIHRvIHNlYXJjaCBmb3IgTGl0RWxlbWVudCB1c2FnZS5cbihnbG9iYWxUaGlzLmxpdEVsZW1lbnRWZXJzaW9ucyA/Pz0gW10pLnB1c2goJzMuMi4yJyk7XG5pZiAoREVWX01PREUgJiYgZ2xvYmFsVGhpcy5saXRFbGVtZW50VmVyc2lvbnMubGVuZ3RoID4gMSkge1xuICBpc3N1ZVdhcm5pbmchKFxuICAgICdtdWx0aXBsZS12ZXJzaW9ucycsXG4gICAgYE11bHRpcGxlIHZlcnNpb25zIG9mIExpdCBsb2FkZWQuIExvYWRpbmcgbXVsdGlwbGUgdmVyc2lvbnMgYCArXG4gICAgICBgaXMgbm90IHJlY29tbWVuZGVkLmBcbiAgKTtcbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cblxuLypcbiAqIElNUE9SVEFOVDogRm9yIGNvbXBhdGliaWxpdHkgd2l0aCB0c2lja2xlIGFuZCB0aGUgQ2xvc3VyZSBKUyBjb21waWxlciwgYWxsXG4gKiBwcm9wZXJ0eSBkZWNvcmF0b3JzIChidXQgbm90IGNsYXNzIGRlY29yYXRvcnMpIGluIHRoaXMgZmlsZSB0aGF0IGhhdmVcbiAqIGFuIEBFeHBvcnREZWNvcmF0ZWRJdGVtcyBhbm5vdGF0aW9uIG11c3QgYmUgZGVmaW5lZCBhcyBhIHJlZ3VsYXIgZnVuY3Rpb24sXG4gKiBub3QgYW4gYXJyb3cgZnVuY3Rpb24uXG4gKi9cbmltcG9ydCB7Q29uc3RydWN0b3IsIENsYXNzRGVzY3JpcHRvcn0gZnJvbSAnLi9iYXNlLmpzJztcblxuLyoqXG4gKiBBbGxvdyBmb3IgY3VzdG9tIGVsZW1lbnQgY2xhc3NlcyB3aXRoIHByaXZhdGUgY29uc3RydWN0b3JzXG4gKi9cbnR5cGUgQ3VzdG9tRWxlbWVudENsYXNzID0gT21pdDx0eXBlb2YgSFRNTEVsZW1lbnQsICduZXcnPjtcblxuY29uc3QgbGVnYWN5Q3VzdG9tRWxlbWVudCA9ICh0YWdOYW1lOiBzdHJpbmcsIGNsYXp6OiBDdXN0b21FbGVtZW50Q2xhc3MpID0+IHtcbiAgd2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSh0YWdOYW1lLCBjbGF6eiBhcyBDdXN0b21FbGVtZW50Q29uc3RydWN0b3IpO1xuICAvLyBDYXN0IGFzIGFueSBiZWNhdXNlIFRTIGRvZXNuJ3QgcmVjb2duaXplIHRoZSByZXR1cm4gdHlwZSBhcyBiZWluZyBhXG4gIC8vIHN1YnR5cGUgb2YgdGhlIGRlY29yYXRlZCBjbGFzcyB3aGVuIGNsYXp6IGlzIHR5cGVkIGFzXG4gIC8vIGBDb25zdHJ1Y3RvcjxIVE1MRWxlbWVudD5gIGZvciBzb21lIHJlYXNvbi5cbiAgLy8gYENvbnN0cnVjdG9yPEhUTUxFbGVtZW50PmAgaXMgaGVscGZ1bCB0byBtYWtlIHN1cmUgdGhlIGRlY29yYXRvciBpc1xuICAvLyBhcHBsaWVkIHRvIGVsZW1lbnRzIGhvd2V2ZXIuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gIHJldHVybiBjbGF6eiBhcyBhbnk7XG59O1xuXG5jb25zdCBzdGFuZGFyZEN1c3RvbUVsZW1lbnQgPSAoXG4gIHRhZ05hbWU6IHN0cmluZyxcbiAgZGVzY3JpcHRvcjogQ2xhc3NEZXNjcmlwdG9yXG4pID0+IHtcbiAgY29uc3Qge2tpbmQsIGVsZW1lbnRzfSA9IGRlc2NyaXB0b3I7XG4gIHJldHVybiB7XG4gICAga2luZCxcbiAgICBlbGVtZW50cyxcbiAgICAvLyBUaGlzIGNhbGxiYWNrIGlzIGNhbGxlZCBvbmNlIHRoZSBjbGFzcyBpcyBvdGhlcndpc2UgZnVsbHkgZGVmaW5lZFxuICAgIGZpbmlzaGVyKGNsYXp6OiBDb25zdHJ1Y3RvcjxIVE1MRWxlbWVudD4pIHtcbiAgICAgIHdpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUodGFnTmFtZSwgY2xhenopO1xuICAgIH0sXG4gIH07XG59O1xuXG4vKipcbiAqIENsYXNzIGRlY29yYXRvciBmYWN0b3J5IHRoYXQgZGVmaW5lcyB0aGUgZGVjb3JhdGVkIGNsYXNzIGFzIGEgY3VzdG9tIGVsZW1lbnQuXG4gKlxuICogYGBganNcbiAqIEBjdXN0b21FbGVtZW50KCdteS1lbGVtZW50JylcbiAqIGNsYXNzIE15RWxlbWVudCBleHRlbmRzIExpdEVsZW1lbnQge1xuICogICByZW5kZXIoKSB7XG4gKiAgICAgcmV0dXJuIGh0bWxgYDtcbiAqICAgfVxuICogfVxuICogYGBgXG4gKiBAY2F0ZWdvcnkgRGVjb3JhdG9yXG4gKiBAcGFyYW0gdGFnTmFtZSBUaGUgdGFnIG5hbWUgb2YgdGhlIGN1c3RvbSBlbGVtZW50IHRvIGRlZmluZS5cbiAqL1xuZXhwb3J0IGNvbnN0IGN1c3RvbUVsZW1lbnQgPVxuICAodGFnTmFtZTogc3RyaW5nKSA9PlxuICAoY2xhc3NPckRlc2NyaXB0b3I6IEN1c3RvbUVsZW1lbnRDbGFzcyB8IENsYXNzRGVzY3JpcHRvcikgPT5cbiAgICB0eXBlb2YgY2xhc3NPckRlc2NyaXB0b3IgPT09ICdmdW5jdGlvbidcbiAgICAgID8gbGVnYWN5Q3VzdG9tRWxlbWVudCh0YWdOYW1lLCBjbGFzc09yRGVzY3JpcHRvcilcbiAgICAgIDogc3RhbmRhcmRDdXN0b21FbGVtZW50KHRhZ05hbWUsIGNsYXNzT3JEZXNjcmlwdG9yIGFzIENsYXNzRGVzY3JpcHRvcik7XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG5cbi8qXG4gKiBJTVBPUlRBTlQ6IEZvciBjb21wYXRpYmlsaXR5IHdpdGggdHNpY2tsZSBhbmQgdGhlIENsb3N1cmUgSlMgY29tcGlsZXIsIGFsbFxuICogcHJvcGVydHkgZGVjb3JhdG9ycyAoYnV0IG5vdCBjbGFzcyBkZWNvcmF0b3JzKSBpbiB0aGlzIGZpbGUgdGhhdCBoYXZlXG4gKiBhbiBARXhwb3J0RGVjb3JhdGVkSXRlbXMgYW5ub3RhdGlvbiBtdXN0IGJlIGRlZmluZWQgYXMgYSByZWd1bGFyIGZ1bmN0aW9uLFxuICogbm90IGFuIGFycm93IGZ1bmN0aW9uLlxuICovXG5pbXBvcnQge1Byb3BlcnR5RGVjbGFyYXRpb24sIFJlYWN0aXZlRWxlbWVudH0gZnJvbSAnLi4vcmVhY3RpdmUtZWxlbWVudC5qcyc7XG5pbXBvcnQge0NsYXNzRWxlbWVudH0gZnJvbSAnLi9iYXNlLmpzJztcblxuY29uc3Qgc3RhbmRhcmRQcm9wZXJ0eSA9IChcbiAgb3B0aW9uczogUHJvcGVydHlEZWNsYXJhdGlvbixcbiAgZWxlbWVudDogQ2xhc3NFbGVtZW50XG4pID0+IHtcbiAgLy8gV2hlbiBkZWNvcmF0aW5nIGFuIGFjY2Vzc29yLCBwYXNzIGl0IHRocm91Z2ggYW5kIGFkZCBwcm9wZXJ0eSBtZXRhZGF0YS5cbiAgLy8gTm90ZSwgdGhlIGBoYXNPd25Qcm9wZXJ0eWAgY2hlY2sgaW4gYGNyZWF0ZVByb3BlcnR5YCBlbnN1cmVzIHdlIGRvbid0XG4gIC8vIHN0b21wIG92ZXIgdGhlIHVzZXIncyBhY2Nlc3Nvci5cbiAgaWYgKFxuICAgIGVsZW1lbnQua2luZCA9PT0gJ21ldGhvZCcgJiZcbiAgICBlbGVtZW50LmRlc2NyaXB0b3IgJiZcbiAgICAhKCd2YWx1ZScgaW4gZWxlbWVudC5kZXNjcmlwdG9yKVxuICApIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uZWxlbWVudCxcbiAgICAgIGZpbmlzaGVyKGNsYXp6OiB0eXBlb2YgUmVhY3RpdmVFbGVtZW50KSB7XG4gICAgICAgIGNsYXp6LmNyZWF0ZVByb3BlcnR5KGVsZW1lbnQua2V5LCBvcHRpb25zKTtcbiAgICAgIH0sXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICAvLyBjcmVhdGVQcm9wZXJ0eSgpIHRha2VzIGNhcmUgb2YgZGVmaW5pbmcgdGhlIHByb3BlcnR5LCBidXQgd2Ugc3RpbGxcbiAgICAvLyBtdXN0IHJldHVybiBzb21lIGtpbmQgb2YgZGVzY3JpcHRvciwgc28gcmV0dXJuIGEgZGVzY3JpcHRvciBmb3IgYW5cbiAgICAvLyB1bnVzZWQgcHJvdG90eXBlIGZpZWxkLiBUaGUgZmluaXNoZXIgY2FsbHMgY3JlYXRlUHJvcGVydHkoKS5cbiAgICByZXR1cm4ge1xuICAgICAga2luZDogJ2ZpZWxkJyxcbiAgICAgIGtleTogU3ltYm9sKCksXG4gICAgICBwbGFjZW1lbnQ6ICdvd24nLFxuICAgICAgZGVzY3JpcHRvcjoge30sXG4gICAgICAvLyBzdG9yZSB0aGUgb3JpZ2luYWwga2V5IHNvIHN1YnNlcXVlbnQgZGVjb3JhdG9ycyBoYXZlIGFjY2VzcyB0byBpdC5cbiAgICAgIG9yaWdpbmFsS2V5OiBlbGVtZW50LmtleSxcbiAgICAgIC8vIFdoZW4gQGJhYmVsL3BsdWdpbi1wcm9wb3NhbC1kZWNvcmF0b3JzIGltcGxlbWVudHMgaW5pdGlhbGl6ZXJzLFxuICAgICAgLy8gZG8gdGhpcyBpbnN0ZWFkIG9mIHRoZSBpbml0aWFsaXplciBiZWxvdy4gU2VlOlxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2JhYmVsL2JhYmVsL2lzc3Vlcy85MjYwIGV4dHJhczogW1xuICAgICAgLy8gICB7XG4gICAgICAvLyAgICAga2luZDogJ2luaXRpYWxpemVyJyxcbiAgICAgIC8vICAgICBwbGFjZW1lbnQ6ICdvd24nLFxuICAgICAgLy8gICAgIGluaXRpYWxpemVyOiBkZXNjcmlwdG9yLmluaXRpYWxpemVyLFxuICAgICAgLy8gICB9XG4gICAgICAvLyBdLFxuICAgICAgaW5pdGlhbGl6ZXIodGhpczoge1trZXk6IHN0cmluZ106IHVua25vd259KSB7XG4gICAgICAgIGlmICh0eXBlb2YgZWxlbWVudC5pbml0aWFsaXplciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXNbZWxlbWVudC5rZXkgYXMgc3RyaW5nXSA9IGVsZW1lbnQuaW5pdGlhbGl6ZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGZpbmlzaGVyKGNsYXp6OiB0eXBlb2YgUmVhY3RpdmVFbGVtZW50KSB7XG4gICAgICAgIGNsYXp6LmNyZWF0ZVByb3BlcnR5KGVsZW1lbnQua2V5LCBvcHRpb25zKTtcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxufTtcblxuY29uc3QgbGVnYWN5UHJvcGVydHkgPSAoXG4gIG9wdGlvbnM6IFByb3BlcnR5RGVjbGFyYXRpb24sXG4gIHByb3RvOiBPYmplY3QsXG4gIG5hbWU6IFByb3BlcnR5S2V5XG4pID0+IHtcbiAgKHByb3RvLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnQpLmNyZWF0ZVByb3BlcnR5KG5hbWUsIG9wdGlvbnMpO1xufTtcblxuLyoqXG4gKiBBIHByb3BlcnR5IGRlY29yYXRvciB3aGljaCBjcmVhdGVzIGEgcmVhY3RpdmUgcHJvcGVydHkgdGhhdCByZWZsZWN0cyBhXG4gKiBjb3JyZXNwb25kaW5nIGF0dHJpYnV0ZSB2YWx1ZS4gV2hlbiBhIGRlY29yYXRlZCBwcm9wZXJ0eSBpcyBzZXRcbiAqIHRoZSBlbGVtZW50IHdpbGwgdXBkYXRlIGFuZCByZW5kZXIuIEEge0BsaW5rY29kZSBQcm9wZXJ0eURlY2xhcmF0aW9ufSBtYXlcbiAqIG9wdGlvbmFsbHkgYmUgc3VwcGxpZWQgdG8gY29uZmlndXJlIHByb3BlcnR5IGZlYXR1cmVzLlxuICpcbiAqIFRoaXMgZGVjb3JhdG9yIHNob3VsZCBvbmx5IGJlIHVzZWQgZm9yIHB1YmxpYyBmaWVsZHMuIEFzIHB1YmxpYyBmaWVsZHMsXG4gKiBwcm9wZXJ0aWVzIHNob3VsZCBiZSBjb25zaWRlcmVkIGFzIHByaW1hcmlseSBzZXR0YWJsZSBieSBlbGVtZW50IHVzZXJzLFxuICogZWl0aGVyIHZpYSBhdHRyaWJ1dGUgb3IgdGhlIHByb3BlcnR5IGl0c2VsZi5cbiAqXG4gKiBHZW5lcmFsbHksIHByb3BlcnRpZXMgdGhhdCBhcmUgY2hhbmdlZCBieSB0aGUgZWxlbWVudCBzaG91bGQgYmUgcHJpdmF0ZSBvclxuICogcHJvdGVjdGVkIGZpZWxkcyBhbmQgc2hvdWxkIHVzZSB0aGUge0BsaW5rY29kZSBzdGF0ZX0gZGVjb3JhdG9yLlxuICpcbiAqIEhvd2V2ZXIsIHNvbWV0aW1lcyBlbGVtZW50IGNvZGUgZG9lcyBuZWVkIHRvIHNldCBhIHB1YmxpYyBwcm9wZXJ0eS4gVGhpc1xuICogc2hvdWxkIHR5cGljYWxseSBvbmx5IGJlIGRvbmUgaW4gcmVzcG9uc2UgdG8gdXNlciBpbnRlcmFjdGlvbiwgYW5kIGFuIGV2ZW50XG4gKiBzaG91bGQgYmUgZmlyZWQgaW5mb3JtaW5nIHRoZSB1c2VyOyBmb3IgZXhhbXBsZSwgYSBjaGVja2JveCBzZXRzIGl0c1xuICogYGNoZWNrZWRgIHByb3BlcnR5IHdoZW4gY2xpY2tlZCBhbmQgZmlyZXMgYSBgY2hhbmdlZGAgZXZlbnQuIE11dGF0aW5nIHB1YmxpY1xuICogcHJvcGVydGllcyBzaG91bGQgdHlwaWNhbGx5IG5vdCBiZSBkb25lIGZvciBub24tcHJpbWl0aXZlIChvYmplY3Qgb3IgYXJyYXkpXG4gKiBwcm9wZXJ0aWVzLiBJbiBvdGhlciBjYXNlcyB3aGVuIGFuIGVsZW1lbnQgbmVlZHMgdG8gbWFuYWdlIHN0YXRlLCBhIHByaXZhdGVcbiAqIHByb3BlcnR5IGRlY29yYXRlZCB2aWEgdGhlIHtAbGlua2NvZGUgc3RhdGV9IGRlY29yYXRvciBzaG91bGQgYmUgdXNlZC4gV2hlblxuICogbmVlZGVkLCBzdGF0ZSBwcm9wZXJ0aWVzIGNhbiBiZSBpbml0aWFsaXplZCB2aWEgcHVibGljIHByb3BlcnRpZXMgdG9cbiAqIGZhY2lsaXRhdGUgY29tcGxleCBpbnRlcmFjdGlvbnMuXG4gKlxuICogYGBgdHNcbiAqIGNsYXNzIE15RWxlbWVudCB7XG4gKiAgIEBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4gfSlcbiAqICAgY2xpY2tlZCA9IGZhbHNlO1xuICogfVxuICogYGBgXG4gKiBAY2F0ZWdvcnkgRGVjb3JhdG9yXG4gKiBARXhwb3J0RGVjb3JhdGVkSXRlbXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByb3BlcnR5KG9wdGlvbnM/OiBQcm9wZXJ0eURlY2xhcmF0aW9uKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gIHJldHVybiAocHJvdG9PckRlc2NyaXB0b3I6IE9iamVjdCB8IENsYXNzRWxlbWVudCwgbmFtZT86IFByb3BlcnR5S2V5KTogYW55ID0+XG4gICAgbmFtZSAhPT0gdW5kZWZpbmVkXG4gICAgICA/IGxlZ2FjeVByb3BlcnR5KG9wdGlvbnMhLCBwcm90b09yRGVzY3JpcHRvciBhcyBPYmplY3QsIG5hbWUpXG4gICAgICA6IHN0YW5kYXJkUHJvcGVydHkob3B0aW9ucyEsIHByb3RvT3JEZXNjcmlwdG9yIGFzIENsYXNzRWxlbWVudCk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG5cbi8qXG4gKiBJTVBPUlRBTlQ6IEZvciBjb21wYXRpYmlsaXR5IHdpdGggdHNpY2tsZSBhbmQgdGhlIENsb3N1cmUgSlMgY29tcGlsZXIsIGFsbFxuICogcHJvcGVydHkgZGVjb3JhdG9ycyAoYnV0IG5vdCBjbGFzcyBkZWNvcmF0b3JzKSBpbiB0aGlzIGZpbGUgdGhhdCBoYXZlXG4gKiBhbiBARXhwb3J0RGVjb3JhdGVkSXRlbXMgYW5ub3RhdGlvbiBtdXN0IGJlIGRlZmluZWQgYXMgYSByZWd1bGFyIGZ1bmN0aW9uLFxuICogbm90IGFuIGFycm93IGZ1bmN0aW9uLlxuICovXG5cbmltcG9ydCB7cHJvcGVydHl9IGZyb20gJy4vcHJvcGVydHkuanMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEludGVybmFsUHJvcGVydHlEZWNsYXJhdGlvbjxUeXBlID0gdW5rbm93bj4ge1xuICAvKipcbiAgICogQSBmdW5jdGlvbiB0aGF0IGluZGljYXRlcyBpZiBhIHByb3BlcnR5IHNob3VsZCBiZSBjb25zaWRlcmVkIGNoYW5nZWQgd2hlblxuICAgKiBpdCBpcyBzZXQuIFRoZSBmdW5jdGlvbiBzaG91bGQgdGFrZSB0aGUgYG5ld1ZhbHVlYCBhbmQgYG9sZFZhbHVlYCBhbmRcbiAgICogcmV0dXJuIGB0cnVlYCBpZiBhbiB1cGRhdGUgc2hvdWxkIGJlIHJlcXVlc3RlZC5cbiAgICovXG4gIGhhc0NoYW5nZWQ/KHZhbHVlOiBUeXBlLCBvbGRWYWx1ZTogVHlwZSk6IGJvb2xlYW47XG59XG5cbi8qKlxuICogRGVjbGFyZXMgYSBwcml2YXRlIG9yIHByb3RlY3RlZCByZWFjdGl2ZSBwcm9wZXJ0eSB0aGF0IHN0aWxsIHRyaWdnZXJzXG4gKiB1cGRhdGVzIHRvIHRoZSBlbGVtZW50IHdoZW4gaXQgY2hhbmdlcy4gSXQgZG9lcyBub3QgcmVmbGVjdCBmcm9tIHRoZVxuICogY29ycmVzcG9uZGluZyBhdHRyaWJ1dGUuXG4gKlxuICogUHJvcGVydGllcyBkZWNsYXJlZCB0aGlzIHdheSBtdXN0IG5vdCBiZSB1c2VkIGZyb20gSFRNTCBvciBIVE1MIHRlbXBsYXRpbmdcbiAqIHN5c3RlbXMsIHRoZXkncmUgc29sZWx5IGZvciBwcm9wZXJ0aWVzIGludGVybmFsIHRvIHRoZSBlbGVtZW50LiBUaGVzZVxuICogcHJvcGVydGllcyBtYXkgYmUgcmVuYW1lZCBieSBvcHRpbWl6YXRpb24gdG9vbHMgbGlrZSBjbG9zdXJlIGNvbXBpbGVyLlxuICogQGNhdGVnb3J5IERlY29yYXRvclxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhdGUob3B0aW9ucz86IEludGVybmFsUHJvcGVydHlEZWNsYXJhdGlvbikge1xuICByZXR1cm4gcHJvcGVydHkoe1xuICAgIC4uLm9wdGlvbnMsXG4gICAgc3RhdGU6IHRydWUsXG4gIH0pO1xufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuXG5pbXBvcnQge1JlYWN0aXZlRWxlbWVudH0gZnJvbSAnLi4vcmVhY3RpdmUtZWxlbWVudC5qcyc7XG5cbmV4cG9ydCB0eXBlIENvbnN0cnVjdG9yPFQ+ID0ge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICBuZXcgKC4uLmFyZ3M6IGFueVtdKTogVDtcbn07XG5cbi8vIEZyb20gdGhlIFRDMzkgRGVjb3JhdG9ycyBwcm9wb3NhbFxuZXhwb3J0IGludGVyZmFjZSBDbGFzc0Rlc2NyaXB0b3Ige1xuICBraW5kOiAnY2xhc3MnO1xuICBlbGVtZW50czogQ2xhc3NFbGVtZW50W107XG4gIGZpbmlzaGVyPzogPFQ+KGNsYXp6OiBDb25zdHJ1Y3RvcjxUPikgPT4gdm9pZCB8IENvbnN0cnVjdG9yPFQ+O1xufVxuXG4vLyBGcm9tIHRoZSBUQzM5IERlY29yYXRvcnMgcHJvcG9zYWxcbmV4cG9ydCBpbnRlcmZhY2UgQ2xhc3NFbGVtZW50IHtcbiAga2luZDogJ2ZpZWxkJyB8ICdtZXRob2QnO1xuICBrZXk6IFByb3BlcnR5S2V5O1xuICBwbGFjZW1lbnQ6ICdzdGF0aWMnIHwgJ3Byb3RvdHlwZScgfCAnb3duJztcbiAgaW5pdGlhbGl6ZXI/OiBGdW5jdGlvbjtcbiAgZXh0cmFzPzogQ2xhc3NFbGVtZW50W107XG4gIGZpbmlzaGVyPzogPFQ+KGNsYXp6OiBDb25zdHJ1Y3RvcjxUPikgPT4gdm9pZCB8IENvbnN0cnVjdG9yPFQ+O1xuICBkZXNjcmlwdG9yPzogUHJvcGVydHlEZXNjcmlwdG9yO1xufVxuXG5leHBvcnQgY29uc3QgbGVnYWN5UHJvdG90eXBlTWV0aG9kID0gKFxuICBkZXNjcmlwdG9yOiBQcm9wZXJ0eURlc2NyaXB0b3IsXG4gIHByb3RvOiBPYmplY3QsXG4gIG5hbWU6IFByb3BlcnR5S2V5XG4pID0+IHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvLCBuYW1lLCBkZXNjcmlwdG9yKTtcbn07XG5cbmV4cG9ydCBjb25zdCBzdGFuZGFyZFByb3RvdHlwZU1ldGhvZCA9IChcbiAgZGVzY3JpcHRvcjogUHJvcGVydHlEZXNjcmlwdG9yLFxuICBlbGVtZW50OiBDbGFzc0VsZW1lbnRcbikgPT4gKHtcbiAga2luZDogJ21ldGhvZCcsXG4gIHBsYWNlbWVudDogJ3Byb3RvdHlwZScsXG4gIGtleTogZWxlbWVudC5rZXksXG4gIGRlc2NyaXB0b3IsXG59KTtcblxuLyoqXG4gKiBIZWxwZXIgZm9yIGRlY29yYXRpbmcgYSBwcm9wZXJ0eSB0aGF0IGlzIGNvbXBhdGlibGUgd2l0aCBib3RoIFR5cGVTY3JpcHRcbiAqIGFuZCBCYWJlbCBkZWNvcmF0b3JzLiBUaGUgb3B0aW9uYWwgYGZpbmlzaGVyYCBjYW4gYmUgdXNlZCB0byBwZXJmb3JtIHdvcmsgb25cbiAqIHRoZSBjbGFzcy4gVGhlIG9wdGlvbmFsIGBkZXNjcmlwdG9yYCBzaG91bGQgcmV0dXJuIGEgUHJvcGVydHlEZXNjcmlwdG9yXG4gKiB0byBpbnN0YWxsIGZvciB0aGUgZ2l2ZW4gcHJvcGVydHkuXG4gKlxuICogQHBhcmFtIGZpbmlzaGVyIHtmdW5jdGlvbn0gT3B0aW9uYWwgZmluaXNoZXIgbWV0aG9kOyByZWNlaXZlcyB0aGUgZWxlbWVudFxuICogY29uc3RydWN0b3IgYW5kIHByb3BlcnR5IGtleSBhcyBhcmd1bWVudHMgYW5kIGhhcyBubyByZXR1cm4gdmFsdWUuXG4gKiBAcGFyYW0gZGVzY3JpcHRvciB7ZnVuY3Rpb259IE9wdGlvbmFsIGRlc2NyaXB0b3IgbWV0aG9kOyByZWNlaXZlcyB0aGVcbiAqIHByb3BlcnR5IGtleSBhcyBhbiBhcmd1bWVudCBhbmQgcmV0dXJucyBhIHByb3BlcnR5IGRlc2NyaXB0b3IgdG8gZGVmaW5lIGZvclxuICogdGhlIGdpdmVuIHByb3BlcnR5LlxuICogQHJldHVybnMge0NsYXNzRWxlbWVudHx2b2lkfVxuICovXG5leHBvcnQgY29uc3QgZGVjb3JhdGVQcm9wZXJ0eSA9XG4gICh7XG4gICAgZmluaXNoZXIsXG4gICAgZGVzY3JpcHRvcixcbiAgfToge1xuICAgIGZpbmlzaGVyPzpcbiAgICAgIHwgKChjdG9yOiB0eXBlb2YgUmVhY3RpdmVFbGVtZW50LCBwcm9wZXJ0eTogUHJvcGVydHlLZXkpID0+IHZvaWQpXG4gICAgICB8IG51bGw7XG4gICAgZGVzY3JpcHRvcj86IChwcm9wZXJ0eTogUHJvcGVydHlLZXkpID0+IFByb3BlcnR5RGVzY3JpcHRvcjtcbiAgfSkgPT5cbiAgKFxuICAgIHByb3RvT3JEZXNjcmlwdG9yOiBSZWFjdGl2ZUVsZW1lbnQgfCBDbGFzc0VsZW1lbnQsXG4gICAgbmFtZT86IFByb3BlcnR5S2V5XG4gICAgLy8gTm90ZSBUeXBlU2NyaXB0IHJlcXVpcmVzIHRoZSByZXR1cm4gdHlwZSB0byBiZSBgdm9pZHxhbnlgXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgKTogdm9pZCB8IGFueSA9PiB7XG4gICAgLy8gVHlwZVNjcmlwdCAvIEJhYmVsIGxlZ2FjeSBtb2RlXG4gICAgaWYgKG5hbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3QgY3RvciA9IChwcm90b09yRGVzY3JpcHRvciBhcyBSZWFjdGl2ZUVsZW1lbnQpXG4gICAgICAgIC5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgUmVhY3RpdmVFbGVtZW50O1xuICAgICAgaWYgKGRlc2NyaXB0b3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG9PckRlc2NyaXB0b3IsIG5hbWUsIGRlc2NyaXB0b3IobmFtZSkpO1xuICAgICAgfVxuICAgICAgZmluaXNoZXI/LihjdG9yLCBuYW1lISk7XG4gICAgICAvLyBCYWJlbCBzdGFuZGFyZCBtb2RlXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE5vdGUsIHRoZSBAcHJvcGVydHkgZGVjb3JhdG9yIHNhdmVzIGBrZXlgIGFzIGBvcmlnaW5hbEtleWBcbiAgICAgIC8vIHNvIHRyeSB0byB1c2UgaXQgaGVyZS5cbiAgICAgIGNvbnN0IGtleSA9XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIChwcm90b09yRGVzY3JpcHRvciBhcyBhbnkpLm9yaWdpbmFsS2V5ID8/XG4gICAgICAgIChwcm90b09yRGVzY3JpcHRvciBhcyBDbGFzc0VsZW1lbnQpLmtleTtcbiAgICAgIGNvbnN0IGluZm86IENsYXNzRWxlbWVudCA9XG4gICAgICAgIGRlc2NyaXB0b3IgIT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyB7XG4gICAgICAgICAgICAgIGtpbmQ6ICdtZXRob2QnLFxuICAgICAgICAgICAgICBwbGFjZW1lbnQ6ICdwcm90b3R5cGUnLFxuICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgIGRlc2NyaXB0b3I6IGRlc2NyaXB0b3IoKHByb3RvT3JEZXNjcmlwdG9yIGFzIENsYXNzRWxlbWVudCkua2V5KSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA6IHsuLi4ocHJvdG9PckRlc2NyaXB0b3IgYXMgQ2xhc3NFbGVtZW50KSwga2V5fTtcbiAgICAgIGlmIChmaW5pc2hlciAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgaW5mby5maW5pc2hlciA9IGZ1bmN0aW9uIDxSZWFjdGl2ZUVsZW1lbnQ+KFxuICAgICAgICAgIGN0b3I6IENvbnN0cnVjdG9yPFJlYWN0aXZlRWxlbWVudD5cbiAgICAgICAgKSB7XG4gICAgICAgICAgZmluaXNoZXIoY3RvciBhcyB1bmtub3duIGFzIHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnQsIGtleSk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gaW5mbztcbiAgICB9XG4gIH07XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG5cbi8qXG4gKiBJTVBPUlRBTlQ6IEZvciBjb21wYXRpYmlsaXR5IHdpdGggdHNpY2tsZSBhbmQgdGhlIENsb3N1cmUgSlMgY29tcGlsZXIsIGFsbFxuICogcHJvcGVydHkgZGVjb3JhdG9ycyAoYnV0IG5vdCBjbGFzcyBkZWNvcmF0b3JzKSBpbiB0aGlzIGZpbGUgdGhhdCBoYXZlXG4gKiBhbiBARXhwb3J0RGVjb3JhdGVkSXRlbXMgYW5ub3RhdGlvbiBtdXN0IGJlIGRlZmluZWQgYXMgYSByZWd1bGFyIGZ1bmN0aW9uLFxuICogbm90IGFuIGFycm93IGZ1bmN0aW9uLlxuICovXG5cbmltcG9ydCB7UmVhY3RpdmVFbGVtZW50fSBmcm9tICcuLi9yZWFjdGl2ZS1lbGVtZW50LmpzJztcbmltcG9ydCB7ZGVjb3JhdGVQcm9wZXJ0eX0gZnJvbSAnLi9iYXNlLmpzJztcblxuLyoqXG4gKiBBIHByb3BlcnR5IGRlY29yYXRvciB0aGF0IGNvbnZlcnRzIGEgY2xhc3MgcHJvcGVydHkgaW50byBhIGdldHRlciB0aGF0XG4gKiBleGVjdXRlcyBhIHF1ZXJ5U2VsZWN0b3Igb24gdGhlIGVsZW1lbnQncyByZW5kZXJSb290LlxuICpcbiAqIEBwYXJhbSBzZWxlY3RvciBBIERPTVN0cmluZyBjb250YWluaW5nIG9uZSBvciBtb3JlIHNlbGVjdG9ycyB0byBtYXRjaC5cbiAqIEBwYXJhbSBjYWNoZSBBbiBvcHRpb25hbCBib29sZWFuIHdoaWNoIHdoZW4gdHJ1ZSBwZXJmb3JtcyB0aGUgRE9NIHF1ZXJ5IG9ubHlcbiAqICAgICBvbmNlIGFuZCBjYWNoZXMgdGhlIHJlc3VsdC5cbiAqXG4gKiBTZWU6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Eb2N1bWVudC9xdWVyeVNlbGVjdG9yXG4gKlxuICogYGBgdHNcbiAqIGNsYXNzIE15RWxlbWVudCB7XG4gKiAgIEBxdWVyeSgnI2ZpcnN0JylcbiAqICAgZmlyc3Q6IEhUTUxEaXZFbGVtZW50O1xuICpcbiAqICAgcmVuZGVyKCkge1xuICogICAgIHJldHVybiBodG1sYFxuICogICAgICAgPGRpdiBpZD1cImZpcnN0XCI+PC9kaXY+XG4gKiAgICAgICA8ZGl2IGlkPVwic2Vjb25kXCI+PC9kaXY+XG4gKiAgICAgYDtcbiAqICAgfVxuICogfVxuICogYGBgXG4gKiBAY2F0ZWdvcnkgRGVjb3JhdG9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWVyeShzZWxlY3Rvcjogc3RyaW5nLCBjYWNoZT86IGJvb2xlYW4pIHtcbiAgcmV0dXJuIGRlY29yYXRlUHJvcGVydHkoe1xuICAgIGRlc2NyaXB0b3I6IChuYW1lOiBQcm9wZXJ0eUtleSkgPT4ge1xuICAgICAgY29uc3QgZGVzY3JpcHRvciA9IHtcbiAgICAgICAgZ2V0KHRoaXM6IFJlYWN0aXZlRWxlbWVudCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlclJvb3Q/LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpID8/IG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIH07XG4gICAgICBpZiAoY2FjaGUpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gdHlwZW9mIG5hbWUgPT09ICdzeW1ib2wnID8gU3ltYm9sKCkgOiBgX18ke25hbWV9YDtcbiAgICAgICAgZGVzY3JpcHRvci5nZXQgPSBmdW5jdGlvbiAodGhpczogUmVhY3RpdmVFbGVtZW50KSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgKHRoaXMgYXMgdW5rbm93biBhcyB7W2tleTogc3RyaW5nXTogRWxlbWVudCB8IG51bGx9KVtcbiAgICAgICAgICAgICAga2V5IGFzIHN0cmluZ1xuICAgICAgICAgICAgXSA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICAodGhpcyBhcyB1bmtub3duIGFzIHtba2V5OiBzdHJpbmddOiBFbGVtZW50IHwgbnVsbH0pW1xuICAgICAgICAgICAgICBrZXkgYXMgc3RyaW5nXG4gICAgICAgICAgICBdID0gdGhpcy5yZW5kZXJSb290Py5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKSA/PyBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gKHRoaXMgYXMgdW5rbm93biBhcyB7W2tleTogc3RyaW5nXTogRWxlbWVudCB8IG51bGx9KVtcbiAgICAgICAgICAgIGtleSBhcyBzdHJpbmdcbiAgICAgICAgICBdO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRlc2NyaXB0b3I7XG4gICAgfSxcbiAgfSk7XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjEgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG5cbi8qXG4gKiBJTVBPUlRBTlQ6IEZvciBjb21wYXRpYmlsaXR5IHdpdGggdHNpY2tsZSBhbmQgdGhlIENsb3N1cmUgSlMgY29tcGlsZXIsIGFsbFxuICogcHJvcGVydHkgZGVjb3JhdG9ycyAoYnV0IG5vdCBjbGFzcyBkZWNvcmF0b3JzKSBpbiB0aGlzIGZpbGUgdGhhdCBoYXZlXG4gKiBhbiBARXhwb3J0RGVjb3JhdGVkSXRlbXMgYW5ub3RhdGlvbiBtdXN0IGJlIGRlZmluZWQgYXMgYSByZWd1bGFyIGZ1bmN0aW9uLFxuICogbm90IGFuIGFycm93IGZ1bmN0aW9uLlxuICovXG5cbmltcG9ydCB7ZGVjb3JhdGVQcm9wZXJ0eX0gZnJvbSAnLi9iYXNlLmpzJztcblxuaW1wb3J0IHR5cGUge1JlYWN0aXZlRWxlbWVudH0gZnJvbSAnLi4vcmVhY3RpdmUtZWxlbWVudC5qcyc7XG5pbXBvcnQgdHlwZSB7UXVlcnlBc3NpZ25lZE5vZGVzT3B0aW9uc30gZnJvbSAnLi9xdWVyeS1hc3NpZ25lZC1ub2Rlcy5qcyc7XG5cbi8qKlxuICogQSB0aW55IG1vZHVsZSBzY29wZWQgcG9seWZpbGwgZm9yIEhUTUxTbG90RWxlbWVudC5hc3NpZ25lZEVsZW1lbnRzLlxuICovXG5jb25zdCBzbG90QXNzaWduZWRFbGVtZW50cyA9XG4gIHdpbmRvdy5IVE1MU2xvdEVsZW1lbnQ/LnByb3RvdHlwZS5hc3NpZ25lZEVsZW1lbnRzICE9IG51bGxcbiAgICA/IChzbG90OiBIVE1MU2xvdEVsZW1lbnQsIG9wdHM/OiBBc3NpZ25lZE5vZGVzT3B0aW9ucykgPT5cbiAgICAgICAgc2xvdC5hc3NpZ25lZEVsZW1lbnRzKG9wdHMpXG4gICAgOiAoc2xvdDogSFRNTFNsb3RFbGVtZW50LCBvcHRzPzogQXNzaWduZWROb2Rlc09wdGlvbnMpID0+XG4gICAgICAgIHNsb3RcbiAgICAgICAgICAuYXNzaWduZWROb2RlcyhvcHRzKVxuICAgICAgICAgIC5maWx0ZXIoXG4gICAgICAgICAgICAobm9kZSk6IG5vZGUgaXMgRWxlbWVudCA9PiBub2RlLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERVxuICAgICAgICAgICk7XG5cbi8qKlxuICogT3B0aW9ucyBmb3IgdGhlIHtAbGlua2NvZGUgcXVlcnlBc3NpZ25lZEVsZW1lbnRzfSBkZWNvcmF0b3IuIEV4dGVuZHMgdGhlXG4gKiBvcHRpb25zIHRoYXQgY2FuIGJlIHBhc3NlZCBpbnRvXG4gKiBbSFRNTFNsb3RFbGVtZW50LmFzc2lnbmVkRWxlbWVudHNdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9IVE1MU2xvdEVsZW1lbnQvYXNzaWduZWRFbGVtZW50cykuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUXVlcnlBc3NpZ25lZEVsZW1lbnRzT3B0aW9uc1xuICBleHRlbmRzIFF1ZXJ5QXNzaWduZWROb2Rlc09wdGlvbnMge1xuICAvKipcbiAgICogQ1NTIHNlbGVjdG9yIHVzZWQgdG8gZmlsdGVyIHRoZSBlbGVtZW50cyByZXR1cm5lZC4gRm9yIGV4YW1wbGUsIGEgc2VsZWN0b3JcbiAgICogb2YgYFwiLml0ZW1cImAgd2lsbCBvbmx5IGluY2x1ZGUgZWxlbWVudHMgd2l0aCB0aGUgYGl0ZW1gIGNsYXNzLlxuICAgKi9cbiAgc2VsZWN0b3I/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogQSBwcm9wZXJ0eSBkZWNvcmF0b3IgdGhhdCBjb252ZXJ0cyBhIGNsYXNzIHByb3BlcnR5IGludG8gYSBnZXR0ZXIgdGhhdFxuICogcmV0dXJucyB0aGUgYGFzc2lnbmVkRWxlbWVudHNgIG9mIHRoZSBnaXZlbiBgc2xvdGAuIFByb3ZpZGVzIGEgZGVjbGFyYXRpdmVcbiAqIHdheSB0byB1c2VcbiAqIFtgSFRNTFNsb3RFbGVtZW50LmFzc2lnbmVkRWxlbWVudHNgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSFRNTFNsb3RFbGVtZW50L2Fzc2lnbmVkRWxlbWVudHMpLlxuICpcbiAqIENhbiBiZSBwYXNzZWQgYW4gb3B0aW9uYWwge0BsaW5rY29kZSBRdWVyeUFzc2lnbmVkRWxlbWVudHNPcHRpb25zfSBvYmplY3QuXG4gKlxuICogRXhhbXBsZSB1c2FnZTpcbiAqIGBgYHRzXG4gKiBjbGFzcyBNeUVsZW1lbnQge1xuICogICBAcXVlcnlBc3NpZ25lZEVsZW1lbnRzKHsgc2xvdDogJ2xpc3QnIH0pXG4gKiAgIGxpc3RJdGVtcyE6IEFycmF5PEhUTUxFbGVtZW50PjtcbiAqICAgQHF1ZXJ5QXNzaWduZWRFbGVtZW50cygpXG4gKiAgIHVubmFtZWRTbG90RWxzITogQXJyYXk8SFRNTEVsZW1lbnQ+O1xuICpcbiAqICAgcmVuZGVyKCkge1xuICogICAgIHJldHVybiBodG1sYFxuICogICAgICAgPHNsb3QgbmFtZT1cImxpc3RcIj48L3Nsb3Q+XG4gKiAgICAgICA8c2xvdD48L3Nsb3Q+XG4gKiAgICAgYDtcbiAqICAgfVxuICogfVxuICogYGBgXG4gKlxuICogTm90ZSwgdGhlIHR5cGUgb2YgdGhpcyBwcm9wZXJ0eSBzaG91bGQgYmUgYW5ub3RhdGVkIGFzIGBBcnJheTxIVE1MRWxlbWVudD5gLlxuICpcbiAqIEBjYXRlZ29yeSBEZWNvcmF0b3JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHF1ZXJ5QXNzaWduZWRFbGVtZW50cyhvcHRpb25zPzogUXVlcnlBc3NpZ25lZEVsZW1lbnRzT3B0aW9ucykge1xuICBjb25zdCB7c2xvdCwgc2VsZWN0b3J9ID0gb3B0aW9ucyA/PyB7fTtcbiAgcmV0dXJuIGRlY29yYXRlUHJvcGVydHkoe1xuICAgIGRlc2NyaXB0b3I6IChfbmFtZTogUHJvcGVydHlLZXkpID0+ICh7XG4gICAgICBnZXQodGhpczogUmVhY3RpdmVFbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IHNsb3RTZWxlY3RvciA9IGBzbG90JHtzbG90ID8gYFtuYW1lPSR7c2xvdH1dYCA6ICc6bm90KFtuYW1lXSknfWA7XG4gICAgICAgIGNvbnN0IHNsb3RFbCA9XG4gICAgICAgICAgdGhpcy5yZW5kZXJSb290Py5xdWVyeVNlbGVjdG9yPEhUTUxTbG90RWxlbWVudD4oc2xvdFNlbGVjdG9yKTtcbiAgICAgICAgY29uc3QgZWxlbWVudHMgPVxuICAgICAgICAgIHNsb3RFbCAhPSBudWxsID8gc2xvdEFzc2lnbmVkRWxlbWVudHMoc2xvdEVsLCBvcHRpb25zKSA6IFtdO1xuICAgICAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgICAgICByZXR1cm4gZWxlbWVudHMuZmlsdGVyKChub2RlKSA9PiBub2RlLm1hdGNoZXMoc2VsZWN0b3IpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWxlbWVudHM7XG4gICAgICB9LFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICB9KSxcbiAgfSk7XG59XG4iLCAiLy8gPGNvcHlyaWdodF9zdGF0ZW1lbnQ+XG4vLyAgIENvZGVCdWRkeTogQSBwcm9ncmFtbWluZyBhc3NpZ25tZW50IG1hbmFnZW1lbnQgc3lzdGVtIGZvciBzaG9ydC1mb3JtIGV4ZXJjaXNlc1xuLy8gICBDb3B5cmlnaHQgKEMpIDIwMjMgU3RlcGhlbiBQaWNjb2xvXG4vLyAgIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5IGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvciAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLiBUaGlzIHByb2dyYW0gaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCwgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4gWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFsb25nIHdpdGggdGhpcyBwcm9ncmFtLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuLy8gPC9jb3B5cmlnaHRfc3RhdGVtZW50PlxuXG5pbXBvcnQgJy4vQ29kZUVkaXRvci5zY3NzJztcbmltcG9ydCBiaW5kIGZyb20gJ0AvdXRpbHMvYmluZCc7XG5pbXBvcnQge0xpdEVsZW1lbnQsIGh0bWx9IGZyb20gJ2xpdCc7XG5pbXBvcnQge2N1c3RvbUVsZW1lbnR9IGZyb20gJ2xpdC9kZWNvcmF0b3JzLmpzJztcbmltcG9ydCAqIGFzIGFjZSBmcm9tICdhY2UtYnVpbGRzJztcbmltcG9ydCAnYWNlLWJ1aWxkcy9zcmMtbm9jb25mbGljdC9leHQtbGFuZ3VhZ2VfdG9vbHMnO1xuXG5hY2UuY29uZmlnLnNldCgnYmFzZVBhdGgnLCAnL3N0YXRpYy9hY2UnKTtcblxuY29uc3QgeyB1c2VyX2luZm8sIGV4ZXJjaXNlX2RldGFpbHMgfSA9IHdpbmRvdy50ZW1wbGF0ZURhdGE7XG5leHBvcnQgY29uc3QgVW5kb01hbmFnZXI6IHR5cGVvZiBhY2UuVW5kb01hbmFnZXIgPSBhY2UucmVxdWlyZSgnYWNlL3VuZG9tYW5hZ2VyJykuVW5kb01hbmFnZXI7XG5cbkBjdXN0b21FbGVtZW50KCdjb2RlLWVkaXRvcicpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb2RlRWRpdG9yIGV4dGVuZHMgTGl0RWxlbWVudCB7XG5cdHByaXZhdGUgcmVzaXplT2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIodGhpcy5yZXNpemUpO1xuXHRwdWJsaWMgZWRpdG9yPzogYWNlLkFjZS5FZGl0b3I7XG5cdFxuXHRwcm90ZWN0ZWQgZmlyc3RVcGRhdGVkKCk6IHZvaWQge1xuXHRcdHRoaXMuZWRpdG9yID0gYWNlLmVkaXQodGhpcy5yZW5kZXJSb290LnF1ZXJ5U2VsZWN0b3IoJy5lZGl0b3InKSEsIHtcblx0XHRcdHRoZW1lOiBgYWNlL3RoZW1lLyR7dXNlcl9pbmZvLmFjZV90aGVtZX1gLFxuXHRcdFx0Zm9udFNpemU6ICcxMnB0JyBhcyBhbnksXG5cdFx0XHR3cmFwOiB0cnVlLFxuXHRcdH0pO1xuXG5cdFx0aWYgKHVzZXJfaW5mb1snZW5hYmxlX3ZpbSddKSB7XG5cdFx0XHR0aGlzLmVkaXRvci5zZXRLZXlib2FyZEhhbmRsZXIoXCJhY2Uva2V5Ym9hcmQvdmltXCIpO1xuXHRcdH1cblxuXHRcdGlmICh1c2VyX2luZm9bXCJ1c2VfYXV0b19jb21wbGV0ZVwiXSAmJiBleGVyY2lzZV9kZXRhaWxzW1wiYmFja19lbmRcIl0gIT0gXCJub3RfY29kZVwiKSB7XG5cdFx0XHR0aGlzLmVkaXRvci5zZXRPcHRpb25zKHtcblx0XHRcdFx0ZW5hYmxlQmFzaWNBdXRvY29tcGxldGlvbjogZmFsc2UsXG5cdFx0XHRcdGVuYWJsZVNuaXBwZXRzOiB0cnVlLFxuXHRcdFx0XHRlbmFibGVMaXZlQXV0b2NvbXBsZXRpb246IHRydWVcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHRoaXMuZWRpdG9yLmNvbW1hbmRzLmFkZENvbW1hbmRzKFtcblx0XHRcdHtcblx0XHRcdFx0bmFtZSA6ICd1bmRvJyxcblx0XHRcdFx0YmluZEtleToge3dpbjogXCJDdHJsLVpcIiwgbWFjOiBcIkNvbW1hbmQtWlwifSxcblx0XHRcdFx0ZXhlYyA6IGZ1bmN0aW9uKGVkaXRvcil7XG5cdFx0XHRcdFx0ZWRpdG9yLnNlc3Npb24uZ2V0VW5kb01hbmFnZXIoKS51bmRvKGVkaXRvci5zZXNzaW9uKTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0bmFtZSA6ICdyZWRvMScsXG5cdFx0XHRcdGJpbmRLZXk6IHt3aW46IFwiQ3RybC1TaGlmdC1aXCIsIG1hYzogXCJDb21tYW5kLVNoaWZ0LVpcIn0sXG5cdFx0XHRcdGV4ZWMgOiBmdW5jdGlvbihlZGl0b3Ipe1xuXHRcdFx0XHRcdGVkaXRvci5zZXNzaW9uLmdldFVuZG9NYW5hZ2VyKCkucmVkbyhlZGl0b3Iuc2Vzc2lvbik7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdG5hbWUgOiAncmVkbzInLFxuXHRcdFx0XHRiaW5kS2V5OiB7d2luOiBcIkN0cmwtWVwiLCBtYWM6IFwiQ29tbWFuZC1ZXCJ9LFxuXHRcdFx0XHRleGVjIDogZnVuY3Rpb24oZWRpdG9yKXtcblx0XHRcdFx0XHRlZGl0b3Iuc2Vzc2lvbi5nZXRVbmRvTWFuYWdlcigpLnJlZG8oZWRpdG9yLnNlc3Npb24pO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdF0pO1xuXG5cdFx0dGhpcy5yZXNpemVPYnNlcnZlci5vYnNlcnZlKHRoaXMpO1xuXHRcdHRoaXMuZWRpdG9yLmZvY3VzKCk7XG5cdH1cblxuXHRkaXNjb25uZWN0ZWRDYWxsYmFjaygpOiB2b2lkIHtcblx0XHR0aGlzLnJlc2l6ZU9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcblx0fVxuXG5cdEBiaW5kXG5cdHByaXZhdGUgcmVzaXplKCkge1xuXHRcdHRoaXMuZWRpdG9yPy5yZXNpemUoKTtcblx0fVxuXG5cdHJlbmRlcigpIHtcblx0XHRyZXR1cm4gaHRtbGBcblx0XHRcdDxkaXYgY2xhc3M9XCJlZGl0b3ItY29udGFpbmVyXCI+XG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJlZGl0b3JcIj48L2Rpdj5cblx0XHRcdDwvZGl2PlxuXHRcdGA7XG5cdH1cblxuXHRwdWJsaWMgYXN5bmMgc2V0U2Vzc2lvbihzZXNzaW9uOiBhY2UuQWNlLkVkaXRTZXNzaW9uKSB7XG5cdFx0aWYgKCF0aGlzLmVkaXRvcikge1xuXHRcdFx0YXdhaXQgdGhpcy51cGRhdGVDb21wbGV0ZTtcblx0XHR9XG5cdFx0aWYgKGV4ZXJjaXNlX2RldGFpbHNbXCJiYWNrX2VuZFwiXSA9PT0gXCJub3RfY29kZVwiKSB7XG5cdFx0XHRzZXNzaW9uLnNldFVzZVdyYXBNb2RlKHRydWUpO1xuXHRcdH1cblx0XHR0aGlzLmVkaXRvcj8uc2V0U2Vzc2lvbihzZXNzaW9uKTtcblx0fVxuXG5cdHB1YmxpYyBhc3luYyBzZXRSZWFkT25seShyZWFkT25seTogYm9vbGVhbikge1xuXHRcdGlmICghdGhpcy5lZGl0b3IpIHtcblx0XHRhd2FpdCB0aGlzLnVwZGF0ZUNvbXBsZXRlO1xuXHRcdH1cblx0XHR0aGlzLmVkaXRvcj8uc2V0UmVhZE9ubHkocmVhZE9ubHkpO1xuXHR9XG59XG4iLCAiLy8gPGNvcHlyaWdodF9zdGF0ZW1lbnQ+XG4vLyAgIENvZGVCdWRkeTogQSBwcm9ncmFtbWluZyBhc3NpZ25tZW50IG1hbmFnZW1lbnQgc3lzdGVtIGZvciBzaG9ydC1mb3JtIGV4ZXJjaXNlc1xuLy8gICBDb3B5cmlnaHQgKEMpIDIwMjMgU3RlcGhlbiBQaWNjb2xvXG4vLyAgIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5IGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvciAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLiBUaGlzIHByb2dyYW0gaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCwgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4gWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFsb25nIHdpdGggdGhpcyBwcm9ncmFtLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuLy8gPC9jb3B5cmlnaHRfc3RhdGVtZW50PlxuXG5pbXBvcnQgdHlwZSAqIGFzIG1vbmFjbyBmcm9tICdtb25hY28tZWRpdG9yJztcbmV4cG9ydCB0eXBlIERpZmZFZGl0b3IgPSBtb25hY28uZWRpdG9yLklTdGFuZGFsb25lRGlmZkVkaXRvcjtcblxuXG5sZXQgbW9uYWNvUHJvbWlzZTogUHJvbWlzZTx0eXBlb2YgbW9uYWNvPjtcblxuLy8gUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0aGUgbW9uYWNvIG9iamVjdC5cbi8vIFdpbGwgb25seSBsb2FkIHRoZSBzY3JpcHQgb25jZSwgY2FsbGluZyBpdCBhZ2FpbiB3aWxsIHJlc29sdmUgdG8gdGhlIHNhbWUgcHJvbWlzZS5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRNb25hY28oKTogUHJvbWlzZTx0eXBlb2YgbW9uYWNvPiB7XG5cdGlmICghbW9uYWNvUHJvbWlzZSkge1xuXHRcdG1vbmFjb1Byb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuXHRcdFx0Y29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG5cdFx0XHRzY3JpcHQuc3JjID0gYC9zdGF0aWMvbW9uYWNvL21pbi92cy9sb2FkZXIuanNgO1xuXHRcdFx0c2NyaXB0Lm9ubG9hZCA9ICgpID0+IHtcblx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcblx0XHRcdFx0Y29uc3QgdzogYW55ID0gd2luZG93O1xuXHRcdFx0XHR3LnJlcXVpcmUuY29uZmlnKHsgcGF0aHM6IHsgJ3ZzJzogYC9zdGF0aWMvbW9uYWNvL21pbi92c2AgfSB9KTtcblx0XHRcdFx0Ly8gd2luZG93Lk1vbmFjb0Vudmlyb25tZW50ID0ge1xuXHRcdFx0XHQvLyBcdGdldFdvcmtlclVybDogKCkgPT4gcHJveHksXG5cdFx0XHRcdC8vIFx0Z2V0V29ya2VyOiBmdW5jdGlvbiAod29ya2VySWQ6IHN0cmluZywgbGFiZWw6IHN0cmluZykge1xuXHRcdFx0XHQvLyBcdFx0Y29uc3QgZ2V0V29ya2VyTW9kdWxlID0gKG1vZHVsZVVybDogc3RyaW5nLCBsYWJlbDogc3RyaW5nKSA9PiB7XG5cdFx0XHRcdC8vIFx0XHRcdHJldHVybiBuZXcgV29ya2VyKGAvc3RhdGljL21vbmFjby9taW4vdnMvJHttb2R1bGVVcmx9YCwge1xuXHRcdFx0XHQvLyBcdFx0XHRcdG5hbWU6IGxhYmVsLFxuXHRcdFx0XHQvLyBcdFx0XHRcdHR5cGU6ICdtb2R1bGUnXG5cdFx0XHRcdC8vIFx0XHRcdH0pO1xuXHRcdFx0XHQvLyBcdFx0fTtcblx0XHRcdFx0XG5cdFx0XHRcdC8vIFx0XHRzd2l0Y2ggKGxhYmVsKSB7XG5cdFx0XHRcdC8vIFx0XHRcdGNhc2UgJ2pzb24nOlxuXHRcdFx0XHQvLyBcdFx0XHRcdHJldHVybiBnZXRXb3JrZXJNb2R1bGUoJ2xhbmd1YWdlL2pzb24vanNvbldvcmtlci5qcycsIGxhYmVsKTtcblx0XHRcdFx0Ly8gXHRcdFx0Y2FzZSAnY3NzJzpcblx0XHRcdFx0Ly8gXHRcdFx0Y2FzZSAnc2Nzcyc6XG5cdFx0XHRcdC8vIFx0XHRcdGNhc2UgJ2xlc3MnOlxuXHRcdFx0XHQvLyBcdFx0XHRcdHJldHVybiBnZXRXb3JrZXJNb2R1bGUoJ2xhbmd1YWdlL2Nzcy9jc3NXb3JrZXIuanMnLCBsYWJlbCk7XG5cdFx0XHRcdC8vIFx0XHRcdGNhc2UgJ2h0bWwnOlxuXHRcdFx0XHQvLyBcdFx0XHRjYXNlICdoYW5kbGViYXJzJzpcblx0XHRcdFx0Ly8gXHRcdFx0Y2FzZSAncmF6b3InOlxuXHRcdFx0XHQvLyBcdFx0XHRcdHJldHVybiBnZXRXb3JrZXJNb2R1bGUoJ2xhbmd1YWdlL2h0bWwvaHRtbFdvcmtlci5qcycsIGxhYmVsKTtcblx0XHRcdFx0Ly8gXHRcdFx0Y2FzZSAndHlwZXNjcmlwdCc6XG5cdFx0XHRcdC8vIFx0XHRcdGNhc2UgJ2phdmFzY3JpcHQnOlxuXHRcdFx0XHQvLyBcdFx0XHRcdHJldHVybiBnZXRXb3JrZXJNb2R1bGUoJ2xhbmd1YWdlL3R5cGVzY3JpcHQvdHNXb3JrZXIuanMnLCBsYWJlbCk7XG5cdFx0XHRcdC8vIFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdC8vIFx0XHRcdFx0cmV0dXJuIGdldFdvcmtlck1vZHVsZSgnYmFzZS93b3JrZXIvd29ya2VyTWFpbi5qcycsIGxhYmVsKTtcblx0XHRcdFx0Ly8gXHRcdH1cblx0XHRcdFx0Ly8gXHR9XHRcdFx0XHRcdFxuXHRcdFx0XHQvLyB9O1xuXHRcdFx0XHQvLyBjb25zdCBwcm94eSA9IFVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW2Bcblx0XHRcdFx0Ly8gc2VsZi5Nb25hY29FbnZpcm9ubWVudCA9IHtcblx0XHRcdFx0Ly8gXHRiYXNlVXJsOiAnL3N0YXRpYy9tb25hY28vbWluL3ZzJ1xuXHRcdFx0XHQvLyB9O1xuXHRcdFx0XHQvLyBgXSkpO1xuXHRcdFx0XHR3LnJlcXVpcmUoWyd2cy9lZGl0b3IvZWRpdG9yLm1haW4nXSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdHJlc29sdmUod2luZG93Lm1vbmFjbyk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fTtcblxuXHRcdFx0ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO1xuXHRcdH0pO1xuXHR9XG5cdHJldHVybiBtb25hY29Qcm9taXNlO1xufVxuXG5cbi8vIGltcG9ydCAqIGFzIG0gZnJvbSAnbW9uYWNvLWVkaXRvcic7XG5cbi8vIGV4cG9ydCBjb25zdCBtb25hY28gPSBtO1xuXG4vLyBleHBvcnQgdHlwZSBEaWZmRWRpdG9yID0gbS5lZGl0b3IuSVN0YW5kYWxvbmVEaWZmRWRpdG9yO1xuXG4vLyBzZWxmLk1vbmFjb0Vudmlyb25tZW50ID0ge1xuLy8gXHRiYXNlVXJsOiAnL3N0YXRpYy9tb25hY28nLFxuLy8gXHRnZXRXb3JrZXJVcmw6IGZ1bmN0aW9uIChtb2R1bGVJZCwgbGFiZWwpIHtcbi8vIFx0XHRzd2l0Y2ggKGxhYmVsKSB7XG4vLyBcdFx0XHRjYXNlICdqc29uJzpcbi8vIFx0XHRcdFx0cmV0dXJuICcvc3RhdGljL21vbmFjby9sYW5ndWFnZS9qc29uL2pzb25Xb3JrZXIuanMnO1xuLy8gXHRcdFx0Y2FzZSAnY3NzJzpcbi8vIFx0XHRcdGNhc2UgJ3Njc3MnOlxuLy8gXHRcdFx0Y2FzZSAnbGVzcyc6XG4vLyBcdFx0XHRcdHJldHVybiAnL3N0YXRpYy9tb25hY28vbGFuZ3VhZ2UvY3NzL2Nzc1dvcmtlci5qcyc7XG4vLyBcdFx0XHRjYXNlICdodG1sJzpcbi8vIFx0XHRcdGNhc2UgJ2hhbmRsZWJhcnMnOlxuLy8gXHRcdFx0Y2FzZSAncmF6b3InOlxuLy8gXHRcdFx0XHRyZXR1cm4gJy9zdGF0aWMvbW9uYWNvL2xhbmd1YWdlL2h0bWwvaHRtbFdvcmtlci5qcyc7XG4vLyBcdFx0XHRjYXNlICd0eXBlc2NyaXB0Jzpcbi8vIFx0XHRcdGNhc2UgJ2phdmFzY3JpcHQnOlxuLy8gXHRcdFx0XHRyZXR1cm4gJy9zdGF0aWMvbW9uYWNvL2xhbmd1YWdlL3R5cGVzY3JpcHQvdHNXb3JrZXIuanMnO1xuLy8gXHRcdFx0ZGVmYXVsdDpcbi8vIFx0XHRcdFx0cmV0dXJuICcvc3RhdGljL21vbmFjby9iYXNlL3dvcmtlci93b3JrZXJNYWluLmpzJztcbi8vIFx0XHR9XG4vLyBcdH0sXG5cbi8vIFx0Ly8gZ2V0V29ya2VyOiBmdW5jdGlvbiAod29ya2VySWQ6IHN0cmluZywgbGFiZWwpIHtcbi8vIFx0Ly8gXHRjb25zdCBnZXRXb3JrZXJNb2R1bGUgPSAobW9kdWxlVXJsOiBzdHJpbmcsIGxhYmVsOiBzdHJpbmcpID0+IHtcbi8vIFx0Ly8gXHRcdHJldHVybiBuZXcgV29ya2VyKHNlbGYuTW9uYWNvRW52aXJvbm1lbnQhLmdldFdvcmtlclVybCEobW9kdWxlVXJsLCBsYWJlbCksIHtcbi8vIFx0Ly8gXHRcdFx0bmFtZTogbGFiZWwsXG4vLyBcdC8vIFx0XHRcdHR5cGU6ICdtb2R1bGUnXG4vLyBcdC8vIFx0XHR9KTtcbi8vIFx0Ly8gXHR9O1xuXG4vLyBcdC8vIFx0c3dpdGNoIChsYWJlbCkge1xuLy8gXHQvLyBcdFx0Y2FzZSAnanNvbic6XG4vLyBcdC8vIFx0XHRcdHJldHVybiBnZXRXb3JrZXJNb2R1bGUoJy9tb25hY28tZWRpdG9yL2VzbS92cy9sYW5ndWFnZS9qc29uL2pzb24ud29ya2VyP3dvcmtlcicsIGxhYmVsKTtcbi8vIFx0Ly8gXHRcdGNhc2UgJ2Nzcyc6XG4vLyBcdC8vIFx0XHRjYXNlICdzY3NzJzpcbi8vIFx0Ly8gXHRcdGNhc2UgJ2xlc3MnOlxuLy8gXHQvLyBcdFx0XHRyZXR1cm4gZ2V0V29ya2VyTW9kdWxlKCcvbW9uYWNvLWVkaXRvci9lc20vdnMvbGFuZ3VhZ2UvY3NzL2Nzcy53b3JrZXI/d29ya2VyJywgbGFiZWwpO1xuLy8gXHQvLyBcdFx0Y2FzZSAnaHRtbCc6XG4vLyBcdC8vIFx0XHRjYXNlICdoYW5kbGViYXJzJzpcbi8vIFx0Ly8gXHRcdGNhc2UgJ3Jhem9yJzpcbi8vIFx0Ly8gXHRcdFx0cmV0dXJuIGdldFdvcmtlck1vZHVsZSgnL21vbmFjby1lZGl0b3IvZXNtL3ZzL2xhbmd1YWdlL2h0bWwvaHRtbC53b3JrZXI/d29ya2VyJywgbGFiZWwpO1xuLy8gXHQvLyBcdFx0Y2FzZSAndHlwZXNjcmlwdCc6XG4vLyBcdC8vIFx0XHRjYXNlICdqYXZhc2NyaXB0Jzpcbi8vIFx0Ly8gXHRcdFx0cmV0dXJuIGdldFdvcmtlck1vZHVsZSgnL21vbmFjby1lZGl0b3IvZXNtL3ZzL2xhbmd1YWdlL3R5cGVzY3JpcHQvdHMud29ya2VyP3dvcmtlcicsIGxhYmVsKTtcbi8vIFx0Ly8gXHRcdGRlZmF1bHQ6XG4vLyBcdC8vIFx0XHRcdHJldHVybiBnZXRXb3JrZXJNb2R1bGUoJy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvZWRpdG9yLndvcmtlcj93b3JrZXInLCBsYWJlbCk7XG4vLyBcdC8vIFx0fVxuLy8gXHQvLyB9XG4vLyB9O1xuXG5cbiIsICIvLyA8Y29weXJpZ2h0X3N0YXRlbWVudD5cbi8vICAgQ29kZUJ1ZGR5OiBBIHByb2dyYW1taW5nIGFzc2lnbm1lbnQgbWFuYWdlbWVudCBzeXN0ZW0gZm9yIHNob3J0LWZvcm0gZXhlcmNpc2VzXG4vLyAgIENvcHlyaWdodCAoQykgMjAyMyBTdGVwaGVuIFBpY2NvbG9cbi8vICAgVGhpcyBwcm9ncmFtIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnkgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uIFRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLCBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4vLyA8L2NvcHlyaWdodF9zdGF0ZW1lbnQ+XG5cbmltcG9ydCB7TGl0RWxlbWVudCwgaHRtbCwgY3NzLCBQcm9wZXJ0eVZhbHVlTWFwfSBmcm9tICdsaXQnO1xuaW1wb3J0IHtjdXN0b21FbGVtZW50LCBwcm9wZXJ0eX0gZnJvbSAnbGl0L2RlY29yYXRvcnMuanMnO1xuaW1wb3J0IGJpbmQgZnJvbSAnQC91dGlscy9iaW5kJztcbmltcG9ydCB7IGdldE1vbmFjbywgRGlmZkVkaXRvciB9IGZyb20gJ0AvdXRpbHMvbW9uYWNvJztcblxuXG5AY3VzdG9tRWxlbWVudCgnZGlmZi12aWV3ZXInKVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGlmZlZpZXdlciBleHRlbmRzIExpdEVsZW1lbnQge1xuXHRwcml2YXRlIHJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKHRoaXMucmVzaXplKTtcblxuXHRAcHJvcGVydHkoKVxuXHRwdWJsaWMgbGVmdD86IHN0cmluZztcblxuXHRAcHJvcGVydHkoKVxuXHRwdWJsaWMgcmlnaHQ/OiBzdHJpbmc7XG5cblx0cHJpdmF0ZSBlZGl0b3I/OiBEaWZmRWRpdG9yO1xuXG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdHN1cGVyKCk7XG5cdH1cblxuXHRyZW5kZXIoKSB7XG5cdFx0cmV0dXJuIGh0bWxgPGRpdj48L2Rpdj5gO1xuXHR9XG5cblx0YXN5bmMgZmlyc3RVcGRhdGVkKCkge1xuXHRcdGNvbnN0IG1vbmFjbyA9IGF3YWl0IGdldE1vbmFjbygpO1xuXHRcdGNvbnN0IGxlZnQgPSBtb25hY28uZWRpdG9yLmNyZWF0ZU1vZGVsKHRoaXMubGVmdCA/PyAnJywgJ3RleHQvcGxhaW4nKTtcblx0XHRjb25zdCByaWdodCA9IG1vbmFjby5lZGl0b3IuY3JlYXRlTW9kZWwodGhpcy5yaWdodCA/PyAnJywgJ3RleHQvcGxhaW4nKTtcblx0XHRcblx0XHR0aGlzLmVkaXRvciA9IG1vbmFjby5lZGl0b3IuY3JlYXRlRGlmZkVkaXRvcih0aGlzLnJlbmRlclJvb3QucXVlcnlTZWxlY3RvcignZGl2JykhLCB7XG5cdFx0XHRmb250U2l6ZTogMTQsXG5cdFx0XHRkb21SZWFkT25seTogdHJ1ZSxcblx0XHRcdHJlYWRPbmx5OiB0cnVlLFxuXHRcdFx0bWluaW1hcDogeyBlbmFibGVkOiBmYWxzZSB9LFxuXHRcdFx0c2Nyb2xsYmFyOiB7XG5cdFx0XHRcdGFsd2F5c0NvbnN1bWVNb3VzZVdoZWVsOiB0cnVlLFxuXHRcdFx0fSxcblx0XHRcdHNjcm9sbEJleW9uZExhc3RMaW5lOiBmYWxzZSxcblx0XHRcdGlnbm9yZVRyaW1XaGl0ZXNwYWNlOiBmYWxzZSxcblx0XHRcdHJlbmRlcldoaXRlc3BhY2U6ICdhbGwnLFxuXHRcdFx0Ly8gcmVuZGVyU2lkZUJ5U2lkZTogZmFsc2UsXG5cdFx0fSk7XG5cdFx0dGhpcy5lZGl0b3Iuc2V0TW9kZWwoe1xuXHRcdFx0b3JpZ2luYWw6IGxlZnQsXG5cdFx0XHRtb2RpZmllZDogcmlnaHQsXG5cdFx0fSk7XG5cblx0XHR0aGlzLnJlc2l6ZU9ic2VydmVyLm9ic2VydmUodGhpcyk7XG5cdFx0Ly8gdGhpcy5lZGl0b3IuZ2V0T3JpZ2luYWxFZGl0b3IoKS5vbkRpZEF0dGVtcHRSZWFkT25seUVkaXQoKVxuXHR9XG5cblx0QGJpbmRcblx0cmVzaXplKCkge1xuXHRcdHRoaXMuZWRpdG9yPy5sYXlvdXQoKTtcblx0fVxuXG59IiwgIi8vIDxjb3B5cmlnaHRfc3RhdGVtZW50PlxuLy8gICBDb2RlQnVkZHk6IEEgcHJvZ3JhbW1pbmcgYXNzaWdubWVudCBtYW5hZ2VtZW50IHN5c3RlbSBmb3Igc2hvcnQtZm9ybSBleGVyY2lzZXNcbi8vICAgQ29weXJpZ2h0IChDKSAyMDIzIFN0ZXBoZW4gUGljY29sb1xuLy8gICBUaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeSBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnkgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi4gVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhbG9uZyB3aXRoIHRoaXMgcHJvZ3JhbS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbi8vIDwvY29weXJpZ2h0X3N0YXRlbWVudD5cblxuaW1wb3J0IGJpbmQgZnJvbSAnQC91dGlscy9iaW5kJztcbmltcG9ydCB7TGl0RWxlbWVudCwgaHRtbH0gZnJvbSAnbGl0JztcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQsIHByb3BlcnR5LCBxdWVyeSwgc3RhdGUgfSBmcm9tICdsaXQvZGVjb3JhdG9ycy5qcyc7XG5pbXBvcnQgJy4vU3BsaXRQYW5lLnNjc3MnO1xuXG5jb25zdCBHVVRURVJfU0laRSA9IDEyO1xuXG5AY3VzdG9tRWxlbWVudCgnc3BsaXQtcGFuZScpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTcGxpdFBhbmUgZXh0ZW5kcyBMaXRFbGVtZW50IHtcblx0QHByb3BlcnR5KClcblx0ZGlyZWN0aW9uOiAndmVydGljYWwnIHwgJ2hvcml6b250YWwnID0gJ3ZlcnRpY2FsJztcdFxuXG5cdEBwcm9wZXJ0eSgpXG5cdGZpeGVkU2lkZTogJ2ZpcnN0JyB8ICdzZWNvbmQnID0gJ2ZpcnN0JztcdFxuXG5cdEBwcm9wZXJ0eSh7YXR0cmlidXRlOiBmYWxzZX0pXG5cdG1pblNpemVzOiBbbnVtYmVyLCBudW1iZXJdID0gWzAsIDBdO1x0XG5cblx0QHByb3BlcnR5KClcblx0Y2FjaGVJRD86IHN0cmluZztcblxuXHRAcHJvcGVydHkoKVxuXHRmaXJzdD86IGFueTtcblxuXHRAcHJvcGVydHkoKVxuXHRzZWNvbmQ/OiBhbnk7XG5cblx0QHByb3BlcnR5KHt0eXBlOiBOdW1iZXJ9KVxuXHRkZWZhdWx0U3BsaXQ6IG51bWJlciA9IDAuNTtcblxuXHRyZXNpemVDYWxsYmFjaz86ICgpID0+IHZvaWQ7XG5cblx0QHN0YXRlKClcblx0cHJpdmF0ZSBfY3VycmVudFNwbGl0OiBudW1iZXIgPSAwO1xuXG5cdGdldCBjdXJyZW50U3BsaXQoKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gdGhpcy5fY3VycmVudFNwbGl0O1xuXHR9XG5cblx0c2V0IGN1cnJlbnRTcGxpdCh2YWw6IG51bWJlcikge1xuXHRcdHRoaXMuX2N1cnJlbnRTcGxpdCA9IHZhbDtcblx0XHRpZiAodGhpcy5jYWNoZUlEKSB7XG5cdFx0XHR3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oYHNwbGl0LSR7dGhpcy5jYWNoZUlEfWAsIHZhbC50b1N0cmluZygpKTtcblx0XHR9XG5cdH1cblx0XG5cdHByaXZhdGUgcmVzaXplT2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIodGhpcy5vblJlc2l6ZSk7XG5cblx0XG5cdEBxdWVyeSgnLnNwbGl0Jylcblx0cHJpdmF0ZSBwYXJlbnQhOiBIVE1MRGl2RWxlbWVudDtcblx0QHF1ZXJ5KCcuc3BsaXQtZmlyc3QnKVxuXHRwcml2YXRlIGZpcnN0Q29udGFpbmVyITogSFRNTERpdkVsZW1lbnQ7XG5cdEBxdWVyeSgnLnNwbGl0LXNlY29uZCcpXG5cdHByaXZhdGUgc2Vjb25kQ29udGFpbmVyITogSFRNTERpdkVsZW1lbnQ7XG5cdFxuXG5cdGZpcnN0VXBkYXRlZCgpOiB2b2lkIHtcblx0XHRsZXQgZGVmYXVsdFNwbGl0ID0gdGhpcy5kZWZhdWx0U3BsaXQ7XG5cdFx0aWYgKHRoaXMuY2FjaGVJRCkge1xuXHRcdFx0Y29uc3QgY2FjaGVkVmFsID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGBzcGxpdC0ke3RoaXMuY2FjaGVJRH1gKTtcblx0XHRcdGlmIChjYWNoZWRWYWw/Lmxlbmd0aCkge1xuXHRcdFx0XHRjb25zdCBjYWNoZWROdW0gPSBOdW1iZXIoY2FjaGVkVmFsKTtcblx0XHRcdFx0aWYgKGNhY2hlZE51bSA+PSAwICYmIGNhY2hlZE51bSA8PSAxKSB7XG5cdFx0XHRcdFx0ZGVmYXVsdFNwbGl0ID0gY2FjaGVkTnVtO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHRoaXMuY3VycmVudFNwbGl0ID0gZGVmYXVsdFNwbGl0O1xuXG5cdFx0dGhpcy5yZXNpemVPYnNlcnZlci5vYnNlcnZlKHRoaXMucGFyZW50KTtcblx0XHR0aGlzLnNldFNpemVzKCk7XG5cdH1cblxuXHRkaXNjb25uZWN0ZWRDYWxsYmFjaygpOiB2b2lkIHtcblx0XHR0aGlzLnJlc2l6ZU9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcblx0fVxuXG5cdEBiaW5kXG5cdHByaXZhdGUgb25SZXNpemUoKSB7XG5cdFx0Y29uc3QgcGFyZW50UmVjdCA9IHRoaXMucGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdGNvbnN0IGZ1bGxTaXplID0gdGhpcy5kaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJyA/IHBhcmVudFJlY3QuaGVpZ2h0IDogcGFyZW50UmVjdC53aWR0aDtcblxuXHRcdGNvbnN0IHByb3BlcnR5ID0gdGhpcy5kaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJyA/ICdoZWlnaHQnIDogJ3dpZHRoJztcblx0XHRpZiAodGhpcy5maXhlZFNpZGUgPT09ICdmaXJzdCcpIHtcblx0XHRcdGNvbnN0IGZpcnN0U2l6ZSA9IE51bWJlcih0aGlzLmZpcnN0Q29udGFpbmVyLnN0eWxlW3Byb3BlcnR5XS5yZXBsYWNlKCdweCcsICcnKSk7XG5cblx0XHRcdHRoaXMuY3VycmVudFNwbGl0ID0gKGZpcnN0U2l6ZSArIChHVVRURVJfU0laRSAvIDIpKSAvIGZ1bGxTaXplO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zdCBzZWNvbmR0U2l6ZSA9IE51bWJlcih0aGlzLnNlY29uZENvbnRhaW5lci5zdHlsZVtwcm9wZXJ0eV0ucmVwbGFjZSgncHgnLCAnJykpO1xuXG5cdFx0XHR0aGlzLmN1cnJlbnRTcGxpdCA9IDEgLSAoKHNlY29uZHRTaXplICsgKEdVVFRFUl9TSVpFIC8gMikpIC8gZnVsbFNpemUpO1xuXG5cdFx0fVxuXG5cdFx0dGhpcy5zZXRTaXplcygpO1xuXHR9XG5cblx0QGJpbmRcblx0cHJpdmF0ZSBzZXRTaXplcygpIHtcblx0XHQvLyBjb25zdCB7IG1pblNpemVzLCBkaXJlY3Rpb24sIG9uUmVzaXplIH0gPSB0aGlzLnByb3BzO1xuXHRcdGlmICh0aGlzLmN1cnJlbnRTcGxpdCA8IDApIHtcblx0XHRcdHRoaXMuY3VycmVudFNwbGl0ID0gMDtcblx0XHR9IGVsc2UgaWYgKHRoaXMuY3VycmVudFNwbGl0ID4gMSkge1xuXHRcdFx0dGhpcy5jdXJyZW50U3BsaXQgPSAxO1xuXHRcdH1cblx0XHRjb25zdCBtaW5Ub3RhbFNpemUgPSB0aGlzLm1pblNpemVzWzBdICsgdGhpcy5taW5TaXplc1sxXSArIEdVVFRFUl9TSVpFO1xuXHRcdGNvbnN0IHByb3BlcnR5ID0gdGhpcy5kaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJyA/ICdoZWlnaHQnIDogJ3dpZHRoJztcblx0XHRjb25zdCBwYXJlbnRSZWN0ID0gdGhpcy5wYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdFx0Y29uc3QgZnVsbFNpemUgPSB0aGlzLmRpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnID8gcGFyZW50UmVjdC5oZWlnaHQgOiBwYXJlbnRSZWN0LndpZHRoO1xuXG5cdFx0bGV0IGZpcnN0U2l6ZSA9IChmdWxsU2l6ZSAqIHRoaXMuY3VycmVudFNwbGl0KSAtIChHVVRURVJfU0laRSAvIDIpO1xuXHRcdGxldCBzZWNvbmRTaXplID0gKGZ1bGxTaXplICogKDEgLSB0aGlzLmN1cnJlbnRTcGxpdCkpIC0gKEdVVFRFUl9TSVpFIC8gMik7XG5cblx0XHRpZiAobWluVG90YWxTaXplIDw9IGZ1bGxTaXplKSB7XG5cdFx0XHRpZiAoZmlyc3RTaXplIDwgdGhpcy5taW5TaXplc1swXSkge1xuXHRcdFx0XHRmaXJzdFNpemUgPSB0aGlzLm1pblNpemVzWzBdO1xuXHRcdFx0XHRzZWNvbmRTaXplID0gZnVsbFNpemUgLSBmaXJzdFNpemUgLSBHVVRURVJfU0laRTtcblx0XHRcdH0gZWxzZSBpZiAoc2Vjb25kU2l6ZSA8IHRoaXMubWluU2l6ZXNbMV0pIHtcblx0XHRcdFx0c2Vjb25kU2l6ZSA9IHRoaXMubWluU2l6ZXNbMV07XG5cdFx0XHRcdGZpcnN0U2l6ZSA9IGZ1bGxTaXplIC0gc2Vjb25kU2l6ZSAtIEdVVFRFUl9TSVpFO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5jdXJyZW50U3BsaXQgPSAoZmlyc3RTaXplICsgKEdVVFRFUl9TSVpFIC8gMikpIC8gZnVsbFNpemU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuY3VycmVudFNwbGl0ID0gKHRoaXMubWluU2l6ZXNbMF0gKyAoR1VUVEVSX1NJWkUgLyAxKSkgLyBtaW5Ub3RhbFNpemU7XG5cdFx0XHRmaXJzdFNpemUgPSAoZnVsbFNpemUgKiB0aGlzLmN1cnJlbnRTcGxpdCkgLSAoR1VUVEVSX1NJWkUgLyAyKTtcblx0XHRcdHNlY29uZFNpemUgPSAoZnVsbFNpemUgKiAoMSAtIHRoaXMuY3VycmVudFNwbGl0KSkgLSAoR1VUVEVSX1NJWkUgLyAyKTtcblx0XHR9XG5cblxuXHRcdHRoaXMuZmlyc3RDb250YWluZXIuc3R5bGVbcHJvcGVydHldID0gYCR7Zmlyc3RTaXplfXB4YDtcblx0XHR0aGlzLnNlY29uZENvbnRhaW5lci5zdHlsZVtwcm9wZXJ0eV0gPSBgJHtzZWNvbmRTaXplfXB4YDtcblxuXHRcdGlmICh0aGlzLnJlc2l6ZUNhbGxiYWNrKSB7XG5cdFx0XHR0aGlzLnJlc2l6ZUNhbGxiYWNrKCk7XG5cdFx0fVxuXHR9XG5cblx0QGJpbmRcblx0cHJpdmF0ZSBvbkRvd24oKSB7XG5cdFx0ZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSB0aGlzLmRpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnID8gJ3Jvdy1yZXNpemUnIDogJ2NvbC1yZXNpemUnO1xuXHRcdHRoaXMuZmlyc3RDb250YWluZXIuc3R5bGUudXNlclNlbGVjdCA9ICdub25lJztcblx0XHR0aGlzLmZpcnN0Q29udGFpbmVyLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG5cdFx0dGhpcy5zZWNvbmRDb250YWluZXIuc3R5bGUudXNlclNlbGVjdCA9ICdub25lJztcblx0XHR0aGlzLnNlY29uZENvbnRhaW5lci5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnO1xuXG5cdFx0Y29uc3QgaGFuZGxlUG9pbnRlck1vdmUgPSAoZTogUG9pbnRlckV2ZW50KSA9PiB7XG5cdFx0XHRjb25zdCBwb3MgPSB0aGlzLmRpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnID8gZS5jbGllbnRZIDogZS5jbGllbnRYO1xuXHRcdFx0Y29uc3QgcGFyZW50UmVjdCA9IHRoaXMucGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdFx0Y29uc3QgZnVsbFNpemUgPSB0aGlzLmRpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnID8gcGFyZW50UmVjdC5oZWlnaHQgOiBwYXJlbnRSZWN0LndpZHRoO1xuXG5cdFx0XHRjb25zdCByZWxhdGl2ZURpc3RhbmNlID0gdGhpcy5kaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJyA/ICBwb3MgLSBwYXJlbnRSZWN0LnRvcCA6IHBvcyAtIHBhcmVudFJlY3QubGVmdDtcblxuXHRcdFx0dGhpcy5jdXJyZW50U3BsaXQgPSAocmVsYXRpdmVEaXN0YW5jZSAvIGZ1bGxTaXplKTtcblx0XHRcdHRoaXMuc2V0U2l6ZXMoKTtcblx0XHR9O1xuXG5cdFx0Y29uc3QgaGFuZGxlUG9pbnRlclVwID0gKCkgPT4ge1xuXHRcdFx0ZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSAnJztcblx0XHRcdHRoaXMuZmlyc3RDb250YWluZXIuc3R5bGUudXNlclNlbGVjdCA9ICcnO1xuXHRcdFx0dGhpcy5maXJzdENvbnRhaW5lci5zdHlsZS5wb2ludGVyRXZlbnRzID0gJyc7XG5cdFx0XHR0aGlzLnNlY29uZENvbnRhaW5lci5zdHlsZS51c2VyU2VsZWN0ID0gJyc7XG5cdFx0XHR0aGlzLnNlY29uZENvbnRhaW5lci5zdHlsZS5wb2ludGVyRXZlbnRzID0gJyc7XG5cdFx0XHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCBoYW5kbGVQb2ludGVyTW92ZSk7XG5cdFx0XHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgaGFuZGxlUG9pbnRlclVwKTtcblx0XHR9O1xuXG5cdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgaGFuZGxlUG9pbnRlck1vdmUsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgaGFuZGxlUG9pbnRlclVwLCB7IHBhc3NpdmU6IHRydWUgfSk7XG5cdH1cblxuXHRAYmluZFxuXHRwcml2YXRlIG9uRG91YmxlQ2xpY2soKSB7XG5cdFx0aWYgKHRoaXMuY3VycmVudFNwbGl0ID09PSB0aGlzLmRlZmF1bHRTcGxpdCkge1xuXHRcdFx0dGhpcy5jdXJyZW50U3BsaXQgPSAxIC0gdGhpcy5kZWZhdWx0U3BsaXQ7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuY3VycmVudFNwbGl0ID0gdGhpcy5kZWZhdWx0U3BsaXQ7XG5cdFx0fVxuXHRcdHRoaXMuc2V0U2l6ZXMoKTtcblx0fVxuXG5cblx0cHJvdGVjdGVkIHJlbmRlcigpIHtcblx0XHRyZXR1cm4gaHRtbGBcblx0XHQgIFx0PGRpdiAgY2xhc3M9XCJzcGxpdCAke3RoaXMuZGlyZWN0aW9ufVwiPlxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwic3BsaXQtZmlyc3RcIj5cblx0XHRcdFx0XHQke3RoaXMuZmlyc3R9XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZ3V0dGVyXCIgQHBvaW50ZXJkb3duPSR7dGhpcy5vbkRvd259IEBkYmxjbGljaz0ke3RoaXMub25Eb3VibGVDbGlja30+XG5cdFx0XHRcdFx0PGkgY2xhc3M9XCJmYXMgZmEtZWxsaXBzaXMtdlwiPjwvaT5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJzcGxpdC1zZWNvbmRcIj5cblx0XHRcdFx0XHQke3RoaXMuc2Vjb25kfVxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdDwvZGl2PlxuXHRcdGA7XG5cdH1cblxufSIsICIvLyA8Y29weXJpZ2h0X3N0YXRlbWVudD5cbi8vICAgQ29kZUJ1ZGR5OiBBIHByb2dyYW1taW5nIGFzc2lnbm1lbnQgbWFuYWdlbWVudCBzeXN0ZW0gZm9yIHNob3J0LWZvcm0gZXhlcmNpc2VzXG4vLyAgIENvcHlyaWdodCAoQykgMjAyMyBTdGVwaGVuIFBpY2NvbG9cbi8vICAgVGhpcyBwcm9ncmFtIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnkgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uIFRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLCBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4vLyA8L2NvcHlyaWdodF9zdGF0ZW1lbnQ+XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwb3N0Rm9ybURhdGE8VD4odXJsOiBzdHJpbmcsIGRhdGE6IGFueSwgcGFyc2VSZXNwb25zZSA9IHRydWUpOiBQcm9taXNlPFQ+IHtcblx0Y29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcblx0Zm9yIChjb25zdCBrZXkgaW4gZGF0YSkge1xuXHRcdGZvcm1EYXRhLmFwcGVuZChrZXksIGRhdGFba2V5XSk7XG5cdH1cblx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcblx0XHRtZXRob2Q6IFwiUE9TVFwiLFxuXHRcdGJvZHk6IGZvcm1EYXRhLFxuXHR9KTtcblx0aWYgKCFwYXJzZVJlc3BvbnNlKSB7XG5cdFx0cmV0dXJuIG51bGwgYXMgYW55O1xuXHR9XG5cdHRyeSB7XG5cdFx0cmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGNvbnNvbGUuZXJyb3IoZSk7XG5cdFx0cmV0dXJuIG51bGwgYXMgYW55O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXQ8VD4odXJsOiBzdHJpbmcpOiBQcm9taXNlPFQ+IHtcblx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcblx0XHRtZXRob2Q6IFwiR0VUXCIsXG5cdH0pO1xuXHR0cnkge1xuXHRcdHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRjb25zb2xlLmVycm9yKGUpO1xuXHRcdHJldHVybiBudWxsIGFzIGFueTtcblx0fVxufSIsICIvLyA8Y29weXJpZ2h0X3N0YXRlbWVudD5cbi8vICAgQ29kZUJ1ZGR5OiBBIHByb2dyYW1taW5nIGFzc2lnbm1lbnQgbWFuYWdlbWVudCBzeXN0ZW0gZm9yIHNob3J0LWZvcm0gZXhlcmNpc2VzXG4vLyAgIENvcHlyaWdodCAoQykgMjAyMyBTdGVwaGVuIFBpY2NvbG9cbi8vICAgVGhpcyBwcm9ncmFtIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnkgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uIFRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLCBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4vLyA8L2NvcHlyaWdodF9zdGF0ZW1lbnQ+XG5cbmltcG9ydCB7IGdldCwgcG9zdEZvcm1EYXRhIH0gZnJvbSBcIi4vcmVxdWVzdFwiO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY29weUV4ZXJjaXNlKGNvdXJzZUlEOiBudW1iZXIsIGFzc2lnbm1lbnRJRDogbnVtYmVyLCBleGVyY2lzZUlEOiBudW1iZXIsIG5ld1RpdGxlOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZyB8IHVuZGVmaW5lZD4ge1x0XG5cdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcG9zdEZvcm1EYXRhPGFueT4oYC9jb3B5X2V4ZXJjaXNlLyR7Y291cnNlSUR9LyR7YXNzaWdubWVudElEfS8ke2V4ZXJjaXNlSUR9YCwge1wibmV3X3RpdGxlXCI6IG5ld1RpdGxlfSk7XG5cdGlmIChyZXNwb25zZS5yZXN1bHQgIT0gXCJcIikge1xuXHRcdHJldHVybiByZXNwb25zZS5yZXN1bHQ7XG5cdH1cblx0ZWxzZSB7XG5cdFx0bG9jYXRpb24ucmVsb2FkKCk7XG5cdFx0cmV0dXJuO1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBydW5Db2RlKGNvdXJzZUlEOiBudW1iZXIsIGFzc2lnbm1lbnRJRDogbnVtYmVyLCBleGVyY2lzZUlEOiBudW1iZXIsIHVzZXJDb2RlOiBzdHJpbmcsIHRlc3Q/OiBzdHJpbmcpOiBQcm9taXNlPFJ1bkNvZGVSZXNwb25zZT4ge1xuXHRsZXQgdXJsID0gYC9ydW5fY29kZS8ke2NvdXJzZUlEfS8ke2Fzc2lnbm1lbnRJRH0vJHtleGVyY2lzZUlEfWA7XG5cdGlmICh0ZXN0KSB7XG5cdFx0dXJsICs9IGA/dGVzdD0ke2VuY29kZVVSSUNvbXBvbmVudCh0ZXN0KX1gO1xuXHR9XG5cdHJldHVybiBhd2FpdCBwb3N0Rm9ybURhdGE8UnVuQ29kZVJlc3BvbnNlPih1cmwsIHtcInVzZXJfY29kZVwiOiB1c2VyQ29kZX0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc3VibWl0Q29kZShjb3Vyc2VJRDogbnVtYmVyLCBhc3NpZ25tZW50SUQ6IG51bWJlciwgZXhlcmNpc2VJRDogbnVtYmVyLCB1c2VyQ29kZTogc3RyaW5nLCBwYXJ0bmVySUQ6IHN0cmluZyA9ICcnKTogUHJvbWlzZTxTdWJtaXRDb2RlUmVzcG9uc2U+IHtcblx0bGV0IHVybCA9IGAvc3VibWl0LyR7Y291cnNlSUR9LyR7YXNzaWdubWVudElEfS8ke2V4ZXJjaXNlSUR9YDtcbiAgICBjb25zdCBkYXRhID0geyBcImNvZGVcIjogdXNlckNvZGUsIFwiZGF0ZVwiOiAobmV3IERhdGUoKSkudG9Mb2NhbGVTdHJpbmcoXCJlbi1VU1wiLCB7dGltZVpvbmU6IFwiVVRDXCJ9KSwgcGFydG5lcl9pZDogcGFydG5lcklEIH07XG5cdHJldHVybiBhd2FpdCBwb3N0Rm9ybURhdGE8U3VibWl0Q29kZVJlc3BvbnNlPih1cmwsIGRhdGEpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2F2ZVByZXN1Ym1pc3Npb24oY291cnNlSUQ6IG51bWJlciwgYXNzaWdubWVudElEOiBudW1iZXIsIGV4ZXJjaXNlSUQ6IG51bWJlciwgdXNlckNvZGU6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuXHRsZXQgdXJsID0gYC9zYXZlX3ByZXN1Ym1pc3Npb24vJHtjb3Vyc2VJRH0vJHthc3NpZ25tZW50SUR9LyR7ZXhlcmNpc2VJRH1gO1xuXHRhd2FpdCBwb3N0Rm9ybURhdGEodXJsLCB7XCJ1c2VyX2NvZGVcIjogdXNlckNvZGV9LCBmYWxzZSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQYXJ0bmVySUQoY291cnNlSUQ6IG51bWJlciwgbmFtZTogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcblx0cmV0dXJuIGF3YWl0IGdldDxzdHJpbmc+KGAvZ2V0X3BhcnRuZXJfaWQvJHtjb3Vyc2VJRH0vJHtlbmNvZGVVUklDb21wb25lbnQobmFtZSl9YCk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpc1Rha2luZ1Jlc3RyaWN0ZWRBc3NpZ25tZW50KHVzZXJJRDogc3RyaW5nLCBhc3NpZ25tZW50SUQ6IG51bWJlcik6IFByb21pc2U8Ym9vbGVhbj4ge1xuXHRyZXR1cm4gYXdhaXQgZ2V0PGJvb2xlYW4+KGAvaXNfdGFraW5nX3Jlc3RyaWN0ZWRfYXNzaWdubWVudC8ke3VzZXJJRH0vJHthc3NpZ25tZW50SUR9YCk7XG59IiwgImltcG9ydCB7IExpdEVsZW1lbnQsIGh0bWwsIFRlbXBsYXRlUmVzdWx0IH0gZnJvbSAnbGl0JztcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQgfSBmcm9tICdsaXQvZGVjb3JhdG9ycy5qcyc7XG5pbXBvcnQgJy4vVGltZXIuc2Nzcyc7XG5pbXBvcnQgeyBpc1Rha2luZ1Jlc3RyaWN0ZWRBc3NpZ25tZW50IH0gZnJvbSAnQC91dGlscy9leGVyY2lzZS1zZXJ2aWNlJztcblxuY29uc3QgeyB1c2VyX2lkLCB0aW1lcl9kZWFkbGluZSwgYXNzaWdubWVudF9kZXRhaWxzLCBjb3Vyc2VfYmFzaWNzLCBhc3NpZ25tZW50X2Jhc2ljcywgY2hlY2tfZm9yX3Jlc3RyaWN0X290aGVyX2Fzc2lnbm1lbnRzIH0gPSB3aW5kb3cudGVtcGxhdGVEYXRhO1xuXG5AY3VzdG9tRWxlbWVudCgnZXhlcmNpc2UtdGltZXInKVxuZXhwb3J0IGNsYXNzIFRpbWVyIGV4dGVuZHMgTGl0RWxlbWVudCB7XG5cdHByaXZhdGUgaXNfYWRtaW46IGJvb2xlYW4gPSBmYWxzZTtcblx0cHJpdmF0ZSBoYXNfc2hvd25fdGltZXJfd2FybmluZzogYm9vbGVhbiA9IGZhbHNlO1xuXG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdHN1cGVyKCk7XG5cdFx0dGhpcy5pc19hZG1pbiA9IHdpbmRvdy50ZW1wbGF0ZURhdGEuaXNfYWRtaW5pc3RyYXRvciB8fCB3aW5kb3cudGVtcGxhdGVEYXRhLmlzX2luc3RydWN0b3IgfHwgd2luZG93LnRlbXBsYXRlRGF0YS5pc19hc3Npc3RhbnQ7XG5cdH1cblxuXHQvLyBUaGlzIG1ldGhvZCBpcyBpbnZva2VkIGFmdGVyIHJlbmRlcigpIGhhcyBjb21wbGV0ZWQuXG5cdHVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXMpIHtcblx0XHRzdXBlci51cGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzKTtcblxuXHRcdGlmICghdGhpcy5pc19hZG1pbikge1xuXHRcdFx0aWYgKGFzc2lnbm1lbnRfZGV0YWlscy5oYXNfdGltZXIgfHwgYXNzaWdubWVudF9kZXRhaWxzLmR1ZV9kYXRlKSB7XG5cdFx0XHRcdHRoaXMuY2hlY2tFdmVyeVNlY29uZCgpO1xuXHRcdFx0XHRzZXRJbnRlcnZhbCh0aGlzLmNoZWNrRXZlcnlTZWNvbmQsIDEwMDApO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY2hlY2tfZm9yX3Jlc3RyaWN0X290aGVyX2Fzc2lnbm1lbnRzKSB7XG5cdFx0XHRcdHRoaXMuY2hlY2tFdmVyeU1pbnV0ZSgpO1xuXHRcdFx0XHRzZXRJbnRlcnZhbCh0aGlzLmNoZWNrRXZlcnlNaW51dGUsIDYwMDAwKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRwcm90ZWN0ZWQgcmVuZGVyKCk6IFRlbXBsYXRlUmVzdWx0IHtcblx0XHRpZiAoIWFzc2lnbm1lbnRfZGV0YWlscy5oYXNfdGltZXIgfHwgdGhpcy5pc19hZG1pbikge1xuXHRcdFx0cmV0dXJuIGh0bWxgYDtcblx0XHR9XG5cblx0XHRyZXR1cm4gaHRtbGA8YSBpZD1cInRpbWVyX2J1dHRvblwiIGNsYXNzPVwiYnV0dG9uIGlzLW1lZGl1bSBpcy1oaWRkZW4gaXMtd2FybmluZyBtYi00XCIgc3R5bGU9XCJjdXJzb3I6IGF1dG87XCI+PC9hPmA7XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIGNoZWNrRXZlcnlTZWNvbmQoKSB7XG5cdFx0dmFyIHJlbG9hZCA9IGZhbHNlO1xuXG5cdFx0aWYgKGFzc2lnbm1lbnRfZGV0YWlscy5oYXNfdGltZXIpIHtcblx0XHRcdGxldCBkZWFkbGluZSA9IG5ldyBEYXRlKHRpbWVyX2RlYWRsaW5lKTtcblx0XHRcdGRlYWRsaW5lLnNldE1pbnV0ZXMoZGVhZGxpbmUuZ2V0TWludXRlcygpIC0gZGVhZGxpbmUuZ2V0VGltZXpvbmVPZmZzZXQoKSk7XG5cblx0XHRcdGNvbnN0IHRvdGFsID0gZGVhZGxpbmUhLmdldFRpbWUoKSAtIERhdGUubm93KCk7XG5cdFx0XHRjb25zdCBob3VycyA9IE1hdGguZmxvb3IoICh0b3RhbC8oMTAwMCo2MCo2MCkpICUgMjQgKTtcblx0XHRcdGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKCAodG90YWwvMTAwMC82MCkgJSA2MCApO1xuXHRcdFx0Y29uc3Qgc2Vjb25kcyA9IE1hdGguZmxvb3IoICh0b3RhbC8xMDAwKSAlIDYwICk7XG5cblx0XHRcdGlmICh0b3RhbCA8IDEyMDAwMCAmJiAhdGhpcy5oYXNfc2hvd25fdGltZXJfd2FybmluZykge1xuXHRcdFx0XHRhbGVydChcIkxlc3MgdGhhbiAyIG1pbnV0ZXMgcmVtYWluaW5nLlwiKTtcblx0XHRcdFx0dGhpcy5oYXNfc2hvd25fdGltZXJfd2FybmluZyA9IHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChob3VycyA8PSAwICYmIG1pbnV0ZXMgPD0gMCAmJiBzZWNvbmRzIDw9IDApIHtcblx0XHRcdFx0cmVsb2FkID0gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRsZXQgdGltZXJfYnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0aW1lcl9idXR0b25cIik7XG5cblx0XHRcdFx0aWYgKHRpbWVyX2J1dHRvbikge1xuXHRcdFx0XHRcdHRpbWVyX2J1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiaXMtaGlkZGVuXCIpO1xuXHRcdFx0XHRcdHRpbWVyX2J1dHRvbi5pbm5lckhUTUwgPSBgPHN0cm9uZz5UaW1lIHJlbWFpbmluZzogJHtob3Vyc31oICR7bWludXRlc31tICR7c2Vjb25kc31zPC9zdHJvbmc+YDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICghcmVsb2FkICYmIGFzc2lnbm1lbnRfZGV0YWlscy5kdWVfZGF0ZSAmJiAhYXNzaWdubWVudF9kZXRhaWxzLmFsbG93X2xhdGUgJiYgIWFzc2lnbm1lbnRfZGV0YWlscy52aWV3X2Fuc3dlcl9sYXRlKSB7XG5cdFx0XHRsZXQgZHVlX2RhdGUgPSBuZXcgRGF0ZShhc3NpZ25tZW50X2RldGFpbHMuZHVlX2RhdGUpO1xuXHRcdFx0ZHVlX2RhdGUuc2V0TWludXRlcyhkdWVfZGF0ZS5nZXRNaW51dGVzKCkgLSBkdWVfZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpKTtcblxuXHRcdFx0aWYgKERhdGUubm93KCkgPiBkdWVfZGF0ZS5nZXRUaW1lKCkpIHtcblx0XHRcdFx0cmVsb2FkID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAocmVsb2FkKSB7XG5cdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0d2luZG93LmxvY2F0aW9uLnJlcGxhY2UoYC9hc3NpZ25tZW50LyR7Y291cnNlX2Jhc2ljc1snaWQnXX0vJHthc3NpZ25tZW50X2Jhc2ljc1snaWQnXX1gKTtcblx0XHRcdH0sIDEwMDApO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgY2hlY2tFdmVyeU1pbnV0ZSgpIHtcblx0XHRpZiAoY2hlY2tfZm9yX3Jlc3RyaWN0X290aGVyX2Fzc2lnbm1lbnRzKSB7XG5cdFx0XHRpZiAoYXdhaXQgaXNUYWtpbmdSZXN0cmljdGVkQXNzaWdubWVudCh1c2VyX2lkLCBhc3NpZ25tZW50X2Jhc2ljcy5pZCkpIHtcblx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdFx0d2luZG93LmxvY2F0aW9uLnJlcGxhY2UoYC9hc3NpZ25tZW50LyR7Y291cnNlX2Jhc2ljc1snaWQnXX0vJHthc3NpZ25tZW50X2Jhc2ljc1snaWQnXX1gKTtcblx0XHRcdFx0fSwgMTAwMCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG5cbmltcG9ydCB7RGlzY29ubmVjdGFibGUsIFBhcnR9IGZyb20gJy4vbGl0LWh0bWwuanMnO1xuXG5leHBvcnQge1xuICBBdHRyaWJ1dGVQYXJ0LFxuICBCb29sZWFuQXR0cmlidXRlUGFydCxcbiAgQ2hpbGRQYXJ0LFxuICBFbGVtZW50UGFydCxcbiAgRXZlbnRQYXJ0LFxuICBQYXJ0LFxuICBQcm9wZXJ0eVBhcnQsXG59IGZyb20gJy4vbGl0LWh0bWwuanMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIERpcmVjdGl2ZUNsYXNzIHtcbiAgbmV3IChwYXJ0OiBQYXJ0SW5mbyk6IERpcmVjdGl2ZTtcbn1cblxuLyoqXG4gKiBUaGlzIHV0aWxpdHkgdHlwZSBleHRyYWN0cyB0aGUgc2lnbmF0dXJlIG9mIGEgZGlyZWN0aXZlIGNsYXNzJ3MgcmVuZGVyKClcbiAqIG1ldGhvZCBzbyB3ZSBjYW4gdXNlIGl0IGZvciB0aGUgdHlwZSBvZiB0aGUgZ2VuZXJhdGVkIGRpcmVjdGl2ZSBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IHR5cGUgRGlyZWN0aXZlUGFyYW1ldGVyczxDIGV4dGVuZHMgRGlyZWN0aXZlPiA9IFBhcmFtZXRlcnM8Q1sncmVuZGVyJ10+O1xuXG4vKipcbiAqIEEgZ2VuZXJhdGVkIGRpcmVjdGl2ZSBmdW5jdGlvbiBkb2Vzbid0IGV2YWx1YXRlIHRoZSBkaXJlY3RpdmUsIGJ1dCBqdXN0XG4gKiByZXR1cm5zIGEgRGlyZWN0aXZlUmVzdWx0IG9iamVjdCB0aGF0IGNhcHR1cmVzIHRoZSBhcmd1bWVudHMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRGlyZWN0aXZlUmVzdWx0PEMgZXh0ZW5kcyBEaXJlY3RpdmVDbGFzcyA9IERpcmVjdGl2ZUNsYXNzPiB7XG4gIC8qKlxuICAgKiBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICAgKiBAaW50ZXJuYWwgKi9cbiAgWydfJGxpdERpcmVjdGl2ZSQnXTogQztcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICB2YWx1ZXM6IERpcmVjdGl2ZVBhcmFtZXRlcnM8SW5zdGFuY2VUeXBlPEM+Pjtcbn1cblxuZXhwb3J0IGNvbnN0IFBhcnRUeXBlID0ge1xuICBBVFRSSUJVVEU6IDEsXG4gIENISUxEOiAyLFxuICBQUk9QRVJUWTogMyxcbiAgQk9PTEVBTl9BVFRSSUJVVEU6IDQsXG4gIEVWRU5UOiA1LFxuICBFTEVNRU5UOiA2LFxufSBhcyBjb25zdDtcblxuZXhwb3J0IHR5cGUgUGFydFR5cGUgPSB0eXBlb2YgUGFydFR5cGVba2V5b2YgdHlwZW9mIFBhcnRUeXBlXTtcblxuZXhwb3J0IGludGVyZmFjZSBDaGlsZFBhcnRJbmZvIHtcbiAgcmVhZG9ubHkgdHlwZTogdHlwZW9mIFBhcnRUeXBlLkNISUxEO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEF0dHJpYnV0ZVBhcnRJbmZvIHtcbiAgcmVhZG9ubHkgdHlwZTpcbiAgICB8IHR5cGVvZiBQYXJ0VHlwZS5BVFRSSUJVVEVcbiAgICB8IHR5cGVvZiBQYXJ0VHlwZS5QUk9QRVJUWVxuICAgIHwgdHlwZW9mIFBhcnRUeXBlLkJPT0xFQU5fQVRUUklCVVRFXG4gICAgfCB0eXBlb2YgUGFydFR5cGUuRVZFTlQ7XG4gIHJlYWRvbmx5IHN0cmluZ3M/OiBSZWFkb25seUFycmF5PHN0cmluZz47XG4gIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcbiAgcmVhZG9ubHkgdGFnTmFtZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEVsZW1lbnRQYXJ0SW5mbyB7XG4gIHJlYWRvbmx5IHR5cGU6IHR5cGVvZiBQYXJ0VHlwZS5FTEVNRU5UO1xufVxuXG4vKipcbiAqIEluZm9ybWF0aW9uIGFib3V0IHRoZSBwYXJ0IGEgZGlyZWN0aXZlIGlzIGJvdW5kIHRvLlxuICpcbiAqIFRoaXMgaXMgdXNlZnVsIGZvciBjaGVja2luZyB0aGF0IGEgZGlyZWN0aXZlIGlzIGF0dGFjaGVkIHRvIGEgdmFsaWQgcGFydCxcbiAqIHN1Y2ggYXMgd2l0aCBkaXJlY3RpdmUgdGhhdCBjYW4gb25seSBiZSB1c2VkIG9uIGF0dHJpYnV0ZSBiaW5kaW5ncy5cbiAqL1xuZXhwb3J0IHR5cGUgUGFydEluZm8gPSBDaGlsZFBhcnRJbmZvIHwgQXR0cmlidXRlUGFydEluZm8gfCBFbGVtZW50UGFydEluZm87XG5cbi8qKlxuICogQ3JlYXRlcyBhIHVzZXItZmFjaW5nIGRpcmVjdGl2ZSBmdW5jdGlvbiBmcm9tIGEgRGlyZWN0aXZlIGNsYXNzLiBUaGlzXG4gKiBmdW5jdGlvbiBoYXMgdGhlIHNhbWUgcGFyYW1ldGVycyBhcyB0aGUgZGlyZWN0aXZlJ3MgcmVuZGVyKCkgbWV0aG9kLlxuICovXG5leHBvcnQgY29uc3QgZGlyZWN0aXZlID1cbiAgPEMgZXh0ZW5kcyBEaXJlY3RpdmVDbGFzcz4oYzogQykgPT5cbiAgKC4uLnZhbHVlczogRGlyZWN0aXZlUGFyYW1ldGVyczxJbnN0YW5jZVR5cGU8Qz4+KTogRGlyZWN0aXZlUmVzdWx0PEM+ID0+ICh7XG4gICAgLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgICBbJ18kbGl0RGlyZWN0aXZlJCddOiBjLFxuICAgIHZhbHVlcyxcbiAgfSk7XG5cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgY3JlYXRpbmcgY3VzdG9tIGRpcmVjdGl2ZXMuIFVzZXJzIHNob3VsZCBleHRlbmQgdGhpcyBjbGFzcyxcbiAqIGltcGxlbWVudCBgcmVuZGVyYCBhbmQvb3IgYHVwZGF0ZWAsIGFuZCB0aGVuIHBhc3MgdGhlaXIgc3ViY2xhc3MgdG9cbiAqIGBkaXJlY3RpdmVgLlxuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgRGlyZWN0aXZlIGltcGxlbWVudHMgRGlzY29ubmVjdGFibGUge1xuICAvL0BpbnRlcm5hbFxuICBfX3BhcnQhOiBQYXJ0O1xuICAvL0BpbnRlcm5hbFxuICBfX2F0dHJpYnV0ZUluZGV4OiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gIC8vQGludGVybmFsXG4gIF9fZGlyZWN0aXZlPzogRGlyZWN0aXZlO1xuXG4gIC8vQGludGVybmFsXG4gIF8kcGFyZW50ITogRGlzY29ubmVjdGFibGU7XG5cbiAgLy8gVGhlc2Ugd2lsbCBvbmx5IGV4aXN0IG9uIHRoZSBBc3luY0RpcmVjdGl2ZSBzdWJjbGFzc1xuICAvL0BpbnRlcm5hbFxuICBfJGRpc2Nvbm5lY3RhYmxlQ2hpbGRyZW4/OiBTZXQ8RGlzY29ubmVjdGFibGU+O1xuICAvLyBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICAvL0BpbnRlcm5hbFxuICBbJ18kbm90aWZ5RGlyZWN0aXZlQ29ubmVjdGlvbkNoYW5nZWQnXT8oaXNDb25uZWN0ZWQ6IGJvb2xlYW4pOiB2b2lkO1xuXG4gIGNvbnN0cnVjdG9yKF9wYXJ0SW5mbzogUGFydEluZm8pIHt9XG5cbiAgLy8gU2VlIGNvbW1lbnQgaW4gRGlzY29ubmVjdGFibGUgaW50ZXJmYWNlIGZvciB3aHkgdGhpcyBpcyBhIGdldHRlclxuICBnZXQgXyRpc0Nvbm5lY3RlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fJHBhcmVudC5fJGlzQ29ubmVjdGVkO1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfJGluaXRpYWxpemUoXG4gICAgcGFydDogUGFydCxcbiAgICBwYXJlbnQ6IERpc2Nvbm5lY3RhYmxlLFxuICAgIGF0dHJpYnV0ZUluZGV4OiBudW1iZXIgfCB1bmRlZmluZWRcbiAgKSB7XG4gICAgdGhpcy5fX3BhcnQgPSBwYXJ0O1xuICAgIHRoaXMuXyRwYXJlbnQgPSBwYXJlbnQ7XG4gICAgdGhpcy5fX2F0dHJpYnV0ZUluZGV4ID0gYXR0cmlidXRlSW5kZXg7XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfJHJlc29sdmUocGFydDogUGFydCwgcHJvcHM6IEFycmF5PHVua25vd24+KTogdW5rbm93biB7XG4gICAgcmV0dXJuIHRoaXMudXBkYXRlKHBhcnQsIHByb3BzKTtcbiAgfVxuXG4gIGFic3RyYWN0IHJlbmRlciguLi5wcm9wczogQXJyYXk8dW5rbm93bj4pOiB1bmtub3duO1xuXG4gIHVwZGF0ZShfcGFydDogUGFydCwgcHJvcHM6IEFycmF5PHVua25vd24+KTogdW5rbm93biB7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyKC4uLnByb3BzKTtcbiAgfVxufVxuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuXG5pbXBvcnQge25vdGhpbmcsIFRlbXBsYXRlUmVzdWx0LCBub0NoYW5nZX0gZnJvbSAnLi4vbGl0LWh0bWwuanMnO1xuaW1wb3J0IHtkaXJlY3RpdmUsIERpcmVjdGl2ZSwgUGFydEluZm8sIFBhcnRUeXBlfSBmcm9tICcuLi9kaXJlY3RpdmUuanMnO1xuXG5jb25zdCBIVE1MX1JFU1VMVCA9IDE7XG5cbmV4cG9ydCBjbGFzcyBVbnNhZmVIVE1MRGlyZWN0aXZlIGV4dGVuZHMgRGlyZWN0aXZlIHtcbiAgc3RhdGljIGRpcmVjdGl2ZU5hbWUgPSAndW5zYWZlSFRNTCc7XG4gIHN0YXRpYyByZXN1bHRUeXBlID0gSFRNTF9SRVNVTFQ7XG5cbiAgcHJpdmF0ZSBfdmFsdWU6IHVua25vd24gPSBub3RoaW5nO1xuICBwcml2YXRlIF90ZW1wbGF0ZVJlc3VsdD86IFRlbXBsYXRlUmVzdWx0O1xuXG4gIGNvbnN0cnVjdG9yKHBhcnRJbmZvOiBQYXJ0SW5mbykge1xuICAgIHN1cGVyKHBhcnRJbmZvKTtcbiAgICBpZiAocGFydEluZm8udHlwZSAhPT0gUGFydFR5cGUuQ0hJTEQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYCR7XG4gICAgICAgICAgKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIFVuc2FmZUhUTUxEaXJlY3RpdmUpLmRpcmVjdGl2ZU5hbWVcbiAgICAgICAgfSgpIGNhbiBvbmx5IGJlIHVzZWQgaW4gY2hpbGQgYmluZGluZ3NgXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcih2YWx1ZTogc3RyaW5nIHwgdHlwZW9mIG5vdGhpbmcgfCB0eXBlb2Ygbm9DaGFuZ2UgfCB1bmRlZmluZWQgfCBudWxsKSB7XG4gICAgaWYgKHZhbHVlID09PSBub3RoaW5nIHx8IHZhbHVlID09IG51bGwpIHtcbiAgICAgIHRoaXMuX3RlbXBsYXRlUmVzdWx0ID0gdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuICh0aGlzLl92YWx1ZSA9IHZhbHVlKTtcbiAgICB9XG4gICAgaWYgKHZhbHVlID09PSBub0NoYW5nZSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGAke1xuICAgICAgICAgICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBVbnNhZmVIVE1MRGlyZWN0aXZlKS5kaXJlY3RpdmVOYW1lXG4gICAgICAgIH0oKSBjYWxsZWQgd2l0aCBhIG5vbi1zdHJpbmcgdmFsdWVgXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAodmFsdWUgPT09IHRoaXMuX3ZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdGVtcGxhdGVSZXN1bHQ7XG4gICAgfVxuICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XG4gICAgY29uc3Qgc3RyaW5ncyA9IFt2YWx1ZV0gYXMgdW5rbm93biBhcyBUZW1wbGF0ZVN0cmluZ3NBcnJheTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIChzdHJpbmdzIGFzIGFueSkucmF3ID0gc3RyaW5ncztcbiAgICAvLyBXQVJOSU5HOiBpbXBlcnNvbmF0aW5nIGEgVGVtcGxhdGVSZXN1bHQgbGlrZSB0aGlzIGlzIGV4dHJlbWVseVxuICAgIC8vIGRhbmdlcm91cy4gVGhpcmQtcGFydHkgZGlyZWN0aXZlcyBzaG91bGQgbm90IGRvIHRoaXMuXG4gICAgcmV0dXJuICh0aGlzLl90ZW1wbGF0ZVJlc3VsdCA9IHtcbiAgICAgIC8vIENhc3QgdG8gYSBrbm93biBzZXQgb2YgaW50ZWdlcnMgdGhhdCBzYXRpc2Z5IFJlc3VsdFR5cGUgc28gdGhhdCB3ZVxuICAgICAgLy8gZG9uJ3QgaGF2ZSB0byBleHBvcnQgUmVzdWx0VHlwZSBhbmQgcG9zc2libHkgZW5jb3VyYWdlIHRoaXMgcGF0dGVybi5cbiAgICAgIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gICAgICBbJ18kbGl0VHlwZSQnXTogKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIFVuc2FmZUhUTUxEaXJlY3RpdmUpXG4gICAgICAgIC5yZXN1bHRUeXBlIGFzIDEgfCAyLFxuICAgICAgc3RyaW5ncyxcbiAgICAgIHZhbHVlczogW10sXG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW5kZXJzIHRoZSByZXN1bHQgYXMgSFRNTCwgcmF0aGVyIHRoYW4gdGV4dC5cbiAqXG4gKiBUaGUgdmFsdWVzIGB1bmRlZmluZWRgLCBgbnVsbGAsIGFuZCBgbm90aGluZ2AsIHdpbGwgYWxsIHJlc3VsdCBpbiBubyBjb250ZW50XG4gKiAoZW1wdHkgc3RyaW5nKSBiZWluZyByZW5kZXJlZC5cbiAqXG4gKiBOb3RlLCB0aGlzIGlzIHVuc2FmZSB0byB1c2Ugd2l0aCBhbnkgdXNlci1wcm92aWRlZCBpbnB1dCB0aGF0IGhhc24ndCBiZWVuXG4gKiBzYW5pdGl6ZWQgb3IgZXNjYXBlZCwgYXMgaXQgbWF5IGxlYWQgdG8gY3Jvc3Mtc2l0ZS1zY3JpcHRpbmdcbiAqIHZ1bG5lcmFiaWxpdGllcy5cbiAqL1xuZXhwb3J0IGNvbnN0IHVuc2FmZUhUTUwgPSBkaXJlY3RpdmUoVW5zYWZlSFRNTERpcmVjdGl2ZSk7XG4iLCAiaW1wb3J0ICcuL1Rlc3RzUGFuZS5zY3NzJztcbmltcG9ydCB7TGl0RWxlbWVudCwgaHRtbCwgVGVtcGxhdGVSZXN1bHQsIFByb3BlcnR5VmFsdWVNYXB9IGZyb20gJ2xpdCc7XG5pbXBvcnQge2N1c3RvbUVsZW1lbnQsIHByb3BlcnR5LCBzdGF0ZX0gZnJvbSAnbGl0L2RlY29yYXRvcnMuanMnO1xuaW1wb3J0IHsgdW5zYWZlSFRNTCB9IGZyb20gJ2xpdC9kaXJlY3RpdmVzL3Vuc2FmZS1odG1sLmpzJztcbmltcG9ydCBiaW5kIGZyb20gJ0AvdXRpbHMvYmluZCc7XG5pbXBvcnQgeyBnZXRQYXJ0bmVySUQsIHJ1bkNvZGUsIHN1Ym1pdENvZGUgfSBmcm9tICdAL3V0aWxzL2V4ZXJjaXNlLXNlcnZpY2UnO1xuaW1wb3J0IGJ1bG1hQ29sbGFwc2libGUgZnJvbSAnQGNyZWF0aXZlYnVsbWEvYnVsbWEtY29sbGFwc2libGUnO1xuXG5cbmVudW0gVGVzdFN0YXR1cyB7XG5cdFVua25vd24gPSAndW5rbm93bicsXG5cdFJ1bm5pbmcgPSAncnVubmluZycsXG5cdFBhc3NlZCA9ICdwYXNzZWQnLFxuXHRGYWlsZWQgPSAnZmFpbGVkJyxcbn1cblxuaW50ZXJmYWNlIFRlc3Qge1xuXHRuYW1lOiBzdHJpbmc7XG5cdHRlc3RfaWQ6IG51bWJlclxuXHRhZnRlcl9jb2RlOiBzdHJpbmc7XG5cdGJlZm9yZV9jb2RlOiBzdHJpbmc7XG5cdGNhbl9zZWVfY29kZV9vdXRwdXQ6IGJvb2xlYW47XG5cdGNhbl9zZWVfZXhwZWN0ZWRfb3V0cHV0OiBib29sZWFuO1xuXHRjYW5fc2VlX3Rlc3RfY29kZTogYm9vbGVhbjtcblx0aW5zdHJ1Y3Rpb25zOiBzdHJpbmc7XG5cdGpwZ19vdXRwdXQ6IHVua25vd25cblx0dHh0X291dHB1dDogc3RyaW5nO1xuXHRzdGF0dXM6IFRlc3RTdGF0dXM7XG59XG5cbmNvbnN0IHsgZXhlcmNpc2VfZGV0YWlscywgZXhlcmNpc2VfYmFzaWNzLCBjb3Vyc2VfYmFzaWNzLCBhc3NpZ25tZW50X2Jhc2ljcywgdXNlcnMgfSA9IHdpbmRvdy50ZW1wbGF0ZURhdGE7XG5cbnVzZXJzPy5zb3J0KCk7XG5cbkBjdXN0b21FbGVtZW50KCd0ZXN0cy1wYW5lJylcbmV4cG9ydCBjbGFzcyBUZXN0c1BhbmUgZXh0ZW5kcyBMaXRFbGVtZW50IHtcblx0QHByb3BlcnR5KClcblx0YWN0aXZlU3VibWlzc2lvbj86IFN1Ym1pc3Npb247XG5cblx0QHByb3BlcnR5KClcblx0bnVtU3VibWlzc2lvbnM6IG51bWJlciA9IDA7XG5cblx0QHByb3BlcnR5KClcblx0YWRkU3VibWlzc2lvbj86IChzdWJtaXNzaW9uOiBTdWJtaXNzaW9uKSA9PiB2b2lkO1xuXG5cdEBwcm9wZXJ0eSgpXG5cdGhhc1Bhc3NpbmdTdWJtaXNzaW9uOiBib29sZWFuID0gZmFsc2U7XG5cblx0QHByb3BlcnR5KClcblx0c2VsZWN0UGFzc2luZ1N1Ym1pc3Npb24/OiAoKSA9PiB2b2lkO1xuXG5cdHByaXZhdGUgZ2V0Q29kZT86ICgpID0+IHN0cmluZztcblxuXHRAc3RhdGUoKVxuXHR0ZXN0czogVGVzdFtdO1xuXG5cdEBzdGF0ZSgpXG5cdHRlc3RPdXRwdXRzOiB7W2tleTogc3RyaW5nXToge1xuXHRcdHR4dF9vdXRwdXQ6IHN0cmluZztcblx0XHRqcGdfb3V0cHV0OiBzdHJpbmc7XG5cdFx0ZGlmZl9vdXRwdXQ6IHN0cmluZztcblx0fX0gPSB7fTtcblxuXHRAc3RhdGUoKVxuXHRwcml2YXRlIGVycm9yTWVzc2FnZTogc3RyaW5nID0gJyc7XG5cblx0QHN0YXRlKClcblx0cHJpdmF0ZSBwZWVyUHJvZ3JhbW1pbmdNb2RhbE9wZW46IGJvb2xlYW4gPSBmYWxzZTtcblxuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHRzdXBlcigpO1xuXHRcdHRoaXMudGVzdHMgPSBbXTtcblx0XHRjb25zdCB0ZXN0TWFwID0gZXhlcmNpc2VfZGV0YWlscy50ZXN0cztcblx0XHRmb3IgKGNvbnN0IHRlc3ROYW1lIGluIHRlc3RNYXApIHtcblx0XHRcdGlmICh0ZXN0TWFwLmhhc093blByb3BlcnR5KHRlc3ROYW1lKSkge1xuXHRcdFx0XHRjb25zdCB0ZXN0ID0gdGVzdE1hcFt0ZXN0TmFtZV07XG5cdFx0XHRcdHRlc3QubmFtZSA9IHRlc3ROYW1lO1xuXHRcdFx0XHR0ZXN0LnN0YXR1cyA9IFRlc3RTdGF0dXMuVW5rbm93bjtcblx0XHRcdFx0dGhpcy50ZXN0cy5wdXNoKHRlc3QpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHR0aGlzLnRlc3RzLnNvcnQoKGEsIGIpID0+IGEudGVzdF9pZCAtIGIudGVzdF9pZCk7XG5cdH1cblxuXHRyZW5kZXIoKSB7XG5cdFx0bGV0IHRlc3RzUnVubmluZyA9IHRoaXMudGVzdHMuc29tZSh0ZXN0ID0+IHRlc3Quc3RhdHVzID09PSBUZXN0U3RhdHVzLlJ1bm5pbmcpO1xuXHRcdGNvbnN0IG1hZGVBbGxTdWJtaXNzaW9ucyA9IGV4ZXJjaXNlX2RldGFpbHMubWF4X3N1Ym1pc3Npb25zID4gMCAmJiBleGVyY2lzZV9kZXRhaWxzLm1heF9zdWJtaXNzaW9ucyA9PT0gdGhpcy5udW1TdWJtaXNzaW9ucztcblx0XHRyZXR1cm4gaHRtbGBcblx0XHRcdDxkaXYgY2xhc3M9XCJ0ZXN0cy1wYW5lXCI+XG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJ0ZXN0cy1oZWFkZXJcIj5cblx0XHRcdFx0XHQ8cD5UZXN0czwvcD5cblx0XHRcdFx0XHQ8ZGl2IHN0eWxlPVwiZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmaWVsZCBpcy1ncm91cGVkXCIgc3R5bGU9XCJqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1wiPlxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY29udHJvbFwiPlxuXHRcdFx0XHRcdFx0XHRcdDxidXR0b24gP2Rpc2FibGVkPSR7dGVzdHNSdW5uaW5nIHx8IHRoaXMuYWN0aXZlU3VibWlzc2lvbn0gY2xhc3M9XCJidXR0b24gaXMtcHJpbWFyeSBpcy1vdXRsaW5lZCAke3dpbmRvdy50ZW1wbGF0ZURhdGEuYXNzaWdubWVudF9kZXRhaWxzLnNob3dfcnVuX2J1dHRvbiA/ICcnIDogJ2lzLWhpZGRlbid9XCIgQGNsaWNrPSR7KCkgPT4gdGhpcy5ydW5Db2RlKCl9PlJ1biBhbGw8L2J1dHRvbj5cblx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmaWVsZCBoYXMtYWRkb25zXCI+XG5cdFx0XHRcdFx0XHRcdFx0PCEtLSA8cCBjbGFzcz1cImNvbnRyb2xcIj5cblx0XHRcdFx0XHRcdFx0XHRcdDxidXR0b24gY2xhc3M9XCJidXR0b25cIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PGkgY2xhc3M9XCJmYWIgZmEtcHJvZHVjdC1odW50XCI+PC9pPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBzdHlsZT1cIm1hcmdpbjogMCA2cHg7XCI+U2VsZWN0IHBhcnRuZXI8L3NwYW4+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxpIGNsYXNzPVwiZmFzIGZhLWNhcmV0LWRvd25cIj48L2k+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8L2J1dHRvbj5cblx0XHRcdFx0XHRcdFx0XHQ8L3A+IC0tPlxuXHRcdFx0XHRcdFx0XHRcdDxwIGNsYXNzPVwiY29udHJvbFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0PGJ1dHRvbiA/ZGlzYWJsZWQ9JHt0ZXN0c1J1bm5pbmcgfHwgdGhpcy5hY3RpdmVTdWJtaXNzaW9uIHx8IG1hZGVBbGxTdWJtaXNzaW9uc30gY2xhc3M9XCJidXR0b24gaXMtZGFya1wiIEBjbGljaz0keygpID0+IHRoaXMuaGFuZGxlU3VibWl0KCl9PlN1Ym1pdDwvYnV0dG9uPlxuXHRcdFx0XHRcdFx0XHRcdDwvcD5cblx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdCR7ZXhlcmNpc2VfZGV0YWlscy5tYXhfc3VibWlzc2lvbnMgPiAwID8gaHRtbGBcblx0XHRcdFx0XHRcdFx0PHNwYW4+WW91IGhhdmUgbWFkZSAke3RoaXMubnVtU3VibWlzc2lvbnN9IG9mICR7ZXhlcmNpc2VfZGV0YWlscy5tYXhfc3VibWlzc2lvbnN9IGFsbG93ZWQgc3VibWlzc2lvbihzKS48L3NwYW4+XG5cdFx0XHRcdFx0XHRgIDogbnVsbCB9XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQke3RoaXMuYWN0aXZlU3VibWlzc2lvbiA/IGh0bWxgXG5cdFx0XHRcdFx0PGFydGljbGUgY2xhc3M9XCJtZXNzYWdlICR7dGhpcy5hY3RpdmVTdWJtaXNzaW9uLnBhc3NlZCA/ICdpcy1wcmltYXJ5JyA6ICdpcy13YXJuaW5nJ31cIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJtZXNzYWdlLWhlYWRlclwiPlxuXHRcdFx0XHRcdFx0XHQ8cD5cblx0XHRcdFx0XHRcdFx0XHQke3RoaXMuYWN0aXZlU3VibWlzc2lvbi5wYXNzZWQgPyAnVGhpcyBzdWJtaXNzaW9uIHBhc3NlZCBhbGwgdGVzdHMhJyA6ICdUaGlzIHN1Ym1pc3Npb24gZGlkIG5vdCBwYXNzIGFsbCB0ZXN0cy4nfVx0XG5cdFx0XHRcdFx0XHRcdDwvcD5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDwvYXJ0aWNsZT5cdFx0XHRcdFx0XG5cdFx0XHRcdGAgOiBodG1sYFxuXHRcdFx0XHRcdCR7dGhpcy5lcnJvck1lc3NhZ2U/Lmxlbmd0aCA+IDAgPyBodG1sYFxuXHRcdFx0XHRcdFx0PGFydGljbGUgY2xhc3M9XCJtZXNzYWdlIGlzLWRhbmdlclwiPlxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwibWVzc2FnZS1oZWFkZXJcIj5cblx0XHRcdFx0XHRcdFx0XHQ8cD5BbiBlcnJvciBvY2N1cnJlZCB3aGlsZSB5b3VyIGNvZGUgd2FzIGJlaW5nIHByb2Nlc3NlZC48L3A+XG5cdFx0XHRcdFx0XHRcdFx0PGJ1dHRvbiBjbGFzcz1cImRlbGV0ZVwiIGFyaWEtbGFiZWw9XCJkZWxldGVcIiBAY2xpY2s9JHsoKSA9PiB0aGlzLmVycm9yTWVzc2FnZSA9ICcnfT48L2J1dHRvbj5cblx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJtZXNzYWdlLWJvZHlcIj5cblx0XHRcdFx0XHRcdFx0XHQke3Vuc2FmZUhUTUwodGhpcy5lcnJvck1lc3NhZ2UpfVxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDwvYXJ0aWNsZT5cblx0XHRcdFx0XHRgIDogbnVsbH1cblx0XHRcdFx0XHQke3RoaXMuaGFzUGFzc2luZ1N1Ym1pc3Npb24gfHwgdGhpcy5hbGxQYXNzaW5nID8gaHRtbGBcblx0XHRcdFx0XHRcdDxhcnRpY2xlIGNsYXNzPVwibWVzc2FnZSBpcy1wcmltYXJ5XCI+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJtZXNzYWdlLWhlYWRlclwiPlxuXHRcdFx0XHRcdFx0XHRcdCR7dGhpcy5oYXNQYXNzaW5nU3VibWlzc2lvbiA/IGh0bWxgPHA+RXhlcmNpc2UgY29tcGxldGU8L3A+YCA6IGh0bWxgPHA+QWxsIHRlc3QgcGFzc2VkITwvcD5gfVxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1lc3NhZ2UtYm9keVwiPlxuXHRcdFx0XHRcdFx0XHRcdCR7dGhpcy5oYXNQYXNzaW5nU3VibWlzc2lvbiA/IGh0bWxgXG5cdFx0XHRcdFx0XHRcdFx0XHQ8cD5PbmUgb3IgbW9yZSBvZiB5b3VyIHN1Ym1pc3Npb25zIGhhcyBwYXNzZWQgYWxsIG9mIHRoZSB0ZXN0cy48L3A+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8cD5Zb3UgbWF5IGNvbnRpbnVlIHRvIG1vZGlmeSBhbmQgc3VibWl0IHlvdXIgY29kZSBpZiB5b3Ugd2lzaCB0byBjaGFuZ2UgeW91ciBzb2x1dGlvbi48L3A+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8YnI+XG5cdFx0XHRcdFx0XHRcdFx0YCA6IGh0bWxgXG5cdFx0XHRcdFx0XHRcdFx0XHQ8cD5CZSBzdXJlIHRvIGNsaWNrIG9uIFN1Ym1pdCBzbyB5b3VyIHNvbHV0aW9uIGFuZCBzY29yZSB3aWxsIGJlIHNhdmVkLjwvcD5cblx0XHRcdFx0XHRcdFx0XHRgfVxuXHRcdFx0XHRcdFx0XHRcdCR7dGhpcy5oYXNQYXNzaW5nU3VibWlzc2lvbiAmJiB0aGlzLnNlbGVjdFBhc3NpbmdTdWJtaXNzaW9uID8gaHRtbGBcblx0XHRcdFx0XHRcdFx0XHRcdDxwPjxhIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMCk7XCIgQGNsaWNrPSR7dGhpcy5zZWxlY3RQYXNzaW5nU3VibWlzc2lvbn0+VmlldzwvYT4geW91ciBsYXRlc3QgcGFzc2luZyBzb2x1dGlvbi48L3A+XG5cdFx0XHRcdFx0XHRcdFx0YDogbnVsbH1cblx0XHRcdFx0XHRcdFx0XHQke3RoaXMuaGFzUGFzc2luZ1N1Ym1pc3Npb24gJiYgZXhlcmNpc2VfZGV0YWlscy5zaG93X2luc3RydWN0b3Jfc29sdXRpb24gPyBodG1sYFxuXHRcdFx0XHRcdFx0XHRcdFx0PHA+PGEgaHJlZj1cIi92aWV3X2luc3RydWN0b3Jfc29sdXRpb24vJHtjb3Vyc2VfYmFzaWNzLmlkfS8ke2Fzc2lnbm1lbnRfYmFzaWNzLmlkfS8ke2V4ZXJjaXNlX2Jhc2ljcy5pZH1cIj5WaWV3PC9hPiB0aGUgaW5zdHJ1Y3RvcidzIHNvbHV0aW9uLjwvcD5cblx0XHRcdFx0XHRcdFx0XHRgOiBudWxsfVxuXHRcdFx0XHRcdFx0XHRcdCR7dGhpcy5oYXNQYXNzaW5nU3VibWlzc2lvbiAmJiBleGVyY2lzZV9kZXRhaWxzLnNob3dfcGVlcl9zb2x1dGlvbiA/IGh0bWxgXG5cdFx0XHRcdFx0XHRcdFx0PHA+PGEgaHJlZj1cIi92aWV3X3BlZXJfc29sdXRpb24vJHtjb3Vyc2VfYmFzaWNzLmlkfS8ke2Fzc2lnbm1lbnRfYmFzaWNzLmlkfS8ke2V4ZXJjaXNlX2Jhc2ljcy5pZH1cIj5WaWV3PC9hPiBhIHNvbHV0aW9uIGZyb20gb25lIG9mIHlvdXIgcGVlcnMuPC9wPlxuXHRcdFx0XHRcdFx0XHRgOiBudWxsfVxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDwvYXJ0aWNsZT5cblx0XHRcdFx0XHRgIDogbnVsbH1cblx0XHRcdFx0YH1cblx0XHRcdFx0JHshdGhpcy5hY3RpdmVTdWJtaXNzaW9uIHx8IE9iamVjdC5rZXlzKHRoaXMuYWN0aXZlU3VibWlzc2lvbi50ZXN0X291dHB1dHMpLmxlbmd0aCA+IDAgPyBodG1sYFxuXHRcdFx0XHRcdDx0YWJsZSBjbGFzcz1cInRhYmxlIGlzLWZ1bGx3aWR0aCBpcy1ob3ZlcmFibGVcIiBzdHlsZT1cIm1hcmdpbi1ib3R0b206IDIwcHg7XCI+XG5cdFx0XHRcdFx0XHQ8dGhlYWQ+XG5cdFx0XHRcdFx0XHRcdDx0cj5cblx0XHRcdFx0XHRcdFx0XHQ8dGg+U3RhdHVzPC90aD5cblx0XHRcdFx0XHRcdFx0XHQ8dGggc3R5bGU9XCJ3aWR0aDogMTAwJTtcIj5UZXN0PC90aD5cblx0XHRcdFx0XHRcdFx0XHQ8dGg+PC90aD5cblx0XHRcdFx0XHRcdFx0PC90cj5cblx0XHRcdFx0XHRcdDwvdGhlYWQ+XG5cdFx0XHRcdFx0XHQ8dGJvZHk+XG5cdFx0XHRcdFx0XHRcdCR7dGhpcy5yZW5kZXJUZXN0VGFibGUoKX1cblx0XHRcdFx0XHRcdDwvdGJvZHk+XG5cdFx0XHRcdFx0PC90YWJsZT5cblx0XHRcdFx0YCA6IG51bGx9XG5cdFx0XHQ8L2Rpdj5cblx0XHRcdDxwZWVyLXByb2dyYW1taW5nLW1vZGFsXG5cdFx0XHRcdC5vcGVuPSR7dGhpcy5wZWVyUHJvZ3JhbW1pbmdNb2RhbE9wZW59XG5cdFx0XHRcdC5vbkNsb3NlPSR7KCkgPT4gdGhpcy5wZWVyUHJvZ3JhbW1pbmdNb2RhbE9wZW4gPSBmYWxzZX1cblx0XHRcdFx0Lm9uU3VibWl0PSR7dGhpcy5zdWJtaXRDb2RlfVxuXHRcdFx0PjwvcGVlci1wcm9ncmFtbWluZy1tb2RhbD5cblx0XHRgO1xuXHR9XG5cblx0cmVuZGVyVGVzdFRhYmxlKCk6IFRlbXBsYXRlUmVzdWx0IHwgVGVtcGxhdGVSZXN1bHRbXSB7XG5cdFx0cmV0dXJuIHRoaXMudGVzdHMubWFwKCh0ZXN0KSA9PiB7XG5cdFx0XHRsZXQgdHh0X291dHB1dCA9IHRoaXMudGVzdE91dHB1dHNbdGVzdC5uYW1lXT8udHh0X291dHB1dCA/PyAnJztcblx0XHRcdGxldCBqcGdfb3V0cHV0ID0gdGhpcy50ZXN0T3V0cHV0c1t0ZXN0Lm5hbWVdPy5qcGdfb3V0cHV0ID8/ICcnO1xuXHRcdFx0bGV0IGltYWdlX2RpZmYgPSB0aGlzLnRlc3RPdXRwdXRzW3Rlc3QubmFtZV0/LmRpZmZfb3V0cHV0ID8/ICcnO1xuXHRcdFx0bGV0IHN0YXR1cyA9IHRlc3Quc3RhdHVzO1xuXHRcdFx0aWYgKHRoaXMuYWN0aXZlU3VibWlzc2lvbj8udGVzdF9vdXRwdXRzW3Rlc3QubmFtZV0pIHtcblx0XHRcdFx0Y29uc3Qgb3V0cHV0ID0gdGhpcy5hY3RpdmVTdWJtaXNzaW9uPy50ZXN0X291dHB1dHNbdGVzdC5uYW1lXTtcblx0XHRcdFx0dHh0X291dHB1dCA9IG91dHB1dC50eHRfb3V0cHV0O1xuXHRcdFx0XHRqcGdfb3V0cHV0ID0gb3V0cHV0LmpwZ19vdXRwdXQ7XG5cdFx0XHRcdHN0YXR1cyA9IG91dHB1dC5wYXNzZWQgPyBUZXN0U3RhdHVzLlBhc3NlZCA6IFRlc3RTdGF0dXMuRmFpbGVkO1xuXHRcdFx0XHRpbWFnZV9kaWZmID0gJyc7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gaHRtbGBcblx0XHRcdFx0PHRyIGNsYXNzPSR7dGVzdC5zdGF0dXN9IEBjbGljaz0ke3RoaXMuY2xpY2tSb3d9PlxuXHRcdFx0XHRcdDx0ZCBjbGFzcz1cInRlc3Qtc3RhdHVzXCI+JHt0aGlzLmdldFN0YXR1c0ljb24oc3RhdHVzKX08L3RkPlxuXHRcdFx0XHRcdDx0ZD4ke3Rlc3QubmFtZX08L3RkPlxuXHRcdFx0XHRcdDx0ZD5cblx0XHRcdFx0XHRcdDx0ZXN0LXJlc3VsdHMtbW9kYWxcblx0XHRcdFx0XHRcdFx0LnRlc3Q9JHt0ZXN0fVxuXHRcdFx0XHRcdFx0XHQucnVuVGVzdD0keyF0aGlzLmFjdGl2ZVN1Ym1pc3Npb24gJiYgd2luZG93LnRlbXBsYXRlRGF0YS5hc3NpZ25tZW50X2RldGFpbHMuc2hvd19ydW5fYnV0dG9uID8gdGhpcy5ydW5Db2RlIDogbnVsbH1cblx0XHRcdFx0XHRcdFx0LnRlc3RTdGF0dXM9JHtzdGF0dXN9XG5cdFx0XHRcdFx0XHRcdC5leHBlY3RlZE91dHB1dD0ke3Rlc3QudHh0X291dHB1dH1cblx0XHRcdFx0XHRcdFx0LmV4cGVjdGVkSW1hZ2VPdXRwdXQ9JHt0ZXN0LmpwZ19vdXRwdXR9XG5cdFx0XHRcdFx0XHRcdC5pbWFnZURpZmY9JHtpbWFnZV9kaWZmfVxuXHRcdFx0XHRcdFx0XHQudXNlck91dHB1dD0ke3R4dF9vdXRwdXR9XG5cdFx0XHRcdFx0XHRcdC51c2VySW1hZ2VPdXRwdXQ9JHtqcGdfb3V0cHV0fVxuXHRcdFx0XHRcdFx0PjwvdGVzdC1yZXN1bHRzLW1vZGFsPlxuXHRcdFx0XHRcdDwvdGQ+XG5cdFx0XHRcdDwvdHI+XG5cdFx0XHRgXG5cdFx0fSk7XG5cdH1cblxuXG5cdEBiaW5kXG5cdHByaXZhdGUgY2xpY2tSb3coZTogTW91c2VFdmVudCkge1xuXHRcdGlmIChlLnRhcmdldCBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcblx0XHRcdGlmIChlLnRhcmdldC5ub2RlTmFtZSA9PT0gJ0JVVFRPTicpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0Y29uc3QgbW9kYWw6IFRlc3RSZXN1bHRzTW9kYWwgfCBudWxsID0gZS50YXJnZXQuY2xvc2VzdCgndHInKT8ucXVlcnlTZWxlY3RvcigndGVzdC1yZXN1bHRzLW1vZGFsJykgPz8gbnVsbDtcblx0XHRcdGlmIChtb2RhbCkge1xuXHRcdFx0XHRtb2RhbC5vcGVuTW9kYWwoKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGdldFN0YXR1c0ljb24oc3RhdHVzOiBUZXN0U3RhdHVzKTogVGVtcGxhdGVSZXN1bHQge1xuXHRcdHN3aXRjaCAoc3RhdHVzKSB7XG5cdFx0XHRjYXNlIFRlc3RTdGF0dXMuUGFzc2VkOlxuXHRcdFx0XHRyZXR1cm4gaHRtbGA8aSBjbGFzcz1cImZhcyBmYS1jaGVjayBwYXNzZWQgaGFzLXRvb2x0aXAtcmlnaHRcIiBkYXRhLXRvb2x0aXA9XCJQYXNzZWRcIj48L2k+YDtcblx0XHRcdGNhc2UgVGVzdFN0YXR1cy5GYWlsZWQ6XG5cdFx0XHRcdHJldHVybiBodG1sYDxpIGNsYXNzPVwiZmFzIGZhLXRpbWVzIGZhaWxlZCBoYXMtdG9vbHRpcC1yaWdodFwiIGRhdGEtdG9vbHRpcD1cIkZhaWxlZFwiPjwvaT5gO1xuXHRcdFx0Y2FzZSBUZXN0U3RhdHVzLlJ1bm5pbmc6XG5cdFx0XHRcdHJldHVybiBodG1sYDxpIGNsYXNzPVwiZmFzIGZhLXNwaW5uZXIgZmEtc3BpbiBydW5uaW5nIGhhcy10b29sdGlwLXJpZ2h0XCIgZGF0YS10b29sdGlwPVwiUnVubmluZ1wiPjwvaT5gO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0cmV0dXJuIGh0bWxgYDtcblx0XHR9XG5cdH1cblxuXHRAYmluZFxuXHRwcml2YXRlIGFzeW5jIHJ1bkNvZGUodGVzdE5hbWU/OiBzdHJpbmcpIHtcblx0XHRmb3IgKGNvbnN0IHRlc3Qgb2YgdGhpcy50ZXN0cykge1xuXHRcdFx0aWYgKCF0ZXN0TmFtZSB8fCB0ZXN0TmFtZSA9PT0gdGVzdC5uYW1lKSB7XG5cdFx0XHRcdHRlc3Quc3RhdHVzID0gVGVzdFN0YXR1cy5SdW5uaW5nO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMucmVxdWVzdFVwZGF0ZSgpO1xuXHRcdFxuXHRcdGNvbnN0IGNvZGUgPSB0aGlzLmdldENvZGUhKCk7XG5cdFx0aWYgKCFjb2RlLnRyaW0oKS5sZW5ndGgpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgcnVuQ29kZShjb3Vyc2VfYmFzaWNzLmlkLCBhc3NpZ25tZW50X2Jhc2ljcy5pZCwgZXhlcmNpc2VfYmFzaWNzLmlkLCBjb2RlLCB0ZXN0TmFtZSk7XG5cdFx0dGhpcy5wcm9jZXNzUmVzdWx0KHJlc3VsdCk7XG5cdFx0dGhpcy5yZXF1ZXN0VXBkYXRlKCk7XG5cdH1cblxuXHRAYmluZFxuXHRwcml2YXRlIGFzeW5jIGhhbmRsZVN1Ym1pdCgpIHtcblx0XHRpZiAoZXhlcmNpc2VfZGV0YWlscy5lbmFibGVfcGFpcl9wcm9ncmFtbWluZykge1xuXHRcdFx0dGhpcy5wZWVyUHJvZ3JhbW1pbmdNb2RhbE9wZW4gPSB0cnVlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRhd2FpdCB0aGlzLnN1Ym1pdENvZGUoKTtcblx0XHR9XG5cdH1cblxuXHRAYmluZFxuXHRwcml2YXRlIGFzeW5jIHN1Ym1pdENvZGUocGFydG5lcklEID0gJycpIHtcblx0XHRpZiAodGhpcy5wZWVyUHJvZ3JhbW1pbmdNb2RhbE9wZW4pIHtcblx0XHRcdHRoaXMucGVlclByb2dyYW1taW5nTW9kYWxPcGVuID0gZmFsc2U7XG5cdFx0fVxuXHRcdGZvciAoY29uc3QgdGVzdCBvZiB0aGlzLnRlc3RzKSB7XG5cdFx0XHR0ZXN0LnN0YXR1cyA9IFRlc3RTdGF0dXMuUnVubmluZztcblx0XHR9XG5cblx0XHR0aGlzLnJlcXVlc3RVcGRhdGUoKTtcblx0XHRjb25zdCBjb2RlID0gdGhpcy5nZXRDb2RlISgpO1xuXHRcdGlmICghY29kZS50cmltKCkubGVuZ3RoKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGNvbnN0IHJlc3VsdCA9IGF3YWl0IHN1Ym1pdENvZGUoY291cnNlX2Jhc2ljcy5pZCwgYXNzaWdubWVudF9iYXNpY3MuaWQsIGV4ZXJjaXNlX2Jhc2ljcy5pZCwgY29kZSwgcGFydG5lcklEKTtcblx0XHR0aGlzLnByb2Nlc3NSZXN1bHQocmVzdWx0KTtcblxuXHRcdHRoaXMucmVxdWVzdFVwZGF0ZSgpO1xuXHRcdGlmIChyZXN1bHQuc3VibWlzc2lvbl9pZCkge1xuXHRcdFx0dGhpcy5hZGRTdWJtaXNzaW9uPy4oe1xuXHRcdFx0XHRpZDogcmVzdWx0LnN1Ym1pc3Npb25faWQsXG5cdFx0XHRcdGRhdGU6IG5ldyBEYXRlKCksXG5cdFx0XHRcdGNvZGUsXG5cdFx0XHRcdHBhc3NlZDogISFyZXN1bHQuYWxsX3Bhc3NlZCxcblx0XHRcdFx0dGVzdF9vdXRwdXRzOiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJlc3VsdC50ZXN0X291dHB1dHMpKSxcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgcHJvY2Vzc1Jlc3VsdChyZXN1bHQ6IFJ1bkNvZGVSZXNwb25zZSkge1xuXHRcdGlmIChyZXN1bHQubWVzc2FnZT8ubGVuZ3RoID4gMCkge1xuXHRcdFx0Zm9yIChjb25zdCB0ZXN0IG9mIHRoaXMudGVzdHMpIHtcblx0XHRcdFx0dGVzdC5zdGF0dXMgPSBUZXN0U3RhdHVzLkZhaWxlZDtcblx0XHRcdH1cblx0XHRcdHRoaXMuZXJyb3JNZXNzYWdlID0gcmVzdWx0Lm1lc3NhZ2U7XG5cdFx0fSBlbHNlIHtcdFxuXHRcdFx0Zm9yIChjb25zdCB0ZXN0IG9mIHRoaXMudGVzdHMpIHtcblx0XHRcdFx0aWYgKHJlc3VsdC50ZXN0X291dHB1dHNbdGVzdC5uYW1lXSkge1xuXHRcdFx0XHRcdHRlc3Quc3RhdHVzID0gcmVzdWx0LnRlc3Rfb3V0cHV0c1t0ZXN0Lm5hbWVdPy5wYXNzZWQgPyBUZXN0U3RhdHVzLlBhc3NlZCA6IFRlc3RTdGF0dXMuRmFpbGVkO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRPYmplY3QuYXNzaWduKHRoaXMudGVzdE91dHB1dHMsIHJlc3VsdC50ZXN0X291dHB1dHMpO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgZ2V0IGFsbFBhc3NpbmcoKTogYm9vbGVhbiB7XG5cdFx0aWYgKCF0aGlzLnRlc3RzPy5sZW5ndGgpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0Zm9yIChjb25zdCB0ZXN0IG9mIHRoaXMudGVzdHMpIHtcblx0XHRcdGlmICh0ZXN0LnN0YXR1cyAhPT0gVGVzdFN0YXR1cy5QYXNzZWQpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxufVxuXG5AY3VzdG9tRWxlbWVudCgncGVlci1wcm9ncmFtbWluZy1tb2RhbCcpXG5leHBvcnQgY2xhc3MgUGVlclByb2dyYW1taW5nTW9kYWwgZXh0ZW5kcyBMaXRFbGVtZW50IHtcblx0QHByb3BlcnR5KClcblx0cHJpdmF0ZSBvcGVuOiBib29sZWFuID0gZmFsc2U7XG5cblx0QHByb3BlcnR5KClcblx0cHJpdmF0ZSBvbkNsb3NlPzogKCkgPT4gdm9pZDtcblxuXHRAcHJvcGVydHkoKVxuXHRwcml2YXRlIG9uU3VibWl0PzogKHBhcnRuZXJOYW1lOiBzdHJpbmcpID0+IHZvaWQ7XG5cblx0QHN0YXRlKClcblx0cHJpdmF0ZSBwYXJ0bmVyOiBzdHJpbmcgPSAnJztcblxuXHRyZW5kZXIoKSB7XG5cdFx0cmV0dXJuIGh0bWxgXG5cdFx0XHQ8ZGl2IGNsYXNzPVwibW9kYWwke3RoaXMub3BlbiA/ICcgaXMtYWN0aXZlJzogJyd9XCI+XG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJtb2RhbC1iYWNrZ3JvdW5kXCIgQGNsaWNrPSR7dGhpcy5vbkNsb3NlfT48L2Rpdj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwibW9kYWwtY2FyZFwiPlxuXHRcdFx0XHRcdFx0PGhlYWRlciBjbGFzcz1cIm1vZGFsLWNhcmQtaGVhZFwiPlxuXHRcdFx0XHRcdFx0XHQ8cCBjbGFzcz1cIm1vZGFsLWNhcmQtdGl0bGVcIj5QYWlyIHByb2dyYW1taW5nPC9wPlxuXHRcdFx0XHRcdFx0XHQ8YnV0dG9uIGNsYXNzPVwiZGVsZXRlXCIgYXJpYS1sYWJlbD1cImNsb3NlXCIgQGNsaWNrPSR7dGhpcy5vbkNsb3NlfT48L2J1dHRvbj5cblx0XHRcdFx0XHRcdDwvaGVhZGVyPlxuXHRcdFx0XHRcdFx0PHNlY3Rpb24gY2xhc3M9XCJtb2RhbC1jYXJkLWJvZHlcIj5cblx0XHRcdFx0XHRcdFx0PHA+U2VsZWN0IHlvdXIgcGFpciBwcm9ncmFtbWluZyBwYXJ0bmVyIGhlcmUuIElmIHlvdSBhcmUgd29ya2luZyBvbiB0aGUgZXhlcmNpc2Ugd2l0aG91dCBhIHBhcnRuZXIsIGxlYXZlIHRoaXMgZmllbGQgYmxhbmsuPC9wPlxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwic2VsZWN0XCIgc3R5bGU9XCJtYXJnaW46IDE2cHggMHB4O1wiPlxuXHRcdFx0XHRcdFx0XHRcdDxzZWxlY3QgdmFsdWU9JHt0aGlzLnBhcnRuZXJ9IEBjaGFuZ2U9JHt0aGlzLmhhbmRsZUNoYW5nZX0+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8b3B0aW9uIHZhbHVlPVwiXCI+U2VsZWN0IHBhcnRuZXIuLi48L29wdGlvbj5cblx0XHRcdFx0XHRcdFx0XHRcdCR7dXNlcnM/Lm1hcCgodXNlcjogc3RyaW5nKSA9PiBodG1sYDxvcHRpb24gdmFsdWU9JHt1c2VyfT4ke3VzZXJ9PC9vcHRpb24+YCl9XG5cdFx0XHRcdFx0XHRcdFx0PC9zZWxlY3Q+XG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxuXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmaWVsZCBpcy1ncm91cGVkXCI+XG5cdFx0XHRcdFx0XHRcdFx0PHAgY2xhc3M9XCJjb250cm9sXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8YnV0dG9uIGNsYXNzPVwiYnV0dG9uIGlzLXByaW1hcnkgaXMtb3V0bGluZWRcIiBAY2xpY2s9JHt0aGlzLnN1Ym1pdH0+U3VibWl0PC9idXR0b24+XG5cdFx0XHRcdFx0XHRcdFx0PC9wPlxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDwvc2VjdGlvbj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHQ8L2Rpdj5cblx0XHRgO1xuXHR9XG5cblx0QGJpbmRcblx0aGFuZGxlQ2hhbmdlKGU6IEV2ZW50KSB7XG5cdFx0Y29uc29sZS5sb2coZSk7XG5cdFx0aWYgKGUudGFyZ2V0IGluc3RhbmNlb2YgSFRNTFNlbGVjdEVsZW1lbnQpIHtcblx0XHRcdHRoaXMucGFydG5lciA9IGUudGFyZ2V0LnZhbHVlO1xuXHRcdH1cblx0fVxuXG5cdEBiaW5kXG5cdGFzeW5jIHN1Ym1pdCgpIHtcblx0XHRsZXQgcGFydG5lcklEID0gJyc7XG5cdFx0aWYgKHRoaXMucGFydG5lcikge1xuXHRcdFx0cGFydG5lcklEID0gYXdhaXQgZ2V0UGFydG5lcklEKGNvdXJzZV9iYXNpY3MuaWQsIHRoaXMucGFydG5lcik7XG5cdFx0XHRpZiAodHlwZW9mIHBhcnRuZXJJRCAhPT0gJ3N0cmluZycpIHtcblx0XHRcdFx0cGFydG5lcklEID0gJyc7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHRoaXMub25TdWJtaXQ/LihwYXJ0bmVySUQpO1xuXHR9XG59XG5cbmVudW0gT3V0cHV0VGFiIHtcblx0UGxhaW4gPSAnUGxhaW4gT3V0cHV0Jyxcblx0VGV4dERpZmYgPSAnVGV4dCBEaWZmJyxcblx0SW1hZ2VEaWZmID0gJ0ltYWdlIERpZmYnLFxufVxuXG5AY3VzdG9tRWxlbWVudCgndGVzdC1yZXN1bHRzLW1vZGFsJylcbmV4cG9ydCBjbGFzcyBUZXN0UmVzdWx0c01vZGFsIGV4dGVuZHMgTGl0RWxlbWVudCB7XG5cdHN0YXRpYyBuZXh0SUQ6IG51bWJlciA9IDA7XG5cdHByaXZhdGUgaW5zdGFuY2VJRDogbnVtYmVyID0gVGVzdFJlc3VsdHNNb2RhbC5uZXh0SUQrKztcblxuXHRwcml2YXRlIG9wZW5lZCA9IGZhbHNlO1xuXHRwcml2YXRlIGNvbGxhcHNpYmxlczogYW55W10gPSBbXTtcblxuXHRAc3RhdGUoKVxuXHRwcml2YXRlIG9wZW4gPSBmYWxzZTtcblxuXHRAcHJvcGVydHkoKVxuXHR0ZXN0U3RhdHVzPzogVGVzdFN0YXR1cztcblxuXHRAcHJvcGVydHkoKVxuXHR0ZXN0PzogVGVzdDtcblxuXHRAcHJvcGVydHkoKVxuXHR1c2VyT3V0cHV0Pzogc3RyaW5nO1xuXG5cdEBwcm9wZXJ0eSgpXG5cdGV4cGVjdGVkT3V0cHV0Pzogc3RyaW5nO1xuXG5cdEBwcm9wZXJ0eSgpXG5cdHVzZXJJbWFnZU91dHB1dD86IHN0cmluZztcblxuXHRAcHJvcGVydHkoKVxuXHRleHBlY3RlZEltYWdlT3V0cHV0Pzogc3RyaW5nO1xuXG5cdEBwcm9wZXJ0eSgpXG5cdGltYWdlRGlmZj86IHN0cmluZztcblxuXHRAcHJvcGVydHkoKVxuXHRydW5UZXN0PzogKHRlc3ROYW1lOiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD47XG5cblx0XG5cdEBzdGF0ZSgpXG5cdGN1cnJlbnRUYWIgPSBPdXRwdXRUYWIuUGxhaW47XG5cdFxuXHR0YWJPdXRwdXRzOiB7W2tleSBpbiBPdXRwdXRUYWJdOiAoKSA9PiBUZW1wbGF0ZVJlc3VsdH0gPSB7XG5cdFx0W091dHB1dFRhYi5QbGFpbl06ICgpID0+IGh0bWxgXG5cdFx0XHQ8ZGl2IGNsYXNzPVwicGxhaW4tb3V0cHV0LXNlY3Rpb25cIj5cblx0XHRcdFx0PGRpdj5cblx0XHRcdFx0XHQke3RoaXMudGVzdFN0YXR1cyA9PT0gVGVzdFN0YXR1cy5QYXNzZWQgPyBodG1sYDxoMj5UZXN0IHBhc3NlZCBcdUQ4M0NcdURGODkhISE8L2gyPmAgOiBudWxsfVxuXHRcdFx0XHRcdCR7dGhpcy5nZXRVc2VyT3V0cHV0KCl9XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0PC9kaXY+XG5cdFx0YCxcblx0XHRbT3V0cHV0VGFiLlRleHREaWZmXTogKCkgPT4gaHRtbGBcblx0XHRcdDxkaXYgY2xhc3M9XCJkaWZmLXNlY3Rpb25cIj5cblx0XHRcdFx0PGRpdiBjbGFzcz1cImRpZmYtc2VjdGlvbi1oZWFkZXJcIj5cblx0XHRcdFx0XHQ8c3BhbiBzdHlsZT1cImZsZXg6IDE7XCI+Q29ycmVjdCB0ZXh0IG91dHB1dDo8L3NwYW4+XG5cdFx0XHRcdFx0PHNwYW4gc3R5bGU9XCJmbGV4OiAxO1wiPllvdXIgdGV4dCBvdXRwdXQ6PC9zcGFuPlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PGRpZmYtdmlld2VyIC5sZWZ0PSR7dGhpcy5leHBlY3RlZE91dHB1dH0gLnJpZ2h0PSR7dGhpcy51c2VyT3V0cHV0fT48L2RpZmYtdmlld2VyPlxuXHRcdFx0PC9kaXY+XG5cdFx0YCxcblx0XHRbT3V0cHV0VGFiLkltYWdlRGlmZl06ICgpID0+IHRoaXMuaW1hZ2VEaWZmPy5sZW5ndGggPCAxNSA/IGh0bWxgYCA6IGh0bWxgXG5cdFx0XHQ8ZGl2IGNsYXNzPVwiaW1hZ2UtZGlmZi1zZWN0aW9uXCI+XG5cdFx0XHRcdDxpbWcgc3JjPSdkYXRhOmltYWdlL2pwZztiYXNlNjQsJHt0aGlzLmltYWdlRGlmZn0nIHdpZHRoPSc2MDAnIGhlaWdodD0nNjAwJyBhbHQ9J1Zpc3VhbCBkaWZmZXJlbmNlcyBiZXR3ZWVuIHRoZSBhY3R1YWwgb3V0cHV0IGFuZCB0aGUgZXhwZWN0ZWQgb3V0cHV0LicgLz5cblx0XHRcdDwvZGl2PlxuXHRcdGAsXG5cdH1cblxuXHRwcm90ZWN0ZWQgZmlyc3RVcGRhdGVkKF9jaGFuZ2VkUHJvcGVydGllczogUHJvcGVydHlWYWx1ZU1hcDxhbnk+IHwgTWFwPFByb3BlcnR5S2V5LCB1bmtub3duPik6IHZvaWQge1xuXHRcdHRoaXMuY29sbGFwc2libGVzID0gYnVsbWFDb2xsYXBzaWJsZS5hdHRhY2godGhpcy5xdWVyeVNlbGVjdG9yQWxsKCcuaXMtY29sbGFwc2libGUnKSk7XG5cdH1cblxuXHRyZW5kZXIoKSB7XG5cdFx0Y29uc3QgaGFzVGVzdENvZGUgPSB0aGlzLnRlc3Q/LmJlZm9yZV9jb2RlIHx8IHRoaXMudGVzdD8uYWZ0ZXJfY29kZTtcblxuXHRcdHJldHVybiBodG1sYFxuXHRcdFx0JHt0aGlzLnJ1blRlc3QgPyBodG1sYFxuXHRcdFx0XHQ8YnV0dG9uIGNsYXNzPVwiYnV0dG9uIGlzLXNtYWxsXCIgP2Rpc2FibGVkPSR7dGhpcy50ZXN0U3RhdHVzID09PSBUZXN0U3RhdHVzLlJ1bm5pbmd9IEBjbGljaz0keygpID0+IHRoaXMucnVuVGVzdD8uKHRoaXMudGVzdCEubmFtZSl9PiR7dGhpcy5nZXRSdW5CdXR0b25UZXh0KCl9PC9idXR0b24+XG5cdFx0XHRgIDogbnVsbH1cblx0XHRcdDxidXR0b24gY2xhc3M9XCJidXR0b24gaXMtc21hbGxcIiBAY2xpY2s9JHt0aGlzLm9wZW5Nb2RhbH0+VmlldyBkZXRhaWxzPC9idXR0b24+XG5cdFx0XHRcblx0XHRcdDxkaXYgY2xhc3M9XCJtb2RhbCR7dGhpcy5vcGVuID8gJyBpcy1hY3RpdmUnOiAnJ31cIj5cblx0XHRcdFx0PGRpdiBjbGFzcz1cIm1vZGFsLWJhY2tncm91bmRcIiBAY2xpY2s9JHt0aGlzLmNsb3NlTW9kYWx9PjwvZGl2PlxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwibW9kYWwtY2FyZFwiPlxuXHRcdFx0XHRcdDxoZWFkZXIgY2xhc3M9XCJtb2RhbC1jYXJkLWhlYWRcIj5cblx0XHRcdFx0XHRcdDxwIGNsYXNzPVwibW9kYWwtY2FyZC10aXRsZVwiPlRlc3QgcmVzdWx0czogJHt0aGlzLnRlc3Q/Lm5hbWV9PC9wPlxuXHRcdFx0XHRcdFx0PGJ1dHRvbiBjbGFzcz1cImRlbGV0ZVwiIGFyaWEtbGFiZWw9XCJjbG9zZVwiIEBjbGljaz0ke3RoaXMuY2xvc2VNb2RhbH0+PC9idXR0b24+XG5cdFx0XHRcdFx0PC9oZWFkZXI+XG5cdFx0XHRcdFx0PHNlY3Rpb24gY2xhc3M9XCJtb2RhbC1jYXJkLWJvZHlcIj5cblxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz0nY29sbGFwc2libGUtc2VjdGlvbic+XG5cdFx0XHRcdFx0XHRcdCR7dGhpcy50ZXN0Py5pbnN0cnVjdGlvbnMgPyBodG1sYFxuXHRcdFx0XHRcdFx0XHRcdDxhcnRpY2xlIGNsYXNzPVwibWVzc2FnZVwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1lc3NhZ2UtaGVhZGVyXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxhIGhyZWY9XCIjaW5zdHJ1Y3Rpb24tc2VjdGlvbi0ke3RoaXMuaW5zdGFuY2VJRH1cIiBkYXRhLWFjdGlvbj1cImNvbGxhcHNlXCI+SW5zdHJ1Y3Rpb25zPC9hPlxuXHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGlkPVwiaW5zdHJ1Y3Rpb24tc2VjdGlvbi0ke3RoaXMuaW5zdGFuY2VJRH1cIiBjbGFzcz1cIm1lc3NhZ2UtYm9keSBpcy1jb2xsYXBzaWJsZVwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwibWVzc2FnZS1ib2R5LWNvbnRlbnRcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQke3Vuc2FmZUhUTUwodGhpcy50ZXN0Py5pbnN0cnVjdGlvbnMpfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdDwvYXJ0aWNsZT5cblx0XHRcdFx0XHRcdFx0YCA6IG51bGx9XG5cdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHQke2hhc1Rlc3RDb2RlID8gaHRtbGBcdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHRcdDxhcnRpY2xlIGNsYXNzPVwibWVzc2FnZVwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1lc3NhZ2UtaGVhZGVyXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxhIGhyZWY9XCIjdGVzdC1jb2RlLXNlY3Rpb24tJHt0aGlzLmluc3RhbmNlSUR9XCIgZGF0YS1hY3Rpb249XCJjb2xsYXBzZVwiPlRlc3QgY29kZTwvYT5cblx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBpZD1cInRlc3QtY29kZS1zZWN0aW9uLSR7dGhpcy5pbnN0YW5jZUlEfVwiIGNsYXNzPVwibWVzc2FnZS1ib2R5IGlzLWNvbGxhcHNpYmxlXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJtZXNzYWdlLWJvZHktY29udGVudFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdCR7dGhpcy50ZXN0Py5jYW5fc2VlX3Rlc3RfY29kZSA/IGh0bWxgXG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCR7dGhpcy50ZXN0Py5iZWZvcmVfY29kZSA/IGh0bWxgXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxwPkNvZGUgcnVuIGJlZm9yZSB5b3VyIGNvZGU6PC9wPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8cHJlPiR7dGhpcy50ZXN0Py5iZWZvcmVfY29kZX08L3ByZT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGAgOiBudWxsfVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQke3RoaXMudGVzdD8uYWZ0ZXJfY29kZSA/IGh0bWxgXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxwPkNvZGUgcnVuIGFmdGVyIHlvdXIgY29kZTo8L3A+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxwcmU+JHt0aGlzLnRlc3Q/LmFmdGVyX2NvZGV9PC9wcmU+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGAgOiBudWxsfVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQkeyEhdGhpcy50ZXN0Py5iZWZvcmVfY29kZSAmJiAhIXRoaXMudGVzdD8uYWZ0ZXJfY29kZSA/IGh0bWxgXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxwPk5vIGFkZGl0aW9uYWwgY29kZSBpcyBydW4gYmVmb3JlIG9yIGFmdGVyIHlvdXIgY29kZS48L3A+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRgIDogbnVsbH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGAgOiBodG1sYFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PHAgZGlzYWJsZWQ+VGhlIHRlc3QgY29kZSB3aWxsIG5vdCBiZSBzaG93biBmb3IgdGhpcyB0ZXN0LjwvcD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRgfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdDwvYXJ0aWNsZT5cblx0XHRcdFx0XHRcdFx0YCA6IG51bGx9XG5cdFx0XHRcdFx0XHRcdDxhcnRpY2xlIGNsYXNzPVwibWVzc2FnZVwiPlxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJtZXNzYWdlLWhlYWRlclwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0PGEgaHJlZj1cIiNleHBlY3RlZC1vdXRwdXQtc2VjdGlvbi0ke3RoaXMuaW5zdGFuY2VJRH1cIiBkYXRhLWFjdGlvbj1cImNvbGxhcHNlXCI+RXhwZWN0ZWQgb3V0cHV0PC9hPlxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgaWQ9XCJleHBlY3RlZC1vdXRwdXQtc2VjdGlvbi0ke3RoaXMuaW5zdGFuY2VJRH1cIiBjbGFzcz1cIm1lc3NhZ2UtYm9keSBpcy1jb2xsYXBzaWJsZVwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1lc3NhZ2UtYm9keS1jb250ZW50XCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdCR7dGhpcy5nZXRFeHBlY3RlZE91dHB1dCgpfVxuXHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdDwvYXJ0aWNsZT5cblx0XHRcdFx0XHRcdFx0PCEtLSA8YXJ0aWNsZSBjbGFzcz1cIm1lc3NhZ2VcIj4gLS0+XG5cdFx0XHRcdFx0XHRcdDxhcnRpY2xlIGNsYXNzPVwibWVzc2FnZSBncm93XCI+XG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1lc3NhZ2UtaGVhZGVyXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8YSBocmVmPVwiI3VzZXItb3V0cHV0LXNlY3Rpb24tJHt0aGlzLmluc3RhbmNlSUR9XCIgZGF0YS1hY3Rpb249XCJjb2xsYXBzZVwiPllvdXIgb3V0cHV0PC9hPlxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgaWQ9XCJ1c2VyLW91dHB1dC1zZWN0aW9uLSR7dGhpcy5pbnN0YW5jZUlEfVwiIGNsYXNzPVwibWVzc2FnZS1ib2R5IGlzLWNvbGxhcHNpYmxlXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwibWVzc2FnZS1ib2R5LWNvbnRlbnRcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0JHt0aGlzLmdldFRlc3RPdXRwdXQoKX1cblx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHQ8L2FydGljbGU+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L3NlY3Rpb24+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0PC9kaXY+XG5cdFx0YDtcblx0fVxuXG5cdEBiaW5kXG5cdHB1YmxpYyBhc3luYyBvcGVuTW9kYWwoKSB7XG5cdFx0dGhpcy5vcGVuID0gdHJ1ZTtcblx0XHRhd2FpdCB0aGlzLnVwZGF0ZUNvbXBsZXRlO1xuXHRcdGF3YWl0IG5ldyBQcm9taXNlKCgpID0+IHtcblx0XHRcdGlmICghdGhpcy5vcGVuZWQpIHtcblx0XHRcdFx0dGhpcy5vcGVuZWQgPSB0cnVlO1xuXHRcdFx0XHRmb3IgKGNvbnN0IGNvbGxhcHNpYmxlIG9mIHRoaXMuY29sbGFwc2libGVzKSB7XG5cdFx0XHRcdFx0Y29sbGFwc2libGUuZXhwYW5kKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KVxuXHR9XG5cblx0QGJpbmRcblx0Y2xvc2VNb2RhbChlOiBNb3VzZUV2ZW50KSB7XG5cdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHR0aGlzLm9wZW4gPSBmYWxzZTtcblx0fVxuXG5cdEBiaW5kXG5cdHByaXZhdGUgZ2V0UnVuQnV0dG9uVGV4dCgpOiBzdHJpbmcgfCBUZW1wbGF0ZVJlc3VsdCB7XG5cdFx0c3dpdGNoICh0aGlzLnRlc3RTdGF0dXMpIHtcblx0XHRcdGNhc2UgVGVzdFN0YXR1cy5SdW5uaW5nOlxuXHRcdFx0XHRyZXR1cm4gaHRtbGBSdW4gdGVzdCA8aSBjbGFzcz1cImZhcyBmYS1zcGlubmVyIGZhLXNwaW4gcnVubmluZ1wiPjwvaT5gO1xuXHRcdFx0Y2FzZSBUZXN0U3RhdHVzLlBhc3NlZDpcblx0XHRcdGNhc2UgVGVzdFN0YXR1cy5GYWlsZWQ6XG5cdFx0XHRjYXNlIFRlc3RTdGF0dXMuVW5rbm93bjpcblx0XHRcdFx0cmV0dXJuIGh0bWxgUnVuIHRlc3QgPGkgY2xhc3M9XCJmYXMgZmEtcGxheVwiPjwvaT5gO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0cmV0dXJuICcnO1xuXHRcdH1cblx0fVxuXG5cdEBiaW5kXG5cdHByaXZhdGUgZ2V0VGVzdE91dHB1dCgpOiBUZW1wbGF0ZVJlc3VsdCB7XG5cdFx0Y29uc3QgdGFiczogT3V0cHV0VGFiW10gPSBbT3V0cHV0VGFiLlBsYWluXTtcblx0XHRpZiAodGhpcy50ZXN0Py5jYW5fc2VlX2NvZGVfb3V0cHV0ICYmIHRoaXMudGVzdD8uY2FuX3NlZV9leHBlY3RlZF9vdXRwdXQpIHtcblx0XHRcdHN3aXRjaCAodGhpcy50ZXN0U3RhdHVzKSB7XG5cdFx0XHRcdGNhc2UgVGVzdFN0YXR1cy5GYWlsZWQ6XG5cdFx0XHRcdFx0dGFicy5wdXNoKE91dHB1dFRhYi5UZXh0RGlmZik7XG5cdFx0XHRcdFx0aWYgKHRoaXMuaW1hZ2VEaWZmKSB7XG5cdFx0XHRcdFx0XHR0YWJzLnB1c2goT3V0cHV0VGFiLkltYWdlRGlmZik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFRlc3RTdGF0dXMuUnVubmluZzpcblx0XHRcdFx0XHRyZXR1cm4gaHRtbGA8aDM+Q3VycmVudGx5IHJ1bm5pbmcuPC9oMz5gO1xuXHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICh0YWJzLmxlbmd0aCA9PT0gMSkge1xuXHRcdFx0cmV0dXJuIHRoaXMudGFiT3V0cHV0c1t0YWJzWzBdXSgpO1xuXHRcdH1cblxuXHRcdGlmICghdGFicy5pbmNsdWRlcyh0aGlzLmN1cnJlbnRUYWIpKSB7XG5cdFx0XHR0aGlzLmN1cnJlbnRUYWIgPSB0YWJzWzBdO1xuXHRcdH1cblxuXHRcdHJldHVybiBodG1sYFxuXHRcdFx0PGRpdj5cblx0XHRcdFx0PGRpdiBjbGFzcz1cInRhYnNcIj5cblx0XHRcdFx0XHQ8dWw+XG5cdFx0XHRcdFx0XHQke3RhYnMubWFwKHRhYiA9PiBodG1sYFxuXHRcdFx0XHRcdFx0XHQ8bGkgY2xhc3M9JHt0YWIgPT09IHRoaXMuY3VycmVudFRhYiA/ICdpcy1hY3RpdmUnIDogJyd9IEBjbGljaz0keygpID0+IHRoaXMuY3VycmVudFRhYiA9IHRhYn0+PGE+JHt0YWJ9PC9hPjwvbGk+XG5cdFx0XHRcdFx0XHRgKX1cblx0XHRcdFx0XHQ8L3VsPlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdDwvZGl2PlxuXHRcdFx0JHt0aGlzLnRhYk91dHB1dHNbdGhpcy5jdXJyZW50VGFiXSgpfVx0XHRcdFx0XG5cdFx0YDtcblx0fVxuXG5cdHByaXZhdGUgZ2V0VXNlck91dHB1dCgpOiBUZW1wbGF0ZVJlc3VsdCB7XG5cdFx0aWYgKCF0aGlzLnRlc3Q/LmNhbl9zZWVfY29kZV9vdXRwdXQpIHtcblx0XHRcdHJldHVybiBodG1sYDxoMz5Zb3VyIG91dHB1dCB3aWxsIG5vdCBiZSBzaG93biBmb3IgdGhpcyB0ZXN0LjwvaDM+YDtcblx0XHR9XG5cdFx0aWYgKHRoaXMudGVzdFN0YXR1cyA9PT0gVGVzdFN0YXR1cy5Vbmtub3duKSB7XG5cdFx0XHRyZXR1cm4gaHRtbGA8aDM+VGhpcyB0ZXN0IGhhcyBub3QgYmVlbiBydW4geWV0LCBzbyB5b3UgaGF2ZSBubyBvdXRwdXQuPC9oMz5gO1xuXHRcdH1cblx0XHRyZXR1cm4gaHRtbGBcblx0XHRcdCR7dGhpcy51c2VyT3V0cHV0ID8gaHRtbGBcblx0XHRcdFx0PHByZT4ke3RoaXMudXNlck91dHB1dH08L3ByZT5cblx0XHRcdGAgOiBudWxsfVxuXHRcdFx0JHt0aGlzLnVzZXJJbWFnZU91dHB1dCA/IGh0bWxgXG5cdFx0XHRcdDxpbWcgc3JjPSdkYXRhOmltYWdlL2pwZztiYXNlNjQsJHt0aGlzLnVzZXJJbWFnZU91dHB1dH0nIHdpZHRoPSc2MDAnIGhlaWdodD0nNjAwJyBhbHQ9J0ltYWdlLWJhc2VkIG91dHB1dCBvZiB0aGUgY29kZS4nIC8+XG5cdFx0XHRgIDogbnVsbH1cdFx0XG5cdFx0YDtcblx0fVxuXG5cdHByaXZhdGUgZ2V0RXhwZWN0ZWRPdXRwdXQoKTogVGVtcGxhdGVSZXN1bHQge1xuXHRcdGlmICghdGhpcy50ZXN0Py5jYW5fc2VlX2V4cGVjdGVkX291dHB1dCkge1xuXHRcdFx0cmV0dXJuIGh0bWxgPGgzPlRoZSBleHBlY3RlZCBvdXRwdXQgd2lsbCBub3QgYmUgc2hvd24gZm9yIHRoaXMgdGVzdC48L2gzPmA7XG5cdFx0fVxuXHRcdHJldHVybiBodG1sYFxuXHRcdFx0JHt0aGlzLmV4cGVjdGVkT3V0cHV0ID8gaHRtbGBcblx0XHRcdFx0PHByZT4ke3RoaXMuZXhwZWN0ZWRPdXRwdXR9PC9wcmU+XG5cdFx0XHRgIDogbnVsbH1cblx0XHRcdCR7dGhpcy5leHBlY3RlZEltYWdlT3V0cHV0ID8gaHRtbGBcblx0XHRcdFx0PGltZyBzcmM9J2RhdGE6aW1hZ2UvanBnO2Jhc2U2NCwke3RoaXMuZXhwZWN0ZWRJbWFnZU91dHB1dH0nIHdpZHRoPSc2MDAnIGhlaWdodD0nNjAwJyBhbHQ9J0ltYWdlLWJhc2VkIGV4cGVjdGVkIG91dHB1dC4nIC8+XG5cdFx0XHRgIDogbnVsbH1cdFx0XG5cdFx0YDtcdFx0XG5cdH1cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cblxuaW1wb3J0IHtfJExILCBQYXJ0LCBEaXJlY3RpdmVQYXJlbnQsIFRlbXBsYXRlUmVzdWx0fSBmcm9tICcuL2xpdC1odG1sLmpzJztcbmltcG9ydCB7XG4gIERpcmVjdGl2ZVJlc3VsdCxcbiAgRGlyZWN0aXZlQ2xhc3MsXG4gIFBhcnRJbmZvLFxuICBBdHRyaWJ1dGVQYXJ0SW5mbyxcbn0gZnJvbSAnLi9kaXJlY3RpdmUuanMnO1xudHlwZSBQcmltaXRpdmUgPSBudWxsIHwgdW5kZWZpbmVkIHwgYm9vbGVhbiB8IG51bWJlciB8IHN0cmluZyB8IHN5bWJvbCB8IGJpZ2ludDtcblxuY29uc3Qge19DaGlsZFBhcnQ6IENoaWxkUGFydH0gPSBfJExIO1xuXG50eXBlIENoaWxkUGFydCA9IEluc3RhbmNlVHlwZTx0eXBlb2YgQ2hpbGRQYXJ0PjtcblxuY29uc3QgRU5BQkxFX1NIQURZRE9NX05PUEFUQ0ggPSB0cnVlO1xuXG5jb25zdCB3cmFwID1cbiAgRU5BQkxFX1NIQURZRE9NX05PUEFUQ0ggJiZcbiAgd2luZG93LlNoYWR5RE9NPy5pblVzZSAmJlxuICB3aW5kb3cuU2hhZHlET00/Lm5vUGF0Y2ggPT09IHRydWVcbiAgICA/IHdpbmRvdy5TaGFkeURPTSEud3JhcFxuICAgIDogKG5vZGU6IE5vZGUpID0+IG5vZGU7XG5cbi8qKlxuICogVGVzdHMgaWYgYSB2YWx1ZSBpcyBhIHByaW1pdGl2ZSB2YWx1ZS5cbiAqXG4gKiBTZWUgaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtdHlwZW9mLW9wZXJhdG9yXG4gKi9cbmV4cG9ydCBjb25zdCBpc1ByaW1pdGl2ZSA9ICh2YWx1ZTogdW5rbm93bik6IHZhbHVlIGlzIFByaW1pdGl2ZSA9PlxuICB2YWx1ZSA9PT0gbnVsbCB8fCAodHlwZW9mIHZhbHVlICE9ICdvYmplY3QnICYmIHR5cGVvZiB2YWx1ZSAhPSAnZnVuY3Rpb24nKTtcblxuZXhwb3J0IGNvbnN0IFRlbXBsYXRlUmVzdWx0VHlwZSA9IHtcbiAgSFRNTDogMSxcbiAgU1ZHOiAyLFxufSBhcyBjb25zdDtcblxuZXhwb3J0IHR5cGUgVGVtcGxhdGVSZXN1bHRUeXBlID1cbiAgdHlwZW9mIFRlbXBsYXRlUmVzdWx0VHlwZVtrZXlvZiB0eXBlb2YgVGVtcGxhdGVSZXN1bHRUeXBlXTtcblxuLyoqXG4gKiBUZXN0cyBpZiBhIHZhbHVlIGlzIGEgVGVtcGxhdGVSZXN1bHQuXG4gKi9cbmV4cG9ydCBjb25zdCBpc1RlbXBsYXRlUmVzdWx0ID0gKFxuICB2YWx1ZTogdW5rbm93bixcbiAgdHlwZT86IFRlbXBsYXRlUmVzdWx0VHlwZVxuKTogdmFsdWUgaXMgVGVtcGxhdGVSZXN1bHQgPT5cbiAgdHlwZSA9PT0gdW5kZWZpbmVkXG4gICAgPyAvLyBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICAgICAgKHZhbHVlIGFzIFRlbXBsYXRlUmVzdWx0KT8uWydfJGxpdFR5cGUkJ10gIT09IHVuZGVmaW5lZFxuICAgIDogKHZhbHVlIGFzIFRlbXBsYXRlUmVzdWx0KT8uWydfJGxpdFR5cGUkJ10gPT09IHR5cGU7XG5cbi8qKlxuICogVGVzdHMgaWYgYSB2YWx1ZSBpcyBhIERpcmVjdGl2ZVJlc3VsdC5cbiAqL1xuZXhwb3J0IGNvbnN0IGlzRGlyZWN0aXZlUmVzdWx0ID0gKHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgRGlyZWN0aXZlUmVzdWx0ID0+XG4gIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gICh2YWx1ZSBhcyBEaXJlY3RpdmVSZXN1bHQpPy5bJ18kbGl0RGlyZWN0aXZlJCddICE9PSB1bmRlZmluZWQ7XG5cbi8qKlxuICogUmV0cmlldmVzIHRoZSBEaXJlY3RpdmUgY2xhc3MgZm9yIGEgRGlyZWN0aXZlUmVzdWx0XG4gKi9cbmV4cG9ydCBjb25zdCBnZXREaXJlY3RpdmVDbGFzcyA9ICh2YWx1ZTogdW5rbm93bik6IERpcmVjdGl2ZUNsYXNzIHwgdW5kZWZpbmVkID0+XG4gIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gICh2YWx1ZSBhcyBEaXJlY3RpdmVSZXN1bHQpPy5bJ18kbGl0RGlyZWN0aXZlJCddO1xuXG4vKipcbiAqIFRlc3RzIHdoZXRoZXIgYSBwYXJ0IGhhcyBvbmx5IGEgc2luZ2xlLWV4cHJlc3Npb24gd2l0aCBubyBzdHJpbmdzIHRvXG4gKiBpbnRlcnBvbGF0ZSBiZXR3ZWVuLlxuICpcbiAqIE9ubHkgQXR0cmlidXRlUGFydCBhbmQgUHJvcGVydHlQYXJ0IGNhbiBoYXZlIG11bHRpcGxlIGV4cHJlc3Npb25zLlxuICogTXVsdGktZXhwcmVzc2lvbiBwYXJ0cyBoYXZlIGEgYHN0cmluZ3NgIHByb3BlcnR5IGFuZCBzaW5nbGUtZXhwcmVzc2lvblxuICogcGFydHMgZG8gbm90LlxuICovXG5leHBvcnQgY29uc3QgaXNTaW5nbGVFeHByZXNzaW9uID0gKHBhcnQ6IFBhcnRJbmZvKSA9PlxuICAocGFydCBhcyBBdHRyaWJ1dGVQYXJ0SW5mbykuc3RyaW5ncyA9PT0gdW5kZWZpbmVkO1xuXG5jb25zdCBjcmVhdGVNYXJrZXIgPSAoKSA9PiBkb2N1bWVudC5jcmVhdGVDb21tZW50KCcnKTtcblxuLyoqXG4gKiBJbnNlcnRzIGEgQ2hpbGRQYXJ0IGludG8gdGhlIGdpdmVuIGNvbnRhaW5lciBDaGlsZFBhcnQncyBET00sIGVpdGhlciBhdCB0aGVcbiAqIGVuZCBvZiB0aGUgY29udGFpbmVyIENoaWxkUGFydCwgb3IgYmVmb3JlIHRoZSBvcHRpb25hbCBgcmVmUGFydGAuXG4gKlxuICogVGhpcyBkb2VzIG5vdCBhZGQgdGhlIHBhcnQgdG8gdGhlIGNvbnRhaW5lclBhcnQncyBjb21taXR0ZWQgdmFsdWUuIFRoYXQgbXVzdFxuICogYmUgZG9uZSBieSBjYWxsZXJzLlxuICpcbiAqIEBwYXJhbSBjb250YWluZXJQYXJ0IFBhcnQgd2l0aGluIHdoaWNoIHRvIGFkZCB0aGUgbmV3IENoaWxkUGFydFxuICogQHBhcmFtIHJlZlBhcnQgUGFydCBiZWZvcmUgd2hpY2ggdG8gYWRkIHRoZSBuZXcgQ2hpbGRQYXJ0OyB3aGVuIG9taXR0ZWQgdGhlXG4gKiAgICAgcGFydCBhZGRlZCB0byB0aGUgZW5kIG9mIHRoZSBgY29udGFpbmVyUGFydGBcbiAqIEBwYXJhbSBwYXJ0IFBhcnQgdG8gaW5zZXJ0LCBvciB1bmRlZmluZWQgdG8gY3JlYXRlIGEgbmV3IHBhcnRcbiAqL1xuZXhwb3J0IGNvbnN0IGluc2VydFBhcnQgPSAoXG4gIGNvbnRhaW5lclBhcnQ6IENoaWxkUGFydCxcbiAgcmVmUGFydD86IENoaWxkUGFydCxcbiAgcGFydD86IENoaWxkUGFydFxuKTogQ2hpbGRQYXJ0ID0+IHtcbiAgY29uc3QgY29udGFpbmVyID0gd3JhcChjb250YWluZXJQYXJ0Ll8kc3RhcnROb2RlKS5wYXJlbnROb2RlITtcblxuICBjb25zdCByZWZOb2RlID1cbiAgICByZWZQYXJ0ID09PSB1bmRlZmluZWQgPyBjb250YWluZXJQYXJ0Ll8kZW5kTm9kZSA6IHJlZlBhcnQuXyRzdGFydE5vZGU7XG5cbiAgaWYgKHBhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgIGNvbnN0IHN0YXJ0Tm9kZSA9IHdyYXAoY29udGFpbmVyKS5pbnNlcnRCZWZvcmUoY3JlYXRlTWFya2VyKCksIHJlZk5vZGUpO1xuICAgIGNvbnN0IGVuZE5vZGUgPSB3cmFwKGNvbnRhaW5lcikuaW5zZXJ0QmVmb3JlKGNyZWF0ZU1hcmtlcigpLCByZWZOb2RlKTtcbiAgICBwYXJ0ID0gbmV3IENoaWxkUGFydChcbiAgICAgIHN0YXJ0Tm9kZSxcbiAgICAgIGVuZE5vZGUsXG4gICAgICBjb250YWluZXJQYXJ0LFxuICAgICAgY29udGFpbmVyUGFydC5vcHRpb25zXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBlbmROb2RlID0gd3JhcChwYXJ0Ll8kZW5kTm9kZSEpLm5leHRTaWJsaW5nO1xuICAgIGNvbnN0IG9sZFBhcmVudCA9IHBhcnQuXyRwYXJlbnQ7XG4gICAgY29uc3QgcGFyZW50Q2hhbmdlZCA9IG9sZFBhcmVudCAhPT0gY29udGFpbmVyUGFydDtcbiAgICBpZiAocGFyZW50Q2hhbmdlZCkge1xuICAgICAgcGFydC5fJHJlcGFyZW50RGlzY29ubmVjdGFibGVzPy4oY29udGFpbmVyUGFydCk7XG4gICAgICAvLyBOb3RlIHRoYXQgYWx0aG91Z2ggYF8kcmVwYXJlbnREaXNjb25uZWN0YWJsZXNgIHVwZGF0ZXMgdGhlIHBhcnQnc1xuICAgICAgLy8gYF8kcGFyZW50YCByZWZlcmVuY2UgYWZ0ZXIgdW5saW5raW5nIGZyb20gaXRzIGN1cnJlbnQgcGFyZW50LCB0aGF0XG4gICAgICAvLyBtZXRob2Qgb25seSBleGlzdHMgaWYgRGlzY29ubmVjdGFibGVzIGFyZSBwcmVzZW50LCBzbyB3ZSBuZWVkIHRvXG4gICAgICAvLyB1bmNvbmRpdGlvbmFsbHkgc2V0IGl0IGhlcmVcbiAgICAgIHBhcnQuXyRwYXJlbnQgPSBjb250YWluZXJQYXJ0O1xuICAgICAgLy8gU2luY2UgdGhlIF8kaXNDb25uZWN0ZWQgZ2V0dGVyIGlzIHNvbWV3aGF0IGNvc3RseSwgb25seVxuICAgICAgLy8gcmVhZCBpdCBvbmNlIHdlIGtub3cgdGhlIHN1YnRyZWUgaGFzIGRpcmVjdGl2ZXMgdGhhdCBuZWVkXG4gICAgICAvLyB0byBiZSBub3RpZmllZFxuICAgICAgbGV0IG5ld0Nvbm5lY3Rpb25TdGF0ZTtcbiAgICAgIGlmIChcbiAgICAgICAgcGFydC5fJG5vdGlmeUNvbm5lY3Rpb25DaGFuZ2VkICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgKG5ld0Nvbm5lY3Rpb25TdGF0ZSA9IGNvbnRhaW5lclBhcnQuXyRpc0Nvbm5lY3RlZCkgIT09XG4gICAgICAgICAgb2xkUGFyZW50IS5fJGlzQ29ubmVjdGVkXG4gICAgICApIHtcbiAgICAgICAgcGFydC5fJG5vdGlmeUNvbm5lY3Rpb25DaGFuZ2VkKG5ld0Nvbm5lY3Rpb25TdGF0ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChlbmROb2RlICE9PSByZWZOb2RlIHx8IHBhcmVudENoYW5nZWQpIHtcbiAgICAgIGxldCBzdGFydDogTm9kZSB8IG51bGwgPSBwYXJ0Ll8kc3RhcnROb2RlO1xuICAgICAgd2hpbGUgKHN0YXJ0ICE9PSBlbmROb2RlKSB7XG4gICAgICAgIGNvbnN0IG46IE5vZGUgfCBudWxsID0gd3JhcChzdGFydCEpLm5leHRTaWJsaW5nO1xuICAgICAgICB3cmFwKGNvbnRhaW5lcikuaW5zZXJ0QmVmb3JlKHN0YXJ0ISwgcmVmTm9kZSk7XG4gICAgICAgIHN0YXJ0ID0gbjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gcGFydDtcbn07XG5cbi8qKlxuICogU2V0cyB0aGUgdmFsdWUgb2YgYSBQYXJ0LlxuICpcbiAqIE5vdGUgdGhhdCB0aGlzIHNob3VsZCBvbmx5IGJlIHVzZWQgdG8gc2V0L3VwZGF0ZSB0aGUgdmFsdWUgb2YgdXNlci1jcmVhdGVkXG4gKiBwYXJ0cyAoaS5lLiB0aG9zZSBjcmVhdGVkIHVzaW5nIGBpbnNlcnRQYXJ0YCk7IGl0IHNob3VsZCBub3QgYmUgdXNlZFxuICogYnkgZGlyZWN0aXZlcyB0byBzZXQgdGhlIHZhbHVlIG9mIHRoZSBkaXJlY3RpdmUncyBjb250YWluZXIgcGFydC4gRGlyZWN0aXZlc1xuICogc2hvdWxkIHJldHVybiBhIHZhbHVlIGZyb20gYHVwZGF0ZWAvYHJlbmRlcmAgdG8gdXBkYXRlIHRoZWlyIHBhcnQgc3RhdGUuXG4gKlxuICogRm9yIGRpcmVjdGl2ZXMgdGhhdCByZXF1aXJlIHNldHRpbmcgdGhlaXIgcGFydCB2YWx1ZSBhc3luY2hyb25vdXNseSwgdGhleVxuICogc2hvdWxkIGV4dGVuZCBgQXN5bmNEaXJlY3RpdmVgIGFuZCBjYWxsIGB0aGlzLnNldFZhbHVlKClgLlxuICpcbiAqIEBwYXJhbSBwYXJ0IFBhcnQgdG8gc2V0XG4gKiBAcGFyYW0gdmFsdWUgVmFsdWUgdG8gc2V0XG4gKiBAcGFyYW0gaW5kZXggRm9yIGBBdHRyaWJ1dGVQYXJ0YHMsIHRoZSBpbmRleCB0byBzZXRcbiAqIEBwYXJhbSBkaXJlY3RpdmVQYXJlbnQgVXNlZCBpbnRlcm5hbGx5OyBzaG91bGQgbm90IGJlIHNldCBieSB1c2VyXG4gKi9cbmV4cG9ydCBjb25zdCBzZXRDaGlsZFBhcnRWYWx1ZSA9IDxUIGV4dGVuZHMgQ2hpbGRQYXJ0PihcbiAgcGFydDogVCxcbiAgdmFsdWU6IHVua25vd24sXG4gIGRpcmVjdGl2ZVBhcmVudDogRGlyZWN0aXZlUGFyZW50ID0gcGFydFxuKTogVCA9PiB7XG4gIHBhcnQuXyRzZXRWYWx1ZSh2YWx1ZSwgZGlyZWN0aXZlUGFyZW50KTtcbiAgcmV0dXJuIHBhcnQ7XG59O1xuXG4vLyBBIHNlbnRpbmFsIHZhbHVlIHRoYXQgY2FuIG5ldmVyIGFwcGVhciBhcyBhIHBhcnQgdmFsdWUgZXhjZXB0IHdoZW4gc2V0IGJ5XG4vLyBsaXZlKCkuIFVzZWQgdG8gZm9yY2UgYSBkaXJ0eS1jaGVjayB0byBmYWlsIGFuZCBjYXVzZSBhIHJlLXJlbmRlci5cbmNvbnN0IFJFU0VUX1ZBTFVFID0ge307XG5cbi8qKlxuICogU2V0cyB0aGUgY29tbWl0dGVkIHZhbHVlIG9mIGEgQ2hpbGRQYXJ0IGRpcmVjdGx5IHdpdGhvdXQgdHJpZ2dlcmluZyB0aGVcbiAqIGNvbW1pdCBzdGFnZSBvZiB0aGUgcGFydC5cbiAqXG4gKiBUaGlzIGlzIHVzZWZ1bCBpbiBjYXNlcyB3aGVyZSBhIGRpcmVjdGl2ZSBuZWVkcyB0byB1cGRhdGUgdGhlIHBhcnQgc3VjaFxuICogdGhhdCB0aGUgbmV4dCB1cGRhdGUgZGV0ZWN0cyBhIHZhbHVlIGNoYW5nZSBvciBub3QuIFdoZW4gdmFsdWUgaXMgb21pdHRlZCxcbiAqIHRoZSBuZXh0IHVwZGF0ZSB3aWxsIGJlIGd1YXJhbnRlZWQgdG8gYmUgZGV0ZWN0ZWQgYXMgYSBjaGFuZ2UuXG4gKlxuICogQHBhcmFtIHBhcnRcbiAqIEBwYXJhbSB2YWx1ZVxuICovXG5leHBvcnQgY29uc3Qgc2V0Q29tbWl0dGVkVmFsdWUgPSAocGFydDogUGFydCwgdmFsdWU6IHVua25vd24gPSBSRVNFVF9WQUxVRSkgPT5cbiAgKHBhcnQuXyRjb21taXR0ZWRWYWx1ZSA9IHZhbHVlKTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBjb21taXR0ZWQgdmFsdWUgb2YgYSBDaGlsZFBhcnQuXG4gKlxuICogVGhlIGNvbW1pdHRlZCB2YWx1ZSBpcyB1c2VkIGZvciBjaGFuZ2UgZGV0ZWN0aW9uIGFuZCBlZmZpY2llbnQgdXBkYXRlcyBvZlxuICogdGhlIHBhcnQuIEl0IGNhbiBkaWZmZXIgZnJvbSB0aGUgdmFsdWUgc2V0IGJ5IHRoZSB0ZW1wbGF0ZSBvciBkaXJlY3RpdmUgaW5cbiAqIGNhc2VzIHdoZXJlIHRoZSB0ZW1wbGF0ZSB2YWx1ZSBpcyB0cmFuc2Zvcm1lZCBiZWZvcmUgYmVpbmcgY29tbWl0ZWQuXG4gKlxuICogLSBgVGVtcGxhdGVSZXN1bHRgcyBhcmUgY29tbWl0dGVkIGFzIGEgYFRlbXBsYXRlSW5zdGFuY2VgXG4gKiAtIEl0ZXJhYmxlcyBhcmUgY29tbWl0dGVkIGFzIGBBcnJheTxDaGlsZFBhcnQ+YFxuICogLSBBbGwgb3RoZXIgdHlwZXMgYXJlIGNvbW1pdHRlZCBhcyB0aGUgdGVtcGxhdGUgdmFsdWUgb3IgdmFsdWUgcmV0dXJuZWQgb3JcbiAqICAgc2V0IGJ5IGEgZGlyZWN0aXZlLlxuICpcbiAqIEBwYXJhbSBwYXJ0XG4gKi9cbmV4cG9ydCBjb25zdCBnZXRDb21taXR0ZWRWYWx1ZSA9IChwYXJ0OiBDaGlsZFBhcnQpID0+IHBhcnQuXyRjb21taXR0ZWRWYWx1ZTtcblxuLyoqXG4gKiBSZW1vdmVzIGEgQ2hpbGRQYXJ0IGZyb20gdGhlIERPTSwgaW5jbHVkaW5nIGFueSBvZiBpdHMgY29udGVudC5cbiAqXG4gKiBAcGFyYW0gcGFydCBUaGUgUGFydCB0byByZW1vdmVcbiAqL1xuZXhwb3J0IGNvbnN0IHJlbW92ZVBhcnQgPSAocGFydDogQ2hpbGRQYXJ0KSA9PiB7XG4gIHBhcnQuXyRub3RpZnlDb25uZWN0aW9uQ2hhbmdlZD8uKGZhbHNlLCB0cnVlKTtcbiAgbGV0IHN0YXJ0OiBDaGlsZE5vZGUgfCBudWxsID0gcGFydC5fJHN0YXJ0Tm9kZTtcbiAgY29uc3QgZW5kOiBDaGlsZE5vZGUgfCBudWxsID0gd3JhcChwYXJ0Ll8kZW5kTm9kZSEpLm5leHRTaWJsaW5nO1xuICB3aGlsZSAoc3RhcnQgIT09IGVuZCkge1xuICAgIGNvbnN0IG46IENoaWxkTm9kZSB8IG51bGwgPSB3cmFwKHN0YXJ0ISkubmV4dFNpYmxpbmc7XG4gICAgKHdyYXAoc3RhcnQhKSBhcyBDaGlsZE5vZGUpLnJlbW92ZSgpO1xuICAgIHN0YXJ0ID0gbjtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGNsZWFyUGFydCA9IChwYXJ0OiBDaGlsZFBhcnQpID0+IHtcbiAgcGFydC5fJGNsZWFyKCk7XG59O1xuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuXG4vKipcbiAqIE92ZXJ2aWV3OlxuICpcbiAqIFRoaXMgbW9kdWxlIGlzIGRlc2lnbmVkIHRvIGFkZCBzdXBwb3J0IGZvciBhbiBhc3luYyBgc2V0VmFsdWVgIEFQSSBhbmRcbiAqIGBkaXNjb25uZWN0ZWRgIGNhbGxiYWNrIHRvIGRpcmVjdGl2ZXMgd2l0aCB0aGUgbGVhc3QgaW1wYWN0IG9uIHRoZSBjb3JlXG4gKiBydW50aW1lIG9yIHBheWxvYWQgd2hlbiB0aGF0IGZlYXR1cmUgaXMgbm90IHVzZWQuXG4gKlxuICogVGhlIHN0cmF0ZWd5IGlzIHRvIGludHJvZHVjZSBhIGBBc3luY0RpcmVjdGl2ZWAgc3ViY2xhc3Mgb2ZcbiAqIGBEaXJlY3RpdmVgIHRoYXQgY2xpbWJzIHRoZSBcInBhcmVudFwiIHRyZWUgaW4gaXRzIGNvbnN0cnVjdG9yIHRvIG5vdGUgd2hpY2hcbiAqIGJyYW5jaGVzIG9mIGxpdC1odG1sJ3MgXCJsb2dpY2FsIHRyZWVcIiBvZiBkYXRhIHN0cnVjdHVyZXMgY29udGFpbiBzdWNoXG4gKiBkaXJlY3RpdmVzIGFuZCB0aHVzIG5lZWQgdG8gYmUgY3Jhd2xlZCB3aGVuIGEgc3VidHJlZSBpcyBiZWluZyBjbGVhcmVkIChvclxuICogbWFudWFsbHkgZGlzY29ubmVjdGVkKSBpbiBvcmRlciB0byBydW4gdGhlIGBkaXNjb25uZWN0ZWRgIGNhbGxiYWNrLlxuICpcbiAqIFRoZSBcIm5vZGVzXCIgb2YgdGhlIGxvZ2ljYWwgdHJlZSBpbmNsdWRlIFBhcnRzLCBUZW1wbGF0ZUluc3RhbmNlcyAoZm9yIHdoZW4gYVxuICogVGVtcGxhdGVSZXN1bHQgaXMgY29tbWl0dGVkIHRvIGEgdmFsdWUgb2YgYSBDaGlsZFBhcnQpLCBhbmQgRGlyZWN0aXZlczsgdGhlc2VcbiAqIGFsbCBpbXBsZW1lbnQgYSBjb21tb24gaW50ZXJmYWNlIGNhbGxlZCBgRGlzY29ubmVjdGFibGVDaGlsZGAuIEVhY2ggaGFzIGFcbiAqIGBfJHBhcmVudGAgcmVmZXJlbmNlIHdoaWNoIGlzIHNldCBkdXJpbmcgY29uc3RydWN0aW9uIGluIHRoZSBjb3JlIGNvZGUsIGFuZCBhXG4gKiBgXyRkaXNjb25uZWN0YWJsZUNoaWxkcmVuYCBmaWVsZCB3aGljaCBpcyBpbml0aWFsbHkgdW5kZWZpbmVkLlxuICpcbiAqIFRoZSBzcGFyc2UgdHJlZSBjcmVhdGVkIGJ5IG1lYW5zIG9mIHRoZSBgQXN5bmNEaXJlY3RpdmVgIGNvbnN0cnVjdG9yXG4gKiBjcmF3bGluZyB1cCB0aGUgYF8kcGFyZW50YCB0cmVlIGFuZCBwbGFjaW5nIGEgYF8kZGlzY29ubmVjdGFibGVDaGlsZHJlbmAgU2V0XG4gKiBvbiBlYWNoIHBhcmVudCB0aGF0IGluY2x1ZGVzIGVhY2ggY2hpbGQgdGhhdCBjb250YWlucyBhXG4gKiBgQXN5bmNEaXJlY3RpdmVgIGRpcmVjdGx5IG9yIHRyYW5zaXRpdmVseSB2aWEgaXRzIGNoaWxkcmVuLiBJbiBvcmRlciB0b1xuICogbm90aWZ5IGNvbm5lY3Rpb24gc3RhdGUgY2hhbmdlcyBhbmQgZGlzY29ubmVjdCAob3IgcmVjb25uZWN0KSBhIHRyZWUsIHRoZVxuICogYF8kbm90aWZ5Q29ubmVjdGlvbkNoYW5nZWRgIEFQSSBpcyBwYXRjaGVkIG9udG8gQ2hpbGRQYXJ0cyBhcyBhIGRpcmVjdGl2ZVxuICogY2xpbWJzIHRoZSBwYXJlbnQgdHJlZSwgd2hpY2ggaXMgY2FsbGVkIGJ5IHRoZSBjb3JlIHdoZW4gY2xlYXJpbmcgYSBwYXJ0IGlmXG4gKiBpdCBleGlzdHMuIFdoZW4gY2FsbGVkLCB0aGF0IG1ldGhvZCBpdGVyYXRlcyBvdmVyIHRoZSBzcGFyc2UgdHJlZSBvZlxuICogU2V0PERpc2Nvbm5lY3RhYmxlQ2hpbGRyZW4+IGJ1aWx0IHVwIGJ5IEFzeW5jRGlyZWN0aXZlcywgYW5kIGNhbGxzXG4gKiBgXyRub3RpZnlEaXJlY3RpdmVDb25uZWN0aW9uQ2hhbmdlZGAgb24gYW55IGRpcmVjdGl2ZXMgdGhhdCBhcmUgZW5jb3VudGVyZWRcbiAqIGluIHRoYXQgdHJlZSwgcnVubmluZyB0aGUgcmVxdWlyZWQgY2FsbGJhY2tzLlxuICpcbiAqIEEgZ2l2ZW4gXCJsb2dpY2FsIHRyZWVcIiBvZiBsaXQtaHRtbCBkYXRhLXN0cnVjdHVyZXMgbWlnaHQgbG9vayBsaWtlIHRoaXM6XG4gKlxuICogIENoaWxkUGFydChOMSkgXyRkQz1bRDIsVDNdXG4gKiAgIC5fZGlyZWN0aXZlXG4gKiAgICAgQXN5bmNEaXJlY3RpdmUoRDIpXG4gKiAgIC5fdmFsdWUgLy8gdXNlciB2YWx1ZSB3YXMgVGVtcGxhdGVSZXN1bHRcbiAqICAgICBUZW1wbGF0ZUluc3RhbmNlKFQzKSBfJGRDPVtBNCxBNixOMTAsTjEyXVxuICogICAgICAuX3BhcnRzW11cbiAqICAgICAgICBBdHRyaWJ1dGVQYXJ0KEE0KSBfJGRDPVtENV1cbiAqICAgICAgICAgLl9kaXJlY3RpdmVzW11cbiAqICAgICAgICAgICBBc3luY0RpcmVjdGl2ZShENSlcbiAqICAgICAgICBBdHRyaWJ1dGVQYXJ0KEE2KSBfJGRDPVtENyxEOF1cbiAqICAgICAgICAgLl9kaXJlY3RpdmVzW11cbiAqICAgICAgICAgICBBc3luY0RpcmVjdGl2ZShENylcbiAqICAgICAgICAgICBEaXJlY3RpdmUoRDgpIF8kZEM9W0Q5XVxuICogICAgICAgICAgICAuX2RpcmVjdGl2ZVxuICogICAgICAgICAgICAgIEFzeW5jRGlyZWN0aXZlKEQ5KVxuICogICAgICAgIENoaWxkUGFydChOMTApIF8kZEM9W0QxMV1cbiAqICAgICAgICAgLl9kaXJlY3RpdmVcbiAqICAgICAgICAgICBBc3luY0RpcmVjdGl2ZShEMTEpXG4gKiAgICAgICAgIC5fdmFsdWVcbiAqICAgICAgICAgICBzdHJpbmdcbiAqICAgICAgICBDaGlsZFBhcnQoTjEyKSBfJGRDPVtEMTMsTjE0LE4xNl1cbiAqICAgICAgICAgLl9kaXJlY3RpdmVcbiAqICAgICAgICAgICBBc3luY0RpcmVjdGl2ZShEMTMpXG4gKiAgICAgICAgIC5fdmFsdWUgLy8gdXNlciB2YWx1ZSB3YXMgaXRlcmFibGVcbiAqICAgICAgICAgICBBcnJheTxDaGlsZFBhcnQ+XG4gKiAgICAgICAgICAgICBDaGlsZFBhcnQoTjE0KSBfJGRDPVtEMTVdXG4gKiAgICAgICAgICAgICAgLl92YWx1ZVxuICogICAgICAgICAgICAgICAgc3RyaW5nXG4gKiAgICAgICAgICAgICBDaGlsZFBhcnQoTjE2KSBfJGRDPVtEMTcsVDE4XVxuICogICAgICAgICAgICAgIC5fZGlyZWN0aXZlXG4gKiAgICAgICAgICAgICAgICBBc3luY0RpcmVjdGl2ZShEMTcpXG4gKiAgICAgICAgICAgICAgLl92YWx1ZSAvLyB1c2VyIHZhbHVlIHdhcyBUZW1wbGF0ZVJlc3VsdFxuICogICAgICAgICAgICAgICAgVGVtcGxhdGVJbnN0YW5jZShUMTgpIF8kZEM9W0ExOSxBMjEsTjI1XVxuICogICAgICAgICAgICAgICAgIC5fcGFydHNbXVxuICogICAgICAgICAgICAgICAgICAgQXR0cmlidXRlUGFydChBMTkpIF8kZEM9W0QyMF1cbiAqICAgICAgICAgICAgICAgICAgICAuX2RpcmVjdGl2ZXNbXVxuICogICAgICAgICAgICAgICAgICAgICAgQXN5bmNEaXJlY3RpdmUoRDIwKVxuICogICAgICAgICAgICAgICAgICAgQXR0cmlidXRlUGFydChBMjEpIF8kZEM9WzIyLDIzXVxuICogICAgICAgICAgICAgICAgICAgIC5fZGlyZWN0aXZlc1tdXG4gKiAgICAgICAgICAgICAgICAgICAgICBBc3luY0RpcmVjdGl2ZShEMjIpXG4gKiAgICAgICAgICAgICAgICAgICAgICBEaXJlY3RpdmUoRDIzKSBfJGRDPVtEMjRdXG4gKiAgICAgICAgICAgICAgICAgICAgICAgLl9kaXJlY3RpdmVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgIEFzeW5jRGlyZWN0aXZlKEQyNClcbiAqICAgICAgICAgICAgICAgICAgIENoaWxkUGFydChOMjUpIF8kZEM9W0QyNl1cbiAqICAgICAgICAgICAgICAgICAgICAuX2RpcmVjdGl2ZVxuICogICAgICAgICAgICAgICAgICAgICAgQXN5bmNEaXJlY3RpdmUoRDI2KVxuICogICAgICAgICAgICAgICAgICAgIC5fdmFsdWVcbiAqICAgICAgICAgICAgICAgICAgICAgIHN0cmluZ1xuICpcbiAqIEV4YW1wbGUgMTogVGhlIGRpcmVjdGl2ZSBpbiBDaGlsZFBhcnQoTjEyKSB1cGRhdGVzIGFuZCByZXR1cm5zIGBub3RoaW5nYC4gVGhlXG4gKiBDaGlsZFBhcnQgd2lsbCBfY2xlYXIoKSBpdHNlbGYsIGFuZCBzbyB3ZSBuZWVkIHRvIGRpc2Nvbm5lY3QgdGhlIFwidmFsdWVcIiBvZlxuICogdGhlIENoaWxkUGFydCAoYnV0IG5vdCBpdHMgZGlyZWN0aXZlKS4gSW4gdGhpcyBjYXNlLCB3aGVuIGBfY2xlYXIoKWAgY2FsbHNcbiAqIGBfJG5vdGlmeUNvbm5lY3Rpb25DaGFuZ2VkKClgLCB3ZSBkb24ndCBpdGVyYXRlIGFsbCBvZiB0aGVcbiAqIF8kZGlzY29ubmVjdGFibGVDaGlsZHJlbiwgcmF0aGVyIHdlIGRvIGEgdmFsdWUtc3BlY2lmaWMgZGlzY29ubmVjdGlvbjogaS5lLlxuICogc2luY2UgdGhlIF92YWx1ZSB3YXMgYW4gQXJyYXk8Q2hpbGRQYXJ0PiAoYmVjYXVzZSBhbiBpdGVyYWJsZSBoYWQgYmVlblxuICogY29tbWl0dGVkKSwgd2UgaXRlcmF0ZSB0aGUgYXJyYXkgb2YgQ2hpbGRQYXJ0cyAoTjE0LCBOMTYpIGFuZCBydW5cbiAqIGBzZXRDb25uZWN0ZWRgIG9uIHRoZW0gKHdoaWNoIGRvZXMgcmVjdXJzZSBkb3duIHRoZSBmdWxsIHRyZWUgb2ZcbiAqIGBfJGRpc2Nvbm5lY3RhYmxlQ2hpbGRyZW5gIGJlbG93IGl0LCBhbmQgYWxzbyByZW1vdmVzIE4xNCBhbmQgTjE2IGZyb20gTjEyJ3NcbiAqIGBfJGRpc2Nvbm5lY3RhYmxlQ2hpbGRyZW5gKS4gT25jZSB0aGUgdmFsdWVzIGhhdmUgYmVlbiBkaXNjb25uZWN0ZWQsIHdlIHRoZW5cbiAqIGNoZWNrIHdoZXRoZXIgdGhlIENoaWxkUGFydChOMTIpJ3MgbGlzdCBvZiBgXyRkaXNjb25uZWN0YWJsZUNoaWxkcmVuYCBpcyBlbXB0eVxuICogKGFuZCB3b3VsZCByZW1vdmUgaXQgZnJvbSBpdHMgcGFyZW50IFRlbXBsYXRlSW5zdGFuY2UoVDMpIGlmIHNvKSwgYnV0IHNpbmNlXG4gKiBpdCB3b3VsZCBzdGlsbCBjb250YWluIGl0cyBkaXJlY3RpdmUgRDEzLCBpdCBzdGF5cyBpbiB0aGUgZGlzY29ubmVjdGFibGVcbiAqIHRyZWUuXG4gKlxuICogRXhhbXBsZSAyOiBJbiB0aGUgY291cnNlIG9mIEV4YW1wbGUgMSwgYHNldENvbm5lY3RlZGAgd2lsbCByZWFjaFxuICogQ2hpbGRQYXJ0KE4xNik7IGluIHRoaXMgY2FzZSB0aGUgZW50aXJlIHBhcnQgaXMgYmVpbmcgZGlzY29ubmVjdGVkLCBzbyB3ZVxuICogc2ltcGx5IGl0ZXJhdGUgYWxsIG9mIE4xNidzIGBfJGRpc2Nvbm5lY3RhYmxlQ2hpbGRyZW5gIChEMTcsVDE4KSBhbmRcbiAqIHJlY3Vyc2l2ZWx5IHJ1biBgc2V0Q29ubmVjdGVkYCBvbiB0aGVtLiBOb3RlIHRoYXQgd2Ugb25seSByZW1vdmUgY2hpbGRyZW5cbiAqIGZyb20gYF8kZGlzY29ubmVjdGFibGVDaGlsZHJlbmAgZm9yIHRoZSB0b3AtbGV2ZWwgdmFsdWVzIGJlaW5nIGRpc2Nvbm5lY3RlZFxuICogb24gYSBjbGVhcjsgZG9pbmcgdGhpcyBib29ra2VlcGluZyBsb3dlciBpbiB0aGUgdHJlZSBpcyB3YXN0ZWZ1bCBzaW5jZSBpdCdzXG4gKiBhbGwgYmVpbmcgdGhyb3duIGF3YXkuXG4gKlxuICogRXhhbXBsZSAzOiBJZiB0aGUgTGl0RWxlbWVudCBjb250YWluaW5nIHRoZSBlbnRpcmUgdHJlZSBhYm92ZSBiZWNvbWVzXG4gKiBkaXNjb25uZWN0ZWQsIGl0IHdpbGwgcnVuIGBjaGlsZFBhcnQuc2V0Q29ubmVjdGVkKClgICh3aGljaCBjYWxsc1xuICogYGNoaWxkUGFydC5fJG5vdGlmeUNvbm5lY3Rpb25DaGFuZ2VkKClgIGlmIGl0IGV4aXN0cyk7IGluIHRoaXMgY2FzZSwgd2VcbiAqIHJlY3Vyc2l2ZWx5IHJ1biBgc2V0Q29ubmVjdGVkKClgIG92ZXIgdGhlIGVudGlyZSB0cmVlLCB3aXRob3V0IHJlbW92aW5nIGFueVxuICogY2hpbGRyZW4gZnJvbSBgXyRkaXNjb25uZWN0YWJsZUNoaWxkcmVuYCwgc2luY2UgdGhpcyB0cmVlIGlzIHJlcXVpcmVkIHRvXG4gKiByZS1jb25uZWN0IHRoZSB0cmVlLCB3aGljaCBkb2VzIHRoZSBzYW1lIG9wZXJhdGlvbiwgc2ltcGx5IHBhc3NpbmdcbiAqIGBpc0Nvbm5lY3RlZDogdHJ1ZWAgZG93biB0aGUgdHJlZSwgc2lnbmFsaW5nIHdoaWNoIGNhbGxiYWNrIHRvIHJ1bi5cbiAqL1xuXG5pbXBvcnQge0F0dHJpYnV0ZVBhcnQsIENoaWxkUGFydCwgRGlzY29ubmVjdGFibGUsIFBhcnR9IGZyb20gJy4vbGl0LWh0bWwuanMnO1xuaW1wb3J0IHtpc1NpbmdsZUV4cHJlc3Npb259IGZyb20gJy4vZGlyZWN0aXZlLWhlbHBlcnMuanMnO1xuaW1wb3J0IHtEaXJlY3RpdmUsIFBhcnRJbmZvLCBQYXJ0VHlwZX0gZnJvbSAnLi9kaXJlY3RpdmUuanMnO1xuZXhwb3J0IHtkaXJlY3RpdmV9IGZyb20gJy4vZGlyZWN0aXZlLmpzJztcblxuY29uc3QgREVWX01PREUgPSB0cnVlO1xuXG4vKipcbiAqIFJlY3Vyc2l2ZWx5IHdhbGtzIGRvd24gdGhlIHRyZWUgb2YgUGFydHMvVGVtcGxhdGVJbnN0YW5jZXMvRGlyZWN0aXZlcyB0byBzZXRcbiAqIHRoZSBjb25uZWN0ZWQgc3RhdGUgb2YgZGlyZWN0aXZlcyBhbmQgcnVuIGBkaXNjb25uZWN0ZWRgLyBgcmVjb25uZWN0ZWRgXG4gKiBjYWxsYmFja3MuXG4gKlxuICogQHJldHVybiBUcnVlIGlmIHRoZXJlIHdlcmUgY2hpbGRyZW4gdG8gZGlzY29ubmVjdDsgZmFsc2Ugb3RoZXJ3aXNlXG4gKi9cbmNvbnN0IG5vdGlmeUNoaWxkcmVuQ29ubmVjdGVkQ2hhbmdlZCA9IChcbiAgcGFyZW50OiBEaXNjb25uZWN0YWJsZSxcbiAgaXNDb25uZWN0ZWQ6IGJvb2xlYW5cbik6IGJvb2xlYW4gPT4ge1xuICBjb25zdCBjaGlsZHJlbiA9IHBhcmVudC5fJGRpc2Nvbm5lY3RhYmxlQ2hpbGRyZW47XG4gIGlmIChjaGlsZHJlbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGZvciAoY29uc3Qgb2JqIG9mIGNoaWxkcmVuKSB7XG4gICAgLy8gVGhlIGV4aXN0ZW5jZSBvZiBgXyRub3RpZnlEaXJlY3RpdmVDb25uZWN0aW9uQ2hhbmdlZGAgaXMgdXNlZCBhcyBhIFwiYnJhbmRcIiB0b1xuICAgIC8vIGRpc2FtYmlndWF0ZSBBc3luY0RpcmVjdGl2ZXMgZnJvbSBvdGhlciBEaXNjb25uZWN0YWJsZUNoaWxkcmVuXG4gICAgLy8gKGFzIG9wcG9zZWQgdG8gdXNpbmcgYW4gaW5zdGFuY2VvZiBjaGVjayB0byBrbm93IHdoZW4gdG8gY2FsbCBpdCk7IHRoZVxuICAgIC8vIHJlZHVuZGFuY3kgb2YgXCJEaXJlY3RpdmVcIiBpbiB0aGUgQVBJIG5hbWUgaXMgdG8gYXZvaWQgY29uZmxpY3Rpbmcgd2l0aFxuICAgIC8vIGBfJG5vdGlmeUNvbm5lY3Rpb25DaGFuZ2VkYCwgd2hpY2ggZXhpc3RzIGBDaGlsZFBhcnRzYCB3aGljaCBhcmUgYWxzbyBpblxuICAgIC8vIHRoaXMgbGlzdFxuICAgIC8vIERpc2Nvbm5lY3QgRGlyZWN0aXZlIChhbmQgYW55IG5lc3RlZCBkaXJlY3RpdmVzIGNvbnRhaW5lZCB3aXRoaW4pXG4gICAgLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgICAob2JqIGFzIEFzeW5jRGlyZWN0aXZlKVsnXyRub3RpZnlEaXJlY3RpdmVDb25uZWN0aW9uQ2hhbmdlZCddPy4oXG4gICAgICBpc0Nvbm5lY3RlZCxcbiAgICAgIGZhbHNlXG4gICAgKTtcbiAgICAvLyBEaXNjb25uZWN0IFBhcnQvVGVtcGxhdGVJbnN0YW5jZVxuICAgIG5vdGlmeUNoaWxkcmVuQ29ubmVjdGVkQ2hhbmdlZChvYmosIGlzQ29ubmVjdGVkKTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogUmVtb3ZlcyB0aGUgZ2l2ZW4gY2hpbGQgZnJvbSBpdHMgcGFyZW50IGxpc3Qgb2YgZGlzY29ubmVjdGFibGUgY2hpbGRyZW4sIGFuZFxuICogaWYgdGhlIHBhcmVudCBsaXN0IGJlY29tZXMgZW1wdHkgYXMgYSByZXN1bHQsIHJlbW92ZXMgdGhlIHBhcmVudCBmcm9tIGl0c1xuICogcGFyZW50LCBhbmQgc28gZm9ydGggdXAgdGhlIHRyZWUgd2hlbiB0aGF0IGNhdXNlcyBzdWJzZXF1ZW50IHBhcmVudCBsaXN0cyB0b1xuICogYmVjb21lIGVtcHR5LlxuICovXG5jb25zdCByZW1vdmVEaXNjb25uZWN0YWJsZUZyb21QYXJlbnQgPSAob2JqOiBEaXNjb25uZWN0YWJsZSkgPT4ge1xuICBsZXQgcGFyZW50LCBjaGlsZHJlbjtcbiAgZG8ge1xuICAgIGlmICgocGFyZW50ID0gb2JqLl8kcGFyZW50KSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY2hpbGRyZW4gPSBwYXJlbnQuXyRkaXNjb25uZWN0YWJsZUNoaWxkcmVuITtcbiAgICBjaGlsZHJlbi5kZWxldGUob2JqKTtcbiAgICBvYmogPSBwYXJlbnQ7XG4gIH0gd2hpbGUgKGNoaWxkcmVuPy5zaXplID09PSAwKTtcbn07XG5cbmNvbnN0IGFkZERpc2Nvbm5lY3RhYmxlVG9QYXJlbnQgPSAob2JqOiBEaXNjb25uZWN0YWJsZSkgPT4ge1xuICAvLyBDbGltYiB0aGUgcGFyZW50IHRyZWUsIGNyZWF0aW5nIGEgc3BhcnNlIHRyZWUgb2YgY2hpbGRyZW4gbmVlZGluZ1xuICAvLyBkaXNjb25uZWN0aW9uXG4gIGZvciAobGV0IHBhcmVudDsgKHBhcmVudCA9IG9iai5fJHBhcmVudCk7IG9iaiA9IHBhcmVudCkge1xuICAgIGxldCBjaGlsZHJlbiA9IHBhcmVudC5fJGRpc2Nvbm5lY3RhYmxlQ2hpbGRyZW47XG4gICAgaWYgKGNoaWxkcmVuID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHBhcmVudC5fJGRpc2Nvbm5lY3RhYmxlQ2hpbGRyZW4gPSBjaGlsZHJlbiA9IG5ldyBTZXQoKTtcbiAgICB9IGVsc2UgaWYgKGNoaWxkcmVuLmhhcyhvYmopKSB7XG4gICAgICAvLyBPbmNlIHdlJ3ZlIHJlYWNoZWQgYSBwYXJlbnQgdGhhdCBhbHJlYWR5IGNvbnRhaW5zIHRoaXMgY2hpbGQsIHdlXG4gICAgICAvLyBjYW4gc2hvcnQtY2lyY3VpdFxuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNoaWxkcmVuLmFkZChvYmopO1xuICAgIGluc3RhbGxEaXNjb25uZWN0QVBJKHBhcmVudCk7XG4gIH1cbn07XG5cbi8qKlxuICogQ2hhbmdlcyB0aGUgcGFyZW50IHJlZmVyZW5jZSBvZiB0aGUgQ2hpbGRQYXJ0LCBhbmQgdXBkYXRlcyB0aGUgc3BhcnNlIHRyZWUgb2ZcbiAqIERpc2Nvbm5lY3RhYmxlIGNoaWxkcmVuIGFjY29yZGluZ2x5LlxuICpcbiAqIE5vdGUsIHRoaXMgbWV0aG9kIHdpbGwgYmUgcGF0Y2hlZCBvbnRvIENoaWxkUGFydCBpbnN0YW5jZXMgYW5kIGNhbGxlZCBmcm9tXG4gKiB0aGUgY29yZSBjb2RlIHdoZW4gcGFydHMgYXJlIG1vdmVkIGJldHdlZW4gZGlmZmVyZW50IHBhcmVudHMuXG4gKi9cbmZ1bmN0aW9uIHJlcGFyZW50RGlzY29ubmVjdGFibGVzKHRoaXM6IENoaWxkUGFydCwgbmV3UGFyZW50OiBEaXNjb25uZWN0YWJsZSkge1xuICBpZiAodGhpcy5fJGRpc2Nvbm5lY3RhYmxlQ2hpbGRyZW4gIT09IHVuZGVmaW5lZCkge1xuICAgIHJlbW92ZURpc2Nvbm5lY3RhYmxlRnJvbVBhcmVudCh0aGlzKTtcbiAgICB0aGlzLl8kcGFyZW50ID0gbmV3UGFyZW50O1xuICAgIGFkZERpc2Nvbm5lY3RhYmxlVG9QYXJlbnQodGhpcyk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fJHBhcmVudCA9IG5ld1BhcmVudDtcbiAgfVxufVxuXG4vKipcbiAqIFNldHMgdGhlIGNvbm5lY3RlZCBzdGF0ZSBvbiBhbnkgZGlyZWN0aXZlcyBjb250YWluZWQgd2l0aGluIHRoZSBjb21taXR0ZWRcbiAqIHZhbHVlIG9mIHRoaXMgcGFydCAoaS5lLiB3aXRoaW4gYSBUZW1wbGF0ZUluc3RhbmNlIG9yIGl0ZXJhYmxlIG9mXG4gKiBDaGlsZFBhcnRzKSBhbmQgcnVucyB0aGVpciBgZGlzY29ubmVjdGVkYC9gcmVjb25uZWN0ZWRgcywgYXMgd2VsbCBhcyB3aXRoaW5cbiAqIGFueSBkaXJlY3RpdmVzIHN0b3JlZCBvbiB0aGUgQ2hpbGRQYXJ0ICh3aGVuIGB2YWx1ZU9ubHlgIGlzIGZhbHNlKS5cbiAqXG4gKiBgaXNDbGVhcmluZ1ZhbHVlYCBzaG91bGQgYmUgcGFzc2VkIGFzIGB0cnVlYCBvbiBhIHRvcC1sZXZlbCBwYXJ0IHRoYXQgaXNcbiAqIGNsZWFyaW5nIGl0c2VsZiwgYW5kIG5vdCBhcyBhIHJlc3VsdCBvZiByZWN1cnNpdmVseSBkaXNjb25uZWN0aW5nIGRpcmVjdGl2ZXNcbiAqIGFzIHBhcnQgb2YgYSBgY2xlYXJgIG9wZXJhdGlvbiBoaWdoZXIgdXAgdGhlIHRyZWUuIFRoaXMgYm90aCBlbnN1cmVzIHRoYXQgYW55XG4gKiBkaXJlY3RpdmUgb24gdGhpcyBDaGlsZFBhcnQgdGhhdCBwcm9kdWNlZCBhIHZhbHVlIHRoYXQgY2F1c2VkIHRoZSBjbGVhclxuICogb3BlcmF0aW9uIGlzIG5vdCBkaXNjb25uZWN0ZWQsIGFuZCBhbHNvIHNlcnZlcyBhcyBhIHBlcmZvcm1hbmNlIG9wdGltaXphdGlvblxuICogdG8gYXZvaWQgbmVlZGxlc3MgYm9va2tlZXBpbmcgd2hlbiBhIHN1YnRyZWUgaXMgZ29pbmcgYXdheTsgd2hlbiBjbGVhcmluZyBhXG4gKiBzdWJ0cmVlLCBvbmx5IHRoZSB0b3AtbW9zdCBwYXJ0IG5lZWQgdG8gcmVtb3ZlIGl0c2VsZiBmcm9tIHRoZSBwYXJlbnQuXG4gKlxuICogYGZyb21QYXJ0SW5kZXhgIGlzIHBhc3NlZCBvbmx5IGluIHRoZSBjYXNlIG9mIGEgcGFydGlhbCBgX2NsZWFyYCBydW5uaW5nIGFzIGFcbiAqIHJlc3VsdCBvZiB0cnVuY2F0aW5nIGFuIGl0ZXJhYmxlLlxuICpcbiAqIE5vdGUsIHRoaXMgbWV0aG9kIHdpbGwgYmUgcGF0Y2hlZCBvbnRvIENoaWxkUGFydCBpbnN0YW5jZXMgYW5kIGNhbGxlZCBmcm9tIHRoZVxuICogY29yZSBjb2RlIHdoZW4gcGFydHMgYXJlIGNsZWFyZWQgb3IgdGhlIGNvbm5lY3Rpb24gc3RhdGUgaXMgY2hhbmdlZCBieSB0aGVcbiAqIHVzZXIuXG4gKi9cbmZ1bmN0aW9uIG5vdGlmeUNoaWxkUGFydENvbm5lY3RlZENoYW5nZWQoXG4gIHRoaXM6IENoaWxkUGFydCxcbiAgaXNDb25uZWN0ZWQ6IGJvb2xlYW4sXG4gIGlzQ2xlYXJpbmdWYWx1ZSA9IGZhbHNlLFxuICBmcm9tUGFydEluZGV4ID0gMFxuKSB7XG4gIGNvbnN0IHZhbHVlID0gdGhpcy5fJGNvbW1pdHRlZFZhbHVlO1xuICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuXyRkaXNjb25uZWN0YWJsZUNoaWxkcmVuO1xuICBpZiAoY2hpbGRyZW4gPT09IHVuZGVmaW5lZCB8fCBjaGlsZHJlbi5zaXplID09PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChpc0NsZWFyaW5nVmFsdWUpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIC8vIEl0ZXJhYmxlIGNhc2U6IEFueSBDaGlsZFBhcnRzIGNyZWF0ZWQgYnkgdGhlIGl0ZXJhYmxlIHNob3VsZCBiZVxuICAgICAgLy8gZGlzY29ubmVjdGVkIGFuZCByZW1vdmVkIGZyb20gdGhpcyBDaGlsZFBhcnQncyBkaXNjb25uZWN0YWJsZVxuICAgICAgLy8gY2hpbGRyZW4gKHN0YXJ0aW5nIGF0IGBmcm9tUGFydEluZGV4YCBpbiB0aGUgY2FzZSBvZiB0cnVuY2F0aW9uKVxuICAgICAgZm9yIChsZXQgaSA9IGZyb21QYXJ0SW5kZXg7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBub3RpZnlDaGlsZHJlbkNvbm5lY3RlZENoYW5nZWQodmFsdWVbaV0sIGZhbHNlKTtcbiAgICAgICAgcmVtb3ZlRGlzY29ubmVjdGFibGVGcm9tUGFyZW50KHZhbHVlW2ldKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgIC8vIFRlbXBsYXRlSW5zdGFuY2UgY2FzZTogSWYgdGhlIHZhbHVlIGhhcyBkaXNjb25uZWN0YWJsZSBjaGlsZHJlbiAod2lsbFxuICAgICAgLy8gb25seSBiZSBpbiB0aGUgY2FzZSB0aGF0IGl0IGlzIGEgVGVtcGxhdGVJbnN0YW5jZSksIHdlIGRpc2Nvbm5lY3QgaXRcbiAgICAgIC8vIGFuZCByZW1vdmUgaXQgZnJvbSB0aGlzIENoaWxkUGFydCdzIGRpc2Nvbm5lY3RhYmxlIGNoaWxkcmVuXG4gICAgICBub3RpZnlDaGlsZHJlbkNvbm5lY3RlZENoYW5nZWQodmFsdWUgYXMgRGlzY29ubmVjdGFibGUsIGZhbHNlKTtcbiAgICAgIHJlbW92ZURpc2Nvbm5lY3RhYmxlRnJvbVBhcmVudCh2YWx1ZSBhcyBEaXNjb25uZWN0YWJsZSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIG5vdGlmeUNoaWxkcmVuQ29ubmVjdGVkQ2hhbmdlZCh0aGlzLCBpc0Nvbm5lY3RlZCk7XG4gIH1cbn1cblxuLyoqXG4gKiBQYXRjaGVzIGRpc2Nvbm5lY3Rpb24gQVBJIG9udG8gQ2hpbGRQYXJ0cy5cbiAqL1xuY29uc3QgaW5zdGFsbERpc2Nvbm5lY3RBUEkgPSAob2JqOiBEaXNjb25uZWN0YWJsZSkgPT4ge1xuICBpZiAoKG9iaiBhcyBDaGlsZFBhcnQpLnR5cGUgPT0gUGFydFR5cGUuQ0hJTEQpIHtcbiAgICAob2JqIGFzIENoaWxkUGFydCkuXyRub3RpZnlDb25uZWN0aW9uQ2hhbmdlZCA/Pz1cbiAgICAgIG5vdGlmeUNoaWxkUGFydENvbm5lY3RlZENoYW5nZWQ7XG4gICAgKG9iaiBhcyBDaGlsZFBhcnQpLl8kcmVwYXJlbnREaXNjb25uZWN0YWJsZXMgPz89IHJlcGFyZW50RGlzY29ubmVjdGFibGVzO1xuICB9XG59O1xuXG4vKipcbiAqIEFuIGFic3RyYWN0IGBEaXJlY3RpdmVgIGJhc2UgY2xhc3Mgd2hvc2UgYGRpc2Nvbm5lY3RlZGAgbWV0aG9kIHdpbGwgYmVcbiAqIGNhbGxlZCB3aGVuIHRoZSBwYXJ0IGNvbnRhaW5pbmcgdGhlIGRpcmVjdGl2ZSBpcyBjbGVhcmVkIGFzIGEgcmVzdWx0IG9mXG4gKiByZS1yZW5kZXJpbmcsIG9yIHdoZW4gdGhlIHVzZXIgY2FsbHMgYHBhcnQuc2V0Q29ubmVjdGVkKGZhbHNlKWAgb25cbiAqIGEgcGFydCB0aGF0IHdhcyBwcmV2aW91c2x5IHJlbmRlcmVkIGNvbnRhaW5pbmcgdGhlIGRpcmVjdGl2ZSAoYXMgaGFwcGVuc1xuICogd2hlbiBlLmcuIGEgTGl0RWxlbWVudCBkaXNjb25uZWN0cyBmcm9tIHRoZSBET00pLlxuICpcbiAqIElmIGBwYXJ0LnNldENvbm5lY3RlZCh0cnVlKWAgaXMgc3Vic2VxdWVudGx5IGNhbGxlZCBvbiBhXG4gKiBjb250YWluaW5nIHBhcnQsIHRoZSBkaXJlY3RpdmUncyBgcmVjb25uZWN0ZWRgIG1ldGhvZCB3aWxsIGJlIGNhbGxlZCBwcmlvclxuICogdG8gaXRzIG5leHQgYHVwZGF0ZWAvYHJlbmRlcmAgY2FsbGJhY2tzLiBXaGVuIGltcGxlbWVudGluZyBgZGlzY29ubmVjdGVkYCxcbiAqIGByZWNvbm5lY3RlZGAgc2hvdWxkIGFsc28gYmUgaW1wbGVtZW50ZWQgdG8gYmUgY29tcGF0aWJsZSB3aXRoIHJlY29ubmVjdGlvbi5cbiAqXG4gKiBOb3RlIHRoYXQgdXBkYXRlcyBtYXkgb2NjdXIgd2hpbGUgdGhlIGRpcmVjdGl2ZSBpcyBkaXNjb25uZWN0ZWQuIEFzIHN1Y2gsXG4gKiBkaXJlY3RpdmVzIHNob3VsZCBnZW5lcmFsbHkgY2hlY2sgdGhlIGB0aGlzLmlzQ29ubmVjdGVkYCBmbGFnIGR1cmluZ1xuICogcmVuZGVyL3VwZGF0ZSB0byBkZXRlcm1pbmUgd2hldGhlciBpdCBpcyBzYWZlIHRvIHN1YnNjcmliZSB0byByZXNvdXJjZXNcbiAqIHRoYXQgbWF5IHByZXZlbnQgZ2FyYmFnZSBjb2xsZWN0aW9uLlxuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQXN5bmNEaXJlY3RpdmUgZXh0ZW5kcyBEaXJlY3RpdmUge1xuICAvLyBBcyBvcHBvc2VkIHRvIG90aGVyIERpc2Nvbm5lY3RhYmxlcywgQXN5bmNEaXJlY3RpdmVzIGFsd2F5cyBnZXQgbm90aWZpZWRcbiAgLy8gd2hlbiB0aGUgUm9vdFBhcnQgY29ubmVjdGlvbiBjaGFuZ2VzLCBzbyB0aGUgcHVibGljIGBpc0Nvbm5lY3RlZGBcbiAgLy8gaXMgYSBsb2NhbGx5IHN0b3JlZCB2YXJpYWJsZSBpbml0aWFsaXplZCB2aWEgaXRzIHBhcnQncyBnZXR0ZXIgYW5kIHN5bmNlZFxuICAvLyB2aWEgYF8kbm90aWZ5RGlyZWN0aXZlQ29ubmVjdGlvbkNoYW5nZWRgLiBUaGlzIGlzIGNoZWFwZXIgdGhhbiB1c2luZ1xuICAvLyB0aGUgXyRpc0Nvbm5lY3RlZCBnZXR0ZXIsIHdoaWNoIGhhcyB0byBsb29rIGJhY2sgdXAgdGhlIHRyZWUgZWFjaCB0aW1lLlxuICAvKipcbiAgICogVGhlIGNvbm5lY3Rpb24gc3RhdGUgZm9yIHRoaXMgRGlyZWN0aXZlLlxuICAgKi9cbiAgaXNDb25uZWN0ZWQhOiBib29sZWFuO1xuXG4gIC8vIEBpbnRlcm5hbFxuICBvdmVycmlkZSBfJGRpc2Nvbm5lY3RhYmxlQ2hpbGRyZW4/OiBTZXQ8RGlzY29ubmVjdGFibGU+ID0gdW5kZWZpbmVkO1xuICAvKipcbiAgICogSW5pdGlhbGl6ZSB0aGUgcGFydCB3aXRoIGludGVybmFsIGZpZWxkc1xuICAgKiBAcGFyYW0gcGFydFxuICAgKiBAcGFyYW0gcGFyZW50XG4gICAqIEBwYXJhbSBhdHRyaWJ1dGVJbmRleFxuICAgKi9cbiAgb3ZlcnJpZGUgXyRpbml0aWFsaXplKFxuICAgIHBhcnQ6IFBhcnQsXG4gICAgcGFyZW50OiBEaXNjb25uZWN0YWJsZSxcbiAgICBhdHRyaWJ1dGVJbmRleDogbnVtYmVyIHwgdW5kZWZpbmVkXG4gICkge1xuICAgIHN1cGVyLl8kaW5pdGlhbGl6ZShwYXJ0LCBwYXJlbnQsIGF0dHJpYnV0ZUluZGV4KTtcbiAgICBhZGREaXNjb25uZWN0YWJsZVRvUGFyZW50KHRoaXMpO1xuICAgIHRoaXMuaXNDb25uZWN0ZWQgPSBwYXJ0Ll8kaXNDb25uZWN0ZWQ7XG4gIH1cbiAgLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgLyoqXG4gICAqIENhbGxlZCBmcm9tIHRoZSBjb3JlIGNvZGUgd2hlbiBhIGRpcmVjdGl2ZSBpcyBnb2luZyBhd2F5IGZyb20gYSBwYXJ0IChpblxuICAgKiB3aGljaCBjYXNlIGBzaG91bGRSZW1vdmVGcm9tUGFyZW50YCBzaG91bGQgYmUgdHJ1ZSksIGFuZCBmcm9tIHRoZVxuICAgKiBgc2V0Q2hpbGRyZW5Db25uZWN0ZWRgIGhlbHBlciBmdW5jdGlvbiB3aGVuIHJlY3Vyc2l2ZWx5IGNoYW5naW5nIHRoZVxuICAgKiBjb25uZWN0aW9uIHN0YXRlIG9mIGEgdHJlZSAoaW4gd2hpY2ggY2FzZSBgc2hvdWxkUmVtb3ZlRnJvbVBhcmVudGAgc2hvdWxkXG4gICAqIGJlIGZhbHNlKS5cbiAgICpcbiAgICogQHBhcmFtIGlzQ29ubmVjdGVkXG4gICAqIEBwYXJhbSBpc0NsZWFyaW5nRGlyZWN0aXZlIC0gVHJ1ZSB3aGVuIHRoZSBkaXJlY3RpdmUgaXRzZWxmIGlzIGJlaW5nXG4gICAqICAgICByZW1vdmVkOyBmYWxzZSB3aGVuIHRoZSB0cmVlIGlzIGJlaW5nIGRpc2Nvbm5lY3RlZFxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIG92ZXJyaWRlIFsnXyRub3RpZnlEaXJlY3RpdmVDb25uZWN0aW9uQ2hhbmdlZCddKFxuICAgIGlzQ29ubmVjdGVkOiBib29sZWFuLFxuICAgIGlzQ2xlYXJpbmdEaXJlY3RpdmUgPSB0cnVlXG4gICkge1xuICAgIGlmIChpc0Nvbm5lY3RlZCAhPT0gdGhpcy5pc0Nvbm5lY3RlZCkge1xuICAgICAgdGhpcy5pc0Nvbm5lY3RlZCA9IGlzQ29ubmVjdGVkO1xuICAgICAgaWYgKGlzQ29ubmVjdGVkKSB7XG4gICAgICAgIHRoaXMucmVjb25uZWN0ZWQ/LigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5kaXNjb25uZWN0ZWQ/LigpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNDbGVhcmluZ0RpcmVjdGl2ZSkge1xuICAgICAgbm90aWZ5Q2hpbGRyZW5Db25uZWN0ZWRDaGFuZ2VkKHRoaXMsIGlzQ29ubmVjdGVkKTtcbiAgICAgIHJlbW92ZURpc2Nvbm5lY3RhYmxlRnJvbVBhcmVudCh0aGlzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgdmFsdWUgb2YgdGhlIGRpcmVjdGl2ZSdzIFBhcnQgb3V0c2lkZSB0aGUgbm9ybWFsIGB1cGRhdGVgL2ByZW5kZXJgXG4gICAqIGxpZmVjeWNsZSBvZiBhIGRpcmVjdGl2ZS5cbiAgICpcbiAgICogVGhpcyBtZXRob2Qgc2hvdWxkIG5vdCBiZSBjYWxsZWQgc3luY2hyb25vdXNseSBmcm9tIGEgZGlyZWN0aXZlJ3MgYHVwZGF0ZWBcbiAgICogb3IgYHJlbmRlcmAuXG4gICAqXG4gICAqIEBwYXJhbSBkaXJlY3RpdmUgVGhlIGRpcmVjdGl2ZSB0byB1cGRhdGVcbiAgICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byBzZXRcbiAgICovXG4gIHNldFZhbHVlKHZhbHVlOiB1bmtub3duKSB7XG4gICAgaWYgKGlzU2luZ2xlRXhwcmVzc2lvbih0aGlzLl9fcGFydCBhcyB1bmtub3duIGFzIFBhcnRJbmZvKSkge1xuICAgICAgdGhpcy5fX3BhcnQuXyRzZXRWYWx1ZSh2YWx1ZSwgdGhpcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHRoaXMuX19hdHRyaWJ1dGVJbmRleCB3aWxsIGJlIGRlZmluZWQgaW4gdGhpcyBjYXNlLCBidXRcbiAgICAgIC8vIGFzc2VydCBpdCBpbiBkZXYgbW9kZVxuICAgICAgaWYgKERFVl9NT0RFICYmIHRoaXMuX19hdHRyaWJ1dGVJbmRleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgdGhpcy5fX2F0dHJpYnV0ZUluZGV4IHRvIGJlIGEgbnVtYmVyYCk7XG4gICAgICB9XG4gICAgICBjb25zdCBuZXdWYWx1ZXMgPSBbLi4uKHRoaXMuX19wYXJ0Ll8kY29tbWl0dGVkVmFsdWUgYXMgQXJyYXk8dW5rbm93bj4pXTtcbiAgICAgIG5ld1ZhbHVlc1t0aGlzLl9fYXR0cmlidXRlSW5kZXghXSA9IHZhbHVlO1xuICAgICAgKHRoaXMuX19wYXJ0IGFzIEF0dHJpYnV0ZVBhcnQpLl8kc2V0VmFsdWUobmV3VmFsdWVzLCB0aGlzLCAwKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXNlciBjYWxsYmFja3MgZm9yIGltcGxlbWVudGluZyBsb2dpYyB0byByZWxlYXNlIGFueSByZXNvdXJjZXMvc3Vic2NyaXB0aW9uc1xuICAgKiB0aGF0IG1heSBoYXZlIGJlZW4gcmV0YWluZWQgYnkgdGhpcyBkaXJlY3RpdmUuIFNpbmNlIGRpcmVjdGl2ZXMgbWF5IGFsc28gYmVcbiAgICogcmUtY29ubmVjdGVkLCBgcmVjb25uZWN0ZWRgIHNob3VsZCBhbHNvIGJlIGltcGxlbWVudGVkIHRvIHJlc3RvcmUgdGhlXG4gICAqIHdvcmtpbmcgc3RhdGUgb2YgdGhlIGRpcmVjdGl2ZSBwcmlvciB0byB0aGUgbmV4dCByZW5kZXIuXG4gICAqL1xuICBwcm90ZWN0ZWQgZGlzY29ubmVjdGVkKCkge31cbiAgcHJvdGVjdGVkIHJlY29ubmVjdGVkKCkge31cbn1cbiIsICIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cbmltcG9ydCB7bm90aGluZywgRWxlbWVudFBhcnR9IGZyb20gJy4uL2xpdC1odG1sLmpzJztcbmltcG9ydCB7ZGlyZWN0aXZlLCBBc3luY0RpcmVjdGl2ZX0gZnJvbSAnLi4vYXN5bmMtZGlyZWN0aXZlLmpzJztcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFJlZiBvYmplY3QsIHdoaWNoIGlzIGNvbnRhaW5lciBmb3IgYSByZWZlcmVuY2UgdG8gYW4gZWxlbWVudC5cbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZVJlZiA9IDxUID0gRWxlbWVudD4oKSA9PiBuZXcgUmVmPFQ+KCk7XG5cbi8qKlxuICogQW4gb2JqZWN0IHRoYXQgaG9sZHMgYSByZWYgdmFsdWUuXG4gKi9cbmNsYXNzIFJlZjxUID0gRWxlbWVudD4ge1xuICAvKipcbiAgICogVGhlIGN1cnJlbnQgRWxlbWVudCB2YWx1ZSBvZiB0aGUgcmVmLCBvciBlbHNlIGB1bmRlZmluZWRgIGlmIHRoZSByZWYgaXMgbm9cbiAgICogbG9uZ2VyIHJlbmRlcmVkLlxuICAgKi9cbiAgcmVhZG9ubHkgdmFsdWU/OiBUO1xufVxuXG5leHBvcnQgdHlwZSB7UmVmfTtcblxuaW50ZXJmYWNlIFJlZkludGVybmFsIHtcbiAgdmFsdWU6IEVsZW1lbnQgfCB1bmRlZmluZWQ7XG59XG5cbi8vIFdoZW4gY2FsbGJhY2tzIGFyZSB1c2VkIGZvciByZWZzLCB0aGlzIG1hcCB0cmFja3MgdGhlIGxhc3QgdmFsdWUgdGhlIGNhbGxiYWNrXG4vLyB3YXMgY2FsbGVkIHdpdGgsIGZvciBlbnN1cmluZyBhIGRpcmVjdGl2ZSBkb2Vzbid0IGNsZWFyIHRoZSByZWYgaWYgdGhlIHJlZlxuLy8gaGFzIGFscmVhZHkgYmVlbiByZW5kZXJlZCB0byBhIG5ldyBzcG90LiBJdCBpcyBkb3VibGUta2V5ZWQgb24gYm90aCB0aGVcbi8vIGNvbnRleHQgKGBvcHRpb25zLmhvc3RgKSBhbmQgdGhlIGNhbGxiYWNrLCBzaW5jZSB3ZSBhdXRvLWJpbmQgY2xhc3MgbWV0aG9kc1xuLy8gdG8gYG9wdGlvbnMuaG9zdGAuXG5jb25zdCBsYXN0RWxlbWVudEZvckNvbnRleHRBbmRDYWxsYmFjazogV2Vha01hcDxcbiAgb2JqZWN0LFxuICBXZWFrTWFwPEZ1bmN0aW9uLCBFbGVtZW50IHwgdW5kZWZpbmVkPlxuPiA9IG5ldyBXZWFrTWFwKCk7XG5cbmV4cG9ydCB0eXBlIFJlZk9yQ2FsbGJhY2sgPSBSZWYgfCAoKGVsOiBFbGVtZW50IHwgdW5kZWZpbmVkKSA9PiB2b2lkKTtcblxuY2xhc3MgUmVmRGlyZWN0aXZlIGV4dGVuZHMgQXN5bmNEaXJlY3RpdmUge1xuICBwcml2YXRlIF9lbGVtZW50PzogRWxlbWVudDtcbiAgcHJpdmF0ZSBfcmVmPzogUmVmT3JDYWxsYmFjaztcbiAgcHJpdmF0ZSBfY29udGV4dD86IG9iamVjdDtcblxuICByZW5kZXIoX3JlZjogUmVmT3JDYWxsYmFjaykge1xuICAgIHJldHVybiBub3RoaW5nO1xuICB9XG5cbiAgb3ZlcnJpZGUgdXBkYXRlKHBhcnQ6IEVsZW1lbnRQYXJ0LCBbcmVmXTogUGFyYW1ldGVyczx0aGlzWydyZW5kZXInXT4pIHtcbiAgICBjb25zdCByZWZDaGFuZ2VkID0gcmVmICE9PSB0aGlzLl9yZWY7XG4gICAgaWYgKHJlZkNoYW5nZWQgJiYgdGhpcy5fcmVmICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIFRoZSByZWYgcGFzc2VkIHRvIHRoZSBkaXJlY3RpdmUgaGFzIGNoYW5nZWQ7XG4gICAgICAvLyB1bnNldCB0aGUgcHJldmlvdXMgcmVmJ3MgdmFsdWVcbiAgICAgIHRoaXMuX3VwZGF0ZVJlZlZhbHVlKHVuZGVmaW5lZCk7XG4gICAgfVxuICAgIGlmIChyZWZDaGFuZ2VkIHx8IHRoaXMuX2xhc3RFbGVtZW50Rm9yUmVmICE9PSB0aGlzLl9lbGVtZW50KSB7XG4gICAgICAvLyBXZSBlaXRoZXIgZ290IGEgbmV3IHJlZiBvciB0aGlzIGlzIHRoZSBmaXJzdCByZW5kZXI7XG4gICAgICAvLyBzdG9yZSB0aGUgcmVmL2VsZW1lbnQgJiB1cGRhdGUgdGhlIHJlZiB2YWx1ZVxuICAgICAgdGhpcy5fcmVmID0gcmVmO1xuICAgICAgdGhpcy5fY29udGV4dCA9IHBhcnQub3B0aW9ucz8uaG9zdDtcbiAgICAgIHRoaXMuX3VwZGF0ZVJlZlZhbHVlKCh0aGlzLl9lbGVtZW50ID0gcGFydC5lbGVtZW50KSk7XG4gICAgfVxuICAgIHJldHVybiBub3RoaW5nO1xuICB9XG5cbiAgcHJpdmF0ZSBfdXBkYXRlUmVmVmFsdWUoZWxlbWVudDogRWxlbWVudCB8IHVuZGVmaW5lZCkge1xuICAgIGlmICh0eXBlb2YgdGhpcy5fcmVmID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAvLyBJZiB0aGUgY3VycmVudCByZWYgd2FzIGNhbGxlZCB3aXRoIGEgcHJldmlvdXMgdmFsdWUsIGNhbGwgd2l0aFxuICAgICAgLy8gYHVuZGVmaW5lZGA7IFdlIGRvIHRoaXMgdG8gZW5zdXJlIGNhbGxiYWNrcyBhcmUgY2FsbGVkIGluIGEgY29uc2lzdGVudFxuICAgICAgLy8gd2F5IHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciBhIHJlZiBtaWdodCBiZSBtb3ZpbmcgdXAgaW4gdGhlIHRyZWUgKGluXG4gICAgICAvLyB3aGljaCBjYXNlIGl0IHdvdWxkIG90aGVyd2lzZSBiZSBjYWxsZWQgd2l0aCB0aGUgbmV3IHZhbHVlIGJlZm9yZSB0aGVcbiAgICAgIC8vIHByZXZpb3VzIG9uZSB1bnNldHMgaXQpIGFuZCBkb3duIGluIHRoZSB0cmVlICh3aGVyZSBpdCB3b3VsZCBiZSB1bnNldFxuICAgICAgLy8gYmVmb3JlIGJlaW5nIHNldCkuIE5vdGUgdGhhdCBlbGVtZW50IGxvb2t1cCBpcyBrZXllZCBieVxuICAgICAgLy8gYm90aCB0aGUgY29udGV4dCBhbmQgdGhlIGNhbGxiYWNrLCBzaW5jZSB3ZSBhbGxvdyBwYXNzaW5nIHVuYm91bmRcbiAgICAgIC8vIGZ1bmN0aW9ucyB0aGF0IGFyZSBjYWxsZWQgb24gb3B0aW9ucy5ob3N0LCBhbmQgd2Ugd2FudCB0byB0cmVhdFxuICAgICAgLy8gdGhlc2UgYXMgdW5pcXVlIFwiaW5zdGFuY2VzXCIgb2YgYSBmdW5jdGlvbi5cbiAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLl9jb250ZXh0ID8/IGdsb2JhbFRoaXM7XG4gICAgICBsZXQgbGFzdEVsZW1lbnRGb3JDYWxsYmFjayA9XG4gICAgICAgIGxhc3RFbGVtZW50Rm9yQ29udGV4dEFuZENhbGxiYWNrLmdldChjb250ZXh0KTtcbiAgICAgIGlmIChsYXN0RWxlbWVudEZvckNhbGxiYWNrID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbGFzdEVsZW1lbnRGb3JDYWxsYmFjayA9IG5ldyBXZWFrTWFwKCk7XG4gICAgICAgIGxhc3RFbGVtZW50Rm9yQ29udGV4dEFuZENhbGxiYWNrLnNldChjb250ZXh0LCBsYXN0RWxlbWVudEZvckNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICAgIGlmIChsYXN0RWxlbWVudEZvckNhbGxiYWNrLmdldCh0aGlzLl9yZWYpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5fcmVmLmNhbGwodGhpcy5fY29udGV4dCwgdW5kZWZpbmVkKTtcbiAgICAgIH1cbiAgICAgIGxhc3RFbGVtZW50Rm9yQ2FsbGJhY2suc2V0KHRoaXMuX3JlZiwgZWxlbWVudCk7XG4gICAgICAvLyBDYWxsIHRoZSByZWYgd2l0aCB0aGUgbmV3IGVsZW1lbnQgdmFsdWVcbiAgICAgIGlmIChlbGVtZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5fcmVmLmNhbGwodGhpcy5fY29udGV4dCwgZWxlbWVudCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICh0aGlzLl9yZWYgYXMgUmVmSW50ZXJuYWwpIS52YWx1ZSA9IGVsZW1lbnQ7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXQgX2xhc3RFbGVtZW50Rm9yUmVmKCkge1xuICAgIHJldHVybiB0eXBlb2YgdGhpcy5fcmVmID09PSAnZnVuY3Rpb24nXG4gICAgICA/IGxhc3RFbGVtZW50Rm9yQ29udGV4dEFuZENhbGxiYWNrXG4gICAgICAgICAgLmdldCh0aGlzLl9jb250ZXh0ID8/IGdsb2JhbFRoaXMpXG4gICAgICAgICAgPy5nZXQodGhpcy5fcmVmKVxuICAgICAgOiB0aGlzLl9yZWY/LnZhbHVlO1xuICB9XG5cbiAgb3ZlcnJpZGUgZGlzY29ubmVjdGVkKCkge1xuICAgIC8vIE9ubHkgY2xlYXIgdGhlIGJveCBpZiBvdXIgZWxlbWVudCBpcyBzdGlsbCB0aGUgb25lIGluIGl0IChpLmUuIGFub3RoZXJcbiAgICAvLyBkaXJlY3RpdmUgaW5zdGFuY2UgaGFzbid0IHJlbmRlcmVkIGl0cyBlbGVtZW50IHRvIGl0IGJlZm9yZSB1cyk7IHRoYXRcbiAgICAvLyBvbmx5IGhhcHBlbnMgaW4gdGhlIGV2ZW50IG9mIHRoZSBkaXJlY3RpdmUgYmVpbmcgY2xlYXJlZCAobm90IHZpYSBtYW51YWxcbiAgICAvLyBkaXNjb25uZWN0aW9uKVxuICAgIGlmICh0aGlzLl9sYXN0RWxlbWVudEZvclJlZiA9PT0gdGhpcy5fZWxlbWVudCkge1xuICAgICAgdGhpcy5fdXBkYXRlUmVmVmFsdWUodW5kZWZpbmVkKTtcbiAgICB9XG4gIH1cblxuICBvdmVycmlkZSByZWNvbm5lY3RlZCgpIHtcbiAgICAvLyBJZiB3ZSB3ZXJlIG1hbnVhbGx5IGRpc2Nvbm5lY3RlZCwgd2UgY2FuIHNhZmVseSBwdXQgb3VyIGVsZW1lbnQgYmFjayBpblxuICAgIC8vIHRoZSBib3gsIHNpbmNlIG5vIHJlbmRlcmluZyBjb3VsZCBoYXZlIG9jY3VycmVkIHRvIGNoYW5nZSBpdHMgc3RhdGVcbiAgICB0aGlzLl91cGRhdGVSZWZWYWx1ZSh0aGlzLl9lbGVtZW50KTtcbiAgfVxufVxuXG4vKipcbiAqIFNldHMgdGhlIHZhbHVlIG9mIGEgUmVmIG9iamVjdCBvciBjYWxscyBhIHJlZiBjYWxsYmFjayB3aXRoIHRoZSBlbGVtZW50IGl0J3NcbiAqIGJvdW5kIHRvLlxuICpcbiAqIEEgUmVmIG9iamVjdCBhY3RzIGFzIGEgY29udGFpbmVyIGZvciBhIHJlZmVyZW5jZSB0byBhbiBlbGVtZW50LiBBIHJlZlxuICogY2FsbGJhY2sgaXMgYSBmdW5jdGlvbiB0aGF0IHRha2VzIGFuIGVsZW1lbnQgYXMgaXRzIG9ubHkgYXJndW1lbnQuXG4gKlxuICogVGhlIHJlZiBkaXJlY3RpdmUgc2V0cyB0aGUgdmFsdWUgb2YgdGhlIFJlZiBvYmplY3Qgb3IgY2FsbHMgdGhlIHJlZiBjYWxsYmFja1xuICogZHVyaW5nIHJlbmRlcmluZywgaWYgdGhlIHJlZmVyZW5jZWQgZWxlbWVudCBjaGFuZ2VkLlxuICpcbiAqIE5vdGU6IElmIGEgcmVmIGNhbGxiYWNrIGlzIHJlbmRlcmVkIHRvIGEgZGlmZmVyZW50IGVsZW1lbnQgcG9zaXRpb24gb3IgaXNcbiAqIHJlbW92ZWQgaW4gYSBzdWJzZXF1ZW50IHJlbmRlciwgaXQgd2lsbCBmaXJzdCBiZSBjYWxsZWQgd2l0aCBgdW5kZWZpbmVkYCxcbiAqIGZvbGxvd2VkIGJ5IGFub3RoZXIgY2FsbCB3aXRoIHRoZSBuZXcgZWxlbWVudCBpdCB3YXMgcmVuZGVyZWQgdG8gKGlmIGFueSkuXG4gKlxuICogYGBganNcbiAqIC8vIFVzaW5nIFJlZiBvYmplY3RcbiAqIGNvbnN0IGlucHV0UmVmID0gY3JlYXRlUmVmKCk7XG4gKiByZW5kZXIoaHRtbGA8aW5wdXQgJHtyZWYoaW5wdXRSZWYpfT5gLCBjb250YWluZXIpO1xuICogaW5wdXRSZWYudmFsdWUuZm9jdXMoKTtcbiAqXG4gKiAvLyBVc2luZyBjYWxsYmFja1xuICogY29uc3QgY2FsbGJhY2sgPSAoaW5wdXRFbGVtZW50KSA9PiBpbnB1dEVsZW1lbnQuZm9jdXMoKTtcbiAqIHJlbmRlcihodG1sYDxpbnB1dCAke3JlZihjYWxsYmFjayl9PmAsIGNvbnRhaW5lcik7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNvbnN0IHJlZiA9IGRpcmVjdGl2ZShSZWZEaXJlY3RpdmUpO1xuXG4vKipcbiAqIFRoZSB0eXBlIG9mIHRoZSBjbGFzcyB0aGF0IHBvd2VycyB0aGlzIGRpcmVjdGl2ZS4gTmVjZXNzYXJ5IGZvciBuYW1pbmcgdGhlXG4gKiBkaXJlY3RpdmUncyByZXR1cm4gdHlwZS5cbiAqL1xuZXhwb3J0IHR5cGUge1JlZkRpcmVjdGl2ZX07XG4iLCAiLy8gPGNvcHlyaWdodF9zdGF0ZW1lbnQ+XG4vLyAgIENvZGVCdWRkeTogQSBwcm9ncmFtbWluZyBhc3NpZ25tZW50IG1hbmFnZW1lbnQgc3lzdGVtIGZvciBzaG9ydC1mb3JtIGV4ZXJjaXNlc1xuLy8gICBDb3B5cmlnaHQgKEMpIDIwMjMgU3RlcGhlbiBQaWNjb2xvXG4vLyAgIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5IGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvciAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLiBUaGlzIHByb2dyYW0gaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCwgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4gWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFsb25nIHdpdGggdGhpcyBwcm9ncmFtLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuLy8gPC9jb3B5cmlnaHRfc3RhdGVtZW50PlxuXG5pbXBvcnQgJ0AvY29tcG9uZW50cy9Db2RlRWRpdG9yJztcbmltcG9ydCAnQC9jb21wb25lbnRzL0RpZmZWaWV3ZXInO1xuaW1wb3J0ICdAL2NvbXBvbmVudHMvU3BsaXRQYW5lJztcbmltcG9ydCAnLi9jb21wb25lbnRzL1RpbWVyJztcbmltcG9ydCAnLi9jb21wb25lbnRzL1Rlc3RzUGFuZSc7XG5cbmltcG9ydCB7TGl0RWxlbWVudCwgaHRtbCwgVGVtcGxhdGVSZXN1bHR9IGZyb20gJ2xpdCc7XG5pbXBvcnQge2N1c3RvbUVsZW1lbnQsIHByb3BlcnR5LCBzdGF0ZX0gZnJvbSAnbGl0L2RlY29yYXRvcnMuanMnO1xuaW1wb3J0IHsgdW5zYWZlSFRNTCB9IGZyb20gJ2xpdC9kaXJlY3RpdmVzL3Vuc2FmZS1odG1sLmpzJztcbmltcG9ydCB7IHJlZiB9IGZyb20gJ2xpdC9kaXJlY3RpdmVzL3JlZi5qcyc7XG5pbXBvcnQgQ29kZUVkaXRvciwgeyBVbmRvTWFuYWdlciB9IGZyb20gJ0AvY29tcG9uZW50cy9Db2RlRWRpdG9yJztcbmltcG9ydCBiaW5kIGZyb20gJ0AvdXRpbHMvYmluZCc7XG5pbXBvcnQgeyBjb3B5RXhlcmNpc2UsIHNhdmVQcmVzdWJtaXNzaW9uIH0gZnJvbSAnQC91dGlscy9leGVyY2lzZS1zZXJ2aWNlJztcbmltcG9ydCAqIGFzIGFjZSBmcm9tICdhY2UtYnVpbGRzJztcbmltcG9ydCB7IGRlYm91bmNlIH0gZnJvbSAnQC91dGlscy9kZWJvdW5jZSc7XG5pbXBvcnQgeyBvbmVBdEFUaW1lIH0gZnJvbSAnQC91dGlscy9vbmVBdEFUaW1lJztcblxuY29uc3QgeyBjb2RlX2NvbXBsZXRpb25fcGF0aCwgc3VibWlzc2lvbnMsIGV4ZXJjaXNlX2RldGFpbHMsIHByZXN1Ym1pc3Npb24gfSA9IHdpbmRvdy50ZW1wbGF0ZURhdGE7XG5cbmNvbnN0IGNvdXJzZUlEID0gd2luZG93LnRlbXBsYXRlRGF0YS5jb3Vyc2VfYmFzaWNzLmlkO1xuY29uc3QgYXNzaWdubWVudElEID0gd2luZG93LnRlbXBsYXRlRGF0YS5hc3NpZ25tZW50X2Jhc2ljcy5pZDtcbmNvbnN0IGV4ZXJjaXNlSUQgPSB3aW5kb3cudGVtcGxhdGVEYXRhLmV4ZXJjaXNlX2Jhc2ljcy5pZDtcblxuY29uc3QgU0FWRV9ERUJPVU5DRV9USU1FID0gMjAwMDtcblxuaW50ZXJmYWNlIEZpbGUge1xuXHRuYW1lOiBzdHJpbmc7XG5cdHR5cGU6ICd1c2VyLWNvZGUnIHwgJ2RhdGEtZmlsZSdcbn1cblxuQGN1c3RvbUVsZW1lbnQoJ2V4ZXJjaXNlLWFwcCcpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFeGVyY2lzZUFwcCBleHRlbmRzIExpdEVsZW1lbnQge1xuXHRAc3RhdGUoKVxuXHRwcml2YXRlIHNhdmVkID0gdHJ1ZTtcblxuXHRAc3RhdGUoKVxuXHRwcml2YXRlIGZpbGVzPzogRmlsZVtdO1xuXG5cdEBzdGF0ZSgpXG5cdHByaXZhdGUgc2VsZWN0ZWRGaWxlPzogc3RyaW5nO1xuXG5cdEBzdGF0ZSgpXG5cdHByaXZhdGUgc3VibWlzc2lvbnM6IFN1Ym1pc3Npb25bXSA9IHN1Ym1pc3Npb25zPy5tYXA/LigoczogYW55KSA9PiAoe1xuXHRcdGlkOiBzLmlkLFxuXHRcdGRhdGU6IG5ldyBEYXRlKHMuZGF0ZSksXG5cdFx0Y29kZTogcy5jb2RlLFxuXHRcdHBhc3NlZDogISFzLnBhc3NlZCxcblx0XHR0ZXN0X291dHB1dHM6IHMudGVzdF9vdXRwdXRzLFxuXHR9KSkgPz8gW107XG5cblx0cHJpdmF0ZSBlZGl0b3I/OiBDb2RlRWRpdG9yO1xuXHRwcml2YXRlIHNlc3Npb25zOiB7IFtrZXk6IHN0cmluZ106IGFjZS5BY2UuRWRpdFNlc3Npb24gfSA9IHt9O1xuXHRwcml2YXRlIHVzZXJDb2RlRmlsZU5hbWUgPSAnY29kZSc7XG5cblx0cmVuZGVyKCkge1xuXHRcdGNvbnN0IGFjdGl2ZVN1Ym1pc3Npb24gPSB0aGlzLmFjdGl2ZVN1Ym1pc3Npb247XG5cdFx0cmV0dXJuIGh0bWxgXG5cdFx0XHQ8ZGl2IHN0eWxlPVwiaGVpZ2h0OiAxMDAlO1wiPlxuXHRcdFx0XHQ8c3BsaXQtcGFuZVxuXHRcdFx0XHRcdGRpcmVjdGlvbj1cInZlcnRpY2FsXCJcblx0XHRcdFx0XHRjYWNoZUlEPVwiZXhlcmNpc2UtdmVydGljYWxcIlxuXHRcdFx0XHRcdC5kZWZhdWx0U3BsaXQ9JHswLjN9XG5cdFx0XHRcdFx0Lm1pblNpemVzPSR7WzIwMCwgMzgwXX1cblx0XHRcdFx0XHQuZmlyc3Q9JHtodG1sYFxuXHRcdFx0XHRcdFx0PGluZm9ybWF0aW9uLXBhbmVcblx0XHRcdFx0XHRcdFx0LmZpbGVzPSR7dGhpcy5maWxlc31cblx0XHRcdFx0XHRcdFx0LnN1Ym1pc3Npb25zPSR7dGhpcy5zdWJtaXNzaW9uc31cblx0XHRcdFx0XHRcdFx0LnNlbGVjdGVkRmlsZT0ke3RoaXMuc2VsZWN0ZWRGaWxlfVxuXHRcdFx0XHRcdFx0XHQub25GaWxlU2VsZWN0ZWQ9JHt0aGlzLm9uRmlsZVNlbGVjdGVkfVxuXHRcdFx0XHRcdFx0PjwvaW5mb3JtYXRpb24tcGFuZT5cblx0XHRcdFx0XHRgfVxuXHRcdFx0XHRcdC5zZWNvbmQ9JHtodG1sYFxuXHRcdFx0XHRcdFx0PHNwbGl0LXBhbmVcblx0XHRcdFx0XHRcdFx0ZGlyZWN0aW9uPVwiaG9yaXpvbnRhbFwiXG5cdFx0XHRcdFx0XHRcdGNhY2hlSUQ9XCJleGVyY2lzZS1ob3Jpem9udGFsXCJcblx0XHRcdFx0XHRcdFx0LmRlZmF1bHRTcGxpdD0kezAuN31cblx0XHRcdFx0XHRcdFx0Lm1pblNpemVzPSR7WzEwMCwgMTAwXX1cblx0XHRcdFx0XHRcdFx0LmZpeGVkU2lkZT0nc2Vjb25kJ1xuXHRcdFx0XHRcdFx0XHQuZmlyc3Q9JHtodG1sYFxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJlZGl0LXNlY3Rpb25cIj5cblx0XHRcdFx0XHRcdFx0XHRcdDxjb2RlLWVkaXRvciAke3JlZih0aGlzLnNldEVkaXRvcil9PjwvY29kZS1lZGl0b3I+XG5cdFx0XHRcdFx0XHRcdFx0XHQke2FjdGl2ZVN1Ym1pc3Npb24gPyBodG1sYFxuXHRcdFx0XHRcdFx0XHRcdFx0PGFydGljbGUgY2xhc3M9XCJtZXNzYWdlIGlzLXdhcm5pbmdcIiBzdHlsZT1cIm1hcmdpbi1ib3R0b206IDBweDtcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cIm1lc3NhZ2UtaGVhZGVyXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PHA+WW91IGFyZSB2aWV3aW5nIHN1Ym1pc3Npb24gJHthY3RpdmVTdWJtaXNzaW9uLmlkICsgMX0gZnJvbSAke2FjdGl2ZVN1Ym1pc3Npb24uZGF0ZS50b0xvY2FsZVN0cmluZygpfTwvcD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBzdHlsZT1cImZsZXg6IDE7XCI+PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxidXR0b24gY2xhc3M9XCJidXR0b24gaXMtc21hbGwgb3V0bGluZWRcIiBAY2xpY2s9JHt0aGlzLmNvcHlTdWJtaXNzaW9uQ29kZX0+UmVzdG9yZSB0aGlzIHZlcnNpb248L2J1dHRvbj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8YnV0dG9uXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzdHlsZT1cIm1hcmdpbi1sZWZ0OiA4cHg7XCJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzPVwiYnV0dG9uIGlzLXNtYWxsIG91dGxpbmVkXCJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdEBjbGljaz0keygpID0+IHRoaXMub25GaWxlU2VsZWN0ZWQodGhpcy51c2VyQ29kZUZpbGVOYW1lKX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ+UmV0dXJuIHRvIGxhdGVzdCB2ZXJzaW9uPC9idXR0b24+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0PC9hcnRpY2xlPlxuXHRcdFx0XHRcdFx0XHRcdFx0YCA6IG51bGx9XG5cdFx0XHRcdFx0XHRcdFx0XHQke3RoaXMuc2VsZWN0ZWRGaWxlID09PSB0aGlzLnVzZXJDb2RlRmlsZU5hbWUgPyBcblx0XHRcdFx0XHRcdFx0XHRcdFx0aHRtbGBcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwic2F2ZS1pbmRpY2F0b3JcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCR7dGhpcy5zYXZlZCA/IGh0bWxgXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxpIGNsYXNzPVwiZmFzIGZhLWNoZWNrIGhhcy10b29sdGlwLWxlZnRcIiBkYXRhLXRvb2x0aXA9XCJTYXZlZFwiPjwvaT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGAgOiBodG1sYFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImZhcyBmYS1zcGlubmVyIGZhLXNwaW4gcnVubmluZyBoYXMtdG9vbHRpcC1sZWZ0XCIgZGF0YS10b29sdGlwPVwiU2F2aW5nXCI+PC9pPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YCB9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGBcblx0XHRcdFx0XHRcdFx0XHRcdDogbnVsbH1cblx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0YH1cblx0XHRcdFx0XHRcdFx0LnNlY29uZD0ke2h0bWxgXG5cdFx0XHRcdFx0XHRcdFx0PHRlc3RzLXBhbmUgXG5cdFx0XHRcdFx0XHRcdFx0XHQuZ2V0Q29kZT0ke3RoaXMuZ2V0VXNlckNvZGV9XG5cdFx0XHRcdFx0XHRcdFx0XHQuYWN0aXZlU3VibWlzc2lvbj0ke3RoaXMuYWN0aXZlU3VibWlzc2lvbn1cblx0XHRcdFx0XHRcdFx0XHRcdC5hZGRTdWJtaXNzaW9uPSR7dGhpcy5hZGRTdWJtaXNzaW9ufVxuXHRcdFx0XHRcdFx0XHRcdFx0Lm51bVN1Ym1pc3Npb25zPSR7dGhpcy5zdWJtaXNzaW9ucy5sZW5ndGh9XG5cdFx0XHRcdFx0XHRcdFx0XHQuaGFzUGFzc2luZ1N1Ym1pc3Npb249JHt0aGlzLmhhc1Bhc3NpbmdTdWJtaXNzaW9ufVxuXHRcdFx0XHRcdFx0XHRcdFx0LnNlbGVjdFBhc3NpbmdTdWJtaXNzaW9uPSR7KCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRmb3IgKGxldCBpID0gdGhpcy5zdWJtaXNzaW9ucy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0IHN1Ym1pc3Npb24gPSB0aGlzLnN1Ym1pc3Npb25zW2ldO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChzdWJtaXNzaW9uLnBhc3NlZCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5vbkZpbGVTZWxlY3RlZChgc3VibWlzc2lvbi0ke3N1Ym1pc3Npb24uaWR9YCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdH19XG5cdFx0XHRcdFx0XHRcdFx0PjwvdGVzdHMtcGFuZT5cblx0XHRcdFx0XHRcdFx0YH1cblx0XHRcdFx0XHRcdD5cblx0XHRcdFx0XHRcdDwvc3BsaXQtcGFuZT5cblx0XHRcdFx0XHRgfVxuXHRcdFx0XHQ+PC9zcGxpdC1wYW5lPlxuXHRcdFx0PC9kaXY+XG5cdFx0YDtcblx0fVxuXG5cdEBiaW5kXG5cdHByaXZhdGUgc2V0RWRpdG9yKGVkaXRvcj86IEVsZW1lbnQpIHtcblx0XHRpZiAoZWRpdG9yIGluc3RhbmNlb2YgQ29kZUVkaXRvcikge1xuXHRcdFx0Y29uc3QgZmlyc3RUaW1lID0gIXRoaXMuZWRpdG9yO1xuXHRcdFx0dGhpcy5lZGl0b3IgPSBlZGl0b3I7XG5cblx0XHRcdC8vIHNldCB0aGUgZWRpdG9yJ3MgaW5pdGlhbCB2YWx1ZSBieSBjcmVhdGluZyBhIG5ldyBzZXNzaW9uXG5cdFx0XHRpZiAoZmlyc3RUaW1lKSB7XG5cdFx0XHRcdGxldCB2YWx1ZTogc3RyaW5nID0gJyc7XG5cdFx0XHRcdGlmIChwcmVzdWJtaXNzaW9uKSB7XG5cdFx0XHRcdFx0dmFsdWUgPSBwcmVzdWJtaXNzaW9uXG5cdFx0XHRcdH0gZWxzZSBpZiAoc3VibWlzc2lvbnM/Lmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHR2YWx1ZSA9IHN1Ym1pc3Npb25zW3N1Ym1pc3Npb25zLmxlbmd0aCAtIDFdLmNvZGU7XG5cdFx0XHRcdH0gZWxzZSBpZiAoZXhlcmNpc2VfZGV0YWlscz8uc3RhcnRlcl9jb2RlKSB7XG5cdFx0XHRcdFx0dmFsdWUgPSBleGVyY2lzZV9kZXRhaWxzLnN0YXJ0ZXJfY29kZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRcblx0XHRcdFx0Y29uc3Qgc2Vzc2lvbiA9IG5ldyBhY2UuRWRpdFNlc3Npb24odmFsdWUpO1xuXHRcdFx0XHRzZXNzaW9uLnNldFVuZG9NYW5hZ2VyKG5ldyBVbmRvTWFuYWdlcigpKTtcblx0XHRcdFx0c2Vzc2lvbi5zZXRNb2RlKGNvZGVfY29tcGxldGlvbl9wYXRoKTtcblx0XHRcdFx0Ly8gc2V0dXAgdGhlIGF1dG8gc2F2ZVxuXHRcdFx0XHRjb25zdCBzYXZlQ29kZSA9IGRlYm91bmNlKG9uZUF0QVRpbWUoYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdGF3YWl0IHNhdmVQcmVzdWJtaXNzaW9uKGNvdXJzZUlELCBhc3NpZ25tZW50SUQsIGV4ZXJjaXNlSUQsIHNlc3Npb24uZ2V0VmFsdWUoKSk7XG5cdFx0XHRcdFx0dGhpcy5zYXZlZCA9IHRydWU7XG5cdFx0XHRcdH0pLCBTQVZFX0RFQk9VTkNFX1RJTUUpO1xuXHRcdFx0XHRzZXNzaW9uLm9uKCdjaGFuZ2UnLCAoKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5zYXZlZCA9IGZhbHNlO1xuXHRcdFx0XHRcdHNhdmVDb2RlKCk7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdHRoaXMuZWRpdG9yLnNldFNlc3Npb24oc2Vzc2lvbik7XG5cdFx0XHRcdFxuXHRcdFx0XHRzd2l0Y2ggKGV4ZXJjaXNlX2RldGFpbHMuYmFja19lbmQpIHtcblx0XHRcdFx0XHRjYXNlICdweXRob25fc2NyaXB0Jzpcblx0XHRcdFx0XHRcdHRoaXMudXNlckNvZGVGaWxlTmFtZSA9ICdjb2RlLnB5Jztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMuc2Vzc2lvbnNbdGhpcy51c2VyQ29kZUZpbGVOYW1lXSA9IHNlc3Npb247XG5cdFx0XHRcdGNvbnN0IGZpbGVzOiBGaWxlW10gPSBbe25hbWU6IHRoaXMudXNlckNvZGVGaWxlTmFtZSwgdHlwZTogJ3VzZXItY29kZSd9XTtcblx0XHRcdFx0XHRcblx0XHRcdFx0Zm9yIChjb25zdCBmaWxlTmFtZSBpbiBleGVyY2lzZV9kZXRhaWxzLmRhdGFfZmlsZXMpIHtcblx0XHRcdFx0XHRjb25zdCBmaWxlQ29udGVudHMgPSBleGVyY2lzZV9kZXRhaWxzLmRhdGFfZmlsZXNbZmlsZU5hbWVdO1xuXHRcdFx0XHRcdGNvbnN0IHNlc3Npb24gPSBuZXcgYWNlLkVkaXRTZXNzaW9uKGZpbGVDb250ZW50cyk7XG5cdFx0XHRcdFx0c2Vzc2lvbi5zZXRVbmRvTWFuYWdlcihuZXcgVW5kb01hbmFnZXIoKSk7XG5cdFx0XHRcdFx0Y29uc3QgbWF0Y2ggPSBmaWxlTmFtZS5tYXRjaCgvLipcXC4oLiopJC8pO1xuXHRcdFx0XHRcdGlmIChtYXRjaCAmJiBtYXRjaFsxXSkge1xuXHRcdFx0XHRcdFx0Y29uc3QgZXh0ID0gbWF0Y2hbMV07XG5cdFx0XHRcdFx0XHRzd2l0Y2ggKGV4dCkge1xuXHRcdFx0XHRcdFx0XHRjYXNlICdweSc6XG5cdFx0XHRcdFx0XHRcdFx0c2Vzc2lvbi5zZXRNb2RlKCdhY2UvbW9kZS9weXRob24nKTtcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0dGhpcy5zZXNzaW9uc1tmaWxlTmFtZV0gPSBzZXNzaW9uO1xuXHRcdFx0XHRcdGZpbGVzLnB1c2goe25hbWU6IGZpbGVOYW1lLCB0eXBlOiAnZGF0YS1maWxlJ30pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGZvciAoY29uc3Qgc3VibWlzc2lvbiBvZiB0aGlzLnN1Ym1pc3Npb25zKSB7XG5cdFx0XHRcdFx0Y29uc3Qgc2Vzc2lvbiA9IG5ldyBhY2UuRWRpdFNlc3Npb24oc3VibWlzc2lvbi5jb2RlKTtcblx0XHRcdFx0XHRzZXNzaW9uLnNldE1vZGUoY29kZV9jb21wbGV0aW9uX3BhdGgpO1xuXHRcdFx0XHRcdHRoaXMuc2Vzc2lvbnNbYHN1Ym1pc3Npb24tJHtzdWJtaXNzaW9uLmlkfWBdID0gc2Vzc2lvbjtcblx0XHRcdFx0fVxuXHRcdFx0XHR0aGlzLmZpbGVzID0gZmlsZXM7XG5cdFx0XHRcdHRoaXMuc2VsZWN0ZWRGaWxlID0gdGhpcy51c2VyQ29kZUZpbGVOYW1lO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdEBiaW5kXG5cdHByaXZhdGUgZ2V0VXNlckNvZGUoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gdGhpcy5zZXNzaW9uc1t0aGlzLnVzZXJDb2RlRmlsZU5hbWVdPy5nZXRWYWx1ZSgpO1xuXHR9XG5cblx0QGJpbmRcblx0cHJpdmF0ZSBvbkZpbGVTZWxlY3RlZChuYW1lOiBzdHJpbmcpIHtcblx0XHRjb25zdCBzZXNzaW9uID0gdGhpcy5zZXNzaW9uc1tuYW1lXTtcblx0XHRpZiAoc2Vzc2lvbikge1xuXHRcdFx0dGhpcy5lZGl0b3I/LnNldFNlc3Npb24oc2Vzc2lvbik7XG5cdFx0XHR0aGlzLmVkaXRvcj8uc2V0UmVhZE9ubHkobmFtZSAhPT0gdGhpcy51c2VyQ29kZUZpbGVOYW1lKTtcblx0XHRcdHRoaXMuc2VsZWN0ZWRGaWxlID0gbmFtZTtcblx0XHR9XG5cdH1cblxuXHRAYmluZFxuXHRwcml2YXRlIGFkZFN1Ym1pc3Npb24oc3VibWlzc2lvbjogU3VibWlzc2lvbikge1xuXHRcdHRoaXMuc3VibWlzc2lvbnMgPSBbLi4udGhpcy5zdWJtaXNzaW9ucywgc3VibWlzc2lvbl07XG5cdFx0Y29uc3Qgc2Vzc2lvbiA9IG5ldyBhY2UuRWRpdFNlc3Npb24oc3VibWlzc2lvbi5jb2RlKTtcblx0XHRzZXNzaW9uLnNldE1vZGUoY29kZV9jb21wbGV0aW9uX3BhdGgpO1xuXHRcdHRoaXMuc2Vzc2lvbnNbYHN1Ym1pc3Npb24tJHtzdWJtaXNzaW9uLmlkfWBdID0gc2Vzc2lvbjtcblx0fVxuXG5cdEBiaW5kXG5cdHByaXZhdGUgY29weVN1Ym1pc3Npb25Db2RlKCkge1xuXHRcdGlmICghY29uZmlybShcIkRvIHlvdSB3YW50IHRvIG92ZXJ3cml0ZSB5b3VyIGV4aXN0aW5nIGNvZGU/XCIpKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fTtcblx0XHRjb25zdCBvbGRTZXNzaW9uID0gdGhpcy5zZXNzaW9uc1t0aGlzLnNlbGVjdGVkRmlsZSFdO1xuXHRcdGNvbnN0IG5ld1Nlc3Npb24gPSB0aGlzLnNlc3Npb25zW3RoaXMudXNlckNvZGVGaWxlTmFtZV07XG5cdFx0bmV3U2Vzc2lvbi5zZXRWYWx1ZShvbGRTZXNzaW9uLmdldFZhbHVlKCkpO1xuXHRcdHRoaXMub25GaWxlU2VsZWN0ZWQodGhpcy51c2VyQ29kZUZpbGVOYW1lKTtcblx0fVxuXG5cblx0Z2V0IGhhc1Bhc3NpbmdTdWJtaXNzaW9uKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiAhIXRoaXMuc3VibWlzc2lvbnM/LmZpbmQoKHN1Ym1pc3Npb24pID0+ICEhc3VibWlzc2lvbi5wYXNzZWQpO1xuXHR9XG5cblx0Z2V0IGFjdGl2ZVN1Ym1pc3Npb24oKTogU3VibWlzc2lvbiB8IHVuZGVmaW5lZCB7XG5cdFx0aWYgKHRoaXMuc2VsZWN0ZWRGaWxlPy5zdGFydHNXaXRoKCdzdWJtaXNzaW9uLScpKSB7XG5cdFx0XHRjb25zdCBpZCA9IE51bWJlcih0aGlzLnNlbGVjdGVkRmlsZS5yZXBsYWNlKCdzdWJtaXNzaW9uLScsICcnKSk7XG5cdFx0XHRyZXR1cm4gdGhpcy5zdWJtaXNzaW9ucy5maW5kKChzKSA9PiBzLmlkID09PSBpZCk7XG5cdFx0fVxuXHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdH1cbn1cblxuZW51bSBUYWIge1xuXHRJbmZvcm1hdGlvbiA9ICdJbmZvcm1hdGlvbicsXG5cdENvZGUgPSAnQ29kZScsXG5cdFN1Ym1pc3Npb25zID0gJ1N1Ym1pc3Npb25zJyxcbn1cblxuQGN1c3RvbUVsZW1lbnQoJ2luZm9ybWF0aW9uLXBhbmUnKVxuY2xhc3MgSW5mb3JtYXRpb25QYW5lIGV4dGVuZHMgTGl0RWxlbWVudCB7XG5cdEBwcm9wZXJ0eSgpXG5cdHByaXZhdGUgc3VibWlzc2lvbnM/OiBTdWJtaXNzaW9uW107XG5cblx0QHByb3BlcnR5KClcblx0cHJpdmF0ZSBvbkZpbGVTZWxlY3RlZD86IChuYW1lOiBzdHJpbmcpID0+IHZvaWQ7XG5cblx0QHByb3BlcnR5KClcblx0cHJpdmF0ZSBzZWxlY3RlZEZpbGU/OiBzdHJpbmc7XG5cblx0QHByb3BlcnR5KClcblx0cHJpdmF0ZSBmaWxlcz86IEZpbGVbXTtcblxuXHRAc3RhdGUoKVxuXHRwcml2YXRlIHNob3dIaW50ID0gZmFsc2U7XG5cblx0QHN0YXRlKClcblx0cHJpdmF0ZSBjb3B5TW9kYWxPcGVuID0gZmFsc2U7XG5cblx0QHN0YXRlKClcblx0cHJpdmF0ZSBkZWxldGVNb2RhbE9wZW4gPSBmYWxzZTtcblxuXHRAc3RhdGUoKVxuXHRwcml2YXRlIHNlbGVjdGVkVGFiOiBUYWIgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oYHNlbGVjdGVkLXRhYi0ke2V4ZXJjaXNlSUR9YCkgYXMgVGFiID8/IFRhYi5JbmZvcm1hdGlvbjtcblxuXHRwcml2YXRlIHRhYlBhbmVsczoge1trZXkgaW4gVGFiXTogKCkgPT4gVGVtcGxhdGVSZXN1bHR9ID0ge1xuXHRcdFtUYWIuSW5mb3JtYXRpb25dOiAoKSA9PiBodG1sYFxuXHRcdFx0PGRpdiBjbGFzcz1cImNvbnRlbnQgaXMtbWVkaXVtXCI+XG5cdFx0XHRcdDxoNj4ke3Vuc2FmZUhUTUwod2luZG93LnRlbXBsYXRlRGF0YS5leGVyY2lzZV9iYXNpY3MudGl0bGUpfTwvaDY+XG5cdFx0XHRcdCR7ZXhlcmNpc2VfZGV0YWlscy5lbmFibGVfcGFpcl9wcm9ncmFtbWluZyA/IGh0bWxgXG5cdFx0XHRcdFx0PGRpdiBzdHlsZT1cIm1hcmdpbi1ib3R0b206IDE2cHg7XCI+XG5cdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImZhYiBmYS1wcm9kdWN0LWh1bnRcIj48L2k+XG5cdFx0XHRcdFx0XHQ8ZW0+UGFpciBwcm9ncmFtbWluZyBpcyBlbmFibGVkIGZvciB0aGlzIGV4ZXJjaXNlLjwvZW0+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdGAgOiBudWxsfVxuXHRcdFx0XHQke3Vuc2FmZUhUTUwod2luZG93LnRlbXBsYXRlRGF0YS5leGVyY2lzZV9kZXRhaWxzLmluc3RydWN0aW9ucyl9XG5cdFx0XHQ8L2Rpdj5cblx0XHRcdCR7ZXhlcmNpc2VfZGV0YWlscy5oaW50ID8gaHRtbGBcblx0XHRcdFx0PGRpdj5cblx0XHRcdFx0XHQ8YnV0dG9uIGNsYXNzPVwiYnV0dG9uIGlzLXdhcm5pbmdcIiBAY2xpY2s9JHsoKSA9PiB0aGlzLnNob3dIaW50ID0gIXRoaXMuc2hvd0hpbnR9PlxuXHRcdFx0XHRcdFx0JHt0aGlzLnNob3dIaW50ID8gJ0hpZGUgaGludCcgOiAnU2hvdyBoaW50J31cblx0XHRcdFx0XHQ8L2J1dHRvbj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdCR7dGhpcy5zaG93SGludCA/IGh0bWxgXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNvbnRlbnQgaXMtbWVkaXVtXCIgc3R5bGU9XCJtYXJnaW4tdG9wOiA4cHg7XCI+XG5cdFx0XHRcdFx0XHQke3Vuc2FmZUhUTUwoZXhlcmNpc2VfZGV0YWlscy5oaW50KX1cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0YCA6IG51bGx9XG5cdFx0XHRgIDogbnVsbH1cblx0XHRgLFxuXHRcdFtUYWIuQ29kZV06ICgpID0+IGh0bWxgXG5cdFx0XHQ8ZGl2IGNsYXNzPVwiZmlsZS1saXN0IGNvbnRlbnQgaXMtbWVkaXVtXCI+XG5cdFx0XHRcdDxoNj5GaWxlczwvaDY+XG5cdFx0XHRcdDxzdHJvbmc+VXNlciBjb2RlOjwvc3Ryb25nPlxuXHRcdFx0XHQke3RoaXMuZmlsZXM/LmZpbHRlcigoZmlsZSkgPT4gZmlsZS50eXBlID09PSAndXNlci1jb2RlJykubWFwKGZpbGUgPT4gaHRtbGBcblx0XHRcdFx0XHQ8c3BhblxuXHRcdFx0XHRcdFx0Y2xhc3M9XCJmaWxlLWxpc3QtaXRlbSR7dGhpcy5zZWxlY3RlZEZpbGUgPT09IGZpbGUubmFtZSA/ICcgYWN0aXZlJyA6ICcnfVwiXG5cdFx0XHRcdFx0XHRAY2xpY2s9JHsoKSA9PiB0aGlzLm9uRmlsZVNlbGVjdGVkPy4oZmlsZS5uYW1lKX1cblx0XHRcdFx0XHQ+JHtmaWxlLm5hbWV9PC9zcGFuPlxuXHRcdFx0XHRgKX1cblx0XHRcdFx0JHt0aGlzLmhhc0RhdGFGaWxlcyA/IGh0bWxgXG5cdFx0XHRcdFx0PHN0cm9uZyBjbGFzcz1cImZpbGUtaGVhZGVyXCI+RGF0YSBmaWxlczo8L3N0cm9uZz5cblx0XHRcdFx0XHQke3RoaXMuZmlsZXM/LmZpbHRlcigoZmlsZSkgPT4gZmlsZS50eXBlID09PSAnZGF0YS1maWxlJykubWFwKGZpbGUgPT4gaHRtbGBcblx0XHRcdFx0XHRcdDxzcGFuXG5cdFx0XHRcdFx0XHRcdGNsYXNzPVwiZmlsZS1saXN0LWl0ZW0ke3RoaXMuc2VsZWN0ZWRGaWxlID09PSBmaWxlLm5hbWUgPyAnIGFjdGl2ZScgOiAnJ31cIlxuXHRcdFx0XHRcdFx0XHRAY2xpY2s9JHsoKSA9PiB0aGlzLm9uRmlsZVNlbGVjdGVkPy4oZmlsZS5uYW1lKX1cblx0XHRcdFx0XHRcdD4ke2ZpbGUubmFtZX08L3NwYW4+XG5cdFx0XHRcdFx0YCl9XG5cdFx0XHRcdGAgOiBudWxsfVxuXHRcdFx0PC9kaXY+XG5cdFx0YCxcblx0XHRbVGFiLlN1Ym1pc3Npb25zXTogKCkgPT4gaHRtbGBcblx0XHRcdDxkaXYgY2xhc3M9XCJzdWJtaXNzaW9uLWxpc3QgY29udGVudCBpcy1tZWRpdW1cIj5cblx0XHRcdFx0PGg2PlN1Ym1pc3Npb25zPC9oNj5cblx0XHRcdFx0JHt0aGlzLnN1Ym1pc3Npb25zPy5tYXAoKHN1Ym1pc3Npb24sIGkpID0+IGh0bWxgXG5cdFx0XHRcdFx0PHNwYW5cblx0XHRcdFx0XHRcdGNsYXNzPVwic3VibWlzc2lvbiAke3N1Ym1pc3Npb24ucGFzc2VkID8gJ3Bhc3NlZCcgOiAnZmFpbGVkJ30ke3RoaXMuc2VsZWN0ZWRGaWxlID09PSBgc3VibWlzc2lvbi0ke3N1Ym1pc3Npb24uaWR9YCA/ICcgc2VsZWN0ZWQnIDogJyd9XCJcblx0XHRcdFx0XHRcdEBjbGljaz0keygpID0+IHRoaXMub25GaWxlU2VsZWN0ZWQ/Lihgc3VibWlzc2lvbi0ke3N1Ym1pc3Npb24uaWR9YCl9XG5cdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0JHtpICsgMX0uICR7c3VibWlzc2lvbi5kYXRlLnRvTG9jYWxlU3RyaW5nKCl9XG5cdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRgKX1cblx0XHRcdDwvZGl2PlxuXHRcdGAsXG5cdH1cblxuXHRwcml2YXRlIHRhYkljb25zOiB7W2tleSBpbiBUYWJdOiBzdHJpbmd9ID0ge1xuXHRcdFtUYWIuSW5mb3JtYXRpb25dOiAnZmFzIGZhLWluZm8tY2lyY2xlJyxcblx0XHRbVGFiLkNvZGVdOiAnZmFzIGZhLWZvbGRlcicsXG5cdFx0W1RhYi5TdWJtaXNzaW9uc106ICdmYXMgZmEtaGlzdG9yeScsXG5cdH1cblxuXHRwcml2YXRlIHRhYlRpdGxlczoge1trZXkgaW4gVGFiXTogc3RyaW5nfSA9IHtcblx0XHRbVGFiLkluZm9ybWF0aW9uXTogJ0luc3RydWN0aW9ucycsXG5cdFx0W1RhYi5Db2RlXTogJ0ZpbGVzJyxcblx0XHRbVGFiLlN1Ym1pc3Npb25zXTogJ1N1Ym1pc3Npb25zJyxcblx0fVxuXG5cdHBhbmVsT3JkZXI6IFRhYltdID0gW1RhYi5JbmZvcm1hdGlvbiwgVGFiLkNvZGUsIFRhYi5TdWJtaXNzaW9uc107XG5cblx0cmVuZGVyKCkge1xuXHRcdHJldHVybiBodG1sYFxuXHRcdFx0PGRpdiBjbGFzcz1cImxlZnQtcGFuZWxcIj5cblx0XHRcdFx0PGRpdiBjbGFzcz1cInRhYi1iYXJcIj5cblx0XHRcdFx0XHQke3RoaXMucGFuZWxPcmRlci5tYXAoKHRhYikgPT4gaHRtbGBcblx0XHRcdFx0XHRcdDxidXR0b25cblx0XHRcdFx0XHRcdFx0Y2xhc3M9XCJpY29uLWJ1dHRvbiR7dGhpcy5zZWxlY3RlZFRhYiA9PT0gdGFiID8gJyBhY3RpdmUnIDogJyd9IGhhcy10b29sdGlwLXJpZ2h0XCJcblx0XHRcdFx0XHRcdFx0ZGF0YS10b29sdGlwPVwiJHt0aGlzLnRhYlRpdGxlc1t0YWJdfVwiXG5cdFx0XHRcdFx0XHRcdEBjbGljaz0keygpID0+IHRoaXMuc2VsZWN0VGFiKHRhYil9XG5cdFx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHRcdDxpIGNsYXNzPVwiJHt0aGlzLnRhYkljb25zW3RhYl19XCI+PC9pPlxuXHRcdFx0XHRcdFx0PC9idXR0b24+XG5cdFx0XHRcdFx0YCl9XG5cblx0XHRcdFx0XHQke3dpbmRvdy50ZW1wbGF0ZURhdGEuaXNfYWRtaW5pc3RyYXRvciB8fCB3aW5kb3cudGVtcGxhdGVEYXRhLmlzX2luc3RydWN0b3IgfHwgd2luZG93LnRlbXBsYXRlRGF0YS5pc19hc3Npc3RhbnQgPyBodG1sYFxuXG5cdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cInNwYWNlclwiPjwvc3Bhbj5cblx0XHRcdFx0XHRcdDxidXR0b24gY2xhc3M9XCJpY29uLWJ1dHRvblwiPlxuXHRcdFx0XHRcdFx0XHQ8YSBocmVmPVwiL2VkaXRfZXhlcmNpc2UvJHtjb3Vyc2VJRH0vJHthc3NpZ25tZW50SUR9LyR7ZXhlcmNpc2VJRH1cIj5cblx0XHRcdFx0XHRcdFx0XHQ8aSBjbGFzcz1cImZhcyBmYS1jb2dcIj48L2k+XG5cdFx0XHRcdFx0XHRcdDwvYT5cblx0XHRcdFx0XHRcdDwvYnV0dG9uPlxuXG5cdFx0XHRcdFx0XHQke3RoaXMuY29weU1vZGFsT3BlbiA/IGh0bWxgPGNvcHktZXhlcmNpc2UtbW9kYWwgLm9uQ2xvc2U9JHsoKSA9PiB0aGlzLmNvcHlNb2RhbE9wZW4gPSBmYWxzZX0+PC9jb3B5LWV4ZXJjaXNlLW1vZGFsPmAgOiBudWxsfVxuXHRcdFx0XHRcdFx0PCEtLSBUT0RPOiBjcmVhdGUgdGhlIGRlbGV0ZSBtb2RhbCAtLT5cblxuXHRcdFx0XHRcdGAgOiBudWxsfVxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PGRpdiBjbGFzcz1cImluZm8tcGFuZWxcIj5cblx0XHRcdFx0XHQ8ZXhlcmNpc2UtdGltZXI+PC9leGVyY2lzZS10aW1lcj5cblx0XHRcdFx0XHQke3RoaXMudGFiUGFuZWxzW3RoaXMuc2VsZWN0ZWRUYWJdPy4oKX1cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHQ8L2Rpdj5cblx0XHRgO1xuXHR9XG5cblx0QGJpbmRcblx0c2VsZWN0VGFiKHRhYjogVGFiKSB7XG5cdFx0dGhpcy5zZWxlY3RlZFRhYiA9IHRhYjtcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShgc2VsZWN0ZWQtdGFiLSR7ZXhlcmNpc2VJRH1gLCB0YWIpO1xuXHR9XG5cblx0Z2V0IGhhc0RhdGFGaWxlcygpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdGhpcy5maWxlcz8uZmlsdGVyKChmaWxlKSA9PiBmaWxlLnR5cGUgPT09ICdkYXRhLWZpbGUnKT8ubGVuZ3RoIGFzIG51bWJlciA+IDA7XG5cdH1cbn1cblxuQGN1c3RvbUVsZW1lbnQoJ2NvcHktZXhlcmNpc2UtbW9kYWwnKVxuY2xhc3MgQ29weUV4ZXJjaXNlTW9kYWwgZXh0ZW5kcyBMaXRFbGVtZW50IHtcblxuXHRAcHJvcGVydHkoe3R5cGU6IEJvb2xlYW59KVxuXHRvbkNsb3NlPzogKCkgPT4gdm9pZDtcblxuXHRAc3RhdGUoKVxuXHRlcnJvck1lc3NhZ2UgPSAnJztcblxuXG5cdHJlbmRlcigpIHtcblx0XHRjb25zdCB0aXRsZSA9IHdpbmRvdy50ZW1wbGF0ZURhdGEuZXhlcmNpc2VfYmFzaWNzLnRpdGxlO1xuXHRcdHJldHVybiBodG1sYFxuXHRcdFx0PGRpdiBjbGFzcz1cIm1vZGFsIGlzLWFjdGl2ZVwiPlxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwibW9kYWwtYmFja2dyb3VuZFwiIEBjbGljaz0ke3RoaXMub25DbG9zZX0+PC9kaXY+XG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJtb2RhbC1jYXJkXCI+XG5cdFx0XHRcdFx0PGhlYWRlciBjbGFzcz1cIm1vZGFsLWNhcmQtaGVhZFwiPlxuXHRcdFx0XHRcdFx0PHAgY2xhc3M9XCJtb2RhbC1jYXJkLXRpdGxlXCI+Q29weSBleGVyY2lzZSB3aXRoaW4gdGhlIHNhbWUgYXNzaWdubWVudDo8L3A+XG5cdFx0XHRcdFx0XHQ8YnV0dG9uIGNsYXNzPVwiZGVsZXRlXCIgYXJpYS1sYWJlbD1cImNsb3NlXCIgQGNsaWNrPSR7dGhpcy5vbkNsb3NlfT48L2J1dHRvbj5cblx0XHRcdFx0XHQ8L2hlYWRlcj5cblx0XHRcdFx0XHQ8c2VjdGlvbiBjbGFzcz1cIm1vZGFsLWNhcmQtYm9keVwiPlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZpZWxkXCI+XG5cdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cImxhYmVsXCI+TmV3IHRpdGxlPC9sYWJlbD5cblx0XHRcdFx0XHRcdFx0PGlucHV0IGNsYXNzPVwiaW5wdXQgaXMtbWVkaXVtIGlzLXByaW1hcnlcIiB0eXBlPVwidGV4dFwiIGlkPVwibmV3X3RpdGxlXCIgbmFtZT1cIm5ld190aXRsZVwiIHBsYWNlaG9sZGVyPSR7dGl0bGV9IHZhbHVlPSR7dGl0bGV9PlxuXHRcdFx0XHRcdFx0XHQke3RoaXMuZXJyb3JNZXNzYWdlID8gaHRtbGA8cCBjbGFzcz1cImhlbHAgaXMtZGFuZ2VyXCI+JHt0aGlzLmVycm9yTWVzc2FnZX08L3A+YCA6IG51bGx9XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L3NlY3Rpb24+XG5cdFx0XHRcdFx0PGZvb3RlciBjbGFzcz1cIm1vZGFsLWNhcmQtZm9vdFwiPlxuXHRcdFx0XHRcdFx0PGJ1dHRvbiBjbGFzcz1cImJ1dHRvbiBpcy1wcmltYXJ5XCIgQGNsaWNrPSR7dGhpcy5vblNhdmV9PlNhdmUgY2hhbmdlczwvYnV0dG9uPlxuXHRcdFx0XHRcdDwvZm9vdGVyPlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdDwvZGl2PlxuXHRcdGA7XG5cdH1cblxuXHRAYmluZFxuXHRhc3luYyBvblNhdmUoKSB7XG5cdFx0Y29uc3QgaW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQgPSB0aGlzLnJlbmRlclJvb3QucXVlcnlTZWxlY3RvcignI25ld190aXRsZScpITtcblx0XHRpZiAoIWlucHV0LnZhbHVlKSB7XG5cdFx0XHR0aGlzLmVycm9yTWVzc2FnZSA9ICdOZXcgdGl0bGUgaXMgcmVxdWlyZWQnO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpZiAoaW5wdXQudmFsdWUgPT09IHdpbmRvdy50ZW1wbGF0ZURhdGEuZXhlcmNpc2VfYmFzaWNzLnRpdGxlKSB7XG5cdFx0XHR0aGlzLmVycm9yTWVzc2FnZSA9ICdOZXcgdGl0bGUgaXMgdGhlIHNhbWUgYXMgdGhlIG9sZCB0aXRsZSc7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGNvbnN0IGVycm9yID0gYXdhaXQgY29weUV4ZXJjaXNlKGNvdXJzZUlELCBhc3NpZ25tZW50SUQsIGV4ZXJjaXNlSUQsIGlucHV0LnZhbHVlKTtcblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRoaXMuZXJyb3JNZXNzYWdlID0gZXJyb3I7XG5cdFx0fVxuXHR9XG59XG4iLCAiLy8gPGNvcHlyaWdodF9zdGF0ZW1lbnQ+XG4vLyAgIENvZGVCdWRkeTogQSBwcm9ncmFtbWluZyBhc3NpZ25tZW50IG1hbmFnZW1lbnQgc3lzdGVtIGZvciBzaG9ydC1mb3JtIGV4ZXJjaXNlc1xuLy8gICBDb3B5cmlnaHQgKEMpIDIwMjMgU3RlcGhlbiBQaWNjb2xvXG4vLyAgIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5IGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvciAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLiBUaGlzIHByb2dyYW0gaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCwgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4gWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFsb25nIHdpdGggdGhpcyBwcm9ncmFtLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuLy8gPC9jb3B5cmlnaHRfc3RhdGVtZW50PlxuXG5leHBvcnQgZnVuY3Rpb24gZGVib3VuY2U8RiBleHRlbmRzICgoLi4uYXJnczogYW55KSA9PiBhbnkpPihmdW5jOiBGLCB3YWl0Rm9yOiBudW1iZXIpIHtcbiAgICBsZXQgdGltZW91dDogbnVtYmVyID0gMFxuXG4gICAgY29uc3QgZGVib3VuY2VkID0gKC4uLmFyZ3M6IGFueSkgPT4ge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dClcbiAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4gZnVuYyguLi5hcmdzKSwgd2FpdEZvcilcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGRlYm91bmNlZCBhcyAoLi4uYXJnczogUGFyYW1ldGVyczxGPikgPT4gUmV0dXJuVHlwZTxGPlxufSIsICIvLyA8Y29weXJpZ2h0X3N0YXRlbWVudD5cbi8vICAgQ29kZUJ1ZGR5OiBBIHByb2dyYW1taW5nIGFzc2lnbm1lbnQgbWFuYWdlbWVudCBzeXN0ZW0gZm9yIHNob3J0LWZvcm0gZXhlcmNpc2VzXG4vLyAgIENvcHlyaWdodCAoQykgMjAyMyBTdGVwaGVuIFBpY2NvbG9cbi8vICAgVGhpcyBwcm9ncmFtIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnkgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uIFRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLCBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4vLyA8L2NvcHlyaWdodF9zdGF0ZW1lbnQ+XG5cbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG9uZUF0QVRpbWU8RiBleHRlbmRzICgoLi4uYXJnczogYW55KSA9PiBhbnkpPihmdW5jOiBGKSB7XG5cdGxldCBjdXJyZW50UHJvbWlzZTogUHJvbWlzZTxSZXR1cm5UeXBlPEY+PiB8IG51bGwgPSBudWxsO1xuXHRyZXR1cm4gKGFzeW5jICguLi5hcmdzOiBQYXJhbWV0ZXJzPEY+KSA9PiB7XG5cdFx0d2hpbGUgKGN1cnJlbnRQcm9taXNlICE9PSBudWxsKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRhd2FpdCBjdXJyZW50UHJvbWlzZTtcblx0XHRcdH0gZmluYWxseSB7XG5cdFx0XHRcdC8vIGRvbid0IGNhcmUgaWYgYW4gb2xkIG9uZSBpdCBmYWlsc1xuXHRcdFx0XHQvLyBpdCdsbCBiZSBjYXVnaHQgYnkgd2hvZXZlciBpcyBhd2FpdGluZyBpdFxuXHRcdFx0fVxuXHRcdH1cblx0XHR0cnkge1xuXHRcdFx0Y3VycmVudFByb21pc2UgPSBmdW5jKC4uLmFyZ3MpO1xuXHRcdFx0cmV0dXJuIGF3YWl0IGN1cnJlbnRQcm9taXNlO1xuXHRcdH0gZmluYWxseSB7XG5cdFx0XHRjdXJyZW50UHJvbWlzZSA9IG51bGw7XG5cdFx0fVxuXHR9KTtcbn1cbiIsICIvLyA8Y29weXJpZ2h0X3N0YXRlbWVudD5cbi8vICAgQ29kZUJ1ZGR5OiBBIHByb2dyYW1taW5nIGFzc2lnbm1lbnQgbWFuYWdlbWVudCBzeXN0ZW0gZm9yIHNob3J0LWZvcm0gZXhlcmNpc2VzXG4vLyAgIENvcHlyaWdodCAoQykgMjAyMyBTdGVwaGVuIFBpY2NvbG9cbi8vICAgVGhpcyBwcm9ncmFtIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnkgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uIFRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLCBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4vLyA8L2NvcHlyaWdodF9zdGF0ZW1lbnQ+XG5cbmltcG9ydCAnLi9leGNlcmNpc2Uuc2Nzcyc7XG5pbXBvcnQgJy4uLy4uL2Nzcy9idWxtYS10b29sdGlwLnNjc3MnO1xuaW1wb3J0ICcuLi8uLi9jc3Mvc3R5bGVzLmNzcyc7XG5pbXBvcnQgJy4uLy4uL2Nzcy9zcGEuc2Nzcyc7XG5pbXBvcnQgRXhlcmNpc2VBcHAgZnJvbSAnLi9FeGVyY2lzZUFwcCc7XG5pbXBvcnQge0xpdEVsZW1lbnR9IGZyb20gJ2xpdCc7XG5cbi8vIGRpc2FibGUgc2hhZG93IERPTSBcdUQ4M0RcdURFMjJcbihMaXRFbGVtZW50LnByb3RvdHlwZSBhcyBhbnkpLmNyZWF0ZVJlbmRlclJvb3QgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59XG5cbmxldCBpbml0aWFsaXplZCA9IGZhbHNlO1xuYXN5bmMgZnVuY3Rpb24gaW5pdCgpIHtcblx0aWYgKGluaXRpYWxpemVkKSByZXR1cm47XG5cdGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhcHAnKTtcblx0aWYgKGNvbnRhaW5lcikge1xuXHRcdGluaXRpYWxpemVkID0gdHJ1ZTtcblxuXHRcdGNvbnN0IGFwcCA9IG5ldyBFeGVyY2lzZUFwcCgpO1xuXHRcdGNvbnRhaW5lci5hcHBlbmRDaGlsZChhcHApO1xuXHR9XG5cbn1cblxuaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHtcblx0aW5pdCgpO1xufSBlbHNlIHtcblx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncmVhZHlzdGF0ZWNoYW5nZScsICgpID0+IHtcblx0XHRpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2ludGVyYWN0aXZlJyB8fCBkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKSB7XG5cdFx0XHRpbml0KCk7XG5cdFx0fVxuXHR9KTtcbn1cbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQW9DQSxPQUFDLFdBQVc7QUFFWixZQUFJLGdCQUFnQjtBQUVwQixZQUFJLFNBQVUsV0FBVztBQUFFLGlCQUFPO0FBQUEsUUFBTSxFQUFHO0FBQzNDLFlBQUksQ0FBQyxVQUFVLE9BQU8sVUFBVTtBQUFhLG1CQUFTO0FBR3RELFlBQUksQ0FBQyxpQkFBaUIsT0FBTyxjQUFjO0FBQ3ZDO0FBR0osWUFBSUEsVUFBUyxTQUFTQyxTQUFRLE1BQU0sU0FBUztBQUN6QyxjQUFJLE9BQU9BLFlBQVcsVUFBVTtBQUM1QixnQkFBSUQsUUFBTztBQUNQLGNBQUFBLFFBQU8sU0FBUyxNQUFNLE1BQU0sU0FBUztBQUFBLGlCQUNwQztBQUNELHNCQUFRLE1BQU0saURBQWtEO0FBQ2hFLHNCQUFRLE1BQU07QUFBQSxZQUNsQjtBQUNBO0FBQUEsVUFDSjtBQUNBLGNBQUksVUFBVSxVQUFV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QUEsWUFFQSxlQUFnQjtBQUFBLGNBQ1osR0FBSztBQUFBLGNBQ0wsR0FBSztBQUFBLGNBQ0wsSUFBSztBQUFBLGNBQ0wsSUFBSztBQUFBLGNBQ0wsSUFBSztBQUFBLGNBQ0wsSUFBSztBQUFBLGNBQ0wsSUFBSztBQUFBLGNBQ0wsSUFBSztBQUFBLGNBQ0wsSUFBSztBQUFBLGNBQ0wsSUFBSztBQUFBLGNBQ0wsSUFBSztBQUFBLGNBQ0wsSUFBSztBQUFBLGNBQ0wsSUFBSztBQUFBLGNBQ0wsSUFBSztBQUFBLGNBQ0wsSUFBSztBQUFBLGNBQ0wsSUFBSztBQUFBLGNBQ0wsSUFBSztBQUFBLGNBQ0wsSUFBSztBQUFBLGNBQ0wsSUFBSztBQUFBLGNBQ0wsSUFBSztBQUFBLGNBQ0wsSUFBSztBQUFBLGNBQ0wsS0FBSztBQUFBLGNBQ0wsS0FBSztBQUFBLGNBQ0wsS0FBSztBQUFBLGNBQ0wsS0FBSztBQUFBLGNBQ0wsS0FBSztBQUFBLGNBQ0wsS0FBSztBQUFBLGNBQ0wsT0FBTztBQUFBLGNBQ1AsS0FBSztBQUFBLGNBQ0wsS0FBSztBQUFBLGNBQ0wsS0FBSztBQUFBLGNBQ0wsS0FBSztBQUFBLGNBQ0wsS0FBSztBQUFBLGNBQ0wsS0FBSztBQUFBLGNBQ0wsS0FBSztBQUFBLGNBQ0wsS0FBSztBQUFBLGNBQ0wsS0FBSztBQUFBLGNBQ0wsS0FBSztBQUFBLGNBQ0wsS0FBSztBQUFBLGNBQ0wsS0FBSztBQUFBLGNBQ0wsS0FBSztBQUFBLGNBQ0wsS0FBSztBQUFBLFlBQ1Q7QUFBQSxZQUVBLGdCQUFnQjtBQUFBLGNBQ2IsSUFBSTtBQUFBLGNBQU0sSUFBSTtBQUFBLGNBQU0sSUFBSTtBQUFBLGNBQU0sSUFBSTtBQUFBLGNBQU0sSUFBSTtBQUFBLGNBQU0sSUFBSTtBQUFBLGNBQUssSUFBSztBQUFBLGNBQ2hFLElBQUk7QUFBQSxjQUFNLElBQUk7QUFBQSxjQUFNLElBQUk7QUFBQSxjQUFNLElBQUk7QUFBQSxjQUFNLElBQUk7QUFBQSxjQUFNLElBQUk7QUFBQSxjQUFLLElBQUs7QUFBQSxjQUNoRSxJQUFJO0FB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QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFFO0FBQUEsVUFBRTtBQUFBLFVBQUVBO0FBQUEsVUFDMUM7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUM3QztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQzdDO0FBQUEsVUFBR0Y7QUFBQSxVQUFFQTtBQUFBLFVBQUVBO0FBQUEsVUFBRUE7QUFBQSxVQUFFQTtBQUFBLFVBQUVBO0FBQUEsVUFBRUE7QUFBQSxVQUFFQTtBQUFBLFVBQUVBO0FBQUEsVUFBRUE7QUFBQSxVQUFFQTtBQUFBLFVBQUVBO0FBQUEsVUFBRUE7QUFBQSxVQUFFQTtBQUFBLFVBQUVBO0FBQUEsVUFDL0JBO0FBQUEsVUFBRUE7QUFBQSxVQUFFQTtBQUFBLFVBQUVBO0FBQUEsVUFBRUE7QUFBQSxVQUFFQTtBQUFBLFVBQUVBO0FBQUEsVUFBRUE7QUFBQSxVQUFFQTtBQUFBLFVBQUVBO0FBQUEsVUFBRUE7QUFBQSxVQUFFO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQ2xDO0FBQUEsVUFBR0E7QUFBQSxVQUFFQTtBQUFBLFVBQUVBO0FBQUEsVUFBRUE7QUFBQSxVQUFFQTtBQUFBLFVBQUVBO0FBQUEsVUFBRUE7QUFBQSxVQUFFQTtBQUFBLFVBQUVBO0FBQUEsVUFBRUE7QUFBQSxVQUFFQTtBQUFBLFVBQUVBO0FBQUEsVUFBRUE7QUFBQSxVQUFFQTtBQUFBLFVBQUVBO0FBQUEsVUFDL0JBO0FBQUEsVUFBRUE7QUFBQSxVQUFFQTtBQUFBLFVBQUVBO0FBQUEsVUFBRUE7QUFBQSxVQUFFQTtBQUFBLFVBQUVBO0FBQUEsVUFBRUE7QUFBQSxVQUFFQTtBQUFBLFVBQUVBO0FBQUEsVUFBRUE7QUFBQSxVQUFFO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQ2xDO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFFO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFDNUM7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUM3QztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUdBO0FBQUEsVUFBRTtBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUM1QztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHQTtBQUFBLFVBQUU7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHQTtBQUFBLFVBQUU7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsUUFDM0M7QUFFQSxZQUFJLGVBQWU7QUFBQSxVQUNuQjtBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHQTtBQUFBLFVBQUVDO0FBQUEsVUFDNUM7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUM3QztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUU7QUFBQSxVQUFJO0FBQUEsVUFBSTtBQUFBLFVBQUk7QUFBQSxVQUFJO0FBQUEsVUFBSTtBQUFBLFVBQ2pEO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFDN0M7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUM3QztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7QUFBQSxVQUFHO0FBQUEsVUFBRztBQUFBLFVBQUc7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QUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxJQUFHLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsSUFBRyxJQUFHLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLElBQUcsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLElBQUcsSUFBRyxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxJQUFHLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxJQUFHLEdBQUUsR0FBRSxHQUFFLElBQUcsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsSUFBRyxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLElBQUcsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsSUFBRyxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLElBQUcsR0FBRSxJQUFHLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLElBQUcsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsSUFBRyxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxJQUFHLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLElBQUcsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsSUFBRyxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsSUFBRyxHQUFFLEdBQUUsR0FBRSxHQUFFLElBQUcsR0FBRSxJQUFHLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxJQUFHLEdBQUUsSUFBRyxJQUFHLEdBQUUsSUFBRyxHQUFFLEdBQUUsSUFBRyxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLElBQUcsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxHQUFFLEdBQUUsSUFBRyxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLElBQUcsSUFBRyxHQUFFLElBQUcsSUFBRyxHQUFFLElBQUcsR0FBRSxJQUFHLElBQUcsSUFBRyxHQUFFLEdBQUUsR0FBRSxLQUFJLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLElBQUcsR0FBRSxHQUFFLEdBQUUsSUFBRyxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxJQUFHLEdBQUUsSUFBRyxHQUFFLEdBQUUsR0FBRSxJQUFHLEdBQUUsR0FBRSxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsS0FBSSxHQUFFLElBQUcsR0FBRSxJQUFHLEdBQUUsSUFBRyxJQUFHLElBQUcsR0FBRSxHQUFFLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLEdBQUUsR0FBRSxHQUFFLEdBQUUsSUFBRyxJQUFHLEdBQUUsSUFBRyxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxJQUFHLEdBQUUsR0FBRSxHQUFFLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxJQUFHLElBQUcsSUFBRyxHQUFFLElBQUcsR0FBRSxJQUFHLElBQUcsSUFBRyxHQUFFLEdBQUUsSUFBRyxJQUFHLEdBQUUsSUFBRyxHQUFFLElBQUcsSUFBRyxJQUFHLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxJQUFHLEdBQUUsR0FBRSxJQUFHLEdBQUUsSUFBRyxJQUFHLEdBQUUsR0FBRSxJQUFHLEdBQUUsSUFBRyxJQUFHLEdBQUUsSUFBRyxJQUFHLElBQUcsR0FBRSxHQUFFLEdBQUUsSUFBRyxJQUFHLEdBQUUsR0FBRSxJQUFHLElBQUcsS0FBSSxJQUFHLEtBQUksR0FBRSxHQUFFLEdBQUUsSUFBRyxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxJQUFHLEdBQUUsR0FBRSxHQUFFLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxJQUFHLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxJQUFHLElBQUcsR0FBRSxHQUFFLEdBQUUsSUFBRyxJQUFHLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLElBQUcsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsSUFBRyxHQUFFLE1BQUssSUFBRyxHQUFFLElBQUcsR0FBRSxLQUFJLEdBQUUsR0FBRSxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsR0FBRSxJQUFHLElBQUcsSUFBRyxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLElBQUcsSUFBRyxHQUFFLEtBQUksR0FBRSxJQUFHLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLElBQUcsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLElBQUcsR0FBRSxHQUFFLEdBQUUsSUFBRyxHQUFFLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxLQUFJLE1BQUssSUFBRyxPQUFNLElBQUcsTUFBSyxJQUFHLElBQUcsR0FBRSxLQUFJLEdBQUUsSUFBRyxJQUFHLElBQUcsR0FBRSxJQUFHLElBQUcsR0FBRSxHQUFFLElBQUcsR0FBRSxJQUFHLElBQUcsR0FBRSxJQUFHLEdBQUUsR0FBRSxLQUFJLEdBQUUsR0FBRSxLQUFJLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLEdBQUUsR0FBRSxJQUFHLEdBQUUsR0FBRSxHQUFFLElBQUcsR0FBRSxJQUFHLElBQUcsSUFBRyxHQUFFLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsR0FBRSxHQUFFLEdBQUUsSUFBRyxHQUFFLEdBQUUsR0FBRSxJQUFHLElBQUcsR0FBRSxLQUFJLElBQUcsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLE9BQU0sSUFBRyxJQUFHLEdBQUUsSUFBRyxNQUFLLEtBQUksR0FBRSxJQUFHLEdBQUUsS0FBSSxJQUFHLEdBQUUsSUFBRyxHQUFFLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsR0FBRSxHQUFFLEdBQUUsS0FBSSxJQUFHLEtBQUksSUFBRyxJQUFHLEdBQUUsSUFBRyxJQUFHLElBQUcsR0FBRSxJQUFHLElBQUcsR0FBRSxJQUFHLEdBQUUsSUFBRyxHQUFFLElBQUcsR0FBRSxHQUFFLEtBQUksSUFBRyxH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QUFDaEYsWUFBSSxPQUFPO0FBQ1YsZUFBSyxlQUFlO0FBQUEsUUFDckI7QUFBQSxNQUNEO0FBQUE7QUFBQSxFQUNEO0FBL0NDO0FBQUEsSUFEQ0ssR0FBUyxFQUFDLE1BQU0sUUFBTyxDQUFDO0FBQUEsS0FGcEIsa0JBR0w7QUFHQTtBQUFBLElBRENDLEdBQU07QUFBQSxLQUxGLGtCQU1MO0FBNkJNO0FBQUEsSUFETjtBQUFBLEtBbENLLGtCQW1DQztBQW5DRCxzQkFBTjtBQUFBLElBRENDLEdBQWMscUJBQXFCO0FBQUEsS0FDOUI7OztBRzVZTixFQUFDQyxHQUFXLFVBQWtCLG1CQUFtQixXQUFXO0FBQzNELFdBQU87QUFBQSxFQUNSO0FBRUEsTUFBSSxjQUFjO0FBQ2xCLFdBQWUsT0FBTztBQUFBO0FBQ3JCLFVBQUk7QUFBYTtBQUNqQixZQUFNLFlBQVksU0FBUyxlQUFlLEtBQUs7QUFDL0MsVUFBSSxXQUFXO0FBQ2Qsc0JBQWM7QUFFZCxjQUFNLE1BQU0sSUFBSSxZQUFZO0FBQzVCLGtCQUFVLFlBQVksR0FBRztBQUFBLE1BQzFCO0FBQUEsSUFFRDtBQUFBO0FBRUEsTUFBSSxTQUFTLGVBQWUsWUFBWTtBQUN2QyxTQUFLO0FBQUEsRUFDTixPQUFPO0FBQ04sYUFBUyxpQkFBaUIsb0JBQW9CLE1BQU07QUFDbkQsVUFBSSxTQUFTLGVBQWUsaUJBQWlCLFNBQVMsZUFBZSxZQUFZO0FBQ2hGLGFBQUs7QUFBQSxNQUNOO0FBQUEsSUFDRCxDQUFDO0FBQUEsRUFDRjsiLAogICJuYW1lcyI6IFsiZGVmaW5lIiwgIm1vZHVsZSIsICJpIiwgImwiLCAicmVxdWlyZSIsICJleHBvcnRzIiwgIm5hbWUiLCAibyIsICJrIiwgImEiLCAibiIsICJkb2N1bWVudCIsICJzIiwgIl8iLCAiZSIsICJvbkxvYWQiLCAiY29uZmlnIiwgImFjZSIsICJpbml0IiwgIm0iLCAieCIsICJsb2NhdGlvbiIsICJwIiwgInQiLCAidGV4dCIsICJwYXJlbnROb2RlIiwgImhvc3QiLCAieSIsICJoIiwgInciLCAicG9zIiwgIkwiLCAiUiIsICJTIiwgImMiLCAiciIsICJydWxlIiwgIk1vZGUiLCAiRG9jdW1lbnQiLCAiYiIsICJyYW5nZSIsICJFZGl0U2Vzc2lvbiIsICJkZWx0YSIsICJyb3ciLCAia2V5UGFydCIsICJiaW5kaW5nIiwgImlkIiwgImQiLCAiaXRlbSIsICJlbmFibGUiLCAiVW5kb01hbmFnZXIiLCAiY21wIiwgImNtcDIiLCAiZDIiLCAiaTIiLCAiY3NzIiwgInRva2VucyIsICJsMiIsICJ1IiwgImYiLCAiY3Vyc29yIiwgImxpbmUiLCAicmVxdWlyZSIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJuYW1lIiwgInQiLCAieCIsICJpIiwgImNoIiwgInAiLCAiaWQiLCAidHMiLCAiaTEiLCAidmFsdWUiLCAiYyIsICJzIiwgIm0iLCAiZSIsICJlbCIsICJjb25maWciLCAicmVzdWx0cyIsICJwcmVmaXgiLCAiYSIsICJlZGl0b3IiLCAiYiIsICJpMiIsICJfIiwgImUiLCAidCIsICJuIiwgInIiLCAiX2dldFByb3RvdHlwZU9mIiwgIm8iLCAiX3R5cGVvZjIiLCAiX3R5cGVvZiIsICJfZ2V0IiwgImkiLCAiX3NldFByb3RvdHlwZU9mIiwgInMiLCAibCIsICJhIiwgImMiLCAidSIsICJmIiwgInAiLCAiZCIsICJoIiwgIl8iLCAieSIsICJ2IiwgIm0iLCAiYiIsICJnIiwgInciLCAiayIsICJFIiwgIngiLCAiUCIsICJTIiwgIkMiLCAiQSIsICJnZXQiLCAiVCIsICJMIiwgIk4iLCAiTSIsICJidWxtYUNvbGxhcHNpYmxlIiwgInN1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0cyIsICJ3aW5kb3ciLCAiU2hhZG93Um9vdCIsICJTaGFkeUNTUyIsICJuYXRpdmVTaGFkb3ciLCAiRG9jdW1lbnQiLCAicHJvdG90eXBlIiwgIkNTU1N0eWxlU2hlZXQiLCAiY29uc3RydWN0aW9uVG9rZW4iLCAiU3ltYm9sIiwgImNzc1RhZ0NhY2hlIiwgIldlYWtNYXAiLCAiQ1NTUmVzdWx0IiwgImNvbnN0cnVjdG9yIiwgImNzc1RleHQiLCAic3RyaW5ncyIsICJzYWZlVG9rZW4iLCAidGhpcyIsICJFcnJvciIsICJfc3RyaW5ncyIsICJzdHlsZVNoZWV0IiwgIl9zdHlsZVNoZWV0IiwgImNhY2hlYWJsZSIsICJsZW5ndGgiLCAiZ2V0IiwgInJlcGxhY2VTeW5jIiwgInNldCIsICJ0b1N0cmluZyIsICJ1bnNhZmVDU1MiLCAidmFsdWUiLCAiU3RyaW5nIiwgImFkb3B0U3R5bGVzIiwgInJlbmRlclJvb3QiLCAic3R5bGVzIiwgInN1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0cyIsICJhZG9wdGVkU3R5bGVTaGVldHMiLCAibWFwIiwgInMiLCAiQ1NTU3R5bGVTaGVldCIsICJzdHlsZVNoZWV0IiwgImZvckVhY2giLCAic3R5bGUiLCAiZG9jdW1lbnQiLCAiY3JlYXRlRWxlbWVudCIsICJub25jZSIsICJ3aW5kb3ciLCAic2V0QXR0cmlidXRlIiwgInRleHRDb250ZW50IiwgImNzc1RleHQiLCAiYXBwZW5kQ2hpbGQiLCAiZ2V0Q29tcGF0aWJsZVN0eWxlIiwgInNoZWV0IiwgInJ1bGUiLCAiY3NzUnVsZXMiLCAidW5zYWZlQ1NTIiwgInRydXN0ZWRUeXBlcyIsICJ3aW5kb3ciLCAiZW1wdHlTdHJpbmdGb3JCb29sZWFuQXR0cmlidXRlIiwgImVtcHR5U2NyaXB0IiwgInBvbHlmaWxsU3VwcG9ydCIsICJyZWFjdGl2ZUVsZW1lbnRQb2x5ZmlsbFN1cHBvcnQiLCAiZGVmYXVsdENvbnZlcnRlciIsICJ0b0F0dHJpYnV0ZSIsICJ2YWx1ZSIsICJ0eXBlIiwgIkJvb2xlYW4iLCAiT2JqZWN0IiwgIkFycmF5IiwgIkpTT04iLCAic3RyaW5naWZ5IiwgImZyb21BdHRyaWJ1dGUiLCAiZnJvbVZhbHVlIiwgIk51bWJlciIsICJwYXJzZSIsICJlIiwgIm5vdEVxdWFsIiwgIm9sZCIsICJkZWZhdWx0UHJvcGVydHlEZWNsYXJhdGlvbiIsICJhdHRyaWJ1dGUiLCAiU3RyaW5nIiwgImNvbnZlcnRlciIsICJyZWZsZWN0IiwgImhhc0NoYW5nZWQiLCAiUmVhY3RpdmVFbGVtZW50IiwgIkhUTUxFbGVtZW50IiwgImNvbnN0cnVjdG9yIiwgInN1cGVyIiwgInRoaXMiLCAiX19pbnN0YW5jZVByb3BlcnRpZXMiLCAiTWFwIiwgImlzVXBkYXRlUGVuZGluZyIsICJoYXNVcGRhdGVkIiwgIl9fcmVmbGVjdGluZ1Byb3BlcnR5IiwgIl9pbml0aWFsaXplIiwgInN0YXRpYyIsICJpbml0aWFsaXplciIsICJfYSIsICJfaW5pdGlhbGl6ZXJzIiwgInB1c2giLCAib2JzZXJ2ZWRBdHRyaWJ1dGVzIiwgImZpbmFsaXplIiwgImF0dHJpYnV0ZXMiLCAiZWxlbWVudFByb3BlcnRpZXMiLCAiZm9yRWFjaCIsICJ2IiwgInAiLCAiYXR0ciIsICJfX2F0dHJpYnV0ZU5hbWVGb3JQcm9wZXJ0eSIsICJfX2F0dHJpYnV0ZVRvUHJvcGVydHlNYXAiLCAic2V0IiwgIm5hbWUiLCAib3B0aW9ucyIsICJzdGF0ZSIsICJub0FjY2Vzc29yIiwgInByb3RvdHlwZSIsICJoYXNPd25Qcm9wZXJ0eSIsICJrZXkiLCAiU3ltYm9sIiwgImRlc2NyaXB0b3IiLCAiZ2V0UHJvcGVydHlEZXNjcmlwdG9yIiwgImRlZmluZVByb3BlcnR5IiwgImdldCIsICJvbGRWYWx1ZSIsICJyZXF1ZXN0VXBkYXRlIiwgImNvbmZpZ3VyYWJsZSIsICJlbnVtZXJhYmxlIiwgInN1cGVyQ3RvciIsICJnZXRQcm90b3R5cGVPZiIsICJwcm9wcyIsICJwcm9wZXJ0aWVzIiwgInByb3BLZXlzIiwgImdldE93blByb3BlcnR5TmFtZXMiLCAiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwgImNyZWF0ZVByb3BlcnR5IiwgImVsZW1lbnRTdHlsZXMiLCAiZmluYWxpemVTdHlsZXMiLCAic3R5bGVzIiwgImlzQXJyYXkiLCAiU2V0IiwgImZsYXQiLCAiSW5maW5pdHkiLCAicmV2ZXJzZSIsICJzIiwgInVuc2hpZnQiLCAiZ2V0Q29tcGF0aWJsZVN0eWxlIiwgInRvTG93ZXJDYXNlIiwgIl9fdXBkYXRlUHJvbWlzZSIsICJQcm9taXNlIiwgInJlcyIsICJlbmFibGVVcGRhdGluZyIsICJfJGNoYW5nZWRQcm9wZXJ0aWVzIiwgIl9fc2F2ZUluc3RhbmNlUHJvcGVydGllcyIsICJpIiwgImFkZENvbnRyb2xsZXIiLCAiY29udHJvbGxlciIsICJfX2NvbnRyb2xsZXJzIiwgInJlbmRlclJvb3QiLCAiaXNDb25uZWN0ZWQiLCAiX2IiLCAiaG9zdENvbm5lY3RlZCIsICJjYWxsIiwgInJlbW92ZUNvbnRyb2xsZXIiLCAic3BsaWNlIiwgImluZGV4T2YiLCAiX3YiLCAiY3JlYXRlUmVuZGVyUm9vdCIsICJzaGFkb3dSb290IiwgImF0dGFjaFNoYWRvdyIsICJzaGFkb3dSb290T3B0aW9ucyIsICJhZG9wdFN0eWxlcyIsICJjb25uZWN0ZWRDYWxsYmFjayIsICJjIiwgIl9yZXF1ZXN0ZWRVcGRhdGUiLCAiZGlzY29ubmVjdGVkQ2FsbGJhY2siLCAiaG9zdERpc2Nvbm5lY3RlZCIsICJhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2siLCAiX29sZCIsICJfJGF0dHJpYnV0ZVRvUHJvcGVydHkiLCAiX19wcm9wZXJ0eVRvQXR0cmlidXRlIiwgImF0dHJWYWx1ZSIsICJyZW1vdmVBdHRyaWJ1dGUiLCAic2V0QXR0cmlidXRlIiwgImN0b3IiLCAicHJvcE5hbWUiLCAiZ2V0UHJvcGVydHlPcHRpb25zIiwgInNob3VsZFJlcXVlc3RVcGRhdGUiLCAiaGFzIiwgIl9fcmVmbGVjdGluZ1Byb3BlcnRpZXMiLCAiX19lbnF1ZXVlVXBkYXRlIiwgImFzeW5jIiwgInJlamVjdCIsICJyZXN1bHQiLCAic2NoZWR1bGVVcGRhdGUiLCAicGVyZm9ybVVwZGF0ZSIsICJzaG91bGRVcGRhdGUiLCAiY2hhbmdlZFByb3BlcnRpZXMiLCAid2lsbFVwZGF0ZSIsICJob3N0VXBkYXRlIiwgInVwZGF0ZSIsICJfX21hcmtVcGRhdGVkIiwgIl8kZGlkVXBkYXRlIiwgIl9jaGFuZ2VkUHJvcGVydGllcyIsICJob3N0VXBkYXRlZCIsICJmaXJzdFVwZGF0ZWQiLCAidXBkYXRlZCIsICJ1cGRhdGVDb21wbGV0ZSIsICJnZXRVcGRhdGVDb21wbGV0ZSIsICJrIiwgIm1vZGUiLCAiX2MiLCAiZ2xvYmFsVGhpcyIsICJyZWFjdGl2ZUVsZW1lbnRWZXJzaW9ucyIsICJ0cnVzdGVkVHlwZXMiLCAiZ2xvYmFsVGhpcyIsICJwb2xpY3kiLCAiY3JlYXRlUG9saWN5IiwgImNyZWF0ZUhUTUwiLCAicyIsICJtYXJrZXIiLCAiTWF0aCIsICJyYW5kb20iLCAiU3RyaW5nIiwgInNsaWNlIiwgIm1hcmtlck1hdGNoIiwgIm5vZGVNYXJrZXIiLCAiZCIsICJkb2N1bWVudCIsICJjcmVhdGVNYXJrZXIiLCAidiIsICJjcmVhdGVDb21tZW50IiwgImlzUHJpbWl0aXZlIiwgInZhbHVlIiwgImlzQXJyYXkiLCAiQXJyYXkiLCAiaXNJdGVyYWJsZSIsICJTeW1ib2wiLCAiaXRlcmF0b3IiLCAidGV4dEVuZFJlZ2V4IiwgImNvbW1lbnRFbmRSZWdleCIsICJjb21tZW50MkVuZFJlZ2V4IiwgInRhZ0VuZFJlZ2V4IiwgIlJlZ0V4cCIsICJzaW5nbGVRdW90ZUF0dHJFbmRSZWdleCIsICJkb3VibGVRdW90ZUF0dHJFbmRSZWdleCIsICJyYXdUZXh0RWxlbWVudCIsICJ0YWciLCAidHlwZSIsICJzdHJpbmdzIiwgInZhbHVlcyIsICJfJGxpdFR5cGUkIiwgImh0bWwiLCAic3ZnIiwgIm5vQ2hhbmdlIiwgImZvciIsICJub3RoaW5nIiwgInRlbXBsYXRlQ2FjaGUiLCAiV2Vha01hcCIsICJyZW5kZXIiLCAiY29udGFpbmVyIiwgIm9wdGlvbnMiLCAicGFydE93bmVyTm9kZSIsICJfYSIsICJyZW5kZXJCZWZvcmUiLCAicGFydCIsICJlbmROb2RlIiwgIl9iIiwgIkNoaWxkUGFydCIsICJpbnNlcnRCZWZvcmUiLCAiXyRzZXRWYWx1ZSIsICJ3YWxrZXIiLCAiY3JlYXRlVHJlZVdhbGtlciIsICJnZXRUZW1wbGF0ZUh0bWwiLCAibCIsICJsZW5ndGgiLCAiYXR0ck5hbWVzIiwgInJhd1RleHRFbmRSZWdleCIsICJyZWdleCIsICJpIiwgImF0dHJOYW1lIiwgIm1hdGNoIiwgImF0dHJOYW1lRW5kSW5kZXgiLCAibGFzdEluZGV4IiwgImV4ZWMiLCAidGVzdCIsICJlbmQiLCAic3RhcnRzV2l0aCIsICJwdXNoIiwgInVuZGVmaW5lZCIsICJodG1sUmVzdWx0IiwgImhhc093blByb3BlcnR5IiwgIkVycm9yIiwgIlRlbXBsYXRlIiwgImNvbnN0cnVjdG9yIiwgIm5vZGUiLCAidGhpcyIsICJwYXJ0cyIsICJub2RlSW5kZXgiLCAiYXR0ck5hbWVJbmRleCIsICJwYXJ0Q291bnQiLCAiZWwiLCAiY3JlYXRlRWxlbWVudCIsICJjdXJyZW50Tm9kZSIsICJjb250ZW50IiwgInN2Z0VsZW1lbnQiLCAiZmlyc3RDaGlsZCIsICJyZW1vdmUiLCAiYXBwZW5kIiwgImNoaWxkTm9kZXMiLCAibmV4dE5vZGUiLCAibm9kZVR5cGUiLCAiaGFzQXR0cmlidXRlcyIsICJhdHRyc1RvUmVtb3ZlIiwgIm5hbWUiLCAiZ2V0QXR0cmlidXRlTmFtZXMiLCAiZW5kc1dpdGgiLCAicmVhbE5hbWUiLCAic3RhdGljcyIsICJnZXRBdHRyaWJ1dGUiLCAidG9Mb3dlckNhc2UiLCAic3BsaXQiLCAibSIsICJpbmRleCIsICJjdG9yIiwgIlByb3BlcnR5UGFydCIsICJCb29sZWFuQXR0cmlidXRlUGFydCIsICJFdmVudFBhcnQiLCAiQXR0cmlidXRlUGFydCIsICJyZW1vdmVBdHRyaWJ1dGUiLCAidGFnTmFtZSIsICJ0ZXh0Q29udGVudCIsICJlbXB0eVNjcmlwdCIsICJkYXRhIiwgImluZGV4T2YiLCAic3RhdGljIiwgIl9vcHRpb25zIiwgImlubmVySFRNTCIsICJyZXNvbHZlRGlyZWN0aXZlIiwgInBhcmVudCIsICJhdHRyaWJ1dGVJbmRleCIsICJjdXJyZW50RGlyZWN0aXZlIiwgIl9fZGlyZWN0aXZlcyIsICJfX2RpcmVjdGl2ZSIsICJuZXh0RGlyZWN0aXZlQ29uc3RydWN0b3IiLCAiY2FsbCIsICJfJGluaXRpYWxpemUiLCAiX2MiLCAiX2QiLCAiXyRyZXNvbHZlIiwgIlRlbXBsYXRlSW5zdGFuY2UiLCAidGVtcGxhdGUiLCAiX3BhcnRzIiwgIl8kZGlzY29ubmVjdGFibGVDaGlsZHJlbiIsICJfJHRlbXBsYXRlIiwgIl8kcGFyZW50IiwgInBhcmVudE5vZGUiLCAiXyRpc0Nvbm5lY3RlZCIsICJfY2xvbmUiLCAiZnJhZ21lbnQiLCAiY3JlYXRpb25TY29wZSIsICJpbXBvcnROb2RlIiwgInBhcnRJbmRleCIsICJ0ZW1wbGF0ZVBhcnQiLCAibmV4dFNpYmxpbmciLCAiRWxlbWVudFBhcnQiLCAiX3VwZGF0ZSIsICJzdGFydE5vZGUiLCAiXyRjb21taXR0ZWRWYWx1ZSIsICJfJHN0YXJ0Tm9kZSIsICJfJGVuZE5vZGUiLCAiX19pc0Nvbm5lY3RlZCIsICJpc0Nvbm5lY3RlZCIsICJkaXJlY3RpdmVQYXJlbnQiLCAiXyRjbGVhciIsICJfY29tbWl0VGV4dCIsICJfY29tbWl0VGVtcGxhdGVSZXN1bHQiLCAiX2NvbW1pdE5vZGUiLCAiX2NvbW1pdEl0ZXJhYmxlIiwgIl9pbnNlcnQiLCAicmVmIiwgImNyZWF0ZVRleHROb2RlIiwgInJlc3VsdCIsICJfJGdldFRlbXBsYXRlIiwgImgiLCAiaW5zdGFuY2UiLCAiZ2V0IiwgInNldCIsICJpdGVtUGFydHMiLCAiaXRlbVBhcnQiLCAiaXRlbSIsICJzdGFydCIsICJmcm9tIiwgIl8kbm90aWZ5Q29ubmVjdGlvbkNoYW5nZWQiLCAibiIsICJzZXRDb25uZWN0ZWQiLCAiZWxlbWVudCIsICJmaWxsIiwgInZhbHVlSW5kZXgiLCAibm9Db21taXQiLCAiY2hhbmdlIiwgIl9jb21taXRWYWx1ZSIsICJzZXRBdHRyaWJ1dGUiLCAiZW1wdHlTdHJpbmdGb3JCb29sZWFuQXR0cmlidXRlIiwgInN1cGVyIiwgIm5ld0xpc3RlbmVyIiwgIm9sZExpc3RlbmVyIiwgInNob3VsZFJlbW92ZUxpc3RlbmVyIiwgImNhcHR1cmUiLCAib25jZSIsICJwYXNzaXZlIiwgInNob3VsZEFkZExpc3RlbmVyIiwgInJlbW92ZUV2ZW50TGlzdGVuZXIiLCAiYWRkRXZlbnRMaXN0ZW5lciIsICJoYW5kbGVFdmVudCIsICJldmVudCIsICJob3N0IiwgIl8kTEgiLCAiX2JvdW5kQXR0cmlidXRlU3VmZml4IiwgIl9tYXJrZXIiLCAiX21hcmtlck1hdGNoIiwgIl9IVE1MX1JFU1VMVCIsICJfZ2V0VGVtcGxhdGVIdG1sIiwgIl9UZW1wbGF0ZUluc3RhbmNlIiwgIl9pc0l0ZXJhYmxlIiwgIl9yZXNvbHZlRGlyZWN0aXZlIiwgIl9DaGlsZFBhcnQiLCAiX0F0dHJpYnV0ZVBhcnQiLCAiX0Jvb2xlYW5BdHRyaWJ1dGVQYXJ0IiwgIl9FdmVudFBhcnQiLCAiX1Byb3BlcnR5UGFydCIsICJfRWxlbWVudFBhcnQiLCAicG9seWZpbGxTdXBwb3J0IiwgIndpbmRvdyIsICJsaXRIdG1sUG9seWZpbGxTdXBwb3J0IiwgImxpdEh0bWxWZXJzaW9ucyIsICJMaXRFbGVtZW50IiwgIlJlYWN0aXZlRWxlbWVudCIsICJjb25zdHJ1Y3RvciIsICJ0aGlzIiwgInJlbmRlck9wdGlvbnMiLCAiaG9zdCIsICJfX2NoaWxkUGFydCIsICJjcmVhdGVSZW5kZXJSb290IiwgInJlbmRlclJvb3QiLCAic3VwZXIiLCAiX2EiLCAiX2IiLCAicmVuZGVyQmVmb3JlIiwgImZpcnN0Q2hpbGQiLCAidXBkYXRlIiwgImNoYW5nZWRQcm9wZXJ0aWVzIiwgInZhbHVlIiwgInJlbmRlciIsICJoYXNVcGRhdGVkIiwgImlzQ29ubmVjdGVkIiwgImNvbm5lY3RlZENhbGxiYWNrIiwgInNldENvbm5lY3RlZCIsICJkaXNjb25uZWN0ZWRDYWxsYmFjayIsICJub0NoYW5nZSIsICJnbG9iYWxUaGlzIiwgImxpdEVsZW1lbnRIeWRyYXRlU3VwcG9ydCIsICJjYWxsIiwgInBvbHlmaWxsU3VwcG9ydCIsICJsaXRFbGVtZW50UG9seWZpbGxTdXBwb3J0IiwgIl8kY2hhbmdlZFByb3BlcnRpZXMiLCAiX2MiLCAiZ2xvYmFsVGhpcyIsICJsaXRFbGVtZW50VmVyc2lvbnMiLCAicHVzaCIsICJjdXN0b21FbGVtZW50IiwgInRhZ05hbWUiLCAiY2xhc3NPckRlc2NyaXB0b3IiLCAiY2xhenoiLCAid2luZG93IiwgImN1c3RvbUVsZW1lbnRzIiwgImRlZmluZSIsICJkZXNjcmlwdG9yIiwgImtpbmQiLCAiZWxlbWVudHMiLCAiZmluaXNoZXIiLCAic3RhbmRhcmRQcm9wZXJ0eSIsICJvcHRpb25zIiwgImVsZW1lbnQiLCAia2luZCIsICJkZXNjcmlwdG9yIiwgImZpbmlzaGVyIiwgImNsYXp6IiwgImNyZWF0ZVByb3BlcnR5IiwgImtleSIsICJTeW1ib2wiLCAicGxhY2VtZW50IiwgIm9yaWdpbmFsS2V5IiwgImluaXRpYWxpemVyIiwgInRoaXMiLCAiY2FsbCIsICJwcm9wZXJ0eSIsICJwcm90b09yRGVzY3JpcHRvciIsICJuYW1lIiwgInByb3RvIiwgImNvbnN0cnVjdG9yIiwgInN0YXRlIiwgIm9wdGlvbnMiLCAicHJvcGVydHkiLCAiZGVjb3JhdGVQcm9wZXJ0eSIsICJmaW5pc2hlciIsICJkZXNjcmlwdG9yIiwgInByb3RvT3JEZXNjcmlwdG9yIiwgIm5hbWUiLCAia2V5IiwgIl9hIiwgIm9yaWdpbmFsS2V5IiwgImluZm8iLCAidW5kZWZpbmVkIiwgImtpbmQiLCAicGxhY2VtZW50IiwgImN0b3IiLCAiY29uc3RydWN0b3IiLCAiT2JqZWN0IiwgImRlZmluZVByb3BlcnR5IiwgInF1ZXJ5IiwgInNlbGVjdG9yIiwgImNhY2hlIiwgImRlY29yYXRlUHJvcGVydHkiLCAiZGVzY3JpcHRvciIsICJuYW1lIiwgImdldCIsICJfYiIsICJfYSIsICJ0aGlzIiwgInJlbmRlclJvb3QiLCAicXVlcnlTZWxlY3RvciIsICJlbnVtZXJhYmxlIiwgImNvbmZpZ3VyYWJsZSIsICJrZXkiLCAiU3ltYm9sIiwgIm8iLCAidCIsICJzbG90QXNzaWduZWRFbGVtZW50cyIsICJfYSIsICJ3aW5kb3ciLCAiSFRNTFNsb3RFbGVtZW50IiwgInByb3RvdHlwZSIsICJhc3NpZ25lZEVsZW1lbnRzIiwgInNsb3QiLCAib3B0cyIsICJhc3NpZ25lZE5vZGVzIiwgImZpbHRlciIsICJub2RlIiwgIm5vZGVUeXBlIiwgIk5vZGUiLCAiRUxFTUVOVF9OT0RFIiwgImFjZSIsICJzIiwgIl9hIiwgIm4iLCAidyIsICJzIiwgIl9hIiwgIl9iIiwgImUiLCAibiIsICJzIiwgImUiLCAidCIsICJpIiwgIm4iLCAiZSIsICJjb3Vyc2VJRCIsICJhc3NpZ25tZW50SUQiLCAiZXhlcmNpc2VJRCIsICJuYW1lIiwgInMiLCAibiIsICJQYXJ0VHlwZSIsICJBVFRSSUJVVEUiLCAiQ0hJTEQiLCAiUFJPUEVSVFkiLCAiQk9PTEVBTl9BVFRSSUJVVEUiLCAiRVZFTlQiLCAiRUxFTUVOVCIsICJkaXJlY3RpdmUiLCAiYyIsICJ2YWx1ZXMiLCAiXyRsaXREaXJlY3RpdmUkIiwgIkRpcmVjdGl2ZSIsICJjb25zdHJ1Y3RvciIsICJfcGFydEluZm8iLCAiXyRpc0Nvbm5lY3RlZCIsICJ0aGlzIiwgIl8kcGFyZW50IiwgIl8kaW5pdGlhbGl6ZSIsICJwYXJ0IiwgInBhcmVudCIsICJhdHRyaWJ1dGVJbmRleCIsICJfX3BhcnQiLCAiX19hdHRyaWJ1dGVJbmRleCIsICJfJHJlc29sdmUiLCAicHJvcHMiLCAidXBkYXRlIiwgIl9wYXJ0IiwgInJlbmRlciIsICJVbnNhZmVIVE1MRGlyZWN0aXZlIiwgIkRpcmVjdGl2ZSIsICJjb25zdHJ1Y3RvciIsICJwYXJ0SW5mbyIsICJzdXBlciIsICJ0aGlzIiwgIl92YWx1ZSIsICJub3RoaW5nIiwgInR5cGUiLCAiUGFydFR5cGUiLCAiQ0hJTEQiLCAiRXJyb3IiLCAiZGlyZWN0aXZlTmFtZSIsICJyZW5kZXIiLCAidmFsdWUiLCAiX3RlbXBsYXRlUmVzdWx0IiwgIm5vQ2hhbmdlIiwgInN0cmluZ3MiLCAicmF3IiwgIl8kbGl0VHlwZSQiLCAicmVzdWx0VHlwZSIsICJ2YWx1ZXMiLCAidW5zYWZlSFRNTCIsICJkaXJlY3RpdmUiLCAiZXhlcmNpc2VfZGV0YWlscyIsICJjb3Vyc2VfYmFzaWNzIiwgImFzc2lnbm1lbnRfYmFzaWNzIiwgInMiLCAiYSIsICJiIiwgIl9hIiwgIm8iLCAiX2IiLCAiZSIsICJ0IiwgIm4iLCAicyIsICJfYSIsICJidWxtYUNvbGxhcHNpYmxlIiwgIl9iIiwgIm8iLCAiZSIsICJ0IiwgIm4iLCAiX0NoaWxkUGFydCIsICJDaGlsZFBhcnQiLCAiXyRMSCIsICJpc1NpbmdsZUV4cHJlc3Npb24iLCAicGFydCIsICJzdHJpbmdzIiwgIm5vdGlmeUNoaWxkcmVuQ29ubmVjdGVkQ2hhbmdlZCIsICJwYXJlbnQiLCAiaXNDb25uZWN0ZWQiLCAiY2hpbGRyZW4iLCAiXyRkaXNjb25uZWN0YWJsZUNoaWxkcmVuIiwgIm9iaiIsICJfYiIsICJfYSIsICJvIiwgInMiLCAicmVtb3ZlRGlzY29ubmVjdGFibGVGcm9tUGFyZW50IiwgIl8kcGFyZW50IiwgImRlbGV0ZSIsICJzaXplIiwgImFkZERpc2Nvbm5lY3RhYmxlVG9QYXJlbnQiLCAiU2V0IiwgImhhcyIsICJhZGQiLCAiaW5zdGFsbERpc2Nvbm5lY3RBUEkiLCAicmVwYXJlbnREaXNjb25uZWN0YWJsZXMiLCAibmV3UGFyZW50IiwgInRoaXMiLCAibm90aWZ5Q2hpbGRQYXJ0Q29ubmVjdGVkQ2hhbmdlZCIsICJpc0NsZWFyaW5nVmFsdWUiLCAiZnJvbVBhcnRJbmRleCIsICJ2YWx1ZSIsICJfJGNvbW1pdHRlZFZhbHVlIiwgIkFycmF5IiwgImlzQXJyYXkiLCAiaSIsICJsZW5ndGgiLCAidHlwZSIsICJQYXJ0VHlwZSIsICJDSElMRCIsICJfYyIsICJfJG5vdGlmeUNvbm5lY3Rpb25DaGFuZ2VkIiwgIl9kIiwgIl8kcmVwYXJlbnREaXNjb25uZWN0YWJsZXMiLCAiQXN5bmNEaXJlY3RpdmUiLCAiRGlyZWN0aXZlIiwgImNvbnN0cnVjdG9yIiwgIl8kaW5pdGlhbGl6ZSIsICJwYXJ0IiwgImF0dHJpYnV0ZUluZGV4IiwgInN1cGVyIiwgIl8kaXNDb25uZWN0ZWQiLCAiXyRBTyIsICJpc0NsZWFyaW5nRGlyZWN0aXZlIiwgIm4iLCAicmVjb25uZWN0ZWQiLCAiY2FsbCIsICJkaXNjb25uZWN0ZWQiLCAic2V0VmFsdWUiLCAiaXNTaW5nbGVFeHByZXNzaW9uIiwgIl9fcGFydCIsICJfJHNldFZhbHVlIiwgIm5ld1ZhbHVlcyIsICJfX2F0dHJpYnV0ZUluZGV4IiwgImxhc3RFbGVtZW50Rm9yQ29udGV4dEFuZENhbGxiYWNrIiwgIldlYWtNYXAiLCAicmVmIiwgImRpcmVjdGl2ZSIsICJBc3luY0RpcmVjdGl2ZSIsICJyZW5kZXIiLCAiX3JlZiIsICJub3RoaW5nIiwgInVwZGF0ZSIsICJwYXJ0IiwgInJlZkNoYW5nZWQiLCAidGhpcyIsICJfdXBkYXRlUmVmVmFsdWUiLCAidW5kZWZpbmVkIiwgIl9sYXN0RWxlbWVudEZvclJlZiIsICJfZWxlbWVudCIsICJfY29udGV4dCIsICJfYSIsICJvcHRpb25zIiwgImhvc3QiLCAiZWxlbWVudCIsICJjb250ZXh0IiwgImdsb2JhbFRoaXMiLCAibGFzdEVsZW1lbnRGb3JDYWxsYmFjayIsICJnZXQiLCAic2V0IiwgImNhbGwiLCAidmFsdWUiLCAidCIsICJfYiIsICJfYyIsICJkaXNjb25uZWN0ZWQiLCAicmVjb25uZWN0ZWQiLCAiYWNlIiwgImV4ZXJjaXNlX2RldGFpbHMiLCAicyIsICJuIiwgImkiLCAic2Vzc2lvbiIsICJfYSIsICJuYW1lIiwgIl9iIiwgInQiLCAiX2EiLCAicyIsICJvIiwgImV4ZXJjaXNlX2RldGFpbHMiLCAiX2IiLCAiaSIsICJlIiwgInQiLCAibiIsICJzIl0KfQo=
