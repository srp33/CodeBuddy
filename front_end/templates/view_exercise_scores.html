<!-- <copyright_statement>-->
<!--   CodeBuddy: A programming assignment management system for short-form exercises-->
<!--   Copyright (C) 2024 Stephen Piccolo-->
<!--   This program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU Affero General Public License for more details. You should have received a copy of the GNU Affero General Public License along with this program.  If not, see <http://www.gnu.org/licenses/>.-->
<!-- </copyright_statement>-->

{% if len(exercise_scores) > 0 %}
    <h4>Scores for {{ exercise_basics["title"] }}</h4>

    <div class="table-container">
        <table class="table is-striped" id="scores_table">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>ID</th>
                    <th># Submissions</th>
                    <th>Last Submission</th>
                    <th>Score</th>
                </tr>
            </thead>
            <tbody>
                {% for student in exercise_scores %}
                    <tr>
                        <td class="has-text-left">{{ student[1]["name"] }}</td>
                        <td>{{ student[1]["user_id"] }}</td>
                        <td>
                            <a href="/student_exercise/{{ course_basics['id'] }}/{{ assignment_basics['id'] }}/{{ exercise_basics['id'] }}/{{ student[1]['user_id'] }}">{{ student[1]["num_submissions"] }}</a>
                        </td>
                        <td class="has-text-left">
                            <script>
                                document.write(parseDateText("{{ student[1]['last_submission_timestamp'] }}"));
                            </script>
                        </td>
                        <td>
                            {{ round(float(student[1]["score"]), 1) }}%
                        </td>

                    </tr>
                {% end %}  
            </tbody>
        </table>
    </div>
{% else %}
    <h4>No submissions have been made for this exercise.</h4>
{% end %}